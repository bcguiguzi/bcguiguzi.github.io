<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SpringBoot基础 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SpringBoot基础" />
<meta property="og:description" content="Spring Boot基础快速开发 SpringBoot 概述SpringBoot 快速入门快速构建springboot项目(推荐)基于maven搭建SpringBoot工程 SpringBoot 起步依赖原理分析SpringBoot 配置yamlprofile内部配置加载顺序外部配置加载顺序 SpringBoot 整合其他框架SpringBoot整合Junit。SpringBoot整合Redis。SpringBoot整合MyBatis. SpringBoot 项目部署jar包(推荐)war包 SpringBoot 概述 SpringBoot官方开发文档spring boot reference guide
springBoot快速入门指南官方地址
Spring Boot 功能
自动配置
起步依赖(传递依赖):将具备某种功能的坐标打包到一起,并提供一些默认的功能.
辅助功能:内置tomcat等
Spring Boot 并不是对 Spring 功能上的增强，而是提供了一种快速使用 Spring 的方式。
SpringBoot 快速入门 快速构建springboot项目(推荐) 使用springboot构建应用官方地址
快速构建springboot官方网址
基于maven搭建SpringBoot工程 创建Maven项目
导入SpringBoot起步依赖
pom.xml中添加
&lt;groupId&gt;com.emprock&lt;/groupId&gt; &lt;artifactId&gt;springboot_helloworld&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;!-- 从Spring Boot默认继承 --&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.1.8.RELEASE&lt;/version&gt; &lt;/parent&gt; &lt;!-- 为web应用程序添加典型的依赖项 --&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; ​
定义Controller
HelloController类中
package com.emprock.controller; import org.springframework.web.bind.annotation.RequestMapping; import org." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/515c83071cbb5b2c5c535181bc7e03f3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-30T18:32:06+08:00" />
<meta property="article:modified_time" content="2024-01-30T18:32:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SpringBoot基础</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>Spring Boot基础快速开发</h4> 
 <ul><li><ul><li><a href="#SpringBoot__1" rel="nofollow">SpringBoot 概述</a></li><li><a href="#SpringBoot__17" rel="nofollow">SpringBoot 快速入门</a></li><li><ul><li><ul><li><a href="#springboot_19" rel="nofollow">快速构建springboot项目(推荐)</a></li><li><a href="#mavenSpringBoot_30" rel="nofollow">基于maven搭建SpringBoot工程</a></li></ul> 
   </li></ul> 
   </li><li><a href="#SpringBoot__113" rel="nofollow">SpringBoot 起步依赖原理分析</a></li><li><a href="#SpringBoot__125" rel="nofollow">SpringBoot 配置</a></li><li><ul><li><ul><li><a href="#yaml_137" rel="nofollow">yaml</a></li><li><a href="#profile_296" rel="nofollow">profile</a></li><li><a href="#_369" rel="nofollow">内部配置加载顺序</a></li><li><a href="#_385" rel="nofollow">外部配置加载顺序</a></li></ul> 
   </li></ul> 
   </li><li><a href="#SpringBoot__393" rel="nofollow">SpringBoot 整合其他框架</a></li><li><ul><li><ul><li><a href="#SpringBootJunit_395" rel="nofollow">SpringBoot整合Junit。</a></li><li><a href="#SpringBootRedis_453" rel="nofollow">SpringBoot整合Redis。</a></li><li><a href="#SpringBootMyBatis_517" rel="nofollow">SpringBoot整合MyBatis.</a></li></ul> 
   </li></ul> 
   </li><li><a href="#SpringBoot__719" rel="nofollow">SpringBoot 项目部署</a></li><li><ul><li><ul><li><a href="#jar_721" rel="nofollow">jar包(推荐)</a></li><li><a href="#war_753" rel="nofollow">war包</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="SpringBoot__1"></a>SpringBoot 概述</h3> 
<p><a href="https://docs.spring.io/spring-boot/docs/1.1.1.RELEASE/reference/htmlsingle/" rel="nofollow">SpringBoot官方开发文档spring boot reference guide</a></p> 
<p><a href="https://spring.io/quickstart" rel="nofollow">springBoot快速入门指南官方地址</a></p> 
<p>Spring Boot 功能</p> 
<ul><li> <p>自动配置</p> </li><li> <p>起步依赖(传递依赖):将具备某种功能的坐标打包到一起,并提供一些默认的功能.</p> </li><li> <p>辅助功能:内置tomcat等</p> </li></ul> 
<blockquote> 
 <p>Spring Boot 并不是对 Spring 功能上的增强，而是提供了一种快速使用 Spring 的方式。</p> 
</blockquote> 
<h3><a id="SpringBoot__17"></a>SpringBoot 快速入门</h3> 
<h5><a id="springboot_19"></a>快速构建springboot项目(推荐)</h5> 
<p><a href="https://spring.io/guides/gs/spring-boot/" rel="nofollow">使用springboot构建应用官方地址</a></p> 
<p><a href="https://start.spring.io/" rel="nofollow">快速构建springboot官方网址</a></p> 
<p><img src="https://images2.imgbox.com/68/48/Kv43aqTf_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/35/a4/BBfqcoYh_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/72/30/8hOuaYY8_o.jpg" alt="在这里插入图片描述"></p> 
<h5><a id="mavenSpringBoot_30"></a>基于maven搭建SpringBoot工程</h5> 
<ul><li> <p>创建Maven项目<br> <img src="https://images2.imgbox.com/7b/d5/zBPkIKbv_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f8/02/Sh2bJxp2_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/6b/0e/fElugxkQ_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/26/83/ic9lwaMd_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/04/a9/BHfunB7h_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/42/3d/VNxcNDvd_o.jpg" alt="在这里插入图片描述"></p> </li><li> <p>导入SpringBoot起步依赖</p> <p>pom.xml中添加</p> <pre><code class="prism language-java">    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>com<span class="token punctuation">.</span>emprock<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>springboot_helloworld<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">1.0</span><span class="token operator">-</span><span class="token constant">SNAPSHOT</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 从<span class="token class-name">Spring</span> <span class="token class-name">Boot</span>默认继承 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>parent<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>parent<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.1</span><span class="token number">.8</span><span class="token punctuation">.</span><span class="token constant">RELEASE</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>parent<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 为web应用程序添加典型的依赖项 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>dependencies<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>web<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">&gt;</span>
</code></pre> <p>​</p> </li><li> <p>定义Controller</p> <p>HelloController类中</p> <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>emprock<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/hello"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>编写引导类</p> <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>emprock</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span>
<span class="token comment">//引导类,项目入口</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloApplication</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">HelloApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <p>​</p> </li><li> <p>启动测试</p> <p>控制台显示Started HelloApplication in 25.596 seconds (JVM running for 33.273)启动成功</p> <p>浏览器网址输入localhost:8080/hello返回hello world则项目成功运行</p> </li></ul> 
<p>遇到的问题:无法导入@SpringBootApplication包</p> 
<p>解决方案:pom.xml中spring-boot-starter-parent版本修改为1.4.0.RELEASE及以上版本</p> 
<h3><a id="SpringBoot__113"></a>SpringBoot 起步依赖原理分析</h3> 
<p>1） spring-boot-starter-parent</p> 
<p>定义了各种技术的版本信息，组合了一套最优搭配的技术版本,不指定版本父类里自动匹配版本,指定版本注意版本冲突问题</p> 
<p>2） spring-boot-starter-web</p> 
<p>在各种starter中，定义了完成该功能需要的坐标合集，其中大部分版本信息来自于父工程。</p> 
<p>我们的工程继承parent，引入starter后，通过依赖传递，就可以简单方便获得需要的jar包，并且不会存在版本冲突等问题。</p> 
<h3><a id="SpringBoot__125"></a>SpringBoot 配置</h3> 
<p>配置文件在resources文件中</p> 
<p>配置文件分类</p> 
<ul><li>SpringBoot是基于约定的，所以很多配置都有默认值，但如果想使用自己的配置替换默认配置的话，就可以使用application.properties(server.port=8080)或者application.yml（application.yaml）(server: port: 8080)进行配置。</li><li>默认配置文件名称：application</li><li>在同一级目录下优先级为：properties &gt; yml &gt; yaml</li></ul> 
<h5><a id="yaml_137"></a>yaml</h5> 
<p>YML文件是以数据为核心的，比传统的xml方式更加简洁。</p> 
<ul><li> <p>大小写敏感</p> </li><li> <p>数据值前边必须有空格，作为分隔符</p> </li><li> <p>使用缩进表示层级关系缩进时不允许使用Tab键，只允许使用空格（各个系统 Tab对应的 空格数目可能不同，导致层次混乱,idea自动将tab转换为空格）。</p> </li><li> <p>缩进的空格数目不重要，只要相同层级的元素左侧对齐即可</p> </li><li> <p>“#” 表示注释，从这个字符一直到行尾，都会被解析器忽略</p> </li></ul> 
<p>例:</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>    
	<span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
    <span class="token key atrule">address</span><span class="token punctuation">:</span> 127.0.0.1
</code></pre> 
<p>YAML：数据格式</p> 
<ul><li> <p>对象(map)：键值对的集合。</p> <pre><code>person:
  name: aaa
#行内写法
person: {name: aaa}
</code></pre> </li><li> <p>数组：一组按次序排列的值</p> </li></ul> 
<pre><code>address:
  - bbb
  - ccc
#行内写法
address: {bbb,ccc}
</code></pre> 
<ul><li>纯量：单个的、不可再分的值</li></ul> 
<pre><code>msg1: 'hello /n world' #单引忽略转义字符
msg2: "hello /n world" #双引识别转义字符
</code></pre> 
<p>YAML：参数引用</p> 
<pre><code>name: lisi 
person:
	name: ${name} # 引用上边定义的name值
</code></pre> 
<p>读取配置文件内容</p> 
<p>1） @Value单个注入</p> 
<pre><code>    @Value("${person.name}")
    private String name;
    @Value("${address[0]}")
    private String address;
    @Value("${msg1}")
    private String msg1;
</code></pre> 
<p>2） Environment注入一个对象</p> 
<pre><code>    @Autowired
    private Environment env;
    @RequestMapping("/hello")
    public String hello(){
        System.out.println(env.getProperty("person.name"));
        System.out.println(env.getProperty("address[0]"));
        System.out.println(env.getProperty("msg1"));
        return "hello world";
    }
</code></pre> 
<p>3） @ConfigurationProperties对象与控制属性的绑定</p> 
<pre><code>//调用类中代码
@Autowired
public Person person; 
</code></pre> 
<pre><code>package com.emprock.springbootinit;
import org.springframework.boot.context.properties.ConfigurationProperties;
import org.springframework.stereotype.Component;
//实体类中代码
@Component
@ConfigurationProperties(prefix = "person")
public class Person {

    private String name;
    private int age;
    private String[] address;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public String[] getAddress() {
        return address;
    }

    public void setAddress(String[] address) {
        this.address = address;
    }

    @Override
    public String toString() {
        return "Person{" +
                "name='" + name + '\'' +
                ", age=" + age +
                '}';
    }
}

</code></pre> 
<pre><code>resources下yml类中
person:
  name: aaa
  age: 11
  address:
    - bbb
    - ccc
</code></pre> 
<h5><a id="profile_296"></a>profile</h5> 
<ol><li>profile是用来完成不同环境下，配置动态切换功能的。</li></ol> 
<p>2） profile配置方式</p> 
<ul><li> <p>多profile文件方式：提供多个配置文件，每个代表一种环境。</p> <p>application-dev.properties/yml 开发环境</p> <p>application-test.properties/yml 测试环境</p> <p>application-pro.properties/yml 生产环境</p> <p>在application.properties中调用对应的环境spring.profiles.active=dev</p> </li><li> <p>yml多文档方式：在yml中使用 — 分隔不同配置</p> <pre><code>---
server:
  port: 8081

spring:
  config:
    activate:
      on-profile: test
---
server:
  port: 8082

spring:
  config:
    activate:
      on-profile: dev
---
server:
  port: 8083

spring:
  config:
    activate:
      on-profile: pro
---
#调用配置
spring:
  profiles:
    active: test
</code></pre> </li></ul> 
<p>3） profile激活方式</p> 
<p>配置文件中配置：spring.profiles.active=dev</p> 
<p>虚拟机参数：在VM options 指定：-Dspring.profiles.active=dev</p> 
<p>​ 或在Program argvments指定: --spring.profiles.active=pro</p> 
<p><img src="https://images2.imgbox.com/d2/12/E2iXxove_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/68/53/SUr59fjv_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/39/6a/pBaLskWo_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/2c/35/kIPPir1u_o.jpg" alt="在这里插入图片描述"></p> 
<p>打包后命令行参数(工作中使用)：java –jar .\程序jar包名.jar --spring.profiles.active=pro</p> 
<p>在jar包文件目录空白处按shift+右键,选在此处打开Power shell窗口,执行上面的命令即可</p> 
<p>ctrl+c结束运行</p> 
<h5><a id="_369"></a>内部配置加载顺序</h5> 
<p>Springboot程序启动时，会从以下位置加载配置文件：</p> 
<p>1.file:./config/：当前项目下的/config目录下</p> 
<p>2.file:./ ：当前项目的根目录</p> 
<p>3.classpath:/config/：classpath的/config目录</p> 
<p>4.classpath:/ ：classpath的根目录</p> 
<p>加载顺序为上文的排列顺序，高优先级配置的属性会生效</p> 
<h5><a id="_385"></a>外部配置加载顺序</h5> 
<p>外部配置作用:快速配置项目配置</p> 
<p>通过官网查看外部属性加载顺序： https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html</p> 
<h3><a id="SpringBoot__393"></a>SpringBoot 整合其他框架</h3> 
<h5><a id="SpringBootJunit_395"></a>SpringBoot整合Junit。</h5> 
<ul><li> <p>搭建SpringBoot工程</p> <p>见文章开头</p> </li><li> <p>引入starter-test起步依赖</p> </li></ul> 
<pre><code>        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;junit&lt;/groupId&gt;
            &lt;artifactId&gt;junit&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
</code></pre> 
<ul><li>编写测试类</li></ul> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"add.."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>添加测试相关注解@RunWith(SpringRunner.class)@SpringBootTest(classes = 启动类.class)及编写测试方法</li></ul> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>runner<span class="token punctuation">.</span></span><span class="token class-name">RunWith</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">SpringBootTest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span>junit4<span class="token punctuation">.</span></span><span class="token class-name">SpringRunner</span></span><span class="token punctuation">;</span>
<span class="token comment">//测试类</span>
<span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token comment">//包名路径或子包与测试包路径相同可以不指定启动类</span>
<span class="token annotation punctuation">@SpringBootTest</span><span class="token punctuation">(</span>classes <span class="token operator">=</span> <span class="token class-name">SpringBootInitApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">SpringBootInitApplicationTests</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        userService<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="SpringBootRedis_453"></a>SpringBoot整合Redis。</h5> 
<ul><li>搭建SpringBoot工程</li></ul> 
<p>见文章开头</p> 
<ul><li>引入redis起步依赖</li></ul> 
<pre><code>        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;
        &lt;/dependency&gt;
</code></pre> 
<ul><li>配置redis相关属性</li></ul> 
<pre><code>spring:
  data:
    redis:
      host: 127.0.0.1
      port: 6379
</code></pre> 
<ul><li> <p>注入RedisTemplate模板与编写测试方法，测试</p> <p>运行redis-server.exe</p> <pre><code>import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.data.redis.core.RedisTemplate;
import org.springframework.test.context.junit4.SpringRunner;

@RunWith(SpringRunner.class)
@SpringBootTest
public class SpringBootRedisApplicationTest {

    @Autowired
    private RedisTemplate redisTemplate;

    @Test
    public void testSet(){
        redisTemplate.boundValueOps("name").set("hello");
    }

    @Test
    public void testGet(){
        Object name = redisTemplate.boundValueOps("name").get();
        System.out.println(name);
    }
}
</code></pre> <p>​</p> </li></ul> 
<h5><a id="SpringBootMyBatis_517"></a>SpringBoot整合MyBatis.</h5> 
<ul><li> <p>搭建SpringBoot工程与准备mysql数据</p> <p>cmd运行mysql -uroot -proot</p> <pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token identifier"><span class="token punctuation">`</span>springboot<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">USE</span> <span class="token identifier"><span class="token punctuation">`</span>springboot<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>t_user<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>t_user<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>password<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">3</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COLLATE</span><span class="token operator">=</span>utf8mb4_unicode_ci<span class="token punctuation">;</span>
<span class="token keyword">insert</span>  <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>t_user<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>password<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'lisi'</span><span class="token punctuation">,</span><span class="token string">'234'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p>引入mybatis起步依赖，添加mysql驱动</p> <pre><code>        &lt;!-- mybatis依赖--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;
            &lt;version&gt;3.0.3&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!-- mysql驱动--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;mysql&lt;/groupId&gt;
            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
            &lt;version&gt;5.1.47&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!--可不加,无影响--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis-spring-boot-starter-test&lt;/artifactId&gt;
            &lt;version&gt;3.0.3&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
</code></pre> </li><li> <p>编写DataSource和MyBatis相关配置</p> <pre><code>spring:
  datasource:
    url: jdbc:mysql:///springboot?serverTimezone=UTC
    username: root
    password: root
    driver-class-name: com.mysql.jdbc.Driver
</code></pre> <p>​</p> </li><li> <p>定义表和实体类</p> <pre><code>public class User {
    private int id;
    private String username;
    private String password;

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }

    @Override
    public String toString() {
        return "User{" +
                "id=" + id +
                ", username='" + username + '\'' +
                ", password='" + password + '\'' +
                '}';
    }
}
</code></pre> <p>​</p> </li><li> <p>编写dao和mapper文件/纯注解开发</p> 
  <ul><li>注解开发</li></ul> <pre><code>import com.emprock.springbootmybatis.domain.User;
import org.apache.ibatis.annotations.Mapper;
import org.apache.ibatis.annotations.Select;
import org.springframework.stereotype.Repository;
import java.util.List;
@Mapper
@Repository
public interface UserMapper {
    @Select("select * from t_user")
    public List&lt;User&gt; findAll();
}
</code></pre> 
  <ul><li>mapper文件开发</li></ul> <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>emprock<span class="token punctuation">.</span>springbootmybatis<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Mapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Repository</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Mapper</span>
<span class="token annotation punctuation">@Repository</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserXmlMapper</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <p>​ resources文件下创建mapper文件中创建UserMapper.xml</p> <pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">"-//mybatis.org//DTD Mapper 3.0//EN"</span> <span class="token string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.emprock.springbootmybatis.mapper.UserXmlMapper<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>findAll<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        select * from t_user
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre> <p>​ yml文件中</p> <pre><code>mybatis:
  mapper-locations: classpath:mapper/*Mapper.xml #mapper映射文件路径
  type-aliases-package: com.emprock.springbootmybatis.domain
  # config-location:  #指定mybatis的核心配置文件
</code></pre> <p>​</p> </li><li> <p>测试</p> <pre><code>
import com.emprock.springbootmybatis.domain.User;
import com.emprock.springbootmybatis.mapper.UserMapper;
import com.emprock.springbootmybatis.mapper.UserXmlMapper;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;

import java.util.List;

@RunWith(SpringRunner.class)
@SpringBootTest
public class SpringBootMybatisApplicationTests {
    //注解开发
    @Autowired
    private UserMapper userMapper;

    @Test
    public void testFindAll() {
        List&lt;User&gt; list = userMapper.findAll();
        System.out.println(list);
    }
    //mapper文件开发
    @Autowired
    private UserXmlMapper userXmlMapper;
    @Test
    public void testFindAll2() {
        List&lt;User&gt; list = userXmlMapper.findAll();
        System.out.println(list);
    }
}
</code></pre> </li><li> <p>出现的错误信息</p> <pre><code>org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.emprock.springbootinit.UserMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
</code></pre> <p>解决:版本问题导致,mybatis-spring-boot-starter由1.3.0版本改为3.0.3即可</p> </li></ul> 
<h3><a id="SpringBoot__719"></a>SpringBoot 项目部署</h3> 
<h5><a id="jar_721"></a>jar包(推荐)</h5> 
<p>新建模块</p> 
<p>选择Web &gt; Spring Web</p> 
<p>创建类</p> 
<pre><code>import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RequestMapping("/user")
@RestController
public class UserController {
    @RequestMapping("/findAll")
    public String findAll(){
        return "success";
    }
}
</code></pre> 
<p>右侧maven &gt; Lifecycle &gt; package打包</p> 
<p>运行jar包命令</p> 
<pre><code>java -jar .\springboot-admin-server-0.0.1-SNAPSHOT.jar
</code></pre> 
<h5><a id="war_753"></a>war包</h5> 
<p>pom</p> 
<pre><code>    &lt;!--添加到&lt;properties&gt;上面一行--&gt;
    &lt;packaging&gt;war&lt;/packaging&gt;
</code></pre> 
<p>启动类</p> 
<pre><code>import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.builder.SpringApplicationBuilder;
import org.springframework.boot.web.servlet.support.SpringBootServletInitializer;

@SpringBootApplication
public class SpringbootAdminServerApplication extends SpringBootServletInitializer {

    public static void main(String[] args) {
        SpringApplication.run(SpringbootAdminServerApplication.class, args);
    }

    @Override
    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {
        return builder.sources(SpringbootAdminServerApplication.class);
    }
}
</code></pre> 
<p>右侧maven &gt; Lifecycle &gt; package打包</p> 
<p>将war包放入外置tomcat的webapps中即可</p> 
<p>虚拟目录端口号后面需要加上springboot/</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/707c23684842908ae54b23ddaa6d171f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">AcWIng 901 滑雪 记忆化搜索</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4a89881784e72f69efc9452b7aaf14a9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">解密数据清洗，SQL中的数据分析</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>