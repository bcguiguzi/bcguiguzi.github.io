<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>第 5 章 ROS多坐标系关系查看(自学二刷笔记) - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="第 5 章 ROS多坐标系关系查看(自学二刷笔记)" />
<meta property="og:description" content="重要参考：
课程链接:https://www.bilibili.com/video/BV1Ci4y1L7ZZ
讲义链接:Introduction · Autolabor-ROS机器人入门课程《ROS理论与实践》零基础教程
5.1.5 坐标系关系查看 在机器人系统中，涉及的坐标系有多个，为了方便查看，ros 提供了专门的工具，可以用于生成显示坐标系关系的 pdf 文件，该文件包含树形结构的坐标系图谱。
1.准备 首先调用 rospack find tf2_tools 查看是否包含该功能包，如果没有，请使用如下命令安装：
sudo apt install ros-noetic-tf2-tools 2.使用 2.1生成 pdf 文件 启动坐标系广播程序之后，运行如下命令：
rosrun tf2_tools view_frames.py 会产生类似于下面的日志信息：
[INFO] [1592920556.827549]: Listening to tf data during 5 seconds... [INFO] [1592920561.841536]: Generating graph in frames.pdf file... 查看当前目录会生成一个 frames.pdf 文件
2.2查看文件 可以直接进入目录打开文件，或者调用命令查看文件：evince frames.pdf
内如如图所示：
另请参考:
tf2_tools - ROS Wiki 5.1.7 TF2与TF 1.TF2与TF比较_简介 TF2已经替换了TF，TF2是TF的超集，建议学习 TF2 而非 TF
TF2 功能包的增强了内聚性，TF 与 TF2 所依赖的功能包是不同的，TF 对应的是 tf 包，TF2 对应的是 tf2 和 tf2_ros 包，在 TF2 中不同类型的 API 实现做了分包处理。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/5cacda95ddc49cced197ae5b61ebb5a8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-12T09:17:04+08:00" />
<meta property="article:modified_time" content="2024-03-12T09:17:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">第 5 章 ROS多坐标系关系查看(自学二刷笔记)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span style="color:#ff9900;"><strong>重要参考：</strong></span></p> 
<p><strong>课程链接:</strong><a href="https://www.bilibili.com/video/BV1Ci4y1L7ZZ?from=search&amp;seid=12959207388855423868" rel="nofollow" title="https://www.bilibili.com/video/BV1Ci4y1L7ZZ">https://www.bilibili.com/video/BV1Ci4y1L7ZZ</a></p> 
<p><strong>讲义链接:</strong><a href="http://www.autolabor.com.cn/book/ROSTutorials/index.html" rel="nofollow" title="Introduction · Autolabor-ROS机器人入门课程《ROS理论与实践》零基础教程">Introduction · Autolabor-ROS机器人入门课程《ROS理论与实践》零基础教程</a></p> 
<h4></h4> 
<h4 id="515-坐标系关系查看">5.1.5 坐标系关系查看</h4> 
<p>在机器人系统中，涉及的坐标系有多个，为了方便查看，ros 提供了专门的工具，可以用于生成显示坐标系关系的 pdf 文件，该文件包含树形结构的坐标系图谱。</p> 
<h5 id="61准备">1.准备</h5> 
<p>首先调用 rospack find tf2_tools 查看是否包含该功能包，如果没有，请使用如下命令安装：</p> 
<pre><code class="language-bash">sudo apt install ros-noetic-tf2-tools</code></pre> 
<h5 id="62使用">2.使用</h5> 
<h6 id="621生成-pdf-文件">2.1生成 pdf 文件</h6> 
<p>启动坐标系广播程序之后，运行如下命令：</p> 
<pre><code class="language-bash">rosrun tf2_tools view_frames.py</code></pre> 
<p>会产生类似于下面的日志信息：</p> 
<pre><code class="language-bash">[INFO] [1592920556.827549]: Listening to tf data during 5 seconds...
[INFO] [1592920561.841536]: Generating graph in frames.pdf file...</code></pre> 
<p>查看当前目录会生成一个 frames.pdf 文件</p> 
<h6 id="622查看文件">2.2查看文件</h6> 
<p>可以直接进入目录打开文件，或者调用命令查看文件：evince frames.pdf</p> 
<p>内如如图所示：</p> 
<p class="img-center"><img alt="" height="795" src="https://images2.imgbox.com/83/4e/nLcHqDXZ_o.png" width="1200"></p> 
<hr> 
<p><strong>另请参考:</strong></p> 
<ul><li><a href="http://wiki.ros.org/tf2_tools" rel="nofollow" title="tf2_tools - ROS Wiki">tf2_tools - ROS Wiki</a></li></ul> 
<p></p> 
<h4 id="517-tf2与tf">5.1.7 TF2与TF</h4> 
<h5 id="1tf2与tf比较简介">1.TF2与TF比较_简介</h5> 
<ul><li> <p>TF2已经替换了TF，TF2是TF的超集，建议学习 TF2 而非 TF</p> </li><li> <p>TF2 功能包的增强了内聚性，TF 与 TF2 所依赖的功能包是不同的，TF 对应的是 tf 包，TF2 对应的是 tf2 和 tf2_ros 包，在 TF2 中不同类型的 API 实现做了分包处理。</p> </li><li> <p>TF2 实现效率更高，比如：在TF2 的静态坐标实现、TF2 坐标变换监听器中的 Buffer 实现等</p> </li></ul> 
<h5 id="2tf2与tf比较静态坐标变换演示">2.TF2与TF比较_静态坐标变换演示</h5> 
<p>接下来，我们通过静态坐标变换来演示TF2的实现效率。</p> 
<h6 id="21启动-tf2-与-tf-两个版本的静态坐标变换">2.1启动 TF2 与 TF 两个版本的静态坐标变换</h6> 
<p>TF2 版静态坐标变换：rosrun tf2_ros static_transform_publisher 0 0 0 0 0 0 /base_link /laser</p> 
<p>TF 版静态坐标变换：rosrun tf static_transform_publisher 0 0 0 0 0 0 /base_link /laser 100</p> 
<p>会发现，TF 版本的启动中最后多一个参数，该参数是指定发布频率</p> 
<h6 id="22运行结果比对">2.2运行结果比对</h6> 
<p>使用 rostopic 查看话题，包含 /tf 与 /tf_static ， 前者是 TF 发布的话题，后者是 TF2 发布的话题，分别调用命令打印二者的话题消息</p> 
<p>rostopic echo /tf ：当前会循环输出坐标系信息</p> 
<p>rostopic echo /tf_static ：坐标系信息只有一次</p> 
<h6 id="23结论">2.3结论</h6> 
<p>如果是静态坐标转换，那么不同坐标系之间的相对状态是固定的，既然是固定的，那么没有必要重复发布坐标系的转换消息，很显然的，tf2 实现较之于 tf 更为高效</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/23450be4bbcf1ac12b5881e764866122/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ES6中的Object、apply、call</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ad8123a728d1688b5efa903f71ab34b8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python 导入Excel三维坐标数据 生成三维曲面地形图(体) 5-2、线条平滑曲面且可通过面观察柱体变化(二)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>