<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>FPGA学习记录-Vivado工程创建、仿真、编译 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="FPGA学习记录-Vivado工程创建、仿真、编译" />
<meta property="og:description" content="目录 前言工程创建工程仿真引脚配置编译 前言 本系列文章作为对特权同学《深入浅出玩转FPGA》课程学习的记录，对课程内容进行总结，比记录遇到的问题与解决办法，以此见证个人FPGA学习历程。这篇文章主要对工程的创建、仿真、编译、烧录过程进行总结，不足之处，还请各位在评论区指出，谢谢！
开发板：SF-AT7
软件平台：Vivado 2016.2
工程创建 在创建工程之前建立一个新的文件夹用于存放之后建立的工程，注意路径中不要出现中文、标点符号等，英文、下划线允许出现。如图所示，在myfpga_test下建立at7002的文件夹 - 打开之前安装好的vivado，点击create new project
在弹出的对话框中修改工程名与工程存放的路径，这里将工程路径直接定位到之前新建立的文件夹即可，然后点击next
下一步选择创建RTL project，即为正常的FPGA逻辑设计工程，RTL全拼为Register Transfer Level，为寄存器转换级。在RTL级，集成电路是由一组寄存器和寄存器之间的逻辑操作构成，RTL是用硬件描述语言（Verilog 或VHDL）描述理想达到的功能，不同于门电路，所以我们选择创建RTL 级工程。
下一步是添加HDL源文件，如果已经设计好源文件，点击add source可以直接添加，若没有直接next；
接着添加IP核、约束文件，如果都没有直接跳过点击next（后续可以在工程界面直接添加）；
其次，添加FPGA的型号，这要根据自己手中已有板子型号进行添加，一般型号的确定在板子提供的原理图上有，以本次工程使用的a7板子为例，打开原理图，找到FPGA的型号：XC7A35TFTG256
在搜索框中搜索该型号：（后面的-1、-2表示速度等级，A7速度等级为1，所以选择最下面的FPGA型号）
最后，点击finish，完成工程创建，创建后vivado页面如下：
注意源文件名称要与工程名称保持一致，因为该源文件作为顶层文件，在源文件中完成相应功能描述
工程仿真 当设计文件按照功能要求编写完毕后，进行工程的仿真，在仿真开始之前要有仿真文件，仿真文件对当前设计做验证。若没有仿真文件，右键sim_1,选择add source即可添加，添加方式和添加源文件一样。仿真文件的编写这里不赘述。
源文件和仿真文件准备好后，进行仿真设置，主要是保证仿真顶层模块名称与工程中仿真文件顶层模块名称一致。
右键相应的信号，可以将波形添加到窗口，具体如图所示
点击run all 进行仿真，即可查看波形。
引脚配置 通过仿真观察波形符合功能要求是，就要开始工程综合，将代码烧录到FPGA开发板中看实际的运行效果。首先要进行引脚分配。Vivado中通过xdc文件实现引脚配置，在文件中规定引脚的电平规范与分配对应开发板中实际的引脚，添加约束文件的方式如下图所示。点击【constrain】-》【constrs_1】右键选择add source 即可添加约束文件。引脚分配一定要对照原理图，确保该引脚空闲且满足电平规范。
编译 Vivado的编译主要分为三步。分别为Run Synthesis（综合编译）、Run Implementation（实现编译）、Generate Bitestream（生成bit流），直接点击Generate Bitstreams会顺序执行综合编译与实现编译，生成的bit流可以利用JTEG直接烧录到板子中进行板级调试。
显示编译成功完成，生成bit流。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/1590650479954a53ce4c3afdb9fe48eb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-24T00:22:56+08:00" />
<meta property="article:modified_time" content="2022-02-24T00:22:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">FPGA学习记录-Vivado工程创建、仿真、编译</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">前言</a></li><li><a href="#_8" rel="nofollow">工程创建</a></li><li><a href="#_30" rel="nofollow">工程仿真</a></li><li><a href="#_44" rel="nofollow">引脚配置</a></li><li><a href="#_49" rel="nofollow">编译</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>前言</h2> 
<p><font color="#999AAA">本系列文章作为对特权同学《深入浅出玩转FPGA》课程学习的记录，对课程内容进行总结，比记录遇到的问题与解决办法，以此见证个人FPGA学习历程。这篇文章主要对工程的创建、仿真、编译、烧录过程进行总结，不足之处，还请各位在评论区指出，谢谢！<br> 开发板：SF-AT7<br> 软件平台：Vivado 2016.2</font></p> 
<hr color="#000000" size='1"'> 
<h2><a id="_8"></a>工程创建</h2> 
<ul><li>在创建工程之前建立一个新的文件夹用于存放之后建立的工程，注意路径中不要出现中文、标点符号等，英文、下划线允许出现。</li><li><img src="https://images2.imgbox.com/83/e0/PKd4PmaN_o.png" alt="">如图所示，在myfpga_test下建立at7002的文件夹 - 打开之前安装好的vivado，点击create new project<img src="https://images2.imgbox.com/e5/d7/t2mbABiX_o.png" alt="在这里插入图片描述"><br> 在弹出的对话框中修改工程名与工程存放的路径，这里将工程路径直接定位到之前新建立的文件夹即可，然后点击next<br> <img src="https://images2.imgbox.com/f0/a3/VzIcwvLN_o.png" alt="在这里插入图片描述"><br> 下一步选择创建RTL project，即为正常的FPGA逻辑设计工程，RTL全拼为Register Transfer Level，为寄存器转换级。在RTL级，集成电路是由一组寄存器和寄存器之间的逻辑操作构成，RTL是用硬件描述语言（Verilog 或VHDL）描述理想达到的功能，不同于门电路，所以我们选择创建RTL 级工程。<br> <img src="https://images2.imgbox.com/58/80/K1283QmP_o.png" alt="在这里插入图片描述"><br> 下一步是添加HDL源文件，如果已经设计好源文件，点击add source可以直接添加，若没有直接next；<br> 接着添加IP核、约束文件，如果都没有直接跳过点击next（后续可以在工程界面直接添加）；<br> <img src="https://images2.imgbox.com/e3/7d/RTq2bMh5_o.png" alt="在这里插入图片描述"><br> 其次，添加FPGA的型号，这要根据自己手中已有板子型号进行添加，一般型号的确定在板子提供的原理图上有，以本次工程使用的a7板子为例，打开原理图，找到FPGA的型号：XC7A35TFTG256<br> <img src="https://images2.imgbox.com/b7/06/JIJ9DS6g_o.png" alt="在这里插入图片描述"><br> 在搜索框中搜索该型号：（后面的-1、-2表示速度等级，A7速度等级为1，所以选择最下面的FPGA型号）<br> <img src="https://images2.imgbox.com/a6/7c/sLViReKF_o.png" alt="在这里插入图片描述"><br> 最后，点击finish，完成工程创建，创建后vivado页面如下：<br> <img src="https://images2.imgbox.com/1c/d5/0mmiq6gT_o.png" alt="在这里插入图片描述"></li></ul> 
<p>注意源文件名称要与工程名称保持一致，因为该源文件作为顶层文件，在源文件中完成相应功能描述</p> 
<hr color="#000000" size='1"'> 
<h2><a id="_30"></a>工程仿真</h2> 
<p>当设计文件按照功能要求编写完毕后，进行工程的仿真，在仿真开始之前要有仿真文件，仿真文件对当前设计做验证。若没有仿真文件，右键sim_1,选择add source即可添加，添加方式和添加源文件一样。仿真文件的编写这里不赘述。<br> <img src="https://images2.imgbox.com/de/d1/V02vU8FE_o.png" alt="在这里插入图片描述"><br> 源文件和仿真文件准备好后，进行仿真设置，主要是保证仿真顶层模块名称与工程中仿真文件顶层模块名称一致。<br> <img src="https://images2.imgbox.com/de/b5/3vNZUkb9_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/48/62/cDqA8SDs_o.png" alt="在这里插入图片描述"><br> 右键相应的信号，可以将波形添加到窗口，具体如图所示<br> <img src="https://images2.imgbox.com/aa/68/lJQWwwuM_o.png" alt="在这里插入图片描述"><br> 点击run all 进行仿真，即可查看波形。<br> <img src="https://images2.imgbox.com/48/0b/SevlGfIZ_o.png" alt="在这里插入图片描述"></p> 
<hr color="#000000" size='1"'> 
<h2><a id="_44"></a>引脚配置</h2> 
<p>通过仿真观察波形符合功能要求是，就要开始工程综合，将代码烧录到FPGA开发板中看实际的运行效果。首先要进行引脚分配。Vivado中通过xdc文件实现引脚配置，在文件中规定引脚的电平规范与分配对应开发板中实际的引脚，添加约束文件的方式如下图所示。点击【constrain】-》【constrs_1】右键选择add source 即可添加约束文件。引脚分配一定要对照原理图，确保该引脚空闲且满足电平规范。<br> <img src="https://images2.imgbox.com/76/f1/wTs5nCMz_o.png" alt="在这里插入图片描述"></p> 
<hr color="#000000" size='1"'> 
<h2><a id="_49"></a>编译</h2> 
<p>Vivado的编译主要分为三步。分别为Run Synthesis（综合编译）、Run Implementation（实现编译）、Generate Bitestream（生成bit流），直接点击Generate Bitstreams会顺序执行综合编译与实现编译，生成的bit流可以利用JTEG直接烧录到板子中进行板级调试。<br> <img src="https://images2.imgbox.com/c3/45/wbmvXdDv_o.png" alt="在这里插入图片描述"><br> 显示编译成功完成，生成bit流。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a37f41c42f2bc18fe4686203353a08b6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">动态规划问题经典例题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4d169350ba6dce70dd9cd932a21ae1af/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">H5页面获取微信用户openid极简攻略</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>