<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Unity入门学习 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Unity入门学习" />
<meta property="og:description" content="目录 Unity环境搭建Unity引擎是什么软件下载和安装工程文件夹 Unity界面基础Scene场景和Hierarchy层级窗口Game游戏和Project工程Inspector和Console工具栏和父子关系 Unity工作原理反射机制和游戏场景预设体和资源包的导入导出 Unity脚本基础脚本基本规则生命周期函数Inspector窗口可编辑的变量MonoBehavior中的重要内容 Unity重要组件和API最小单位GameObjectGameObject中的成员变量GameObject静态方法GameObject中的成员方法 时间相关Time必不可少的Transform--位置和位移Vector3基础位置 角度和旋转缩放和看向父子关系坐标转换输入相关Input鼠标键盘输入触摸手柄陀螺仪 屏幕相关Screen必不可少的摄像机CameraCamera可编辑参数Camera代码相关 核心系统光源系统基础光源组件光面板相关 物理系统之碰撞检测刚体碰撞器物理材质碰撞检测函数刚体加力 音效系统音频文件导入音频源和音频监听脚本代码控制音频源麦克风输入相关 Unity环境搭建 Unity编辑器使用中文语言包/汉化流程演示
Unity引擎是什么 什么时游戏引擎？
游戏引擎是指一些已编写好的可编辑电脑游戏系统或者一些交互式实时图像应用程序的核心组件。这些系统为游戏设计者提供各种编写游戏所需的各种工具，其目的在于让游戏设计者能容易和快速地做出游戏程序而不用从零开始。
游戏引擎对于我们的意义
1、降低做游戏的门槛
2、提升游戏开发的效率
如何降低开发门槛？
以前做游戏：物理、数学、计算机图形学、计算机原理、操作系统等等与多种程序语言。
现在做游戏：游戏引擎的使用和一种程序语言。
如何提升开发效率？
以前做游戏：图形渲染、物理系统、离子系统、寻路系统、多平台开发等等与上层逻辑。
现在做游戏：游戏引擎和上层逻辑。
如何学习游戏引擎？
1、学习引擎用于开发的主要语言。
2、学习引擎的软件操作。
3、学习引擎提供的API和核心系统
如何学习Unity？
Unity相当于就是一个游戏开发工具包，我们只要学会使用工具包中的各个工具即可，而使用这些工具的媒介就是我们已经学习完毕的C#程序语言。
软件下载和安装 软件下载
Unity官网（访问较慢）
中国官网
注册一个账号，然后下载。
版本选择
1、长期支持版：又称LTS版，适用于希望长时间保持稳定版本的用户。
2、补丁程序版：bug修复版本。
3、Beta版本：包含还未正式发布的新功能。
最新的不是最好的！不管是学习还是开发，都建议使用最稳定的版本。
注意：
一般情况下，Unity版本向下兼容，高版本开低版本工程，问题不大，低版本开高版本工程，会出现兼容问题。
关于版本号：
大版本号.小版本号.bug处理版本号（版本类型后缀） 例如：
2019.4.17f1
2017.2.4p1
2020.2.0b14
软件安装
1、点击“从Unity Hub下载”
2、获取许可证
①打开“偏好设置”
②点击“许可证”–&gt;“添加许可证”–&gt;“获取免费的个人版许可证”。
③在项目中为自己的项目选择合适位置。
④安装编辑器
勾选
工程文件夹 Assets: 工程资源文件夹（美术资源，脚本等）
Library: 库文件夹（Unity自动生成管理）
Logs： 日志文件夹，记录特殊信息（Unity自动生成管理）
obj: 编译产生中间文件（Unity自动生成管理）
Packages: 包配置信息（Unity自动生成管理）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/a6bc9655f0f36e51b19659b080cfefa2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-09T10:21:32+08:00" />
<meta property="article:modified_time" content="2024-02-09T10:21:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Unity入门学习</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#Unity_1" rel="nofollow">Unity环境搭建</a></li><li><ul><li><a href="#Unity_3" rel="nofollow">Unity引擎是什么</a></li><li><a href="#_21" rel="nofollow">软件下载和安装</a></li><li><a href="#_55" rel="nofollow">工程文件夹</a></li></ul> 
  </li><li><a href="#Unity_62" rel="nofollow">Unity界面基础</a></li><li><ul><li><a href="#SceneHierarchy_63" rel="nofollow">Scene场景和Hierarchy层级窗口</a></li><li><a href="#GameProject_80" rel="nofollow">Game游戏和Project工程</a></li><li><a href="#InspectorConsole_94" rel="nofollow">Inspector和Console</a></li><li><a href="#_103" rel="nofollow">工具栏和父子关系</a></li></ul> 
  </li><li><a href="#Unity_120" rel="nofollow">Unity工作原理</a></li><li><ul><li><a href="#_121" rel="nofollow">反射机制和游戏场景</a></li><li><a href="#_140" rel="nofollow">预设体和资源包的导入导出</a></li></ul> 
  </li><li><a href="#Unity_145" rel="nofollow">Unity脚本基础</a></li><li><ul><li><a href="#_146" rel="nofollow">脚本基本规则</a></li><li><a href="#_170" rel="nofollow">生命周期函数</a></li><li><a href="#Inspector_241" rel="nofollow">Inspector窗口可编辑的变量</a></li><li><a href="#MonoBehavior_324" rel="nofollow">MonoBehavior中的重要内容</a></li></ul> 
  </li><li><a href="#UnityAPI_382" rel="nofollow">Unity重要组件和API</a></li><li><ul><li><a href="#GameObject_383" rel="nofollow">最小单位GameObject</a></li><li><ul><li><a href="#GameObject_384" rel="nofollow">GameObject中的成员变量</a></li><li><a href="#GameObject_402" rel="nofollow">GameObject静态方法</a></li><li><a href="#GameObject_452" rel="nofollow">GameObject中的成员方法</a></li></ul> 
   </li><li><a href="#Time_479" rel="nofollow">时间相关Time</a></li><li><a href="#Transform_522" rel="nofollow">必不可少的Transform--位置和位移</a></li><li><ul><li><a href="#Vector3_523" rel="nofollow">Vector3基础</a></li><li><a href="#_562" rel="nofollow">位置</a></li></ul> 
   </li><li><a href="#_598" rel="nofollow">角度和旋转</a></li><li><a href="#_629" rel="nofollow">缩放和看向</a></li><li><a href="#_649" rel="nofollow">父子关系</a></li><li><a href="#_707" rel="nofollow">坐标转换</a></li><li><a href="#Input_731" rel="nofollow">输入相关Input</a></li><li><ul><li><a href="#_732" rel="nofollow">鼠标键盘输入</a></li><li><a href="#_790" rel="nofollow">触摸手柄陀螺仪</a></li></ul> 
   </li><li><a href="#Screen_822" rel="nofollow">屏幕相关Screen</a></li><li><a href="#Camera_869" rel="nofollow">必不可少的摄像机Camera</a></li><li><ul><li><a href="#Camera_870" rel="nofollow">Camera可编辑参数</a></li><li><a href="#Camera_908" rel="nofollow">Camera代码相关</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_961" rel="nofollow">核心系统</a></li><li><ul><li><a href="#_962" rel="nofollow">光源系统基础</a></li><li><ul><li><a href="#_963" rel="nofollow">光源组件</a></li><li><a href="#_1003" rel="nofollow">光面板相关</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_1042" rel="nofollow">物理系统之碰撞检测</a></li><li><ul><li><a href="#_1043" rel="nofollow">刚体</a></li><li><a href="#_1091" rel="nofollow">碰撞器</a></li><li><a href="#_1151" rel="nofollow">物理材质</a></li><li><a href="#_1166" rel="nofollow">碰撞检测函数</a></li><li><a href="#_1218" rel="nofollow">刚体加力</a></li></ul> 
  </li><li><a href="#_1298" rel="nofollow">音效系统</a></li><li><ul><li><a href="#_1299" rel="nofollow">音频文件导入</a></li><li><a href="#_1329" rel="nofollow">音频源和音频监听脚本</a></li><li><a href="#_1357" rel="nofollow">代码控制音频源</a></li><li><a href="#_1402" rel="nofollow">麦克风输入相关</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="Unity_1"></a>Unity环境搭建</h2> 
<p><a href="https://www.bilibili.com/read/cv18172694/" rel="nofollow">Unity编辑器使用中文语言包/汉化流程演示</a></p> 
<h3><a id="Unity_3"></a>Unity引擎是什么</h3> 
<p><strong>什么时游戏引擎？</strong><br> 游戏引擎是指一些已编写好的可编辑电脑游戏系统或者一些交互式实时图像应用程序的核心组件。这些系统为游戏设计者提供各种编写游戏所需的各种工具，其目的在于让游戏设计者能容易和快速地做出游戏程序而不用从零开始。<br> <strong>游戏引擎对于我们的意义</strong><br> 1、降低做游戏的门槛<br> 2、提升游戏开发的效率<br> <strong>如何降低开发门槛？</strong><br> 以前做游戏：物理、数学、计算机图形学、计算机原理、操作系统等等与多种程序语言。<br> 现在做游戏：游戏引擎的使用和一种程序语言。<br> <strong>如何提升开发效率？</strong><br> 以前做游戏：图形渲染、物理系统、离子系统、寻路系统、多平台开发等等与上层逻辑。<br> 现在做游戏：游戏引擎和上层逻辑。<br> <strong>如何学习游戏引擎？</strong><br> 1、学习引擎用于开发的主要语言。<br> 2、学习引擎的软件操作。<br> 3、学习引擎提供的API和核心系统<br> <strong>如何学习Unity？</strong><br> Unity相当于就是一个游戏开发工具包，我们只要学会使用工具包中的各个工具即可，而使用这些工具的媒介就是我们已经学习完毕的C#程序语言。</p> 
<h3><a id="_21"></a>软件下载和安装</h3> 
<p><strong>软件下载</strong><br> <a href="https://unity.com/" rel="nofollow">Unity官网</a>（访问较慢）<br> <a href="https://unity.cn" rel="nofollow">中国官网</a><br> 注册一个账号，然后下载。<br> <strong>版本选择</strong><br> 1、长期支持版：又称LTS版，适用于希望长时间保持稳定版本的用户。<br> 2、补丁程序版：bug修复版本。<br> 3、Beta版本：包含还未正式发布的新功能。<br> 最新的不是最好的！不管是学习还是开发，都建议使用最稳定的版本。<br> <strong>注意：</strong><br> 一般情况下，Unity版本向下兼容，高版本开低版本工程，问题不大，低版本开高版本工程，会出现兼容问题。</p> 
<blockquote> 
 <p>关于版本号：<br> 大版本号.小版本号.bug处理版本号（版本类型后缀） 例如：<br> 2019.4.17f1<br> 2017.2.4p1<br> 2020.2.0b14</p> 
</blockquote> 
<p><strong>软件安装</strong><br> 1、点击“从Unity Hub下载”<br> <img src="https://images2.imgbox.com/9e/e1/TbwUXT3d_o.png" alt="在这里插入图片描述"><br> 2、获取许可证<br> ①打开“偏好设置”<br> <img src="https://images2.imgbox.com/82/40/PjJpF2Gw_o.png" alt="在这里插入图片描述"><br> ②点击“许可证”–&gt;“添加许可证”–&gt;“获取免费的个人版许可证”。<br> <img src="https://images2.imgbox.com/8b/94/P2XsuNoH_o.png" alt="在这里插入图片描述"><br> ③在项目中为自己的项目选择合适位置。<br> <img src="https://images2.imgbox.com/06/3f/wcvKPiRK_o.png" alt="在这里插入图片描述"><br> ④安装编辑器<br> <img src="https://images2.imgbox.com/b2/e4/5tyksJCd_o.png" alt="在这里插入图片描述"><br> 勾选<br> <img src="https://images2.imgbox.com/74/2e/9oXoO0bq_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/60/57/ceJVBJOT_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_55"></a>工程文件夹</h3> 
<p><strong>Assets:</strong> 工程资源文件夹（美术资源，脚本等）<br> <strong>Library:</strong> 库文件夹（Unity自动生成管理）<br> <strong>Logs：</strong> 日志文件夹，记录特殊信息（Unity自动生成管理）<br> <strong>obj:</strong> 编译产生中间文件（Unity自动生成管理）<br> <strong>Packages:</strong> 包配置信息（Unity自动生成管理）<br> <strong>ProjectSettings:</strong> 工程设置信息（Unity自动生成管理）</p> 
<h2><a id="Unity_62"></a>Unity界面基础</h2> 
<h3><a id="SceneHierarchy_63"></a>Scene场景和Hierarchy层级窗口</h3> 
<p>场景窗口和层级窗口是息息相关的，层级窗口中看到的内容就是场景窗口中的显示对象。<br> <strong>窗口布局：</strong><br> 推荐使用<code>2 by 3</code>布局<br> <img src="https://images2.imgbox.com/f6/81/9O2NMcxN_o.png" alt="在这里插入图片描述"><br> <strong>Hierarchy层级窗口:</strong><br> 我们可以在Hierarchy窗口中，创建或拖入各种游戏对象。比如：模型、光源、图片、UI等内容。层级窗口中显示的就是一个场景中的所有对象。<br> <strong>Scene场景窗口：</strong><br> 我们可以在Scene窗口中，查看所有游戏对象，设置所有游戏对象。<br> <img src="https://images2.imgbox.com/d5/26/cCT3i2k3_o.jpg" alt="在这里插入图片描述"><br> 关于Unity中的3D世界坐标轴：<br> 红色为X轴正向<br> 绿色为Y轴正向<br> 蓝色为Z轴正向<br> 以屏幕为参照物，垂直屏幕向内为Z正方向，平行屏幕向右为X正方向，平行屏幕向上为Y正方向。<br> <img src="https://images2.imgbox.com/37/e6/uDcLGCXd_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/fc/a0/vCz7LhJA_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="GameProject_80"></a>Game游戏和Project工程</h3> 
<p><strong>Game游戏窗口：</strong> 游戏画面窗口，玩家能看到的画面内容。其中显示的内容，是场景中摄像机拍摄范围内的游戏对象。<br> <img src="https://images2.imgbox.com/27/a6/oPavKgZt_o.png" alt="在这里插入图片描述"></p> 
<p><strong>Project工程窗口：</strong> 工程资源窗口，所有的工程资源都会在该窗口中显示，显示的内容为Assets文件夹中的所有内容，主要用来管理资源脚本文件。<br> 默认文件夹Scenes:里面有一个默认空场景<br> Packages:官方拓展包<br> <strong>资源类型：</strong><br> 图片格式：jpg、png、tga<br> 模型格式：fbx、max、maya<br> 音效：wav、mp3、ogg<br> 文本：txt、json、bytes<br> 视频：mp4</p> 
<h3><a id="InspectorConsole_94"></a>Inspector和Console</h3> 
<p><strong>Inspector检查窗口：</strong> 查看场景中游戏对象关联的C#脚本信息。<br> <img src="https://images2.imgbox.com/27/da/WQpQ9DfN_o.png" alt="在这里插入图片描述"></p> 
<p><strong>Console控制台窗口：</strong> 用于查看调试信息的窗口，报错、警告、测试打印都可以显示在其中。<br> 默认未开启可以在Window-&gt;General中开启<br> 或使用快捷键：<code>Ctrl + Shift + C</code><br> <img src="https://images2.imgbox.com/cd/1f/K3fJFyA6_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_103"></a>工具栏和父子关系</h3> 
<p><strong>工具栏</strong><img src="https://images2.imgbox.com/86/14/cLemh3yE_o.png" alt="在这里插入图片描述"></p> 
<p>1、文件操作：新建工程、新建场景、工程打包等。<br> 2、编辑操作：对象编辑操作相关，工程设置、引擎设置相关<br> 3、资源操作：基本等同于Project窗口中右键相关功能。<br> 4、对象操作：基本等同于Hierarchy窗口中右键相关功能。<br> 5、脚本操作：Unity自带的脚本，可以添加各系统中的脚本。<br> 6、窗口：可以打开Unity各核心系统的窗口。<br> 7、帮助：检查更新，查看版本等等功能。<br> <strong>父子关系</strong><br> 1、子对象会随着父对象的变化而变化。<br> 2、子对象Inspector窗口中Transform信息是相对父对象的。<br> 3、Scene上方<img src="https://images2.imgbox.com/05/96/L6yTC4F6_o.png" alt="在这里插入图片描述"><br> 的作用<br> <img src="https://images2.imgbox.com/ea/2a/K9v73GX0_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="Unity_120"></a>Unity工作原理</h2> 
<h3><a id="_121"></a>反射机制和游戏场景</h3> 
<p>Unity引擎本质上是一个软件，使用它时是处于运行中的。我们是在一个运行中的软件里制作游戏的，Unity开发的本质就是在Unity引擎的基础上，利用反射和引擎提供的各种功能，进行的拓展开发。<br> <strong>场景中对象的本质是什么？</strong><br> GameObject类对象是Unity引擎提供给我们的作为场景中所有对象的根本，在游戏场景中出现一个对象，不管是图片、模型、音效、摄像机等等都是依附于GameObject对象的。<br> <strong>Transform是什么？</strong><br> GameObject对象作为一个出现在舞台（3D场景）中的演员，必须有一个表示自己所在位置的信息。Transform就是一个必不可少的剧本，它的本质就是发了一本表示位置的剧本给演员，用于设置和得到演员在世界中的位置角度缩放等信息。<br> <strong>反射机制的体现</strong><br> 除了Transform这个表示位置的标配剧本外，我们可以为这个演员（GameObject）关联各种剧本（C#脚本）让它按照我们剧本中（代码逻辑中）的命令来处理事情。而为演员添加剧本的这个过程，就是在利用反射new一个新的剧本对象和演员（GameObject）对象进行关联，让其按我们的命令做事。<br> 例如：<br> 1、修改Inspector面板中Transform的内容，前提是Unity帮助我们实现了对象查找和关联。<br> 利用反射：已知对象，类名，变量名，通过反射为该对象设置变量值。<br> 2、新建一个脚本后，添加给一个指定的GameObject对象。<br> 利用反射：已知类名，可以获取所有公共成员，故可以在Inspector面板上创建各公共字段信息。<br> <strong>游戏场景基本知识点</strong><br> 1、游戏场景的保存<br> 2、游戏场景的新建<br> 3、多个游戏场景叠加显示<br> 4、游戏场景的本质<br> 游戏场景文件，后缀为.unity，它的本质就是一个配置文件，Unity有一套自己识别处理它的机制，但是本质就是把场景对象相关信息读取出来，通过反射来创建各个对象关联各个脚本对象。</p> 
<h3><a id="_140"></a>预设体和资源包的导入导出</h3> 
<p><strong>预设体：</strong><br> 将组合对象拖入Assest即可成为预设体。<br> <strong>资源包：</strong><br> 在project窗口中右键，点击import package或者export package进行导入导出。</p> 
<h2><a id="Unity_145"></a>Unity脚本基础</h2> 
<h3><a id="_146"></a>脚本基本规则</h3> 
<p><strong>创建规则：</strong><br> 1、不在VS中创建脚本了。<br> 2、可以放在Assets文件夹下的任何位置（建议同一文件夹管理）。<br> 3、类和文件名必须一致，不然不能挂载（因为反射机制创建对象，会通过文件名去找Type）。<br> 4、建议不要使用中文名命名。<br> 5、没有特殊需求，不用管命名空间。<br> 6、创建的脚本默认继承MonoBehavior。<br> <strong>MonoBehavior基类：</strong><br> 1、创建的脚本默认都继承MonoBehaviour继承了它才能够挂载在GameObject上。<br> 2、继承了MonoBehavior的脚本不能new只能挂！<br> 3、继承了MonoBehavior的脚本不要去写构造函数，因为我们不会去new它，写构造函数没有意义。<br> 4、继承了MonoBehavior的脚本可以在一个对象上挂多个（如果没有加DisallowMultipleComponent特性）。<br> 5、继承MonoBehavior的类也可以再次被继承，遵循面向对象继承多态的规则。<br> <strong>不继承MonoBehavior的类：</strong><br> 1、不继承Mono的类，不能挂载在GameObject上。<br> 2、不继承Mono的类，想怎么写怎么写，如果要使用需要自己new。<br> 3、不继承Mono的类一般是单例模式的类（用于管理模块）或者数据结构类（用于存储数据）。<br> 4、不继承Mono的类，不用保留默认出现的几个函数。<br> <strong>脚本执行顺序：</strong><br> <img src="https://images2.imgbox.com/71/ea/NVs2nlcR_o.png" alt="在这里插入图片描述"><br> <strong>默认脚本内容：</strong><br> 从这里打开可以修改默认脚本内容。<br> Editor\Data\Resources\ScriptTemplates</p> 
<h3><a id="_170"></a>生命周期函数</h3> 
<p><strong>帧的概念：</strong><br> 游戏的本质就是一个死循环，每一次循环处理游戏逻辑就会更新一次画面，之所以能看到画面在动是因为切换画面的速度到达一定时人眼就认为画面是流畅的，一帧就是执行一次循环。<br> Unity底层已经帮助我们做好了死循环，利用Unity生命周期函数做好的规则来执行我们的游戏逻辑。<br> <strong>fps(Frames Per Second)：</strong><br> 即每秒钟帧数，一般我们说的60帧30帧，意思是1秒更新60次、30次画面。</p> 
<blockquote> 
 <p>1s = 1000ms<br> 60帧：1帧为1000ms/60 ≈ 16.66ms<br> 30帧：1帧为1000ms/30 ≈ 33.33ms</p> 
</blockquote> 
<p><strong>游戏卡顿的原因：</strong><br> 跑1帧游戏逻辑中的计算量过大，或者CPU不给力，不能在一帧的时间内处理完所有游戏逻辑。<br> <strong>生命周期函数的概念：</strong><br> 所有继承MonoBehavior的脚本，最终都会挂载到GameObject游戏对象上。生命周期函数就是该脚本对象依附的GameObject对象从出生到消亡整个生命周期中会通过反射自动调用的一些特殊函数。<br> Unity帮助我们记录了一个GameObject对象依附了哪些脚本，会自动的得到这些对象，通过反射去执行一些固定名字的函数。<br> 生命周期函数的访问修饰符一般为private和protected，因为不需要在外部自己调用生命周期函数，都是Unity自己帮助我们调用的。</p> 
<pre><code class="prism language-csharp"><span class="token comment">//出生时调用，类似构造函数，一个对象只会调用一次</span>
<span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Awake</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//在Unity中打印信息的两种方式</span>
	<span class="token comment">//1、没有继承MonoBehavior类的时候</span>
	Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Debug<span class="token punctuation">.</span><span class="token function">LogError</span><span class="token punctuation">(</span><span class="token string">"出错了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Debug<span class="token punctuation">.</span><span class="token function">LogWarning</span><span class="token punctuation">(</span><span class="token string">"警告"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
	<span class="token comment">//2、继承了MonoBehavior有一个线程的方法，可以使用</span>
	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//依附的GameObject对象每次激活时调用</span>
<span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnEnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
<span class="token comment">//从自己被创建出来后，第一次帧更新之前调用，一个对象只会调用一次</span>
<span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
<span class="token comment">//物理帧更新，固定间隔时间执行，间隔时间可以设置</span>
<span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">FixedUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
<span class="token comment">//逻辑帧更新，每帧执行</span>
<span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
<span class="token comment">//每帧执行，于Update之后执行</span>
<span class="token comment">//一般用来处理摄像机位置更新相关内容的</span>
<span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">LateUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
<span class="token comment">//依附的GameObject对象每次失活时调用</span>
<span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnDisable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
<span class="token comment">//对象销毁时调用，依附的GameObject对象被删除时</span>
<span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
</code></pre> 
<p>生命周期函数继承多态。<br> <strong>为什么不建议在继承Mono的类写构造函数呢？</strong><br> 1.Unity的规则就是，继承MonoBehavior的脚本不能new只能挂载</p> 
<p>2.生命周期函数的Awake是类似构造函数的存在，当对象出生就会自动调用</p> 
<p>3.写构造函数反而在结构上会破坏Unity设计上的规范<br> <strong>不同对象的生命周期函数是在同一个线程中执行的吗？</strong><br> Unity中所有对象上挂载的生命周期函数都是在一个主线程中按先后执行的。</p> 
<p>理解：Unity会主动把场景上的对象，对象上挂载的脚本都统统记录下来，在主线程的死循环中，按顺序按时机的通过反射，执行记录的对象身上挂载的脚本的对应生命周期函数。</p> 
<h3><a id="Inspector_241"></a>Inspector窗口可编辑的变量</h3> 
<p>Inspector显示的可编辑内容就是脚本的成员变量。<br> 1、私有和保护无法显示编辑<br> 2、让私有的和保护的也可以被显示</p> 
<pre><code class="prism language-csharp"><span class="token comment">//加上强制序列化字段特性</span>
<span class="token punctuation">[</span>SerializeFiedld<span class="token punctuation">]</span>
<span class="token comment">//所谓序列化就是把一个对象保存到一个文件或数据库字段中去</span>
</code></pre> 
<p>3、公共的可以显示编辑。<br> 4、若使公共的也不让其显示编辑。<br> <code>[HideInInspector]</code><br> 5、大部分类型都能显示编辑。<br> 6、让自定义类型可以被访问。</p> 
<pre><code class="prism language-csharp"><span class="token comment">//加上序列化特性，字典怎样都不行</span>
<span class="token punctuation">[</span>System<span class="token punctuation">.</span>Serializable<span class="token punctuation">]</span>
</code></pre> 
<p><strong>一些辅助特性：</strong><br> 1、分组说明特性Header，为成员分组</p> 
<pre><code class="prism language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Header</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"分组说明"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> age<span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">bool</span></span> sex<span class="token punctuation">;</span>
</code></pre> 
<p>2、悬停注释Tooltip，为变量添加说明。</p> 
<pre><code class="prism language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Tooltip</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"说明内容"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> miss<span class="token punctuation">;</span>
</code></pre> 
<p>3、间隔特性Space，让两个字段间出现间隔。</p> 
<pre><code class="prism language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Space</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> crit<span class="token punctuation">;</span>
</code></pre> 
<p>4、修饰数值的滑条范围Range</p> 
<pre><code class="prism language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Range</span><span class="token attribute-arguments"><span class="token punctuation">(</span>最小值，最大值<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> luck<span class="token punctuation">;</span>
</code></pre> 
<p>5、多行显示字符串，默认不写参数显示3行，写参数就是对应行。</p> 
<pre><code class="prism language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Multiline</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">string</span></span> tips<span class="token punctuation">;</span>
</code></pre> 
<p>6、滚动条显示字符串，默认不写参数就是超过3行显示滚动条。</p> 
<pre><code class="prism language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">TextArea</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">string</span></span> myLife<span class="token punctuation">;</span>
</code></pre> 
<p>7、为变量添加快捷方法ContexMenuItem。</p> 
<pre><code class="prism language-csharp"><span class="token comment">//参数1：显示按钮名</span>
<span class="token comment">//参数2：方法名，不能有参数</span>
<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ContextMenuItem</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"重置钱"</span><span class="token punctuation">,</span><span class="token string">"方法名"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> money<span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	money <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>8、为方法添加特性能够在Inspector中执行。</p> 
<pre><code class="prism language-csharp"><span class="token punctuation">[</span><span class="token function">ContextMenu</span><span class="token punctuation">(</span><span class="token string">"哈哈哈哈"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">TestFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"测试方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>注意：</strong><br> 1、Inspector窗口中的变量关联的就是对象的成员变量，运行时改变他们就是在改变成员变量。<br> 2、拖拽到GameObject对象后，再该表脚本中变量默认值，界面上不会改变。<br> 3、运行中修改的信息不会保存。</p> 
<h3><a id="MonoBehavior_324"></a>MonoBehavior中的重要内容</h3> 
<p><strong>重要成员：</strong><br> 1、获取依附的GameObject</p> 
<pre><code class="prism language-csharp"><span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>gameObject<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>2、获取依附的GameObject的位置信息，得到对象位置信息。</p> 
<pre><code class="prism language-csharp"><span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//位置</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>eulerAngles<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//角度</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>lossyScale<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//缩放大小</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>gameObject<span class="token punctuation">.</span>transform<span class="token punctuation">;</span>
</code></pre> 
<p>3、获取脚本是否激活</p> 
<pre><code class="prism language-csharp"><span class="token keyword">this</span><span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>重要方法：</strong><br> 得到依赖对象上挂载的其他脚本<br> 1、得到自己挂载的单个脚本</p> 
<pre><code class="prism language-csharp"><span class="token comment">//根据脚本名获取</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">GetComponent</span><span class="token punctuation">(</span><span class="token string">"Lesson3_Test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//根据Type获取</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">GetComponent</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Lesson3_Test</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//根据泛型获取，建议使用泛型获取，因为不用二次转换</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetCompoent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Lesson3_Test<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>2、得到自己挂载的多个脚本</p> 
<pre><code class="prism language-csharp"><span class="token class-name">Lesson3<span class="token punctuation">[</span><span class="token punctuation">]</span></span> array <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetComponents</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Lesson3<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>3、得到子对象挂载着的脚本（它默认也会找自己身上是否挂载该脚本）</p> 
<pre><code class="prism language-csharp"><span class="token comment">//该参数是：默认不传为false，意思就是如果子对象失活是不会去找这个对象上是否有某个脚本的。</span>
<span class="token comment">//如果为true即使失活也会找</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetComponentInChildren</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Lesson3_Test<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetComponentsInChildren</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Lesson3_Test<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>4、得到父对象挂载的脚本</p> 
<pre><code class="prism language-csharp"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetComponentInParent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Lesson3_Test<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>5、尝试获取脚本</p> 
<pre><code class="prism language-csharp"><span class="token class-name">Lesson3_Test</span> l3t<span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">TryGetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Lesson3_Test<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">out</span> l3t<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="UnityAPI_382"></a>Unity重要组件和API</h2> 
<h3><a id="GameObject_383"></a>最小单位GameObject</h3> 
<h4><a id="GameObject_384"></a>GameObject中的成员变量</h4> 
<pre><code class="prism language-csharp"><span class="token comment">//名字</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>gameObjcet<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token comment">//是否激活</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>gameObject<span class="token punctuation">.</span>activeSelf<span class="token punctuation">;</span>
<span class="token comment">//是否是静态</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>gameObject<span class="token punctuation">.</span>isStatic<span class="token punctuation">;</span>
<span class="token comment">//层级</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>gameObject<span class="token punctuation">.</span>layer<span class="token punctuation">;</span>
<span class="token comment">//标签</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>gameObject<span class="token punctuation">.</span>tag<span class="token punctuation">;</span>
<span class="token comment">//transform</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>gameObject<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="GameObject_402"></a>GameObject静态方法</h4> 
<p><strong>创建自带几何体：</strong></p> 
<pre><code class="prism language-csharp">GameObject<span class="token punctuation">.</span><span class="token function">CreatePrimitive</span><span class="token punctuation">(</span>PrimitiveType<span class="token punctuation">.</span>Cube<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>查找对象（无法找到失活的对象）:</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//若场景中存在多个满足条件的对象，则无法准确确定找到的是谁</span>
<span class="token comment">//1、查找单个对象，通过对象名查找</span>
<span class="token comment">//效率较低，因为他会在场景中所有对象查找</span>
<span class="token class-name">GameObject</span> obj2 <span class="token operator">=</span> GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"chx"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//通过tag来查找对象</span>
<span class="token class-name">GameObject</span> obj3 <span class="token operator">=</span> GameObject<span class="token punctuation">.</span><span class="token function">FindWithTag</span><span class="token punctuation">(</span><span class="token string">"Player"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">GameObject</span> obj3 <span class="token operator">=</span> GameObject<span class="token punctuation">.</span><span class="token function">FindGameObjectWithTag</span><span class="token punctuation">(</span><span class="token string">"Player"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//同上，效果一样</span>
<span class="token comment">//2、查找多个对象</span>
<span class="token class-name">GameObject<span class="token punctuation">[</span><span class="token punctuation">]</span></span> objs <span class="token operator">=</span> GameObject<span class="token punctuation">.</span><span class="token function">FindGameObjectWithTag</span><span class="token punctuation">(</span><span class="token string">"Player"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//找到场景中挂载的某一个脚本对象</span>
<span class="token class-name">Lesson</span> o <span class="token operator">=</span> GameObject<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FindObjectOfType</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Lesson4<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<p><strong>实例化对象（克隆对象）的方法：</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//实例化对象它的作用是根据一个GameObject对象创建出一个和它一模一样的对象</span>
<span class="token comment">//准备用来克隆的对象</span>
<span class="token comment">//1、直接是场景上的某个对象</span>
<span class="token comment">//2、可以是一个预设体对象</span>
<span class="token keyword">public</span> <span class="token class-name">GameObject</span> obj<span class="token punctuation">;</span>
GameObject<span class="token punctuation">.</span><span class="token function">Instantiate</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>删除对象的方法：</strong></p> 
<pre><code class="prism language-csharp">GameObject<span class="token punctuation">.</span><span class="token function">Destory</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//第二个参数，代表延迟几秒钟删除</span>
GameObject<span class="token punctuation">.</span><span class="token function">Destroy</span><span class="token punctuation">(</span>obj5<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Destroy不仅可以删除对象，还可以删除脚本</span>
GameObject<span class="token punctuation">.</span><span class="token function">Destroy</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>删除对象有两种作用<br> 1、是删除指定的一个游戏对象<br> 2、是删除一个指定的脚本对象<br> 注意：这个Destroy方法不会马上移除对象，只是给这个对象加了一个移除标识。一般情况下它会在下一帧把这个对象移除并从内存中移除。<br> 如果没有特殊需求，就是一定要马上移除一个对象的话<code>GameObject.DestroyImmediate(myObj);</code>，建议使用上面的Destroy方法，因为是异步的，降低卡顿的几率。<br> <strong>过场景不移除：</strong><br> 默认情况在切换场景时，场景中对象都会被自动删除掉，如果希望某个对象过场景不被移除，使用如下方法。</p> 
<pre><code class="prism language-csharp">GameObject<span class="token punctuation">.</span><span class="token function">DontDestroyOnLoad</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>gameObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="GameObject_452"></a>GameObject中的成员方法</h4> 
<p><strong>创建空物体：</strong></p> 
<pre><code class="prism language-csharp"><span class="token class-name">GameObject</span> obj6 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GameObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">GameObject</span> obj7 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GameObject</span><span class="token punctuation">(</span><span class="token string">"空物体"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">GameObject</span> obj8 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GameObject</span><span class="token punctuation">(</span><span class="token string">"空物体"</span><span class="token punctuation">,</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Lesson2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Lesson1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>为对象添加脚本：</strong></p> 
<pre><code class="prism language-csharp"><span class="token class-name">Lesson1</span> les1 <span class="token operator">=</span> obj6<span class="token punctuation">.</span><span class="token function">AddComponent</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Lesson1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token class-name">Lesson1</span><span class="token punctuation">;</span>
<span class="token class-name">Lesson2</span> les2 <span class="token operator">=</span> obj6<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Lesson2<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>得到脚本的成员方法和继承mono类得到脚本的方法一模一样<br> <strong>标签比较：</strong></p> 
<pre><code class="prism language-csharp"><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>gameObject<span class="token punctuation">.</span><span class="token function">CompareTag</span><span class="token punctuation">(</span><span class="token string">"Player"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>设置激活失活：</strong></p> 
<pre><code class="prism language-csharp">obj6<span class="token punctuation">.</span><span class="token function">SetActive</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="Time_479"></a>时间相关Time</h3> 
<p>时间相关内容，主要用于游戏中参与位移、记时、时间暂停等。<br> <strong>时间缩放比例：</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//时间停止</span>
Time<span class="token punctuation">.</span>timeScale <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment">//回复正常</span>
Time<span class="token punctuation">.</span>timeScale <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">//2倍速</span>
Time<span class="token punctuation">.</span>timeScale <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>帧间隔时间：</strong><br> 最近的一帧用了多长时间。</p> 
<pre><code class="prism language-csharp"><span class="token comment">//受Scale影响</span>
Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">;</span>
<span class="token comment">//不受Scale影响的帧间隔时间</span>
Time<span class="token punctuation">.</span>unscaleDeltaTime<span class="token punctuation">;</span>
</code></pre> 
<p><strong>游戏开始到现在的时间：</strong><br> 主要用来在单机游戏中计时。</p> 
<pre><code class="prism language-csharp"><span class="token comment">//受scale影响</span>
Time<span class="token punctuation">.</span>time<span class="token punctuation">;</span>
<span class="token comment">//不受scale影响</span>
Time<span class="token punctuation">.</span>unscaledTime<span class="token punctuation">;</span>
</code></pre> 
<p><strong>物理帧间隔时间：</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//受scale影响</span>
Time<span class="token punctuation">.</span>fixedDeltaTime<span class="token punctuation">;</span>
<span class="token comment">//不受scale影响</span>
Time<span class="token punctuation">.</span>fixedUnscaledDeltaTime<span class="token punctuation">;</span>
</code></pre> 
<p><strong>帧数：</strong><br> 从开始到现在游戏跑了多少帧。</p> 
<pre><code class="prism language-csharp">Time<span class="token punctuation">.</span>frameCount<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="Transform_522"></a>必不可少的Transform–位置和位移</h3> 
<h4><a id="Vector3_523"></a>Vector3基础</h4> 
<p>Vector3主要是用来表示三维坐标系中的一个点或者一个向量。<br> <strong>声明：</strong></p> 
<pre><code class="prism language-csharp"><span class="token class-name">Vector3</span> v <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
v<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
v<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
v<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token comment">//只传x,y，默认z是0</span>
<span class="token class-name">Vector3</span> v2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Vector3</span> v3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Vector3</span> v4<span class="token punctuation">;</span>
v4<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
v4<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
v4<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>基本运算：</strong></p> 
<pre><code class="prism language-csharp"><span class="token class-name">Vector3</span> v1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Vector3</span> v2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>v1 <span class="token operator">+</span> v2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>v1 <span class="token operator">-</span> v2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>v1 <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>v1 <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//常用</span>
Vector3<span class="token punctuation">.</span>zero<span class="token punctuation">;</span><span class="token comment">//000</span>
Vector3<span class="token punctuation">.</span>right<span class="token punctuation">;</span><span class="token comment">//100</span>
Vector3<span class="token punctuation">.</span>left<span class="token punctuation">;</span><span class="token comment">//-100</span>
Vector3<span class="token punctuation">.</span>forward<span class="token punctuation">;</span><span class="token comment">//001</span>
Vector3<span class="token punctuation">.</span>back<span class="token punctuation">;</span><span class="token comment">//00-1</span>
Vector3<span class="token punctuation">.</span>up<span class="token punctuation">;</span><span class="token comment">//010</span>
Vector3<span class="token punctuation">.</span>down<span class="token punctuation">;</span><span class="token comment">//0-10</span>
<span class="token comment">//计算两个点之间的距离的方法</span>
Vector3<span class="token punctuation">.</span><span class="token function">Distance</span><span class="token punctuation">(</span>v1<span class="token punctuation">,</span>v2<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<h4><a id="_562"></a>位置</h4> 
<pre><code class="prism language-csharp"><span class="token comment">//相对世界坐标系</span>
<span class="token comment">//如果对象有父子关系，并且父对象位置，不在原点，那么和面板上肯定就是不一样的</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>gameObject<span class="token punctuation">.</span>transform<span class="token punctuation">;</span>
<span class="token comment">//相对父对象</span>
<span class="token comment">//即以面板坐标为准来进行设置</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>localPosition<span class="token punctuation">;</span>
<span class="token comment">//对象当前的各朝向</span>
<span class="token comment">//对象当前的面朝向</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>forward<span class="token punctuation">;</span>
<span class="token comment">//对象当前的头顶朝向</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>up<span class="token punctuation">;</span>
<span class="token comment">//对象当前的右手边</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
</code></pre> 
<p><strong>位移：</strong><br> 理解坐标系下的位移计算公式：<br> 路程 = 方向 * 速度 * 时间</p> 
<pre><code class="prism language-csharp"><span class="token comment">//方式一 自己计算</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>forward <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">*</span> Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">;</span>
<span class="token comment">//方式二 API</span>
<span class="token comment">//参数一：表示位移多少 路程 = 方向 * 速度 * 时间</span>
<span class="token comment">//参数二：表示相对坐标系 默认该参数是相对于自己坐标系的</span>
<span class="token comment">//相对于世界坐标系的z轴动</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">Translate</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>forward <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">*</span> Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">,</span>Space<span class="token punctuation">.</span>World<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//相对于世界坐标的自己的面朝向动</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">Translate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>forward <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">*</span> Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">,</span>Space<span class="token punctuation">.</span>World<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//相对于自己的坐标系下的自己的面朝向向量移动（一定不会这样让物体移动）</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">Translate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>forward <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">*</span> Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">,</span>Space<span class="token punctuation">.</span>Self<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//相对于自己的坐标系下的z轴正方向移动</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">Translate</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>forward <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">*</span> Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">,</span>Space<span class="token punctuation">.</span>Self<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_598"></a>角度和旋转</h3> 
<p><strong>角度相关：</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//相对世界坐标角度</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>eulerAngles<span class="token punctuation">;</span>
<span class="token comment">//相对父对象角度</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>localeulerAngles<span class="token punctuation">;</span>
<span class="token comment">//注意：设置角度和设置位置一样，不能单独设置xyz，要一起设置，如果我们希望改变的角度是面板上显示的内容，则就是改变相对父对象的角度</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>eulerAngles <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<p><strong>旋转相关：</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//API计算</span>
<span class="token comment">//自转</span>
<span class="token comment">//第一个参数相当于是旋转的角度，每一帧</span>
<span class="token comment">//第二个参数默认不填就是相当于对于自己的坐标系进行的旋转</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">Rotate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">*</span> Time<span class="token punctuation">.</span>deltaTime，Space<span class="token punctuation">.</span>World<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//相对于某个轴转多少度</span>
<span class="token comment">//参数一：相对于哪个轴进行转动</span>
<span class="token comment">//参数二：转动的角度是多少</span>
<span class="token comment">//参数三：默认不填，就是相对于自己的坐标系进行旋转，如果填，可以填写相对于世界坐标系进行旋转</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">Rotate</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>up<span class="token punctuation">,</span><span class="token number">10</span> <span class="token operator">*</span> Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">,</span>Space<span class="token punctuation">.</span>World<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//相对于某一个点转</span>
<span class="token comment">//参数一：相当于哪一个点转圈圈</span>
<span class="token comment">//参数二：相对于哪一个点的哪一个轴转</span>
<span class="token comment">//参数三：转的度数：旋转速度 * 时间</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">RotateAround</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>zero<span class="token punctuation">,</span>Vector3<span class="token punctuation">.</span>up<span class="token punctuation">,</span><span class="token number">10</span> <span class="token operator">*</span> Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_629"></a>缩放和看向</h3> 
<p><strong>缩放：</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//相对世界坐标系</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>lossyScale<span class="token punctuation">;</span>
<span class="token comment">//相对本地坐标系（父对象）</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>localScale<span class="token punctuation">;</span>
</code></pre> 
<p>Unity没有提供关于缩放的API，之前的旋转位移都提供了对应的API，但是缩放并没有，如果你想要让缩放发生变化，只能自己去写。<br> <strong>看向：</strong><br> 让一个对象的面朝向可以一直看向某一个点或者某一个对象。</p> 
<pre><code class="prism language-csharp"><span class="token comment">//看向一个点，相对于世界坐标系</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">LookAt</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>zero<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//看向一个对象，就传入一个对象的Transform信息</span>
<span class="token keyword">public</span> <span class="token class-name">Transform</span> lookAtObj<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">LookAt</span><span class="token punctuation">(</span>lookAtObj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_649"></a>父子关系</h3> 
<p><strong>获取和设置父对象：</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//获取父对象</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token comment">//设置父对象 断绝父子关系</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>parent <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token comment">//设置父对象 认爸爸</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>parent <span class="token operator">=</span> GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Father2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>transform<span class="token punctuation">;</span>
<span class="token comment">//通过API来进行父子关系的设置（SetParent）</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">SetParent</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//断绝父子关系</span>

<span class="token comment">//参数一：我的父亲</span>
<span class="token comment">//参数二：是否保留世界坐标的位置、角度、缩放信息</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">SetParent</span><span class="token punctuation">(</span>GameObject<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Father2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>transform，<span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//认爸爸</span>
</code></pre> 
<p><strong>抛妻弃子：</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//和自己所有的儿子断绝关系</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">DetachChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>获取子对象：</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//按名字查找儿子</span>
<span class="token comment">//找到儿子的transform信息</span>
<span class="token comment">//1、能找失活对象</span>
<span class="token comment">//2、能找到自己的儿子，找不到自己的孙子</span>
<span class="token comment">//3、效率比GameObject高，但是需要知道父亲是谁才能找</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Cube"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//遍历儿子</span>
<span class="token comment">//如何得到有多少个儿子</span>
<span class="token comment">//1、失活的儿子也算数量</span>
<span class="token comment">//2、孙子不算数量</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>childCount<span class="token punctuation">;</span>
<span class="token comment">//通过索引号得到对应的儿子</span>
<span class="token comment">//1、若编号超出范围则报错</span>
<span class="token comment">//2、返回值是transform</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">GetChild</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>儿子的操作：</strong></p> 
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token class-name">Transform</span> son<span class="token punctuation">;</span>
<span class="token comment">//判断自己的爸爸是谁</span>
son<span class="token punctuation">.</span><span class="token function">IsChildOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//得到自己作为儿子的编号</span>
son<span class="token punctuation">.</span><span class="token function">GetSiblingIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//把自己设置为第一个儿子</span>
son<span class="token punctuation">.</span><span class="token function">SetAsFirstSibling</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//把自己设置为最后一个儿子</span>
son<span class="token punctuation">.</span><span class="token function">SetAsLastSibling</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//把自己设置为指定编号儿子(若超出范围，则设置为最边上的编号)</span>
son<span class="token punctuation">.</span><span class="token function">SetSiblingIndex</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<h3><a id="_707"></a>坐标转换</h3> 
<p><strong>世界坐标转本地坐标</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//世界坐标系的点转换为相对本地坐标系的点</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">InverseTransformPoint</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>forward<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//受到缩放影响</span>
<span class="token comment">//世界坐标系的方向转换为相对本地坐标系的方向</span>
<span class="token comment">//不受缩放影响</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">InverseTransformDirection</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>forward<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//受缩放影响</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">InverseTransformVector</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>forward<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>本地坐标转世界坐标</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//本地坐标系的点转换为相对世界坐标系的点</span>
<span class="token comment">//受到缩放影响</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">TransformPoint</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>forward<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//本地坐标系的方向转换为相对世界坐标系的方向</span>
<span class="token comment">//不受缩放影响</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">TransformDirection</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>forward<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//受缩放影响</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">TransformVector</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>forward<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="Input_731"></a>输入相关Input</h3> 
<h4><a id="_732"></a>鼠标键盘输入</h4> 
<p><strong>鼠标在屏幕位置</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//屏幕坐标的原点，在屏幕的左下角，往右是x轴正方向，往上是y轴正方向</span>
Input<span class="token punctuation">.</span>mousePosition<span class="token punctuation">;</span>
</code></pre> 
<p><strong>检测鼠标输入</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//鼠标按下一瞬间进入</span>
<span class="token comment">//0左键 1右键 2中键</span>
Input<span class="token punctuation">.</span><span class="token function">GetMouseButtonDown</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//鼠标抬起一瞬间进入</span>
Input<span class="token punctuation">.</span><span class="token function">GetMouseButtonUp</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//鼠标长按按下抬起都会进入</span>
Input<span class="token punctuation">.</span><span class="token function">GetMouseButton</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//中键滚动</span>
<span class="token comment">//返回值的y -1下 0不动 1上</span>
Input<span class="token punctuation">.</span>mouseScrollDelta<span class="token punctuation">;</span>
</code></pre> 
<p><strong>检测键盘输入</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//键盘按下</span>
Input<span class="token punctuation">.</span><span class="token function">GetKeyDown</span><span class="token punctuation">(</span>KeyCode<span class="token punctuation">.</span>W<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//传入字符串的重载</span>
<span class="token comment">//传入字符串必须为小写</span>
Inut<span class="token punctuation">.</span><span class="token function">GetKeyDown</span><span class="token punctuation">(</span><span class="token string">"q"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//键盘抬起</span>
Input<span class="token punctuation">.</span><span class="token function">GetKeyUp</span><span class="token punctuation">(</span>KeyCode<span class="token punctuation">.</span>W<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//键盘长按</span>
Input<span class="token punctuation">.</span><span class="token function">GetKey</span><span class="token punctuation">(</span>KeyCode<span class="token punctuation">.</span>W<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>检测默认轴输入</strong><br> 我们学习鼠标键盘输入，主要是用来控制玩家，比如旋转位移等等。所以Unity提供了更方便的方法来帮助我们控制对象的位移和旋转。</p> 
<pre><code class="prism language-csharp"><span class="token comment">//键盘AD按下时，返回-1到1之间的变换</span>
Input<span class="token punctuation">.</span><span class="token function">GetAxis</span><span class="token punctuation">(</span><span class="token string">"Horizontal"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//键盘SW按下时，返回-1到1之间的变换</span>
Input<span class="token punctuation">.</span><span class="token function">GetAxis</span><span class="token punctuation">(</span><span class="token string">"Vertical"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//鼠标横向移动时，-1到1 左 右</span>
Input<span class="token punctuation">.</span><span class="token function">GetAxis</span><span class="token punctuation">(</span><span class="token string">"Mouse X"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//鼠标纵向移动时，-1到1 左 右</span>
Input<span class="token punctuation">.</span><span class="token function">GetAxis</span><span class="token punctuation">(</span><span class="token string">"Mouse Y"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><code>GetAxisRaw</code>方法和<code>GetAxis</code>使用方式相同，只不过前者的返回值只会是 -1 0 1不会有中间值。<br> <strong>其它</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//是否有任意键或鼠标长按</span>
Input<span class="token punctuation">.</span>anyKey<span class="token punctuation">;</span>
<span class="token comment">//是否有任意键或鼠标按下</span>
Input<span class="token punctuation">.</span>anyKeyDown<span class="token punctuation">;</span>
<span class="token comment">//这一帧的键盘输入</span>
Input<span class="token punctuation">.</span>inputString<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_790"></a>触摸手柄陀螺仪</h4> 
<pre><code class="prism language-csharp"><span class="token comment">//得到连接的手柄的所有按钮名字</span>
Input<span class="token punctuation">.</span><span class="token function">GetJoystickNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//某一个手柄键按下</span>
Input<span class="token punctuation">.</span><span class="token function">GetButtonDown</span><span class="token punctuation">(</span><span class="token string">"Jump"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//某一个手柄键抬起</span>
Input<span class="token punctuation">.</span><span class="token function">GetButtonUp</span><span class="token punctuation">(</span><span class="token string">"Jump"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//某一个手柄键长按</span>
Input<span class="token punctuation">.</span><span class="token function">GetButton</span><span class="token punctuation">(</span><span class="token string">"Jump"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//移动设备触摸相关</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>Input<span class="token punctuation">.</span>touchCount <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token class-name">Touch</span> t1 <span class="token operator">=</span> Input<span class="token punctuation">.</span>touches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token comment">//位置</span>
	<span class="token function">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//相对上次位置的变化</span>
	<span class="token function">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>deltaPosition<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//是否启用多点触控</span>
Input<span class="token punctuation">.</span>MultiTouchEnabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token comment">//陀螺仪（重力感应）</span>
<span class="token comment">//是否开启陀螺仪 必须开启才能正常使用</span>
Input<span class="token punctuation">.</span>gyro<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token comment">//重力加速度向量</span>
Input<span class="token punctuation">.</span>gyro<span class="token punctuation">.</span>gravity<span class="token punctuation">;</span>
<span class="token comment">//旋转速度</span>
Input<span class="token punctuation">.</span>gyro<span class="token punctuation">.</span>rotationRate<span class="token punctuation">;</span>
<span class="token comment">//陀螺仪当前的旋转四元数</span>
Input<span class="token punctuation">.</span>gyro<span class="token punctuation">.</span>attitude<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="Screen_822"></a>屏幕相关Screen</h3> 
<p><strong>静态属性：</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//当前屏幕分辨率</span>
Screen<span class="token punctuation">.</span>currentResolution<span class="token punctuation">;</span>
<span class="token comment">//屏幕窗口当前宽高</span>
Screen<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
Screen<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
<span class="token comment">//屏幕休眠模式</span>
Screen<span class="token punctuation">.</span>sleepTimeout <span class="token operator">=</span> SleepTimeout<span class="token punctuation">.</span>NeverSleep<span class="token punctuation">;</span>
</code></pre> 
<p>以下不常用：</p> 
<pre><code class="prism language-csharp"><span class="token comment">//运行时是否全屏模式</span>
Screen<span class="token punctuation">.</span>fullScreen <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token comment">//独占全屏</span>
FullScreenMode<span class="token punctuation">.</span>ExclusiveFullScreen
<span class="token comment">//全屏窗口</span>
FullScreenMode<span class="token punctuation">.</span>FullScreenWindow
<span class="token comment">//最大化窗口</span>
FullScreenMode<span class="token punctuation">.</span>MaximizeWidow
<span class="token comment">//窗口模式</span>
FullScreenMode<span class="token punctuation">.</span>Windowed

<span class="token comment">//移动设备屏幕转向相关</span>
<span class="token comment">//允许自动旋转为左横向 Home键在左</span>
Screen<span class="token punctuation">.</span>autorotateToLandscapeLeft <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token comment">//允许自动旋转为右横向 Home键在右</span>
Screen<span class="token punctuation">.</span>autorotateToLandscapeRight <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token comment">//允许自动旋转转到纵向 Home键在下</span>
Screen<span class="token punctuation">.</span>autorotateToPortrait <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token comment">//允许自动旋转转到纵向倒着看 Home键在上</span>
Screen<span class="token punctuation">.</span>autorotateToPortraitUpsideDown <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token comment">//指定屏幕显示方向</span>
Screen<span class="token punctuation">.</span>orientation <span class="token operator">=</span> ScreenOrientation<span class="token punctuation">.</span>Landscape<span class="token punctuation">;</span>
</code></pre> 
<p><strong>静态方法：</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//设置分辨率 一般移动设备不使用</span>
<span class="token comment">//参数三 是否全屏</span>
Screen<span class="token punctuation">.</span><span class="token function">SetResolution</span><span class="token punctuation">(</span><span class="token number">1920</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<h3><a id="Camera_869"></a>必不可少的摄像机Camera</h3> 
<h4><a id="Camera_870"></a>Camera可编辑参数</h4> 
<p><strong>Clear Flags（如何清除背景？）</strong><br> 1、<code>skybox</code>天空盒<br> 2、<code>Solid Color</code>颜色填充<br> 3、<code>Depth only</code>只画该层，背景透明<br> 4、<code>Don't Clear</code>不移除，覆盖渲染<br> <strong>Culling Mask（选择性渲染部分层级）</strong><br> 可以指定只渲染对应层级的对象<br> <strong>projection</strong><br> 一、<code>Perspective</code>透视模式<br> 1、<code>FOV Axis</code>视场角轴<br> 决定了光学仪器的视野范围。<br> 2、<code>Field view</code>视口大小<br> 3、<code>Physical Camera</code><br> 物理摄像机，勾选后可以模拟真实世界中的摄像机、焦距、传感器尺寸、透镜移位等等。</p> 
<ul><li><code>Focal Length</code>（焦距）</li><li><code>Sensor Type</code>（传感器类型）</li><li><code>Sensor Size</code>（传感器尺寸）</li><li><code>Lens Shift</code>（透镜移位）</li><li><code>Gate Fit</code>（闸门配合）<br> 二、<code>orthographic</code>（正交摄像机，一般用于2D游戏制作）<br> 1、<code>Size</code>（摄制范围）</li></ul> 
<p><strong>Clipping Planes（裁剪平面距离）</strong><br> <strong>Depth（渲染顺序上的深度）</strong><br> 数字越小越先被渲染<br> <strong>Target Texture（渲染纹理）</strong><br> 可以把摄像机画面渲染到一张图上，主要用于制作小地图，在Project右键创建Render Texture。<br> <strong>Occlusion Culling（是否启用剔除遮挡）</strong></p> 
<p><strong>以下仅作了解：</strong><br> <code>Viewport Rect</code>：视口范围，屏幕上将绘制该摄像机试图的位置，主要用于双摄像机游戏，0~1相当于宽高百分比。<br> <code>Redering path</code>：渲染路径<br> <code>Allow HDR</code>：是否允许高动态范围渲染<br> <code>Allow MSAA</code>：是否允许抗锯齿<br> <code>Allow Dynamic Resolution</code>：是否允许动态分辨率呈现<br> <code>Target Display</code>：用于哪个显示器，主要用来开发有多个屏幕的平台游戏</p> 
<h4><a id="Camera_908"></a>Camera代码相关</h4> 
<p><strong>重要的静态成员：</strong><br> 1、获取摄像机</p> 
<pre><code class="prism language-csharp"><span class="token comment">//主摄像机的获取</span>
<span class="token comment">//若想通过这种方式，快速获取摄像机，那么场景上必须有一个，tag为MainCamera的摄像机</span>
Camera<span class="token punctuation">.</span>mian<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token comment">//获取摄像机的数量</span>
Camera<span class="token punctuation">.</span>allCamerasCount<span class="token punctuation">;</span>
<span class="token comment">//得到所有摄像机</span>
<span class="token class-name">Camera<span class="token punctuation">[</span><span class="token punctuation">]</span></span> allCamera <span class="token operator">=</span> Camera<span class="token punctuation">.</span>allCameras<span class="token punctuation">;</span>
</code></pre> 
<p>2、渲染相关委托</p> 
<pre><code class="prism language-csharp"><span class="token comment">//摄像机剔除前处理的委托函数</span>
Camera<span class="token punctuation">.</span>onPreCull <span class="token operator">+=</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//摄像机渲染前处理的委托</span>
Camera<span class="token punctuation">.</span>onPreRender <span class="token operator">+=</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//摄像机渲染后处理的委托</span>
Camera<span class="token punctuation">.</span>onPostRender <span class="token operator">+=</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>重要成员</strong><br> 1、界面上的参数，都可以在Camera中获取到<br> 例如：</p> 
<pre><code class="prism language-csharp">Camera<span class="token punctuation">.</span>main<span class="token punctuation">.</span>depth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre> 
<p>2、世界坐标转屏幕坐标</p> 
<pre><code class="prism language-csharp"><span class="token class-name">Vector3</span> v <span class="token operator">=</span> Camera<span class="token punctuation">.</span>main<span class="token punctuation">.</span><span class="token function">WorldToScreenPoint</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>2、屏幕坐标转世界坐标</p> 
<pre><code class="prism language-csharp"><span class="token comment">//如果不改z轴，默认为0</span>
<span class="token comment">//转换过去的世界坐标系的点永远都是一个点，可以理解为视口相交的焦点</span>
<span class="token comment">//如果改变了z那么转换过去世界坐标的点就是相对于摄像机前方多少的单位的横截面积上的世界坐标点</span>
<span class="token class-name">Vector3</span> v <span class="token operator">=</span> Input<span class="token punctuation">.</span>mousePosition<span class="token punctuation">;</span>
v<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>position <span class="token operator">=</span> Camera<span class="token punctuation">.</span>main<span class="token punctuation">.</span><span class="token function">ScreenToWorldPoint</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="_961"></a>核心系统</h2> 
<h3><a id="_962"></a>光源系统基础</h3> 
<h4><a id="_963"></a>光源组件</h4> 
<p><strong>Type（光源类型）</strong><br> 1、<code>Spot</code>（聚光灯）</p> 
<ul><li><code>Range</code>（发光范围距离）</li><li><code>Spot Angle</code>（光锥角度）</li></ul> 
<p>2、<code>Directional</code>（方向光（环境光））<br> 3、<code>Point</code>（点光源）<br> 4、<code>Area</code>（面光源）</p> 
<p><strong>Color（颜色）</strong><br> <strong>Mode（光源模式）</strong><br> 1、<code>Realtime</code>（实时光源）<br> 每帧实时计算，效果好，性能消耗大<br> 2、<code>Baked</code>（烘焙光源）<br> 事先计算好，无法动态变化<br> 3、<code>Mixed</code>（混合光源）<br> 预先计算+实时运算<br> <strong>Intensity（光源亮度）</strong><br> <strong>Shadow Type</strong><br> 1、<code>NoShadows</code>（关闭阴影）<br> 2、<code>HardShadows</code>（生硬阴影）<br> 3、<code>SoftShadow</code>（柔和阴影）<br> <strong>Cookie（投影遮罩）</strong><br> <strong>Draw Halo（球形光环开关）</strong><br> <strong>Flare（耀斑）</strong><br> <strong>Culling Mask（剔除遮罩层，决定哪些层的对象受到该光源影响）</strong><br> <strong>Indirect Multiplier（改变间接光的强度）</strong><br> 1、低于1：每次反弹会使光更暗<br> 2、大于1：每次反弹会使光更亮<br> <strong>RealtimesShadows</strong><br> 1、<code>Strength</code>：阴影暗度0-1之间，越大越黑<br> 2、<code>Resolution</code>：阴影贴图渲染分辨率，越高越逼真，消耗越高<br> 3、<code>Bias</code>：阴影推离光源的距离<br> 4、<code>Normal Bias</code>：阴影投射面沿法线收缩距离<br> 5、<code>Near Panel</code>：渲染阴影的近裁剪面<br> <strong>Render Mode（渲染优先级）</strong><br> 1、<code>Auto</code>（运行时确定）<br> 2、<code>Important</code>（以像素质量为单位进行渲染，效果逼真，消耗大）<br> 3、<code>Not Important</code>（以快速模式进行渲染）</p> 
<h4><a id="_1003"></a>光面板相关</h4> 
<p><strong>Environment</strong><br> 1、<code>Skybox Material</code>（天空盒材质）<br> 可以改变天空盒<br> 2、<code>Sun Source</code>（太阳来源）<br> 不设置会默认使用场景中最亮的方向光代表太阳<br> 3、<code>Environment Lighting</code>（环境光设置）<br> ①<code>Source</code>（环境光光源颜色）</p> 
<ul><li><code>Skybox</code>：天空和材质作为环境光颜色</li><li><code>Gradient</code>：可以为天空、地平线、地面单独选择颜色和他们之间混合<br> ②<code>Intensity Multiplier</code>（环境光亮度）<br> ③<code>Ambient Mode</code>（全局光照模式）<br> 只有启用了实时全局和全局烘焙才有用 
  <ul><li><code>Realtime</code>（已弃用）</li><li><code>Baked</code></li></ul> </li></ul> 
<p><strong>OtherSettings（其他设置）</strong><br> <strong>Fog（雾开关）</strong><br> 1、<code>Color</code>（雾颜色）<br> 2、<code>Mode</code>（雾计算模式）<br> ①<code>Linear</code>（随距离线性增加）</p> 
<ul><li><code>Start</code>：离摄像机多远开始有雾</li><li><code>End</code>：离摄像机多远完全遮挡</li></ul> 
<p>②<code>Exponential</code>（随距离指数增加）</p> 
<ul><li><code>Density</code>：强度</li></ul> 
<p>②<code>Exponential Squared</code>（随距离比指数更快的增加）</p> 
<ul><li><code>Density</code>：强度</li></ul> 
<p><strong>Halo Texture（光源周围挥着光的纹理）</strong><br> <strong>Halo Strength（光环可见性）</strong><br> <strong>Flare Fade Speed（耀斑淡出时间，最初出现之后淡出的时间）</strong><br> <strong>Flare Strength（耀斑可见性）</strong><br> <strong>Spot Cookie（聚光灯剪影纹理）</strong></p> 
<h2><a id="_1042"></a>物理系统之碰撞检测</h2> 
<h3><a id="_1043"></a>刚体</h3> 
<blockquote> 
 <p>碰撞产生的必要条件：<br> ①两个物体都有碰撞器<br> ②至少一个物体有刚体</p> 
</blockquote> 
<p><strong>RigidBody组件信息</strong><br> 1、<code>Mass</code>（质量）：质量越大惯性越大<br> 2、<code>Drag</code>（空气阻力）：根据<em>力移动</em>对象时影响对象的空气阻力大小，0表示没有空气阻力<br> 3、<code>Angular Drag</code>：根据<em>扭矩旋转</em>对象时影响对象的空气阻力大小，0表示没有空气阻力<br> 4、<code>Use Gravity</code>：是否受重力影响<br> 5、<code>Is Kinematic</code>：如果启用此选项，则对象将不会被物理引擎驱动，只能通过（<code>Transform</code>）对其进行操作。对于移动平台，或者如果要动画化附加了<code>HingeJoint</code>的刚体，此属性将非常有用。<br> 6、<code>Interpolate</code>（插值运算）：让刚体物体移动更平滑</p> 
<ul><li><code>None</code>：不应用插值运算</li><li><code>Interpolate</code>：根据前一帧的变换来平滑变换</li><li><code>Extrapolate</code>：插值运算，根据下一帧的估计变换来平滑变换</li></ul> 
<p>7、<code>Collsion Detection</code>（碰撞检测模式）：用于防止快速移动的对象穿过其它对象而不检测碰撞</p> 
<p>①<code>Discrete</code>（离散检测）</p> 
<ul><li>对场景中的所有其他碰撞体使用离散碰撞检测</li><li>其他碰撞体在测试碰撞时会使用离散碰撞检测</li><li>用于正常碰撞（默认值）</li></ul> 
<p>②<code>Continuous</code>（连续检测）</p> 
<ul><li>对动态碰撞体（具有刚体）使用离散碰撞检测</li><li>并对静态碰撞体（没有刚体）使用连续碰撞检测</li><li>设置为连续动态（<code>Continuous Dynamic</code>）的刚体将在测试与该刚体的碰撞时使用连续碰撞检测（此属性对物理性能有很大的影响，如果没有快速对象的碰撞问题，请将其保留为Discrete设置）</li><li>其他刚体将使用离散碰撞检测</li></ul> 
<p>③<code>Continuous Dynamic</code>（连续动态检测）【性能消耗高】</p> 
<ul><li>对设置为连续（<code>Continuous</code>）和连续动态（<code>Continuous Dynamic</code>）碰撞的游戏对象使用连续碰撞检测</li><li>还将对静态碰撞体（没有刚体）使用连续碰撞检测</li><li>对于所有其他碰撞体，使用离散碰撞检测</li><li>用于快速移动的对象</li></ul> 
<p>④<code>Continuous Speculative</code>（连续推测检测）</p> 
<ul><li>对刚体和碰撞体使用推测性连续碰撞检测，该方法通常比连续碰撞检测的成本更低<br> <img src="https://images2.imgbox.com/d0/66/4bkZqmV1_o.png" alt="在这里插入图片描述"></li></ul> 
<p>8、<code>Constraints</code>（约束）：对刚体运动的限制</p> 
<ul><li><code>Freeze Position</code>：有选择地停止刚体沿世界X、Y和Z轴的移动</li><li><code>Freeze Rotation</code>：有选择地停止刚体围绕局部X、Y和Z轴旋转</li></ul> 
<h3><a id="_1091"></a>碰撞器</h3> 
<p>碰撞器表示物体的体积（形状），刚体会利用体积进行碰撞计算，模拟真实的碰撞效果，产生力的作用。<br> <strong>3D碰撞器种类</strong><br> 1、盒状<br> 2、球状<br> 3、胶囊<br> 4、网格<br> 5、轮胎<br> 6、地形<br> <strong>共同参数</strong><br> 1、<code>Is Trigger</code><br> 是否是触发器，如果启用此属性，则该碰撞体将用于触发事件，并被物理引擎忽略。主要用于进行没有物理效果的碰撞检测。<br> 2、<code>Material</code><br> 物理材质，可以确定碰撞体和其他对象碰撞时的交互（表现）方式<br> 3、<code>Center</code><br> 碰撞体在对象局部空间中心点位置<br> <strong>常用碰撞器</strong><br> 1、<code>BoxCollider</code>（盒状碰撞器）</p> 
<ul><li><code>Size</code>：碰撞体在X、Y、Z方向上的大小</li></ul> 
<p>2、<code>Sphere Collider</code>（球状碰撞器）</p> 
<ul><li><code>Radius</code>：球形碰撞体的半径大小</li></ul> 
<p>3、<code>Capsule Collider</code>（胶囊碰撞器）</p> 
<ul><li><code>Radius</code>：胶囊体的半径</li><li><code>Height</code>：胶囊体的高度</li><li><code>Direction</code>：胶囊体在对象局部空间中的轴向</li></ul> 
<p><strong>异形物体使用多种碰撞器组合</strong><br> 刚体对象的子对象碰撞器信息参与碰撞检测<br> <strong>不常用碰撞器</strong><br> 1、<code>Mesh Collider</code>（网格碰撞器）</p> 
<ul><li> <p><code>Convex</code>：勾选此复选框可启用<code>Convex</code>。如果启用此属性，该<code>Mesh Collider</code>将与其他<code>Mesh Collider</code>发生碰撞。<code>Convex Mesh Collider</code>最多255个三角形。若该对象加了刚体，则必须勾选此复选框。</p> </li><li> <p><code>Cooking Options</code>：启用或禁用影响物理引擎对网格处理方式的网格烹制选项<br> ①<code>None</code>：禁用下方列出的所有<code>Cooking Options</code><br> ②<code>Everything</code>：启用下方列出的所有<code>Cooking Options</code><br> ③<code>Cook for Faster Simulation</code>：使物理引擎烹制网格以加快模拟速度。启用此设置后，这会运行一些额外步骤，以保证生成的网格对于运行性能最佳的。这会影响物理查询和接触生成的性能 。禁用此设置后，物理引擎会使用更快的烹制速度，并尽可能快速生成结果。因此，烹制的<code>Mesh Collider</code>可能不是最佳的<br> ④<code>Enable Mesh Cleaning</code>：使物理引擎清理网格，。启用此设置后，烹制过程会尝试消除网格的退化三角形以及其他几何瑕疵。此过程生成的网格更适合于在碰撞检测中使用，往往可生成更准确的击中点<br> ⑤<code>Weld Colocated Vertices</code>：使物理引擎在网格中删除相等的顶点。启用此设置后，物理引擎将合并具有相同位置的顶点。这对于运行时发生的碰撞反馈十分重要</p> </li><li> <p><code>Mesh</code>：引用需要用于碰撞的网格</p> </li></ul> 
<p>2、<code>Wheel Collider</code>（环状碰撞器）</p> 
<ul><li> <p><code>Mass</code>：车轮的质量</p> </li><li> <p><code>Radius</code>：车轮的半径</p> </li><li> <p><code>Wheel Damping Rate</code>：应用于车轮的阻尼值</p> </li><li> <p><code>Suspension Distance</code>：车轮悬梁的最大延伸距离（在局部空间中测量）。悬架始终向下延伸穿过局部Y轴</p> </li><li> <p><code>Force App Point Distance</code>：此参数定义车轮上的受力点。此距离应该是距车轮底部静止位置的距离（沿悬架行程方向），以米为单位。当<code>forceAppPointDistance = 0</code>时，受力点位于静止的车轮底部。较好的车辆会使受力点略低于车辆质心</p> </li><li> <p><code>Suspension Spring</code>：悬架尝试通过增加弹簧力和阻尼力来到达目标位置</p> </li><li> <p><code>Forward Spring</code>：车轮向前滚动时轮胎摩擦的特性</p> </li><li> <p><code>Sideways Friction</code>：车轮侧向移动时轮胎摩擦的特性</p> <p><strong>注意</strong>：不必通过转动或滚动<code>WheelColleder</code>对象来控制汽车；附加了<code>WheelCollider</code>的对象应始终相对于汽车本身固定<br> 3、<code>Terrain Collider</code>（地形碰撞器）</p> </li><li> <p><code>Terrain Data</code>：地形数据</p> </li><li> <p><code>Enable Tree Colliders</code>：选中此属性时，将启用树碰撞体</p> </li></ul> 
<h3><a id="_1151"></a>物理材质</h3> 
<p><strong>Dynamic Friction</strong><br> 已在移动时使用的摩擦力。通常为0到1之间的值。值为0就像冰一样，值为1将对象迅速静止（除非用很大的力或重力推动对象）<br> <strong>Static Friction</strong><br> 当对象静止在表面上时使用的摩擦力。通常为0到1之间的值。值为0就像冰一样，值为1将导致很难让对象移动。<br> <strong>Bounciness</strong><br> 表面的弹性如何？值为0将不会反弹。值为1将在反弹时不产生任何能量损失，预计会有一些近似值，但可能只会给模拟增加少量能量。<br> <strong>Friction Combine</strong><br> 两个碰撞对象的摩擦力的组合方式<br> 1、Average：对两个摩擦值求平均值<br> 2、Minimum：使用两个值中的最小值。<br> 3、Maximum：使用两个值中的最大值。<br> 4、Multiply：两个摩擦值相乘。<br> <strong>unce Combine</strong><br> 两个碰撞对象的弹性的组合方式。其模式与Friction Combine模式相同。</p> 
<h3><a id="_1166"></a>碰撞检测函数</h3> 
<p><strong>注意：</strong> 碰撞和触发响应函数属于特殊的生命周期函数，也是通过反射调用<br> <strong>物理碰撞检测响应函数</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//碰撞触发接触时会自动执行这个函数</span>
<span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnCollisionEnter</span><span class="token punctuation">(</span><span class="token class-name">Collision</span> collision<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//关键参数</span>
	<span class="token comment">//1、碰撞到的对象碰撞器的信息</span>
	collision<span class="token punctuation">.</span>collider
	<span class="token comment">//2、碰撞对象的依附对象（GameObject）</span>
	collision<span class="token punctuation">.</span>gameObject
	<span class="token comment">//3、碰撞对象的依附对象的位置信息</span>
	collision<span class="token punctuation">.</span>transform
	<span class="token comment">//4、触碰点数相关</span>
	collision<span class="token punctuation">.</span>contactCount
	<span class="token comment">//接触点具体的坐标</span>
	<span class="token class-name">ContactPoint<span class="token punctuation">[</span><span class="token punctuation">]</span></span> pos <span class="token operator">=</span> collision<span class="token punctuation">.</span>contacts<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//碰撞结束分离时会自动执行的函数</span>
<span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnCollisionExit</span><span class="token punctuation">(</span><span class="token class-name">Collision</span> collision<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
<span class="token comment">//两个物体相互接触摩擦时会不停的调用该函数</span>
<span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnCollisionStay</span><span class="token punctuation">(</span><span class="token class-name">Collision</span> collision<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>触发器检测响应函数</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//触发开始的函数，当第一次接触时会自动调用</span>
<span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnTriggerEnter</span><span class="token punctuation">(</span><span class="token class-name">Collider</span> other<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	
<span class="token punctuation">}</span>
<span class="token comment">//触发结束的函数</span>
<span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnTriggerExit</span><span class="token punctuation">(</span><span class="token class-name">Collider</span> other<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
<span class="token comment">//当两个对象水乳相融的时候会不停的调用</span>
<span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnTriggerStay</span><span class="token punctuation">(</span><span class="token class-name">Collider</span> other<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>什么时候会响应函数？</strong><br> 1、只要挂载的对象能和别的物体产生碰撞或者触发，那么对应的这6个函数，就能够被响应。<br> 2、6个函数不是说我都得写，我们一般是根据需求来进行选择书写。<br> 3、如果是一个异性物体，刚体在父对象上，如果通过子对象上挂脚本检测碰撞是不行的，必须挂载到这个刚体父对象上才行。<br> <strong>碰撞和触发器函数都可以写成虚函数，在子类重写逻辑</strong><br> 一般会把想要重写的碰撞和触发函数写成保护类型的，没有必要写成public，因为不会自己手动调用，都是untiy通过反射帮助我们自动调用的。</p> 
<h3><a id="_1218"></a>刚体加力</h3> 
<p><strong>刚体添加力的方法</strong></p> 
<pre><code class="prism language-csharp"><span class="token class-name">Rigidbody</span> rigidBody<span class="token punctuation">;</span>
<span class="token comment">//1、首先应该获取刚体组件</span>
rigidBody <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Rigidbody<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//2、添加力</span>
<span class="token comment">//相对世界坐标</span>
rigidBody<span class="token punctuation">.</span><span class="token function">AddForce</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>forward <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//世界坐标系z轴正方向加了一个力</span>
<span class="token comment">//相对本地坐标</span>
rigidBody<span class="token punctuation">.</span><span class="token function">AddRelativeForce</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>forward <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//在世界坐标系方法中让对象相对于自己的面朝向移动</span>
rigidBody<span class="token punctuation">.</span><span class="token function">AddForce</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>forward <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//3、添加扭矩力，让其旋转</span>
<span class="token comment">//相对世界坐标系</span>
rigidBody<span class="token punctuation">.</span><span class="token function">AddTorque</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>up <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//相对本地坐标系</span>
rigidBody<span class="token punctuation">.</span><span class="token function">AddRelativeTorque</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>up <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//4、直接改变速度</span>
<span class="token comment">//相对于世界坐标系</span>
rigidBody<span class="token punctuation">.</span>velocity <span class="token operator">=</span> Vector3<span class="token punctuation">.</span>forward <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token comment">//5、模拟爆炸效果</span>
<span class="token comment">//力大小，位置，半径</span>
rigidBody<span class="token punctuation">.</span><span class="token function">AddExplosionForce</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span>Vector3<span class="token punctuation">.</span>zero<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>力的几种模式</strong></p> 
<blockquote> 
 <p>动量定理：Ft = mv<br> v = Ft / m<br> t：时间<br> m：质量<br> v：速度</p> 
</blockquote> 
<p>1、<code>Acceleration</code>：给物体增加一个持续的加速度，忽略其质量<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          v 
         
        
          = 
         
        
          F 
         
        
          t 
         
        
          / 
         
        
          m 
         
         
        
          F 
         
        
          : 
         
        
          ( 
         
        
          0 
         
        
          , 
         
        
          0 
         
        
          , 
         
        
          10 
         
        
          ) 
         
         
        
          t 
         
        
          : 
         
        
          0.02 
         
        
          s 
         
         
        
          m 
         
        
          ：默认为 
         
        
          1 
         
         
        
          v 
         
        
          = 
         
        
          10 
         
        
          ∗ 
         
        
          0.02 
         
        
          / 
         
        
          1 
         
        
          = 
         
        
          0.2 
         
        
          m 
         
        
          / 
         
        
          s 
         
         
        
          每物理帧移动 
         
        
          0.2 
         
        
          m 
         
        
          / 
         
        
          s 
         
        
          ∗ 
         
        
          0.02 
         
        
          = 
         
        
          0.004 
         
        
          m 
         
         
        
       
         v = Ft / m\\ F:(0,0,10)\\ t:0.02s\\ m：默认为1\\ v = 10 * 0.02 / 1 = 0.2m/s\\ 每物理帧移动0.2m/s * 0.02 = 0.004m\\ 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">v</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">Ft</span><span class="mord">/</span><span class="mord mathnormal">m</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">10</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.02</span><span class="mord mathnormal">s</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">m</span><span class="mord cjk_fallback">：默认为</span><span class="mord">1</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">v</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">10</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">0.02/1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">0.2</span><span class="mord mathnormal">m</span><span class="mord">/</span><span class="mord mathnormal">s</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord cjk_fallback">每物理帧移动</span><span class="mord">0.2</span><span class="mord mathnormal">m</span><span class="mord">/</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.02</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.004</span><span class="mord mathnormal">m</span></span><span class="mspace newline"></span></span></span></span></span><br> 2、<code>Force</code>：给物体添加一个持续的力，与物体的质量有关<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          v 
         
        
          = 
         
        
          F 
         
        
          t 
         
        
          / 
         
        
          m 
         
         
        
          F 
         
        
          : 
         
        
          ( 
         
        
          0 
         
        
          , 
         
        
          0 
         
        
          , 
         
        
          10 
         
        
          ) 
         
         
        
          t 
         
        
          : 
         
        
          0.02 
         
        
          s 
         
         
        
          m 
         
        
          ： 
         
        
          2 
         
        
          k 
         
        
          g 
         
         
        
          v 
         
        
          = 
         
        
          10 
         
        
          ∗ 
         
        
          0.02 
         
        
          / 
         
        
          2 
         
        
          = 
         
        
          0.1 
         
        
          m 
         
        
          / 
         
        
          s 
         
         
        
          每物理帧移动 
         
        
          0.1 
         
        
          m 
         
        
          / 
         
        
          s 
         
        
          ∗ 
         
        
          0.02 
         
        
          = 
         
        
          0.002 
         
        
          m 
         
         
        
       
         v = Ft / m\\ F:(0,0,10)\\ t:0.02s\\ m：2kg\\ v = 10 * 0.02 / 2 = 0.1m/s\\ 每物理帧移动0.1m/s * 0.02 = 0.002m\\ 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">v</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">Ft</span><span class="mord">/</span><span class="mord mathnormal">m</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">10</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.02</span><span class="mord mathnormal">s</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal">m</span><span class="mord cjk_fallback">：</span><span class="mord">2</span><span class="mord mathnormal" style="margin-right: 0.0315em;">k</span><span class="mord mathnormal" style="margin-right: 0.0359em;">g</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">v</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">10</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">0.02/2</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">0.1</span><span class="mord mathnormal">m</span><span class="mord">/</span><span class="mord mathnormal">s</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord cjk_fallback">每物理帧移动</span><span class="mord">0.1</span><span class="mord mathnormal">m</span><span class="mord">/</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.02</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.002</span><span class="mord mathnormal">m</span></span><span class="mspace newline"></span></span></span></span></span><br> 3、<code>Impulse</code>：给物体添加一个瞬间的力，与物体的质量有关，忽略时间，默认为1<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          v 
         
        
          = 
         
        
          F 
         
        
          t 
         
        
          / 
         
        
          m 
         
         
        
          F 
         
        
          : 
         
        
          ( 
         
        
          0 
         
        
          , 
         
        
          0 
         
        
          , 
         
        
          10 
         
        
          ) 
         
         
        
          t 
         
        
          : 
         
        
          默认为 
         
        
          1 
         
         
        
          m 
         
        
          ： 
         
        
          2 
         
        
          k 
         
        
          g 
         
         
        
          v 
         
        
          = 
         
        
          10 
         
        
          ∗ 
         
        
          1 
         
        
          / 
         
        
          2 
         
        
          = 
         
        
          5 
         
        
          m 
         
        
          / 
         
        
          s 
         
         
        
          每物理帧移动 
         
        
          5 
         
        
          m 
         
        
          / 
         
        
          s 
         
        
          ∗ 
         
        
          0.02 
         
        
          = 
         
        
          0.1 
         
        
          m 
         
         
        
       
         v = Ft / m\\ F:(0,0,10)\\ t:默认为1\\ m：2kg\\ v = 10 * 1 / 2 = 5m/s\\ 每物理帧移动5m/s * 0.02 = 0.1m\\ 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">v</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">Ft</span><span class="mord">/</span><span class="mord mathnormal">m</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">10</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord cjk_fallback">默认为</span><span class="mord">1</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal">m</span><span class="mord cjk_fallback">：</span><span class="mord">2</span><span class="mord mathnormal" style="margin-right: 0.0315em;">k</span><span class="mord mathnormal" style="margin-right: 0.0359em;">g</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">v</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">10</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1/2</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">5</span><span class="mord mathnormal">m</span><span class="mord">/</span><span class="mord mathnormal">s</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord cjk_fallback">每物理帧移动</span><span class="mord">5</span><span class="mord mathnormal">m</span><span class="mord">/</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.02</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.1</span><span class="mord mathnormal">m</span></span><span class="mspace newline"></span></span></span></span></span><br> 4、<code>VelocityChange</code>：给物体添加一个瞬时速度，忽略质量，忽略时间<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          v 
         
        
          = 
         
        
          F 
         
        
          t 
         
        
          / 
         
        
          m 
         
         
        
          F 
         
        
          : 
         
        
          ( 
         
        
          0 
         
        
          , 
         
        
          0 
         
        
          , 
         
        
          10 
         
        
          ) 
         
         
        
          t 
         
        
          : 
         
        
          默认为 
         
        
          1 
         
         
        
          m 
         
        
          ：默认为 
         
        
          1 
         
         
        
          v 
         
        
          = 
         
        
          10 
         
        
          ∗ 
         
        
          1 
         
        
          / 
         
        
          1 
         
        
          = 
         
        
          10 
         
        
          m 
         
        
          / 
         
        
          s 
         
         
        
          每物理帧移动 
         
        
          10 
         
        
          m 
         
        
          / 
         
        
          s 
         
        
          ∗ 
         
        
          0.02 
         
        
          = 
         
        
          0.2 
         
        
          m 
         
         
        
       
         v = Ft / m\\ F:(0,0,10)\\ t:默认为1\\ m：默认为1\\ v = 10 * 1 / 1 = 10m/s\\ 每物理帧移动10m/s * 0.02 = 0.2m\\ 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">v</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">Ft</span><span class="mord">/</span><span class="mord mathnormal">m</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">10</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord cjk_fallback">默认为</span><span class="mord">1</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">m</span><span class="mord cjk_fallback">：默认为</span><span class="mord">1</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">v</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">10</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1/1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">10</span><span class="mord mathnormal">m</span><span class="mord">/</span><span class="mord mathnormal">s</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord cjk_fallback">每物理帧移动</span><span class="mord">10</span><span class="mord mathnormal">m</span><span class="mord">/</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.02</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.2</span><span class="mord mathnormal">m</span></span><span class="mspace newline"></span></span></span></span></span></p> 
<p><strong>力场脚本（Constant Force）</strong><br> <strong>刚体休眠</strong></p> 
<pre><code class="prism language-csharp"><span class="token keyword">if</span><span class="token punctuation">(</span>rigidBody<span class="token punctuation">.</span><span class="token function">IsSleeping</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	rigidBody<span class="token punctuation">.</span><span class="token function">WakeUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_1298"></a>音效系统</h2> 
<h3><a id="_1299"></a>音频文件导入</h3> 
<p><strong>常用格式</strong><br> 1、<code>wav</code><br> 2、<code>mp3</code><br> 3、<code>aiff</code><br> <strong>音频文件属性设置</strong><br> 1、<code>Force To Mono</code>：多声道转单声道</p> 
<ul><li><code>Normalize</code>：强制为单声道时，混合过程中被标准化</li></ul> 
<p>2、<code>Load In Background</code>：在后台加载时，不阻塞主线程<br> 3、<code>Ambisonic</code>：立体混响声，非常适合360度视频和<code>XR</code>应用程序，如果音频文件包含立体混响声编码的音频，请启用此选项<br> 4、<code>LoadType</code>：加载类型</p> 
<ul><li><code>Decompress On Load</code>：不压缩形式存在内存，加载快，但是内存占用高，适用于小音效</li><li><code>Compress in memory</code>：压缩形式存在内存，加载慢，内存小，仅适用于较大音效文件</li><li><code>Streaming</code>：以流形式存在，使用时解码。内存占用最小，cpu消耗高，性能换内存</li></ul> 
<p>5、<code>Preload Audio Data</code>：预加载音频，勾选后进入场景就加载，不勾选，第一次使用时才加载<br> 6、<code>Compression Format</code>：压缩方式</p> 
<ul><li><code>PCM</code>：音频以最高质量存储</li><li><code>Vorbis</code>：相对PCM压缩的更小，根据质量决定</li><li><code>ADPCM</code>：包含噪音，会被多次播放的声音，如碰撞声</li></ul> 
<p>7、<code>Quality</code>：音频质量，确定要应用于压缩剪辑的压缩量。不适用于<code>PCM/ADPCM/HEVAG</code>格式<br> 8、<code>Sample Rate Setting</code>：<code>PCM</code>和<code>ADPCM</code>压缩格式允许自动优化或手动降低采样率</p> 
<ul><li><code>Preserve Sample Rate</code>：此设置可保持采样率不变（默认值）</li><li><code>Optimize Sample Rate</code>：此设置根据分析的最高频率内容自动优化采样率</li><li><code>Override Sample Rate</code>：此设置允许手动覆盖采样率，因此可有效地将其用于丢弃频率内容</li></ul> 
<h3><a id="_1329"></a>音频源和音频监听脚本</h3> 
<p><strong>AudioSource（音频源）</strong><br> 1、<code>AudioClip</code>（声音剪辑文件，音频文件）<br> 2、<code>Output</code>（默认将直接输出到场景中的音频监听器，可以更改为输出到混音器）<br> 3、<code>Mute</code>（静音开关）<br> 4、<code>Bypass Effect</code>（开关滤波器效果）<br> 5、<code>Bypass Listener Effects</code>（快速开关所有监听器）<br> 6、<code>Bypass Reverb Zones</code>（快速开关所有混响区）<br> 7、<code>Play On Awake</code>（对象创建时就播放音乐，也就是开关启动游戏就播放）<br> 8、<code>Loop</code>（循环）<br> 9、<code>Priority</code>（优先级）<br> 10、<code>Volume</code>（音量大小）<br> 11、<code>Pitch</code>（音高）<br> 12、<code>Stereo Pan</code>（2D声音立体声位置，相当于左右声道）<br> 13、<code>Spatial Blend</code>（音频受3D空间的影响程度）<br> 14、<code>Reverb Zone Mix</code>（到混响区的输出信号量）<br> 15、<code>3D Sound Settings</code>（和Spatial Blend参数成正比使用）<br> ①<code>Doppler Level</code>：多普勒效果等级<br> ②<code>Spread</code>：扩散角度设置为3D立体声还是多声道<br> ③<code>Volume Rolloff</code>：声音衰减速度</p> 
<ul><li><code>Logarithmic Rolloff</code>：靠近音频源时，声音很大，但离开对象时，声音降低的非常快</li><li><code>Linear Rolloff</code>：与音频源的距离越远，听到的声音越小</li><li><code>Custom Rolloff</code>：音频源的音频效果是根据曲线图的设置变化的</li></ul> 
<p>④<code>Min/Max Distance</code>：最小距离内，声音保持最大响度。最大距离外，声音开始减弱。</p> 
<p><strong>AudioListener（音频监听脚本）</strong></p> 
<h3><a id="_1357"></a>代码控制音频源</h3> 
<pre><code class="prism language-csharp"><span class="token class-name">AudioSource</span> audioSource<span class="token punctuation">;</span>
audioSource <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AudioSource<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>代码控制播放停止</strong></p> 
<pre><code class="prism language-csharp"><span class="token keyword">if</span><span class="token punctuation">(</span>Input<span class="token punctuation">.</span><span class="token function">GetKeyDown</span><span class="token punctuation">(</span>KeyCode<span class="token punctuation">.</span>P<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	audioSource<span class="token punctuation">.</span><span class="token function">Play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>Input<span class="token punctuation">.</span><span class="token function">GetKeyDown</span><span class="token punctuation">(</span>KeyCode<span class="token punctuation">.</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	audioSource<span class="token punctuation">.</span><span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>Input<span class="token punctuation">.</span><span class="token function">GetKeyDown</span><span class="token punctuation">(</span>KeyCode<span class="token punctuation">.</span>Space<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	audioSource<span class="token punctuation">.</span><span class="token function">Pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
audioSource<span class="token punctuation">.</span><span class="token function">unPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
audioSource<span class="token punctuation">.</span><span class="token function">playDaleyed</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//延迟播放</span>
</code></pre> 
<p><strong>如何检测音效播放完毕</strong></p> 
<pre><code class="prism language-csharp">audioSource<span class="token punctuation">.</span>isPlaying<span class="token comment">//bool</span>
</code></pre> 
<p><strong>如何动态控制音效播放</strong><br> 1、直接在要播放音效的对象上挂载脚本控制播放<br> 2、实例化挂载了音效源脚本的对象，用的较少</p> 
<pre><code class="prism language-csharp"><span class="token function">Instantiate</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>3、用一个AudioSource来控制播放不同的音效</p> 
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token class-name">AudioClip</span> clip<span class="token punctuation">;</span>
<span class="token class-name">AudioSource</span> aus <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>gameObject<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AudioSource<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
aus<span class="token punctuation">.</span>clip <span class="token operator">=</span> clip<span class="token punctuation">;</span>
aus<span class="token punctuation">.</span><span class="token function">Play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_1402"></a>麦克风输入相关</h3> 
<p><strong>获取设备麦克风信息</strong></p> 
<pre><code class="prism language-csharp">Microphone<span class="token punctuation">.</span>devices<span class="token punctuation">;</span>
</code></pre> 
<p><strong>开始录制</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//参数一：设备名，传空使用默认设备</span>
<span class="token comment">//参数二：超过录制长度后，是否重头录制</span>
<span class="token comment">//参数三：录制时长</span>
<span class="token comment">//参数四：采样率</span>
<span class="token keyword">public</span> <span class="token class-name">AudioClip</span> clip<span class="token punctuation">;</span>
clip <span class="token operator">=</span> Microphone<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">44100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>结束录制</strong></p> 
<pre><code class="prism language-csharp">Microphone<span class="token punctuation">.</span><span class="token function">End</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>获取音频数据用于存储或者传输</strong></p> 
<pre><code class="prism language-csharp"><span class="token comment">//用于存储数组数据的长度是用声道数 * 剪辑长度</span>
<span class="token class-name">floatp<span class="token punctuation">[</span><span class="token punctuation">]</span></span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">float</span></span><span class="token punctuation">[</span>clip<span class="token punctuation">.</span>channels <span class="token operator">*</span> clip<span class="token punctuation">.</span>samples<span class="token punctuation">]</span><span class="token punctuation">;</span>
clip<span class="token punctuation">.</span><span class="token function">GetData</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//第二个参数是偏移的位置</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/90cb0fd6534dfcc1e98526fd7f8afe13/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">K8S之运用亲和性设置Pod的调度约束</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d618ba95952cc99282524941ac45f17c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Blazor Wasm 身份验证和授权之 OpenID 与 OAuth2</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>