<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Opencv4.0&#43;VS2017环境配置教程 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Opencv4.0&#43;VS2017环境配置教程" />
<meta property="og:description" content="相比于OpenCV3.4的功能改进：
1.OpenCV DNN模块新增ONNX解析器，支持各种分类网络，比如AlexNet, Inception v2, Resnet, VGG 等。部分支持tiny YOLO v2 目标检测网络。
2.DNN模块新的改进
2.1）支持Mask RCNN并新增里对应例程！
2.2）使用Intel Inference Engine（Intel推断引擎），即Intel OpenVINO的一部分，使得目标检测更快！
2.3）改进OpenCL作为后端的稳定性。
3.快速的QR二维码检测，在Core i5 CPU 640*480分辨率的图像上可以达到约80FPS！后续OpenCV4.0正式版本将加入QR二维码的解码，使其成为完整的解决分方案。
4.通过所谓的“wide universal intrinsics”不断扩展SSE4，AVX2和NEON优化内核集，持续加速OpenCV！
另外，OpenCV4.0 alpha包含一些相比之前版本的独有特性：
1.C&#43;&#43; 11标准的支持（所以编译新版本需要C&#43;&#43;11兼容的编译器）。所以许多非常nice的特性比如支持lambda函数的parallel_for，cv::Mat更加方便迭代访问，通过列出元素初始化cv::Mat都得到了默认支持。
2.标准的std::string和std::shared_ptr取代了原先版本的cv::String和cv::Ptr。 parallel_for现在可以使用std::threads线程池作为后端。
3.清理了OpenCV 1.x的旧版C API（CvMat，IplImage等），OpenCV4.0正式版将清理完成。
4.添加了基本类型16位浮点型（CV_16F ），这将对诸如对精度要求不高的比如深度学习的推断加速很明显。
5.CPU和GPU加速的KinFu实时三维密集重建算法添加到opencv_contrib中。
6.HPX加入并行计算的后端。
7.新的棋盘格（chessboard）探测器。
一、下载OpenCV4.0 直接到官网https://opencv.org/下载，直接就选择了最新版
然后根据自己的系统选择相应的选项。笔者这里选择的是win系统。
运行后指定位置可以得到相应的包以及文件里面各个子文件
二.配置环境变量 笔者是win10的系统，如果是其他系统，读者可自行查阅其他的系统属性，虽然可能会步骤不一样，但是最后都是对系统的环境变量进行编辑。
打开控制面板-》系统安全-》系统-》高级系统设置
然后打开环境变量
到了这一步，说明系统的环境变量已经完成了。
三.编译器的环境变量配置。 打开VS2017,新建一个C&#43;&#43;的项目。
在项目里面新建一个cpp源文件
新建完C&#43;&#43;的文件后，选择视图-》其他窗口-》属性管理器
然后可以得到下图：
这个与你编译的环境相关，我一般都是
所以我选择Debug&#43;x64,选择右击
点击确定，接着在选择库目录
配置完成后点击确定，再选择链接器。
这个位置要注意，这里需要手动添加，并找到相应的位置，也是和opencv3.x不同的地方
在vc14-》lib，opencv_world400.lib和opencv_world400d.lib
在vc15-》lib也有同样的lib，链接器里面没有路径之分，所以笔者这里猜测应该填一个文件下的lib就行。
填完后，点击确定就行。
四.测试环节 #include &lt;iostream&gt; #include&lt;opencv2/opencv.hpp&gt; using namespace cv; int main() { //读取本地的一张图片便显示出来 Mat img = imread(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/ccd57b6812c4514384c95944fc172376/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-10-12T19:26:24+08:00" />
<meta property="article:modified_time" content="2018-10-12T19:26:24+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Opencv4.0&#43;VS2017环境配置教程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>相比于OpenCV3.4的功能改进：</p> 
<p>1.OpenCV DNN模块新增ONNX解析器，支持各种分类网络，比如AlexNet, Inception v2, Resnet, VGG 等。部分支持tiny YOLO v2 目标检测网络。</p> 
<p>2.DNN模块新的改进</p> 
<p>2.1）支持Mask RCNN并新增里对应例程！</p> 
<p>2.2）使用Intel Inference Engine（Intel推断引擎），即Intel OpenVINO的一部分，使得目标检测更快！</p> 
<p>2.3）改进OpenCL作为后端的稳定性。</p> 
<p>3.快速的QR二维码检测，在Core i5 CPU 640*480分辨率的图像上可以达到约80FPS！后续OpenCV4.0正式版本将加入QR二维码的解码，使其成为完整的解决分方案。</p> 
<p>4.通过所谓的“wide universal intrinsics”不断扩展SSE4，AVX2和NEON优化内核集，持续加速OpenCV！</p> 
<p>另外，OpenCV4.0 alpha包含一些相比之前版本的独有特性：</p> 
<p>1.C++ 11标准的支持（所以编译新版本需要C++11兼容的编译器）。所以许多非常nice的特性比如支持lambda函数的parallel_for，cv::Mat更加方便迭代访问，通过列出元素初始化cv::Mat都得到了默认支持。</p> 
<p>2.标准的std::string和std::shared_ptr取代了原先版本的cv::String和cv::Ptr。 parallel_for现在可以使用std::threads线程池作为后端。</p> 
<p>3.清理了OpenCV 1.x的旧版C API（CvMat，IplImage等），OpenCV4.0正式版将清理完成。</p> 
<p>4.添加了基本类型16位浮点型（CV_16F ），这将对诸如对精度要求不高的比如深度学习的推断加速很明显。</p> 
<p>5.CPU和GPU加速的KinFu实时三维密集重建算法添加到opencv_contrib中。</p> 
<p>6.HPX加入并行计算的后端。</p> 
<p>7.新的棋盘格（chessboard）探测器。</p> 
<h4>一、下载OpenCV4.0</h4> 
<p>直接到官网<a href="https://opencv.org/" rel="nofollow">https://opencv.org/</a>下载，直接就选择了最新版</p> 
<p><img alt="" class="has" height="632" src="https://images2.imgbox.com/1b/6a/NhWAGJjQ_o.png" width="756"></p> 
<p>然后根据自己的系统选择相应的选项。笔者这里选择的是win系统。</p> 
<p><img alt="" class="has" height="281" src="https://images2.imgbox.com/ba/f0/2J6VhcC2_o.png" width="322"></p> 
<p><img alt="" class="has" height="24" src="https://images2.imgbox.com/fb/4a/x47DDG49_o.png" width="252"></p> 
<p>运行后指定位置可以得到相应的包<img alt="" class="has" height="24" src="https://images2.imgbox.com/c9/3c/9lyhW7SL_o.png" width="181">以及文件里面各个子文件</p> 
<p><img alt="" class="has" height="224" src="https://images2.imgbox.com/69/06/mGFbNU84_o.png" width="724"></p> 
<h4>二.配置环境变量</h4> 
<p>笔者是win10的系统，如果是其他系统，读者可自行查阅其他的系统属性，虽然可能会步骤不一样，但是最后都是对系统的环境变量进行编辑。</p> 
<p>打开控制面板-》系统安全-》系统-》高级系统设置</p> 
<p><img alt="" class="has" height="681" src="https://images2.imgbox.com/10/7e/wY6CELok_o.png" width="798"></p> 
<p>然后打开环境变量</p> 
<p><img alt="" class="has" height="605" src="https://images2.imgbox.com/1d/a3/AkLcD4eD_o.png" width="493"></p> 
<p><img alt="" class="has" height="660" src="https://images2.imgbox.com/41/7b/OwNMQWo0_o.png" width="1188"></p> 
<p>到了这一步，说明系统的环境变量已经完成了。</p> 
<h4>三.编译器的环境变量配置。</h4> 
<p>打开VS2017,新建一个C++的项目。</p> 
<p><img alt="" class="has" height="736" src="https://images2.imgbox.com/16/82/GGQtKgVX_o.png" width="1200"></p> 
<p>在项目里面新建一个cpp源文件</p> 
<p><img alt="" class="has" height="736" src="https://images2.imgbox.com/fb/2a/R3Vmw39w_o.png" width="1200"></p> 
<p>新建完C++的文件后，选择视图-》其他窗口-》属性管理器</p> 
<p><img alt="" class="has" height="736" src="https://images2.imgbox.com/35/42/eh8xYq8u_o.png" width="1200"></p> 
<p>然后可以得到下图：</p> 
<p><img alt="" class="has" height="195" src="https://images2.imgbox.com/0a/63/17WboyUc_o.png" width="284"></p> 
<p>这个与你编译的环境相关，我一般都是<img alt="" class="has" height="76" src="https://images2.imgbox.com/36/0d/9mf60afs_o.png" width="412"></p> 
<p>所以我选择Debug+x64,选择右击</p> 
<p><img alt="" class="has" height="251" src="https://images2.imgbox.com/f7/46/kalg9K9X_o.png" width="470"></p> 
<p><img alt="" class="has" height="617" src="https://images2.imgbox.com/d6/91/jxMnDLkF_o.png" width="1200"></p> 
<p><img alt="" class="has" height="600" src="https://images2.imgbox.com/a6/c6/l9Gl91nS_o.png" width="892"></p> 
<p><img alt="" class="has" height="59" src="https://images2.imgbox.com/d1/3e/AecctGkJ_o.png" width="641"></p> 
<p><img alt="" class="has" height="405" src="https://images2.imgbox.com/09/a1/C7bj9OPP_o.png" width="436"></p> 
<p>点击确定，接着在选择库目录</p> 
<p><img alt="" class="has" height="81" src="https://images2.imgbox.com/10/70/0hLu6y34_o.png" width="672"></p> 
<p><img alt="" class="has" height="405" src="https://images2.imgbox.com/ee/39/MdhskqZ3_o.png" width="436"></p> 
<p>配置完成后点击确定，再选择链接器。</p> 
<p><img alt="" class="has" height="600" src="https://images2.imgbox.com/8a/27/zfq8lnNl_o.png" width="892"></p> 
<p>这个位置要注意，这里需要手动添加，并找到相应的位置，也是和opencv3.x不同的地方</p> 
<p><img alt="" class="has" height="149" src="https://images2.imgbox.com/6c/db/JvTjDc2E_o.png" width="396"></p> 
<p>在vc14-》lib<img alt="" class="has" height="40" src="https://images2.imgbox.com/c3/b5/6m9lddRH_o.png" width="173">，opencv_world400.lib和opencv_world400d.lib</p> 
<p>在vc15-》lib也有同样的lib，链接器里面没有路径之分，所以笔者这里猜测应该填一个文件下的lib就行。</p> 
<p><img alt="" class="has" height="405" src="https://images2.imgbox.com/c0/a0/StviUh9b_o.png" width="436"></p> 
<p>填完后，点击确定就行。</p> 
<h4>四.测试环节</h4> 
<pre class="has"><code>#include &lt;iostream&gt;
#include&lt;opencv2/opencv.hpp&gt;
using namespace cv;

int main()

{
	//读取本地的一张图片便显示出来

	Mat img = imread("dota.jpg");

	imshow("测试窗口", img);


	waitKey(0);
	return 0;
}</code></pre> 
<p> </p> 
<p><img alt="" class="has" height="736" src="https://images2.imgbox.com/40/b2/OOeNeBxY_o.png" width="1200"></p> 
<p>最后要提醒的是，关于之前已经安装过opencv其他版本的话，要删除依赖项里面的以往版本的lib。不然会报错。<a href="https://bbs.csdn.net/topics/390733725">点击此处删除</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c08744600fcce1006bc5a80610bf04d8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">String的初始化</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bf79a1b91eaebf7ca0ef440f32df9092/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java 两个list数据根据某个字段合并</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>