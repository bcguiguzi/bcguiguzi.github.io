<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Docker的安装 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Docker的安装" />
<meta property="og:description" content="目录
一、Docker的基本组成
三要素：
镜像：
容器：
仓库：
二、Docker的平台架构
三、Docker安装步骤
一、Docker的基本组成 三要素： 镜像： Docker的镜像就是一个只读的模板。镜像可以用来创建Docker容器，一个镜像可以创建很多容器。他也相当于是一个root文件系统。比如官方镜像Centos7就包含了一套完整centos最小系统的root文件系统。就相当于容器的源代码，docker镜像文件类似于JAVA的类模板，而docker容器实例类似于java中new出来的实例对象。
容器： 从镜像容器角度
可以把容器看做是一个简易版的Linux环境（包括root用户权限、进程空间、用户空间和网络空间等）和运行在其中的应用程序
从面向对象角度
Docker利用容器独立运行的一个或一组应用，应用程序或服务运行在容器里面，容器就类似于一个虚拟化的运行环境，容器是镜像场景的运行实例。镜像是静态的定义，容器是镜像运行时的实体。容器为镜像提供了一个标准的和隔离的运行环境，他可以被启动，开始、停止、删除。每个容器都是相互隔离的、保证安全的平台。
仓库： 仓库是集中存放镜像文件的场所。仓库分为公开仓库和私有仓库；最大的公开仓库是 Docker Hub(https://hub.docker.com/)，存放了数量庞大的镜像供用户下载。国内的公开仓库包括阿里云 、网易云等
Docker通过客户端可以连接到主机的docker引擎的后台程序daemon，运行时，如果本地有镜像，可以通过镜像直接运行一个容器，如果本地没有，docker引擎程序则去远程仓库上（docker hub）拉取一个镜像。
Docker是一个Client-Server结构的系统，Docker守护进程运行在主机上， 然后通过Socket连接从客户端访问，守护进程从客户端接受命令并管理运行在主机上的容器。 容器，是一个运行时环境，就是我们前面说到的集装箱。类似于MySQL；主机上启动之后，服务中会出现一个MySQL进程（类比于docker守护进程），我们使用Navicat客户端（类比于docker客户端）连接到数据库；执行SQL脚本生成SQL语句（类比于docker使用镜像生成各种容器）。
总结：Docker 本身是一个容器运行载体或称之为管理引擎。我们把应用程序和配置依赖打包好形成一个可交付的运行环境，这个打包好的运行环境就是image镜像文件。只有通过这个镜像文件才能生成Docker容器实例。image文件可以看作是容器的模板。Docker 根据 image 文件生成容器的实例。同一个 image 文件，可以生成多个同时运行的容器实例。
二、Docker的平台架构 Docker 是一个 C/S 模式的架构，后端是一个松耦合架构，众多模块各司其职。
1.用户是使用Docker Client与 Docker Daemon建立通信，并发送请求给后者。
2.Docker Daemon作为Docker架构中的主体部分，首先提供 Docker Server的功能使其可以接受Docker Client 的请求。
3.Docker Engine执行Docker 内部的一系列工作，每一项工作都是以一个Job 的形式的存在。
4.Job 的运行过程中，当需要容器镜像时，则从Docker Registry中下载镜像，并通过镜像管理驱动Graph driver将下载镜像以Graph的形式存储。
5.当需要为Docker创建网络环境时，通过网络管理驱动Network driver创建并配置Docker容器网络环境。
6.当需要限制Docker容器运行资源或执行用户指令等操作时，则通过Exec driver来完成。
7.Libcontainer是一项独立的容器管理包，Network driver以及Exec driver都是通过Libcontainer来实现具体对容器进行的操作。
三、Docker安装步骤 1.确认Centos7及以上版本
2.安装gcc编译环境相关
[root@localhost ~]# yum install gcc -y [root@localhost ~]# yum install gcc-c&#43;&#43; -y 3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/14d5ec7d811851cec71f59fe83b0184d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-28T16:54:06+08:00" />
<meta property="article:modified_time" content="2022-09-28T16:54:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Docker的安装</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81Docker%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81Docker%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90" rel="nofollow">一、Docker的基本组成</a></p> 
<p id="%E4%B8%89%E8%A6%81%E7%B4%A0%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E8%A6%81%E7%B4%A0%EF%BC%9A" rel="nofollow">三要素：</a></p> 
<p id="%E9%95%9C%E5%83%8F%EF%BC%9A-toc" style="margin-left:80px;"><a href="#%E9%95%9C%E5%83%8F%EF%BC%9A" rel="nofollow">镜像：</a></p> 
<p id="%E5%AE%B9%E5%99%A8%EF%BC%9A-toc" style="margin-left:80px;"><a href="#%E5%AE%B9%E5%99%A8%EF%BC%9A" rel="nofollow">容器：</a></p> 
<p id="%E4%BB%93%E5%BA%93%EF%BC%9A-toc" style="margin-left:80px;"><a href="#%E4%BB%93%E5%BA%93%EF%BC%9A" rel="nofollow">仓库：</a></p> 
<p id="%E4%BA%8C%E3%80%81Docker%E7%9A%84%E5%B9%B3%E5%8F%B0%E6%9E%B6%E6%9E%84-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81Docker%E7%9A%84%E5%B9%B3%E5%8F%B0%E6%9E%B6%E6%9E%84" rel="nofollow">二、Docker的平台架构</a></p> 
<p id="%E4%B8%89%E3%80%81Docker%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81Docker%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4" rel="nofollow">三、Docker安装步骤</a></p> 
<hr id="hr-toc"> 
<h2>一、Docker的基本组成</h2> 
<h3 id="%E4%B8%89%E8%A6%81%E7%B4%A0%EF%BC%9A" style="margin-left:.0001pt;text-align:justify;">三要素：</h3> 
<h4 id="%E9%95%9C%E5%83%8F%EF%BC%9A" style="margin-left:.0001pt;text-align:justify;">镜像：</h4> 
<p style="margin-left:.0001pt;text-align:justify;">        Docker的镜像就是一个只读的模板。镜像可以用来创建Docker容器，一个镜像可以创建很多容器。他也相当于是一个root文件系统。比如官方镜像Centos7就包含了一套完整centos最小系统的root文件系统。就相当于容器的源代码，docker镜像文件类似于JAVA的类模板，而docker容器实例类似于java中new出来的实例对象。</p> 
<h4 id="%E5%AE%B9%E5%99%A8%EF%BC%9A" style="margin-left:.0001pt;text-align:justify;">容器：</h4> 
<p style="margin-left:.0001pt;text-align:justify;"><strong>从镜像容器角度</strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">        可以把容器看做是一个简易版的Linux环境（包括root用户权限、进程空间、用户空间和网络空间等）和运行在其中的应用程序</p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong>从面向对象角度</strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">        Docker利用容器独立运行的一个或一组应用，应用程序或服务运行在容器里面，容器就类似于一个虚拟化的运行环境，容器是镜像场景的运行实例。镜像是静态的定义，容器是镜像运行时的实体。容器为镜像提供了一个标准的和隔离的运行环境，他可以被启动，开始、停止、删除。每个容器都是相互隔离的、保证安全的平台。</p> 
<p class="img-center"><img alt="" height="291" src="https://images2.imgbox.com/da/ac/MfqpLkAY_o.png" width="500"></p> 
<h4 id="%E4%BB%93%E5%BA%93%EF%BC%9A" style="margin-left:.0001pt;text-align:justify;">仓库：</h4> 
<p style="margin-left:.0001pt;text-align:justify;">        仓库是集中存放镜像文件的场所。仓库分为公开仓库和私有仓库；最大的公开仓库是 Docker Hub(https://hub.docker.com/)，存放了数量庞大的镜像供用户下载。国内的公开仓库包括阿里云 、网易云等</p> 
<p style="margin-left:.0001pt;text-align:justify;">          Docker通过客户端可以连接到主机的docker引擎的后台程序daemon，运行时，如果本地有镜像，可以通过镜像直接运行一个容器，如果本地没有，docker引擎程序则去远程仓库上（docker hub）拉取一个镜像。</p> 
<p style="margin-left:.0001pt;text-align:justify;">        Docker是一个Client-Server结构的系统，Docker守护进程运行在主机上， 然后通过Socket连接从客户端访问，守护进程从客户端接受命令并管理运行在主机上的容器。 容器，是一个运行时环境，就是我们前面说到的集装箱。类似于MySQL；主机上启动之后，服务中会出现一个MySQL进程（类比于docker守护进程），我们使用Navicat客户端（类比于docker客户端）连接到数据库；执行SQL脚本生成SQL语句（类比于docker使用镜像生成各种容器）。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong>总结：</strong>Docker 本身是一个容器运行载体或称之为管理引擎。我们把应用程序和配置依赖打包好形成一个可交付的运行环境，这个打包好的运行环境就是image镜像文件。只有通过这个镜像文件才能生成Docker容器实例。image文件可以看作是容器的模板。Docker 根据 image 文件生成容器的实例。同一个 image 文件，可以生成多个同时运行的容器实例。</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h2 id="%E4%BA%8C%E3%80%81Docker%E7%9A%84%E5%B9%B3%E5%8F%B0%E6%9E%B6%E6%9E%84" style="margin-left:0px;text-align:left;">二、Docker的平台架构</h2> 
<p style="margin-left:0;text-align:center;"></p> 
<p class="img-center"><img alt="" height="600" src="https://images2.imgbox.com/6f/c5/1g9py0ld_o.png" width="431"></p> 
<p> </p> 
<p style="margin-left:.0001pt;text-align:justify;">        Docker 是一个 C/S 模式的架构，后端是一个松耦合架构，众多模块各司其职。</p> 
<blockquote> 
 <p style="margin-left:.0001pt;text-align:justify;">1.用户是使用Docker Client与 Docker Daemon建立通信，并发送请求给后者。</p> 
 <p style="margin-left:.0001pt;text-align:justify;">2.Docker Daemon作为Docker架构中的主体部分，首先提供 Docker Server的功能使其可以接受Docker Client 的请求。</p> 
 <p style="margin-left:.0001pt;text-align:justify;">3.Docker Engine执行Docker 内部的一系列工作，每一项工作都是以一个Job 的形式的存在。</p> 
 <p style="margin-left:.0001pt;text-align:justify;">4.Job 的运行过程中，当需要容器镜像时，则从Docker Registry中下载镜像，并通过镜像管理驱动Graph driver将下载镜像以Graph的形式存储。</p> 
 <p style="margin-left:.0001pt;text-align:justify;">5.当需要为Docker创建网络环境时，通过网络管理驱动Network driver创建并配置Docker容器网络环境。</p> 
 <p style="margin-left:.0001pt;text-align:justify;">6.当需要限制Docker容器运行资源或执行用户指令等操作时，则通过Exec driver来完成。</p> 
 <p style="margin-left:.0001pt;text-align:justify;">7.Libcontainer是一项独立的容器管理包，Network driver以及Exec driver都是通过Libcontainer来实现具体对容器进行的操作。</p> 
</blockquote> 
<h2 id="%E4%B8%89%E3%80%81Docker%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4" style="margin-left:.0001pt;text-align:justify;">三、Docker安装步骤</h2> 
<p style="margin-left:.0001pt;text-align:justify;">1.确认Centos7及以上版本</p> 
<p style="margin-left:.0001pt;text-align:justify;">2.安装gcc编译环境相关</p> 
<pre><code class="hljs">[root@localhost ~]# yum install gcc -y

[root@localhost ~]# yum install gcc-c++ -y</code></pre> 
<p style="text-align:justify;">3.安装所需软件包</p> 
<pre><code class="hljs">[root@localhost ~]# yum install yum-utils -y</code></pre> 
<p style="text-align:justify;">4.设置stable镜像仓库。</p> 
<pre><code class="hljs">[root@localhost~]#yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</code></pre> 
<p class="img-center"><img alt="" height="125" src="https://images2.imgbox.com/93/57/ruCYyvNM_o.png" width="750"></p> 
<p> 5.更新yum软件包索引</p> 
<pre><code class="hljs">[root@localhost ~]# yum makecache fast</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="text-align:justify;">6.安装Docker CE</p> 
<pre><code class="hljs">[root@localhost ~]# yum install docker-ce docker-ce-cli containerd.io -y</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;">7.启动docker</p> 
<pre><code class="hljs">[root@localhost ~]# systemctl start docker</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;">8.测试：</p> 
<pre><code class="hljs">[root@localhost ~]# docker version

[root@localhost ~]# docker run hello-world</code></pre> 
<p class="img-center"><img alt="" height="511" src="https://images2.imgbox.com/20/76/F7L8SKho_o.png" width="750"></p> 
<p> 9.卸载</p> 
<pre><code class="hljs">[root@localhost ~]# docker run hello-world
[root@localhost ~]# yum remove docker-ce docker-ce-cli containerd.io
[root@localhost ~]# rm -rf /var/lib/docker/
[root@localhost ~]# rm -rf /var/lib/containerd/</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/be23c4fbe0378d5e99fc344219c1798c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Java/补题/牛客/ACM赛制】2021年ICPC国际大学生程序设计竞赛暨陕西省第九届大学生程序设计竞赛（正式赛）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/28b9ee08f04ef432f02005b8f068ed4d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux文件权限：特殊权限、权限属性、权限掩码</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>