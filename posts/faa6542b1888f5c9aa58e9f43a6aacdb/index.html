<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>eNSP综合实验2 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="eNSP综合实验2" />
<meta property="og:description" content="本次实验主要包含链路聚合、生成树协议、Vlan通信、跨Vlan通信（单臂路由实现）、NAT地址转换和访问控制、静态路由、多自治系统OSPF以及路由引入 、DHCP以及Telnet远程登陆
本实验分成两个模块完成。即内部网络和外部网络以及内外部联通
实验思路：由易到难，先进行链路聚合、生成树、Vlan、DHCP和单臂路由，然后在进行NAT和ACL的实现，然后用 静态路由实现内外网联通，最后配置外网OSPF协议以及远程登录。
实验步骤
一、链路聚合、生成树
要注意的是链路聚合在两台交换机上都要声明才有效
生成树根的选举一种方法是改变优先级，还有一种方法是直接进行stp根桥的声明stp root priority 二、Vlan
Vlan的配置分为三步走，第一步是创建Valn，第二部是确认链路类型，第三步是放行Vlan
三、单臂路由
单臂路由和Vlanif一样，都是为了实现Vlan间的通信，单臂路由通过子接口的方法来实现，这种方案并不会让交换机作为三层设备进行工作，而似乎是把所有的事情都交给路由器进行管理。用户也只要进行单臂路由子接口的划分和网段与vid的声明就可以
四、DHCP
DHCP就像他所能做的事情一样，配置时网段、掩码、网关、dns都要进行配置，如果愿意在黑色命令框而不是可视化窗口上敲上这些内容，那DHCP会让ip地址的获取全自动化。
五、NAT和ACL
这两种技术一种可以转化地址来解决外界不认识内部的问题，另一种可以为通行提供保障，让网络链路更加规范化，二者配合可以实现对外网的访问，而他最大的优势是在于二者对于隐私的重视得到保障，无需用十分亲密的OSPF进行连接就可以互相访问。
在这里我犯了一个错误，导致主机ping不通外网，在我检查了网关和路由器的连通性之后，我才意识到了问题可能是出在NAT和ACL的配置上——地址可以到达网关，但出不去，最后证实了这种错误是由于我把NAT与ACL的连接做在了错误的端口上（应该是在出端口，但是我配置到了另一个端口）
六、OSPF
本实验的OSPF是以3号和6号路由为临界的三个自治系统，所以一共需要三个OSPF进程，处于边境的路由器需要有两个ospf routing id 在这里有一个错误出现了，在用import-route ospf* 进行路由引入之后，我发现这三个自治系统并没有完全学习，根据排查，问题出在第三个系统上，在查看了邻居表之后才发现是6号和7号的连接没有建立
七、静态路由和远程登录" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/faa6542b1888f5c9aa58e9f43a6aacdb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-08T16:44:07+08:00" />
<meta property="article:modified_time" content="2022-08-08T16:44:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">eNSP综合实验2</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><img alt="" height="1080" src="https://images2.imgbox.com/8c/21/4gknMmZu_o.png" width="1200"></p> 
<p>本次实验主要包含链路聚合、生成树协议、Vlan通信、跨Vlan通信（单臂路由实现）、NAT地址转换和访问控制、静态路由、多自治系统OSPF以及路由引入 、DHCP以及Telnet远程登陆</p> 
<p>本实验分成两个模块完成。即内部网络和外部网络以及内外部联通</p> 
<p>实验思路：由易到难，先进行链路聚合、生成树、Vlan、DHCP和单臂路由，然后在进行NAT和ACL的实现，然后用 静态路由实现内外网联通，最后配置外网OSPF协议以及远程登录。</p> 
<p>实验步骤</p> 
<p>一、链路聚合、生成树</p> 
<p>要注意的是链路聚合在两台交换机上都要声明才有效</p> 
<p>生成树根的选举一种方法是改变优先级，还有一种方法是直接进行stp根桥的声明stp root priority </p> 
<p><img alt="" height="1080" src="https://images2.imgbox.com/57/fb/t18JfswK_o.png" width="1200"><img alt="" height="1080" src="https://images2.imgbox.com/7a/ae/CattlmT2_o.png" width="1200"><img alt="" height="1080" src="https://images2.imgbox.com/95/e2/FrMERtcI_o.png" width="1200"><img alt="" height="1080" src="https://images2.imgbox.com/ba/68/C78aWxrE_o.png" width="1200"></p> 
<p>二、Vlan</p> 
<p>Vlan的配置分为三步走，第一步是创建Valn，第二部是确认链路类型，第三步是放行Vlan</p> 
<p><img alt="" height="1080" src="https://images2.imgbox.com/2d/08/BOQhSPiG_o.png" width="1200"><img alt="" height="1080" src="https://images2.imgbox.com/0f/a6/CSRlE2rt_o.png" width="1200"><img alt="" height="1080" src="https://images2.imgbox.com/a3/62/puWo2H6f_o.png" width="1200"><img alt="" height="1080" src="https://images2.imgbox.com/4a/15/CUKASkY2_o.png" width="1200"><img alt="" height="1080" src="https://images2.imgbox.com/d6/72/qbMWpgV5_o.png" width="1200"></p> 
<p></p> 
<p>三、单臂路由</p> 
<p>单臂路由和Vlanif一样，都是为了实现Vlan间的通信，单臂路由通过子接口的方法来实现，这种方案并不会让交换机作为三层设备进行工作，而似乎是把所有的事情都交给路由器进行管理。用户也只要进行单臂路由子接口的划分和网段与vid的声明就可以</p> 
<p><img alt="" height="1080" src="https://images2.imgbox.com/a5/6a/f8QLAqlf_o.png" width="1200"><img alt="" height="1080" src="https://images2.imgbox.com/dc/75/XdW2gHBP_o.png" width="1200"></p> 
<p></p> 
<p>四、DHCP</p> 
<p>DHCP就像他所能做的事情一样，配置时网段、掩码、网关、dns都要进行配置，如果愿意在黑色命令框而不是可视化窗口上敲上这些内容，那DHCP会让ip地址的获取全自动化。</p> 
<p><img alt="" height="1080" src="https://images2.imgbox.com/19/c9/QhkU7ZT2_o.png" width="1200"><img alt="" height="1080" src="https://images2.imgbox.com/44/e6/bbZe9YpB_o.png" width="1200"></p> 
<p></p> 
<p>五、NAT和ACL</p> 
<p>这两种技术一种可以转化地址来解决外界不认识内部的问题，另一种可以为通行提供保障，让网络链路更加规范化，二者配合可以实现对外网的访问，而他最大的优势是在于二者对于隐私的重视得到保障，无需用十分亲密的OSPF进行连接就可以互相访问。</p> 
<p><img alt="" height="1080" src="https://images2.imgbox.com/fb/22/ehD157by_o.png" width="1200"></p> 
<p> 在这里我犯了一个错误，导致主机ping不通外网，在我检查了网关和路由器的连通性之后，我才意识到了问题可能是出在NAT和ACL的配置上——地址可以到达网关，但出不去，最后证实了这种错误是由于我把NAT与ACL的连接做在了错误的端口上（应该是在出端口，但是我配置到了另一个端口）</p> 
<p><img alt="" height="1080" src="https://images2.imgbox.com/0a/e9/CQ49yN5a_o.png" width="1200"><img alt="" height="1080" src="https://images2.imgbox.com/37/69/cN8Ih1dO_o.png" width="1200"></p> 
<p></p> 
<p>六、OSPF</p> 
<p>本实验的OSPF是以3号和6号路由为临界的三个自治系统，所以一共需要三个OSPF进程，处于边境的路由器需要有两个ospf routing id </p> 
<p><img alt="" height="1080" src="https://images2.imgbox.com/0a/58/SPCqTf9F_o.png" width="1200"><img alt="" height="1080" src="https://images2.imgbox.com/bd/31/Jo7S4Wyx_o.png" width="1200"><img alt="" height="1080" src="https://images2.imgbox.com/a6/e9/ToMRGjug_o.png" width="1200"><img alt="" height="1080" src="https://images2.imgbox.com/98/aa/F9zyLJmR_o.png" width="1200"><img alt="" height="1080" src="https://images2.imgbox.com/2f/60/2x9q3U8G_o.png" width="1200"><img alt="" height="1080" src="https://images2.imgbox.com/8f/0c/SVUHGjj5_o.png" width="1200"></p> 
<p><img alt="" height="1080" src="https://images2.imgbox.com/a1/20/nGsbYKek_o.png" width="1200"></p> 
<p>在这里有一个错误出现了，在用import-route ospf* 进行路由引入之后，我发现这三个自治系统并没有完全学习，根据排查，问题出在第三个系统上，在查看了邻居表之后才发现是6号和7号的连接没有建立</p> 
<p>七、静态路由和远程登录</p> 
<p><img alt="" height="1080" src="https://images2.imgbox.com/48/8f/dSKQTd4x_o.png" width="1200"></p> 
<p><img alt="" height="1080" src="https://images2.imgbox.com/97/72/zr5vUYde_o.png" width="1200"><img alt="" height="1080" src="https://images2.imgbox.com/e6/2e/2haG0t81_o.png" width="1200"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5844f08040c8488a0aeb2888585c35fc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">pt-archive使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bea9d613d761cf39877756dadae8d155/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">kali怎么更新</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>