<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Linux Screen命令】Linux用户注销后可长时间运行的命令行 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Linux Screen命令】Linux用户注销后可长时间运行的命令行" />
<meta property="og:description" content="1. 使用情境 你有没有这样的经历：你有一台远程计算机，并在上面执行长时间运行的任务，突然连接断开，SSH 会话终止，而导致你的工作进度丢失。
幸运的是，有一个名为 Screen 的实用程序可以让我们持续会话。甚至是远程计算机用户注销的情况下程序依然在后台运行。
使用情境：
远程计算机，需要长时间执行一个程序任务。远程计算机，拥有多个用户，频繁登入登出不同账户。需要在一个账户下长时间执行一个程序任务。 2. 安装 Screen 在开始使用“screen”之前，您需要确保它已安装在您的 Linux 服务器上。大多数现代 Linux 发行版都预装了“screen”，但如果您的系统上没有它，您可以使用特定于您的发行版的包管理器轻松安装它。
对于基于 Debian/Ubuntu 的系统，请使用以下命令：
sudo apt-get update sudo apt-get install screen 对于 Red Hat/CentOS 系统，请使用：
sudo yum install screen 对于 Arch Linux，请使用：
sudo pacman -S screen 3. 基本用法 3.1 创建Screen 在控制台中输入 screen 就可以打开一个屏幕会话，创建一个新窗口，并在该窗口中启动一个 shell。但是我强烈建议在创建 Screen 的时候给这个会话取一个名字（后期会话多了之后会分不清）。把&lt;Name&gt; 替换成你想取的名字。比如：screen -S app
screen -S &lt;Name&gt; 现在您已经创建了一个screen的屏幕会话。
3.2 执行程序 你可以在新弹出的命令行中执行你的程序，然后甚至关掉命令行窗口。
如果你想screen在后台运行，只需要输入
Ctrl&#43;a d 脱离会话后，在screen会话中运行的程序将继续运行。
3.3 查看Screen 在过了一段时间后，你想查询程序运行的情况或者结果如何。你只需要在命令行中输入：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/29e1beb998cb7f350eddbd484c95cd88/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-25T23:17:33+08:00" />
<meta property="article:modified_time" content="2023-10-25T23:17:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Linux Screen命令】Linux用户注销后可长时间运行的命令行</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="1__0"></a>1. 使用情境</h2> 
<p>你有没有这样的经历：你有一台<strong>远程计算机</strong>，并在上面执行<strong>长时间运行</strong>的任务，突然连接断开，SSH 会话终止，而导致你的工作进度丢失。<br> 幸运的是，有一个名为 Screen 的实用程序可以让我们持续会话。甚至是远程计算机用户注销的情况下程序依然在后台运行。</p> 
<p>使用情境：</p> 
<ol><li>远程计算机，需要长时间执行一个程序任务。</li><li>远程计算机，拥有多个用户，频繁登入登出不同账户。需要在一个账户下长时间执行一个程序任务。</li></ol> 
<h2><a id="2__Screen_8"></a>2. 安装 Screen</h2> 
<p>在开始使用“screen”之前，您需要确保它已安装在您的 Linux 服务器上。大多数现代 Linux 发行版都预装了“screen”，但如果您的系统上没有它，您可以使用特定于您的发行版的包管理器轻松安装它。</p> 
<p>对于基于 Debian/Ubuntu 的系统，请使用以下命令：</p> 
<pre><code>sudo apt-get update
sudo apt-get install screen
</code></pre> 
<p>对于 Red Hat/CentOS 系统，请使用：</p> 
<pre><code>sudo yum install screen

</code></pre> 
<p>对于 Arch Linux，请使用：</p> 
<pre><code>sudo pacman -S screen

</code></pre> 
<h2><a id="3__31"></a>3. 基本用法</h2> 
<h3><a id="31_Screen_32"></a>3.1 创建Screen</h3> 
<p>在控制台中输入 <code>screen</code> 就可以打开一个屏幕会话，创建一个新窗口，并在该窗口中启动一个 shell。但是我强烈建议在创建 Screen 的时候给这个会话取一个名字（后期会话多了之后会分不清）。把<code>&lt;Name&gt;</code> 替换成你想取的名字。比如：screen -S app</p> 
<pre><code>screen -S &lt;Name&gt;
</code></pre> 
<p>现在您已经创建了一个screen的屏幕会话。</p> 
<h2><a id="32__40"></a>3.2 执行程序</h2> 
<p>你可以在新弹出的命令行中执行你的程序，然后甚至关掉命令行窗口。<br> 如果你想screen在后台运行，只需要输入</p> 
<pre><code>Ctrl+a d
</code></pre> 
<p>脱离会话后，在screen会话中运行的程序将继续运行。</p> 
<h3><a id="33_Screen_50"></a>3.3 查看Screen</h3> 
<p>在过了一段时间后，你想查询程序运行的情况或者结果如何。你只需要在命令行中输入：</p> 
<pre><code>screen -ls
</code></pre> 
<p>就会列出screen正在运行的会话：</p> 
<pre><code>There are screens on:
    10835.app  (Detached)
    10366.pts-0.linuxize-desktop   (Detached)
2 Sockets in /run/screens/S-linuxize.
</code></pre> 
<p>可以看到当前有两个会话正在运行，其中一个就是我们刚创建的叫app的会话。如果想恢复/查看app会话的内容只需要输入：</p> 
<pre><code>screen -r 10835
</code></pre> 
<h3><a id="34__70"></a>3.4 结束会话</h3> 
<p>如果你想结束一个screen会话，还是以app会话为例，你只需要输入：</p> 
<pre><code>screen -XS 10835 quit
</code></pre> 
<p>此时再用 screen -ls 查看时 app 会话将不复存在。</p> 
<h2><a id="4__78"></a>4. 高级用法</h2> 
<p>以下是管理 Linux Screen Windows 的一些最常用命令：</p> 
<p><strong>Ctrl+a c</strong> 创建一个新窗口（带shell）。<br> <strong>Ctrl+a "</strong> 列出所有窗口。<br> <strong>Ctrl+a 0</strong> 切换到窗口 0（按编号）。<br> <strong>Ctrl+a A</strong> 重命名当前窗口。<br> <strong>Ctrl+a S</strong> 将当前区域水平分割为两个区域。<br> <strong>Ctrl+a |</strong> 将当前区域垂直分割为两个区域。<br> <strong>Ctrl+a tab</strong> 将输入焦点切换到下一个区域。<br> <strong>Ctrl+a Ctrl+a</strong> 在当前窗口和上一个窗口之间切换<br> <strong>Ctrl+a Q</strong> 关闭除当前区域之外的所有区域。<br> <strong>Ctrl+a X</strong> 关闭当前区域。</p> 
<p>本文记录screen的基本用法，更多详细用法可以<a href="http://t.csdnimg.cn/p8oQI" rel="nofollow">参考这里</a></p> 
<h2><a id="Reference_93"></a>Reference</h2> 
<p>[1] https://linuxize.com/post/how-to-use-linux-screen/<br> [2] https://askubuntu.com/questions/356006/kill-a-screen-session</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5a61e1b966f3b2d3ecd9d7296e816a60/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">奖金发放（YOJ2.0中的题）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cd279725200904b26fcd74ffbedee275/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">BAT批处理：文件批量查找与复制</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>