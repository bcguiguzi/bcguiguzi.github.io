<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>QT中QDockWidget使用详解 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="QT中QDockWidget使用详解" />
<meta property="og:description" content="Qt系列文章目录 文章目录 Qt系列文章目录前言一、具体操作1.QDockWidget控件配置函数2.代码1 .头文件2.实现文件 效果遇到的问题 前言 QDockWidget提供了dock widget的概念，也称为工具面板或实用工具窗口。停靠窗口是放置在QMainWindow中央小部件周围的停靠小部件区域中的次要窗口。许多工程软件，如Qt Creator，VS，matlab等，都是使用dock布局窗口，这样用户可以自定义界面，自由组合窗口。
Qt的嵌套布局由QDockWidget完成，用Qt Creator拖界面得到的dock布置形式比较固定，不能得想要的任意组合形式，要得到如下图所示的效果，后续布局必须通过代码来完成。
如图所示：
一、具体操作 1.新建QMainWindow基类工程，在ui设计页面拖入3个QDockWidget控件。
也可以不在UI设计器里面加，使用代码加入QDockWidget控件
2.因为整个窗口都由dock组成，所以在myMainWindow的构造函数中先把QMainWindow的中间窗口部件去除。
QWidget* central_form = takeCentralWidget(); if(central_form) delete central_form; 3.用setWindowTitle(const QString &amp;)函数为每个dock添加标题便于后面区分。
this-&gt;setWindowTitle(tr(&#34;图像处理系统&#34;)); 4.接下来配置DockWidget嵌套
setDockNestingEnabled(true); 这句语句是用来配置dock是否可以嵌套。通过查询帮助文档，我们可以知道，如果参数为false，则停靠区域只能水平或者垂直，即dock不能放置在中间，只能在两侧排布。如果参数为true，那么dock所占用的区域可以向任意方向排布。
接下来先移除所有的dock，我们来调整dock位置。调整dock位置前通过
void MainFramework::dockLayout() { this-&gt;addDockWidget(Qt::LeftDockWidgetArea, m_projManagerView, Qt::Orientation::Vertical); this-&gt;addDockWidget(Qt::RightDockWidgetArea, m_propertyView, Qt::Orientation::Vertical); this-&gt;addDockWidget(Qt::BottomDockWidgetArea, m_logView, Qt::Orientation::Vertical); } 5.为第一个dock指定位置，接下来通过配置的参数对所有的dock进行排列，这个函数是将第一个停靠dock覆盖的空间分成两部分，将第一个停靠dock移动到第一部分中，并将第二个停靠dock移动到第二部分中。通过这样的方式可以先左右，再上下的原则依次对dock进行排列。例如：
void QMainWindow::splitDockWidget(QDockWidget *first, QDockWidget *second, Qt::Orientation orientation) 1.QDockWidget控件配置函数 1.配置dock最小的宽度、高度，最大尺寸。
m_logView-&gt;setMinimumWidth(150); m_propertyView-&gt;setMinimumHeight(100); m_projManagerView-&gt;setMaximumSize(100,100); 2.隐藏标题栏。
QWidget* TitleBar = m_propertyView-&gt;titleBarWidget(); QWidget* EmptyWidget = new QWidget(); m_propertyView-&gt;setTitleBarWidget(EmptyWidget); delete TitleBar; 3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/9c91a751e2d000c638b7d06645445520/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-31T16:13:10+08:00" />
<meta property="article:modified_time" content="2023-03-31T16:13:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">QT中QDockWidget使用详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Qt_0"></a>Qt系列文章目录</h2> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#Qt_0" rel="nofollow">Qt系列文章目录</a></li><li><a href="#_3" rel="nofollow">前言</a></li><li><a href="#_9" rel="nofollow">一、具体操作</a></li><li><ul><li><a href="#1QDockWidget_51" rel="nofollow">1.QDockWidget控件配置函数</a></li><li><a href="#2_81" rel="nofollow">2.代码</a></li><li><ul><li><a href="#1__82" rel="nofollow">1 .头文件</a></li><li><a href="#2_191" rel="nofollow">2.实现文件</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_660" rel="nofollow">效果</a></li><li><a href="#_666" rel="nofollow">遇到的问题</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_3"></a>前言</h2> 
<p>QDockWidget提供了dock widget的概念，也称为工具面板或实用工具窗口。停靠窗口是放置在QMainWindow中央小部件周围的停靠小部件区域中的次要窗口。许多工程软件，如Qt Creator，VS，matlab等，都是使用dock布局窗口，这样用户可以自定义界面，自由组合窗口。<br> Qt的嵌套布局由QDockWidget完成，用Qt Creator拖界面得到的dock布置形式比较固定，不能得想要的任意组合形式，要得到如下图所示的效果，后续布局必须通过代码来完成。<br> 如图所示：<br> <img src="https://images2.imgbox.com/49/e0/hTCbBuAJ_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_9"></a>一、具体操作</h2> 
<p>1.新建QMainWindow基类工程，在ui设计页面拖入3个QDockWidget控件。<br> <img src="https://images2.imgbox.com/f5/9a/e9uBQ92g_o.png" alt="在这里插入图片描述"><br> 也可以不在UI设计器里面加，使用代码加入QDockWidget控件<br> <img src="https://images2.imgbox.com/18/ac/NOAk0Xds_o.png" alt="在这里插入图片描述"></p> 
<p>2.因为整个窗口都由dock组成，所以在myMainWindow的构造函数中先把QMainWindow的中间窗口部件去除。</p> 
<pre><code class="prism language-cpp">QWidget<span class="token operator">*</span> central_form <span class="token operator">=</span> <span class="token function">takeCentralWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>central_form<span class="token punctuation">)</span>
         <span class="token keyword">delete</span> central_form<span class="token punctuation">;</span>
</code></pre> 
<p>3.用setWindowTitle(const QString &amp;)函数为每个dock添加标题便于后面区分。</p> 
<pre><code class="prism language-cpp"><span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"图像处理系统"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>4.接下来配置DockWidget嵌套</p> 
<pre><code class="prism language-cpp"><span class="token function">setDockNestingEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>这句语句是用来配置dock是否可以嵌套。通过查询帮助文档，我们可以知道，如果参数为false，则停靠区域只能水平或者垂直，即dock不能放置在中间，只能在两侧排布。如果参数为true，那么dock所占用的区域可以向任意方向排布。<br> 接下来先移除所有的dock，我们来调整dock位置。调整dock位置前通过</p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">dockLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">addDockWidget</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>LeftDockWidgetArea<span class="token punctuation">,</span> m_projManagerView<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>Orientation<span class="token double-colon punctuation">::</span>Vertical<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">addDockWidget</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>RightDockWidgetArea<span class="token punctuation">,</span> m_propertyView<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>Orientation<span class="token double-colon punctuation">::</span>Vertical<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">addDockWidget</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>BottomDockWidgetArea<span class="token punctuation">,</span> m_logView<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>Orientation<span class="token double-colon punctuation">::</span>Vertical<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>5.为第一个dock指定位置，接下来通过配置的参数对所有的dock进行排列，这个函数是将第一个停靠dock覆盖的空间分成两部分，将第一个停靠dock移动到第一部分中，并将第二个停靠dock移动到第二部分中。通过这样的方式可以先左右，再上下的原则依次对dock进行排列。例如：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token class-name">QMainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">splitDockWidget</span><span class="token punctuation">(</span>QDockWidget <span class="token operator">*</span>first<span class="token punctuation">,</span> QDockWidget <span class="token operator">*</span>second<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>Orientation orientation<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="1QDockWidget_51"></a>1.QDockWidget控件配置函数</h3> 
<p>1.配置dock最小的宽度、高度，最大尺寸。</p> 
<pre><code class="prism language-cpp">m_logView<span class="token operator">-&gt;</span><span class="token function">setMinimumWidth</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_propertyView<span class="token operator">-&gt;</span><span class="token function">setMinimumHeight</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_projManagerView<span class="token operator">-&gt;</span><span class="token function">setMaximumSize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>2.隐藏标题栏。</p> 
<pre><code class="prism language-cpp">QWidget<span class="token operator">*</span> TitleBar <span class="token operator">=</span> m_propertyView<span class="token operator">-&gt;</span><span class="token function">titleBarWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
QWidget<span class="token operator">*</span> EmptyWidget <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_propertyView<span class="token operator">-&gt;</span><span class="token function">setTitleBarWidget</span><span class="token punctuation">(</span>EmptyWidget<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> TitleBar<span class="token punctuation">;</span>
</code></pre> 
<p>3.合并窗口，采用void QMainWindow::tabifyDockWidget(QDockWidget *first, QDockWidget *second)函数，将多个QDockWidget叠加到同一区域。</p> 
<pre><code class="prism language-cpp"><span class="token function">tabifyDockWidget</span><span class="token punctuation">(</span>ui<span class="token operator">-&gt;</span>dockWidget_4<span class="token punctuation">,</span>ui<span class="token operator">-&gt;</span>dockWidget_5<span class="token punctuation">)</span><span class="token punctuation">;</span>
m_propertyView<span class="token operator">-&gt;</span><span class="token function">setFeatures</span><span class="token punctuation">(</span>QDockWidget<span class="token double-colon punctuation">::</span>DockWidgetFloatable<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<p>效果如下：</p> 
<p><img src="https://images2.imgbox.com/42/03/nkSgjDcq_o.png" alt="在这里插入图片描述"></p> 
<ol start="4"><li>-通过 void setFeatures(DockWidgetFeatures features)配置dock是否可关闭、漂浮、拖动等属性，它的参数有：<br> <img src="https://images2.imgbox.com/c3/25/Ex7uokfJ_o.png" alt="在这里插入图片描述"></li></ol> 
<h3><a id="2_81"></a>2.代码</h3> 
<h4><a id="1__82"></a>1 .头文件</h4> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">MAINFRAMEWORK_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAINFRAMEWORK_H</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMainWindow&gt;</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDockWidget&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QTextEdit&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QPushButton&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QKeyEvent&gt;</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"FlyPropertyWin.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ProjectWin.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"MsgBox.h"</span></span>

QT_BEGIN_NAMESPACE
<span class="token keyword">namespace</span> Ui <span class="token punctuation">{<!-- --></span> <span class="token keyword">class</span> <span class="token class-name">MainFramework</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
QT_END_NAMESPACE

<span class="token keyword">class</span> <span class="token class-name">MainFramework</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QMainWindow</span></span>
<span class="token punctuation">{<!-- --></span>
    Q_OBJECT

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">MainFramework</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">MainFramework</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> slots<span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">addLog</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//标题栏槽函数</span>
    <span class="token keyword">void</span> <span class="token function">s_showToolBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">s_showPorjectWin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">s_showPropertyWin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">s_showLogWin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">s_close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">s_min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">s_hideProj</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">s_propertyWinHide</span><span class="token punctuation">(</span><span class="token keyword">bool</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">s_logWinHide</span><span class="token punctuation">(</span><span class="token keyword">bool</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">s_timeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">s_newProject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">s_saveFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">s_runAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">s_stopAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">s_debugAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">s_anaysisAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">s_recordAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">s_grabAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">s_capacityAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">s_paramterAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">s_publishAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">s_exportAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">initTitleBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">initLogView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">initWorkSpaceView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">initPropertyView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">initProjectView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">initToolBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">dockLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">initMaxMinWin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">showMessageBox</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    Ui<span class="token double-colon punctuation">::</span>MainFramework <span class="token operator">*</span>ui<span class="token punctuation">;</span>

    <span class="token comment">//标题栏</span>
        QAction<span class="token operator">*</span> m_toolBarAc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QAction<span class="token operator">*</span> m_projectAc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QAction<span class="token operator">*</span> m_logAc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QAction<span class="token operator">*</span> m_propertyAc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>

        <span class="token comment">//工具栏</span>
        QAction<span class="token operator">*</span> m_newAc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QAction<span class="token operator">*</span> m_saveAc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QAction<span class="token operator">*</span> m_runAc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QAction<span class="token operator">*</span> m_stopAc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QAction<span class="token operator">*</span> m_debugAc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QAction<span class="token operator">*</span> m_anaysisAc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QAction<span class="token operator">*</span> m_recordAc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QAction<span class="token operator">*</span> m_grabAc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QAction<span class="token operator">*</span> m_capacityAc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QAction<span class="token operator">*</span> m_paramterAc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QAction<span class="token operator">*</span> m_publishAc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QAction<span class="token operator">*</span> m_exportAc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>

        QDockWidget<span class="token operator">*</span> m_logView <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QDockWidget<span class="token operator">*</span> m_propertyView <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QDockWidget<span class="token operator">*</span> m_projManagerView <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>

        QTextEdit<span class="token operator">*</span> m_logBody <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QWidget<span class="token operator">*</span> m_maxminWin <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QWidget<span class="token operator">*</span> m_workspace <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        ProjectWin<span class="token operator">*</span> m_projectWin <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        FlyPropertyWin<span class="token operator">*</span> m_propertyWin <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        MsgBox<span class="token operator">*</span> m_msgBox <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>

        QPushButton<span class="token operator">*</span> m_minBtn <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        QPushButton<span class="token operator">*</span> m_closeBtn <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// MAINFRAMEWORK_H</span></span>

</code></pre> 
<h4><a id="2_191"></a>2.实现文件</h4> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"MainFramework.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_MainFramework.h"</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDesktopWidget&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDebug&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QStandardPaths&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QTimer&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QHBoxLayout&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QSpacerItem&gt;</span></span>


<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">execution_character_set</span><span class="token punctuation">(</span></span><span class="token string">"utf-8"</span><span class="token expression"><span class="token punctuation">)</span></span></span>

<span class="token function">Q_DECLARE_METATYPE</span><span class="token punctuation">(</span>QDockWidget<span class="token double-colon punctuation">::</span>DockWidgetFeatures<span class="token punctuation">)</span>

QString MenuBarStyle <span class="token operator">=</span>
        <span class="token string">"QMenuBar{background-color:#FFFFFF; font:14px; color:#232323;}"</span>
        <span class="token string">"QMenuBar::item{\
        min-height:40px; \
margin:1 10 0 10px; \
padding:10 10 10 10px; /* 条目内边框 */ \
background:#FFFFFF; /* 背景颜色 */ \
border-radius:4px; /* 倒角 */ \
}"</span>
<span class="token string">"QMenuBar::item:selected{background: #E5E5E5; }"</span>
<span class="token punctuation">;</span>

QString MenuStyle <span class="token operator">=</span>
        <span class="token string">"QMenu{/*整个背景*/}"</span>
        <span class="token string">"QMenu::item{ \
        font-size: 14px; \
color: rgb(225,225,225);  /*字体颜色*/\
border: 3px solid rgb(60,60,60);    /*item选框*/\
background-color:rgb(89,87,87); \
padding:16px 16px; /*设置菜单项文字上下和左右的内边距，效果就是菜单中的条目左右上下有了间隔*/\
margin:0px 2px;/*设置菜单项的外边距*/\
}"</span>
<span class="token string">"QMenu::item:selected{background-color:#1E1E1E;/*选中的样式*/}"</span>
<span class="token string">"QMenu::item:pressed{/*菜单项按下效果*/  border: 1px solid rgb(60,60,61); background-color: rgb(220,80,6);}"</span>
<span class="token punctuation">;</span>

QString tabBarStyle <span class="token operator">=</span>
        <span class="token string">"QTabBar::tab{min-height: 28px;  min-width:80px ;  font:14px; }"</span>
        <span class="token string">"QTabBar::tab:!selected{}"</span>
        <span class="token string">"QTabBar::tab:!selected:hover{ background-color: #d9fffe; color: black;}"</span>
        <span class="token string">"QToolBar{background-color:#e5e5e5; margin:3px;}"</span>
        <span class="token string">"QToolBar::separator{height:1px; background-color:#000000;}"</span>
        <span class="token string">"QToolBar QToolButton{min-width:60px; min-height:40px; background-color:transparent;}"</span>
        <span class="token string">"QToolBar QToolButton:hover{background-color:rgba(255,255,255,0.8);}"</span>
        <span class="token string">"QToolBar QToolButton:pressed{background-color:rgba(255,255,255,0.5);}"</span>
        <span class="token punctuation">;</span>


<span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">MainFramework</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
    <span class="token punctuation">,</span> <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>MainFramework<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token generic-function"><span class="token function">qRegisterMetaType</span><span class="token generic class-name"><span class="token operator">&lt;</span>QDockWidget<span class="token double-colon punctuation">::</span>DockWidgetFeatures<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    ui<span class="token operator">-&gt;</span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"图像处理系统"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">setWindowIcon</span><span class="token punctuation">(</span><span class="token function">QIcon</span><span class="token punctuation">(</span><span class="token string">":/images/logo.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">setWindowFlags</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Window <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>FramelessWindowHint<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">setStyleSheet</span><span class="token punctuation">(</span>tabBarStyle<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//this-&gt;setStyleSheet("QMainWindow::separator {width: 2px;height: 2px;margin: 2px;padding: 2,2px;}");</span>
    
    <span class="token comment">//On the top menu bar add toolbar,menubar and dockwidget.</span>
    <span class="token function">initTitleBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">initToolBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">initLogView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">initProjectView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//项目区初始化在前。</span>
    <span class="token function">initWorkSpaceView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//工作区初始化在后。</span>
    <span class="token function">initPropertyView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dockLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">setTabPosition</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>AllDockWidgetAreas<span class="token punctuation">,</span> QTabWidget<span class="token double-colon punctuation">::</span>North<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//This property holds the tab shape used for tabbed dock widgets.</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">setTabShape</span><span class="token punctuation">(</span>QTabWidget<span class="token double-colon punctuation">::</span>Triangular<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">statusBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">showMessage</span><span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"Status Bar"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">addLog</span><span class="token punctuation">(</span><span class="token string">"启动完成，欢迎进入主框架！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token class-name">QTimer</span><span class="token double-colon punctuation">::</span><span class="token function">singleShot</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">s_timeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">initWorkSpaceView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> m_workspace<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        m_workspace <span class="token operator">=</span> <span class="token keyword">new</span> QWidget<span class="token punctuation">;</span>
        m_workspace<span class="token operator">-&gt;</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"工作区"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">setCentralWidget</span><span class="token punctuation">(</span>m_workspace<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"工作区 id:"</span> <span class="token operator">&lt;&lt;</span> m_workspace<span class="token operator">-&gt;</span><span class="token function">winId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">", name:"</span> <span class="token operator">&lt;&lt;</span> m_workspace<span class="token operator">-&gt;</span><span class="token function">windowTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">initTitleBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    QMenuBar<span class="token operator">*</span> m_MenuBar <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">menuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_MenuBar<span class="token operator">-&gt;</span><span class="token function">setStyleSheet</span><span class="token punctuation">(</span>MenuBarStyle<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    QMenu<span class="token operator">*</span> m_viewMenu <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">menuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">addMenu</span><span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"快视"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_viewMenu<span class="token operator">-&gt;</span><span class="token function">setStyleSheet</span><span class="token punctuation">(</span>MenuStyle<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    m_toolBarAc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span><span class="token string">"工具栏"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>m_toolBarAc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainFramework<span class="token double-colon punctuation">::</span>s_showToolBar<span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_toolBarAc<span class="token operator">-&gt;</span><span class="token function">setCheckable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_toolBarAc<span class="token operator">-&gt;</span><span class="token function">setChecked</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    m_projectAc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span><span class="token string">"图像列表"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>m_projectAc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainFramework<span class="token double-colon punctuation">::</span>s_showPorjectWin<span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_projectAc<span class="token operator">-&gt;</span><span class="token function">setCheckable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_projectAc<span class="token operator">-&gt;</span><span class="token function">setChecked</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    m_propertyAc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span><span class="token string">"属性"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>m_propertyAc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainFramework<span class="token double-colon punctuation">::</span>s_showPropertyWin<span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_propertyAc<span class="token operator">-&gt;</span><span class="token function">setCheckable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_propertyAc<span class="token operator">-&gt;</span><span class="token function">setChecked</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    m_logAc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span><span class="token string">"输出"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>m_logAc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainFramework<span class="token double-colon punctuation">::</span>s_showLogWin<span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_logAc<span class="token operator">-&gt;</span><span class="token function">setCheckable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_logAc<span class="token operator">-&gt;</span><span class="token function">setChecked</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    m_viewMenu<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span>m_toolBarAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_viewMenu<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span>m_projectAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_viewMenu<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span>m_propertyAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_viewMenu<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span>m_logAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    QMenu<span class="token operator">*</span> m_setView <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">menuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">addMenu</span><span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"浏览"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QMenu<span class="token operator">*</span> m_toolMenu <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span> <span class="token function">menuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">addMenu</span><span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"SAR处理"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QMenu<span class="token operator">*</span> m_helpMenu <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">menuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">addMenu</span><span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"帮助"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">initMaxMinWin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">initMaxMinWin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    m_maxminWin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QWidget</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    QHBoxLayout<span class="token operator">*</span> horizontalLayout<span class="token punctuation">;</span>
    QSpacerItem<span class="token operator">*</span> horizontalSpacer<span class="token punctuation">;</span>
    
    horizontalLayout <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QHBoxLayout</span><span class="token punctuation">(</span>m_maxminWin<span class="token punctuation">)</span><span class="token punctuation">;</span>
    horizontalLayout<span class="token operator">-&gt;</span><span class="token function">setSpacing</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    horizontalLayout<span class="token operator">-&gt;</span><span class="token function">setContentsMargins</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    horizontalLayout<span class="token operator">-&gt;</span><span class="token function">setObjectName</span><span class="token punctuation">(</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">fromUtf8</span><span class="token punctuation">(</span><span class="token string">"horizontalLayout"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    horizontalLayout<span class="token operator">-&gt;</span><span class="token function">setContentsMargins</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    horizontalSpacer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QSpacerItem</span><span class="token punctuation">(</span><span class="token number">241</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> QSizePolicy<span class="token double-colon punctuation">::</span>Expanding<span class="token punctuation">,</span> QSizePolicy<span class="token double-colon punctuation">::</span>Minimum<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    m_minBtn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QPushButton</span><span class="token punctuation">(</span>m_maxminWin<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>m_minBtn<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QPushButton<span class="token double-colon punctuation">::</span>clicked<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainFramework<span class="token double-colon punctuation">::</span>s_min<span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_minBtn<span class="token operator">-&gt;</span><span class="token function">setObjectName</span><span class="token punctuation">(</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">fromUtf8</span><span class="token punctuation">(</span><span class="token string">"minBtn"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_minBtn<span class="token operator">-&gt;</span><span class="token function">setMinimumSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_minBtn<span class="token operator">-&gt;</span><span class="token function">setMaximumSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_minBtn<span class="token operator">-&gt;</span><span class="token function">setStyleSheet</span><span class="token punctuation">(</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">fromUtf8</span><span class="token punctuation">(</span><span class="token string">"QPushButton{border:none;}\n"</span>
                                              <span class="token string">"QPushButton::hover{background-color:#E5E5E5;}\n"</span>
                                              <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QIcon icon<span class="token punctuation">;</span>
    icon<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">fromUtf8</span><span class="token punctuation">(</span><span class="token string">":/images/min_main.png"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> QIcon<span class="token double-colon punctuation">::</span>Normal<span class="token punctuation">,</span> QIcon<span class="token double-colon punctuation">::</span>Off<span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_minBtn<span class="token operator">-&gt;</span><span class="token function">setIcon</span><span class="token punctuation">(</span>icon<span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_minBtn<span class="token operator">-&gt;</span><span class="token function">setIconSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_minBtn<span class="token operator">-&gt;</span><span class="token function">setAutoDefault</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_minBtn<span class="token operator">-&gt;</span><span class="token function">setFlat</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_minBtn<span class="token operator">-&gt;</span><span class="token function">setDefault</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    m_closeBtn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QPushButton</span><span class="token punctuation">(</span>m_maxminWin<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>m_closeBtn<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QPushButton<span class="token double-colon punctuation">::</span>clicked<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainFramework<span class="token double-colon punctuation">::</span>s_close<span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_closeBtn<span class="token operator">-&gt;</span><span class="token function">setObjectName</span><span class="token punctuation">(</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">fromUtf8</span><span class="token punctuation">(</span><span class="token string">"closeBtn"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_closeBtn<span class="token operator">-&gt;</span><span class="token function">setMinimumSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_closeBtn<span class="token operator">-&gt;</span><span class="token function">setMaximumSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_closeBtn<span class="token operator">-&gt;</span><span class="token function">setStyleSheet</span><span class="token punctuation">(</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">fromUtf8</span><span class="token punctuation">(</span><span class="token string">"QPushButton{border:none;}\n"</span>
                                                <span class="token string">"QPushButton::hover{background-color:#E81123;}\n"</span>
                                                <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QIcon icon1<span class="token punctuation">;</span>
    icon1<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">fromUtf8</span><span class="token punctuation">(</span><span class="token string">":/images/close_release.png"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> QIcon<span class="token double-colon punctuation">::</span>Normal<span class="token punctuation">,</span> QIcon<span class="token double-colon punctuation">::</span>Off<span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_closeBtn<span class="token operator">-&gt;</span><span class="token function">setIcon</span><span class="token punctuation">(</span>icon1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_closeBtn<span class="token operator">-&gt;</span><span class="token function">setIconSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_closeBtn<span class="token operator">-&gt;</span><span class="token function">setFlat</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    horizontalLayout<span class="token operator">-&gt;</span><span class="token function">addItem</span><span class="token punctuation">(</span>horizontalSpacer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    horizontalLayout<span class="token operator">-&gt;</span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_minBtn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    horizontalLayout<span class="token operator">-&gt;</span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_closeBtn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    horizontalLayout<span class="token operator">-&gt;</span><span class="token function">setStretch</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    m_maxminWin<span class="token operator">-&gt;</span><span class="token function">setLayout</span><span class="token punctuation">(</span>horizontalLayout<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">menuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setCornerWidget</span><span class="token punctuation">(</span>m_maxminWin<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>TopRightCorner<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_showToolBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>m_toolBarAc<span class="token operator">-&gt;</span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">addLog</span><span class="token punctuation">(</span><span class="token string">"显示 工具栏"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">addLog</span><span class="token punctuation">(</span><span class="token string">"隐藏 工具栏"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_showPorjectWin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>m_projectAc<span class="token operator">-&gt;</span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        m_projManagerView<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">addLog</span><span class="token punctuation">(</span><span class="token string">"显示 项目区"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        m_projManagerView<span class="token operator">-&gt;</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">addLog</span><span class="token punctuation">(</span><span class="token string">"隐藏 项目区"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_showPropertyWin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>m_propertyAc<span class="token operator">-&gt;</span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        m_propertyView<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">addLog</span><span class="token punctuation">(</span><span class="token string">"显示 属性区"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        m_propertyView<span class="token operator">-&gt;</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">addLog</span><span class="token punctuation">(</span><span class="token string">"隐藏 属性区"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_showLogWin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>m_logAc<span class="token operator">-&gt;</span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        m_logView<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">addLog</span><span class="token punctuation">(</span><span class="token string">"显示 日志区"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        m_logView<span class="token operator">-&gt;</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">addLog</span><span class="token punctuation">(</span><span class="token string">"隐藏 日志区"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_timeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">showMaximized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_min</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">showMinimized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">addLog</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString<span class="token operator">&amp;</span> log<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    m_logBody<span class="token operator">-&gt;</span><span class="token function">setReadOnly</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_logBody<span class="token operator">-&gt;</span><span class="token function">append</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">initLogView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> m_logView<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        m_logView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QDockWidget</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//set dock widget feature: not move, enable close.</span>
        m_logView<span class="token operator">-&gt;</span><span class="token function">setFeatures</span><span class="token punctuation">(</span>QDockWidget<span class="token double-colon punctuation">::</span>DockWidgetClosable<span class="token punctuation">)</span><span class="token punctuation">;</span>
        m_logView<span class="token operator">-&gt;</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"输出"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        m_logBody <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTextEdit</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        m_logView<span class="token operator">-&gt;</span><span class="token function">setWidget</span><span class="token punctuation">(</span>m_logBody<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    QPalette pl <span class="token operator">=</span> m_logBody<span class="token operator">-&gt;</span><span class="token function">palette</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pl<span class="token punctuation">.</span><span class="token function">setBrush</span><span class="token punctuation">(</span>QPalette<span class="token double-colon punctuation">::</span>Base<span class="token punctuation">,</span> <span class="token function">QBrush</span><span class="token punctuation">(</span><span class="token function">QColor</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_logBody<span class="token operator">-&gt;</span><span class="token function">setPalette</span><span class="token punctuation">(</span>pl<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">initPropertyView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> m_propertyView<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        m_propertyView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QDockWidget</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        m_propertyView<span class="token operator">-&gt;</span><span class="token function">setFeatures</span><span class="token punctuation">(</span>QDockWidget<span class="token double-colon punctuation">::</span>DockWidgetClosable<span class="token punctuation">)</span><span class="token punctuation">;</span>
        m_propertyView<span class="token operator">-&gt;</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"飞行参数"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        m_propertyWin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">FlyPropertyWin</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        m_propertyView<span class="token operator">-&gt;</span><span class="token function">setWidget</span><span class="token punctuation">(</span>m_propertyWin<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"属性区 id:"</span> <span class="token operator">&lt;&lt;</span> m_propertyView<span class="token operator">-&gt;</span><span class="token function">winId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">", name:"</span> <span class="token operator">&lt;&lt;</span> m_propertyView<span class="token operator">-&gt;</span><span class="token function">windowTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">initProjectView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> m_projManagerView<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        m_projManagerView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QDockWidget</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        m_projManagerView<span class="token operator">-&gt;</span><span class="token function">setFeatures</span><span class="token punctuation">(</span>QDockWidget<span class="token double-colon punctuation">::</span>DockWidgetClosable<span class="token punctuation">)</span><span class="token punctuation">;</span>
        m_projManagerView<span class="token operator">-&gt;</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"图像列表"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">delete title bar</span>
        <span class="token comment">//QWidget* lTitleBar = m_projManagerView-&gt;titleBarWidget();</span>
        <span class="token comment">//QWidget* lEmptyWidget = new QWidget();</span>
        <span class="token comment">//m_projManagerView-&gt;setTitleBarWidget(lEmptyWidget);</span>
        <span class="token comment">//delete lTitleBar;</span>
        
        m_projectWin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ProjectWin</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        m_projManagerView<span class="token operator">-&gt;</span><span class="token function">setWidget</span><span class="token punctuation">(</span>m_projectWin<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"项目区 id:"</span> <span class="token operator">&lt;&lt;</span> m_projManagerView<span class="token operator">-&gt;</span><span class="token function">winId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">", name:"</span> <span class="token operator">&lt;&lt;</span> m_projManagerView<span class="token operator">-&gt;</span><span class="token function">windowTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">dockLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">addDockWidget</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>LeftDockWidgetArea<span class="token punctuation">,</span> m_projManagerView<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>Orientation<span class="token double-colon punctuation">::</span>Vertical<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">addDockWidget</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>RightDockWidgetArea<span class="token punctuation">,</span> m_propertyView<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>Orientation<span class="token double-colon punctuation">::</span>Vertical<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">addDockWidget</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>BottomDockWidgetArea<span class="token punctuation">,</span> m_logView<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>Orientation<span class="token double-colon punctuation">::</span>Vertical<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">initToolBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    QSize <span class="token function">toolIconSize</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">setIconSize</span><span class="token punctuation">(</span>toolIconSize<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//设置工具栏图标大小</span>
    
    QIcon <span class="token function">newFileIcon</span><span class="token punctuation">(</span><span class="token string">":/images/新建文件.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QIcon <span class="token function">openFileIcon</span><span class="token punctuation">(</span><span class="token string">":/images/打开文件.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QIcon <span class="token function">saveFileIcon</span><span class="token punctuation">(</span><span class="token string">":/images/保存.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QIcon <span class="token function">runIcon</span><span class="token punctuation">(</span><span class="token string">":/images/运行.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QIcon <span class="token function">stopIcon</span><span class="token punctuation">(</span><span class="token string">":/images/停止.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QIcon <span class="token function">debugIcon</span><span class="token punctuation">(</span><span class="token string">":/images/调试.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QIcon <span class="token function">anaysisIcon</span><span class="token punctuation">(</span><span class="token string">":/images/分析.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QIcon <span class="token function">recordIcon</span><span class="token punctuation">(</span><span class="token string">":/images/录制.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QIcon <span class="token function">grabIcon</span><span class="token punctuation">(</span><span class="token string">":/images/抓取.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QIcon <span class="token function">capacityIcon</span><span class="token punctuation">(</span><span class="token string">":/images/应用中心.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QIcon <span class="token function">paramterIcon</span><span class="token punctuation">(</span><span class="token string">":/images/参数.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QIcon <span class="token function">publishIcon</span><span class="token punctuation">(</span><span class="token string">":/images/发布.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QIcon <span class="token function">exportIcon</span><span class="token punctuation">(</span><span class="token string">":/images/导出.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    m_newAc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span>newFileIcon<span class="token punctuation">,</span> <span class="token string">"新建项目"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_saveAc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span>saveFileIcon<span class="token punctuation">,</span> <span class="token string">"保存"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_runAc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span>runIcon<span class="token punctuation">,</span> <span class="token string">"运行"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_stopAc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span>stopIcon<span class="token punctuation">,</span> <span class="token string">"停止"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_debugAc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span>debugIcon<span class="token punctuation">,</span> <span class="token string">"调试"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_anaysisAc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span>anaysisIcon<span class="token punctuation">,</span> <span class="token string">"分析"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_recordAc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span>recordIcon<span class="token punctuation">,</span> <span class="token string">"录制"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_grabAc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span>grabIcon<span class="token punctuation">,</span> <span class="token string">"抓取"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_capacityAc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span>capacityIcon<span class="token punctuation">,</span> <span class="token string">"能力中心"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_paramterAc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span>paramterIcon<span class="token punctuation">,</span> <span class="token string">"参数"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_publishAc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span>publishIcon<span class="token punctuation">,</span> <span class="token string">"发布"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_exportAc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span>exportIcon<span class="token punctuation">,</span> <span class="token string">"导出"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">//add QAction to Widget.</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span>m_newAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span>m_saveAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span>m_saveAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">addSeparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span>m_runAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span>m_stopAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span>m_debugAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span>m_anaysisAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">addSeparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span>m_recordAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span>m_grabAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">addSeparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span>m_capacityAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">addSeparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span>m_paramterAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span>m_publishAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span>m_exportAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>mainToolBar<span class="token operator">-&gt;</span><span class="token function">addSeparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">connect</span><span class="token punctuation">(</span>m_newAc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainFramework<span class="token double-colon punctuation">::</span>s_newProject<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>m_saveAc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainFramework<span class="token double-colon punctuation">::</span>s_saveFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>m_runAc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainFramework<span class="token double-colon punctuation">::</span>s_runAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>m_stopAc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainFramework<span class="token double-colon punctuation">::</span>s_stopAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>m_debugAc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainFramework<span class="token double-colon punctuation">::</span>s_debugAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>m_anaysisAc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainFramework<span class="token double-colon punctuation">::</span>s_anaysisAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>m_recordAc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainFramework<span class="token double-colon punctuation">::</span>s_recordAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>m_grabAc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainFramework<span class="token double-colon punctuation">::</span>s_grabAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>m_capacityAc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainFramework<span class="token double-colon punctuation">::</span>s_capacityAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>m_paramterAc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainFramework<span class="token double-colon punctuation">::</span>s_paramterAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>m_publishAc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainFramework<span class="token double-colon punctuation">::</span>s_publishAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>m_exportAc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainFramework<span class="token double-colon punctuation">::</span>s_exportAc<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_hideProj</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    m_projectAc<span class="token operator">-&gt;</span><span class="token function">setChecked</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_projManagerView<span class="token operator">-&gt;</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_propertyWinHide</span><span class="token punctuation">(</span><span class="token keyword">bool</span> visible<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visible<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        m_propertyAc<span class="token operator">-&gt;</span><span class="token function">setChecked</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        m_propertyView<span class="token operator">-&gt;</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_logWinHide</span><span class="token punctuation">(</span><span class="token keyword">bool</span> visible<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visible<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        m_logAc<span class="token operator">-&gt;</span><span class="token function">setChecked</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        m_logView<span class="token operator">-&gt;</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_newProject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_saveFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    QString log <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"功能正在开发中，请耐心等待！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">showMessageBox</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addLog</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_runAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    QString log <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"功能正在开发中，请耐心等待！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">showMessageBox</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addLog</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_stopAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    QString log <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"功能正在开发中，请耐心等待！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">showMessageBox</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addLog</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_debugAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    QString log <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"功能正在开发中，请耐心等待！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">showMessageBox</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addLog</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_anaysisAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    QString log <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"功能正在开发中，请耐心等待！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">showMessageBox</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addLog</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_recordAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    QString log <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"功能正在开发中，请耐心等待！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">showMessageBox</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addLog</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_grabAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    QString log <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"功能正在开发中，请耐心等待！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">showMessageBox</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addLog</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_capacityAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    QString log <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"功能正在开发中，请耐心等待！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">showMessageBox</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addLog</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_paramterAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    QString log <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"功能正在开发中，请耐心等待！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">showMessageBox</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addLog</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_publishAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    QString log <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"功能正在开发中，请耐心等待！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">showMessageBox</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addLog</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">s_exportAc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    QString log <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"功能正在开发中，请耐心等待！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">showMessageBox</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addLog</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token function">showMessageBox</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString<span class="token operator">&amp;</span> text<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> m_msgBox<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        m_msgBox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">MsgBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    m_msgBox<span class="token operator">-&gt;</span><span class="token function">setMsgText</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_msgBox<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>




<span class="token class-name">MainFramework</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">MainFramework</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


</code></pre> 
<h2><a id="_660"></a>效果</h2> 
<p><img src="https://images2.imgbox.com/11/12/Bo1LTpLP_o.png" alt="在这里插入图片描述"><br> <a href="https://download.csdn.net/download/aoxuestudy/87554329">源码下载</a></p> 
<h2><a id="_666"></a>遇到的问题</h2> 
<p>上图是运行效果图，左边的树形视图少了一道分割竖线，看起来很纠结，解决办法：在左边的QDockWidget界面设计器中加入：</p> 
<pre><code class="prism language-css"><span class="token selector">&lt;layout class="QVBoxLayout" name="verticalLayout"&gt;
   &lt;property name="spacing"&gt;
    &lt;number&gt;0&lt;/number&gt;
   &lt;/property&gt;
   &lt;property name="leftMargin"&gt;
    &lt;number&gt;0&lt;/number&gt;
   &lt;/property&gt;
   &lt;property name="topMargin"&gt;
    &lt;number&gt;3&lt;/number&gt;
   &lt;/property&gt;
   &lt;property name="rightMargin"&gt;
    &lt;number&gt;1&lt;/number&gt;
   &lt;/property&gt;
   &lt;property name="bottomMargin"&gt;
    &lt;number&gt;1&lt;/number&gt;
   &lt;/property&gt;
   &lt;item&gt;
    &lt;widget class="QTabWidget" name="tabWidget"&gt;
     &lt;property name="styleSheet"&gt;
      &lt;string notr="true"&gt;QTabWidget:pane</span><span class="token punctuation">{<!-- --></span><span class="token property">border-left</span><span class="token punctuation">:</span>1px solid #a0a0a0<span class="token punctuation">;</span> <span class="token property">border-right</span><span class="token punctuation">:</span>1px solid #a0a0a0<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token selector">QTabBar::tab</span><span class="token punctuation">{<!-- --></span><span class="token property">min-height</span><span class="token punctuation">:</span> 28px<span class="token punctuation">;</span>  <span class="token property">min-width</span><span class="token punctuation">:</span>80px <span class="token punctuation">;</span>  <span class="token property">font</span><span class="token punctuation">:</span>14px<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">QTabBar::tab:!selected</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token selector">QTabBar::tab:!selected:hover</span><span class="token punctuation">{<!-- --></span> <span class="token property">background-color</span><span class="token punctuation">:</span> #d9fffe<span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span><span class="token punctuation">}</span>&lt;/string&gt;
     &lt;/property&gt;
     &lt;property name=<span class="token string">"tabShape"</span>&gt;
      &lt;enum&gt;<span class="token property">QTabWidget</span><span class="token punctuation">:</span><span class="token punctuation">:</span>Triangular&lt;/enum&gt;
     &lt;/property&gt;
     &lt;property name=<span class="token string">"currentIndex"</span>&gt;
      &lt;number&gt;-1&lt;/number&gt;
     &lt;/property&gt;
    &lt;/widget&gt;
   &lt;/item&gt;
  &lt;/layout&gt;
 &lt;/widget&gt;
 &lt;layoutdefault spacing=<span class="token string">"6"</span> margin=<span class="token string">"11"</span>/&gt;
</code></pre> 
<p><img src="https://images2.imgbox.com/47/de/tUdAl4qT_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/61/c0/bxFHn2cQ_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/824aee3f711e847fe5636178674aef7e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">antdvue树选择组件a-tree-select，只有叶子节点可以被选中</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5d99a0e6469712188b43596454a4956c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">下载huggingface-transformers模型至本地，并使用from_pretrained方法加载</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>