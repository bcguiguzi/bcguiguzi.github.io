<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C&#43;&#43;之RapidJSON解析json数据 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C&#43;&#43;之RapidJSON解析json数据" />
<meta property="og:description" content="RapidJSON 是一个 C&#43;&#43; 的 JSON 解析器及生成器。
JSON文本： //document.json {&#34;name&#34;:&#34;xiaoming&#34;,&#34;gender&#34;:&#34;boy&#34;,&#34;hobby&#34;:[&#34;足球&#34;,&#34;篮球&#34;,&#34;电影&#34;],&#34;socre&#34;:{&#34;数学&#34;:91.5,&#34;英语&#34;:96.0,&#34;语文&#34;:95.5},&#34;lover&#34;:{&#34;name&#34;:&#34;xiaohong&#34;,&#34;gender&#34;:&#34;girl&#34;,&#34;hobby&#34;:[&#34;画画&#34;,&#34;跳舞&#34;,&#34;唱歌&#34;],&#34;score&#34;:{&#34;数学&#34;:78.5,&#34;英语&#34;:90.0,&#34;语文&#34;:89.0}}} 由于复制的过程中，json文本可以出现错误，可以用将json文本复制到JSON在线编辑器验证一下。
解析代码： #include&lt;string&gt; #include&lt;fstream&gt; #include&lt;iostream&gt; #include&#34;document.h&#34; using namespace std; int main () { std::ifstream t(&#34;./document.json&#34;); std::string str((std::istreambuf_iterator&lt;char&gt;(t)), std::istreambuf_iterator&lt;char&gt;()); rapidjson::Document document; document.Parse(str.c_str()); rapidjson::Value::ConstMemberIterator iter = document.FindMember(&#34;name&#34;); if(iter != document.MemberEnd()){ cout &lt;&lt; &#34;name : &#34; &lt;&lt; iter-&gt;value.GetString() &lt;&lt; endl; } iter = document.FindMember(&#34;gender&#34;); if(iter != document.MemberEnd()){ cout &lt;&lt; &#34;gender : &#34; &lt;&lt; iter-&gt;value.GetString() &lt;&lt; endl; } if(document.HasMember(&#34;hobby&#34;)){ cout &lt;&lt; &#34;hobby : &#34; &lt;&lt; endl; const rapidjson::Value&amp; childValue = document[&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/76dcd74e88112e4c65d088e9574ab5c1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-05-26T10:20:15+08:00" />
<meta property="article:modified_time" content="2019-05-26T10:20:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C&#43;&#43;之RapidJSON解析json数据</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><a href="https://github.com/Tencent/rapidjson">RapidJSON</a> 是一个 C++ 的 JSON 解析器及生成器。</p> 
<h3><a id="JSON_2"></a>JSON文本：</h3> 
<pre><code>//document.json
{"name":"xiaoming","gender":"boy","hobby":["足球","篮球","电影"],"socre":{"数学":91.5,"英语":96.0,"语文":95.5},"lover":{"name":"xiaohong","gender":"girl","hobby":["画画","跳舞","唱歌"],"score":{"数学":78.5,"英语":90.0,"语文":89.0}}}
</code></pre> 
<p>由于复制的过程中，json文本可以出现错误，可以用将json文本复制到<a href="https://qqe2.com/" rel="nofollow">JSON在线编辑器</a>验证一下。</p> 
<h3><a id="_11"></a>解析代码：</h3> 
<pre><code>#include&lt;string&gt;
#include&lt;fstream&gt;
#include&lt;iostream&gt;
#include"document.h"
using namespace std;

int main () {

  std::ifstream t("./document.json");
  std::string str((std::istreambuf_iterator&lt;char&gt;(t)),
                  std::istreambuf_iterator&lt;char&gt;());

  rapidjson::Document document;
  document.Parse(str.c_str());

  rapidjson::Value::ConstMemberIterator iter = document.FindMember("name");
  if(iter != document.MemberEnd()){
    cout &lt;&lt; "name : " &lt;&lt; iter-&gt;value.GetString() &lt;&lt; endl;
  }

  iter = document.FindMember("gender");
  if(iter != document.MemberEnd()){
    cout &lt;&lt; "gender : " &lt;&lt; iter-&gt;value.GetString() &lt;&lt; endl;
  }

  if(document.HasMember("hobby")){
    cout &lt;&lt; "hobby : " &lt;&lt; endl;
    const rapidjson::Value&amp; childValue = document["hobby"];
    for(rapidjson::SizeType i = 0; i &lt; childValue.Size(); ++i){
      cout &lt;&lt; "    " &lt;&lt; childValue[i].GetString() &lt;&lt; endl;
    }
  }

  if(document.HasMember("score")){
    cout &lt;&lt; "score : " &lt;&lt; endl;
    const rapidjson::Value&amp; childIter = document["score"];
    for(rapidjson::Value::ConstMemberIterator it = childIter.MemberBegin(); it != childIter.MemberEnd(); ++it){
      cout &lt;&lt; "    " &lt;&lt; it-&gt;name.GetString() &lt;&lt; " : " &lt;&lt; it-&gt;value.GetDouble() &lt;&lt; endl;
    }
  }

  if(document.HasMember("lover")){
    cout &lt;&lt; "lover : " &lt;&lt; endl;
    const rapidjson::Value&amp; chileValue = document["lover"];
    rapidjson::Value::ConstMemberIterator chileIter = chileValue.FindMember("name");
    if(chileIter != chileValue.MemberEnd()){
      cout &lt;&lt; "    " &lt;&lt; "name : " &lt;&lt; chileIter-&gt;value.GetString() &lt;&lt; endl;
    }

    chileIter = chileValue.FindMember("gender");
    if(chileIter != chileValue.MemberEnd()){
      cout &lt;&lt; "    " &lt;&lt; "gender : " &lt;&lt; chileIter-&gt;value.GetString() &lt;&lt; endl;
    }

    if(chileValue.HasMember("hobby")){
      cout &lt;&lt; "    " &lt;&lt; "hobby : " &lt;&lt; endl;
      const rapidjson::Value&amp; chile2Value = chileValue["hobby"];
      for(rapidjson::SizeType i = 0; i &lt; chile2Value.Size(); ++i){
        cout &lt;&lt; "        " &lt;&lt; chile2Value[i].GetString() &lt;&lt; endl;
      }
    }

    if(chileValue.HasMember("score")){
      cout &lt;&lt; "    " &lt;&lt; "score : " &lt;&lt; endl;
      const rapidjson::Value&amp; child2Iter = chileValue["score"];
      for(rapidjson::Value::ConstMemberIterator it = child2Iter.MemberBegin(); it != child2Iter.MemberEnd(); ++it){
        cout &lt;&lt; "        " &lt;&lt; it-&gt;name.GetString() &lt;&lt; " : " &lt;&lt; it-&gt;value.GetDouble() &lt;&lt; endl;
      }
    }
  }
}

</code></pre> 
<h3><a id="_88"></a>输出结果：</h3> 
<img src="https://images2.imgbox.com/41/cf/mjEIaJF3_o.jpg" width="30%"> 
<h3><a id="CRapidJSONjsonhttpsblogcsdnnetchen134225articledetails94046308_91"></a><a href="https://blog.csdn.net/chen134225/article/details/94046308">C++之RapidJSON生成json数据</a></h3>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/05f0c7530d4e69abc38e9199c54270e3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">VS编译程序时，提示 命令&#34;copy…… 已退出，代码为1&#34;解决方案</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6fc605fd8a7b579daa1547a05efefd83/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Vue：Elements in iteration expect to have &#39;v-bind:key&#39; directives的解决办法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>