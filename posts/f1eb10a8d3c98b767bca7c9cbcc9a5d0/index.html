<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vuex 基础 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vuex 基础" />
<meta property="og:description" content="文章目录 目录
文章目录
前言
一、Vuex是什么？
二、初始化
三、Vuex组成 （一）
state
1.定义 2. 原始调用
3. 辅助函数 - mapState
(二)mutations
1.定义 2.原始调用
3.辅助函数 - mapMutations
（三）actions
1.定义 2.原始调用
3.辅助函数 -mapActions
（四）getters
1.定义
2.原始调用
3.辅助函数 - mapGetters
（五）Module
总结
1.vuex由五部分组成：
2.有四个辅助函数:
前言 Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。
一、Vuex是什么？ 简单来说vuex是采用集中式管理组件依赖的共享数据的一个工具，它可以解决不同组件数据共享问题。
【注意】
修改state状态必须通过mutations
mutations只能执行同步代码，类似ajax，定时器之类的代码不能在mutations中执行
执行异步代码，要通过actions，然后将数据提交给mutations才可以完成
state的状态即共享数据可以在组件中引用
组件中可以调用action
二、初始化 第一步：npm i vuex --save =&gt; 安装到运行时依赖 =&gt; 项目上线之后依然使用的依赖 ,开发时依赖 =&gt; 开发调试时使用
开发时依赖 就是开开发的时候，需要的依赖，运行时依赖，项目上线运行时依然需要的
第二步： 在main.js中 import Vuex from &#39;vuex&#39;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/f1eb10a8d3c98b767bca7c9cbcc9a5d0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-01T15:46:33+08:00" />
<meta property="article:modified_time" content="2022-04-01T15:46:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vuex 基础</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 id="%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95"><a id="_0"></a>文章目录</h2> 
<div> 
 <ul><li> <p id="main-toc"><strong>目录</strong></p> <p id="%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95-toc" style="margin-left:0px;"><a href="#%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95" rel="nofollow">文章目录</a></p> <p id="%E5%89%8D%E8%A8%80-toc" style="margin-left:0px;"><a href="#%E5%89%8D%E8%A8%80" rel="nofollow">前言</a></p> <p id="%E4%B8%80%E3%80%81Vuex%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81Vuex%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F" rel="nofollow">一、Vuex是什么？</a></p> <p id="%E4%BA%8C%E3%80%81%E5%88%9D%E5%A7%8B%E5%8C%96-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E5%88%9D%E5%A7%8B%E5%8C%96" rel="nofollow">二、初始化</a></p> <p id="%E4%B8%89%E3%80%81Vuex%E7%BB%84%E6%88%90%C2%A0-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81Vuex%E7%BB%84%E6%88%90%C2%A0" rel="nofollow">三、Vuex组成 </a></p> <p id="%C2%A0%E4%B8%89%E3%80%81state-toc" style="margin-left:40px;"><a href="#%C2%A0%E4%B8%89%E3%80%81state" rel="nofollow"> （一）</a></p> <p id="state-toc" style="margin-left:40px;"><a href="#state" rel="nofollow">state</a></p> <p id="1.%E5%AE%9A%E4%B9%89%C2%A0-toc" style="margin-left:80px;"><a href="#1.%E5%AE%9A%E4%B9%89%C2%A0" rel="nofollow">1.定义 </a></p> <p id="2.%20%E5%8E%9F%E5%A7%8B%E8%B0%83%E7%94%A8-toc" style="margin-left:80px;"><a href="#2.%20%E5%8E%9F%E5%A7%8B%E8%B0%83%E7%94%A8" rel="nofollow">2. 原始调用</a></p> <p id="3.%C2%A0%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0%20-%20mapState-toc" style="margin-left:80px;"><a href="#3.%C2%A0%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0%20-%20mapState" rel="nofollow">3. 辅助函数 - mapState</a></p> <p id="%C2%A0(%E4%BA%8C)mutations-toc" style="margin-left:40px;"><a href="#%C2%A0%28%E4%BA%8C%29mutations" rel="nofollow"> (二)mutations</a></p> <p id="1.%E5%AE%9A%E4%B9%89%C2%A0-toc" style="margin-left:80px;"><a href="#1.%E5%AE%9A%E4%B9%89%C2%A0" rel="nofollow">1.定义 </a></p> <p id="2.%E5%8E%9F%E5%A7%8B%E8%B0%83%E7%94%A8-toc" style="margin-left:80px;"><a href="#2.%E5%8E%9F%E5%A7%8B%E8%B0%83%E7%94%A8" rel="nofollow">2.原始调用</a></p> <p id="%C2%A03.%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0%20-%20mapMutations-toc" style="margin-left:80px;"><a href="#%C2%A03.%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0%20-%20mapMutations" rel="nofollow"> 3.辅助函数 - mapMutations</a></p> <p id="%EF%BC%88%E4%B8%89%EF%BC%89actions-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%89%EF%BC%89actions" rel="nofollow">（三）actions</a></p> <p id="1.%E5%AE%9A%E4%B9%89%C2%A0%C2%A0-toc" style="margin-left:80px;"><a href="#1.%E5%AE%9A%E4%B9%89%C2%A0%C2%A0" rel="nofollow">1.定义  </a></p> <p id="%C2%A02.%E5%8E%9F%E5%A7%8B%E8%B0%83%E7%94%A8-toc" style="margin-left:80px;"><a href="#%C2%A02.%E5%8E%9F%E5%A7%8B%E8%B0%83%E7%94%A8" rel="nofollow"> 2.原始调用</a></p> <p id="%C2%A03.%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0%20-mapActions-toc" style="margin-left:80px;"><a href="#%C2%A03.%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0%20-mapActions" rel="nofollow"> 3.辅助函数 -mapActions</a></p> <p id="%EF%BC%88%E5%9B%9B%EF%BC%89getters-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E5%9B%9B%EF%BC%89getters" rel="nofollow">（四）getters</a></p> <p id="%C2%A01.%E5%AE%9A%E4%B9%89-toc" style="margin-left:80px;"><a href="#%C2%A01.%E5%AE%9A%E4%B9%89" rel="nofollow"> 1.定义</a></p> <p id="%C2%A02.%E5%8E%9F%E5%A7%8B%E8%B0%83%E7%94%A8-toc" style="margin-left:80px;"><a href="#%C2%A02.%E5%8E%9F%E5%A7%8B%E8%B0%83%E7%94%A8" rel="nofollow"> 2.原始调用</a></p> <p id="%C2%A03.%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0%20-%20mapGetters-toc" style="margin-left:80px;"><a href="#%C2%A03.%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0%20-%20mapGetters" rel="nofollow"> 3.辅助函数 - mapGetters</a></p> <p id="%C2%A0%EF%BC%88%E4%BA%94%EF%BC%89Module-toc" style="margin-left:40px;"><a href="#%C2%A0%EF%BC%88%E4%BA%94%EF%BC%89Module" rel="nofollow"> （五）Module</a></p> <p id="-toc" style="margin-left:40px;"></p> <p id="%E6%80%BB%E7%BB%93-toc" style="margin-left:0px;"><a href="#%E6%80%BB%E7%BB%93" rel="nofollow">总结</a></p> <p id="1.vuex%E7%94%B1%E4%BA%94%E9%83%A8%E5%88%86%E7%BB%84%E6%88%90%EF%BC%9A-toc" style="margin-left:80px;"><a href="#1.vuex%E7%94%B1%E4%BA%94%E9%83%A8%E5%88%86%E7%BB%84%E6%88%90%EF%BC%9A" rel="nofollow">1.vuex由五部分组成：</a></p> <p id="2.%E6%9C%89%E5%9B%9B%E4%B8%AA%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0%3A-toc" style="margin-left:80px;"><a href="#2.%E6%9C%89%E5%9B%9B%E4%B8%AA%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0%3A" rel="nofollow">2.有四个辅助函数:</a></p> 
   <hr id="hr-toc"><p></p> <p></p> </li></ul> 
</div> 
<hr> 
<h2 id="%E5%89%8D%E8%A8%80"><a id="_12"></a>前言</h2> 
<p>Vuex 是一个专为 Vue.js 应用程序开发的<strong>状态管理模式</strong>。它采用<strong><code>集中式</code></strong>存储管理应用的所有组件的状态，并以相应的规则保证状态以一种<strong><code>可预测</code></strong>的方式发生变化。</p> 
<h2 id="%E4%B8%80%E3%80%81Vuex%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><a id="pandas_22"></a>一、Vuex是什么？</h2> 
<p>简单来说vuex是采用集中式管理组件依赖的共享数据的一个工具，它可以解决不同组件数据共享问题。</p> 
<p style="text-align:center;"><img alt="" height="298" src="https://images2.imgbox.com/fa/77/SXpTBvQy_o.png" width="536"></p> 
<p> 【注意】</p> 
<ul><li> <p>修改state状态必须通过<strong><code>mutations</code></strong></p> </li><li> <p><strong><code>mutations</code></strong>只能执行同步代码，类似ajax，定时器之类的代码不能在mutations中执行</p> </li><li> <p>执行异步代码，要通过actions，然后将数据提交给mutations才可以完成</p> </li><li> <p>state的状态即共享数据可以在组件中引用</p> </li><li> <p>组件中可以调用action</p> </li></ul> 
<h2 id="%E4%BA%8C%E3%80%81%E5%88%9D%E5%A7%8B%E5%8C%96"><a id="_26"></a>二、初始化</h2> 
<ul><li> <p>第一步：<code>npm i vuex --save</code> =&gt; 安装到<strong><code>运行时依赖</code></strong> =&gt; 项目上线之后依然使用的依赖 ,开发时依赖 =&gt; 开发调试时使用</p> </li></ul> 
<blockquote> 
 <p>开发时依赖 就是开开发的时候，需要的依赖，运行时依赖，项目上线运行时依然需要的</p> 
</blockquote> 
<ul><li> <p>第二步： <strong>在main.js中</strong> <code>import Vuex from 'vuex'</code></p> </li><li> <p>第三步：<strong>在main.js中</strong> <code>Vue.use(Vuex)</code> =&gt; 调用了 vuex中的 一个install方法</p> </li><li> <p>第四步：<code>const store = new Vuex.Store({...配置项})</code></p> </li><li> <p>第五步：在根实例配置 store 选项指向 store 实例对象</p> </li></ul> 
<p style="text-align:center;"><img alt="" class="left" height="255" src="https://images2.imgbox.com/ae/38/51yJ4nSh_o.png" width="437"></p> 
<h2 id="%E4%B8%89%E3%80%81Vuex%E7%BB%84%E6%88%90%C2%A0">三、Vuex组成 </h2> 
<h3 id="%C2%A0%E4%B8%89%E3%80%81state"> （一）</h3> 
<p></p> 
<h3 id="state">state</h3> 
<blockquote> 
 <p>state是放置所有公共状态的属性，如果你有一个公共状态数据 ， 你只需要定义在 state对象中</p> 
</blockquote> 
<h4 id="1.%E5%AE%9A%E4%B9%89%C2%A0">1.定义 </h4> 
<pre><code>// 初始化vuex对象
const store = new Vuex.Store({
  state: {
    // 管理数据
    count: 0
  }
})</code></pre> 
<h4 id="2.%20%E5%8E%9F%E5%A7%8B%E8%B0%83%E7%94%A8">2. 原始调用</h4> 
<p>组件中可以使用 <strong>this.$store</strong> 获取到vuex中的store对象实例，可通过<strong>state</strong>属性属性获取<strong>count</strong>， 如下</p> 
<pre><code>&lt;div&gt; state的数据：{<!-- -->{ $store.state.count }}&lt;/div&gt;</code></pre> 
<h4 id="3.%C2%A0%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0%20-%20mapState">3. <strong>辅助函数</strong> - mapState</h4> 
<pre><code> //第一步：导入mapState
import { mapState } from 'vuex'

//第二步：采用数组形式引入state属性
mapState(['count']) 

//第三步：利用**延展运算符**将导出的状态映射给计算属性
  computed: {
    ...mapState(['count'])
  }</code></pre> 
<h3 id="%C2%A0(%E4%BA%8C)mutations"> (二)mutations</h3> 
<blockquote> 
 <p>state数据的修改只能通过mutations，并且mutations必须是同步更新，目的是形成<strong><code>数据快照</code></strong></p> 
</blockquote> 
<h4>1.定义 </h4> 
<pre><code>const store  = new Vuex.Store({
  state: {
    count: 0
  },
  // 定义mutations
  mutations: {
     
  }
})</code></pre> 
<h4 id="2.%E5%8E%9F%E5%A7%8B%E8%B0%83%E7%94%A8">2.原始调用</h4> 
<pre><code>methods: {
      // commit(方法名, 载荷参数)
      addCount () {
          this.$store.commit('addCount')
      }
 }</code></pre> 
<h4 id="%C2%A03.%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0%20-%20mapMutations"> 3.<strong>辅助函数</strong> - mapMutations</h4> 
<pre><code>import  { mapMutations } from 'vuex'
methods: {
    ...mapMutations(['addCount'])
}</code></pre> 
<blockquote> 
 <p> 上面代码的含义是将mutations的方法导入了methods中，等同于</p> 
</blockquote> 
<pre><code>methods: {
      // commit(方法名, 载荷参数)
      addCount () {
          this.$store.commit('addCount')
      }
 }</code></pre> 
<p> </p> 
<p><span style="color:#fe2c24;"><strong>mutations是一个对象，对象中存放修改state的方法</strong></span></p> 
<h3 id="%EF%BC%88%E4%B8%89%EF%BC%89actions">（三）actions</h3> 
<blockquote> 
 <p>state是存放数据的，mutations是同步更新数据，actions则负责进行异步操作</p> 
</blockquote> 
<h4 id="1.%E5%AE%9A%E4%B9%89%C2%A0%C2%A0">1.定义  </h4> 
<pre><code>actions: {
  //  获取异步的数据 context表示当前的store的实例 可以通过 context.state 获取状态 也可以通过context.commit 来提交mutations， 也可以 context.diapatch调用其他的action
    getAsyncCount (context) {
      setTimeout(function(){
        // 一秒钟之后 要给一个数 去修改state
        context.commit('addCount', 123)
      }, 1000)
    }
 } </code></pre> 
<h4 id="%C2%A02.%E5%8E%9F%E5%A7%8B%E8%B0%83%E7%94%A8"> 2.原始调用</h4> 
<pre><code>addAsyncCount () {
     this.$store.dispatch('getAsyncCount')
 }</code></pre> 
<h4 id="%C2%A03.%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0%20-mapActions"> 3.<strong>辅助函数</strong> -mapActions</h4> 
<pre><code>import { mapActions } from 'vuex'
methods: {
    ...mapActions(['getAsyncCount'])
}</code></pre> 
<h3 id="%EF%BC%88%E5%9B%9B%EF%BC%89getters">（四）getters</h3> 
<blockquote> 
 <p> 除了state之外，有时我们还需要从state中派生出一些状态，这些状态是依赖state的，此时会用到getters</p> 
</blockquote> 
<h4 id="%C2%A01.%E5%AE%9A%E4%B9%89"> 1.定义</h4> 
<pre><code> getters: {
    // getters函数的第一个参数是 state
    // 必须要有返回值
     filterList:  state =&gt;  state.list.filter(item =&gt; item &gt; 5)
  }</code></pre> 
<h4> 2.原始调用</h4> 
<pre><code>&lt;div&gt;{<!-- -->{ $store.getters.filterList }}&lt;/div&gt;</code></pre> 
<h4 id="%C2%A03.%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0%20-%20mapGetters"> 3.<strong>辅助函数</strong> - mapGetters</h4> 
<pre><code>computed: {
    ...mapGetters(['filterList'])
}</code></pre> 
<h3 id="%C2%A0%EF%BC%88%E4%BA%94%EF%BC%89Module"> （五）Module</h3> 
<blockquote> 
 <p>由于使用单一状态树，应用的所有状态会集中到一个比较大的对象。当应用变得非常复杂时，store 对象就有可能变得相当臃肿，因此需要模块化来管理。</p> 
</blockquote> 
<p>定义两个模块 <strong>user</strong> 和 <strong>setting</strong></p> 
<p>user中管理用户的状态 token</p> 
<p>setting中管理 应用的名称 name</p> 
<pre><code>const store  = new Vuex.Store({
  modules: {
    user: {
       state: {
         token: '12345'
       }
    },
    setting: {
      state: {
         name: 'Vuex实例'
      }
    }
  })</code></pre> 
<p> </p> 
<p> </p> 
<h3><a id="1_27"></a></h3> 
<hr> 
<h2 id="%E6%80%BB%E7%BB%93"><a id="_55"></a>总结</h2> 
<h4 id="1.vuex%E7%94%B1%E4%BA%94%E9%83%A8%E5%88%86%E7%BB%84%E6%88%90%EF%BC%9A">1.vuex由五部分组成：</h4> 
<ul><li>state: 数据</li><li>actions:可以包含异步操作</li><li>mutations: 唯一可以修改state数据的场所</li><li>getters: 类似于vue组件中的计算属性，对state数据进行计算（会被缓存）</li><li>modules:模块化管理store（仓库），每个模块拥有自己的 state、mutation、action、getter</li></ul> 
<h4 id="2.%E6%9C%89%E5%9B%9B%E4%B8%AA%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0%3A">2.有四个辅助函数:</h4> 
<blockquote> 
 <p>辅助函数可以把<code>vuex</code>中的数据和方法映射到<code>vue组件</code>中,达到简化操作的目的.</p> 
</blockquote> 
<p>mapState,mapActions,mapMutations,mapGetters </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ef9b1bf663eafd9e5221c874d8b5a715/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JAVA线程池的使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7c1e29d3ffae78ea4f1c73abf07e7b35/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">CentOS 8 最新安装源国内源</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>