<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux驱动开发面试题 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux驱动开发面试题" />
<meta property="og:description" content="1.linux中内核空间及用户空间的区别？ 记住“22”，两级分段两级权限。
例如是32位的机器，从内存空间看：顶层1G是内核的，底3G是应用的；从权限看：内核是0级特权，应用是3级特权。
2.用户空间与内核通信方式有哪些？用户获得内核信息方式有哪些？ 系统调用。proc。
3.系统调用是什么？ linux提供给应用层访问内核包括设备驱动、进程管理、内核参数的接口，例如字符设备驱动，对上层是统一的接口，对底层则由具体驱动实现。其本质是“门机制”，利用机器指令进入更高的特权空间（内核态）。
3.补-以read为例，描述系统调用的过程？ 对一个已创建的普通文件，要先谈open过程：vfs，fs，cache，通用块，IO调度，块驱动，物理块，从而拿到fops给到文件描述符，之后read就和底层读写相关起来了。
4.字符设备和块设备的区别，请分别列举一些？ 1.数据流2.系统接口(块有两套接口)
字符设备：串口、键鼠、摄像头
块设备：sd卡，u盘
5.uboot启动流程？ CTUFRC
CPU----&gt;&gt;TIM----&gt;&gt;UART/FLASH/DRAM----&gt;&gt;relocate_code----&gt;&gt;command
6.linux内核启动流程？ UMMISMB
uboot通过theKernel启动----&gt;&gt;Machine----&gt;&gt;MMU----&gt;&gt;Init----&gt;&gt;Setup----&gt;&gt;Mount----&gt;&gt;Busybox
7.linux调度原理？ 完全公平/多级反馈队列/基于优先级
优先级：很好理解。缺点：调度是遍历的，饥饿现象
多级反馈队列：超过一定时间下放到低优先级队列。特点：bitmap
完全公平：红黑树动态调整优先级(计算虚拟时间)
8.注册一个字符设备流程，代码层面？ cdev_init（cdev，fops）----&gt;&gt;register_chrdev(设备号，设备节点，fops)
9.创建设备节点？ mknod/启动脚本&#43;mdev -s
10.释放资源要注意的？ 内存，ioremap，中断，定时器，工作队列等等要释放
11.内核函数mmap的实现原理，机制？ 将文件fd内容映射到进程虚拟内存进行读写，不必经过read/write
void* mmap ( void * addr , size_t len , int prot , int flags ,int fd , off_t offset )
12.遇到Oops？怎么处理的？ 当内核出错时(比如访问非法地址)打印出来的信息被称为 Oops 信息。
（未完待续）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/22b27dc1b7e8ec7a29382f1fd9d448a5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-17T15:50:57+08:00" />
<meta property="article:modified_time" content="2024-03-17T15:50:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux驱动开发面试题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3><strong>1.linux中内核空间及用户空间的区别？</strong></h3> 
<p>记住“22”，两级分段两级权限。</p> 
<p>例如是32位的机器，从内存空间看：顶层1G是内核的，底3G是应用的；从权限看：内核是0级特权，应用是3级特权。</p> 
<h3><strong>2.用户空间与内核通信方式有哪些？用户获得内核信息方式有哪些？</strong></h3> 
<p>系统调用。proc。</p> 
<h3>3.系统调用是什么？</h3> 
<p>linux提供给应用层访问内核包括设备驱动、进程管理、内核参数的接口，例如字符设备驱动，对上层是统一的接口，对底层则由具体驱动实现。其本质是“门机制”，利用机器指令进入更高的特权空间（内核态）。</p> 
<h3>3.补-以read为例，描述系统调用的过程？</h3> 
<p>对一个已创建的普通文件，要先谈open过程：vfs，fs，cache，通用块，IO调度，块驱动，物理块，从而拿到fops给到文件描述符，之后read就和底层读写相关起来了。</p> 
<h3><strong>4.字符设备和块设备的区别，请分别列举一些？</strong></h3> 
<p>1.数据流2.系统接口(块有两套接口)</p> 
<p>字符设备：串口、键鼠、摄像头</p> 
<p>块设备：sd卡，u盘</p> 
<h3>5.uboot启动流程？</h3> 
<p>CTUFRC</p> 
<p>CPU----&gt;&gt;TIM----&gt;&gt;UART/FLASH/DRAM----&gt;&gt;relocate_code----&gt;&gt;command</p> 
<h3>6.linux内核启动流程？</h3> 
<p>UMMISMB</p> 
<p>uboot通过theKernel启动----&gt;&gt;Machine----&gt;&gt;MMU----&gt;&gt;Init----&gt;&gt;Setup----&gt;&gt;Mount----&gt;&gt;Busybox</p> 
<h3>7.<strong>linux调度原理？</strong></h3> 
<p>完全公平/多级反馈队列/基于优先级</p> 
<p>优先级：很好理解。缺点：调度是遍历的，饥饿现象</p> 
<p>多级反馈队列：超过一定时间下放到低优先级队列。特点：bitmap</p> 
<p>完全公平：红黑树动态调整优先级(计算虚拟时间)</p> 
<h3>8.<strong>注册一个字符设备流程，代码层面？</strong></h3> 
<p>cdev_init（cdev，fops）----&gt;&gt;register_chrdev(设备号，设备节点，fops)</p> 
<h3>9.创建设备节点？</h3> 
<p>mknod/启动脚本+<strong>mdev -s</strong></p> 
<h3>10.释放资源要注意的？</h3> 
<p>内存，ioremap，中断，定时器，工作队列等等要释放</p> 
<h3>11.<strong>内核函数mmap的实现原理，机制？</strong></h3> 
<p>将文件fd内容映射到进程虚拟内存进行读写，不必经过read/write</p> 
<p>void* mmap ( void * addr , size_t len , int prot , int flags ,int fd , off_t offset )</p> 
<p><img alt="" height="473" src="https://images2.imgbox.com/cf/5c/b4VjOY0l_o.png" width="762"></p> 
<h3>12.<strong>遇到Oops？怎么处理的？</strong></h3> 
<p>当内核出错时(比如访问非法地址)打印出来的信息被称为 Oops 信息。</p> 
<p>（未完待续）</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5ecfac59571c8b1abab787b1652bd288/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">全域电商数据API接口采集突破堆人头的方式的数据采集实现高效稳定大批量的电商商品数据采集</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/20fcc954880916c80ba3f46561ea50b7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【开源】SpringBoot框架开发就医保险管理系统</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>