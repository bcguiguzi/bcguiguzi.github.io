<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>AXI4协议学习：架构、信号定义、工作时序和握手机制 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="AXI4协议学习：架构、信号定义、工作时序和握手机制" />
<meta property="og:description" content="目录 1 AXI是什么？2 AXI怎么工作？3 AXI协议3.1 架构3.1.1 通道定义3.1.2 接口与互连（interconnect）3.1.3 Register slices 3.2 基本事务3.2.1 突发读示例3.2.2 重叠突发读示例3.2.3 突发写示例3.2.4 事务顺序 3.3 额外的功能 4 信号定义4.1 全局信号4.2 写地址通道信号4.3 写数据通道信号4.4 写响应通道信号4.5 读地址通道信号4.6 读数据通道信号4.7 低功耗接口信号4.8 字段定义的简单说明：4.9 AXI-Lite与AXI-stream的接口 5 通道握手机制5.1 握手过程5.2 通道之间的关系5.3 通道握手信号之间的依赖关系 6 AXI4相关文件7 需要学习的文件 UG1037 不是 高级微控制器总线结构（advanced micro controller bus architecture，AMBA）ARM AXI4规范的替代品，而是说明：
可用于创建基于AXI的IP的Xilinx工具。被Xilinx采用的AXI功能。将现有设计改为AXI接口的向导文件。 XIlinx 从Spartan-6和Virtex-6开始使用 高级可扩展接口(Advanced eXtensible Interface,AXI)。
1 AXI是什么？ AXI是 ARM AMBA的一部分。
AMBA 是 ARM 1996年首次引入的一种微控制器总线。2003年发行的AMBA3.0 引入了AXI。2010年发行的AMBA4.0 包含了AXI的第二版：AXI4。
Xilinx使用的就是AXI4接口。
AXI4接口的四种类型：
AXI4（AXI4-Full）: 满足高性能内存映射（memory-mapped）需求。支持256长度突发（burst）传输。AXI4-Lite: 对于简单的、低吞吐量的内存映射通信(例如，与控制寄存器和状态寄存器之间的通信)。不可突发传输。AXI4-Stream: 用于高速流数据。不需要地址，允许无限的数据突发大小。 AXI4的好处：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/d18e7ae67cd457ab2da8cbb2ab831b26/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-22T20:26:39+08:00" />
<meta property="article:modified_time" content="2021-10-22T20:26:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">AXI4协议学习：架构、信号定义、工作时序和握手机制</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#1_AXI_13" rel="nofollow">1 AXI是什么？</a></li><li><a href="#2_AXI_29" rel="nofollow">2 AXI怎么工作？</a></li><li><a href="#3_AXI_86" rel="nofollow">3 AXI协议</a></li><li><ul><li><a href="#31__87" rel="nofollow">3.1 架构</a></li><li><ul><li><a href="#311__88" rel="nofollow">3.1.1 通道定义</a></li><li><a href="#312_interconnect_90" rel="nofollow">3.1.2 接口与互连（interconnect）</a></li><li><a href="#313_Register_slices_101" rel="nofollow">3.1.3 Register slices</a></li></ul> 
   </li><li><a href="#32__105" rel="nofollow">3.2 基本事务</a></li><li><ul><li><a href="#321__114" rel="nofollow">3.2.1 突发读示例</a></li><li><a href="#322__125" rel="nofollow">3.2.2 重叠突发读示例</a></li><li><a href="#323__132" rel="nofollow">3.2.3 突发写示例</a></li><li><a href="#324__141" rel="nofollow">3.2.4 事务顺序</a></li></ul> 
   </li><li><a href="#33__154" rel="nofollow">3.3 额外的功能</a></li></ul> 
  </li><li><a href="#4__181" rel="nofollow">4 信号定义</a></li><li><ul><li><a href="#41__188" rel="nofollow">4.1 全局信号</a></li><li><a href="#42__195" rel="nofollow">4.2 写地址通道信号</a></li><li><a href="#43__213" rel="nofollow">4.3 写数据通道信号</a></li><li><a href="#44__224" rel="nofollow">4.4 写响应通道信号</a></li><li><a href="#45__233" rel="nofollow">4.5 读地址通道信号</a></li><li><a href="#46__240" rel="nofollow">4.6 读数据通道信号</a></li><li><a href="#47__247" rel="nofollow">4.7 低功耗接口信号</a></li><li><a href="#48__255" rel="nofollow">4.8 字段定义的简单说明：</a></li><li><a href="#49_AXILiteAXIstream_279" rel="nofollow">4.9 AXI-Lite与AXI-stream的接口</a></li></ul> 
  </li><li><a href="#5__291" rel="nofollow">5 通道握手机制</a></li><li><ul><li><a href="#51__293" rel="nofollow">5.1 握手过程</a></li><li><a href="#52__299" rel="nofollow">5.2 通道之间的关系</a></li><li><a href="#53__310" rel="nofollow">5.3 通道握手信号之间的依赖关系</a></li></ul> 
  </li><li><a href="#6_AXI4_344" rel="nofollow">6 AXI4相关文件</a></li><li><a href="#7__350" rel="nofollow">7 需要学习的文件</a></li></ul> 
</div> 
<p></p> 
<p><em>UG1037</em> 不是 <em>高级微控制器总线结构（advanced micro controller bus architecture，AMBA）ARM AXI4规范</em>的替代品，而是说明：</p> 
<ul><li>可用于创建基于AXI的IP的Xilinx工具。</li><li>被Xilinx采用的AXI功能。</li><li>将现有设计改为AXI接口的向导文件。</li></ul> 
<p>XIlinx 从Spartan-6和Virtex-6开始使用 高级可扩展接口(Advanced eXtensible Interface,AXI)。</p> 
<h2><a id="1_AXI_13"></a>1 AXI是什么？</h2> 
<p>AXI是 ARM AMBA的一部分。<br> AMBA 是 ARM 1996年首次引入的一种微控制器总线。2003年发行的AMBA3.0 引入了AXI。2010年发行的AMBA4.0 包含了AXI的第二版：AXI4。<br> Xilinx使用的就是AXI4接口。</p> 
<p>AXI4接口的四种类型：</p> 
<ul><li>AXI4（AXI4-Full）: 满足高性能内存映射（memory-mapped）需求。支持256长度突发（burst）传输。</li><li>AXI4-Lite: 对于简单的、低吞吐量的内存映射通信(例如，与控制寄存器和状态寄存器之间的通信)。不可突发传输。</li><li>AXI4-Stream: 用于高速流数据。不需要地址，允许无限的数据突发大小。</li></ul> 
<p>AXI4的好处：</p> 
<ul><li>生产力：统一协议，减少学习负担。</li><li>灵活性：不同应用对应不同AXI4类型。</li><li>可用性：厂商的支持。</li></ul> 
<h2><a id="2_AXI_29"></a>2 AXI怎么工作？</h2> 
<ul><li>AXI规范描述了<strong>单个</strong>AXI主（master）从（slave）之间的接口。</li><li>多个Master和Slave之间的内存映射可以通过Xilinx AXI Interconnect IP 和 AXI SmartConnect IP 连接在一起。</li></ul> 
<p>AXI4和AXI4 Lite都包含五个不同的通道：</p> 
<ul><li>读地址通道（Read Address Channel）</li><li>写地址通道（Write Address Channel）</li><li>读数据通道（Read Data Channel）</li><li>写数据通道（Write Data Channel）</li><li>写响应通道（Write Response Channel）</li></ul> 
<p>数据可以同时在主-&gt;从和从-&gt;主两个方向传输。数据传输的大小可以变化。<br> AXI4中的限制是最多<strong>256</strong>个数据传输的突发事务。AXI4-Lite只允许每个事务进行<strong>1</strong>个数据传输。</p> 
<p>AXI4读事务 使用 读地址 和 读数据 通道示意：</p> 
<p><img src="https://images2.imgbox.com/e5/9a/Cg5IPMud_o.png" alt="在这里插入图片描述"></p> 
<p>AXI4写事务 使用 写地址 和 写数据 通道示意：</p> 
<p><img src="https://images2.imgbox.com/28/52/Sb5HlpvH_o.png" alt="在这里插入图片描述"></p> 
<p>AXI4：</p> 
<ul><li>读或写事务的 地址 与 数据 的连接分离。所以可以同时、双向 传输。</li><li>一个读或写地址后可以跟着256个突发数据传输。</li></ul> 
<p>除了突发特性外，还有：</p> 
<ul><li>data upsizing and downsizing</li><li>multiple outstanding addresses</li><li>out-of-order transaction processing</li></ul> 
<p>硬件层面，AXI4允许每个AXI master-slave的工作时钟不同。而且AXI4可以通过打拍来改善时序。</p> 
<p>AXI4-Lite:</p> 
<ul><li>与AXI4比不支持突发。所以少很多接口</li></ul> 
<p>AXI4-Stream:</p> 
<ul><li>定义传输流数据的单一通道( write data channel )。</li><li>可以进行无限制长度的突发传输。</li></ul> 
<p>Infrastructure IP: 基础设施IP是一些帮助系统连接的支持IP。基础设施IP往往是一种通用IP，它使用通用的AXI4接口在系统中移动或转换数据，而不解释数据。这些IP对于将IP连接到一个系统很有用，但通常不是数据的endpoint。例子:</p> 
<ul><li>AXI Register slices(打拍用)</li><li>AXI FIFOs（缓冲/时钟转换）</li><li>AXI Interconnect IP 和 AXI SmartConnect IP（连接内存映射IP）</li><li>AXI Direct Memory Access (DMA) engines（内存映射到stream的转换）</li><li>AXI Performance Monitors and Protocol Checkers（分析与debug）</li><li>AXI Verification IP（用于基于仿真的验证和性能分析）</li></ul> 
<p>AXI4-Stream与 Memory-Mapped协议的结合：<br> 一种常见的方法是构建将 AXI4-Stream 和 AXI内存映射 IP组合在一起的系统。通常可以使用AXI Direct Memory Access (DMA) engines将Stream移进或移出内存。</p> 
<p>例如，处理器可以使用DMA引擎解码数据包或在流数据之上实现协议栈，以构建更复杂的系统，其中数据在不同的应用程序空间或不同的IP之间移动。</p> 
<h2><a id="3_AXI_86"></a>3 AXI协议</h2> 
<h3><a id="31__87"></a>3.1 架构</h3> 
<h4><a id="311__88"></a>3.1.1 通道定义</h4> 
<p>5个通道</p> 
<h4><a id="312_interconnect_90"></a>3.1.2 接口与互连（interconnect）</h4> 
<p><img src="https://images2.imgbox.com/a7/1f/DGm0hdU0_o.png" alt="在这里插入图片描述"></p> 
<p>AXI协议描述了下面的接口定义：</p> 
<ul><li>master与互连之间</li><li>slave与互连之间</li><li>master与slave之间</li></ul> 
<p>接口定义支持各种不同的互连实现。互连相当于内部具有对称的主和从端口的设备，真实的主和从设备可以连接到这些端口。</p> 
<h4><a id="313_Register_slices_101"></a>3.1.3 Register slices</h4> 
<p>每个AXI通道只在一个方向上传输信息，各通道之间没有固定的关系。这个重要的特性使得可以在任何通道插入寄存器，但要付出额外的延迟周期。<br> 也可以在给定互连的几乎任何点上使用寄存器。在处理器和高性能内存之间使用直接、快速的连接是有好处的，但是使用简单的寄存器将较长的路径隔离到性能不那么关键的外围设备。</p> 
<h3><a id="32__105"></a>3.2 基本事务</h3> 
<p>三个示例：</p> 
<ul><li>突发读示例</li><li>重叠突发读</li><li>突发写</li></ul> 
<p>注意各示例的VALID和READY的握手机制，只有VALID和READY都为高才进行地址和数据的传输。</p> 
<h4><a id="321__114"></a>3.2.1 突发读示例</h4> 
<p>下图是长度为4的突发读时序（省略其他控制信号）：</p> 
<p><img src="https://images2.imgbox.com/80/ab/Sra64L45_o.png" alt="在这里插入图片描述"></p> 
<ul><li>当ARVILID和ARREADY都为高，地址被传递给从接口。</li><li>当RVALID和RREADY都为高，数据被传递给从接口。</li><li>RLAST与第四个有效数据同步，表示最后一个数据。</li></ul> 
<h4><a id="322__125"></a>3.2.2 重叠突发读示例</h4> 
<p>当从接口接收了第一个地址后，master接口可以发送另一个突发地址。使得当第一个突发读结束后，紧跟着第二个突发读。</p> 
<p><img src="https://images2.imgbox.com/df/94/LihNhU1G_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="323__132"></a>3.2.3 突发写示例</h4> 
<p>与突发读类似，都需要在握手完成时传递信息。</p> 
<p><img src="https://images2.imgbox.com/73/c9/HAGu2G2L_o.png" alt="在这里插入图片描述"></p> 
<p>当从服务器接受了所有的数据项后，它会向主服务器发送一个写响应，以表明写事务已经完成。</p> 
<h4><a id="324__141"></a>3.2.4 事务顺序</h4> 
<p>AXI协议支持无序（Out-of-order）的事务完成。它为跨接口的每个事务提供ID标记。该协议要求具有相同ID标记的交易按顺序完成，但具有不同ID标记的交易可以不按顺序完成。</p> 
<p>无序事务可以通过两种方式提高系统性能:</p> 
<ul><li>互连可以使 具有快速响应的slave的事务 在 更早发生的带有较慢响应的slave的事务 之前完成。</li><li>复杂的slave可以无序的返回读取的数据。比如，后访问的数据项可能在早期访问的数据之前进入内部缓冲区。</li></ul> 
<p>如果主服务器要求事务按照发出的顺序完成，那么它们必须都有相同的ID标签。但是，如果主服务器不要求按顺序完成交易，它可以为交易提供不同的ID标记，使它们能够按任何顺序完成。</p> 
<p>在多master系统中，互连器负责向ID标签附加附加信息，以确保<strong>来自所有master的ID标签是唯一的</strong>。ID标记类似于主编号，但是有了扩展名，每个master可以通过提供一个ID标记来指示虚拟master编号，从而在同一端口内实现多个虚拟master。</p> 
<p>虽然复杂的设备可以使用这种无序的功能，但简单的设备并不需要使用它。简单的主服务器可以使用相同的ID标签发出每个事务，而简单的从服务器可以按照顺序响应每个事务，而不考虑ID标签。</p> 
<h3><a id="33__154"></a>3.3 额外的功能</h3> 
<ul><li>突发类型：</li></ul> 
<ol><li>normal memory accesses</li><li>wrapping cache line bursts</li><li>streaming data to peripheral FIFO locations</li></ol> 
<ul><li>支持系统缓存:</li></ul> 
<p>AXI协议的缓存支持信号 使master能够向系统级缓存提供事务的可缓冲、可缓存和分配属性。</p> 
<ul><li>支持保护单元：</li></ul> 
<p>为了允许私有访问和安全访问，AXI协议提供了三个级别的保护单元支持。</p> 
<ul><li>原子操作：</li></ul> 
<p>AXI协议定义了独占访问和锁定访问的机制。</p> 
<ul><li>错误支持：</li></ul> 
<p>AXI协议为地址解码错误和从服务器产生的错误提供错误支持。</p> 
<ul><li>不对齐的地址：</li></ul> 
<p>为了提高突发的初始访问性能，AXI协议支持非对齐的突发起始地址。</p> 
<h2><a id="4__181"></a>4 信号定义</h2> 
<p><img src="https://images2.imgbox.com/d7/e0/kTBuxIdJ_o.png" alt="在这里插入图片描述"></p> 
<p>Xilinx IP 核中的AXI4-full接口，可以看到每组信号都用名字开头的字母来区分。</p> 
<h3><a id="41__188"></a>4.1 全局信号</h3> 
<table><thead><tr><th>信号</th><th>源</th><th>描述</th></tr></thead><tbody><tr><td>ACLK</td><td>时钟源</td><td>全局时钟信号，所有信号在这个时钟的上升沿采样</td></tr><tr><td>ARESETn</td><td>复位源</td><td>全局复位信号，低电平有限</td></tr></tbody></table> 
<h3><a id="42__195"></a>4.2 写地址通道信号</h3> 
<table><thead><tr><th>信号</th><th>源</th><th>描述</th></tr></thead><tbody><tr><td>AWID[x:0]</td><td>master</td><td>写地址ID。这个信号是写地址组信号的标识标签。</td></tr><tr><td>AWADDR[x:0]</td><td>master</td><td>写地址。写地址总线给出写突发事务中<strong>第一次传输</strong>的地址。关联的控制信号用于确定突发中剩余传输的地址</td></tr><tr><td>AWLEN[3:0]</td><td>master</td><td>突发长度。突发长度给出了突发传输的确切数字。这个信息决定了与该地址相关联的数据传输的数量。突发长度=数据总长-1</td></tr><tr><td>AWSIZE[2:0]</td><td>master</td><td>突发尺寸。这个信号表示突发事件中每个传输的大小。另外配合字节通道选通信号（strobe,WSTRB）准确地指示要更新的字节通道。</td></tr><tr><td>AWBURST[1:0]</td><td>master</td><td>突发类型。突发类型，加上大小信息（AWSIZE），详细说明了如何在突发中计算每个传输的地址。</td></tr><tr><td>AWLOCK[1:0]</td><td>master</td><td>锁类型。这个信号提供有关转移的原子特性的附加信息。</td></tr><tr><td>AWCACHE[3:0]</td><td>master</td><td>缓存类型。这个信号指示事务的可缓冲（bufferable）、可缓存（cacheable）、透写（write-through）、回写（write-back）和分配（allocate）属性。</td></tr><tr><td>AWPROT[2:0]</td><td>master</td><td>保护类型。该信号指示传输事务的正常（normal）、私有（privileged）或安全保护（secure protection）级别，以及事务是数据访问（data access ）还是指令访问（instruction access）。</td></tr><tr><td>AWVALID</td><td>master</td><td>写地址有效。该信号表示有效的写地址和控制信息可用:1 =地址和控制信息可用0 =地址和控制信息不可用。地址和控制信息保持稳定，直到地址确认信号AWREADY变为HIGH。</td></tr><tr><td>AWREADY</td><td>slave</td><td>写地址准备好。这个信号表明从机准备好接受一个地址和相关的控制信号:1 =从机准备好了0 =从机还没有准备好。</td></tr></tbody></table> 
<h3><a id="43__213"></a>4.3 写数据通道信号</h3> 
<table><thead><tr><th>信号</th><th>源</th><th>描述</th></tr></thead><tbody><tr><td>WID[x:0]</td><td>master</td><td>写ID标签。这个信号是写数据传输的ID标签。WID值必须与写事务的AWID值匹配。</td></tr><tr><td>WDATA[x:0]</td><td>master</td><td>写数据。写数据总线可以是8、16、32、64、128、256、512或1024位宽。</td></tr><tr><td>WSTRB[3:0]</td><td>master</td><td>写选通（strobe）。这个信号指示内存中要更新的字节位置。写数据总线的每8位都有一个写选通。因此，WSTRB[n]对应于WDATA[(8 × n) + 7:(8 × n)]，即每一位选通自己对应的Byte</td></tr><tr><td>WLAST</td><td>master</td><td>写last。这个信号表示写入突发中的最后一次传输。</td></tr><tr><td>WVALID</td><td>master</td><td>写有效。这个信号表示有效的写数据和选通可用:1 = 写数据和WSTRB可用 ； 0 =写数据和WSTRB不可用。</td></tr><tr><td>WREADY</td><td>slave</td><td>写ready。这个信号表示从机可以接受写数据:1 = slave就绪 0 = slave未准备好</td></tr></tbody></table> 
<h3><a id="44__224"></a>4.4 写响应通道信号</h3> 
<table><thead><tr><th>信号</th><th>源</th><th>描述</th></tr></thead><tbody><tr><td>BID[x:0]</td><td>Slave</td><td>响应ID。写响应的标识标签。BID值必须匹配slave正在响应的写事务的AWID值。</td></tr><tr><td>BRESP[1:0]</td><td>Slave</td><td>写响应。这个信号指示写事务的状态。允许的响应有OKAY、EXOKAY、SLVERR和DECERR。</td></tr><tr><td>BVALID</td><td>Slave</td><td>写响应有效。这个信号表明一个有效的写响应是可用的:1 =写响应可用0 =写响应不可用。</td></tr><tr><td>BREADY</td><td>master</td><td>响应ready。这个信号表示主机可以接受响应信息。1 = master就绪0 = master未就绪</td></tr></tbody></table> 
<h3><a id="45__233"></a>4.5 读地址通道信号</h3> 
<p>与写地址通道类似：</p> 
<p><img src="https://images2.imgbox.com/ec/b3/ByvqC9tp_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="46__240"></a>4.6 读数据通道信号</h3> 
<p>与写数据通道类似：</p> 
<p><img src="https://images2.imgbox.com/36/53/13MsUvQe_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="47__247"></a>4.7 低功耗接口信号</h3> 
<table><thead><tr><th>信号</th><th>源</th><th>描述</th></tr></thead><tbody><tr><td>CSYSREQ</td><td>时钟控制器</td><td>系统低功耗的要求。这个信号是系统时钟控制器要求外设进入低功耗状态的请求。</td></tr><tr><td>CSYSACK</td><td>外围设备</td><td>低功耗要求确认。这个信号是对系统低功耗请求的外设的确认。</td></tr><tr><td>CACTIVE</td><td>外围设备</td><td>时钟有效。这个信号表明外设需要它的时钟信号:1 =需要外设时钟0 =不需要外设时钟。</td></tr></tbody></table> 
<h3><a id="48__255"></a>4.8 字段定义的简单说明：</h3> 
<p><code>AWLEN[3:0]</code>、<code>ARLEN[3:0]</code>：<br> <img src="https://images2.imgbox.com/79/3b/L25M20DY_o.png" alt="在这里插入图片描述"></p> 
<p><code>AWSIZE[2:0]</code>、<code>ARSIZE[2:0]</code>:<br> <img src="https://images2.imgbox.com/cc/e0/CV0BIVBV_o.png" alt="在这里插入图片描述"></p> 
<p><code>AWBURST[1:0]</code>、<code>ARBURST[1:0]</code>:<br> <img src="https://images2.imgbox.com/89/1c/6fHByO0P_o.png" alt="在这里插入图片描述"></p> 
<p><code>AWLOCK[1:0]</code>、<code>ARLOCK[1:0]</code>：<br> <img src="https://images2.imgbox.com/eb/08/iEJkZIEB_o.png" alt="在这里插入图片描述"></p> 
<p><code>AWCACHE[3:0]</code>、<code>ARCACHE[3:0]</code>:<br> <img src="https://images2.imgbox.com/cd/22/d7VBR6j3_o.png" alt="在这里插入图片描述"></p> 
<p><code>AWPROT[2:0]</code>、<code>ARPROT[2:0]</code>:<br> <img src="https://images2.imgbox.com/0d/5f/2Tp5ahEc_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="49_AXILiteAXIstream_279"></a>4.9 AXI-Lite与AXI-stream的接口</h3> 
<p>AXI-Lite：<br> <img src="https://images2.imgbox.com/46/a9/TM83YyUn_o.png" alt="在这里插入图片描述"></p> 
<p>可以看到，AXI-Lite因为不支持突发传输，所以端口上没有与突发相关的信号。其他控制信号也减少了一部分，就是AXI4-full的简化版。</p> 
<p>AXI-stream：<br> <img src="https://images2.imgbox.com/c3/50/BAdlEYYO_o.png" alt="在这里插入图片描述"></p> 
<p>AXI-stream则可以看作只有一个写数据端口，其突发长度是不受限的。</p> 
<h2><a id="5__291"></a>5 通道握手机制</h2> 
<h3><a id="51__293"></a>5.1 握手过程</h3> 
<p>所有的5个通道都需要进行VALID/READY握手才能传输数据和控制信号。这种双向流量控制机制使主从双方都能控制数据和控制信息移动的速率。源产生VALID信号以指示何时数据或控制信息可用。目的地生成READY信号来表示它接受数据或控制信息。只有当VALID和READY信号都是HIGH时，才会发生传输。</p> 
<p>在主接口和从接口上的输入和输出信号之间必须没有组合逻辑路径。</p> 
<h3><a id="52__299"></a>5.2 通道之间的关系</h3> 
<p>地址、读、写和写响应通道之间的关系是灵活的。</p> 
<p>例如，写数据可以在对应写地址之前出现。当写地址通道包含比写数据通道更多的寄存器阶段时，就会发生这种情况。写数据也可能出现在与地址相同的周期中。</p> 
<p>但是当互连线必须确定目的地址空间或slave地址空间时，必须重新排列地址并写入数据。这是必需的，以确保写入数据仅对它的目的slave有效。<br> 此时必须维持的两种关系是:</p> 
<ul><li>读取数据必须始终在与数据相关的地址之后。</li><li>写响应必须始终在与写响应相关的写事务中的最后一个写传输之后。</li></ul> 
<h3><a id="53__310"></a>5.3 通道握手信号之间的依赖关系</h3> 
<p>为了防止死锁，必须观察握手信号之间存在的依赖关系。</p> 
<p>在任何事务中：</p> 
<ul><li>事务中一个AXI组件的VALID信号不能依赖于另一个组件的READY信号。</li><li>READY信号可以等待VALID信号的断言。</li></ul> 
<p>注意：虽然在断言READY之前等待VALID被断言是可以接受的，但默认情况下在断言VALID之前断言READY也是可以接受的，这可以导致更有效的设计。</p> 
<ul><li>实际上，在比如Xilinx BRAM等IP中，都是先给VALID，对应的READY才会拉高，所以等READY在使能VALID是不对的工作时序。</li></ul> 
<p><strong>读事务握手信号的关系：</strong></p> 
<p><img src="https://images2.imgbox.com/06/4d/1KA0Bm9T_o.png" alt="在这里插入图片描述"></p> 
<ul><li>单箭头指向 可以在前一个信号（本信号）断言之前或之后断言的信号（指向的信号）。</li><li>双箭头指向 只有在前一个信号（本信号）断言之后才可以断言的信号（指向的信号）。</li></ul> 
<p>所以slave 在断言读取的数据有效信号RVALID之前，必须等到ARVALID与ARREADY断言后。</p> 
<p><strong>写事务握手信号的关系：</strong></p> 
<p><img src="https://images2.imgbox.com/98/c2/5K5lBve8_o.png" alt="在这里插入图片描述"></p> 
<ul><li>单箭头指向 可以在前一个信号（本信号）断言之前或之后断言的信号（指向的信号）。</li><li>双箭头指向 只有在前一个信号（本信号）断言之后才可以断言的信号（指向的信号）。</li></ul> 
<h2><a id="6_AXI4_344"></a>6 AXI4相关文件</h2> 
<ul><li>LogiCORE IP AXI Interconnect IP Product Guide (PG059)</li><li>LogicCORE IP AXI SmartConnect Product Guide (PG247)</li><li>LogicCore IP AXI4-Stream Interconnect Product Guide (PG085)</li></ul> 
<h2><a id="7__350"></a>7 需要学习的文件</h2> 
<p><a href="https://www.xilinx.com/support/documentation/ip_documentation/axi_ref_guide/latest/ug1037-vivado-axi-reference-guide.pdf" rel="nofollow">UG1037</a><br> <a href="https://developer.arm.com/documentation/ihi0022/c/?lang=en" rel="nofollow">IHI0022C</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/38424413a7feee778d42b49318b6ff29/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux--11.网络基础</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/84051bca4968f04626a4477e02050566/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">在Android studio上开发APP之后，连接模拟器或者是打包APK发送给手机之后，找不到应用图标，但是手机里已经显示安装了。</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>