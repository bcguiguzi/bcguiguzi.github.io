<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ORB-SLAM3复现的详细过程——配置安装及ROS和脚本运行---Ubuntu20.04 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ORB-SLAM3复现的详细过程——配置安装及ROS和脚本运行---Ubuntu20.04" />
<meta property="og:description" content="ORB-SLAM3配置安装及ROS和脚本运行---Ubuntu20.04 1. 安装所需要的依赖和包2. 修改代码及文件内容2.1 CMakeLists.txt文件的修改2.2 单目可视化代码修改2.3 环境配置文件的修改2.4 源码的修改 3.ORB-SLAM3的编译3.1 构建 ORB-SLAM3 库3.2 生成ROS节点 4.ORB-SLAM3的运行4.1 非ROS环境下运行4.1.1 EuROC数据集4.1.2 TUM VI 数据集 4.2 ROS环境下运行 ORB-SLAM3代码下载地址：ORB-SLAM3源码下载
所有的操作都是在完成以下网址中的所有操作内容下进行的：Ubuntu系统安装之后首需要做的事情
本文是总结的比较完善和直接的过程。
其实在整个运行中也遇到了一些问题，也做了一些总结，记录在了文章
ORB-SLAM3复现过程中遇到的问题及解决办法中
建议是先以本文为主，有问题之后再去参考问题解决办法。
1. 安装所需要的依赖和包 在一键安装ROS后，只需要再安装Pangolin即可，其他所有的需要都已经存在。
依次执行以下命令即可：
#依赖项 sudo apt-get install libglew-dev sudo apt-get install cmake sudo apt-get install libpython2.7-dev sudo apt-get install ffmpeg libavcodec-dev libavutil-dev libavformat-dev libswscale-dev libavdevice-dev sudo apt-get install libdc1394-22-dev libraw1394-dev sudo apt-get install libjpeg-dev libpng-dev libtiff5-dev libopenexr-dev #下载编译 git clone https://github.com/stevenlovegrove/Pangolin.git cd Pangolin mkdir build cd build cmake ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/22acf294ef6ded27ad7ab51d56d0c392/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-03T17:50:33+08:00" />
<meta property="article:modified_time" content="2023-09-03T17:50:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ORB-SLAM3复现的详细过程——配置安装及ROS和脚本运行---Ubuntu20.04</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>ORB-SLAM3配置安装及ROS和脚本运行---Ubuntu20.04</h4> 
 <ul><li><a href="#1__9" rel="nofollow">1. 安装所需要的依赖和包</a></li><li><a href="#2__32" rel="nofollow">2. 修改代码及文件内容</a></li><li><ul><li><a href="#21_CMakeListstxt_43" rel="nofollow">2.1 CMakeLists.txt文件的修改</a></li><li><a href="#22__62" rel="nofollow">2.2 单目可视化代码修改</a></li><li><a href="#23__73" rel="nofollow">2.3 环境配置文件的修改</a></li><li><a href="#24___82" rel="nofollow">2.4 源码的修改</a></li></ul> 
  </li><li><a href="#3ORBSLAM3_115" rel="nofollow">3.ORB-SLAM3的编译</a></li><li><ul><li><a href="#31__ORBSLAM3__116" rel="nofollow">3.1 构建 ORB-SLAM3 库</a></li><li><a href="#32_ROS_124" rel="nofollow">3.2 生成ROS节点</a></li></ul> 
  </li><li><a href="#4ORBSLAM3_133" rel="nofollow">4.ORB-SLAM3的运行</a></li><li><ul><li><a href="#41_ROS_134" rel="nofollow">4.1 非ROS环境下运行</a></li><li><ul><li><a href="#411_EuROC_135" rel="nofollow">4.1.1 EuROC数据集</a></li><li><a href="#412_TUM_VI__169" rel="nofollow">4.1.2 TUM VI 数据集</a></li></ul> 
   </li><li><a href="#42_ROS_206" rel="nofollow">4.2 ROS环境下运行</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<p>ORB-SLAM3代码下载地址：<a href="https://github.com/UZ-SLAMLab/ORB_SLAM3/tree/master">ORB-SLAM3源码下载</a></p> 
<p><strong>所有的操作都是在完成以下网址中的所有操作内容下进行的：<a href="https://blog.csdn.net/qq_44164791/article/details/132432777?spm=1001.2014.3001.5502">Ubuntu系统安装之后首需要做的事情</a></strong><br> <code>本文是总结的比较完善和直接的过程。</code><br> 其实在整个运行中也遇到了一些问题，也做了一些总结，记录在了文章<br> <a href="https://blog.csdn.net/qq_44164791/article/details/132652174?spm=1001.2014.3001.5501">ORB-SLAM3复现过程中遇到的问题及解决办法</a>中<br> 建议是先以本文为主，有问题之后再去参考问题解决办法。</p> 
<h2><a id="1__9"></a>1. 安装所需要的依赖和包</h2> 
<p>在一键安装ROS后，只需要再安装Pangolin即可，其他所有的需要都已经存在。<br> 依次执行以下命令即可：</p> 
<pre><code class="prism language-bash"><span class="token comment">#依赖项</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libglew-dev
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> cmake
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libpython2.7-dev
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> ffmpeg libavcodec-dev libavutil-dev libavformat-dev libswscale-dev libavdevice-dev
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libdc1394-22-dev libraw1394-dev
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libjpeg-dev libpng-dev libtiff5-dev libopenexr-dev
<span class="token comment">#下载编译</span>
<span class="token function">git</span> clone https://github.com/stevenlovegrove/Pangolin.git
<span class="token builtin class-name">cd</span> Pangolin
<span class="token function">mkdir</span> build
<span class="token builtin class-name">cd</span> build
cmake <span class="token punctuation">..</span>
cmake <span class="token parameter variable">--build</span> <span class="token builtin class-name">.</span>
<span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span>
</code></pre> 
<p>这样下载下来的是Pangolin0.8。在ORB-SLAM3中是可以正常使用的。</p> 
<h2><a id="2__32"></a>2. 修改代码及文件内容</h2> 
<p>由于许多库的版本不一样，所以有部分代码需要更改<br> 这里先声明我的环境：</p> 
<blockquote> 
 <p>Ubuntu20.04<br> Opencv4.2.0<br> C++11<br> Eigen3.3.7<br> Python3.8.10<br> Pangolin0.8</p> 
</blockquote> 
<h3><a id="21_CMakeListstxt_43"></a>2.1 CMakeLists.txt文件的修改</h3> 
<ol><li>/home/xiaoduan/project/source2/orb_slam3/CMakeLists.txt文件的修改</li></ol> 
<pre><code class="prism language-bash">gedit /home/xiaoduan/project/source2/orb_slam3/CMakeLists.txt
<span class="token comment">#第33行Opencv的版本改为4</span>
<span class="token comment">#第41行Eigen的版本改为3</span>
</code></pre> 
<ol start="2"><li>/home/xiaoduan/project/source2/orb_slam3/Examples_old/ROS/ORB_SLAM3/CMakeLists.txt文件的修改</li></ol> 
<pre><code class="prism language-bash">gedit /home/xiaoduan/project/source2/orb_slam3/Examples_old/ROS/ORB_SLAM3/CMakeLists.txt
</code></pre> 
<p>更改内容如下：</p> 
<blockquote> 
 <ol><li>第33行Opencv的版本改为4</li><li>第41行Eigen的版本改为3</li><li>第49行，加入${PROJECT_SOURCE_DIR}/…/…/…/Thirdparty/Sophus</li></ol> 
</blockquote> 
<h3><a id="22__62"></a>2.2 单目可视化代码修改</h3> 
<pre><code class="prism language-bash">gedit /Examples/Monocular/mono_euroc.cc
</code></pre> 
<p>更改内容：</p> 
<pre><code class="prism language-cpp">第<span class="token number">83</span>行中的<span class="token boolean">false</span>改为<span class="token boolean">true</span>
</code></pre> 
<h3><a id="23__73"></a>2.3 环境配置文件的修改</h3> 
<pre><code class="prism language-bash">gedit ~/.bashrc
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ROS_PACKAGE_PATH</span><span class="token operator">=</span><span class="token variable">${ROS_PACKAGE_PATH}</span><span class="token builtin class-name">:</span><span class="token environment constant">PATH</span>/ORB_SLAM3/Examples_old/ROS
<span class="token builtin class-name">source</span> ~/.bashrc
</code></pre> 
<p><strong>注意：</strong> 第二条命令中的${ROS_PACKAGE_PATH}是自己文件的路径。</p> 
<h3><a id="24___82"></a>2.4 源码的修改</h3> 
<p>在ORB_SLAM3中的src下有个AR文件夹，里面的一些内容会导致ros可执行文件的编译，做出以下修改：</p> 
<ol><li>在加入以下两个头文件：</li></ol> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Eigen/Dense&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;opencv2/core/eigen.hpp&gt;</span></span>
</code></pre> 
<ol start="2"><li>删除ROS/ORB_SLAM3/src/AR/ros_mono_ar.cc第151行，由下面内容替换</li></ol> 
<pre><code class="prism language-cpp">cv<span class="token double-colon punctuation">::</span>Mat Tcw<span class="token punctuation">;</span>
Sophus<span class="token double-colon punctuation">::</span>SE3f Tcw_SE3f <span class="token operator">=</span> mpSLAM<span class="token operator">-&gt;</span><span class="token function">TrackMonocular</span><span class="token punctuation">(</span>cv_ptr<span class="token operator">-&gt;</span>image<span class="token punctuation">,</span>cv_ptr<span class="token operator">-&gt;</span>header<span class="token punctuation">.</span>stamp<span class="token punctuation">.</span><span class="token function">toSec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Eigen<span class="token double-colon punctuation">::</span>Matrix4f Tcw_Matrix <span class="token operator">=</span> Tcw_SE3f<span class="token punctuation">.</span><span class="token function">matrix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cv<span class="token double-colon punctuation">::</span><span class="token function">eigen2cv</span><span class="token punctuation">(</span>Tcw_Matrix<span class="token punctuation">,</span> Tcw<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ol start="4"><li>删除ROS/ORB_SLAM3/src/AR/ViewerAR.cc第409行，由以下内容替换</li></ol> 
<pre><code class="prism language-cpp">cv<span class="token double-colon punctuation">::</span>Mat WorldPos<span class="token punctuation">;</span>
cv<span class="token double-colon punctuation">::</span><span class="token function">eigen2cv</span><span class="token punctuation">(</span>pMP<span class="token operator">-&gt;</span><span class="token function">GetWorldPos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> WorldPos<span class="token punctuation">)</span><span class="token punctuation">;</span>
vPoints<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>WorldPos<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<ol start="5"><li>删除ROS/ORB_SLAM3/src/AR/ViewerAR.cc第409行，由以下内容替换</li></ol> 
<pre><code class="prism language-cpp">cv<span class="token double-colon punctuation">::</span>Mat Xw<span class="token punctuation">;</span>
cv<span class="token double-colon punctuation">::</span><span class="token function">eigen2cv</span><span class="token punctuation">(</span>pMP<span class="token operator">-&gt;</span><span class="token function">GetWorldPos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Xw<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="3ORBSLAM3_115"></a>3.ORB-SLAM3的编译</h2> 
<h3><a id="31__ORBSLAM3__116"></a>3.1 构建 ORB-SLAM3 库</h3> 
<p>按顺序执行以下命令即可：</p> 
<pre><code class="prism language-cpp">cd ORB_SLAM3
chmod <span class="token operator">+</span>x build<span class="token punctuation">.</span>sh
<span class="token punctuation">.</span><span class="token operator">/</span>build<span class="token punctuation">.</span>sh
</code></pre> 
<h3><a id="32_ROS_124"></a>3.2 生成ROS节点</h3> 
<p>执行以下命令：</p> 
<pre><code class="prism language-cpp">cd Examples_old<span class="token operator">/</span>ROS<span class="token operator">/</span>ORB_SLAM3 
chmod <span class="token operator">+</span>x build_ros<span class="token punctuation">.</span>sh
<span class="token punctuation">.</span><span class="token operator">/</span>build_ros<span class="token punctuation">.</span>sh
</code></pre> 
<h2><a id="4ORBSLAM3_133"></a>4.ORB-SLAM3的运行</h2> 
<h3><a id="41_ROS_134"></a>4.1 非ROS环境下运行</h3> 
<h4><a id="411_EuROC_135"></a>4.1.1 EuROC数据集</h4> 
<p>用微型飞行器采集的视觉惯性数据集，包含双目相机和IMU同步测量数据及位姿的真值。<br> 数据集需下载MH_01_easy.zip，下载地址：<a href="https://projects.asl.ethz.ch/datasets/doku.php?id=kmavvisualinertialdatasets" rel="nofollow">MH_01_easy.zip下载地址</a><br> 将数据集解压，命名为MH01。<br> <strong>运行命令：</strong><br> <strong>注意：</strong> 命令中的${dir}是个人数据的存放路径</p> 
<ul><li>纯单目：</li></ul> 
<pre><code class="prism language-cpp">cd Examples
<span class="token punctuation">.</span><span class="token operator">/</span>Monocular<span class="token operator">/</span>mono_euroc <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>Vocabulary<span class="token operator">/</span>ORBvoc<span class="token punctuation">.</span>txt <span class="token punctuation">.</span><span class="token operator">/</span>Monocular<span class="token operator">/</span>EuRoC<span class="token punctuation">.</span>yaml $<span class="token punctuation">{<!-- --></span>dir<span class="token punctuation">}</span><span class="token operator">/</span>MH01 <span class="token punctuation">.</span><span class="token operator">/</span>Monocular<span class="token operator">/</span>EuRoC_TimeStamps<span class="token operator">/</span>MH01<span class="token punctuation">.</span>txt dataset<span class="token operator">-</span>MH01_mono
</code></pre> 
<ul><li>纯双目：</li></ul> 
<pre><code class="prism language-cpp"><span class="token punctuation">.</span><span class="token operator">/</span>Examples<span class="token operator">/</span>Stereo<span class="token operator">/</span>stereo_euroc <span class="token punctuation">.</span><span class="token operator">/</span>Vocabulary<span class="token operator">/</span>ORBvoc<span class="token punctuation">.</span>txt <span class="token punctuation">.</span><span class="token operator">/</span>Examples<span class="token operator">/</span>Stereo<span class="token operator">/</span>EuRoC<span class="token punctuation">.</span>yaml $<span class="token punctuation">{<!-- --></span>dir<span class="token punctuation">}</span><span class="token operator">/</span>MH01 <span class="token punctuation">.</span><span class="token operator">/</span>Examples<span class="token operator">/</span>Stereo<span class="token operator">/</span>EuRoC_TimeStamps<span class="token operator">/</span>MH01<span class="token punctuation">.</span>txt dataset<span class="token operator">-</span>MH01_stereo
</code></pre> 
<ul><li>单目惯导：</li></ul> 
<pre><code class="prism language-cpp"><span class="token punctuation">.</span><span class="token operator">/</span>Examples<span class="token operator">/</span>Monocular<span class="token operator">-</span>Inertial<span class="token operator">/</span>mono_inertial_euroc <span class="token punctuation">.</span><span class="token operator">/</span>Vocabulary<span class="token operator">/</span>ORBvoc<span class="token punctuation">.</span>txt <span class="token punctuation">.</span><span class="token operator">/</span>Examples<span class="token operator">/</span>Monocular<span class="token operator">-</span>Inertial<span class="token operator">/</span>EuRoC<span class="token punctuation">.</span>yaml $<span class="token punctuation">{<!-- --></span>dir<span class="token punctuation">}</span><span class="token operator">/</span>MH01 <span class="token punctuation">.</span><span class="token operator">/</span>Examples<span class="token operator">/</span>Monocular<span class="token operator">-</span>Inertial<span class="token operator">/</span>EuRoC_TimeStamps<span class="token operator">/</span>MH01<span class="token punctuation">.</span>txt dataset<span class="token operator">-</span>MH01_monoi
</code></pre> 
<ul><li>双目惯导：</li></ul> 
<pre><code class="prism language-cpp"><span class="token punctuation">.</span><span class="token operator">/</span>Examples<span class="token operator">/</span>Stereo<span class="token operator">-</span>Inertial<span class="token operator">/</span>stereo_inertial_euroc <span class="token punctuation">.</span><span class="token operator">/</span>Vocabulary<span class="token operator">/</span>ORBvoc<span class="token punctuation">.</span>txt <span class="token punctuation">.</span><span class="token operator">/</span>Examples<span class="token operator">/</span>Stereo<span class="token operator">-</span>Inertial<span class="token operator">/</span>EuRoC<span class="token punctuation">.</span>yaml $<span class="token punctuation">{<!-- --></span>dir<span class="token punctuation">}</span><span class="token operator">/</span>MH01 <span class="token punctuation">.</span><span class="token operator">/</span>Examples<span class="token operator">/</span>Stereo<span class="token operator">-</span>Inertial<span class="token operator">/</span>EuRoC_TimeStamps<span class="token operator">/</span>MH01<span class="token punctuation">.</span>txt dataset<span class="token operator">-</span>MH01_stereoi
</code></pre> 
<h4><a id="412_TUM_VI__169"></a>4.1.2 TUM VI 数据集</h4> 
<p>其采用的相机和IMU传感器，在硬件上进行了时间同步。</p> 
<p>所提供的图像具有高动态范围，事先进行了光度标定，用20Hz的帧率采集，分辨率为1024像素*1024像素；三轴IMU采样频率为200Hz，可测量加速度和角速度。</p> 
<p>需要下载数据集dataset-room1_512_16和rgbd_dataset_freiburg1_desk。下载地址：<a href="https://cvg.cit.tum.de/data/datasets/rgbd-dataset/download" rel="nofollow">TUM数据集下载</a></p> 
<ul><li>纯单目：</li></ul> 
<pre><code class="prism language-cpp">cd Examples
<span class="token punctuation">.</span><span class="token operator">/</span>Monocular<span class="token operator">/</span>mono_tum_vi <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>Vocabulary<span class="token operator">/</span>ORBvoc<span class="token punctuation">.</span>txt Monocular<span class="token operator">/</span>TUM_512<span class="token punctuation">.</span>yaml $<span class="token punctuation">{<!-- --></span>dir<span class="token punctuation">}</span><span class="token operator">/</span>dataset<span class="token operator">-</span>room1_512_16<span class="token operator">/</span>mav0<span class="token operator">/</span>cam0<span class="token operator">/</span>data Monocular<span class="token operator">/</span>TUM_TimeStamps<span class="token operator">/</span>dataset<span class="token operator">-</span>room1_512<span class="token punctuation">.</span>txt dataset<span class="token operator">-</span>room1_512_mono
</code></pre> 
<ul><li>纯双目：</li></ul> 
<pre><code class="prism language-cpp"><span class="token punctuation">.</span><span class="token operator">/</span>Stereo<span class="token operator">/</span>stereo_tum_vi <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>Vocabulary<span class="token operator">/</span>ORBvoc<span class="token punctuation">.</span>txt Stereo<span class="token operator">/</span>TUM_512<span class="token punctuation">.</span>yaml $<span class="token punctuation">{<!-- --></span>dir<span class="token punctuation">}</span><span class="token operator">/</span>dataset<span class="token operator">-</span>room1_512_16<span class="token operator">/</span>mav0<span class="token operator">/</span>cam0<span class="token operator">/</span>data <span class="token operator">/</span>home<span class="token operator">/</span>sangfor<span class="token operator">/</span><span class="token number">2023</span><span class="token operator">/</span>bro_ws<span class="token operator">/</span>dataset<span class="token operator">-</span>room1_512_16<span class="token operator">/</span>mav0<span class="token operator">/</span>cam1<span class="token operator">/</span>data Stereo<span class="token operator">/</span>TUM_TimeStamps<span class="token operator">/</span>dataset<span class="token operator">-</span>room1_512<span class="token punctuation">.</span>txt dataset<span class="token operator">-</span>room1_512_stereo
</code></pre> 
<ul><li>单目惯导：</li></ul> 
<pre><code class="prism language-cpp"><span class="token punctuation">.</span><span class="token operator">/</span>Monocular<span class="token operator">-</span>Inertial<span class="token operator">/</span>mono_inertial_tum_vi <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>Vocabulary<span class="token operator">/</span>ORBvoc<span class="token punctuation">.</span>txt Monocular<span class="token operator">-</span>Inertial<span class="token operator">/</span>TUM_512<span class="token punctuation">.</span>yaml $<span class="token punctuation">{<!-- --></span>dir<span class="token punctuation">}</span><span class="token operator">/</span>dataset<span class="token operator">-</span>room1_512_16<span class="token operator">/</span>mav0<span class="token operator">/</span>cam0<span class="token operator">/</span>data Monocular<span class="token operator">-</span>Inertial<span class="token operator">/</span>TUM_TimeStamps<span class="token operator">/</span>dataset<span class="token operator">-</span>room1_512<span class="token punctuation">.</span>txt Monocular<span class="token operator">-</span>Inertial<span class="token operator">/</span>TUM_IMU<span class="token operator">/</span>dataset<span class="token operator">-</span>room1_512<span class="token punctuation">.</span>txt dataset<span class="token operator">-</span>room1_512_monoi
</code></pre> 
<ul><li>双目惯导：</li></ul> 
<pre><code class="prism language-cpp"><span class="token punctuation">.</span><span class="token operator">/</span>Monocular<span class="token operator">-</span>Inertial<span class="token operator">/</span>mono_inertial_tum_vi <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>Vocabulary<span class="token operator">/</span>ORBvoc<span class="token punctuation">.</span>txt Monocular<span class="token operator">-</span>Inertial<span class="token operator">/</span>TUM_512<span class="token punctuation">.</span>yaml $<span class="token punctuation">{<!-- --></span>dir<span class="token punctuation">}</span><span class="token operator">/</span>dataset<span class="token operator">-</span>room1_512_16<span class="token operator">/</span>mav0<span class="token operator">/</span>cam0<span class="token operator">/</span>data Monocular<span class="token operator">-</span>Inertial<span class="token operator">/</span>TUM_TimeStamps<span class="token operator">/</span>dataset<span class="token operator">-</span>room1_512<span class="token punctuation">.</span>txt Monocular<span class="token operator">-</span>Inertial<span class="token operator">/</span>TUM_IMU<span class="token operator">/</span>dataset<span class="token operator">-</span>room1_512<span class="token punctuation">.</span>txt dataset<span class="token operator">-</span>room1_512_monoi
</code></pre> 
<ul><li>RGB-D：</li></ul> 
<pre><code class="prism language-cpp"><span class="token punctuation">.</span><span class="token operator">/</span>Examples<span class="token operator">/</span>RGB<span class="token operator">-</span>D<span class="token operator">/</span>rgbd_tum Vocabulary<span class="token operator">/</span>ORBvoc<span class="token punctuation">.</span>txt Examples<span class="token operator">/</span>RGB<span class="token operator">-</span>D<span class="token operator">/</span>TUM1<span class="token punctuation">.</span>yaml $<span class="token punctuation">{<!-- --></span>dir<span class="token punctuation">}</span><span class="token operator">/</span>rgbd_dataset_freiburg1_desk <span class="token operator">/</span>home<span class="token operator">/</span>sangfor<span class="token operator">/</span><span class="token number">2023</span><span class="token operator">/</span>bro_ws<span class="token operator">/</span>rgbd_dataset_freiburg1_desk<span class="token operator">/</span>associations<span class="token punctuation">.</span>txt
</code></pre> 
<h3><a id="42_ROS_206"></a>4.2 ROS环境下运行</h3> 
<p>首先，打开<code>三个</code>终端<br> 在第一个终端上面运行<code>roscore</code><br> 接着在其余两个终端上，分别运行以下命令：</p> 
<ul><li>纯单目：</li></ul> 
<pre><code class="prism language-cpp">rosrun ORB_SLAM3 Mono Vocabulary<span class="token operator">/</span>ORBvoc<span class="token punctuation">.</span>txt Examples<span class="token operator">/</span>Monocular<span class="token operator">/</span>EuRoC<span class="token punctuation">.</span>yaml
rosbag play MH_01_easy<span class="token punctuation">.</span>bag <span class="token operator">/</span>cam0<span class="token operator">/</span>image_raw<span class="token operator">:</span><span class="token operator">=</span><span class="token operator">/</span>camera<span class="token operator">/</span>image_raw
</code></pre> 
<ul><li>纯双目：</li></ul> 
<pre><code class="prism language-cpp">rosrun ORB_SLAM3 Stereo Vocabulary<span class="token operator">/</span>ORBvoc<span class="token punctuation">.</span>txt Examples<span class="token operator">/</span>Stereo<span class="token operator">/</span>EuRoC<span class="token punctuation">.</span>yaml <span class="token boolean">false</span>
rosbag play MH_01_easy<span class="token punctuation">.</span>bag <span class="token operator">/</span>cam0<span class="token operator">/</span>image_raw<span class="token operator">:</span><span class="token operator">=</span><span class="token operator">/</span>camera<span class="token operator">/</span>left<span class="token operator">/</span>image_raw <span class="token operator">/</span>cam1<span class="token operator">/</span>image_raw<span class="token operator">:</span><span class="token operator">=</span><span class="token operator">/</span>camera<span class="token operator">/</span>right<span class="token operator">/</span>image_raw
</code></pre> 
<ul><li>单目惯导：</li></ul> 
<pre><code class="prism language-cpp">rosrun ORB_SLAM3 Mono_Inertial Vocabulary<span class="token operator">/</span>ORBvoc<span class="token punctuation">.</span>txt Examples<span class="token operator">/</span>Monocular<span class="token operator">-</span>Inertial<span class="token operator">/</span>EuRoC<span class="token punctuation">.</span>yaml
rosbag play MH_01_easy<span class="token punctuation">.</span>bag
</code></pre> 
<ul><li>双目惯导：</li></ul> 
<pre><code class="prism language-cpp">rosrun ORB_SLAM3 Stereo_Inertial Vocabulary<span class="token operator">/</span>ORBvoc<span class="token punctuation">.</span>txt Examples<span class="token operator">/</span>Stereo<span class="token operator">-</span>Inertial<span class="token operator">/</span>EuRoC<span class="token punctuation">.</span>yaml <span class="token boolean">false</span>
rosbag play MH_01_easy<span class="token punctuation">.</span>bag <span class="token operator">/</span>cam0<span class="token operator">/</span>image_raw<span class="token operator">:</span><span class="token operator">=</span><span class="token operator">/</span>camera<span class="token operator">/</span>left<span class="token operator">/</span>image_raw <span class="token operator">/</span>cam1<span class="token operator">/</span>image_raw<span class="token operator">:</span><span class="token operator">=</span><span class="token operator">/</span>camera<span class="token operator">/</span>right<span class="token operator">/</span>image_raw <span class="token operator">/</span>imu0<span class="token operator">:</span><span class="token operator">=</span><span class="token operator">/</span>imu
</code></pre> 
<ul><li>RGB-D：<br> 首先要下载数据集：：rgbd_dataset_freiburg1_xyz.bag，fr1/xyz选择more info找到bag文件后，然后下载。<br> 下载地址就是稳重已经给出的<code>TUM</code>数据集的下载网址。</li></ul> 
<pre><code class="prism language-cpp">rosrun ORB_SLAM3 RGBD Vocabulary<span class="token operator">/</span>ORBvoc<span class="token punctuation">.</span>txt Examples<span class="token operator">/</span>RGB<span class="token operator">-</span>D<span class="token operator">/</span>TUM1<span class="token punctuation">.</span>yaml
rosbag play rgbd_dataset_freiburg1_xyz<span class="token punctuation">.</span>bag
</code></pre> 
<p>每条命令的运行都会有可视化界面，如下图所示：<br> <img src="https://images2.imgbox.com/7c/26/yGFx0pCc_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8c74552eebe9a0884958394a5a159062/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ORB-SLAM3复现过程中遇到的问题及解决办法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/577330b1b7fec02b70986930d9b26411/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">三行命令搞定nnUNet v2训练及推理！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>