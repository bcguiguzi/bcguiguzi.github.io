<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>0基础学Linux-从小白到大牛（3）Linux命令 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="0基础学Linux-从小白到大牛（3）Linux命令" />
<meta property="og:description" content="文章目录 权限管理列出目录内容: ls显示inode的内容：stat文件访问权限修改文件权限：chmod修改文件所有者：chown修改文件所属组：chgrp 文件内容查看基本显示：cat、tac显示行号：nl分屏显示取首尾n行：head、tail 文件管理输出重定向：&gt;管道：|清屏：clear切换工作目录：cd创建目录：mkdir删除文件：rm建立链接文件：ln文本搜索：grep查找文件：find拷贝文件：cp移动文件：mv归档管理：tar文件压缩解压：gzip、bzip2文件压缩解压：zip、unzip查看命令位置：which 用户和用户组管理查看当前用户：whoami查看登录用户：who退出登录账户： exit添加用户账户：useradd修改用户：usermod设置用户密码：passwd删除用户：userdel以root身份执行指令：sudo添加和删除组账户：groupadd、groupdel用户组管理：groupmod 系统管理查看当前日历：cal显示或设置时间：dete查看网络状态：netstat查看进程信息：ps以树状图显示进程关系：pstree动态显示进程：top终止进程：kill关机重启：reboot、shutdown、init检查磁盘空间：df检测目录所占磁盘空间：du查看或配置网卡信息：ifconfig测试远程主机连通性：pingLinux 磁盘管理dfdufdisk磁盘格式化磁盘检验磁盘挂载与卸除Linux管道命令WC - 统计字数cut - 列选取命令grep - 行选取命令sort - 排序uniq - 去重tee - 同时输出多个文件split - 文件切割 权限管理 列出目录内容: ls Linux文件或者目录名称最长可以有265个字符，“.”代表当前目录，“…”代表上一级目录，以“.”开头的文件为隐藏文件，需要用 -a 参数才能显示。
ls常用参数：
参数含义-a显示指定目录下所有子目录与文件，包括隐藏文件-l以列表方式显示文件的详细信息-h配合 -l 以人性化的方式显示文件大小 信息含义：
ls支持通配符：
通配符含义*文件代表文件名中所有字符ls te*查找以te开头的文件ls *html查找结尾为html的文件？代表文件名中任意一个字符ls ?.c只找第一个字符任意，后缀为.c的文件ls a.?只找只有3个字符，前2字符为a.，最后一个字符任意的文件[][”和“]”将字符组括起来，表示可以匹配字符组中的任意一个。“-”用于表示字符范围。[abc]匹配a、b、c中的任意一个[a-f]匹配从a到f范围内的的任意一个字符ls [a-f]*找到从a到f范围内的的任意一个字符开头的文件ls a-f查找文件名为a-f的文件,当“-”处于方括号之外失去通配符的作用\如果要使通配符作为普通字符使用，可以在其前面加上转义字符。“?”和“*”处于方括号内时不用使用转义字符就失去通配符的作用。ls *a查找文件名为*a的文件 显示inode的内容：stat stat [文件或目录] 文件访问权限 用户能够控制一个给定的文件或目录的访问程度，一个文件或目录可能有读、写及执行权限：
读权限（r） ：对于文件，具有读取文件内容的权限；对于目录，具有浏览目录的权限。写权限（w） ：对于文件，具有修改文件内容的权限；对于目录，具有删除、移动目录内文件的权限。可执行权限（x）： 对于文件，具有执行文件的权限；对于目录，该用户具有进入目录的权限。 通常，Unix/Linux系统只允许文件的属主(所有者)或超级用户改变文件的读写权限。
示例：
第1个字母代表文件的类型：
“d” 代表文件夹“-” 代表普通文件“c” 代表硬件字符设备“b” 代表硬件块设备“s”表示管道文件“l” 代表软链接文件。 后9个字母分别代表三组权限：文件所有者、用户组、其他用户拥有的权限。
修改文件权限：chmod chmod 修改文件权限有两种使用格式：字母法与数字法。
字母法：chmod u/g/o/a ＋ &#43;/-/= rwx 文件" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/2217b61e363508b616c43a05645af896/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-09T16:14:46+08:00" />
<meta property="article:modified_time" content="2022-10-09T16:14:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">0基础学Linux-从小白到大牛（3）Linux命令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_4" rel="nofollow">权限管理</a></li><li><ul><li><a href="#_ls_5" rel="nofollow">列出目录内容: ls</a></li><li><a href="#inodestat_36" rel="nofollow">显示inode的内容：stat</a></li><li><a href="#_42" rel="nofollow">文件访问权限</a></li><li><a href="#chmod_63" rel="nofollow">修改文件权限：chmod</a></li><li><a href="#chown_105" rel="nofollow">修改文件所有者：chown</a></li><li><a href="#chgrp_120" rel="nofollow">修改文件所属组：chgrp</a></li></ul> 
  </li><li><a href="#_129" rel="nofollow">文件内容查看</a></li><li><ul><li><a href="#cattac_140" rel="nofollow">基本显示：cat、tac</a></li><li><a href="#nl_180" rel="nofollow">显示行号：nl</a></li><li><a href="#_205" rel="nofollow">分屏显示</a></li><li><a href="#nheadtail_248" rel="nofollow">取首尾n行：head、tail</a></li></ul> 
  </li><li><a href="#_285" rel="nofollow">文件管理</a></li><li><ul><li><a href="#_286" rel="nofollow">输出重定向：&gt;</a></li><li><a href="#_293" rel="nofollow">管道：|</a></li><li><a href="#clear_312" rel="nofollow">清屏：clear</a></li><li><a href="#cd_314" rel="nofollow">切换工作目录：cd</a></li><li><a href="#mkdir_340" rel="nofollow">创建目录：mkdir</a></li><li><a href="#rm_374" rel="nofollow">删除文件：rm</a></li><li><a href="#ln_385" rel="nofollow">建立链接文件：ln</a></li><li><a href="#grep_394" rel="nofollow">文本搜索：grep</a></li><li><a href="#find_438" rel="nofollow">查找文件：find</a></li><li><a href="#cp_540" rel="nofollow">拷贝文件：cp</a></li><li><a href="#mv_558" rel="nofollow">移动文件：mv</a></li><li><a href="#tar_568" rel="nofollow">归档管理：tar</a></li><li><a href="#gzipbzip2_592" rel="nofollow">文件压缩解压：gzip、bzip2</a></li><li><a href="#zipunzip_657" rel="nofollow">文件压缩解压：zip、unzip</a></li><li><a href="#which_691" rel="nofollow">查看命令位置：which</a></li></ul> 
  </li><li><a href="#_699" rel="nofollow">用户和用户组管理</a></li><li><ul><li><a href="#whoami_710" rel="nofollow">查看当前用户：whoami</a></li><li><a href="#who_717" rel="nofollow">查看登录用户：who</a></li><li><a href="#_exit_726" rel="nofollow">退出登录账户： exit</a></li><li><a href="#useradd_733" rel="nofollow">添加用户账户：useradd</a></li><li><a href="#usermod_758" rel="nofollow">修改用户：usermod</a></li><li><a href="#passwd_778" rel="nofollow">设置用户密码：passwd</a></li><li><a href="#userdel_817" rel="nofollow">删除用户：userdel</a></li><li><a href="#rootsudo_829" rel="nofollow">以root身份执行指令：sudo</a></li><li><a href="#groupaddgroupdel_859" rel="nofollow">添加和删除组账户：groupadd、groupdel</a></li><li><a href="#groupmod_871" rel="nofollow">用户组管理：groupmod</a></li></ul> 
  </li><li><a href="#_898" rel="nofollow">系统管理</a></li><li><ul><li><a href="#cal_899" rel="nofollow">查看当前日历：cal</a></li><li><a href="#dete_913" rel="nofollow">显示或设置时间：dete</a></li><li><a href="#netstat_934" rel="nofollow">查看网络状态：netstat</a></li><li><a href="#ps_982" rel="nofollow">查看进程信息：ps</a></li><li><a href="#pstree_1055" rel="nofollow">以树状图显示进程关系：pstree</a></li><li><a href="#top_1086" rel="nofollow">动态显示进程：top</a></li><li><a href="#kill_1105" rel="nofollow">终止进程：kill</a></li><li><a href="#rebootshutdowninit_1115" rel="nofollow">关机重启：reboot、shutdown、init</a></li><li><a href="#df_1126" rel="nofollow">检查磁盘空间：df</a></li><li><a href="#du_1147" rel="nofollow">检测目录所占磁盘空间：du</a></li><li><a href="#ifconfig_1163" rel="nofollow">查看或配置网卡信息：ifconfig</a></li><li><a href="#ping_1191" rel="nofollow">测试远程主机连通性：ping</a></li><li><a href="#Linux__1200" rel="nofollow">Linux 磁盘管理</a></li><li><a href="#df_1207" rel="nofollow">df</a></li><li><a href="#du_1271" rel="nofollow">du</a></li><li><a href="#fdisk_1326" rel="nofollow">fdisk</a></li><li><a href="#_1431" rel="nofollow">磁盘格式化</a></li><li><a href="#_1477" rel="nofollow">磁盘检验</a></li><li><a href="#_1521" rel="nofollow">磁盘挂载与卸除</a></li><li><a href="#Linux_1555" rel="nofollow">Linux管道命令</a></li><li><a href="#WC___1566" rel="nofollow">WC - 统计字数</a></li><li><a href="#cut___1598" rel="nofollow">cut - 列选取命令</a></li><li><a href="#grep___1624" rel="nofollow">grep - 行选取命令</a></li><li><a href="#sort___1701" rel="nofollow">sort - 排序</a></li><li><a href="#uniq___1784" rel="nofollow">uniq - 去重</a></li><li><a href="#tee___1840" rel="nofollow">tee - 同时输出多个文件</a></li><li><a href="#split___1863" rel="nofollow">split - 文件切割</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_4"></a>权限管理</h2> 
<h3><a id="_ls_5"></a>列出目录内容: ls</h3> 
<p>Linux文件或者目录名称最长可以有265个字符，“.”代表当前目录，“…”代表上一级目录，以“.”开头的文件为隐藏文件，需要用 -a 参数才能显示。</p> 
<p>ls常用参数：</p> 
<table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>-a</td><td>显示指定目录下所有子目录与文件，包括隐藏文件</td></tr><tr><td>-l</td><td>以列表方式显示文件的详细信息</td></tr><tr><td>-h</td><td>配合 -l 以人性化的方式显示文件大小</td></tr></tbody></table> 
<p><img src="https://images2.imgbox.com/e5/9d/1j16jPO2_o.png" alt="在这里插入图片描述"><br> 信息含义：<br> <img src="https://images2.imgbox.com/f8/18/579nbZAB_o.png" alt="在这里插入图片描述"><br> ls支持通配符：</p> 
<table><thead><tr><th>通配符</th><th>含义</th></tr></thead><tbody><tr><td>*</td><td>文件代表文件名中所有字符</td></tr><tr><td>ls te*</td><td>查找以te开头的文件</td></tr><tr><td>ls *html</td><td>查找结尾为html的文件</td></tr><tr><td>？</td><td>代表文件名中任意一个字符</td></tr><tr><td>ls ?.c</td><td>只找第一个字符任意，后缀为.c的文件</td></tr><tr><td>ls a.?</td><td>只找只有3个字符，前2字符为a.，最后一个字符任意的文件</td></tr><tr><td>[]</td><td>[”和“]”将字符组括起来，表示可以匹配字符组中的任意一个。“-”用于表示字符范围。</td></tr><tr><td>[abc]</td><td>匹配a、b、c中的任意一个</td></tr><tr><td>[a-f]</td><td>匹配从a到f范围内的的任意一个字符</td></tr><tr><td>ls [a-f]*</td><td>找到从a到f范围内的的任意一个字符开头的文件</td></tr><tr><td>ls a-f</td><td>查找文件名为a-f的文件,当“-”处于方括号之外失去通配符的作用</td></tr><tr><td>\</td><td>如果要使通配符作为普通字符使用，可以在其前面加上转义字符。“?”和“*”处于方括号内时不用使用转义字符就失去通配符的作用。</td></tr><tr><td>ls *a</td><td>查找文件名为*a的文件</td></tr></tbody></table> 
<h3><a id="inodestat_36"></a>显示inode的内容：stat</h3> 
<pre><code class="prism language-powershell">stat <span class="token punctuation">[</span>文件或目录<span class="token punctuation">]</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/f7/6e/jxbuelvN_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_42"></a>文件访问权限</h3> 
<p>用户能够控制一个给定的文件或目录的访问程度，一个文件或目录可能有读、写及执行权限：</p> 
<ul><li><code>读权限（r）</code> ：对于文件，具有读取文件内容的权限；对于目录，具有浏览目录的权限。</li><li><code>写权限（w）</code> ：对于文件，具有修改文件内容的权限；对于目录，具有删除、移动目录内文件的权限。</li><li><code>可执行权限（x）</code>： 对于文件，具有执行文件的权限；对于目录，该用户具有进入目录的权限。</li></ul> 
<p>通常，Unix/Linux系统只允许文件的属主(所有者)或超级用户改变文件的读写权限。</p> 
<p>示例：<br> <img src="https://images2.imgbox.com/c0/f9/PqlXl4Z8_o.png" alt="在这里插入图片描述"><br> 第1个字母代表文件的类型：</p> 
<ul><li>“d” 代表文件夹</li><li>“-” 代表普通文件</li><li>“c” 代表硬件字符设备</li><li>“b” 代表硬件块设备</li><li>“s”表示管道文件</li><li>“l” 代表软链接文件。</li></ul> 
<p>后9个字母分别代表三组权限：文件所有者、用户组、其他用户拥有的权限。</p> 
<h3><a id="chmod_63"></a>修改文件权限：chmod</h3> 
<p>chmod 修改文件权限有两种使用格式：字母法与数字法。</p> 
<p>字母法：chmod <code>u/g/o/a </code> ＋ <code>+/-/=</code> rwx 文件</p> 
<table><thead><tr><th>[ u/g/o/a ]</th><th>含义</th></tr></thead><tbody><tr><td>u</td><td>user 表示该文件的所有者</td></tr><tr><td>g</td><td>group 表示与该文件的所有者属于同一组( group )者，即用户组</td></tr><tr><td>o</td><td>other 表示其他以外的人</td></tr><tr><td>a</td><td>all 表示这三者皆是</td></tr></tbody></table> 
<table><thead><tr><th>[ ±= ]</th><th>含义</th></tr></thead><tbody><tr><td>+</td><td>增加权限</td></tr><tr><td>-</td><td>撤销权限</td></tr><tr><td>=</td><td>设定权限</td></tr></tbody></table> 
<p>数字法：“rwx” 这些权限也<strong>可以用数字来代替</strong></p> 
<table><thead><tr><th>字母</th><th>说明</th></tr></thead><tbody><tr><td>r</td><td>读取权限，数字代号为 “4”</td></tr><tr><td>w</td><td>写入权限，数字代号为 “2”</td></tr><tr><td>x</td><td>执行权限，数字代号为 “1”</td></tr><tr><td>-</td><td>不具任何权限，数字代号为 “0”</td></tr></tbody></table> 
<blockquote> 
 <p>如执行：<code>chmod u=rwx,g=rx,o=r filename</code> 就等同于：<code>chmod u=7,g=5,o=4 filename</code></p> 
</blockquote> 
<pre><code class="prism language-powershell">chmod 751 file：

<span class="token operator">-</span> 文件所有者：读、写、执行权限
<span class="token operator">-</span> 同组用户：读、执行的权限
<span class="token operator">-</span> 其它用户：执行的权限
</code></pre> 
<pre><code class="prism language-powershell">chmod 777 file：

<span class="token operator">-</span> 所有用户拥有读、写、执行权限
</code></pre> 
<p>注意：如果想递归所有目录加上相同权限，需要加上参数“ -R ”。 如：chmod 777 test/ -R 递归 test 目录下所有文件加 777 权限</p> 
<h3><a id="chown_105"></a>修改文件所有者：chown</h3> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost opt]</span><span class="token comment"># ll</span>
总用量 4
<span class="token operator">-</span>rw-r-<span class="token operator">-</span>r-<span class="token operator">-</span> 1 root root 5 10月  8 14:05 1<span class="token punctuation">.</span>txt

<span class="token namespace">[root@localhost opt]</span><span class="token comment"># sudo useradd -m test</span>
<span class="token namespace">[root@localhost opt]</span><span class="token comment"># chown test 1.txt</span>
<span class="token namespace">[root@localhost opt]</span><span class="token comment"># ll</span>
总用量 4
<span class="token operator">-</span>rw-r-<span class="token operator">-</span>r-<span class="token operator">-</span> 1 test root 5 10月  8 14:05 1<span class="token punctuation">.</span>txt

可以看到已经修改了文件所有者
</code></pre> 
<h3><a id="chgrp_120"></a>修改文件所属组：chgrp</h3> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost opt]</span><span class="token comment"># ll 1.txt</span>
<span class="token operator">-</span>rw-r-<span class="token operator">-</span>r-<span class="token operator">-</span> 1 test root 5 10月  8 14:05 1<span class="token punctuation">.</span>txt
<span class="token namespace">[root@localhost opt]</span><span class="token comment"># sudo chgrp test 1.txt</span>
<span class="token namespace">[root@localhost opt]</span><span class="token comment"># ll 1.txt</span>
<span class="token operator">-</span>rw-r-<span class="token operator">-</span>r-<span class="token operator">-</span> 1 test test 5 10月  8 14:05 1<span class="token punctuation">.</span>txt
</code></pre> 
<h2><a id="_129"></a>文件内容查看</h2> 
<p>Linux系统中使用以下命令来查看文件的内容：</p> 
<ul><li><code>cat</code> 由第一行开始显示文件内容</li><li><code>tac</code> 从最后一行开始显示</li><li><code>nl</code> 显示的时候，顺道输出行号</li><li><code>more</code> 一页一页的显示文件内容</li><li><code>less与more</code> 类似，但可以往前翻页</li><li><code>head</code> 只看头几行</li><li><code>tail</code> 只看尾部几行</li></ul> 
<h3><a id="cattac_140"></a>基本显示：cat、tac</h3> 
<p>语法：</p> 
<pre><code class="prism language-powershell"><span class="token function">cat</span> <span class="token punctuation">[</span><span class="token operator">-</span>AbEnTv<span class="token punctuation">]</span>
</code></pre> 
<p>选项与参数：</p> 
<ul><li><code>-A </code>：相当于 -vET 的整合选项，可列出一些特殊字符而不是空白而已；</li><li><code>-v </code>：列出一些看不出来的特殊字符</li><li><code>-E</code> ：将结尾的断行字节 $ 显示出来；</li><li><code>-T</code> ：将 [tab] 按键以 ^I 显示出来；</li><li><code>-b</code> ：列出行号，空白行不标行号</li><li><code>-n</code> ：列出行号，连同空白行也会有行号</li></ul> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost opt]</span><span class="token comment"># cat -b /opt/1.txt</span>
     1	iii
     2	text
     3	text2
     4	aaa
<span class="token namespace">[root@localhost opt]</span><span class="token comment"># cat -n /opt/1.txt</span>
     1	iii
     2	text
     3	text2
     4	aaa
     5	
     6	
</code></pre> 
<p>tac与cat命令刚好相反，文件内容从最后一行开始显示，可以看出 tac 是 cat 的倒着写！如：</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost opt]</span><span class="token comment"># tac 1.txt</span>


aaa
text2
text
iii
</code></pre> 
<h3><a id="nl_180"></a>显示行号：nl</h3> 
<p>语法：</p> 
<pre><code class="prism language-powershell">nl <span class="token punctuation">[</span><span class="token operator">-</span>bnw<span class="token punctuation">]</span> 文件
</code></pre> 
<p>选项与参数：</p> 
<ul><li><code>-b ：</code>指定行号指定的方式，主要有两种： 
  <ul><li>-b a ：表示不论是否为空行，也同样列出行号(类似 cat -n)；</li><li>-b t ：如果有空行，空的那一行不要列出行号(默认值)；</li></ul> </li><li><code>-n ：</code>列出行号表示的方法，主要有三种： 
  <ul><li>-n ln ：行号在荧幕的最左方显示；</li><li>-n rn ：行号在自己栏位的最右方显示，且不加 0 ；</li><li>-n rz ：行号在自己栏位的最右方显示，且加 0 ；</li></ul> </li><li><code>-w ：</code>行号栏位的占用的位数。</li></ul> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost opt]</span><span class="token comment"># nl 1.txt</span>
     1	iii
     2	text
     3	text2
     4	aaa
       <span class="token comment">#此处空行但不显示行号</span>
       <span class="token comment">#此处空行但不显示行号</span>
</code></pre> 
<h3><a id="_205"></a>分屏显示</h3> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost opt]</span><span class="token comment"># more /etc/man_db.config </span>
<span class="token comment">#</span>
<span class="token comment"># Generated automatically from man.conf.in by the</span>
<span class="token comment"># configure script.</span>
<span class="token comment">#</span>
<span class="token comment"># man.conf from man-1.6d</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">(</span>中间省略<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">--</span>More-<span class="token operator">-</span><span class="token punctuation">(</span>28%<span class="token punctuation">)</span>  &lt;== 光标在这里等待命令
</code></pre> 
<p><strong>more运行时可以输入的命令有</strong></p> 
<ul><li>空格键 (space)：代表向下翻一页；</li><li>Enter ：代表向下翻『一行』；</li><li>/字串 ：代表在这个显示的内容当中，向下搜寻『字串』这个关键字；</li><li>:f ：立刻显示出档名以及目前显示的行数；</li><li>q ：代表立刻离开 more ，不再显示该文件内容。</li><li>b 或 [ctrl]-b ：代表往回翻页，不过这动作只对文件有用，对管线无用。</li></ul> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost opt]</span><span class="token comment"># less /etc/man.config</span>
<span class="token comment">#</span>
<span class="token comment"># Generated automatically from man.conf.in by the</span>
<span class="token comment"># configure script.</span>
<span class="token comment">#</span>
<span class="token comment"># man.conf from man-1.6d</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">(</span>中间省略<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
:   &lt;== 这里可以等待你输入命令！
</code></pre> 
<p><strong>less运行时可以输入的命令有</strong></p> 
<ul><li><code>空白键 ：</code>向下翻动一页；</li><li><code>[pagedown]：</code>向下翻动一页；</li><li><code>[pageup] ：</code>向上翻动一页；</li><li><code>/字串 ：</code>向下搜寻『字串』的功能；</li><li><code>?字串 ：</code>向上搜寻『字串』的功能；</li><li><code>n ：</code>重复前一个搜寻 (与 / 或 ? 有关！)</li><li><code>N· ：</code>反向的重复前一个搜寻 (与 / 或 ? 有关！)</li><li><code>q：</code>离开 less 这个程序；</li></ul> 
<h3><a id="nheadtail_248"></a>取首尾n行：head、tail</h3> 
<p>head取出文件前面几行</p> 
<p>语法：</p> 
<pre><code class="prism language-powershell">head <span class="token punctuation">[</span><span class="token operator">-</span>n number<span class="token punctuation">]</span> 文件 
</code></pre> 
<p>选项与参数：</p> 
<p><code>-n ：</code>后面接数字，代表显示几行的意思</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost opt]</span><span class="token comment"># head /etc/man.config</span>
</code></pre> 
<p>默认的情况中，显示前面 10 行！若要显示前 20 行，就得要这样：</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost opt]</span><span class="token comment"># head -n 20 /etc/man.config</span>
</code></pre> 
<p>tail取出文件后面几行</p> 
<p>语法：</p> 
<pre><code class="prism language-powershell">tail <span class="token punctuation">[</span><span class="token operator">-</span>n number<span class="token punctuation">]</span> 文件 
</code></pre> 
<p>选项与参数：</p> 
<p><code>-n ：</code>后面接数字，代表显示几行的意思<br> <code>-f ：</code>表示持续侦测后面所接的档名，要等到按下[ctrl]-c才会结束tail的侦测</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost opt]</span><span class="token comment"># tail /etc/man.config</span>
<span class="token comment"># 默认的情况中，显示最后的十行！若要显示最后的 20 行，就得要这样：</span>
<span class="token namespace">[root@localhost opt]</span><span class="token comment"># tail -n 20 /etc/man.config</span>
</code></pre> 
<h2><a id="_285"></a>文件管理</h2> 
<h3><a id="_286"></a>输出重定向：&gt;</h3> 
<p>可将本应显示在终端上的内容保存到指定文件中。</p> 
<p>如：ls &gt; test.txt ( test.txt 如果不存在，则创建，存在则覆盖其内容 )</p> 
<p>注意： <code>&gt;输出重定向会覆盖原来的内容，&gt;&gt;输出重定向则会追加到文件的尾部。</code></p> 
<h3><a id="_293"></a>管道：|</h3> 
<p>管道：一个命令的输出可以通过管道做为另一个命令的输入。</p> 
<p>“ | ”的左右分为两端，从左端写入到右端。</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost opt]</span><span class="token comment"># ll -h |more   </span>
总用量 13M
drwxr-xr-x  2 root root  4<span class="token punctuation">.</span>0K 8月   4  2016 <span class="token punctuation">.</span><span class="token operator">/</span>
drwxr-xr-x 26 root root  4<span class="token punctuation">.</span>0K 7月  30  2016 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>
<span class="token operator">-</span>rwxr-xr-x  1 root root 1014K 6月  24  2016 bash*
<span class="token operator">-</span>rwxr-xr-x  1 root root   31K 5月  20  2015 bunzip2*
<span class="token operator">-</span>rwxr-xr-x  1 root root  1<span class="token punctuation">.</span>9M 8月  19  2015 busybox*
<span class="token operator">-</span>rwxr-xr-x  1 root root   31K 5月  20  2015 bzcat*
lrwxrwxrwx  1 root root     6 5月  16  2016 bzcmp <span class="token operator">-</span>&gt; bzdiff*
<span class="token operator">-</span>rwxr-xr-x  1 root root  2<span class="token punctuation">.</span>1K 5月  20  2015 bzdiff*
lrwxrwxrwx  1 root root     6 5月  16  2016 bzegrep <span class="token operator">-</span>&gt; bzgrep*
<span class="token operator">--</span>更多<span class="token operator">--</span>
</code></pre> 
<h3><a id="clear_312"></a>清屏：clear</h3> 
<p>clear作用为清除终端上的显示(类似于DOS的cls清屏功能)，快捷键：Ctrl + l ( “l” 为字母 )。</p> 
<h3><a id="cd_314"></a>切换工作目录：cd</h3> 
<p><code>Linux所有的目录和文件名大小写敏感</code><br> cd后面可跟绝对路径，也可以跟相对路径。如果省略目录，则默认切换到当前用户的主目录。</p> 
<table><thead><tr><th>命令</th><th>含义</th></tr></thead><tbody><tr><td>cd</td><td>相当于cd ~</td></tr><tr><td>cd ~</td><td>切换到当前用户的主目录(/home/用户目录)</td></tr><tr><td>cd .</td><td>切换到当前目录</td></tr><tr><td>cd …</td><td>切换到上级目录</td></tr><tr><td>cd -</td><td>进入上次所在的目录</td></tr></tbody></table> 
<p>显示当前路径：pwd</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost opt]</span><span class="token comment"># pwd</span>
<span class="token operator">/</span>opt
</code></pre> 
<p>选项与参数：</p> 
<ul><li>P ：显示出确实的路径，而非使用连结 (link) 路径。<br> 注意：是大写的P</li></ul> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost opt]</span><span class="token comment"># pwd -P</span>
<span class="token operator">/</span>opt
</code></pre> 
<h3><a id="mkdir_340"></a>创建目录：mkdir</h3> 
<p>mkdir可以创建一个新的目录。</p> 
<p>注意：新建目录的名称不能与当前目录中已有的目录或文件同名，并且目录创建者必须对当前目录具有写权限。</p> 
<p>语法：</p> 
<pre><code class="prism language-powershell">mkdir <span class="token punctuation">[</span><span class="token operator">-</span><span class="token function">mp</span><span class="token punctuation">]</span> 目录名称
</code></pre> 
<p>选项与参数：</p> 
<ul><li>-m ：指定被创建目录的权限，而不是根据默认权限 (umask) 设定</li><li>-p ：递归创建所需要的目录</li></ul> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost opt]</span><span class="token comment"># mkdir -p test1/test2/test3</span>
<span class="token namespace">[root@localhost opt]</span><span class="token comment"># ls</span>
1<span class="token punctuation">.</span>txt  test  test1
<span class="token namespace">[root@localhost opt]</span><span class="token comment"># cd test1</span>
<span class="token namespace">[root@localhost test1]</span><span class="token comment"># ls</span>
test2
</code></pre> 
<p>mkdir创建的目录权限默认根据umask得到，而-m参数可以指定被创建目录的权限：</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost opt]</span><span class="token comment"># mkdir t1</span>
<span class="token namespace">[root@localhost opt]</span><span class="token comment"># ll</span>
drwxr-xr-x 2 root root 4096 Nov 22 18:54 t1
<span class="token namespace">[root@localhost opt]</span><span class="token comment"># mkdir t2 -m 711 </span>
<span class="token namespace">[root@localhost opt]</span><span class="token comment"># ll</span>
drwxr-xr-x 2 root root 4096 Nov 22 18:54 t1
drwx-<span class="token operator">-</span>x-<span class="token operator">-</span>x 2 root root 4096 Nov 22 18:54 t2
</code></pre> 
<h3><a id="rm_374"></a>删除文件：rm</h3> 
<p>可通过rm删除文件或目录。使用rm命令要小心，因为文件删除后不能恢复。为了防止文件误删，可以在rm后使用-i参数以逐个确认要删除的文件。</p> 
<p>常用参数及含义如下表所示：</p> 
<table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>-i</td><td>以进行交互式方式执行</td></tr><tr><td>-f</td><td>强制删除，忽略不存在的文件，无需提示</td></tr><tr><td>-r</td><td>递归地删除目录下的内容，删除文件夹时必须加此参数</td></tr></tbody></table> 
<h3><a id="ln_385"></a>建立链接文件：ln</h3> 
<p>软链接：ln -s 源文件 链接文件</p> 
<p>硬链接：ln 源文件 链接文件</p> 
<p>软链接类似于Windows下的快捷方式，如果软链接文件和源文件不在同一个目录，源文件要使用绝对路径，不能使用相对路径。</p> 
<p>硬链接只能链接普通文件不能链接目录。 两个文件占用相同大小的硬盘空间，即使删除了源文件，链接文件还是存在，所以-s选项是更常见的形式。</p> 
<h3><a id="grep_394"></a>文本搜索：grep</h3> 
<p>Linux系统中grep命令是一种强大的文本搜索工具，grep允许对文本文件进行模式查找。如果找到匹配模式， grep打印包含模式的所有行。</p> 
<p>grep一般格式为：</p> 
<pre><code class="prism language-powershell">grep <span class="token punctuation">[</span><span class="token operator">-</span>选项<span class="token punctuation">]</span> <span class="token string">'搜索内容串'</span> 文件名
</code></pre> 
<p>在grep命令中输入字符串参数时，最好引号或双引号括起来。例如：grep ‘a’ 1.txt。</p> 
<p>在当前目录中，查找前缀有test字样的文件中包含 test 字符串的文件，并打印出该字符串的行。此时，可以使用如下命令：</p> 
<pre><code class="prism language-powershell">$ grep test test* <span class="token comment">#查找前缀有test的文件包含test字符串的文件  </span>
testfile1:This a Linux testfile! <span class="token comment">#列出testfile1 文件中包含test字符的行  </span>
testfile_2:This is a linux testfile! <span class="token comment">#列出testfile_2 文件中包含test字符的行  </span>
testfile_2:Linux test <span class="token comment">#列出testfile_2 文件中包含test字符的行 </span>
</code></pre> 
<p>以递归的方式查找符合条件的文件。例如，查找指定目录/etc/acpi 及其子目录（如果存在子目录的话）下所有文件中包含字符串"update"的文件，并打印出该字符串所在行的内容，使用的命令为：</p> 
<pre><code class="prism language-powershell">$ grep <span class="token operator">-</span>r update <span class="token operator">/</span>etc/acpi <span class="token comment">#以递归的方式查找“etc/acpi”  </span>
<span class="token comment">#下包含“update”的文件  </span>
<span class="token operator">/</span>etc/acpi/<span class="token function">ac</span><span class="token punctuation">.</span>d/85-anacron<span class="token punctuation">.</span>sh:<span class="token comment"># (Things like the slocate updatedb cause a lot of IO.)  </span>
Rather than  
<span class="token operator">/</span>etc/acpi/resume<span class="token punctuation">.</span>d/85-anacron<span class="token punctuation">.</span>sh:<span class="token comment"># (Things like the slocate updatedb cause a lot of  </span>
IO<span class="token punctuation">.</span><span class="token punctuation">)</span> Rather than  
<span class="token operator">/</span>etc/acpi/events/thinkpad-cmos:action=<span class="token operator">/</span>usr/sbin/thinkpad-keys-<span class="token operator">-</span>update 
</code></pre> 
<p>反向查找。前面各个例子是查找并打印出符合条件的行，通过"-v"参数可以打印出不符合条件行的内容。</p> 
<p>查找文件名中包含 test 的文件中不包含test 的行，此时，使用的命令为：</p> 
<pre><code class="prism language-powershell">$ grep <span class="token operator">-</span>v test* <span class="token comment">#查找文件名中包含test 的文件中不包含test 的行  </span>
testfile1:helLinux!  
testfile1:Linis a free Unix-<span class="token function">type</span> operating system<span class="token punctuation">.</span>  
testfile1:Lin  
testfile_1:HELLO LINUX!  
testfile_1:LINUX IS A FREE UNIX-<span class="token function">TYPE</span> OPTERATING SYSTEM<span class="token punctuation">.</span>  
testfile_1:THIS IS A LINUX TESTFILE!  
testfile_2:HELLO LINUX!  
testfile_2:Linux is a free unix-<span class="token function">type</span> opterating system<span class="token punctuation">.</span>  
</code></pre> 
<h3><a id="find_438"></a>查找文件：find</h3> 
<p>常用用法：</p> 
<table><thead><tr><th>命令</th><th>含义</th></tr></thead><tbody><tr><td>find ./ -name test.sh</td><td>查找当前目录下所有名为test.sh的文件</td></tr><tr><td>find ./ -name ‘*.sh’</td><td>查找当前目录下所有后缀为.sh的文件</td></tr><tr><td>find ./ -name “[A-Z]*”</td><td>查找当前目录下所有以大写字母开头的文件</td></tr><tr><td>find /tmp -size 2M</td><td>查找在/tmp 目录下等于2M的文件</td></tr><tr><td>find /tmp -size +2M</td><td>查找在/tmp 目录下大于2M的文件</td></tr><tr><td>find /tmp -size -2M</td><td>查找在/tmp 目录下小于2M的文件</td></tr><tr><td>find ./ -size +4k -size -5M</td><td>查找当前目录下大于4k，小于5M的文件</td></tr><tr><td>find ./ -perm 0777</td><td>查找当前目录下权限为 777 的文件或目录</td></tr></tbody></table> 
<p>Linux find命令用来在指定目录下查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，不设置任何参数，则find命令将在当前目录下查找子目录与文件。并且将查找到的子目录和文件全部进行显示。<br> 语法：</p> 
<pre><code class="prism language-powershell">find path <span class="token operator">-</span>option <span class="token punctuation">[</span> <span class="token operator">-</span>print <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token operator">-</span>exec <span class="token operator">-</span>ok command <span class="token punctuation">]</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> \<span class="token punctuation">;</span>
</code></pre> 
<p>常用参数说明 :</p> 
<ul><li>-perm xxxx：权限为 xxxx的文件或目录</li><li>-user： 按照文件属主来查找文件。</li><li>-size n : n单位,b:512位元组的区块,c:字元数,k:kilo bytes,w:二个位元组</li><li>-mount, -xdev : 只检查和指定目录在同一个文件系统下的文件，避免列出其它文件系统中的文件</li><li>-amin n : 在过去 n 分钟内被读取过</li><li>-anewer file : 比文件 file 更晚被读取过的文件</li><li>-atime n : 在过去n天内被读取过的文件</li><li>-cmin n : 在过去 n 分钟内被修改过</li><li>-cnewer file :比文件 file 更新的文件</li><li>-ctime n : 在过去n天内被修改过的文件</li><li>-empty : 空的文件</li><li>-gid n or -group name : gid 是 n 或是 group 名称是 name</li><li>-ipath p, -path p : 路径名称符合 p 的文件，ipath 会忽略大小写</li><li>-name name, -iname name : 文件名称符合 name 的文件。iname 会忽略大小写</li><li>-type 查找某一类型的文件： 
  <ul><li>b - 块设备文件</li><li>d - 目录</li><li>c - 字符设备文件</li><li>p - 管道文件</li><li>l - 符号链接文件</li><li>f - 普通文件</li></ul> </li><li>-exec 命令名{} \ (注意：“}”和“\”之间有空格)</li></ul> 
<p>find实例：</p> 
<p>显示当前目录中大于20字节并以.c结尾的文件名</p> 
<pre><code class="prism language-powershell">find <span class="token punctuation">.</span> <span class="token operator">-</span>name <span class="token string">"*.c"</span> <span class="token operator">-</span>size <span class="token operator">+</span>20c 
</code></pre> 
<p>将目前目录其其下子目录中所有一般文件列出</p> 
<pre><code class="prism language-powershell">find <span class="token punctuation">.</span> <span class="token operator">-</span><span class="token function">type</span> f
</code></pre> 
<p>将目前目录及其子目录下所有最近 20 天内更新过的文件列出</p> 
<pre><code class="prism language-powershell">find <span class="token punctuation">.</span> <span class="token operator">-</span>ctime <span class="token operator">-</span>20
</code></pre> 
<p>查找/var/log目录中更改时间在7日以前的普通文件，并在删除之前询问它们：</p> 
<pre><code class="prism language-powershell">find <span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>log <span class="token operator">-</span><span class="token function">type</span> f <span class="token operator">-</span>mtime <span class="token operator">+</span>7 <span class="token operator">-</span>ok <span class="token function">rm</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> \<span class="token punctuation">;</span>
</code></pre> 
<p>查找前目录中文件属主具有读、写权限，并且文件所属组的用户和其他用户具有读权限的文件：</p> 
<pre><code class="prism language-powershell">find <span class="token punctuation">.</span> <span class="token operator">-</span><span class="token function">type</span> f <span class="token operator">-</span>perm 644 <span class="token operator">-</span>exec <span class="token function">ls</span> <span class="token operator">-</span>l <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> \<span class="token punctuation">;</span>
</code></pre> 
<p>查找系统中所有文件长度为0的普通文件，并列出它们的完整路径：</p> 
<pre><code class="prism language-powershell">find <span class="token operator">/</span> <span class="token operator">-</span><span class="token function">type</span> f <span class="token operator">-</span>size 0 <span class="token operator">-</span>exec <span class="token function">ls</span> <span class="token operator">-</span>l <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> \<span class="token punctuation">;</span>
</code></pre> 
<p>从根目录查找类型为符号链接的文件，并将其删除：</p> 
<pre><code class="prism language-powershell">find <span class="token operator">/</span> <span class="token operator">-</span><span class="token function">type</span> l <span class="token operator">-</span>exec <span class="token function">rm</span> <span class="token operator">-</span>rf <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> \
</code></pre> 
<p>从当前目录查找用户tom的所有文件并显示在屏幕上</p> 
<pre><code class="prism language-powershell">find <span class="token punctuation">.</span> <span class="token operator">-</span>user tom
</code></pre> 
<p>在当前目录中查找所有文件以.doc结尾，且更改时间在3天以上的文件，找到后删除，并且给出删除提示</p> 
<p>find . -name *.doc -mtime +3 -ok rm {} ;<br> 1<br> 在当前目录下查找所有链接文件，并且以长格式显示文件的基本信息</p> 
<pre><code class="prism language-powershell">find <span class="token punctuation">.</span> <span class="token operator">-</span><span class="token function">type</span> l <span class="token operator">-</span>exec <span class="token function">ls</span> <span class="token operator">-</span>l <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> \<span class="token punctuation">;</span>
</code></pre> 
<p>在当前目录下查找文件名有一个小写字母、一个大写字母、两个数字组成，且扩展名为.doc的文件</p> 
<pre><code class="prism language-powershell">find <span class="token punctuation">.</span> <span class="token operator">-</span>name <span class="token string">'[a-z][A-Z][0-9][0-9].doc'</span>
</code></pre> 
<h3><a id="cp_540"></a>拷贝文件：cp</h3> 
<p>cp命令的功能是将给出的文件或目录复制到另一个文件或目录中，相当于DOS下的copy命令。</p> 
<p>常用选项说明:</p> 
<table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-a</td><td>该选项通常在复制目录时使用，它保留链接、文件属性，并递归地复制目录，简单而言，保持文件原有属性。</td></tr><tr><td>-f</td><td>已经存在的目标文件而不提示</td></tr><tr><td>-i</td><td>交互式复制，在覆盖目标文件之前将给出提示要求用户确认</td></tr><tr><td>-r</td><td>若给出的源文件是目录文件，则cp将递归复制该目录下的所有子目录和文件，目标文件必须为一个目录名。</td></tr><tr><td>-v</td><td>显示拷贝进度</td></tr><tr><td>-l</td><td>创建硬链接(hard link)，而非复制文件本身</td></tr><tr><td>-s</td><td>复制成为符号链接 (symbolic link)，相当于批量创建快捷方式</td></tr><tr><td>-u</td><td>若 destination 比 source 旧才升级 destination ！</td></tr></tbody></table> 
<blockquote> 
 <p>cp vim_configure/ code/ -ivr 把文件夹 vim_configure 拷贝到 code 目录里。</p> 
</blockquote> 
<h3><a id="mv_558"></a>移动文件：mv</h3> 
<p>mv命令用来移动文件或目录，也可以给文件或目录重命名。</p> 
<p>常用选项说明：</p> 
<table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-f</td><td>禁止交互式操作，如有覆盖也不会给出提示</td></tr><tr><td>-i</td><td>确认交互方式操作，如果mv操作将导致对已存在的目标文件的覆盖，系统会询问是否重写，要求用户回答以避免误覆盖文件</td></tr><tr><td>-v</td><td>显示移动进度</td></tr></tbody></table> 
<h3><a id="tar_568"></a>归档管理：tar</h3> 
<p>此命令可以把一系列文件归档到一个大文件中，也可以把档案文件解开以恢复数据。</p> 
<p>tar使用格式 tar [参数] 打包文件名 文件</p> 
<p>tar命令参数很特殊，其参数前面可以使用“-”，也可以不使用。</p> 
<p>常用参数：</p> 
<table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>-c</td><td>生成档案文件，创建打包文件</td></tr><tr><td>-v</td><td>列出归档解档的详细过程，显示进度</td></tr><tr><td>-f</td><td>指定档案文件名称，f后面一定是.tar文件，所以必须放选项最后</td></tr><tr><td>-t</td><td>列出档案中包含的文件</td></tr><tr><td>-x</td><td>解开档案文件</td></tr></tbody></table> 
<p>注意：除了f需要放在参数的最后，其它参数的顺序任意。</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment">#  tar -cvf test.tar 1.txt 2.txt 3.txt </span>
1<span class="token punctuation">.</span>txt
2<span class="token punctuation">.</span>txt
3<span class="token punctuation">.</span>txt
</code></pre> 
<h3><a id="gzipbzip2_592"></a>文件压缩解压：gzip、bzip2</h3> 
<p>tar与gzip命令结合使用实现文件打包、压缩。 tar只负责打包文件，但不压缩，用gzip压缩tar打包后的文件，其扩展名一般用xxxx.tar.gz。</p> 
<p>gzip使用格式如下：</p> 
<pre><code class="prism language-powershell">gzip  <span class="token punctuation">[</span>选项<span class="token punctuation">]</span>  被压缩文件
</code></pre> 
<table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-d</td><td>解压文件</td></tr><tr><td>-r</td><td>压缩文件</td></tr></tbody></table> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># ll *.tar*</span>

<span class="token namespace">[root@localhost /]</span><span class="token comment"># gzip -r test.tar test.tar.gz  ==&gt;或者:gzip test.tar</span>
</code></pre> 
<p>tar命令中-z选项可以调用gzip实现了一个压缩的功能，实行一个先打包后压缩的过程。</p> 
<p>压缩用法：tar zcvf 压缩包包名 文件1 文件2 …</p> 
<p>例如： tar zcvf test.tar.gz 1.c 2.c 3.c 4.c把 1.c 2.c 3.c 4.c 压缩成 test.tar.gz</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># ls</span>
1<span class="token punctuation">.</span>c  2<span class="token punctuation">.</span>c  3<span class="token punctuation">.</span>c  4<span class="token punctuation">.</span>c
<span class="token namespace">[root@localhost /]</span><span class="token comment">#tar zcvf test.tar.gz 1.c 2.c 3.c 4.c </span>

<span class="token namespace">[root@localhost /]</span><span class="token comment"># ls</span>
1<span class="token punctuation">.</span>c  2<span class="token punctuation">.</span>c  3<span class="token punctuation">.</span>c  4<span class="token punctuation">.</span>c  test<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz
<span class="token namespace">[root@localhost /]</span><span class="token comment"># tar -zcvf new.tar.gz 1.c 2.c 3.c 4.c        </span>

<span class="token namespace">[root@localhost /]</span><span class="token comment"># ls</span>
1<span class="token punctuation">.</span>c  2<span class="token punctuation">.</span>c  3<span class="token punctuation">.</span>c  4<span class="token punctuation">.</span>c  new<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz  test<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz
</code></pre> 
<p>解压用法： tar zxvf 压缩包包名<br> 例如：</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># ls</span>
new<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz  test<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz
<span class="token namespace">[root@localhost /]</span><span class="token comment"># tar zxvf new.tar.gz </span>
1<span class="token punctuation">.</span>c
2<span class="token punctuation">.</span>c
3<span class="token punctuation">.</span>c
4<span class="token punctuation">.</span>c
<span class="token namespace">[root@localhost /]</span><span class="token comment"># ls</span>
1<span class="token punctuation">.</span>c  2<span class="token punctuation">.</span>c  3<span class="token punctuation">.</span>c  4<span class="token punctuation">.</span>c  new<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz  test<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz
</code></pre> 
<p>解压到指定目录：-C （解压时可以不指定-z选项）</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># ls number/     </span>
<span class="token namespace">[root@localhost /]</span><span class="token comment"># tar xvf test.tar.gz -C number/     </span>

<span class="token namespace">[root@localhost /]</span><span class="token comment"># ls number/                    </span>
1<span class="token punctuation">.</span>c  2<span class="token punctuation">.</span>c  3<span class="token punctuation">.</span>c  4<span class="token punctuation">.</span>c
</code></pre> 
<p>bzip2命令跟gzip用法类似</p> 
<p>压缩用法：tar jcvf 压缩包包名 文件…(tar jcvf bk.tar.bz2 *.c)</p> 
<p>解压用法：tar jxvf 压缩包包名 (tar jxvf bk.tar.bz2)</p> 
<h3><a id="zipunzip_657"></a>文件压缩解压：zip、unzip</h3> 
<p>通过zip压缩文件的目标文件不需要指定扩展名，默认扩展名为zip。</p> 
<p>压缩文件：zip [-r] 目标文件(没有扩展名) 源文件</p> 
<p>解压文件：unzip -d 解压后目录文件 压缩文件</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># ls</span>
1<span class="token punctuation">.</span>txt  2<span class="token punctuation">.</span>txt  3<span class="token punctuation">.</span>txt  test<span class="token punctuation">.</span>tar
<span class="token namespace">[root@localhost /]</span><span class="token comment"># zip myzip *.txt</span>
  adding: 1<span class="token punctuation">.</span>txt <span class="token punctuation">(</span>stored 0%<span class="token punctuation">)</span>
  adding: 2<span class="token punctuation">.</span>txt <span class="token punctuation">(</span>stored 0%<span class="token punctuation">)</span>
  adding: 3<span class="token punctuation">.</span>txt <span class="token punctuation">(</span>stored 0%<span class="token punctuation">)</span>
<span class="token namespace">[root@localhost /]</span><span class="token comment"># ls</span>
1<span class="token punctuation">.</span>txt  2<span class="token punctuation">.</span>txt  3<span class="token punctuation">.</span>txt  myzip<span class="token punctuation">.</span>zip  test<span class="token punctuation">.</span>tar
<span class="token namespace">[root@localhost /]</span><span class="token comment"># rm -f *.txt *.tar</span>
<span class="token namespace">[root@localhost /]</span><span class="token comment"># ls</span>
myzip<span class="token punctuation">.</span>zip
<span class="token namespace">[root@localhost /]</span><span class="token comment"># unzip myzip.zip </span>
Archive:  myzip<span class="token punctuation">.</span>zip
 extracting: 1<span class="token punctuation">.</span>txt                   
 extracting: 2<span class="token punctuation">.</span>txt                   
 extracting: 3<span class="token punctuation">.</span>txt                   
<span class="token namespace">[root@localhost /]</span><span class="token comment"># ls</span>
1<span class="token punctuation">.</span>txt  2<span class="token punctuation">.</span>txt  3<span class="token punctuation">.</span>txt  myzip<span class="token punctuation">.</span>zip
<span class="token namespace">[root@localhost /]</span><span class="token comment"># unzip -d dir myzip.zip </span>
Archive:  myzip<span class="token punctuation">.</span>zip
 extracting: <span class="token function">dir</span><span class="token operator">/</span>1<span class="token punctuation">.</span>txt               
 extracting: <span class="token function">dir</span><span class="token operator">/</span>2<span class="token punctuation">.</span>txt               
 extracting: <span class="token function">dir</span><span class="token operator">/</span>3<span class="token punctuation">.</span>txt               
<span class="token namespace">[root@localhost /]</span><span class="token comment"># ls</span>
1<span class="token punctuation">.</span>txt  2<span class="token punctuation">.</span>txt  3<span class="token punctuation">.</span>txt  <span class="token function">dir</span>  myzip<span class="token punctuation">.</span>zip
</code></pre> 
<h3><a id="which_691"></a>查看命令位置：which</h3> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># which ls</span>
<span class="token operator">/</span>bin/<span class="token function">ls</span>
<span class="token namespace">[root@localhost /]</span><span class="token comment"># which sudo</span>
<span class="token operator">/</span>usr/bin/sudo
</code></pre> 
<h2><a id="_699"></a>用户和用户组管理</h2> 
<p>用户管理包括用户与组账号的管理。</p> 
<p>在Unix/Linux系统中，不论是由本机或是远程登录系统，每个系统都必须拥有一个账号，并且对于不同的系统资源拥有不同的使用权限。</p> 
<p>Unix/Linux系统中的root账号通常用于系统的维护和管理，它对Unix/Linux操作系统的所有部分具有不受限制的访问权限。</p> 
<p>在Unix/Linux安装的过程中，系统会自动创建许多用户账号，而这些默认的用户就称为“标准用户”。</p> 
<p>在大多数版本的Unix/Linux中，都不推荐直接使用root账号登录系统。</p> 
<h3><a id="whoami_710"></a>查看当前用户：whoami</h3> 
<p>查看当前系统当前账号的用户名。可通过cat /etc/passwd查看系统用户信息。</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost ~]</span><span class="token comment"># whoami</span>
root
</code></pre> 
<h3><a id="who_717"></a>查看登录用户：who</h3> 
<p>who命令用于查看当前所有登录系统的用户信息。</p> 
<table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-m或am I</td><td>只显示运行who命令的用户名、登录终端和登录时间</td></tr><tr><td>-q或–count</td><td>只显示用户的登录账号和登录用户的数量</td></tr><tr><td>-u</td><td>在登录时间后显示该用户最后一次操作到当前的时间间隔</td></tr><tr><td>-u或–heading</td><td>显示列标题</td></tr></tbody></table> 
<h3><a id="_exit_726"></a>退出登录账户： exit</h3> 
<p>如果是图形界面，退出当前终端；</p> 
<p>如果是使用ssh远程登录，退出登陆账户；</p> 
<p>如果是切换后的登陆用户，退出则返回上一个登陆账号。</p> 
<h3><a id="useradd_733"></a>添加用户账户：useradd</h3> 
<p>在Unix/Linux中添加用户账号可以使用adduser或useradd命令，因为adduser命令是指向useradd命令的一个链接，因此，这两个命令的使用格式完全一样。</p> 
<p>useradd命令的使用格式如下： useradd [参数] 新建用户账号</p> 
<table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>-d</td><td>指定用户登录系统时的主目录</td></tr><tr><td>-m</td><td>自动建立目录，未指定-d参数时会在/home/{当前用户}目录下建立主目录</td></tr><tr><td>-g</td><td>指定组名称</td></tr></tbody></table> 
<p>相关说明：</p> 
<ul><li>Linux每个用户都要有一个主目录，主目录就是第一次登陆系统，用户的默认当前目录(/home/用户)；</li><li>每一个用户必须有一个主目录，所以用useradd创建用户的时候，一定给用户指定一个主目录；</li><li>如果创建用户的时候，不指定组名，那么系统会自动创建一个和用户名一样的组名。</li></ul> 
<p>若创建用户时未指定家目录，后期可通过<code>usermod -d /home/abc abc</code>指定</p> 
<table><thead><tr><th>命令</th><th>含义</th></tr></thead><tbody><tr><td>useradd -d /home/abc abc -m</td><td>创建abc用户，如果/home/abc目录不存在，就自动创建这个目录，同时用户属于abc组</td></tr><tr><td>useradd -d /home/a a -g test -m</td><td>创建一个用户名字叫a，主目录在/home/a，如果主目录不存在，就自动创建主目录，同时用户属于test组</td></tr><tr><td>cat /etc/passwd</td><td>查看系统当前用户名</td></tr></tbody></table> 
<h3><a id="usermod_758"></a>修改用户：usermod</h3> 
<p>常用的选项包括<code>-c, -d, -m, -g, -G, -s, -u以及-o等</code>，这些选项的意义与<code>useradd</code>命令中的选项一样，可以为用户指定新的资源值 。</p> 
<p>修改用户所在组：usermod -g 用户组 用户名</p> 
<pre><code class="prism language-powershell">usermod <span class="token operator">-</span>g test abc
</code></pre> 
<p>改abc用户的家目录位置：usermod -d 家目录 用户名</p> 
<pre><code class="prism language-powershell">usermod <span class="token operator">-</span>d <span class="token operator">/</span>home/abc abc
</code></pre> 
<p>选项-l 新用户名指定一个新的账号，可修改用户名：</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost ~]</span><span class="token comment">#  tail /etc/passwd -n 1 </span>
aaa:x:1001:1001::<span class="token operator">/</span>home/aaa:
<span class="token namespace">[root@localhost ~]</span><span class="token comment">#  sudo usermod -l bbb -d /home/bbb aaa   </span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment">#  tail /etc/passwd -n 1               </span>
bbb:x:1001:1001::<span class="token operator">/</span>home/bbb:
</code></pre> 
<h3><a id="passwd_778"></a>设置用户密码：passwd</h3> 
<p>超级用户可以为自己和其他用户指定口令，普通用户只能用它修改自己的口令。命令的格式为：</p> 
<pre><code class="prism language-powershell">passwd 选项 用户名
</code></pre> 
<p>可使用的选项：</p> 
<ul><li>-l 锁定口令，即禁用账号。</li><li>-u 口令解锁。</li><li>-d 使账号无口令。</li><li>-f 强迫用户下次登录时修改口令。</li></ul> 
<p>假设当前用户是sam，则下面的命令修改该用户自己的口令：</p> 
<pre><code class="prism language-powershell">$ passwd 
Old password:<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> 
New password:<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> 
Re-enter new password:<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
</code></pre> 
<p>如果是超级用户，可以用下列形式指定任何用户的口令：</p> 
<pre><code class="prism language-powershell"><span class="token comment"># passwd sam </span>
New password:<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> 
Re-enter new password:<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
</code></pre> 
<p>普通用户修改自己的口令时，passwd命令会先询问原口令，验证后再要求用户输入两遍新口令，如果两次输入的口令一致，则将这个口令指定给用户；而超级用户为用户指定口令时，就不需要知道原口令。</p> 
<p>为用户指定空口令时，执行下列形式的命令：</p> 
<pre><code class="prism language-powershell">passwd <span class="token operator">-</span>d sam
</code></pre> 
<p>此命令将用户的 sam 的口令删除，这样用户 sam 下一次登录的时候，系统就不在允许该用户登录。</p> 
<p>passwd 命令还可以用 -l（lock）选项锁定某一用户，使其不能登录，例如：</p> 
<pre><code class="prism language-powershell">passwd <span class="token operator">-</span>l sam
</code></pre> 
<h3><a id="userdel_817"></a>删除用户：userdel</h3> 
<table><thead><tr><th>命令</th><th>含义</th></tr></thead><tbody><tr><td>su</td><td>切换到root用户</td></tr><tr><td>su root</td><td>切换到root用户</td></tr><tr><td>su -</td><td>切换到root用户，同时切换目录到/root</td></tr><tr><td>su - root</td><td>切换到root用户，同时切换目录到/root</td></tr><tr><td>su 普通用户</td><td>切换到普通用户</td></tr><tr><td>su - 普通用户</td><td>切换到普通用户，同时切换普通用户所在的目录</td></tr></tbody></table> 
<p>注意，对于ubuntu平台，只能通过sudo su 进入到root账户<br> sudo 允许系统管理员让普通用户执行一些或者全部的root命令的一个工具</p> 
<h3><a id="rootsudo_829"></a>以root身份执行指令：sudo</h3> 
<p>sudo 命令可以临时获取root的权限<br> 使用权限：在 /etc/sudoers 中有出现的使用者</p> 
<pre><code class="prism language-powershell">显示出自己（执行 sudo 的使用者）的权限
sudo <span class="token operator">-</span>l
以 root 权限执行上一条命令
sudo ！！
</code></pre> 
<p>sudoers 文件配置语法</p> 
<pre><code class="prism language-powershell">user MACHINE = COMMANDS
用户 登录的主机= （可以变换的身份）可以执行的命令
</code></pre> 
<p>例子：</p> 
<pre><code class="prism language-powershell">允许root用户执行任意路径下的任意命令 
root    ALL=<span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>       ALL
允许wheel用户组中的用户执行所有命令  
<span class="token operator">%</span>wheel        ALL=<span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>       ALL
允许wheel用户组中的用户在不输入该用户的密码的情况下使用所有命令
<span class="token operator">%</span>wheel        ALL=<span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>       NOPASSWD: ALL
允许support用户在EPG的机器上不输入密码的情况下使用SQUID中的命令
Cmnd_Alias   SQUID = <span class="token operator">/</span>opt/vtbin/squid_refresh<span class="token punctuation">,</span> <span class="token operator">/</span>sbin/service<span class="token punctuation">,</span> <span class="token operator">/</span>bin/<span class="token function">rm</span>
Host_Alias   EPG = 192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>1<span class="token punctuation">.</span>1<span class="token punctuation">,</span> 192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>1<span class="token punctuation">.</span>2
support EPG=<span class="token punctuation">(</span>ALL<span class="token punctuation">)</span> NOPASSWD: SQUID
</code></pre> 
<h3><a id="groupaddgroupdel_859"></a>添加和删除组账户：groupadd、groupdel</h3> 
<p>groupadd 新建组账号 groupdel 组账号 cat/etc/group 查看用户组</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost ~]</span><span class="token comment"># </span>
 sudo groupadd abc
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># </span>
 sudo groupdel abc
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># </span>
 sudo groupdel abc
groupdel：“abc”组不存在
</code></pre> 
<h3><a id="groupmod_871"></a>用户组管理：groupmod</h3> 
<p>修改用户组的属性使用groupmod命令，其语法如下：</p> 
<pre><code class="prism language-powershell">groupmod 选项 用户组
</code></pre> 
<p>常用的选项有：</p> 
<ul><li>-g GID为用户组指定新的组织标号</li><li>-o 和 -g选项同时使用，用户组新的GID可以与系统已有的用户组GID相同</li><li>-n 新用户组将用户组的名字改为新名字</li></ul> 
<p>将组group2的组标识号修改为102：</p> 
<pre><code class="prism language-powershell">groupmod <span class="token operator">-</span>g 102 group2
</code></pre> 
<p>将组group2的标识号改为10000，组名修改为group3：</p> 
<pre><code class="prism language-powershell">groupmod –g 10000 <span class="token operator">-</span>n group3 group2
</code></pre> 
<p>如果一个用户同时属于多个用户组，那么用户可以在用户组之间切换，以便具有其它用户组的权限，用户在登录后，使用命令newgrp切换到其它用户组，这个命令的参数就是目的的用户组，例如：</p> 
<pre><code class="prism language-powershell">newgrp root
</code></pre> 
<p>这条命令将当前用户切换到root用户组，前提条件是root用户组确实是该用户的主组或附加组。类似于用户账号的管理，用户组的管理也可以通过集成的系统管理工具来完成。</p> 
<h2><a id="_898"></a>系统管理</h2> 
<h3><a id="cal_899"></a>查看当前日历：cal</h3> 
<p>cal命令用于查看当前日历，-y显示整年日历：</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost ~]</span><span class="token comment"># cal</span>
      十月 2022     
日 一 二 三 四 五 六
                   1
 2  3  4  5  6  7  8
 9 10 11 12 13 14 15
16 17 18 19 20 21 22
23 24 25 26 27 28 29
30 31
</code></pre> 
<h3><a id="dete_913"></a>显示或设置时间：dete</h3> 
<p>设置时间格式（需要管理员权限）：</p> 
<pre><code class="prism language-powershell">date <span class="token namespace">[MMDDhhmm[[CC]YY][.ss]]</span> <span class="token operator">+</span>format
</code></pre> 
<p>MM为月，DD为天，hh为小时，mm为分钟；CC为年前两位，YY为年的后两位，ss为秒。</p> 
<p>如： date 010203042016.55。</p> 
<p>显示时间格式（date ‘+%y,%m,%d,%H,%M,%S’）：</p> 
<table><thead><tr><th>format格式</th><th>含义</th></tr></thead><tbody><tr><td>%Y，%y</td><td>年</td></tr><tr><td>%m</td><td>月</td></tr><tr><td>%d</td><td>日</td></tr><tr><td>%H</td><td>时</td></tr><tr><td>%M</td><td>分</td></tr><tr><td>%S</td><td>秒</td></tr></tbody></table> 
<h3><a id="netstat_934"></a>查看网络状态：netstat</h3> 
<p>netstat命令用于显示网络状态。</p> 
<p>利用netstat指令可让你得知整个Linux系统的网络情况。</p> 
<p>语法：</p> 
<pre><code class="prism language-powershell">netstat <span class="token punctuation">[</span><span class="token operator">-</span>acCeFghilMnNoprstuvVwx<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">-</span>A&lt;网络类型&gt;<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">--</span>ip<span class="token punctuation">]</span>
</code></pre> 
<p>参数说明：</p> 
<ul><li>-a或–all 显示所有连线中的Socket。</li><li>-A&lt;网络类型&gt;或–&lt;网络类型&gt; 列出该网络类型连线中的相关地址。</li><li>-c或–continuous 持续列出网络状态。</li><li>-C或–cache 显示路由器配置的快取信息。</li><li>-e或–extend 显示网络其他相关信息。</li><li>-F或–fib 显示FIB。</li><li>-g或–groups 显示多重广播功能群组组员名单。</li><li>-h或–help 在线帮助。</li><li>-i或–interfaces 显示网络界面信息表单。</li><li>-l或–listening 显示监控中的服务器的Socket。</li><li>-M或–masquerade 显示伪装的网络连线。</li><li>-n或–numeric 直接使用IP地址，而不通过域名服务器。</li><li>-N或–netlink或–symbolic 显示网络硬件外围设备的符号连接名称。</li><li>-o或–timers 显示计时器。</li><li>-p或–programs 显示正在使用Socket的程序识别码和程序名称。</li><li>-r或–route 显示Routing Table。</li><li>-s或–statistice 显示网络工作信息统计表。</li><li>-t或–tcp 显示TCP传输协议的连线状况。</li><li>-u或–udp 显示UDP传输协议的连线状况。</li><li>-v或–verbose 显示指令执行过程。</li><li>-V或–version 显示版本信息。</li><li>-w或–raw 显示RAW传输协议的连线状况。</li><li>-x或–unix 此参数的效果和指定"-A unix"参数相同。</li><li>-ip或–inet 此参数的效果和指定"-A inet"参数相同。</li></ul> 
<p>常用如下：</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost yum.repos.d]</span><span class="token comment"># netstat -nltp</span>
Active Internet connections <span class="token punctuation">(</span>only servers<span class="token punctuation">)</span>
Proto Recv-Q <span class="token function">Send-Q</span> Local Address           Foreign Address         State       PID/Program name    
tcp        0      0 0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0:22              0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0:<span class="token operator">*</span>               LISTEN      1219/sshd           
tcp        0      0 0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0:8888            0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0:<span class="token operator">*</span>               LISTEN      1512/python         
tcp        0      0 127<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1:25            0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0:<span class="token operator">*</span>               LISTEN      1460/master         
tcp6       0      0 :::22                   :::<span class="token operator">*</span>                    LISTEN      1219/sshd           
tcp6       0      0 ::1:25                  :::<span class="token operator">*</span>                    LISTEN      1460/master 
</code></pre> 
<h3><a id="ps_982"></a>查看进程信息：ps</h3> 
<p>进程是一个具有一定独立功能的程序，它是操作系统动态执行的基本单元。</p> 
<p><strong>ps命令选项：</strong></p> 
<ul><li>ps a 显示现行终端机下的所有程序，包括其他用户的程序。</li><li>ps -A 显示所有程序。</li><li>ps c 列出程序时，显示每个程序真正的指令名称，而不包含路 径，参数或常驻服务的标示。</li><li>ps -e 此参数的效果和指定"A"参数相同。</li><li>ps e 列出程序时，显示每个程序所使用的环境变量。</li><li>ps f 用ASCII字符显示树状结构，表达程序间的相互关系。</li><li>ps -H 显示树状结构，表示程序间的相互关系。</li><li>ps -N 显示所有的程序，除了执行ps指令终端机下的程序之外。</li><li>ps s 采用程序信号的格式显示程序状况。</li><li>ps u 以用户为主的格式来显示程序状况。</li><li>ps x 显示所有程序，不以终端机来区分。</li></ul> 
<table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-a</td><td>显示终端上的所有进程，包括其他用户的进程</td></tr><tr><td>-u</td><td>显示进程的详细状态</td></tr><tr><td>-x</td><td>显示没有控制终端的进程</td></tr><tr><td>-w</td><td>显示加宽，以便显示更多的信息</td></tr><tr><td>-r</td><td>只显示正在运行的进程</td></tr></tbody></table> 
<p>常见用法：</p> 
<ul><li>ps -e 查看所有进程信息（瞬时的）</li><li>ps -u root -N 查看所有不是root运行的进程</li><li>ps ax 显示所有进程状态状态</li><li>ps -ef |grep xxx 显示含有xxx的进程</li></ul> 
<p>实例：</p> 
<pre><code class="prism language-powershell"><span class="token comment"># ps -A 显示进程信息</span>
PID TTY     TIME CMD
  1 ?    00:00:02 init
  2 ?    00:00:00 kthreadd
……省略部分结果
30749 pts/0  00:00:15 gedit
30886 ?    00:01:10 qtcreator<span class="token punctuation">.</span>bin
30894 ?    00:00:00 qtcreator<span class="token punctuation">.</span>bin 
</code></pre> 
<p>显示指定用户信息：</p> 
<pre><code class="prism language-powershell"><span class="token comment"># ps -u root //显示root进程用户信息</span>
 PID TTY     TIME CMD
  1 ?    00:00:02 init
  2 ?    00:00:00 kthreadd
  3 ?    00:00:00 migration/0
……省略部分结果
30487 ?    00:00:06 gnome-terminal
30488 ?    00:00:00 gnome-pty-helpe
30489 pts/0  00:00:00 bash
</code></pre> 
<p>显示所有进程信息，连同命令行</p> 
<pre><code class="prism language-powershell"><span class="token comment"># ps -ef //显示所有命令，连带命令行</span>
UID    PID PPID C STIME TTY     TIME CMD
root     1   0 0 10:22 ?    00:00:02 <span class="token operator">/</span>sbin/init
root     2   0 0 10:22 ?    00:00:00 <span class="token namespace">[kthreadd]</span>
root     3   2 0 10:22 ?    00:00:00 <span class="token namespace">[migration/0]</span>
root     4   2 0 10:22 ?    00:00:00 <span class="token namespace">[ksoftirqd/0]</span>
root     5   2 0 10:22 ?    00:00:00 <span class="token namespace">[watchdog/0]</span>
root     6   2 0 10:22 ?    <span class="token operator">/</span>usr/lib/NetworkManager
……省略部分结果
root   31302 2095 0 17:42 ?    00:00:00 sshd: root@pts/2 
root   31374 31302 0 17:42 pts/2  00:00:00 <span class="token operator">-</span>bash
root   31400   1 0 17:46 ?    00:00:00 <span class="token operator">/</span>usr/bin/python <span class="token operator">/</span>usr/sbin/aptd
root   31407 31374 0 17:48 pts/2  00:00:00 <span class="token function">ps</span> <span class="token operator">-</span>ef
</code></pre> 
<h3><a id="pstree_1055"></a>以树状图显示进程关系：pstree</h3> 
<p>显示进程的关系</p> 
<pre><code class="prism language-powershell">pstree
init-<span class="token operator">+</span><span class="token operator">-</span>amd
<span class="token punctuation">|</span><span class="token operator">-</span>apmd
<span class="token punctuation">|</span><span class="token operator">-</span>atd
<span class="token punctuation">|</span><span class="token operator">-</span>httpd-<span class="token operator">--</span>10*<span class="token namespace">[httpd]</span>
<span class="token operator">%</span>pstree <span class="token operator">-</span>p
init<span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span>amd<span class="token punctuation">(</span>447<span class="token punctuation">)</span>
<span class="token punctuation">|</span><span class="token operator">-</span>apmd<span class="token punctuation">(</span>105<span class="token punctuation">)</span>
<span class="token punctuation">|</span><span class="token operator">-</span>atd<span class="token punctuation">(</span>339<span class="token punctuation">)</span>
<span class="token operator">%</span>pstree <span class="token operator">-</span>c
init-<span class="token operator">+</span><span class="token operator">-</span>amd
<span class="token punctuation">|</span><span class="token operator">-</span>apmd
<span class="token punctuation">|</span><span class="token operator">-</span>atd
<span class="token punctuation">|</span><span class="token operator">-</span>httpd-<span class="token operator">+</span><span class="token operator">-</span>httpd
<span class="token punctuation">|</span> <span class="token punctuation">|</span><span class="token operator">-</span>httpd
<span class="token punctuation">|</span> <span class="token punctuation">|</span><span class="token operator">-</span>httpd
<span class="token punctuation">|</span> <span class="token punctuation">|</span><span class="token operator">-</span>httpd
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> 
<p>特别表明在运行的进程：</p> 
<pre><code class="prism language-powershell"><span class="token comment"># pstree -apnh //显示进程间的关系</span>
</code></pre> 
<p>同时显示用户名称：</p> 
<pre><code class="prism language-powershell"><span class="token comment"># pstree -u //显示用户名称</span>
</code></pre> 
<h3><a id="top_1086"></a>动态显示进程：top</h3> 
<p>top命令用来动态显示运行中的进程。top命令能够在运行后，在指定的时间间隔更新显示信息。-d参数可以指定显示信息更新的时间间隔。</p> 
<p>在top命令执行后，可以按下按键得到对显示的结果进行排序：</p> 
<table><thead><tr><th>按键</th><th>含义</th></tr></thead><tbody><tr><td>M</td><td>根据内存使用量来排序</td></tr><tr><td>P</td><td>根据CPU占有率来排序</td></tr><tr><td>T</td><td>根据进程运行时间的长短来排序</td></tr><tr><td>U</td><td>可以根据后面输入的用户名来筛选进程</td></tr><tr><td>K</td><td>可以根据后面输入的PID来杀死进程。</td></tr><tr><td>q</td><td>退出</td></tr><tr><td>h</td><td>获得帮助</td></tr></tbody></table> 
<p>图示：<br> <img src="https://images2.imgbox.com/b8/0a/7zrDOvEm_o.png" alt="在这里插入图片描述"><br> 更高级的命令是htop，但需要安装：<br> <img src="https://images2.imgbox.com/a5/19/WzzGgwg2_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="kill_1105"></a>终止进程：kill</h3> 
<p>kill命令指定进程号的进程，需要配合 ps 使用。</p> 
<p>使用格式：</p> 
<pre><code class="prism language-powershell"><span class="token function">kill</span> <span class="token punctuation">[</span><span class="token operator">-</span>signal<span class="token punctuation">]</span> pid
</code></pre> 
<p>信号值从0到15，其中9为绝对终止，可以处理一般信号无法终止的进程。</p> 
<h3><a id="rebootshutdowninit_1115"></a>关机重启：reboot、shutdown、init</h3> 
<table><thead><tr><th>命令</th><th>含义</th></tr></thead><tbody><tr><td>reboot</td><td>重新启动操作系统</td></tr><tr><td>shutdown –r now</td><td>重新启动操作系统，shutdown会给别的用户提示</td></tr><tr><td>shutdown -h now</td><td>立刻关机，其中now相当于时间为0的状态</td></tr><tr><td>shutdown -h 20:25</td><td>系统在今天的20:25 会关机</td></tr><tr><td>shutdown -h +10</td><td>系统再过十分钟后自动关机</td></tr><tr><td>init 0</td><td>关机</td></tr><tr><td>init 6</td><td>重启</td></tr></tbody></table> 
<h3><a id="df_1126"></a>检查磁盘空间：df</h3> 
<p>df命令用于检测文件系统的磁盘空间占用和空余情况，可以显示所有文件系统对节点和磁盘块的使用情况。</p> 
<table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-a</td><td>显示所有文件系统的磁盘使用情况</td></tr><tr><td>-m</td><td>以1024字节为单位显示</td></tr><tr><td>-t</td><td>显示各指定文件系统的磁盘空间使用情况</td></tr><tr><td>-T</td><td>显示文件系统</td></tr></tbody></table> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># df -h</span>
文件系统                 容量  已用  可用 已用<span class="token operator">%</span> 挂载点
<span class="token operator">/</span>dev/mapper/centos-root   13G  1<span class="token punctuation">.</span>5G   12G   12% <span class="token operator">/</span>
devtmpfs                 485M     0  485M    0% <span class="token operator">/</span>dev
tmpfs                    494M   96K  494M    1% <span class="token operator">/</span>dev/shm
tmpfs                    494M   50M  444M   11% <span class="token operator">/</span>run
tmpfs                    494M     0  494M    0% <span class="token operator">/</span>sys/fs/cgroup
<span class="token operator">/</span>dev/sda1                497M  119M  379M   24% <span class="token operator">/</span>boot
tmpfs                     99M     0   99M    0% <span class="token operator">/</span>run/user/0
</code></pre> 
<h3><a id="du_1147"></a>检测目录所占磁盘空间：du</h3> 
<p>du命令用于统计目录或文件所占磁盘空间的大小，该命令的执行结果与df类似，du更侧重于磁盘的使用状况。</p> 
<p>du命令的使用格式如下： du [选项] 目录或文件名</p> 
<table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-a</td><td>递归显示指定目录中各文件和子目录中文件占用的数据块</td></tr><tr><td>-s</td><td>显示指定文件或目录占用的数据块</td></tr><tr><td>-b</td><td>以字节为单位显示磁盘占用情况</td></tr><tr><td>-l</td><td>计算所有文件大小，对硬链接文件计算多次</td></tr></tbody></table> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># du -sh /home/</span>
12K	<span class="token operator">/</span>home/
</code></pre> 
<h3><a id="ifconfig_1163"></a>查看或配置网卡信息：ifconfig</h3> 
<p>ifconfig显示所有网卡的信息：</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># ifconfig</span>
eth0: flags=4163&lt;UP<span class="token punctuation">,</span>BROADCAST<span class="token punctuation">,</span>RUNNING<span class="token punctuation">,</span>MULTICAST&gt;  mtu 1500
        inet 1*<span class="token operator">*</span><span class="token punctuation">.</span>6*<span class="token punctuation">.</span>1*<span class="token operator">*</span><span class="token punctuation">.</span>1*<span class="token operator">*</span>  netmask 255<span class="token punctuation">.</span>255<span class="token punctuation">.</span>240<span class="token punctuation">.</span>0  broadcast 1*<span class="token operator">*</span><span class="token punctuation">.</span>6*<span class="token punctuation">.</span>2*<span class="token operator">*</span><span class="token punctuation">.</span>255
        inet6 fe80::<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>:<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>:<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>:<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether 00:<span class="token operator">*</span><span class="token operator">*</span>:5d:<span class="token operator">*</span><span class="token operator">*</span>:<span class="token operator">*</span><span class="token operator">*</span>:<span class="token operator">*</span><span class="token operator">*</span>  txqueuelen 1000  <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span>
        RX packets 110480231  bytes 9437413113 <span class="token punctuation">(</span>8<span class="token punctuation">.</span>7 GiB<span class="token punctuation">)</span>
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 796651  bytes 134723358 <span class="token punctuation">(</span>128<span class="token punctuation">.</span>4 MiB<span class="token punctuation">)</span>
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73&lt;UP<span class="token punctuation">,</span>LOOPBACK<span class="token punctuation">,</span>RUNNING&gt;  mtu 65536
        inet 127<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1  netmask 255<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0
        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
        loop  txqueuelen 0  <span class="token punctuation">(</span>Local Loopback<span class="token punctuation">)</span>
        RX packets 0  bytes 0 <span class="token punctuation">(</span>0<span class="token punctuation">.</span>0 B<span class="token punctuation">)</span>
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 <span class="token punctuation">(</span>0<span class="token punctuation">.</span>0 B<span class="token punctuation">)</span>
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</code></pre> 
<p>修改ip:</p> 
<pre><code class="prism language-powershell">sudo ifconfig ens0 192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>40<span class="token punctuation">.</span>10
</code></pre> 
<h3><a id="ping_1191"></a>测试远程主机连通性：ping</h3> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># ping www.baidu.com</span>
PING www<span class="token punctuation">.</span>a<span class="token punctuation">.</span>shifen<span class="token punctuation">.</span>com <span class="token punctuation">(</span>110<span class="token punctuation">.</span>242<span class="token punctuation">.</span>68<span class="token punctuation">.</span>3<span class="token punctuation">)</span> 56<span class="token punctuation">(</span>84<span class="token punctuation">)</span> bytes of <span class="token keyword">data</span><span class="token punctuation">.</span>
64 bytes <span class="token keyword">from</span> 110<span class="token punctuation">.</span>242<span class="token punctuation">.</span>68<span class="token punctuation">.</span>3: icmp_seq=1 ttl=51 time=11<span class="token punctuation">.</span>9 ms
64 bytes <span class="token keyword">from</span> 110<span class="token punctuation">.</span>242<span class="token punctuation">.</span>68<span class="token punctuation">.</span>3: icmp_seq=2 ttl=51 time=11<span class="token punctuation">.</span>1 ms
64 bytes <span class="token keyword">from</span> 110<span class="token punctuation">.</span>242<span class="token punctuation">.</span>68<span class="token punctuation">.</span>3: icmp_seq=3 ttl=51 time=11<span class="token punctuation">.</span>4 ms
</code></pre> 
<h3><a id="Linux__1200"></a>Linux 磁盘管理</h3> 
<p>Linux磁盘管理常用三个命令为df、du和fdisk。</p> 
<ul><li>df：列出文件系统的整体磁盘使用量</li><li>du：检查磁盘空间使用量</li><li>fdisk：用于磁盘分区</li></ul> 
<h3><a id="df_1207"></a>df</h3> 
<p>获取硬盘被占用了多少空间，目前还剩下多少空间等信息。</p> 
<p>语法：</p> 
<pre><code class="prism language-powershell">df <span class="token punctuation">[</span><span class="token operator">-</span>ahikHTm<span class="token punctuation">]</span> <span class="token punctuation">[</span>目录或文件名<span class="token punctuation">]</span>
</code></pre> 
<p>选项与参数：</p> 
<ul><li><code>-a ：</code>列出所有的文件系统，包括系统特有的 /proc 等文件系统；</li><li><code>-k ：</code>以 KBytes 的容量显示各文件系统；</li><li><code>-m ：</code>以 MBytes 的容量显示各文件系统；</li><li><code>-h ：</code>以人们较易阅读的 GBytes, MBytes, KBytes 等格式自行显示；</li><li><code>-H ：</code>以 M=1000K 取代 M=1024K 的进位方式；</li><li><code>-T ：</code>显示文件系统类型, 连同该 partition 的 filesystem 名称 (例如 ext3) 也列出；</li><li><code>-i ：</code>不用硬盘容量，而以 inode 的数量来显示</li></ul> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># df -hT</span>
文件系统                类型      容量  已用  可用 已用<span class="token operator">%</span> 挂载点
<span class="token operator">/</span>dev/mapper/centos-root xfs        13G  1<span class="token punctuation">.</span>5G   12G   12% <span class="token operator">/</span>
devtmpfs                devtmpfs  485M     0  485M    0% <span class="token operator">/</span>dev
tmpfs                   tmpfs     494M   96K  494M    1% <span class="token operator">/</span>dev/shm
tmpfs                   tmpfs     494M   50M  444M   11% <span class="token operator">/</span>run
tmpfs                   tmpfs     494M     0  494M    0% <span class="token operator">/</span>sys/fs/cgroup
<span class="token operator">/</span>dev/sda1               xfs       497M  119M  379M   24% <span class="token operator">/</span>boot
tmpfs                   tmpfs      99M     0   99M    0% <span class="token operator">/</span>run/user/0
</code></pre> 
<p>将系统内的所有特殊文件格式及名称都列出来</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># df -aT</span>
文件系统                类型           1K-块    已用     可用 已用<span class="token operator">%</span> 挂载点
rootfs                  rootfs      13588480 1522984 12065496   12% <span class="token operator">/</span>
proc                    proc               0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>proc
sysfs                   sysfs              0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>sys
devtmpfs                devtmpfs      495768       0   495768    0% <span class="token operator">/</span>dev
securityfs              securityfs         0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>sys/kernel/security
tmpfs                   tmpfs         505200      96   505104    1% <span class="token operator">/</span>dev/shm
devpts                  devpts             0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>dev/pts
tmpfs                   tmpfs         505200   50840   454360   11% <span class="token operator">/</span>run
tmpfs                   tmpfs         505200       0   505200    0% <span class="token operator">/</span>sys/fs/cgroup
cgroup                  cgroup             0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>sys/fs/cgroup/systemd
pstore                  pstore             0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>sys/fs/pstore
cgroup                  cgroup             0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>sys/fs/cgroup/cpuset
cgroup                  cgroup             0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>sys/fs/cgroup/cpu<span class="token punctuation">,</span>cpuacct
cgroup                  cgroup             0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>sys/fs/cgroup/memory
cgroup                  cgroup             0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>sys/fs/cgroup/devices
cgroup                  cgroup             0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>sys/fs/cgroup/freezer
cgroup                  cgroup             0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>sys/fs/cgroup/net_cls
cgroup                  cgroup             0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>sys/fs/cgroup/blkio
cgroup                  cgroup             0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>sys/fs/cgroup/perf_event
cgroup                  cgroup             0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>sys/fs/cgroup/hugetlb
configfs                configfs           0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>sys/kernel/config
<span class="token operator">/</span>dev/mapper/centos-root xfs         13588480 1522984 12065496   12% <span class="token operator">/</span>
systemd-1               autofs             0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>proc/sys/fs/binfmt_misc
mqueue                  mqueue             0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>dev/mqueue
hugetlbfs               hugetlbfs          0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>dev/hugepages
debugfs                 debugfs            0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>sys/kernel/debug
<span class="token operator">/</span>dev/sda1               xfs           508588  121240   387348   24% <span class="token operator">/</span>boot
binfmt_misc             binfmt_misc        0       0        0     <span class="token operator">-</span> <span class="token operator">/</span>proc/sys/fs/binfmt_misc
tmpfs                   tmpfs         101040       0   101040    0% <span class="token operator">/</span>run/user/0
</code></pre> 
<h3><a id="du_1271"></a>du</h3> 
<p>du命令是对文件和目录磁盘使用的空间的查看.</p> 
<p>语法：</p> 
<pre><code class="prism language-powershell">du <span class="token punctuation">[</span><span class="token operator">-</span>ahskm<span class="token punctuation">]</span> 文件或目录名称
</code></pre> 
<p>选项与参数：</p> 
<ul><li><code>-a ：</code>列出所有的文件与目录容量，因为默认仅统计目录底下的文件量而已。</li><li><code>-h ：</code>以人们较易读的容量格式 (G/M) 显示；</li><li><code>-s ：</code>列出总量而已，而不列出每个各别的目录占用容量；</li><li><code>-S ：</code>不包括子目录下的总计，与 -s 有点差别。</li><li><code>-k ：</code>以 KBytes 列出容量显示；</li><li><code>-m ：</code>以 MBytes 列出容量显示；</li></ul> 
<p>du没有加任何选项时，只列出当前目录下的所有文件夹容量（包括隐藏文件夹）:</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost ~]</span><span class="token comment"># du</span>
8       <span class="token punctuation">.</span><span class="token operator">/</span>test4     &lt;==每个目录都会列出来
8       <span class="token punctuation">.</span><span class="token operator">/</span>test2
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>中间省略<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
12      <span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span>gconfd   &lt;==包括隐藏文件的目录
220     <span class="token punctuation">.</span>           &lt;==这个目录<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">)</span>所占用的总量
</code></pre> 
<p>直接输入 du 没有加任何选项时，则 du 会分析当前所在目录的文件与目录所占用的硬盘空间。</p> 
<p>加-a选项才显示文件的容量：</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost ~]</span><span class="token comment"># du -a</span>
12      <span class="token punctuation">.</span><span class="token operator">/</span>install<span class="token punctuation">.</span>log<span class="token punctuation">.</span>syslog   &lt;==有文件的列表了
8       <span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span>bash_logout
8       <span class="token punctuation">.</span><span class="token operator">/</span>test4
8       <span class="token punctuation">.</span><span class="token operator">/</span>test2
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>中间省略<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
12      <span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span>gconfd
220     <span class="token punctuation">.</span>
</code></pre> 
<p>检查根目录底下每个目录所占用的容量</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost ~]</span><span class="token comment"># du -sh /*</span>
0       <span class="token operator">/</span>bin
108M    <span class="token operator">/</span>boot
4<span class="token punctuation">.</span>0K    <span class="token operator">/</span><span class="token keyword">data</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>中间省略<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
0       <span class="token operator">/</span>proc
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>中间省略<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
40K     <span class="token operator">/</span>tmp
2<span class="token punctuation">.</span>4G    <span class="token operator">/</span>usr
2<span class="token punctuation">.</span>4G    <span class="token operator">/</span><span class="token keyword">var</span>
</code></pre> 
<h3><a id="fdisk_1326"></a>fdisk</h3> 
<p>fdisk 是 Linux 的磁盘分区表操作工具。</p> 
<p>语法：</p> 
<pre><code class="prism language-powershell">fdisk <span class="token punctuation">[</span><span class="token operator">-</span>l<span class="token punctuation">]</span> 装置名称
</code></pre> 
<p>选项与参数：</p> 
<ul><li>-l ：输出后面接的装置所有的分区内容。若仅有 fdisk -l 时， 则系统将会把整个系统内能够搜寻到的装置的分区均列出来。</li></ul> 
<p>列出所有分区信息：</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># fdisk -l</span>

磁盘 <span class="token operator">/</span>dev/sda：16<span class="token punctuation">.</span>1 GB<span class="token punctuation">,</span> 16106127360 字节，31457280 个扇区
Units = 扇区 of 1 <span class="token operator">*</span> 512 = 512 bytes
扇区大小<span class="token punctuation">(</span>逻辑<span class="token operator">/</span>物理<span class="token punctuation">)</span>：512 字节 <span class="token operator">/</span> 512 字节
I/O 大小<span class="token punctuation">(</span>最小<span class="token operator">/</span>最佳<span class="token punctuation">)</span>：512 字节 <span class="token operator">/</span> 512 字节
磁盘标签类型：dos
磁盘标识符：0x00099802

   设备 Boot      <span class="token function">Start</span>         <span class="token keyword">End</span>      Blocks   Id  System
<span class="token operator">/</span>dev/sda1   <span class="token operator">*</span>        2048     1026047      512000   83  Linux
<span class="token operator">/</span>dev/sda2         1026048    31457279    15215616   8e  Linux LVM

磁盘 <span class="token operator">/</span>dev/sdb：10<span class="token punctuation">.</span>7 GB<span class="token punctuation">,</span> 10737418240 字节，20971520 个扇区
Units = 扇区 of 1 <span class="token operator">*</span> 512 = 512 bytes
扇区大小<span class="token punctuation">(</span>逻辑<span class="token operator">/</span>物理<span class="token punctuation">)</span>：512 字节 <span class="token operator">/</span> 512 字节
I/O 大小<span class="token punctuation">(</span>最小<span class="token operator">/</span>最佳<span class="token punctuation">)</span>：512 字节 <span class="token operator">/</span> 512 字节


磁盘 <span class="token operator">/</span>dev/mapper/centos-root：13<span class="token punctuation">.</span>9 GB<span class="token punctuation">,</span> 13925089280 字节，27197440 个扇区
Units = 扇区 of 1 <span class="token operator">*</span> 512 = 512 bytes
扇区大小<span class="token punctuation">(</span>逻辑<span class="token operator">/</span>物理<span class="token punctuation">)</span>：512 字节 <span class="token operator">/</span> 512 字节
I/O 大小<span class="token punctuation">(</span>最小<span class="token operator">/</span>最佳<span class="token punctuation">)</span>：512 字节 <span class="token operator">/</span> 512 字节


磁盘 <span class="token operator">/</span>dev/mapper/centos-swap：1610 MB<span class="token punctuation">,</span> 1610612736 字节，3145728 个扇区
Units = 扇区 of 1 <span class="token operator">*</span> 512 = 512 bytes
扇区大小<span class="token punctuation">(</span>逻辑<span class="token operator">/</span>物理<span class="token punctuation">)</span>：512 字节 <span class="token operator">/</span> 512 字节
I/O 大小<span class="token punctuation">(</span>最小<span class="token operator">/</span>最佳<span class="token punctuation">)</span>：512 字节 <span class="token operator">/</span> 512 字节
</code></pre> 
<p>查看根目录所在磁盘，并查阅该硬盘内的相关信息：</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># df /            &lt;==注意：重点在找出磁盘文件名而已</span>
Filesystem           1K-blocks      Used Available Use% Mounted on
<span class="token operator">/</span>dev/hdc2              9920624   3823168   5585388  41% <span class="token operator">/</span>

<span class="token namespace">[root@localhost /]</span><span class="token comment"># fdisk /dev/hdc  &lt;==不要加上数字！</span>
The number of cylinders <span class="token keyword">for</span> this disk is <span class="token function">set</span> to 5005<span class="token punctuation">.</span>
There is nothing wrong with that<span class="token punctuation">,</span> but this is larger than 1024<span class="token punctuation">,</span>
and could in certain setups cause problems with:
1<span class="token punctuation">)</span> software that runs at boot time <span class="token punctuation">(</span>e<span class="token punctuation">.</span>g<span class="token punctuation">.</span><span class="token punctuation">,</span> old versions of LILO<span class="token punctuation">)</span>
2<span class="token punctuation">)</span> booting and partitioning software <span class="token keyword">from</span> other OSs
   <span class="token punctuation">(</span>e<span class="token punctuation">.</span>g<span class="token punctuation">.</span><span class="token punctuation">,</span> DOS FDISK<span class="token punctuation">,</span> OS/2 FDISK<span class="token punctuation">)</span>

Command <span class="token punctuation">(</span>m <span class="token keyword">for</span> help<span class="token punctuation">)</span>:     &lt;==等待你的输入！
</code></pre> 
<p>输入 m 后，就会看到底下这些命令介绍</p> 
<pre><code class="prism language-powershell">Command <span class="token punctuation">(</span>m <span class="token keyword">for</span> help<span class="token punctuation">)</span>: m   &lt;== 输入 m 后，就会看到底下这些命令介绍
Command action
   a   toggle a bootable flag
   b   edit bsd disklabel
   c   toggle the dos compatibility flag
   d   delete a partition            &lt;==删除一个partition
   l   list known partition types
   m   print this menu
   n   add a new partition           &lt;==新增一个partition
   o   create a new empty DOS partition table
   p   print the partition table     &lt;==在屏幕上显示分割表
   q   quit without saving changes   &lt;==不储存离开fdisk程序
   s   create a new empty Sun disklabel
   t   change a partition's system id
   u   change display/entry units
   v   verify the partition table
   w   <span class="token function">write</span> table to disk and <span class="token keyword">exit</span>  &lt;==将刚刚的动作写入分割表
   x   extra functionality <span class="token punctuation">(</span>experts only<span class="token punctuation">)</span>
</code></pre> 
<p>离开 fdisk 时按下 q，那么所有的动作都不会生效！相反的， 按下w就是动作生效的意思。</p> 
<pre><code class="prism language-powershell">Command <span class="token punctuation">(</span>m <span class="token keyword">for</span> help<span class="token punctuation">)</span>: p  &lt;== 这里可以输出目前磁盘的状态

Disk <span class="token operator">/</span>dev/hdc: 41<span class="token punctuation">.</span>1 GB<span class="token punctuation">,</span> 41174138880 bytes        &lt;==这个磁盘的文件名与容量
255 heads<span class="token punctuation">,</span> 63 sectors/track<span class="token punctuation">,</span> 5005 cylinders      &lt;==磁头、扇区与磁柱大小
Units = cylinders of 16065 <span class="token operator">*</span> 512 = 8225280 bytes &lt;==每个磁柱的大小

   Device Boot      <span class="token function">Start</span>         <span class="token keyword">End</span>      Blocks   Id  System
<span class="token operator">/</span>dev/hdc1   <span class="token operator">*</span>           1          13      104391   83  Linux
<span class="token operator">/</span>dev/hdc2              14        1288    10241437+  83  Linux
<span class="token operator">/</span>dev/hdc3            1289        1925     5116702+  83  Linux
<span class="token operator">/</span>dev/hdc4            1926        5005    24740100    5  Extended
<span class="token operator">/</span>dev/hdc5            1926        2052     1020096   82  Linux swap <span class="token operator">/</span> Solaris
<span class="token comment"># 装置文件名 启动区否 开始磁柱    结束磁柱  1K大小容量 磁盘分区槽内的系统</span>

Command <span class="token punctuation">(</span>m <span class="token keyword">for</span> help<span class="token punctuation">)</span>: q
</code></pre> 
<p>使用 p 可以列出目前这颗磁盘的分割表信息，这个信息的上半部在显示整体磁盘的状态。</p> 
<h3><a id="_1431"></a>磁盘格式化</h3> 
<p>磁盘分割完毕后自然就是要进行文件系统的格式化，格式化的命令非常的简单，使用 mkfs（make filesystem） 命令。</p> 
<p>语法：</p> 
<pre><code class="prism language-powershell">mkfs <span class="token punctuation">[</span><span class="token operator">-</span>t 文件系统格式<span class="token punctuation">]</span> 装置文件名
</code></pre> 
<p>选项与参数：</p> 
<ul><li>-t ：可以接文件系统格式，例如 ext3, ext2, vfat 等(系统有支持才会生效)<br> 查看 mkfs 支持的文件格式：</li></ul> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># mkfs[tab]</span>
mkfs         mkfs<span class="token punctuation">.</span>cramfs  mkfs<span class="token punctuation">.</span>ext3    mkfs<span class="token punctuation">.</span>minix   
mkfs<span class="token punctuation">.</span>btrfs   mkfs<span class="token punctuation">.</span>ext2    mkfs<span class="token punctuation">.</span>ext4    mkfs<span class="token punctuation">.</span>xfs
</code></pre> 
<p>按下两个[tab]，会发现 mkfs 支持的文件格式如上所示。</p> 
<p>将分区 /dev/hdc6（可指定其他分区） 格式化为ext3文件系统：</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># mkfs -t ext3 /dev/hdc6</span>
mke2fs 1<span class="token punctuation">.</span>39 <span class="token punctuation">(</span>29-May-2006<span class="token punctuation">)</span>
Filesystem label=                &lt;==这里指的是分割槽的名称<span class="token punctuation">(</span>label<span class="token punctuation">)</span>
OS <span class="token function">type</span>: Linux
Block size=4096 <span class="token punctuation">(</span>log=2<span class="token punctuation">)</span>          &lt;==block 的大小配置为 4K 
Fragment size=4096 <span class="token punctuation">(</span>log=2<span class="token punctuation">)</span>
251392 inodes<span class="token punctuation">,</span> 502023 blocks     &lt;==由此配置决定的inode/block数量
25101 blocks <span class="token punctuation">(</span>5<span class="token punctuation">.</span>00%<span class="token punctuation">)</span> reserved <span class="token keyword">for</span> the super user
First <span class="token keyword">data</span> block=0
Maximum filesystem blocks=515899392
16 block groups
32768 blocks per <span class="token function">group</span><span class="token punctuation">,</span> 32768 fragments per <span class="token function">group</span>
15712 inodes per <span class="token function">group</span>
Superblock backups stored on blocks:
        32768<span class="token punctuation">,</span> 98304<span class="token punctuation">,</span> 163840<span class="token punctuation">,</span> 229376<span class="token punctuation">,</span> 294912

Writing inode tables: done
Creating journal <span class="token punctuation">(</span>8192 blocks<span class="token punctuation">)</span>: done &lt;==有日志记录
Writing superblocks and filesystem accounting information: done

This filesystem will be automatically checked every 34 mounts or
180 days<span class="token punctuation">,</span> whichever comes first<span class="token punctuation">.</span>  Use tune2fs <span class="token operator">-</span>c or <span class="token operator">-</span>i to override<span class="token punctuation">.</span>
<span class="token comment"># 这样就创建起来我们所需要的 Ext3 文件系统了！简单明了！</span>
</code></pre> 
<h3><a id="_1477"></a>磁盘检验</h3> 
<p>fsck（file system check）用来检查和维护不一致的文件系统。</p> 
<p>若系统掉电或磁盘发生问题，可利用fsck命令对文件系统进行检查。</p> 
<p>语法：</p> 
<pre><code class="prism language-powershell">fsck <span class="token punctuation">[</span><span class="token operator">-</span>t 文件系统<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>ACay<span class="token punctuation">]</span> 装置名称
</code></pre> 
<p>选项与参数：</p> 
<ul><li>-t : 给定档案系统的型式，若在 /etc/fstab 中已有定义或 kernel 本身已支援的则不需加上此参数</li><li>-s : 依序一个一个地执行 fsck 的指令来检查</li><li>-A : 对/etc/fstab 中所有列出来的 分区（partition）做检查</li><li>-C : 显示完整的检查进度</li><li>-d : 打印出 e2fsck 的 debug 结果</li><li>-p : 同时有 -A 条件时，同时有多个 fsck 的检查一起执行</li><li>-R : 同时有 -A 条件时，省略 / 不检查</li><li>-V : 详细显示模式</li><li>-a : 如果检查有错则自动修复</li><li>-r : 如果检查有错则由使用者回答是否修复</li><li>-y : 选项指定检测每个文件是自动输入yes，在不确定那些是不正常的时候，可以执行 # fsck -y 全部检查修复。</li></ul> 
<p>查看系统有多少文件系统支持的 fsck 命令：</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># fsck[tab][tab]</span>
fsck         fsck<span class="token punctuation">.</span>cramfs  fsck<span class="token punctuation">.</span>ext2    fsck<span class="token punctuation">.</span>ext3    fsck<span class="token punctuation">.</span>msdos   fsck<span class="token punctuation">.</span>vfat
</code></pre> 
<p>强制检测 /dev/hdc6 分区:</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># fsck -C -f -t ext3 /dev/hdc6 </span>
fsck 1<span class="token punctuation">.</span>39 <span class="token punctuation">(</span>29-May-2006<span class="token punctuation">)</span>
e2fsck 1<span class="token punctuation">.</span>39 <span class="token punctuation">(</span>29-May-2006<span class="token punctuation">)</span>
Pass 1: Checking inodes<span class="token punctuation">,</span> blocks<span class="token punctuation">,</span> and sizes
Pass 2: Checking directory structure
Pass 3: Checking directory connectivity
Pass 4: Checking reference counts
Pass 5: Checking <span class="token function">group</span> summary information
vbird_logical: 11/251968 files <span class="token punctuation">(</span>9<span class="token punctuation">.</span>1% non-contiguous<span class="token punctuation">)</span><span class="token punctuation">,</span> 36926/1004046 blocks
</code></pre> 
<p>如果没有加上 -f 的选项，则由于这个文件系统不曾出现问题，检查的经过非常快速！若加上 -f 强制检查，才会一项一项的显示过程。</p> 
<h3><a id="_1521"></a>磁盘挂载与卸除</h3> 
<p>Linux 的磁盘挂载使用<code>mount</code>命令，卸载使用<code>umount</code>命令。</p> 
<p>磁盘挂载语法：</p> 
<pre><code class="prism language-powershell"><span class="token function">mount</span> <span class="token punctuation">[</span><span class="token operator">-</span>t 文件系统<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>L Label名<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>o 额外选项<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>n<span class="token punctuation">]</span>  装置文件名  挂载点
</code></pre> 
<p>用默认的方式，将刚刚创建的 /dev/hdc6 挂载到 /mnt/hdc6 上面！</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># mkdir /mnt/hdc6</span>
<span class="token namespace">[root@localhost /]</span><span class="token comment"># mount /dev/hdc6 /mnt/hdc6</span>
<span class="token namespace">[root@localhost /]</span><span class="token comment"># df</span>
Filesystem           1K-blocks      Used Available Use% Mounted on
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>中间省略<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">/</span>dev/hdc6              1976312     42072   1833836   3% <span class="token operator">/</span>mnt/hdc6
</code></pre> 
<p>磁盘卸载命令<code>umount</code>语法：</p> 
<pre><code class="prism language-powershell">umount <span class="token punctuation">[</span><span class="token operator">-</span>fn<span class="token punctuation">]</span> 装置文件名或挂载点
</code></pre> 
<p>选项与参数：</p> 
<ul><li><code>-f ：</code>强制卸除！可用在类似网络文件系统 (NFS) 无法读取到的情况下；</li><li><code>-n ：</code>不升级 /etc/mtab 情况下卸除。</li></ul> 
<p>卸载/dev/hdc6</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># umount /dev/hdc6     </span>
</code></pre> 
<h3><a id="Linux_1555"></a>Linux管道命令</h3> 
<p>Linux的管道命令是’|’，通过它可以对数据进行连续处理，其示意图如下：<br> <img src="https://images2.imgbox.com/da/5d/2WZXZy3M_o.png" alt="在这里插入图片描述"><br> 注意：</p> 
<p>1）管道命令仅处理标准输出，对于标准错误输出，将忽略</p> 
<p>2）管道命令右边命令，必须能够接收标准输入流命令才行，否则传递过程中数据会抛弃。</p> 
<p>常用来作为接收数据管道命令有： less,more,head,tail，而ls, cp, mv就不行。</p> 
<h3><a id="WC___1566"></a>WC - 统计字数</h3> 
<p>可以计算文件的Byte数、字数、或是列数，若不指定文件名称、或是所给予的文件名为"-"，则wc指令会从标准输入设备读取数据。</p> 
<pre><code class="prism language-powershell">wc <span class="token punctuation">[</span><span class="token operator">-</span>lwm<span class="token punctuation">]</span> <span class="token namespace">[filename]</span>
<span class="token operator">-</span>l: 统计行数
<span class="token operator">-</span>w：统计英文单词
<span class="token operator">-</span>m：统计字符数
<span class="token namespace">[root@localhost /]</span><span class="token comment"># wc -l /etc/passwd</span>
49 <span class="token operator">/</span>etc/passwd
<span class="token namespace">[root@localhost /]</span><span class="token comment"># wc -w /etc/passwd</span>
81 <span class="token operator">/</span>etc/passwd
<span class="token namespace">[root@localhost /]</span><span class="token comment"># wc -m /etc/passwd</span>
2696 <span class="token operator">/</span>etc/passwd
</code></pre> 
<p>在默认的情况下，wc将计算指定文件的行数、字数，以及字节数。使用的命令为：</p> 
<pre><code class="prism language-powershell">$ wc testfile           <span class="token comment"># testfile文件的统计信息  </span>
3 92 598 testfile       <span class="token comment"># testfile文件的行数为3、单词数92、字节数598 </span>
</code></pre> 
<p>其中，3 个数字分别表示testfile文件的行数、单词数，以及该文件的字节数。</p> 
<p>如果想同时统计多个文件的信息，例如同时统计testfile、testfile_1、testfile_2，可使用如下命令：</p> 
<pre><code class="prism language-powershell">$ wc testfile testfile_1 testfile_2  <span class="token comment">#统计三个文件的信息  </span>
3 92 598 testfile                    <span class="token comment">#第一个文件行数为3、单词数92、字节数598  </span>
9 18 78 testfile_1                   <span class="token comment">#第二个文件的行数为9、单词数18、字节数78  </span>
3 6 32 testfile_2                    <span class="token comment">#第三个文件的行数为3、单词数6、字节数32  </span>
15 116 708 总用量                    <span class="token comment">#三个文件总共的行数为15、单词数116、字节数708 </span>
</code></pre> 
<h3><a id="cut___1598"></a>cut - 列选取命令</h3> 
<pre><code class="prism language-powershell">选项与参数：
<span class="token operator">-</span>d  ：后面接分隔字符。与 <span class="token operator">-</span>f 一起使用；
<span class="token operator">-</span>f  ：依据 <span class="token operator">-</span>d 的分隔字符将一段信息分割成为数段，用 <span class="token operator">-</span>f 取出第几段的意思；
<span class="token operator">-</span>c  ：以字符 <span class="token punctuation">(</span>characters<span class="token punctuation">)</span> 的单位取出固定字符区间；
</code></pre> 
<p>cut以行为单位，根据分隔符把行分成若干列，这样就可以指定选取哪些列了。</p> 
<pre><code class="prism language-powershell">cut <span class="token operator">-</span>d <span class="token string">'分隔字符'</span> <span class="token operator">-</span>f 选取的列数
<span class="token function">echo</span> <span class="token variable">$PATH</span><span class="token punctuation">|</span>cut <span class="token operator">-</span>d <span class="token string">':'</span> <span class="token operator">-</span>f 2  	<span class="token operator">--</span>选取第2列
<span class="token function">echo</span> <span class="token variable">$PATH</span><span class="token punctuation">|</span>cut <span class="token operator">-</span>d <span class="token string">':'</span> <span class="token operator">-</span>f 3<span class="token punctuation">,</span>5  	<span class="token operator">--</span>选取第3列和第5列
<span class="token function">echo</span> <span class="token variable">$PATH</span><span class="token punctuation">|</span>cut <span class="token operator">-</span>d <span class="token string">':'</span> <span class="token operator">-</span>f 3-5  	<span class="token operator">--</span>选取第3列到第5列
<span class="token function">echo</span> <span class="token variable">$PATH</span><span class="token punctuation">|</span>cut <span class="token operator">-</span>d <span class="token string">':'</span> <span class="token operator">-</span>f 3-   	<span class="token operator">--</span>选取第3列到最后1列
<span class="token function">echo</span> <span class="token variable">$PATH</span><span class="token punctuation">|</span>cut <span class="token operator">-</span>d <span class="token string">':'</span> <span class="token operator">-</span>f 1-3<span class="token punctuation">,</span>5	<span class="token operator">--</span>选取第1到第3列还有第5列
</code></pre> 
<p>只显示/etc/passwd的用户和shell：</p> 
<pre><code class="prism language-powershell"><span class="token comment">#cat /etc/passwd | cut -d ':' -f 1,7 </span>
root:<span class="token operator">/</span>bin/bash
daemon:<span class="token operator">/</span>bin/sh
bin:<span class="token operator">/</span>bin/sh
</code></pre> 
<h3><a id="grep___1624"></a>grep - 行选取命令</h3> 
<p>grep一般格式为：</p> 
<pre><code class="prism language-powershell">grep <span class="token punctuation">[</span><span class="token operator">-</span>cinv<span class="token punctuation">]</span> <span class="token string">'查找的字符串'</span> filename
</code></pre> 
<p>在grep命令中输入字符串参数时，最好引号或双引号括起来。例如：<code>grep 'a' 1.txt</code></p> 
<p>常用选项说明：</p> 
<table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-v</td><td>显示不包含匹配文本的所有行（相当于求反）</td></tr><tr><td>-n</td><td>显示匹配行及行号</td></tr><tr><td>-i</td><td>忽略大小写</td></tr><tr><td>-c</td><td>计算找到的行数</td></tr></tbody></table> 
<p>grep搜索内容串可以是正则表达式，常用正则表达式：</p> 
<table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>^a</td><td>行首,搜寻以 m 开头的行；grep -n ‘^a’ 1.txt</td></tr><tr><td>ke$</td><td>行尾,搜寻以 ke 结束的行；grep -n ‘ke$’ 1.txt</td></tr><tr><td>[Ss]igna[Ll]</td><td>匹配 [] 里中一系列字符中的一个；搜寻匹配单词signal、signaL、Signal、SignaL的行；grep -n ‘[Ss]igna[Ll]’ 1.txt</td></tr><tr><td>.</td><td>匹配一个非换行符的字符；grep -n ‘e.e’ 1.txt可以匹配 eee，eae，eve，但是不匹配 ee，eaae；</td></tr></tbody></table> 
<ul><li>|匹配零个或多个先前字符<br> [^] |匹配一个不在指定范围内的字符<br> (…) |标记匹配字符<br> \ |锚定单词的开始<br> &lt; |锚定单词的开头<br> &gt; |锚定单词的结束<br> x{m} |重复字符x，m次<br> x{m,} |重复字符x,至少m次<br> x{m,n} |重复字符x，至少m次，不多于n次<br> \w |匹配文字和数字字符，也就是[A-Za-z0-9]<br> \b |单词锁定符</li></ul> 
<p>实例：<br> 显示所有以“h”结尾的行</p> 
<pre><code class="prism language-powershell">grep h$
</code></pre> 
<p>匹配所有以“a”开头且以“e”结尾的，中间包含2个字符的单词</p> 
<pre><code class="prism language-powershell">grep ‘&lt;a…e&gt;’
</code></pre> 
<p>显示所有包含一个”y”或”h”字符的行</p> 
<pre><code class="prism language-powershell">grep <span class="token namespace">[yh]</span>
</code></pre> 
<p>显示不包含字母a~k 且后紧跟“pple”的单词</p> 
<pre><code class="prism language-powershell">grep <span class="token punctuation">[</span>^a-k<span class="token punctuation">]</span>pple
</code></pre> 
<p>从系统词典中选择所有以“c”开头且以“o”结尾的单词</p> 
<pre><code class="prism language-powershell">grep <span class="token string">'\&lt;c.*o\&gt;'</span>
</code></pre> 
<p>找出一个文件中或者输出中找到包含*的行</p> 
<pre><code class="prism language-powershell">grep <span class="token string">'\*'</span>
</code></pre> 
<p>显示所有包含每个字符串至少有20个连续字母的单词的行</p> 
<pre><code class="prism language-powershell">grep <span class="token namespace">[a-Z]</span>\<span class="token punctuation">{<!-- --></span>20<span class="token punctuation">,</span>\<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="sort___1701"></a>sort - 排序</h3> 
<p>语法：</p> 
<pre><code class="prism language-powershell"><span class="token function">sort</span> <span class="token punctuation">[</span><span class="token operator">-</span>fbMnrtuk<span class="token punctuation">]</span> <span class="token namespace">[file or stdin]</span>
</code></pre> 
<p>参数说明：</p> 
<ul><li>-f ：忽略大小写的差异，例如 A 与 a 视为编码相同；</li><li>-b ：忽略最前面的空格符部分；</li><li>-M ：以月份的名字来排序，例如 JAN, DEC 等等的排序方法；</li><li>-n ：使用『纯数字』进行排序(默认是以文字型态来排序的)；</li><li>-r ：反向排序；</li><li>-u ：就是 uniq ，相同的数据中，仅出现一行代表；</li><li>-t ：分隔符，默认是用 [tab] 键来分隔；</li><li>-k ：以哪个区间 (field) 来进行排序</li></ul> 
<p>默认是以第一个字符升序排序:</p> 
<pre><code class="prism language-powershell"><span class="token comment"># cat /etc/passwd | sort </span>
adm:x:3:4:adm:<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>adm:<span class="token operator">/</span>sbin/nologin
avahi-autoipd:x:100:156:avahi-autoipd:<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>lib/avahi-autoipd:<span class="token operator">/</span>sbin/nologin
avahi:x:70:70:Avahi daemon:<span class="token operator">/</span>:<span class="token operator">/</span>sbin/nologin
bin:x:1:1:bin:<span class="token operator">/</span>bin:<span class="token operator">/</span>sbin/nologin
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> 
<p>以第3列排序：</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># cat /etc/passwd | sort -t ':' -k 3</span>
root:x:0:0:root:<span class="token operator">/</span>root:<span class="token operator">/</span>bin/bash
uucp:x:10:14:uucp:<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>spool/uucp:<span class="token operator">/</span>sbin/nologin
operator:x:11:0:operator:<span class="token operator">/</span>root:<span class="token operator">/</span>sbin/nologin
bin:x:1:1:bin:<span class="token operator">/</span>bin:<span class="token operator">/</span>sbin/nologin
games:x:12:100:games:<span class="token operator">/</span>usr/games:<span class="token operator">/</span>sbin/nologin
</code></pre> 
<p>使用数字排序：</p> 
<pre><code class="prism language-powershell"><span class="token function">cat</span> <span class="token operator">/</span>etc/passwd <span class="token punctuation">|</span> <span class="token function">sort</span> <span class="token operator">-</span>t <span class="token string">':'</span> <span class="token operator">-</span>k 3n
root:x:0:0:root:<span class="token operator">/</span>root:<span class="token operator">/</span>bin/bash
daemon:x:1:1:daemon:<span class="token operator">/</span>usr/sbin:<span class="token operator">/</span>bin/sh
bin:x:2:2:bin:<span class="token operator">/</span>bin:<span class="token operator">/</span>bin/sh
</code></pre> 
<p>倒序排序：</p> 
<pre><code class="prism language-powershell"><span class="token function">cat</span> <span class="token operator">/</span>etc/passwd <span class="token punctuation">|</span> <span class="token function">sort</span> <span class="token operator">-</span>t <span class="token string">':'</span> <span class="token operator">-</span>k 3nr
nobody:x:65534:65534:nobody:<span class="token operator">/</span>nonexistent:<span class="token operator">/</span>bin/sh
ntp:x:106:113::<span class="token operator">/</span>home/ntp:<span class="token operator">/</span>bin/false
messagebus:x:105:109::<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>run/dbus:<span class="token operator">/</span>bin/false
sshd:x:104:65534::<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>run/sshd:<span class="token operator">/</span>usr/sbin/nologin
或者
<span class="token function">cat</span> <span class="token operator">/</span>etc/passwd <span class="token punctuation">|</span> <span class="token function">sort</span> <span class="token operator">-</span>t <span class="token string">':'</span> <span class="token operator">-</span>k 3 <span class="token operator">-</span>nr
</code></pre> 
<p>先以第六个域的第2个字符到第4个字符进行正向排序，再基于第一个域进行反向排序：</p> 
<pre><code class="prism language-powershell"><span class="token function">cat</span> <span class="token operator">/</span>etc/passwd <span class="token punctuation">|</span>  <span class="token function">sort</span> <span class="token operator">-</span>t <span class="token string">':'</span> <span class="token operator">-</span>k 6<span class="token punctuation">.</span>2<span class="token punctuation">,</span>6<span class="token punctuation">.</span>4 <span class="token operator">-</span>k 1r      
sync:x:4:65534:sync:<span class="token operator">/</span>bin:<span class="token operator">/</span>bin/sync
proxy:x:13:13:proxy:<span class="token operator">/</span>bin:<span class="token operator">/</span>bin/sh
bin:x:2:2:bin:<span class="token operator">/</span>bin:<span class="token operator">/</span>bin/sh
sys:x:3:3:sys:<span class="token operator">/</span>dev:<span class="token operator">/</span>bin/sh
</code></pre> 
<p>查看/etc/passwd有多少个shell:</p> 
<p>方法对/etc/passwd的第七个域排序并去重，然后统计行数：</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># cat /etc/passwd |  sort -t':' -k 7 -u</span>
root:x:0:0:root:<span class="token operator">/</span>root:<span class="token operator">/</span>bin/bash
syslog:x:996:994::<span class="token operator">/</span>home/syslog:<span class="token operator">/</span>bin/false
sync:x:5:0:sync:<span class="token operator">/</span>sbin:<span class="token operator">/</span>bin/sync
halt:x:7:0:halt:<span class="token operator">/</span>sbin:<span class="token operator">/</span>sbin/halt
bin:x:1:1:bin:<span class="token operator">/</span>bin:<span class="token operator">/</span>sbin/nologin
shutdown:x:6:0:shutdown:<span class="token operator">/</span>sbin:<span class="token operator">/</span>sbin/shutdown
<span class="token namespace">[root@localhost /]</span><span class="token comment"># cat /etc/passwd |  sort -t':' -k 7 -u|wc -l</span>
</code></pre> 
<h3><a id="uniq___1784"></a>uniq - 去重</h3> 
<pre><code class="prism language-powershell">选项与参数：
<span class="token operator">-</span>i   ：忽略大小写字符的不同；
<span class="token operator">-</span>c  ：进行计数
<span class="token operator">-</span>u  ：只显示唯一的行
</code></pre> 
<p>该命令用于排完序之后，对排序结果进行去重</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># last | cut -d ' ' -f 1  | sort | uniq</span>

haha
python
reboot
wtmp
<span class="token namespace">[root@localhost /]</span><span class="token comment"># last | cut -d ' ' -f 1  | sort | uniq -c</span>
      1 
      2 haha
     22 python
      7 reboot
      1 wtmp
</code></pre> 
<p>排序文件，默认是去重：</p> 
<pre><code class="prism language-powershell"><span class="token comment">#cat words | sort |uniq</span>
friend
hello
world
</code></pre> 
<p>排序之后删除了重复行，同时在行首位置输出该行重复的次数：</p> 
<pre><code class="prism language-powershell"><span class="token comment">#sort testfile | uniq -c</span>
1 friend
3 hello
2 world
</code></pre> 
<p>仅显示存在重复的行，并在行首显示该行重复的次数：</p> 
<pre><code class="prism language-powershell"><span class="token comment">#sort testfile | uniq -dc</span>
3 hello
2 world
</code></pre> 
<p>仅显示不重复的行：</p> 
<pre><code class="prism language-powershell"><span class="token function">sort</span> testfile <span class="token punctuation">|</span> uniq <span class="token operator">-</span>u
friend
</code></pre> 
<h3><a id="tee___1840"></a>tee - 同时输出多个文件</h3> 
<p>从标准输入设备读取数据，将其内容输出到标准输出设备，同时保存成文件。</p> 
<p>一般情况下用重定向实现，需要同时输出多个文件时可以使用该命令。</p> 
<p>参数：</p> 
<ul><li>-a或–append 　附加到既有文件的后面，而非覆盖它．</li></ul> 
<p>将输出同时保存到多个文件中，同时将输出内容显示到控制台：</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost /]</span><span class="token comment"># echo "hello world"|tee f1 f2 </span>
hello world
<span class="token namespace">[root@localhost /]</span><span class="token comment"># cat f1</span>
hello world
<span class="token namespace">[root@localhost /]</span><span class="token comment"># echo "hello world"|tee f1 f2 -a</span>
hello world
<span class="token namespace">[root@localhost /]</span><span class="token comment"># cat f1</span>
hello world
hello world
</code></pre> 
<h3><a id="split___1863"></a>split - 文件切割</h3> 
<p>split命令用于将一个文件分割成数个。</p> 
<p>该指令将大文件分割成较小的文件，在默认情况下将按照每1000行切割成一个小文件。</p> 
<p>语法：</p> 
<pre><code class="prism language-powershell">split <span class="token punctuation">[</span><span class="token operator">-</span>bl<span class="token punctuation">]</span> file prefix
<span class="token operator">-</span>b: 以大小切割
<span class="token operator">-</span>l：以行数切割
prefix：切割后文件的前缀
</code></pre> 
<p>参数说明：</p> 
<ul><li>-&lt;行数&gt; : 指定每多少行切成一个小文件</li><li>-b&lt;字节&gt; : 指定每多少字节切成一个小文件</li><li>-C&lt;字节&gt; : 与参数"-b"相似，但是在切 割时将尽量维持每行的完整性</li><li>[输出文件名] : 设置切割后文件的前置文件名， split会自动在前置文件名后再加上编号</li></ul> 
<p>使用指令"split"将文件"README"每6行切割成一个文件，输入如下命令：</p> 
<pre><code class="prism language-powershell">$ split <span class="token operator">-</span>6 README       <span class="token comment">#将README文件每六行分割成一个文件 </span>
$ <span class="token function">ls</span>                                <span class="token comment">#执行ls指令  </span>
<span class="token comment">#获得当前目录结构</span>
README xaa xad xag xab xae xah xac xaf xai
</code></pre> 
<p>以上命令执行后，指令"split"会将原来的大文件"README"切割成多个以"x"开头的小文件。而在这些小文件中，每个文件都只有6行内容。</p> 
<p>以大小切割：</p> 
<pre><code class="prism language-powershell">$ <span class="token function">ls</span> <span class="token operator">-</span>lh disease<span class="token punctuation">.</span>dmp
<span class="token operator">-</span>rwxr-xr-x 1 root root 122M Jul  4  2013 disease<span class="token punctuation">.</span>dmp
$ split <span class="token operator">-</span>b 50m disease<span class="token punctuation">.</span>dmp disease<span class="token punctuation">.</span>dmp
$ <span class="token function">ls</span> <span class="token operator">-</span>lh disease<span class="token punctuation">.</span>dmp*
<span class="token operator">-</span>rwxr-xr-x 1 root root 122M Jul  4  2013 disease<span class="token punctuation">.</span>dmp
<span class="token operator">-</span>rw-r-<span class="token operator">-</span>r-<span class="token operator">-</span> 1 root root  50M Jan  9 16:10 disease<span class="token punctuation">.</span>dmpaa
<span class="token operator">-</span>rw-r-<span class="token operator">-</span>r-<span class="token operator">-</span> 1 root root  50M Jan  9 16:10 disease<span class="token punctuation">.</span>dmpab
<span class="token operator">-</span>rw-r-<span class="token operator">-</span>r-<span class="token operator">-</span> 1 root root  22M Jan  9 16:10 disease<span class="token punctuation">.</span>dmpac
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/536b9d086d60e1f8627d28c431c8df2b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">当我们使用element-ui，el-button里面的@click事件不生效</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b58af15f4ada9d31031419b45f4b400c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">0基础学Linux-从小白到大牛（4）Linux命令大全</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>