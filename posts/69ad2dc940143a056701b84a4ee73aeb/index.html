<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>关于android中  TextView   EditText  中的一些文本效果的实现i - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="关于android中  TextView   EditText  中的一些文本效果的实现i" />
<meta property="og:description" content="没事干总结了一些 平常经常需要用到的 文件显示的东西 一些东西，后面还会陆续补充的 - -
TextView text0= (TextView) this.findViewById(R.id.text0); TextView text1= (TextView) this.findViewById(R.id.text1); TextView text2= (TextView) this.findViewById(R.id.text2); TextView text3= (TextView) this.findViewById(R.id.text3); TextView text4= (TextView) this.findViewById(R.id.text4); EditText edittext5= (EditText) this.findViewById(R.id.text5); TextView text6= (TextView) this.findViewById(R.id.text6); TextView text7= (TextView) this.findViewById(R.id.text7); String s =&#34;甘家寨的8排裤带面太好吃了，我和我的小伙伴们惊呆了！&#34;;	// u-underline i -italic b - bold text0.setText(Html.fromHtml(&#34;&lt;u&gt;&#34;&#43;s&#43;&#34;&lt;/u&gt;&#34;)); //下面有下标 text1.setText(Html.fromHtml(&#34;&lt;b&gt;&#34;&#43;s&#43;&#34;&lt;/b&gt;&#34;)); //粗体 text2.setText(Html.fromHtml(&#34;&lt;i&gt;&#34;&#43;s&#43;&#34;&lt;/i&gt;&#34;)); //斜体 text3.setText(Html.fromHtml(&#34;&lt;a href=\&#39;http://www.google.com\&#39;&gt;&#34;&#43; s &#43;&#34;&lt;/a&gt;&#34; )); //超连接 //如果要在 Strings 里面直接设置的话 需要转义	//例如 //&lt;resources&gt; //&lt;string name=&#34;welcome_messages&#34;&gt;Hello, %1$s! You have &lt;b&gt;%2$d new messages&lt;/b&gt;." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/69ad2dc940143a056701b84a4ee73aeb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2013-09-27T14:27:00+08:00" />
<meta property="article:modified_time" content="2013-09-27T14:27:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">关于android中  TextView   EditText  中的一些文本效果的实现i</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span style="font-family:SimSun;font-size:12px;"><span style="line-height:25px;">没事干总结了一些 平常经常需要用到的 文件显示的东西 一些东西，后面还会陆续补充的 - -</span></span></p> 
<p><span style="font-family:SimSun;font-size:12px;"><span style="line-height:25px;"><br></span></span></p> 
<p><span style="font-family:SimSun;font-size:12px;"><span style="line-height:25px;"><img src="https://images2.imgbox.com/bc/f0/fF8IpQst_o.jpg" alt=""><br></span></span></p> 
<p><span style="font-family:SimSun;font-size:12px;line-height:25px;"></span></p> 
<pre><code class="language-java">TextView  text0= (TextView) this.findViewById(R.id.text0);
		TextView  text1= (TextView) this.findViewById(R.id.text1);
		TextView  text2= (TextView) this.findViewById(R.id.text2);
		TextView  text3= (TextView) this.findViewById(R.id.text3);
		TextView  text4= (TextView) this.findViewById(R.id.text4);
		EditText  edittext5= (EditText) this.findViewById(R.id.text5);
		TextView  text6= (TextView) this.findViewById(R.id.text6);
		TextView  text7= (TextView) this.findViewById(R.id.text7);
		
		String s ="甘家寨的8排裤带面太好吃了，我和我的小伙伴们惊呆了！";		
		// u-underline i -italic b - bold
		text0.setText(Html.fromHtml("&lt;u&gt;"+s+"&lt;/u&gt;"));   //下面有下标
		text1.setText(Html.fromHtml("&lt;b&gt;"+s+"&lt;/b&gt;"));   //粗体
		text2.setText(Html.fromHtml("&lt;i&gt;"+s+"&lt;/i&gt;"));   //斜体
		text3.setText(Html.fromHtml("&lt;a href=\'http://www.google.com\'&gt;"+ s +"&lt;/a&gt;" )); //超连接

		//如果要在 Strings 里面直接设置的话  需要转义	
		//例如
		//&lt;resources&gt;
	    //&lt;string name="welcome_messages"&gt;Hello, %1$s! You have &lt;b&gt;%2$d new messages&lt;/b&gt;.&lt;/string&gt;
	    //&lt;/resources&gt;
		//因为fromHtml(String)方法会格式化所有的HTML内容，所以要确保用htmlEncode(String)对带格式化文本的字符串内所有可能的HTML字符进行转义。
		//比如，如果要把可能包含诸如“&lt;”或“&amp;”等字符的串作为参数传给String.format()，那么必须在格式化之前对这些字符进行转义。格式化后，再把字符串传入fromHtml(String)，这些特殊字符就能还原成本来意义了。例如：
		//String escapedUsername = TextUtil.htmlEncode(username)
		//Resources res = getResources();
		//String text = String.format(res.getString(R.string.welcome_messages), escapedUsername,mailCount);
		//CharSequence styledText = Html.fromHtml(text);

     
		/**
		 * ***********************  text4    text 5 ***************************************
		 */
		
		//Spannable -（翻译 ：生成） 
        SpannableString ss = new SpannableString( "绿色打电话粗体删除线红色下划线图片:.斜体背景阴影");                   
        
        //字体颜色
        ss.setSpan(new ForegroundColorSpan(Color.GREEN), 0, 2, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
       
        //电话- 链接
        ss.setSpan(new URLSpan("tel:4155551212"), 2, 5,Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
        
        //粗体
        ss.setSpan(new StyleSpan(Typeface.BOLD), 5, 7, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
        
        //删除线
        ss.setSpan(new StrikethroughSpan(), 7, 10,Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);

        //红色下划线
        ss.setSpan(new UnderlineSpan(), 10, 16,Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
        ss.setSpan(new ForegroundColorSpan(Color.RED), 10, 15, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
       
        //设置图片
        Drawable d = getResources().getDrawable(R.drawable.ic_launcher); 
        d.setBounds(0, 0, d.getIntrinsicWidth(), d.getIntrinsicHeight()); 
        ImageSpan span = new ImageSpan(d, ImageSpan.ALIGN_BASELINE); 
        ss.setSpan(span, 18, 19, Spannable.SPAN_INCLUSIVE_EXCLUSIVE);      //放入图片

        //斜体
        ss.setSpan(new StyleSpan(Typeface.ITALIC), 19, 21, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
        //背景阴影
        ss.setSpan(new BackgroundColorSpan(Color.YELLOW), 21, 25, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
        
        
        //text 和  EditText 同样适用
        text4.setText(ss);
        text4.setMovementMethod( LinkMovementMethod.getInstance());
        
        edittext5.setText(ss);
        edittext5.setMovementMethod( LinkMovementMethod.getInstance());
        edittext5.setBackgroundResource(android.R.drawable.editbox_background_normal);

        
        
        /** Text6 的阴影效果
         * 
         * 	android:textSize="28sp"
			android:textStyle="bold"
			android:textColor="#FFFFFF"
			android:shadowColor="#ff000000"   //阴影颜色 
			android:shadowDx="2"             //阴影x偏移量
			android:shadowDy="2"             //Y偏移量
			android:shadowRadius="1"/&gt;       //阴影的范围
         --------------------------------------------------------
			或者设置 style
	    &lt;resources&gt;  
	         &lt;style name="StyleBarTitle"&gt;
		     &lt;item name="android:layout_gravity"&gt;center_vertical&lt;/item&gt;
		     &lt;item name="android:layout_width"&gt;0dp&lt;/item&gt;
		     &lt;item name="android:layout_height"&gt;wrap_content&lt;/item&gt;
		     &lt;item name="android:layout_weight"&gt;1&lt;/item&gt;
		     &lt;item name="android:gravity"&gt;center_horizontal&lt;/item&gt;
		     &lt;item name="android:textSize"&gt;@dimen/text_size_vlarge&lt;/item&gt;
		     &lt;item name="android:textStyle"&gt;bold&lt;/item&gt;
		     &lt;item name="android:textColor"&gt;#FFFFFF&lt;/item&gt;
		     &lt;item name="android:shadowColor"&gt;#ff000000&lt;/item&gt;
		     &lt;item name="android:shadowDx"&gt;2&lt;/item&gt;
		     &lt;item name="android:shadowDy"&gt;2&lt;/item&gt;
		     &lt;item name="android:shadowRadius"&gt;1&lt;/item&gt;
		     &lt;item name="android:background"&gt;@null&lt;/item&gt;
             &lt;/style&gt;
        &lt;/resources&gt;
        
         */</code></pre> 
<br> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;">我们知道要让TextView解析和显示Html代码。可以使用</span> 
<p></p> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;">Spanned text = Html.fromHtml(source);</span> 
<br style="font-family:SimSun;font-size:12px;line-height:25px;"> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;">tv.setText(text);</span> 
<br style="font-family:SimSun;font-size:12px;line-height:25px;"> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;">来实现，这个用起来简单方便。</span> 
<br style="font-family:SimSun;font-size:12px;line-height:25px;"> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;">但是，怎样让TextView也显示Html中</span> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;">节点的图像呢？</span> 
<br style="font-family:SimSun;font-size:12px;line-height:25px;"> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;">我们可以看到fromHtml还有另一个重构：</span> 
<br style="font-family:SimSun;font-size:12px;line-height:25px;"> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;"><span style="color:#ff6666;">fromHtml(String source, Html.ImageGetter imageGetter, Html.TagHandler tagHandler)</span></span> 
<br style="font-family:SimSun;font-size:12px;line-height:25px;"> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;">实现一下ImageGetter就可以让图片显示了：</span> 
<br style="font-family:SimSun;font-size:12px;line-height:25px;"> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;">ImageGetter imgGetter = new Html.ImageGetter() {<!-- --></span> 
<br style="font-family:SimSun;font-size:12px;line-height:25px;"> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;"> @Override</span> 
<br style="font-family:SimSun;font-size:12px;line-height:25px;"> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;"> public Drawable getDrawable(String source) {<!-- --></span> 
<br style="font-family:SimSun;font-size:12px;line-height:25px;"> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;"> Drawable drawable = null;</span> 
<br style="font-family:SimSun;font-size:12px;line-height:25px;"> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;"> drawable = Drawable.createFromPath(source); // Or fetch it from the URL</span> 
<br style="font-family:SimSun;font-size:12px;line-height:25px;"> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;"> // Important</span> 
<br style="font-family:SimSun;font-size:12px;line-height:25px;"> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;"> drawable.setBounds(0, 0, drawable.getIntrinsicWidth(), drawable</span> 
<br style="font-family:SimSun;font-size:12px;line-height:25px;"> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;"> .getIntrinsicHeight());</span> 
<br style="font-family:SimSun;font-size:12px;line-height:25px;"> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;"> return drawable;</span> 
<br style="font-family:SimSun;font-size:12px;line-height:25px;"> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;"> }</span> 
<br style="font-family:SimSun;font-size:12px;line-height:25px;"> 
<span style="font-family:SimSun;font-size:12px;line-height:25px;">};</span> 
<br style="font-family:SimSun;font-size:12px;line-height:25px;"> 
<p><span style="font-family:SimSun;font-size:12px;line-height:25px;">至于TagHandler，我们这里不需要使用，可以直接传null。</span></p> 
<p><span style="font-family:SimSun;font-size:12px;line-height:25px;"><br></span></p> 
<p><span style="font-family:SimSun;font-size:12px;line-height:25px;"><br></span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9bb4b7af0cef62ff73a2ba1c2b1ca722/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">BUG: scheduling while atomic 分析</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/848c376e057247c28ad42649b311a515/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ArcEngine对栅格图像进行分级渲染</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>