<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>UUID的定义以及作用 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="UUID的定义以及作用" />
<meta property="og:description" content="UUID含义是通用唯一识别码 (Universally Unique Identifier)，这 是一个软件建构的标准，也是被开源软件基金会 (Open Software Foundation, OSF) 的组织应用在分布式计算环境 (Distributed Computing Environment, DCE) 领域的重要部分。
作用：
UUID 的目的是让分布式系统中的所有元素，都能有唯一的辨识资讯，而不需要透过中央控制端来做辨识资讯的指定。如此一来，每个人都可以建立不与其它人冲突的 UUID。在这样的情况下，就不需考虑数据库建立时的名称重复问题。目前最广泛应用的 UUID，即是微软的 Microsoft&#39;s Globally Unique Identifiers (GUIDs)，而其他重要的应用，则有 Linux ext2/ext3 档案系统、LUKS 加密分割区、GNOME、KDE、Mac OS X 等等。
组成：
UUID是指在一台机器上生成的数字，它保证对在同一时空中的所有机器都是唯一的。通常平台会提供生成的API。按照开放软件基金会(OSF)制定的标准计算，用到了以太网卡地址、纳秒级时间、芯片ID码和许多可能的数字
UUID由以下几部分的组合：
（1）当前日期和时间，UUID的第一个部分与时间有关，如果你在生成一个UUID之后，过几秒又生成一个UUID，则第一个部分不同，其余相同。
（2）时钟序列。
（3）全局唯一的IEEE机器识别号，如果有网卡，从网卡MAC地址获得，没有网卡以其他方式获得。
UUID的唯一缺陷在于生成的结果串会比较长。关于UUID这个标准使用最普遍的是微软的GUID(Globals Unique Identifiers)。在ColdFusion中可以用CreateUUID()函数很简单地生成UUID，其格式为：xxxxxxxx-xxxx- xxxx-xxxxxxxxxxxxxxxx(8-4-4-16)，其中每个 x 是 0-9 或 a-f 范围内的一个十六进制的数字。而标准的UUID格式为：xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx (8-4-4-4-12)，可以从cflib 下载CreateGUID() UDF进行转换。
应用：
使用UUID的好处在分布式的软件系统中（比如：DCE/RPC, COM&#43;,CORBA）就能体现出来，它能保证每个节点所生成的标识都不会重复，并且随着WEB服务等整合技术的发展，UUID的优势将更加明显。根据使用的特定机制，UUID不仅需要保证是彼此不相同的，或者最少也是与公元3400年之前其他任何生成的通用唯一标识符有非常大的区别。UUID最少在3000&#43;年内不会重复。
通用唯一标识符还可以用来指向大多数的可能的物体。微软和其他一些软件公司都倾向使用全球唯一标识符（GUID），这也是通用唯一标识符的一种类型，可用来指向组建对象模块对象和其他的软件组件。第一个通用唯一标识符是在网络计算机系统（NCS）中创建，并且随后成为开放软件基金会（OSF）的分布式计算环境（DCE）的组件。
代码：
C#
1
2
3
4
5
6
7
8
9
10
11
using System;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/24459b258535bc71ca00d07d25218c5a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-03-25T17:22:29+08:00" />
<meta property="article:modified_time" content="2019-03-25T17:22:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">UUID的定义以及作用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>UUID含义是通用唯一识别码 (Universally Unique Identifier)，这 是一个软件建构的标准，也是被<a href="http://baike.baidu.com/item/%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6" rel="nofollow">开源软件</a>基金会 (Open Software Foundation, OSF) 的组织应用在<a href="http://baike.baidu.com/item/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%A1%E7%AE%97%E7%8E%AF%E5%A2%83" rel="nofollow">分布式计算环境</a> (Distributed Computing Environment, DCE) 领域的重要部分。</p> 
<p>作用：</p> 
<p>UUID 的目的是让<a href="http://baike.baidu.com/item/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F" rel="nofollow">分布式系统</a>中的所有元素，都能有唯一的辨识资讯，而不需要透过中央控制端来做辨识资讯的指定。如此一来，每个人都可以建立不与其它人冲突的 UUID。在这样的情况下，就不需考虑数据库建立时的名称重复问题。目前最广泛应用的 UUID，即是微软的 Microsoft's Globally Unique Identifiers (GUIDs)，而其他重要的应用，则有 Linux ext2/ext3 档案系统、LUKS 加密分割区、GNOME、KDE、Mac OS X 等等。</p> 
<p>组成：</p> 
<p>UUID是指在一台机器上生成的数字，它保证对在同一时空中的所有机器都是唯一的。通常平台会提供生成的API。按照<a href="http://baike.baidu.com/item/%E5%BC%80%E6%94%BE%E8%BD%AF%E4%BB%B6%E5%9F%BA%E9%87%91%E4%BC%9A" rel="nofollow">开放软件基金会</a>(OSF)制定的标准计算，用到了以太网卡地址、纳秒级时间、芯片ID码和许多可能的数字</p> 
<p>UUID由以下几部分的组合：</p> 
<p>（1）当前日期和时间，UUID的第一个部分与时间有关，如果你在生成一个UUID之后，过几秒又生成一个UUID，则第一个部分不同，其余相同。</p> 
<p>（2）时钟序列。</p> 
<p>（3）全局唯一的IEEE机器识别号，如果有网卡，从网卡MAC地址获得，没有网卡以其他方式获得。</p> 
<p>UUID的唯一缺陷在于生成的结果串会比较长。关于UUID这个标准使用最普遍的是微软的GUID(Globals Unique Identifiers)。在ColdFusion中可以用CreateUUID()函数很简单地生成UUID，其格式为：xxxxxxxx-xxxx- xxxx-xxxxxxxxxxxxxxxx(8-4-4-16)，其中每个 x 是 0-9 或 a-f 范围内的一个十六进制的数字。而标准的UUID格式为：xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx (8-4-4-4-12)，可以从cflib 下载CreateGUID() UDF进行转换。</p> 
<p> </p> 
<p>应用：</p> 
<p>使用UUID的好处在分布式的软件系统中（比如：DCE/RPC, COM+,CORBA）就能体现出来，它能保证每个节点所生成的标识都不会重复，并且随着WEB服务等整合技术的发展，UUID的优势将更加明显。根据使用的特定机制，UUID不仅需要保证是彼此不相同的，或者最少也是与公元3400年之前其他任何生成的通用唯一<a href="http://baike.baidu.com/item/%E6%A0%87%E8%AF%86%E7%AC%A6" rel="nofollow">标识符</a>有非常大的区别。UUID最少在3000+年内不会重复。</p> 
<p>通用唯一标识符还可以用来指向大多数的可能的物体。微软和其他一些软件公司都倾向使用全球唯一标识符（GUID），这也是通用唯一标识符的一种类型，可用来指向组建对象模块对象和其他的<a href="http://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E7%BB%84%E4%BB%B6" rel="nofollow">软件组件</a>。第一个通用唯一标识符是在网络计算机系统（NCS）中创建，并且随后成为<a href="http://baike.baidu.com/item/%E5%BC%80%E6%94%BE%E8%BD%AF%E4%BB%B6%E5%9F%BA%E9%87%91%E4%BC%9A" rel="nofollow">开放软件基金会</a>（OSF）的<a href="http://baike.baidu.com/item/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%A1%E7%AE%97%E7%8E%AF%E5%A2%83" rel="nofollow">分布式计算环境</a>（DCE）的组件。</p> 
<p> </p> 
<p>代码：</p> 
<p> </p> 
<p>C#</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> </td><td> <p><code>using</code> <code>System;</code></p> <p><code>namespace</code> <code>Demo{<!-- --></code></p> <p><code>    </code><code>public</code> <code>class</code> <code>Test</code></p> <p><code>    </code><code>{<!-- --></code></p> <p><code>        </code><code>public</code> <code>static</code> <code>void</code> <code>Main()</code></p> <p><code>        </code><code>{<!-- --></code></p> <p><code>            </code><code>Guid guid=Guid.NewGuid();</code></p> <p><code>            </code><code>Console.WriteLine(guid);</code></p> <p><code>        </code><code>}</code></p> <p><code>    </code><code>}</code></p> <p><code>}</code></p> </td></tr></tbody></table> 
<p>Java</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> </td><td> <p><code>package</code> <code>com.mytest;</code></p> <p><code>import</code> <code>java.util.UUID;</code></p> <p><code>public</code> <code>class</code> <code>UTest {<!-- --></code></p> <p><code>    </code><code>public</code> <code>static</code> <code>void</code> <code>main(String[] args) {<!-- --></code></p> <p><code>        </code><code>UUID uuid = UUID.randomUUID();</code></p> <p><code>        </code><code>System.out.println(uuid);</code></p> <p><code>}}</code></p> </td></tr></tbody></table> 
<p>Go</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> </td><td> <p><code>import</code><code>(</code></p> <p><code>    </code><code>"github.com/nu7hatch/gouuid"</code></p> <p><code>    </code><code>"fmt"</code></p> <p><code>) </code></p> <p> </p> <p><code>func main(){<!-- --></code></p> <p><code>    </code><code>fmt</code><code>.Println(uuid.NewV4().String())</code></p> <p><code>}</code></p> </td></tr></tbody></table> 
<p> </p> 
<p> </p> 
<p>其他版本的介绍，组合在一起加深理解<br><br> 什么是UUID？<br><br> UUID是Universally Unique Identifier的缩写，它是在一定的范围内（从特定的名字空间到全球）唯一的机器生成的标识符。UUID具有以下涵义：<br>  </p> 
<ul><li>经由一定的算法机器生成</li></ul> 
<p>为了保证UUID的唯一性，规范定义了包括网卡MAC地址、时间戳、名字空间（Namespace）、随机或伪随机数、时序等元素，以及从这些元素生成UUID的算法。UUID的复杂特性在保证了其唯一性的同时，意味着只能由计算机生成。</p> 
<ul><li>非人工指定，非人工识别</li></ul> 
<p>UUID是不能人工指定的，除非你冒着UUID重复的风险。UUID的复杂性决定了“一般人“不能直接从一个UUID知道哪个对象和它关联。</p> 
<ul><li>在特定的范围内重复的可能性极小</li></ul> 
<p>UUID的生成规范定义的算法主要目的就是要保证其唯一性。但这个唯一性是有限的，只在特定的范围内才能得到保证，这和UUID的类型有关（参见UUID的版本）。<br><br> UUID是16字节128位长的数字，通常以36字节的字符串表示，示例如下：<br><br> 3F2504E0-4F89-11D3-9A0C-0305E82C3301<br><br> 其中的字母是16进制表示，大小写无关。<br><br> GUID（Globally Unique Identifier）是UUID的别名；但在实际应用中，GUID通常是指微软实现的UUID。<br><br> UUID的版本<br><br> UUID具有多个版本，每个版本的算法不同，应用范围也不同。<br><br> 首先是一个特例－－Nil UUID－－通常我们不会用到它，它是由全为0的数字组成，如下：<br><br> 00000000-0000-0000-0000-000000000000<br><br> UUID Version 1：基于时间的UUID<br><br> 基于时间的UUID通过计算当前时间戳、随机数和机器MAC地址得到。由于在算法中使用了MAC地址，这个版本的UUID可以保证在全球范围的唯一性。但与此同时，使用MAC地址会带来安全性问题，这就是这个版本UUID受到批评的地方。如果应用只是在局域网中使用，也可以使用退化的算法，以IP地址来代替MAC地址－－Java的UUID往往是这样实现的（当然也考虑了获取MAC的难度）。<br><br> UUID Version 2：DCE安全的UUID<br><br> DCE（Distributed Computing Environment）安全的UUID和基于时间的UUID算法相同，但会把时间戳的前4位置换为POSIX的UID或GID。这个版本的UUID在实际中较少用到。<br><br> UUID Version 3：基于名字的UUID（MD5）<br><br> 基于名字的UUID通过计算名字和名字空间的MD5散列值得到。这个版本的UUID保证了：相同名字空间中不同名字生成的UUID的唯一性；不同名字空间中的UUID的唯一性；相同名字空间中相同名字的UUID重复生成是相同的。<br><br> UUID Version 4：随机UUID<br><br> 根据随机数，或者伪随机数生成UUID。这种UUID产生重复的概率是可以计算出来的，但随机的东西就像是买彩票：你指望它发财是不可能的，但狗屎运通常会在不经意中到来。<br><br> UUID Version 5：基于名字的UUID（SHA1）<br><br> 和版本3的UUID算法类似，只是散列值计算使用SHA1（<strong>Secure Hash Algorithm 1</strong>）算法。<br><br> UUID的应用<br><br> 从UUID的不同版本可以看出，Version 1/2适合应用于分布式计算环境下，具有高度的唯一性；Version 3/5适合于一定范围内名字唯一，且需要或可能会重复生成UUID的环境下；至于Version 4，我个人的建议是最好不用（虽然它是最简单最方便的）。<br><br> 通常我们建议使用UUID来标识对象或持久化数据，但以下情况最好不使用UUID：<br>  </p> 
<ul><li>映射类型的对象。比如只有代码及名称的代码表。</li><li>人工维护的非系统生成对象。比如系统中的部分基础数据。</li></ul> 
<p>对于具有名称不可重复的自然特性的对象，最好使用Version 3/5的UUID。比如系统中的用户。如果用户的UUID是Version 1的，如果你不小心删除了再重建用户，你会发现人还是那个人，用户已经不是那个用户了。（虽然标记为删除状态也是一种解决方案，但会带来实现上的复杂性。）<br><br> UUID生成器<br><br> 我没想着有人看完了这篇文章就去自己实现一个UUID生成器，所以前面的内容并不涉及算法的细节。下面是一些可用的Java UUID生成器：<br>  </p> 
<ul><li>Java UUID Generator (JUG)：开源UUID生成器，LGPL协议，支持MAC地址。</li><li><a href="http://johannburkard.de/blog/programming/java/Java-UUID-generators-compared.html" rel="nofollow">UUID</a>：特殊的License，有源码。</li><li>Java 5以上版本中自带的UUID生成器：好像只能生成Version 3/4的UUID。</li></ul> 
<p>此外，Hibernate中也有一个UUID生成器，但是，生成的不是任何一个（规范）版本的UUID，强烈不建议使用。</p> 
<p> </p> 
<p>【References】</p> 
<p>[1] 百度百科（http://baike.baidu.com/item/UUID）</p> 
<p>[2] http://www.blogjava.net/feelyou/archive/2008/10/14/234320.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/92a7454ddfbecfddbb7eecefcffa3e6a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">老生常谈之Flux与Redux思想</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b1643cfd53d7fdc1af062dd57577b0e3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">洛谷P1072 Hankson 的趣味题（题解）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>