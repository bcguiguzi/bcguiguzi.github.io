<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Modelsim 软件使用方法 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Modelsim 软件使用方法" />
<meta property="og:description" content="一、建立工程 1、在建立工程(project) 前，先建立一个工作库( library),一般将这个library命名为 work。尤其是第一次运 行modelsim时，是没有这个“work”的。但我们的project 一般都是在这个work下面工作的，所以有必要先建立这个work。 File&gt; new- &gt; library 点击 library 后会弹出一个对话框，问是否要创建 work ，点击 OK 。就能看见 work. 2 、 如果在 library 中有 work ，就不必执行上一步骤了，直接新建工程。 File-&gt; new-&gt; project 会弹出 在 Project Name 中写入工程的名字，这里我们写一个二分频器，所以命名 half_clk, 然后点击 OK 。 会出现 由于我们是要仿一个自己写的程序，所以这里我们选择Create New File。
在 File Name 中写入文件名（这里的 file name 和刚刚建立的 project name 可以一致也可以不 一致）。注意 Add file as type 要选择成 Verilog （默认的是 VHDL ），然后 OK。 发现屏幕中间的那个对话框没有自己消失，我们需要手动关闭它，点 close 。 并且在 project 中出现了一个 half_clk." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/80bb6de34ad66665c329a4bd7ad4d0a7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-28T16:48:57+08:00" />
<meta property="article:modified_time" content="2024-01-28T16:48:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Modelsim 软件使用方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div> 
 <strong>一、建立工程</strong> 
 <br> 1、在建立工程(project) 前，先建立一个工作库( library),一般将这个library命名为 
 <br> work。尤其是第一次运 行modelsim时，是没有这个“work”的。但我们的project 
 <br> 一般都是在这个work下面工作的，所以有必要先建立这个work。 
 <br> File&gt; new- &gt; library 
</div> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="496" src="https://images2.imgbox.com/42/c5/S3BKawhr_o.png" width="821"></p> 
<div> 
 <span style="color:#000000;">点击 </span> 
 <span style="color:#000000;">library </span> 
 <span style="color:#000000;">后会弹出一个对话框，问是否要创建 </span> 
 <span style="color:#000000;">work</span> 
 <span style="color:#000000;">，点击 </span> 
 <span style="color:#000000;">OK</span> 
 <span style="color:#000000;">。就能看见 </span> 
 <span style="color:#000000;">work.</span> 
</div> 
<div></div> 
<div> 
 <img alt="" height="468" src="https://images2.imgbox.com/7a/c7/a0tSmyA7_o.png" width="817"> 
</div> 
<div> 
 <div> 
  <span style="color:#000000;">2</span> 
  <span style="color:#000000;">、 如果在 </span> 
  <span style="color:#000000;">library </span> 
  <span style="color:#000000;">中有 </span> 
  <span style="color:#000000;">work</span> 
  <span style="color:#000000;">，就不必执行上一步骤了，直接新建工程。 </span> 
 </div> 
 <div> 
  <span style="color:#000000;">File-&gt;</span> 
  <span style="color:#000000;">new-&gt;</span> 
  <span style="color:#000000;">project </span> 
 </div> 
 <div> 
  <img alt="" height="397" src="https://images2.imgbox.com/5d/99/PgkwnC4F_o.png" width="804"> 
 </div> 
 <div> 
  <div> 
   <span style="color:#000000;">会弹出</span> 
  </div> 
  <div> 
   <p class="img-center"><img alt="" height="416" src="https://images2.imgbox.com/ed/90/YAt6Ufwd_o.png" width="500"></p> 
   <div> 
    <span style="color:#000000;">在 </span> 
    <span style="color:#000000;">Project Name </span> 
    <span style="color:#000000;">中写入工程的名字，这里我们写一个二分频器，所以命名 </span> 
    <span style="color:#000000;">half_clk,</span> 
    <span style="color:#000000;">然后点击 </span> 
   </div> 
   <div> 
    <span style="color:#000000;">OK</span> 
    <span style="color:#000000;">。 会出现</span> 
   </div> 
   <div> 
    <p class="img-center"><img alt="" height="311" src="https://images2.imgbox.com/c1/6e/PFTDFYf4_o.png" width="371"></p> 
    <p>        </p> 
    <p>由于我们是要仿一个自己写的程序，所以这里我们选择Create New File。</p> 
    <p class="img-center"><img alt="" height="216" src="https://images2.imgbox.com/d8/07/Tmk8iru6_o.png" width="582"></p> 
    <div> 
     <span style="color:#000000;">在 </span> 
     <span style="color:#000000;">File Name </span> 
     <span style="color:#000000;">中写入文件名（这里的 </span> 
     <span style="color:#000000;">file name </span> 
     <span style="color:#000000;">和刚刚建立的 </span> 
     <span style="color:#000000;">project name </span> 
     <span style="color:#000000;">可以一致也可以不 </span> 
    </div> 
    <div> 
     <span style="color:#000000;">一致）。注意 </span> 
     <span style="color:#000000;">Add file as type </span> 
     <span style="color:#000000;">要选择成 </span> 
     <span style="color:#000000;">Verilog</span> 
     <span style="color:#000000;">（默认的是 </span> 
     <span style="color:#000000;">VHDL</span> 
     <span style="color:#000000;">），然后 OK。 </span> 
     <img alt="" height="429" src="https://images2.imgbox.com/48/1b/6Z2k481Z_o.png" width="862"> 
    </div> 
    <div> 
     <div> 
      <span style="color:#000000;">发现屏幕中间的那个对话框没有自己消失，我们需要手动关闭它，点 </span> 
      <span style="color:#000000;">close</span> 
      <span style="color:#000000;">。 </span> 
     </div> 
     <div> 
      <span style="color:#000000;">并且在 </span> 
      <span style="color:#000000;">project </span> 
      <span style="color:#000000;">中出现了一个 </span> 
      <span style="color:#000000;">half_clk.V </span> 
      <span style="color:#000000;">的文件，这个就是我们刚刚新建的那个 </span> 
      <span style="color:#000000;">file。这样工程就建立完毕了。 </span> 
     </div> 
     <div></div> 
     <div> 
      <strong>二、写代码:</strong> 
      <div> 
       <span style="color:#000000;">1</span> 
       <span style="color:#000000;">、 </span> 
      </div> 
      <div> 
       <span style="color:#000000;">写主程序：双击 </span> 
       <span style="color:#000000;">half_clk.v </span> 
       <span style="color:#000000;">文件会出现程序编辑区，在这个区间里写好自己 </span> 
      </div> 
      <div> 
       <p><span style="color:#000000;">的程序，这里我们写一个简单的二分频的代码： </span></p> 
       <pre><code class="language-cpp">module half_clk_dai(
clk_in,
rst,
clk_out
);

input clk_in;
input rst;
output clk_out;
reg clk_out;
always @(posedge clk_in or negedge rst)
begin
if(!rst)
clk_out&lt;=0;
else
clk_out&lt;=~clk_out;
end

endmodule</code></pre> 
       <div></div> 
       <div> 
        <img alt="" height="435" src="https://images2.imgbox.com/f6/8f/ENzAHV6B_o.png" width="868"> 
       </div> 
       <div></div> 
       <div> 
        <div> 
         <span style="color:#000000;">写完代码后，不能马上就编译，要先保存，否则，编译无效。我们会看到“保存”的 </span> 
        </div> 
        <div> 
         <span style="color:#000000;">图标是两色的，而且 </span> 
         <span style="color:#000000;">half_clk.v </span> 
         <span style="color:#000000;">后的“？”还存在，这说明你没有保存文件， </span> 
        </div> 
        <div></div> 
        <div> 
         <img alt="" height="319" src="https://images2.imgbox.com/c9/b9/Euh3Q5q3_o.png" width="829"> 
        </div> 
        <div></div> 
        <div> 
         <div> 
          <span style="color:#000000;">这时，只需要点击保存，就会发现“保存”的图标变成了阴影，这样编译才有效，而 就是这么不起眼但至关重要的一步“保存”，往往被很多初学者忽视，最终怀疑程序和软件问题。其实只是没保存。</span> 
         </div> 
         <div></div> 
         <div> 
          <img alt="" height="317" src="https://images2.imgbox.com/a8/31/7Do3fI70_o.png" width="824"> 
         </div> 
         <div></div> 
         <div> 
          <div> 
           <span style="color:#000000;">2</span> 
           <span style="color:#000000;">、写测试程序（</span> 
           <span style="color:#000000;">testbench</span> 
           <span style="color:#000000;">）</span> 
           <span style="color:#000000;">:</span> 
           <span style="color:#000000;">每一个主程序（实现我们需要的某种功能的程序），都要 </span> 
          </div> 
          <div> 
           <span style="color:#000000;">配套的编写一个测试程序</span> 
           <span style="color:#000000;">,</span> 
           <span style="color:#000000;">为什么？这里不打算细说，</span> 
           <span style="color:#000000;">testbench </span> 
           <span style="color:#000000;">是给主程序提供时钟和 </span> 
          </div> 
          <div> 
           <span style="color:#000000;">信号激励，使其正常工作，产生波形图，具体请参看 </span> 
           <span style="color:#000000;">verilog </span> 
           <span style="color:#000000;">教课书。 </span> 
          </div> 
          <div> 
           <span style="color:#000000;">在 </span> 
           <span style="color:#000000;">half_clk.v </span> 
           <span style="color:#000000;">下方的空白区域内右键，选择 </span> 
           <span style="color:#000000;">Add to Project -&gt;</span> 
           <span style="color:#000000;">New File</span> 
          </div> 
          <div></div> 
          <div> 
           <img alt="" height="531" src="https://images2.imgbox.com/b5/89/yH3DSQU0_o.png" width="732"> 
          </div> 
          <div></div> 
          <div> 
           <div> 
            <span style="color:#000000;">出现下框，写入测试程序的名字 </span> 
            <span style="color:#000000;">half_clk_tb</span> 
            <span style="color:#000000;">，</span> 
            <span style="color:#000000;">tb </span> 
            <span style="color:#000000;">是 </span> 
            <span style="color:#000000;">testbench </span> 
            <span style="color:#000000;">的意思，注意选 </span> 
            <span style="color:#000000;">verilog</span> 
            <span style="color:#000000;">， </span> 
           </div> 
           <div> 
            <span style="color:#000000;">Ok</span> 
            <span style="color:#000000;">。</span> 
           </div> 
           <div></div> 
           <div> 
            <p class="img-center"><img alt="" height="222" src="https://images2.imgbox.com/9f/8f/8dYyy7uA_o.png" width="588"></p> 
            <div></div> 
            <div> 
             <span style="color:#000000;">这样就把 </span> 
             <span style="color:#000000;">half_clk_tb.v </span> 
             <span style="color:#000000;">加载到了 </span> 
             <span style="color:#000000;">project </span> 
             <span style="color:#000000;">中，双击 </span> 
             <span style="color:#000000;">half_clk_tb.v </span> 
             <span style="color:#000000;">在右边的程序编辑区 </span> 
            </div> 
            <div> 
             <span style="color:#000000;">中编写代码： </span> 
            </div> 
            <div></div> 
            <div></div> 
            <div> 
             <pre><code class="language-cpp">`timescale 1ns/1ns
module half_clk_top;
 
reg clk_in;
reg rst;
initial
begin
 clk_in=1;
 rst=1;
 #1000
 rst=0;
 #1000
 rst=1;
 end
always #200 clk_in=~clk_in;
 
 half_clk_dai dai1(
 .clk_in(clk_in),
 .rst(rst),
 .clk_out(clk_out)
 );
endmodule</code></pre> 
             <p><img alt="" height="367" src="https://images2.imgbox.com/86/4b/8d7T6Gy2_o.png" width="674"></p> 
             <p><strong>三、 编译代码</strong></p> 
             <div> 
              <span style="color:#000000;">在 </span> 
              <span style="color:#000000;">half_clk.v </span> 
              <span style="color:#000000;">的文件上点右键，选择 </span> 
              <span style="color:#000000;">Compile</span> 
              <span style="color:#000000;">，至于是 </span> 
              <span style="color:#000000;">Compile All </span> 
              <span style="color:#000000;">还是 </span> 
              <span style="color:#000000;">Compile Selected </span> 
             </div> 
             <div> 
              <span style="color:#000000;">都可以，就看自己选择了。然后点击。</span> 
             </div> 
             <div></div> 
             <div> 
              <img alt="" height="468" src="https://images2.imgbox.com/3d/e4/nEnU7VEF_o.png" width="709"> 
             </div> 
             <div></div> 
             <div> 
              <div> 
               <span style="color:#000000;">编译成功后，</span> 
               <span style="color:#000000;">half_clk.v </span> 
               <span style="color:#000000;">和 </span> 
               <span style="color:#000000;">half_clk_tb.v </span> 
               <span style="color:#000000;">后面的？变成了对勾，并且在最下方的 </span> 
               <span style="color:#000000;">Transcript </span> 
              </div> 
              <div> 
               <span style="color:#000000;">栏中出现了 </span> 
               <span style="color:#000000;">successful </span> 
               <span style="color:#000000;">字样，说明编译成功，否则会报错，就要回到程序中修改，只有 </span> 
              </div> 
              <div> 
               <span style="color:#000000;">编译成功后，才能往后面进行。</span> 
              </div> 
              <div></div> 
              <div> 
               <img alt="" height="464" src="https://images2.imgbox.com/b1/87/DFqEPJ4p_o.png" width="843"> 
              </div> 
              <div></div> 
              <div> 
               <strong>四、仿真</strong> 
               <br>   
              </div> 
              <div> 
               <div> 
                <span style="color:#000000;">在屏幕左下角的位置有一个 </span> 
                <span style="color:#000000;">library </span> 
                <span style="color:#000000;">和 </span> 
                <span style="color:#000000;">project </span> 
                <span style="color:#000000;">的切换窗口，点击 </span> 
                <span style="color:#000000;">library</span> 
                <span style="color:#000000;">，再点击 </span> 
                <span style="color:#000000;">work </span> 
               </div> 
               <div> 
                <span style="color:#000000;">前的“</span> 
                <span style="color:#000000;">+</span> 
                <span style="color:#000000;">”号，将其展开，会看到两个文件，文件名是我们刚刚写的 </span> 
                <span style="color:#000000;">half_clk.v </span> 
                <span style="color:#000000;">和 </span> 
               </div> 
               <div> 
                <span style="color:#000000;">half_clk_tb.v </span> 
                <span style="color:#000000;">两个文件中的 </span> 
                <span style="color:#000000;">module </span> 
                <span style="color:#000000;">名。仿真不用两个文件都 </span> 
                <span style="color:#000000;">simulate</span> 
                <span style="color:#000000;">，只需 </span> 
                <span style="color:#000000;">simulate </span> 
                <span style="color:#000000;">测 </span> 
               </div> 
               <div> 
                <span style="color:#000000;">试文件即可，我们选择 </span> 
                <span style="color:#000000;">half_clk_top </span> 
                <span style="color:#000000;">右键，选择 </span> 
                <span style="color:#000000;">simulate</span> 
                <span style="color:#000000;">。</span> 
               </div> 
               <div></div> 
               <div> 
                <p class="img-center"><img alt="" height="725" src="https://images2.imgbox.com/e1/ab/6I7bGnz8_o.png" width="567"></p> 
                <p>之后会出现objects框:<br><img alt="" height="526" src="https://images2.imgbox.com/19/05/aHTGbWpW_o.png" width="754"></p> 
                <p></p> 
                <div> 
                 <span style="color:#000000;">按住 </span> 
                 <span style="color:#000000;">Ctrl </span> 
                 <span style="color:#000000;">键选中 </span> 
                 <span style="color:#000000;">clk_in,clk_out,rst </span> 
                 <span style="color:#000000;">三个信号，右键选择 </span> 
                 <span style="color:#000000;">Add-&gt;</span> 
                 <span style="color:#000000;">To Wave-&gt;</span> 
                 <span style="color:#000000;">Selected Signals</span> 
                </div> 
                <div></div> 
                <div> 
                 <img alt="" height="484" src="https://images2.imgbox.com/42/f6/IHW2JQRU_o.png" width="862"> 
                </div> 
                <div></div> 
                <div> 
                 <div> 
                  <span style="color:#000000;">这样，看波形的窗口就会出现，将红色圈圈中的仿真时间步改成 </span> 
                  <span style="color:#000000;">5ms,</span> 
                  <span style="color:#000000;">然后按旁边的运 </span> 
                 </div> 
                 <div> 
                  <span style="color:#000000;">行按键，</span>波形就出现了。按住 ctrl 滚动鼠标滑轮可以缩放波形。 
                 </div> 
                 <div> 
                  <p class="img-center"><img alt="" height="50" src="https://images2.imgbox.com/6e/2a/q5eVvb1y_o.png" width="248"></p> 
                  <p><img alt="" height="437" src="https://images2.imgbox.com/74/27/7oYxNmJW_o.png" width="856"></p> 
                  <div> 
                   <span style="color:#000000;">看下面的波形可观察，在 </span> 
                   <span style="color:#000000;">rst </span> 
                   <span style="color:#000000;">复位并置高之后，</span> 
                   <span style="color:#000000;">clk_out </span> 
                   <span style="color:#000000;">就出现了，并且周期是 </span> 
                   <span style="color:#000000;">clk_in </span> 
                   <span style="color:#000000;">的 </span> 
                  </div> 
                  <div> 
                   <span style="color:#000000;">两倍，也就是输出频率为输入频率的一半，达到了二分频的效果。</span> 
                  </div> 
                  <div></div> 
                  <div> 
                   <img alt="" height="474" src="https://images2.imgbox.com/77/c9/9x8PSITI_o.png" width="858"> 
                  </div> 
                  <div></div> 
                  <div> 
                   <strong>五、停止仿真</strong> 
                   <br>   
                  </div> 
                  <div> 
                   <div> 
                    <span style="color:#000000;">当 </span> 
                    <span style="color:#000000;">modelsim </span> 
                    <span style="color:#000000;">在仿真中的时候，修改程序、编译等都是无效的，也不能强行关闭软件， </span> 
                   </div> 
                   <div> 
                    <span style="color:#000000;">这是就需要手动停止仿真，以便进行其他操作。选择菜单栏中的 </span> 
                    <span style="color:#000000;">simulate</span> 
                    <span style="color:#000000;"></span> 
                    <span style="color:#000000;">End </span> 
                   </div> 
                   <div> 
                    <span style="color:#000000;">Simulateion </span> 
                    <span style="color:#000000;">即可</span> 
                   </div> 
                   <div></div> 
                   <div> 
                    <img alt="" height="448" src="https://images2.imgbox.com/c3/71/VhPzL5I4_o.png" width="868"> 
                   </div> 
                   <div></div> 
                   <div> 
                    <strong>六.总结：</strong> 
                   </div> 
                   <div> 
                    <div> 
                     <span style="color:#ff0000;">        建立工程-&gt;</span> 
                     <span style="color:#ff0000;">编写主程序和测试程序-&gt;</span> 
                     <span style="color:#ff0000;">编译-&gt;</span> 
                     <span style="color:#ff0000;">仿真-&gt;</span> 
                     <span style="color:#ff0000;">观察波形。</span> 
                    </div> 
                   </div> 
                  </div> 
                 </div> 
                </div> 
               </div> 
              </div> 
             </div> 
            </div> 
           </div> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d3ba79ae3e92dcfbff05062c14e988d9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">分享 | 《计算机网络》黄传河等课后题参考答案</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5c5d7fee3a6893224487a6a0db3798ba/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">可视化uniapp2.0高级事件使用说明</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>