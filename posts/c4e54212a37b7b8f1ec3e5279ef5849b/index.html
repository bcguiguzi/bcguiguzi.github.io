<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mysql视图和存储过程哪个性能好_MySQL系列(6) - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="mysql视图和存储过程哪个性能好_MySQL系列(6)" />
<meta property="og:description" content="我是谁？暴鲤龙
66.事务的提交
事务有点像打包操作
开启事务：start transaction
事务：可以有很多个步骤，这些步骤要么全成功要么全失败
提交事务：commit
67.事务的回滚
rollback，当遇到突发情况时，撤销执行的sql语句
事务中的语句执行后，在事务中查询会发现已经修改了，而实际数据库中并未修改。
rollback，撤回事务中执行的语句
68.事务并发操作-脏读
多人同时操作数据库
脏读：看到了还没提交的事务，read committed读提交能解决脏读问题
隔离级别：默认是重复读repeatable read，还可以是read uncommitted（一个事务可以读取另一个未提交事务的数据），read committed（一个事务要等另一个事务提交后才能读取数据），serializable
rollback和commit都可以结束事务。
69.事务的隔离级别
read uncommitted（一个事务可以读取另一个未提交事务的数据），会产生脏读、不可重复读、幻读
read committed（一个事务要等另一个事务提交后才能读取数据），不会产生脏读，会产生不可重复读、幻读
repeatable read（重复读，默认），不会产生脏读、不可重复读，会产生幻读
serializable，不会产生脏读、不可重复读、幻读
不可重复读：一个事务范围内两个相同的查询却返回了不同的数据，解决方法：repeatable read（重复读）
幻读：解决方法，serializable，但这种事务隔离级别效率低下，比较耗数据库性能，一般不使用。
70.添加用户
权限操作
权限：限制一个用户能够做什么事情，mysql中可设置全局权限，指定数据库权限，指定表权限，指定字段权限。
权限包括：create，drop，alter，delete，index，insert，select，update，create view，execute，可以限制用户。
创建用户：create user “用户名”@“localhost” identified by “1234”;也可以navicat图形化创建
删除用户：drop user 用户名”@“localhost”；也可以navicat图形化右键删除，
71.分配权限
分配权限:给所有权限
加上flush privileges，刷新一下。
也可以创建对指定数据库的所有权限：语句略
还可以只对某个表的权限：语句略
查看权限：show grants
删除权限：revoke 权限 on 数据库对象 用户
72.视图简介
视图：虚拟的表，内容由查询定义
视图特性：对若干表的应用，一张虚拟表，可以和基表一样进行增删改查
视图作用：安全性、查询性能提高，提高了数据的独立性。
73.视图创建、修改、删除
视图创建，创建后的结果就在view视图中，创建后就可以从视图中进行查询了。
修改视图：视图发生了改变
删除视图：
74.视图查询机制
视图机制：替代式（操作视图时，视图名直接被视图定义给替换掉，相当于是字句，替换成了sql语句），具化式（先查询后放在内存中，再从内存这个表中提取数据）
视图中的各种参数" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/c4e54212a37b7b8f1ec3e5279ef5849b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-12-12T19:35:36+08:00" />
<meta property="article:modified_time" content="2020-12-12T19:35:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mysql视图和存储过程哪个性能好_MySQL系列(6)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div> 
 <p>我是谁？暴鲤龙</p> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/6c/43/xptnSv8X_o.png" alt="312791ca412377ace81764517fca83da.png"> 
 </div> 
 <p>66.事务的提交</p> 
 <p>事务有点像打包操作</p> 
 <p>开启事务：start transaction</p> 
 <p>事务：可以有很多个步骤，这些步骤要么全成功要么全失败</p> 
 <p>提交事务：commit</p> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/3b/8a/SPxBA1JJ_o.png" alt="89875c230fd2b8ba298de6665ddd5b2b.png"> 
 </div> 
 <p>67.事务的回滚</p> 
 <p>rollback，当遇到突发情况时，撤销执行的sql语句</p> 
 <p>事务中的语句执行后，在事务中查询会发现已经修改了，而实际数据库中并未修改。</p> 
 <p>rollback，撤回事务中执行的语句</p> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/b9/44/Iksqs1iZ_o.png" alt="b25cf6f34bdc32641ad233fa13878967.png"> 
 </div> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/93/c3/2nJE6gi8_o.png" alt="7b7d0a8b6448fd0eabcafd5eabf7d09a.png"> 
 </div> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/3d/ac/ZtJ87L8I_o.png" alt="a7004f19d7dd6e5ec7980341dc45b43d.png"> 
 </div> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/7a/e0/2GeYQLmQ_o.png" alt="e3046b37f012d4ca50ca60d0958f0a89.png"> 
 </div> 
 <p>68.事务并发操作-脏读</p> 
 <p>多人同时操作数据库</p> 
 <p>脏读：看到了还没提交的事务，read committed读提交能解决脏读问题</p> 
 <p>隔离级别：默认是重复读repeatable read，还可以是read uncommitted（一个事务可以读取另一个未提交事务的数据），read committed（一个事务要等另一个事务提交后才能读取数据），serializable</p> 
 <p>rollback和commit都可以结束事务。</p> 
 <p>69.事务的隔离级别</p> 
 <p>read uncommitted（一个事务可以读取另一个未提交事务的数据），会产生脏读、不可重复读、幻读</p> 
 <p>read committed（一个事务要等另一个事务提交后才能读取数据），不会产生脏读，会产生不可重复读、幻读</p> 
 <p>repeatable read（重复读，默认），不会产生脏读、不可重复读，会产生幻读</p> 
 <p>serializable，不会产生脏读、不可重复读、幻读</p> 
 <p>不可重复读：一个事务范围内两个相同的查询却返回了不同的数据，解决方法：repeatable read（重复读）</p> 
 <p>幻读：解决方法，serializable，但这种事务隔离级别效率低下，比较耗数据库性能，一般不使用。</p> 
 <p>70.添加用户</p> 
 <p>权限操作</p> 
 <p>权限：限制一个用户能够做什么事情，mysql中可设置全局权限，指定数据库权限，指定表权限，指定字段权限。</p> 
 <p>权限包括：create，drop，alter，delete，index，insert，select，update，create view，execute，可以限制用户。</p> 
 <p>创建用户：create user “用户名”@“localhost” identified by “1234”;也可以navicat图形化创建</p> 
 <p>删除用户：drop user 用户名”@“localhost”；也可以navicat图形化右键删除，</p> 
 <p>71.分配权限</p> 
 <p>分配权限:给所有权限</p> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/bb/2e/tFLUH86z_o.png" alt="180145067aa4b03bb8816ef358e7e946.png"> 
 </div> 
 <p>加上flush privileges，刷新一下。</p> 
 <p>也可以创建对指定数据库的所有权限：语句略</p> 
 <p>还可以只对某个表的权限：语句略</p> 
 <p>查看权限：show grants</p> 
 <p>删除权限：revoke 权限 on 数据库对象 用户</p> 
 <p>72.视图简介</p> 
 <p>视图：虚拟的表，内容由查询定义</p> 
 <p>视图特性：对若干表的应用，一张虚拟表，可以和基表一样进行增删改查</p> 
 <p>视图作用：安全性、查询性能提高，提高了数据的独立性。</p> 
 <p>73.视图创建、修改、删除</p> 
 <p>视图创建，创建后的结果就在view视图中，创建后就可以从视图中进行查询了。</p> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/ec/40/7RuvbTRr_o.png" alt="ae824e56b03a649f01d6a36daed70eeb.png"> 
 </div> 
 <p>修改视图：视图发生了改变</p> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/3e/1d/nKn0AYXv_o.png" alt="ce3db6e5fc8996eb2977e087a2983ab0.png"> 
 </div> 
 <p>删除视图：</p> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/08/90/kxkn5Kt8_o.png" alt="cb22b13e683bac81280a3365de3169d4.png"> 
 </div> 
 <p>74.视图查询机制</p> 
 <p>视图机制：替代式（操作视图时，视图名直接被视图定义给替换掉，相当于是字句，替换成了sql语句），具化式（先查询后放在内存中，再从内存这个表中提取数据）</p> 
 <p>视图中的各种参数</p> 
 <p>algorithm参数：merge（处理方式替代式，可以进行更新真实表中的数据，修改了视图中的数据，真实表中的数据也会被修改），temptable（具化式，数据存储在临时表中，不可以进行更新操作），undefined（没有定义algorithm参数），mysql更倾向于选择替代方式，因为更加高效。</p> 
 <p>with check option：更新数据时，不能插入或更新不符合视图限制条件的记录。</p> 
 <p>local和cascaded：为可选参数，决定了检查测试的范围，默认值为cascaded</p> 
 <p>75.视图不可更新部分</p> 
 <p>不可改部分：只要视图中的数据不是来自基表的，就不能直接修改。包括聚合函数，distinct关键字，gruop by字句，having字句，union运算符，from字句中包含多个表，select语句中引用了不可更新视图。</p> 
 <p>76.存储过程简介</p> 
 <p>存储过程：可编程的函数，是为了完成特定功能的sql语句集；具有名字的一段代码，能完成特定功能。</p> 
 <p>好处：可以将重复性很高的一些操作进行封装，简化对sql的调用；批量处理；统一接口，确保数据安全性；</p> 
 <p>77.delimiter</p> 
 <p>delimiter：把标准分隔符改成需要符号如$$</p> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/15/b7/Nf3pFXrh_o.png" alt="76056999af778ac690693d318838c496.png"> 
 </div> 
 <p>为了把存储过程作为整体，所以有时需要把标准分隔符进行修改。</p> 
 <p>78.存储过程创建，查看，删除</p> 
 <p>存储过程创建后会被长久保存</p> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/93/ce/VKJeeZqC_o.png" alt="9291bf0d3b555cf27443473950ea030a.png"> 
 </div> 
 <p>调用存储过程：call 名称（）</p> 
 <p>查看存储过程：</p> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/43/c7/xyZcQhTm_o.png" alt="1eeef3e0b538d89a37b1bbe505ed87e0.png"> 
 </div> 
 <p>查看存储源码</p> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/4c/4f/j0Z9MEWp_o.png" alt="efd08d5d80c95a0d18600c614f202fc8.png"> 
 </div> 
 <p>删除存储过程：</p> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/f8/e6/lLmDyxn9_o.png" alt="38bc7472635e90e30675f20e407d1ed6.png"> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b3e0e6b41a06d00e54ca3cd8cbbadfe4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">路由器获取不到ipv6地址</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/28722594ab53e9767daef8866f85b07a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">自建网盘利用OneDrive，oneindex网盘</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>