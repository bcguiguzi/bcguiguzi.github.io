<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【复现笔记】SRT3D: Sparse Region-Based 3D Object Tracking - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【复现笔记】SRT3D: Sparse Region-Based 3D Object Tracking" />
<meta property="og:description" content="paper: SRT3D: A Sparse Region-Based 3D Object Tracking Approach for the Real World
Manuel Stoiber, Martin Pfanne, Klaus H. Strobl, Rudolph Triebel, and Alin Albu-Schäffer
International Journal of Computer Vision (IJCV) 2022
作者提供源代码：3DObjectTracking/SRT3D at master · DLR-RM/3DObjectTracking · GitHub
目录
目录
Description of Content
USAGE
开始复现
1、cmake
2、build
Description of Content This repository contains everything necessary to reproduce the results presented in our paper. This includes the evaluation on the RBOT and OPT datasets as well as the conducted parameters study." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/3dc74e15c7002fb1987dbed16a4172f6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-15T00:24:11+08:00" />
<meta property="article:modified_time" content="2023-01-15T00:24:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【复现笔记】SRT3D: Sparse Region-Based 3D Object Tracking</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>paper: SRT3D: A Sparse Region-Based 3D Object Tracking Approach for the Real World<br> Manuel Stoiber, Martin Pfanne, Klaus H. Strobl, Rudolph Triebel, and Alin Albu-Schäffer<br> International Journal of Computer Vision (IJCV) 2022</p> 
<p>作者提供源代码：<a href="https://github.com/DLR-RM/3DObjectTracking/tree/master/SRT3D" title="3DObjectTracking/SRT3D at master · DLR-RM/3DObjectTracking · GitHub">3DObjectTracking/SRT3D at master · DLR-RM/3DObjectTracking · GitHub</a></p> 
<p></p> 
<p>目录</p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="Description%20of%20Content-toc" style="margin-left:0px;"><a href="#Description%20of%20Content" rel="nofollow">Description of Content</a></p> 
<p id="USAGE-toc" style="margin-left:0px;"><a href="#USAGE" rel="nofollow">USAGE</a></p> 
<p id="%E5%BC%80%E5%A7%8B%E5%A4%8D%E7%8E%B0-toc" style="margin-left:0px;"><a href="#%E5%BC%80%E5%A7%8B%E5%A4%8D%E7%8E%B0" rel="nofollow">开始复现</a></p> 
<p id="1%E3%80%81cmake-toc" style="margin-left:80px;"><a href="#1%E3%80%81cmake" rel="nofollow">1、cmake</a></p> 
<p id="2%E3%80%81build-toc" style="margin-left:80px;"><a href="#2%E3%80%81build" rel="nofollow">2、build</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p></p> 
<h2 id="Description%20of%20Content">Description of Content</h2> 
<blockquote> 
 <p>This repository contains everything necessary to reproduce the results presented in our paper. This includes the evaluation on the RBOT and OPT datasets as well as the conducted parameters study. Source files for the <code>srt3d</code> library are stored in <code>src</code> and <code>include/srt3d</code>. Source files for the executables are stored in <code>examples</code>. For the evaluation and parameter study on the RBOT and OPT datasets, the code in <code>evaluate_rbot_dataset.cpp</code>, <code>parameters_study_rbot.cpp</code>, <code>evaluate_opt_dataset.cpp</code>, and <code>parameters_study_opt.cpp</code> was used. To reproduce our experiments, please download the <a href="http://cvmr.info/research/RBOT/" rel="nofollow" title="RBOT">RBOT</a> and <a href="http://media.ee.ntu.edu.tw/research/OPT/" rel="nofollow" title="OPT">OPT</a> datasets and adjust the <code>dataset_directory</code> in the source code. Note that model files (e.g. <code>ape_model.bin</code>, <code>bakingsoda_model.bin</code>, ...) will be created automatically and are stored in the same folder as the <code>.obj</code> file of each object.</p> 
 <p></p> 
 <p>For real-world tracking, we provide code that allows either to directly track objects or to first record a sequence and then run the tracker on this recorded sequence. The code for this is provided in <code>run_on_camera_sequence.cpp</code>, <code>record_camera_sequence.cpp</code> and <code>run_on_recorded_sequence.cpp</code>. In our implementation, an Azure Kinect camera is used. If you don't want to use the Azure Kinect, you can disable the CMake option <code>USE_AZURE_KINECT</code>. For tracking, object parameters and directories in <code>run_on_camera_sequence.cpp</code> and <code>run_on_recorded_sequence.cpp</code> have to be adjusted. Note that by default, tracking will not start automatically. To start tracking, please press the <code>T</code> key on your keyboard. To stop the application press <code>Q</code>. If you would like to use another camera than the Azure Kinect, we encourage you to create a class similar to the <code>AzureKinectCamera</code> class in <code>src/azure_kinect_camera.cpp</code>.</p> 
</blockquote> 
<blockquote> 
 <p> 翻译：</p> 
 <p>这个存储库包含再现我们论文中给出的结果所需的所有内容。这包括对RBOT和OPT数据集的评价以及进行的参数研究。srt3d库的源文件存储在src中，包括/srt3d。可执行文件的源文件存储在示例中。对于RBOT和OPT数据集的评估和参数研究，使用了evaluate_rbot_dataset.cpp、parameters_study_rbot.cpp、evaluate_opt_dataset.cpp和parameters_study_opt.cpp中的代码。为了再现我们的实验，请下载RBOT和OPT数据集，并调整源代码中的dataset_directory。注意，模型文件(例如ape_model.bin, bakingsoda_model.bin，…)将被自动创建，并与每个对象的.obj文件存储在同一文件夹中。</p> 
 <p></p> 
 <p>对于真实世界的跟踪，我们提供的代码既可以直接跟踪对象，也可以先记录一个序列，然后在这个记录的序列上运行跟踪器。这方面的代码在run_on_camera_sequence.cpp、record_camera_sequence.cpp和run_on_recorded_sequence.cpp中提供。在我们的实现中，使用了Azure Kinect摄像头。如果你不想使用Azure Kinect，你可以禁用CMake选项USE_AZURE_KINECT。为了跟踪，必须调整run_on_camera_sequence.cpp和run_on_recorded_sequence.cpp中的对象参数和目录。注意，默认情况下，跟踪不会自动启动。要开始追踪，请按键盘上的T键。如果你想使用AzureKinect以外的其他摄像头，我们建议你在src/azure_kinect_camera.cpp中创建一个类似于AzureKinectCamera类的类。</p> 
</blockquote> 
<h2 id="USAGE"><strong>USAGE</strong></h2> 
<blockquote> 
 <p>If you want to use our tracker for your own project, we would like to refer you to <code>run_on_camera_sequence.cpp</code> for how to set up the tracker and required objects. The following variables in <code>run_on_camera_sequence.cpp</code> should be considered in an initial set up:</p> 
 <ul><li><code>model_path</code>: location where all object models, that are created automatically from an .obj file, are stored.</li><li><code>body_ptr</code>: contains all information associated with an object 
   <ul><li><code>geometry_path</code>: path to <code>.obj</code> file</li><li><code>geometry2body_pose</code>: transformation that allows to set a different frame of reference for the object than defined by the <code>.obj</code> file.</li><li><code>world2body_pose</code>: initial transformation between camera and object.</li><li><code>geometry_unit_in_meter</code>: scale factor to scale the unit used in the <code>.obj</code> file to meter.</li><li><code>geometry_counterclockwise</code>: <code>true</code> if winding order of triangles in <code>.obj</code> is defined counter-clockwise.</li><li><code>geometry_enable_culling</code>: <code>true</code> if faces that are not facing toward the camera should be culled.</li><li><code>maximum_body_diameter</code>: maximum diameter in meter of a sphere that encapsulates the entire body.</li><li><code>occlusion_mask_id</code>: unique number between 0 and 7 that is used to encode the object in occlusion_masks.</li></ul></li><li><code>model_ptr</code>: contains all information associated with a model 
   <ul><li><code>sphere_radius</code>: distance from camera to object center</li><li><code>n_divides</code>: how often an icosahedron is devided (controls the number of template views)</li><li><code>n_points</code>: number of contour points</li></ul></li></ul> 
</blockquote> 
<blockquote> 
 <p>翻译：</p> 
 <p>如果您想在自己的项目中使用我们的跟踪器，我们建议您参考run_on_camera_sequence.cpp，了解如何设置跟踪器和所需的对象。</p> 
 <p>在初始设置中应该考虑run_on_camera_sequence.cpp中的以下变量:</p> 
 <ul><li>Model_path:存储从.obj文件自动创建的所有对象模型的位置。</li><li>Body_ptr:包含与对象相关的所有信息</li><li>Geometry_path: .obj文件的路径</li><li>Geometry2body_pose:转换，允许为对象设置不同的参考框架，而不是由.obj文件定义的。</li><li>World2body_pose:相机和物体之间的初始转换。</li><li>Geometry_unit_in_meter:缩放因子，将.obj文件中使用的单位缩放为米。</li><li>geometry_逆时针:如果.obj中三角形的缠绕顺序定义为逆时针，则为true。</li><li>Geometry_enable_culling:如果不面向相机的脸应该被剔除，则为true。</li><li>Maximum_body_diameter:封装整个身体的球体的最大直径(米)。</li><li>Occlusion_mask_id: 0到7之间的唯一数字，用于编码occlusion_masks中的对象。</li><li>Model_ptr:包含与模型相关的所有信息</li><li>Sphere_radius:摄像机到物体中心的距离</li><li>n_partitions:划分二十面体的频率(控制模板视图的数量)</li><li>N_points:轮廓点个数</li></ul> 
</blockquote> 
<p></p> 
<h2 id="%E5%BC%80%E5%A7%8B%E5%A4%8D%E7%8E%B0"><strong>开始复现</strong></h2> 
<h4 id="1%E3%80%81cmake">1、编译</h4> 
<p><strong>（1）cmake</strong></p> 
<pre><code>cmake -DUSE_AZURE_KINECT=OFF</code></pre> 
<p>输出：</p> 
<pre><code>~/3dTracking/3DObjectTracking/SRT3D$ cmake -DUSE_AZURE_KINECT=OFF
CMake Warning:
  No source or binary directory provided.  Both will be assumed to be the
  same as the current working directory, but note that this warning will
  become a fatal error in future CMake releases.


-- The C compiler identification is GNU 9.4.0
-- The CXX compiler identification is GNU 9.4.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/cc - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/c++ - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at /usr/local/share/cmake-3.25/Modules/FindOpenGL.cmake:315 (message):
  Policy CMP0072 is not set: FindOpenGL prefers GLVND by default when
  available.  Run "cmake --help-policy CMP0072" for policy details.  Use the
  cmake_policy command to set the policy and suppress this warning.

  FindOpenGL found both a legacy GL library:

    OPENGL_gl_LIBRARY: /usr/lib/x86_64-linux-gnu/libGL.so

  and GLVND libraries for OpenGL and GLX:

    OPENGL_opengl_LIBRARY: /usr/lib/x86_64-linux-gnu/libOpenGL.so
    OPENGL_glx_LIBRARY: /usr/lib/x86_64-linux-gnu/libGLX.so

  OpenGL_GL_PREFERENCE has not been set to "GLVND" or "LEGACY", so for
  compatibility with CMake 3.10 and below the legacy GL library will be used.
Call Stack (most recent call first):
  CMakeLists.txt:22 (find_package)
This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found OpenGL: /usr/lib/x86_64-linux-gnu/libOpenGL.so   
-- Found GLEW: /usr/include (found version "2.1.0") 
-- Found OpenCV: /usr/local (found suitable version "4.0.0", minimum required is "4.0.0") 
-- Found OpenMP_C: -fopenmp (found version "4.5") 
-- Found OpenMP_CXX: -fopenmp (found version "4.5") 
-- Found OpenMP: TRUE (found version "4.5")  
-- Performing Test HAS_MARCH
-- Performing Test HAS_MARCH - Failed
-- Performing Test HAS_MTUNE
-- Performing Test HAS_MTUNE - Failed
-- Performing Test HAS_GGDB
-- Performing Test HAS_GGDB - Success
-- Performing Test HAS_Z7
-- Performing Test HAS_Z7 - Failed
-- Performing Test HAS_FTRAPV
-- Performing Test HAS_FTRAPV - Success
-- Performing Test HAS_OD
-- Performing Test HAS_OD - Failed
-- Performing Test HAS_OB3
-- Performing Test HAS_OB3 - Failed
-- Performing Test HAS_O3
-- Performing Test HAS_O3 - Success
-- Performing Test HAS_OB2
-- Performing Test HAS_OB2 - Failed
-- Performing Test HAS_O2
-- Performing Test HAS_O2 - Success
-- Configuring done
-- Generating done
-- Build files have been written to: /home/r*/3dTracking/3DObjectTracking/SRT3D</code></pre> 
<p id="2%E3%80%81build">（2）make</p> 
<pre><code>make</code></pre> 
<p>输出：</p> 
<pre><code>~/3dTracking/3DObjectTracking/SRT3D$ make
[  3%] Building CXX object src/CMakeFiles/srt3d.dir/common.cpp.o
[  6%] Building CXX object src/CMakeFiles/srt3d.dir/body.cpp.o
[ 10%] Building CXX object src/CMakeFiles/srt3d.dir/renderer_geometry.cpp.o
[ 13%] Building CXX object src/CMakeFiles/srt3d.dir/renderer.cpp.o
[ 17%] Building CXX object src/CMakeFiles/srt3d.dir/normal_renderer.cpp.o
[ 20%] Building CXX object src/CMakeFiles/srt3d.dir/occlusion_renderer.cpp.o
[ 24%] Building CXX object src/CMakeFiles/srt3d.dir/model.cpp.o
[ 27%] Building CXX object src/CMakeFiles/srt3d.dir/camera.cpp.o
[ 31%] Building CXX object src/CMakeFiles/srt3d.dir/loader_camera.cpp.o
[ 34%] Building CXX object src/CMakeFiles/srt3d.dir/viewer.cpp.o
[ 37%] Building CXX object src/CMakeFiles/srt3d.dir/image_viewer.cpp.o
/home/r*/3dTracking/3DObjectTracking/SRT3D/src/image_viewer.cpp: In member function ‘virtual bool srt3d::ImageViewer::UpdateViewer(int)’:
/home/r*/3dTracking/3DObjectTracking/SRT3D/src/image_viewer.cpp:30:1: warning: control reaches end of non-void function [-Wreturn-type]
   30 | }
      | ^
[ 41%] Building CXX object src/CMakeFiles/srt3d.dir/normal_viewer.cpp.o
/home/r*/3dTracking/3DObjectTracking/SRT3D/src/normal_viewer.cpp: In member function ‘virtual bool srt3d::NormalViewer::UpdateViewer(int)’:
/home/r*/3dTracking/3DObjectTracking/SRT3D/src/normal_viewer.cpp:60:1: warning: control reaches end of non-void function [-Wreturn-type]
   60 | }
      | ^
[ 44%] Building CXX object src/CMakeFiles/srt3d.dir/region_modality.cpp.o
[ 48%] Building CXX object src/CMakeFiles/srt3d.dir/tracker.cpp.o
[ 51%] Linking CXX static library libsrt3d.a
[ 51%] Built target srt3d
[ 55%] Building CXX object examples/CMakeFiles/evaluate_rbot_dataset.dir/evaluate_rbot_dataset.cpp.o
[ 58%] Building CXX object examples/CMakeFiles/evaluate_rbot_dataset.dir/rbot_evaluator.cpp.o
[ 62%] Linking CXX executable evaluate_rbot_dataset
[ 62%] Built target evaluate_rbot_dataset
[ 65%] Building CXX object examples/CMakeFiles/parameter_study_rbot_dataset.dir/parameter_study_rbot_dataset.cpp.o
[ 68%] Building CXX object examples/CMakeFiles/parameter_study_rbot_dataset.dir/rbot_evaluator.cpp.o
[ 72%] Linking CXX executable parameter_study_rbot_dataset
[ 72%] Built target parameter_study_rbot_dataset
[ 75%] Building CXX object examples/CMakeFiles/evaluate_opt_dataset.dir/evaluate_opt_dataset.cpp.o
[ 79%] Building CXX object examples/CMakeFiles/evaluate_opt_dataset.dir/opt_evaluator.cpp.o
[ 82%] Linking CXX executable evaluate_opt_dataset
[ 82%] Built target evaluate_opt_dataset
[ 86%] Building CXX object examples/CMakeFiles/parameter_study_opt_dataset.dir/parameter_study_opt_dataset.cpp.o
[ 89%] Building CXX object examples/CMakeFiles/parameter_study_opt_dataset.dir/opt_evaluator.cpp.o
[ 93%] Linking CXX executable parameter_study_opt_dataset
[ 93%] Built target parameter_study_opt_dataset
[ 96%] Building CXX object examples/CMakeFiles/run_on_recorded_sequence.dir/run_on_recorded_sequence.cpp.o
[100%] Linking CXX executable run_on_recorded_sequence
[100%] Built target run_on_recorded_sequence</code></pre> 
<p>（3）切换到examples目录</p> 
<p>（4）在examples中cmake</p> 
<pre><code>~/3dTracking/3DObjectTracking/SRT3D/examples$ cmake ..
CMake Warning (dev) at /usr/local/share/cmake-3.25/Modules/FindOpenGL.cmake:315 (message):
  Policy CMP0072 is not set: FindOpenGL prefers GLVND by default when
  available.  Run "cmake --help-policy CMP0072" for policy details.  Use the
  cmake_policy command to set the policy and suppress this warning.

  FindOpenGL found both a legacy GL library:

    OPENGL_gl_LIBRARY: /usr/lib/x86_64-linux-gnu/libGL.so

  and GLVND libraries for OpenGL and GLX:

    OPENGL_opengl_LIBRARY: /usr/lib/x86_64-linux-gnu/libOpenGL.so
    OPENGL_glx_LIBRARY: /usr/lib/x86_64-linux-gnu/libGLX.so

  OpenGL_GL_PREFERENCE has not been set to "GLVND" or "LEGACY", so for
  compatibility with CMake 3.10 and below the legacy GL library will be used.
Call Stack (most recent call first):
  CMakeLists.txt:22 (find_package)
This warning is for project developers.  Use -Wno-dev to suppress it.

-- Configuring done
-- Generating done
-- Build files have been written to: /home/rakuli/3dTracking/3DObjectTracking/SRT3D</code></pre> 
<p>（5）make</p> 
<pre><code>~/3dTracking/3DObjectTracking/SRT3D/examples$ make
[ 51%] Built target srt3d
[ 62%] Built target evaluate_rbot_dataset
[ 72%] Built target parameter_study_rbot_dataset
[ 75%] Building CXX object examples/CMakeFiles/evaluate_opt_dataset.dir/evaluate_opt_dataset.cpp.o
[ 79%] Linking CXX executable evaluate_opt_dataset
[ 82%] Built target evaluate_opt_dataset
[ 86%] Building CXX object examples/CMakeFiles/parameter_study_opt_dataset.dir/parameter_study_opt_dataset.cpp.o
[ 89%] Linking CXX executable parameter_study_opt_dataset
[ 93%] Built target parameter_study_opt_dataset
[100%] Built target run_on_recorded_sequence</code></pre> 
<p>（6）将examples中与opt相关的6个文件复制到src文件夹中</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/96ca5186002e4ddfff90057891367cc7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【复现笔记】clean-pvnet复现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e7d3309731632c52578c2f1e453fa054/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">win10自动开启移动热点脚本</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>