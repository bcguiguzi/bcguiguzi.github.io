<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>可以ping通，但是ssh无法连接linux（主机连接虚拟机里面的linux） - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="可以ping通，但是ssh无法连接linux（主机连接虚拟机里面的linux）" />
<meta property="og:description" content="可以ping通，但无法通过ssh连接虚拟机的解决方法 需要在客户端通过 SSH 连接主机，如果连接过程中返回的错误信息是 “请求被拒绝“，那么应该是 LINUX 开启了防火墙，或是 SSHD 服务没有启动！
通过下面两个命令就可以了：
service iptables stop //关闭防火墙（在suse系统中若出现没有iptables的服务，可以通过yast的方式去关掉防火墙） service sshd start //启动 SSHD 服务
在ubuntu 下 如何开启防火墙：
sudo ufw disable #关闭防火墙
sudo ufw enable #开启防火墙
sudo ufw status #查看防火墙状态
安装ssh：
ubuntu开启sshd服务（转载） SSH分客户端openssh-client和openssh-server 如果你只是想登陆别的机器的SSH只需要安装openssh-client（ubuntu有默认安装，如果没有则sudo apt-get install openssh-client），如果要使本机开放SSH服务就需要安装openssh-server sudo apt-get install openssh-server 然后确认sshserver是否启动了： ps -e |grep ssh 如果看到sshd那说明ssh-server已经启动了。 如果没有则可以这样启动：sudo /etc/init.d/ssh start ssh-server配置文件位于/ etc/ssh/sshd_config，在这里可以定义SSH的服务端口，默认端口是22，你可以自己定义成其他端口号，如222。 然后重启SSH服务： sudo /etc/init.d/ssh stop sudo /etc/init.d/ssh start 然后使用以下方式登陆SSH： ssh tuns@192.168.0.100 tuns为192.168.0.100机器上的用户，需要输入密码。 断开连接：exit 输入ifdown eth0即可关闭网络，输入之后切换界面观察一下。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/2e26db3478e0b746b20e6996e6a4ef5d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-02-17T14:45:56+08:00" />
<meta property="article:modified_time" content="2017-02-17T14:45:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">可以ping通，但是ssh无法连接linux（主机连接虚拟机里面的linux）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    可以ping通，但无法通过ssh连接虚拟机的解决方法 
<br> 
<p>需要在客户端通过 SSH 连接主机，如果连接过程中返回的错误信息是 “请求被拒绝“，那么应该是 LINUX 开启了防火墙，或是 SSHD 服务没有启动！</p> 
<p>通过下面两个命令就可以了：</p> service iptables stop  //关闭防火墙（在suse系统中若出现没有iptables的服务，可以通过yast的方式去关掉防火墙） 
<br> 
<p>service sshd start     //启动 SSHD 服务</p> 
<p>在ubuntu 下 如何开启防火墙：</p> 
<p>sudo ufw disable #关闭防火墙<br> </p> 
<p>sudo ufw enable #开启防火墙</p> 
<p>sudo ufw status #查看防火墙状态</p> 
<p>安装ssh：</p> 
<p></p> 
<h3><a target="_blank" id="cb_post_title_url" href="http://www.cnblogs.com/CGDeveloper/archive/2011/07/27/2118533.html" rel="nofollow noopener noreferrer">ubuntu开启sshd服务（转载）</a></h3> 
<div id="cnblogs_post_body"> 
 <div>
   SSH分客户端openssh-client和openssh-server 
  <br> 如果你只是想登陆别的机器的SSH只需要安装openssh-client（ubuntu有默认安装，如果没有则sudo apt-get install openssh-client），如果要使本机开放SSH服务就需要安装openssh-server 
  <br> sudo apt-get install openssh-server 
  <br> 然后确认sshserver是否启动了： 
  <br> ps -e |grep ssh 
  <br> 如果看到sshd那说明ssh-server已经启动了。 
  <br> 如果没有则可以这样启动：sudo /etc/init.d/ssh start 
  <br> ssh-server配置文件位于/ etc/ssh/sshd_config，在这里可以定义SSH的服务端口，默认端口是22，你可以自己定义成其他端口号，如222。 
  <br> 然后重启SSH服务： 
  <br> sudo /etc/init.d/ssh stop 
  <br> sudo /etc/init.d/ssh start 
  <br> 然后使用以下方式登陆SSH： 
  <br> ssh tuns@192.168.0.100 tuns为192.168.0.100机器上的用户，需要输入密码。 
  <br> 断开连接：exit 
 </div> 
</div> 
<br> 
<p></p> 
<p>输入ifdown eth0即可关闭网络，输入之后切换界面观察一下。</p> 
<p><br> </p> 
<p><br> </p> 
<br> 
<p></p> 
<p><span style="font-family:System; font-size:18px"><strong><em><br> </em></strong></span></p> 
<p><span style="font-family:System; font-size:18px"><strong><em>一开始是因为虚拟机安装以后，bitvise ssh无法连接宿主机器，经过分析 原因是因为没有安装ssh-server ,</em></strong></span></p> 
<p><span style="font-family:System; font-size:18px"><strong><em>使用   $sudo apt-get install openssh-server <br> </em></strong></span></p> 
<p>却因为无法上网而没有成功，之后开始看如何设置网络，方法为 在 virtulebox的设置里面，设置的不正确，应该选择桥接，网卡会自动识别宿机的网卡（在windows下可以查看网卡的属性来看看是什么网卡），之后配置 文件 $sudo vi /etc/network/interfaces  ，具体方法如下的网址的 第四部和第五步。<br> </p> 
<p><span style="font-family:System; font-size:18px"><strong><em>http://www.server110.com/virtualbox/201403/7360.html</em></strong></span></p> 
<p>然而 ping 百度不行，解决办法如下<span style="font-family:System; font-size:18px"><strong><em><br> </em></strong></span></p> 
<p><span style="font-family:System; font-size:18px"><strong><em></em></strong></span></p> 
<p><span style="font-family:System; font-size:18px">今天登录服务器安装<a target="_blank" href="http://lib.csdn.net/base/git" rel="nofollow noopener noreferrer" class="replace_word" title="Git知识库" style="color:#df3434; font-weight:bold">Git</a>的时候，apt-get 工具用不了，上网查了下可能是网络的问题。</span></p> 
<p><span style="font-family:System; font-size:18px">我ping了下 www.baidu.com  ，结果出现问题了：<span style="color:#ff0000">ping: unknown host www.baidu.com</span> 。</span></p> 
<p><br> </p> 
<p><span style="font-family:System; font-size:18px">查了下，引起这个问题的原因是没设置DNS服务器。</span></p> 
<p><span style="font-family:System; font-size:18px"><br> </span></p> 
<p><span style="font-family:System; font-size:18px">下面是设置步骤：</span></p> 
<p><span style="font-family:System"><span style="font-size:18px">1、打开配置文件： </span><strong><em><span style="font-size:18px">sudo nano /etc/resolv.conf</span></em></strong></span></p> 
<p><span style="font-family:System; font-size:18px"><br> </span></p> 
<p><span style="font-family:System; font-size:18px">2、输入：</span></p> 
<span style="font-family:System; font-size:18px">    <strong><em> nameserver 202.98.96.68  （我使用：114.114.114.114，这个管用）<br>      nameserver 61.139.2.69</em></strong></span> 
<p><span style="font-family:System; font-size:18px"><strong><em><span style="font-family:System; font-size:18px"><strong><em></em></strong></span></em></strong></span></p> 
<p><span style="font-family:System; font-size:18px">3、保存、退出</span></p> 
<p><span style="font-family:System; font-size:18px"><br> </span></p> 
<p><span style="font-family:System; font-size:18px">4、重启network :   <strong><em>sudo /etc/init.d/networking restart</em></strong></span></p> 
<p><span style="font-family:System; font-size:18px"><strong><em><br> </em></strong></span></p> 
<p><span style="font-family:System; font-size:18px"><strong><em><span style="font-family:System; font-size:18px"><strong><em>这个是可以得 ，就是每次再启动的时候还需要重新配置。</em></strong></span></em></strong></span></p> 
<p>之后再安装 ssh 就可以了，哈哈哈</p> 
<p><span style="font-family:System; font-size:18px"><strong><em><span style="font-family:System; font-size:18px"><strong><em>安装ssh-server ,</em></strong></span></em></strong></span></p> 
<p><span style="font-family:System; font-size:18px"><strong><em>使用   $sudo apt-get install openssh-server <br> </em></strong></span></p> 
<p><span style="font-family:System; font-size:18px"><strong><em><br> </em></strong></span></p> 
<p><span style="font-family:System; font-size:18px"><strong><em><br> 以下是备份：</em></strong></span></p> 
<p><span style="font-family:System; font-size:18px"><strong><em></em></strong></span></p> 
<h2>配置Ubuntu VirtualBox虚拟机系统使用WIFI无线上网</h2> http://www.server110.com/virtualbox/201403/7360.html 
<p></p> 
<p>ping 不通过的原因<br> </p> 
<p><span style="font-family:System; font-size:18px">今天登录服务器安装<a target="_blank" href="http://lib.csdn.net/base/git" rel="nofollow noopener noreferrer" class="replace_word" title="Git知识库" style="color:#df3434; font-weight:bold">Git</a>的时候，apt-get 工具用不了，上网查了下可能是网络的问题。</span></p> 
<p><span style="font-family:System; font-size:18px">我ping了下 www.baidu.com  ，结果出现问题了：<span style="color:#ff0000">ping: unknown host www.baidu.com</span> 。</span></p> 
<p><br> </p> 
<p><span style="font-family:System; font-size:18px">查了下，引起这个问题的原因是没设置DNS服务器。</span></p> 
<p><span style="font-family:System; font-size:18px"><br> </span></p> 
<p><span style="font-family:System; font-size:18px">下面是设置步骤：</span></p> 
<p><span style="font-family:System"><span style="font-size:18px">1、打开配置文件： </span><strong><em><span style="font-size:18px">sudo nano /etc/resolv.conf</span></em></strong></span></p> 
<p><span style="font-family:System; font-size:18px"><br> </span></p> 
<p><span style="font-family:System; font-size:18px">2、输入：</span></p> 
<p><span style="font-family:System; font-size:18px">    <strong><em> nameserver 202.98.96.68  （我使用：114.114.114.114，这个管用）<br>      nameserver 61.139.2.69</em></strong><br> </span></p> 
<p><span style="font-family:System; font-size:18px"><br> </span></p> 
<p><span style="font-family:System; font-size:18px">3、保存、退出</span></p> 
<p><span style="font-family:System; font-size:18px"><br> </span></p> 
<p><span style="font-family:System; font-size:18px">4、重启network :   <strong><em>sudo /etc/init.d/networking restart</em></strong></span></p> 
<p><span style="font-family:System; font-size:18px"><strong><em><br> 这个是可以得 ，就是每次再启动的时候还需要重新配置。</em></strong></span></p> 
<br> 
<br> 
<p><span style="font-family:System; font-size:18px"><strong><em><br> </em></strong></span></p> 
<p><span style="font-family:System; font-size:18px"><strong><em><br> </em></strong></span></p> 
<br> 
<br> 
<br>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/131d2337101e66b357d2ce7cc2eb69e4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">springboot学习(一)spring boot 前后端分离，解决ajax跨域问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0bd130854d6583a51d25288714c997be/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">扔硬币概率</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>