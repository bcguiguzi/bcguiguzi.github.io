<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Retrofit2 简述 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Retrofit2 简述" />
<meta property="og:description" content="Retrofit 2 是什么 跟Volley，okHttp一样也是一个网络请求的框架，Retrofit只是在OkHttp进行了一次封装，但是Retrofit框架，将网络请求的接口、请求的参数、请求方法、解耦很彻底，适用于Java 和android。
Retrofit 2 为什么出现 1. 性能对比 据说他的效率比volley，okhttp 的还要高。 这是老外做的一个网络请求的性能耗时对比。 2. 解耦 在网络层，解耦很彻底。 请求方式，请求参数，都可以用注解来配置。 细节太多就不一一诉说，用一下就知道他的好处啦。
3. 异步处理对比 Volley 请求网络，可以在回调中进行UI更新。 OkHttp 请求网络，不可以在回调中进行UI更新。 Retrofit2 请求网络，可以在回调中进行UI更新。
http://blog.csdn.net/lxcay9/article/details/52182239 说了OkHttp有2个缺点，但是在Retrofit2 里面对OkHttp那2个缺点 1. 比如callback回来是在线程里面, 不能刷新UI，需要我们手动处理。 2. 封装比较麻烦。 进行了修复。
Retrofit 2 怎么使用 首先解释下 Retrofit 2是Retrofit的升级版本，解耦后者比前者更彻底。
1. gradle配置 如果使用Android Studio开发，在gradle里面的dependencies 下面添加 compile ‘com.squareup.retrofit2:retrofit:2.0.0-beta4’ compile ‘com.squareup.retrofit2:converter-gson:2.0.0-beta4’
2. 细节介绍 http://square.github.io/retrofit/ 这是Retrofit 的官网介绍，在阅读相关文章的时候，大家会看到这几个参数。 @Path、@Query、@QueryMap、@Field、@Body、@Part、@Header 这几个参数都是跟HTTP请求参数有关的。可能初见见到我们会觉得很陌生，那么我通个几个小栗子来介绍下这个几个参数的使用。
1.@Path
假设ip地址，都是https://www.sogou.com/ @GET(“users/{user}/repos”) Call&lt;List&lt;User&gt;&gt; listRepos (@Path(&#34;user&#34;) String user) @GET，代表的是get请求。 @Path，代表的是在url地址里面需要添加的一个参数。 如果我们基于Retrofit 访问网络，那么Url地址为： https://www." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/2958741b33176f81961b8e6c946853fc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-08-11T14:31:20+08:00" />
<meta property="article:modified_time" content="2016-08-11T14:31:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Retrofit2 简述</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4 id="retrofit-2-是什么">Retrofit 2 是什么</h4> 
<p>跟Volley，okHttp一样也是一个网络请求的框架，Retrofit只是在OkHttp进行了一次封装，但是Retrofit框架，将网络请求的接口、请求的参数、请求方法、解耦很彻底，适用于Java 和android。</p> 
<h4 id="retrofit-2-为什么出现">Retrofit 2 为什么出现</h4> 
<h5 id="1-性能对比">1. 性能对比</h5> 
<p>据说他的效率比volley，okhttp 的还要高。 <br> 这是老外做的一个网络请求的性能耗时对比。 <br> <img src="https://images2.imgbox.com/78/53/wwVbGagg_o.png" alt="这里写图片描述" title=""></p> 
<h5 id="2-解耦">2. 解耦</h5> 
<p>在网络层，解耦很彻底。 <br> 请求方式，请求参数，都可以用注解来配置。 <br> 细节太多就不一一诉说，用一下就知道他的好处啦。</p> 
<h5 id="3-异步处理对比">3. 异步处理对比</h5> 
<p>Volley 请求网络，可以在回调中进行UI更新。 <br> OkHttp 请求网络，不可以在回调中进行UI更新。 <br> Retrofit2 请求网络，可以在回调中进行UI更新。</p> 
<p><a href="http://blog.csdn.net/lxcay9/article/details/52182239">http://blog.csdn.net/lxcay9/article/details/52182239</a> <br> 说了OkHttp有2个缺点，但是在Retrofit2 里面对OkHttp那2个缺点 <br> 1. 比如callback回来是在线程里面, 不能刷新UI，需要我们手动处理。 <br> 2. 封装比较麻烦。 <br> 进行了修复。</p> 
<h4 id="retrofit-2-怎么使用">Retrofit 2 怎么使用</h4> 
<p>首先解释下 Retrofit 2是Retrofit的升级版本，解耦后者比前者更彻底。</p> 
<h5 id="1-gradle配置">1. gradle配置</h5> 
<p>如果使用Android Studio开发，在gradle里面的dependencies 下面添加 <br> compile ‘com.squareup.retrofit2:retrofit:2.0.0-beta4’ <br> compile ‘com.squareup.retrofit2:converter-gson:2.0.0-beta4’</p> 
<h5 id="2-细节介绍">2. 细节介绍</h5> 
<p><a href="http://square.github.io/retrofit/" rel="nofollow">http://square.github.io/retrofit/</a> 这是Retrofit 的官网介绍，在阅读相关文章的时候，大家会看到这几个参数。 <br> @Path、@Query、@QueryMap、@Field、@Body、@Part、@Header <br> 这几个参数都是跟HTTP请求参数有关的。可能初见见到我们会觉得很陌生，那么我通个几个小栗子来介绍下这个几个参数的使用。</p> 
<p>1.@Path</p> 
<p>假设ip地址，都是<a href="https://www.sogou.com/" rel="nofollow">https://www.sogou.com/</a> <br> @GET(“users/{user}/repos”) </p> 
<pre class="prettyprint"><code class=" hljs mathematica">Call&lt;<span class="hljs-keyword">List</span>&lt;User&gt;&gt; listRepos (@<span class="hljs-keyword">Path</span>(<span class="hljs-string">"user"</span>) <span class="hljs-keyword">String</span> user)</code></pre> 
<p>@GET，代表的是get请求。 <br> @Path，代表的是在url地址里面需要添加的一个参数。 <br> 如果我们基于Retrofit 访问网络，那么Url地址为： <br> <a href="https://www.sogou.com/" rel="nofollow">https://www.sogou.com/</a> users/{user}/repos，这里的这个user是我们调用listRepos传递的</p> 
<p>2.@Query</p> 
<p>假设ip地址，都是<a href="https://www.sogou.com/" rel="nofollow">https://www.sogou.com/</a> <br> @POST(“mobileLogin/submit.html”) Call Login(@Query(“username”) String uname,@Query(“password”) String pwd);</p> 
<p>@POST，代表的是post请求 <br> @Query，代表的是键值对的形势提交 <br> 如果我们基于Retrofit 访问网络，那么Url地址为： <br> <a href="https://www.sogou.com/mobileLogin/submit.html" rel="nofollow">https://www.sogou.com/mobileLogin/submit.html</a> <br> 如果我们调用Login函数并传递lixaing,123456，那么请求的数据在body里面显示为： <br> username=lixiang&amp;password=123456。注意：如果请求的时候不允许有null键。 <br> 3.@QueryMap</p> 
<p>这个是@Query的一个Map的表现形势，在提交的时候可以传递一个Map,进行HTTP交互，最终的展现效果跟@Query一样。注意：如果请求的时候不允许有null键。</p> 
<p>4.@Field <br> 这个跟@Query表现形势一样，但是有一点，就是需要在@POST请求之前添加 <br> @FormUrlEncoded，下面是例图： <br> <img src="https://images2.imgbox.com/21/9f/xAXWNsLn_o.png" alt="这里写图片描述" title=""> <br> 5.@FieldMap <br> 这个跟@QueryMap表现形势一样。 <br> 同样也得在请求方式之前添加@FormUrlEncoded，下面是例图： <br> <img src="https://images2.imgbox.com/3c/06/eO8ujyxt_o.png" alt="这里写图片描述" title=""> <br> 6.@Body <br> 表现形势换为了一个对象。在请求的时候如果参数很多，我们可以吧参数封装为一个body对象提交到服务器。 <br> <img src="https://images2.imgbox.com/26/86/PnESaiy7_o.png" alt="这里写图片描述" title=""> <br> 7.@Part <br> 这是上传相关的注解，由于细节比较繁琐，附上一篇Retrofit2的上传&amp;下载的文章 <br> <a href="http://blog.csdn.net/qq_21430549/article/details/51212977">http://blog.csdn.net/qq_21430549/article/details/51212977</a></p> 
<p>好了，Retrofit的简述就完成了。具体细节，详情请百度。 <br> 参考自: <br> <a href="http://duanyytop.github.io/archives/" rel="nofollow">http://duanyytop.github.io/archives/</a> <br> <a href="http://square.github.io/retrofit/" rel="nofollow">http://square.github.io/retrofit/</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fa9e2d42b1a24f83a3c3ba243268eb1c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">bootstrip-table刷新方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ee9bc6c7066d00e6e94269bcbc81aa3f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">HTML区块和布局</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>