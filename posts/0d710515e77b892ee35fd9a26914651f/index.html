<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux终端指令 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux终端指令" />
<meta property="og:description" content="文章目录 进程状态查看磁盘状态-分区df查看磁盘状态mkfs 分区格式化mount 挂载滴水成冰 进程状态查看 功能指令备注显示进程信息top实时显示占用进程显示完整进程信息top -c包含路径信息设置信息更新次数top -n 3更新三次后终止更新设置信息更新时间top -d 3更新周期为3秒以累积模式显示程序信息top -S以批处理模式显示程序信息top -b 磁盘状态-分区 功能指令备注磁盘使用情况df -h显示卷组的相关属性vgdisplay用于显示LVM卷组的信息。如果不指定”卷组”参数，则分别显示所有卷组的属性。比如卷组大小、状态、UUID、物理卷最大数量和逻辑卷最大数量等信息。如果不指定卷组名称，那么显示所有卷组的属性。语法 vgdisplay(选项)(参数) 选项 -A：仅显示活动卷组的属性； -s：使用短格式输出的信息。 参数 卷组：要显示属性的卷组名称 例： vgdisplay vg1000 #显示卷组&#34;vg1000&#34;的属性动态扩展LVM卷组vgextend它通过向卷组中添加物理卷来增加卷组的容量。LVM卷组中的物理卷可以在使用vgcreate命令创建卷组时添加，也可以使用vgextend命令动态的添加。语法：vgextend(选项)(参数) 选项：-d：调试模式； -t：仅测试。 参数： 卷组：指定要操作的卷组名称； 物理卷列表：指定要添加到卷组中的物理卷列表。 实例：vgextend vg2000 /dev/sdb2 #将物理卷&#34;/dev/sdb2&#34;加入卷组&#34;vg2000&#34;扫描显示LVM卷组列表vgscan查找系统中存在的LVM卷组，并显示找到的卷组列表。vgscan命令仅显示找到的卷组的名称和LVM元数据类型，要得到卷组的详细信息需要使用vgdisplay命令。 语法：vgscan(选项) 选项：-d：调试模式； --ignorerlockingfailure：忽略锁定失败的错误。vgcreate：创建vg vgreduce：在vg内删除PV vgchange：设置vg是否启动 vgremove：删除vg扫描具有PV的硬盘pvscan扫描系统中连接的所有硬盘，列出找到的物理卷列表。 pvdisplay：显示系统中的pv状态 pvremove：移除pv属性，让该分区不具有pv属性 pvcreated: 创建PV 实例：pvcreated /dev/sda1 /dev/sda2-d 调试模式 -e 仅显示属于输出卷组的物理卷 -n 仅显示不属于任何卷组的物理卷 -s 短格式输出 -u 显示UUID扫描LVM逻辑卷lvscan使用lvscan指令可以发现系统中的所有逻辑卷，及其对应的设备文件。 选项：-b：显示逻辑卷的主设备和次设备号。显示LVM逻辑卷空间属性lvdisplay用于显示LVM逻辑卷空间大小、读写状态和快照信息等属性。如果省略&#34;逻辑卷&#34;参数，则lvdisplay命令显示所有的逻辑卷属性。否则，仅显示指定的逻辑卷属性。 参数：逻辑卷：指定要显示属性的逻辑卷对应的设备文件 实例：lvdisplay /dev/vg1000/lvol0 #显示指定逻辑卷的属性lvextend：增加LV的容量 lvreduce：在LV里面减少容量 lvremove：删除一个lv lvresize：对LV进行容量大小的调整创建和维护分区表fdisk语法：fdisk [必要参数] [选择参数] 必要参数： -l 列出素所有分区表 ; -u 与 -l 搭配使用，显示分区数目 。 选择参数： -s&lt;分区编号&gt; 指定分区 ； -v 版本信息 。 菜单操作说明： m ：显示菜单和帮助信息 a ：活动分区标记/引导分区 \ d ：删除分区 l ：显示分区类型 \ n ：新建分区 p ：显示分区信息 \ q ：退出不保存 t ：设置分区号 \ v ：进行分区检查 w ：保存修改 \ x ：扩展应用，高级功能 df查看磁盘状态 语法" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/0d710515e77b892ee35fd9a26914651f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-02T15:16:30+08:00" />
<meta property="article:modified_time" content="2022-11-02T15:16:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux终端指令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><ul><li><ul><li><ul><li><a href="#_3" rel="nofollow">进程状态查看</a></li><li><a href="#_14" rel="nofollow">磁盘状态-分区</a></li><li><a href="#df_34" rel="nofollow">df查看磁盘状态</a></li><li><a href="#mkfs__129" rel="nofollow">mkfs 分区格式化</a></li><li><a href="#mount__143" rel="nofollow">mount 挂载</a></li><li><a href="#_184" rel="nofollow">滴水成冰</a></li></ul> 
    </li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h6><a id="_3"></a>进程状态查看</h6> 
<table><thead><tr><th>功能</th><th>指令</th><th>备注</th></tr></thead><tbody><tr><td>显示进程信息</td><td>top</td><td>实时显示占用进程</td></tr><tr><td>显示完整进程信息</td><td>top -c</td><td>包含路径信息</td></tr><tr><td>设置信息更新次数</td><td>top -n 3</td><td>更新三次后终止更新</td></tr><tr><td>设置信息更新时间</td><td>top -d 3</td><td>更新周期为3秒</td></tr><tr><td>以累积模式显示程序信息</td><td>top -S</td><td></td></tr><tr><td>以批处理模式显示程序信息</td><td>top -b</td><td></td></tr></tbody></table> 
<h6><a id="_14"></a>磁盘状态-分区</h6> 
<table><thead><tr><th>功能</th><th>指令</th><th>备注</th></tr></thead><tbody><tr><td>磁盘使用情况</td><td>df -h</td><td></td></tr><tr><td>显示卷组的相关属性</td><td><strong>vgdisplay</strong></td><td>用于显示LVM卷组的信息。如果不指定”卷组”参数，则分别显示所有卷组的属性。比如卷组大小、状态、UUID、物理卷最大数量和逻辑卷最大数量等信息。如果不指定卷组名称，那么显示所有卷组的属性。</td></tr><tr><td></td><td></td><td><strong>语法</strong> vgdisplay(选项)(参数) <strong>选项</strong> -A：仅显示活动卷组的属性； -s：使用短格式输出的信息。 <strong>参数</strong> 卷组：要显示属性的卷组名称 <strong>例</strong>： vgdisplay vg1000 #显示卷组"vg1000"的属性</td></tr><tr><td>动态扩展LVM卷组</td><td><strong>vgextend</strong></td><td>它通过向卷组中添加物理卷来增加卷组的容量。LVM卷组中的物理卷可以在使用vgcreate命令创建卷组时添加，也可以使用vgextend命令动态的添加。</td></tr><tr><td></td><td></td><td><strong>语法</strong>：vgextend(选项)(参数) <strong>选项</strong>：-d：调试模式； -t：仅测试。 <strong>参数</strong>： 卷组：指定要操作的卷组名称； 物理卷列表：指定要添加到卷组中的物理卷列表。 <strong>实例</strong>：vgextend vg2000 /dev/sdb2 #将物理卷"/dev/sdb2"加入卷组"vg2000"</td></tr><tr><td>扫描显示LVM卷组列表</td><td>vgscan</td><td>查找系统中存在的LVM卷组，并显示找到的卷组列表。vgscan命令仅显示找到的卷组的名称和LVM元数据类型，要得到卷组的详细信息需要使用vgdisplay命令。 <strong>语法</strong>：vgscan(选项) <strong>选项</strong>：-d：调试模式； --ignorerlockingfailure：忽略锁定失败的错误。</td></tr><tr><td></td><td></td><td>vgcreate：创建vg vgreduce：在vg内删除PV vgchange：设置vg是否启动 vgremove：删除vg</td></tr><tr><td></td><td></td><td></td></tr><tr><td>扫描具有PV的硬盘</td><td>pvscan</td><td>扫描系统中连接的所有硬盘，列出找到的物理卷列表。 pvdisplay：显示系统中的pv状态 pvremove：移除pv属性，让该分区不具有pv属性 pvcreated: 创建PV <strong>实例</strong>：pvcreated /dev/sda1 /dev/sda2</td></tr><tr><td></td><td></td><td>-d 调试模式 -e 仅显示属于输出卷组的物理卷 -n 仅显示不属于任何卷组的物理卷 -s 短格式输出 -u 显示UUID</td></tr><tr><td></td><td></td><td></td></tr><tr><td>扫描<a href="http://lnmp.ailinux.net/LVM" rel="nofollow">LVM</a>逻辑卷</td><td>lvscan</td><td>使用lvscan指令可以发现系统中的所有逻辑卷，及其对应的设备文件。 <strong>选项</strong>：-b：显示逻辑卷的主设备和次设备号。</td></tr><tr><td>显示<a href="http://lnmp.ailinux.net/LVM" rel="nofollow">LVM</a>逻辑卷空间属性</td><td>lvdisplay</td><td>用于显示<a href="http://lnmp.ailinux.net/LVM" rel="nofollow">LVM</a>逻辑卷空间大小、读写状态和快照信息等属性。如果省略"逻辑卷"参数，则lvdisplay命令显示所有的逻辑卷属性。否则，仅显示指定的逻辑卷属性。 <strong>参数</strong>：逻辑卷：指定要显示属性的逻辑卷对应的设备文件 <strong>实例</strong>：lvdisplay /dev/vg1000/lvol0 #显示指定逻辑卷的属性</td></tr><tr><td></td><td></td><td>lvextend：增加LV的容量 lvreduce：在LV里面减少容量 lvremove：删除一个lv lvresize：对LV进行容量大小的调整</td></tr><tr><td>创建和维护分区表</td><td>fdisk</td><td><strong>语法</strong>：fdisk [必要参数] [选择参数] 必要参数： -l 列出素所有分区表 ; -u 与 <strong>-l</strong> 搭配使用，显示分区数目 。 选择参数： -s&lt;分区编号&gt; 指定分区 ； -v 版本信息 。 菜单操作说明： m ：显示菜单和帮助信息 a ：活动分区标记/引导分区 \ d ：删除分区 l ：显示分区类型 \ n ：新建分区 p ：显示分区信息 \ q ：退出不保存 t ：设置分区号 \ v ：进行分区检查 w ：保存修改 \ x ：扩展应用，高级功能</td></tr></tbody></table> 
<h6><a id="df_34"></a>df查看磁盘状态</h6> 
<blockquote> 
 <p><strong>语法</strong></p> 
 <pre><code>df [选项]... [FILE]...
</code></pre> 
 <ul><li>文件-a, --all 包含所有的具有 0 Blocks 的文件系统</li><li>文件–block-size={SIZE} 使用 {SIZE} 大小的 Blocks</li><li>文件-h, --human-readable 使用人类可读的格式(预设值是不加这个选项的…)</li><li>文件-H, --si 很像 -h, 但是用 1000 为单位而不是用 1024</li><li>文件-i, --inodes 列出 inode 资讯，不列出已使用 block</li><li>文件-k, --kilobytes 就像是 --block-size=1024</li><li>文件-l, --local 限制列出的文件结构</li><li>文件-m, --megabytes 就像 --block-size=1048576</li><li>文件–no-sync 取得资讯前不 sync (预设值)</li><li>文件-P, --portability 使用 POSIX 输出格式</li><li>文件–sync 在取得资讯前 sync</li><li>文件-t, --type=TYPE 限制列出文件系统的 TYPE</li><li>文件-T, --print-type 显示文件系统的形式</li><li>文件-x, --exclude-type=TYPE 限制列出文件系统不要显示 TYPE</li><li>文件-v (忽略)</li><li>文件–help 显示这个帮手并且离开</li><li>文件–version 输出版本资讯并且离开</li></ul> 
 <p><strong>实例</strong></p> 
 <p>显示文件系统的磁盘使用情况统计：</p> 
 <pre><code># df 
Filesystem     1K-blocks    Used     Available Use% Mounted on 
/dev/sda6       29640780 4320704     23814388  16%     / 
udev             1536756       4     1536752    1%     /dev 
tmpfs             617620     888     616732     1%     /run 
none                5120       0     5120       0%     /run/lock 
none             1544044     156     1543888    1%     /run/shm 
</code></pre> 
 <p>第一列指定文件系统的名称，第二列指定一个特定的文件系统1K-块1K是1024字节为单位的总内存。用和可用列正在使用中，分别指定的内存量。</p> 
 <p>使用列指定使用的内存的百分比，而最后一栏"安装在"指定的文件系统的挂载点。</p> 
 <p>df也可以显示磁盘使用的文件系统信息：</p> 
 <pre><code># df test 
Filesystem     1K-blocks    Used      Available Use% Mounted on 
/dev/sda6       29640780    4320600   23814492  16%       / 
</code></pre> 
 <p>用一个-i选项的df命令的输出显示inode信息而非块使用量。</p> 
 <pre><code>df -i 
Filesystem      Inodes    IUsed    IFree     IUse% Mounted on 
/dev/sda6      1884160    261964   1622196   14%        / 
udev           212748     560      212188    1%         /dev 
tmpfs          216392     477      215915    1%         /run 
none           216392     3        216389    1%         /run/lock 
none           216392     8        216384    1%         /run/shm 
</code></pre> 
 <p>显示所有的信息:</p> 
 <pre><code># df --total 
Filesystem     1K-blocks    Used    Available Use% Mounted on 
/dev/sda6       29640780 4320720    23814372  16%     / 
udev             1536756       4    1536752   1%      /dev 
tmpfs             617620     892    616728    1%      /run 
none                5120       0    5120      0%      /run/lock 
none             1544044     156    1543888   1%      /run/shm 
total           33344320 4321772    27516860  14% 
</code></pre> 
 <p>我们看到输出的末尾，包含一个额外的行，显示总的每一列。</p> 
 <p>-h选项，通过它可以产生可读的格式df命令的输出：</p> 
 <pre><code># df -h 
Filesystem      Size  Used   Avail Use% Mounted on 
/dev/sda6       29G   4.2G   23G   16%     / 
udev            1.5G  4.0K   1.5G   1%     /dev 
tmpfs           604M  892K   603M   1%     /run 
none            5.0M     0   5.0M   0%     /run/lock 
none            1.5G  156K   1.5G   1%     /run/shm 
</code></pre> 
 <p>我们可以看到输出显示的数字形式的’G’（千兆字节），“M”（兆字节）和"K"（千字节）。</p> 
 <p>这使输出容易阅读和理解，从而使显示可读的。请注意，第二列的名称也发生了变化，为了使显示可读的"大小"。</p> 
</blockquote> 
<h6><a id="mkfs__129"></a>mkfs 分区格式化</h6> 
<blockquote> 
 <p>mkfs只可以创建extX格式文件系统，如果需要格式化为xfs需要使用mkfs.xfs命令。已有文件系统格式化需要，使用-f参数</p> 
 <p><strong>语法</strong>:mkfs [选项] [-t &lt;类型&gt;] [文件系统选项] &lt;设备&gt; [&lt;大小&gt;]</p> 
</blockquote> 
<table><thead><tr><th>功能</th><th>指令</th><th>备注</th></tr></thead><tbody><tr><td><strong>mkfs</strong></td><td>mkfs -t ext4 /dev/sdb1</td><td>将指定分区格式化为ext4格式</td></tr><tr><td></td><td>mkfs /dev/sdb2 2G</td><td>格式化指定磁盘2G空间</td></tr><tr><td><strong>mount</strong></td><td>mount /dev/hda1 /mnt</td><td>将 /dev/hda1 挂在 /mnt 之下。</td></tr><tr><td></td><td>mount -o ro /dev/hda1 /mnt</td><td>将 /dev/hda1 用唯读模式挂在 /mnt 之下。</td></tr><tr><td></td><td>mount -o loop /tmp/image.iso /mnt/cdrom</td><td>将 /tmp/image.iso 这个光碟的 image 档使用 loop 模式挂在 /mnt/cdrom之下。用这种方法可以将一般网络上可以找到的 Linux 光 碟 ISO 档在不烧录成光碟的情况下检视其内容。</td></tr></tbody></table> 
<h6><a id="mount__143"></a>mount 挂载</h6> 
<blockquote> 
 <p>Linux mount命令是经常会使用到的命令，它用于挂载Linux系统外的文件。</p> 
 <p><strong>语法</strong></p> 
 <pre><code>mount [-hV]
mount -a [-fFnrsvw] [-t vfstype]
mount [-fnrsvw] [-o options [,...]] device | dir
mount [-fnrsvw] [-t vfstype] [-o options] device dir
</code></pre> 
 <p><strong>参数说明：</strong></p> 
 <ul><li>-V：显示程序版本</li><li>-h：显示辅助讯息</li><li>-v：显示较讯息，通常和 -f 用来除错。</li><li>-a：将 /etc/fstab 中定义的所有档案系统挂上。</li><li>-F：这个命令通常和 -a 一起使用，它会为每一个 mount 的动作产生一个行程负责执行。在系统需要挂上大量 NFS 档案系统时可以加快挂上的动作。</li><li>-f：通常用在除错的用途。它会使 mount 并不执行实际挂上的动作，而是模拟整个挂上的过程。通常会和 -v 一起使用。</li><li>-n：一般而言，mount 在挂上后会在 /etc/mtab 中写入一笔资料。但在系统中没有可写入档案系统存在的情况下可以用这个选项取消这个动作。</li><li>-s-r：等于 -o ro</li><li>-w：等于 -o rw</li><li>-L：将含有特定标签的硬盘分割挂上。</li><li>-U：将档案分割序号为 的档案系统挂下。-L 和 -U 必须在/proc/partition 这种档案存在时才有意义。</li><li>-t：指定档案系统的型态，通常不必指定。mount 会自动选择正确的型态。</li><li>-o async：打开非同步模式，所有的档案读写动作都会用非同步模式执行。</li><li>-o sync：在同步模式下执行。</li><li>-o atime、-o noatime：当 atime 打开时，系统会在每次读取档案时更新档案的『上一次调用时间』。当我们使用 flash 档案系统时可能会选项把这个选项关闭以减少写入的次数。</li><li>-o auto、-o noauto：打开/关闭自动挂上模式。</li><li>-o defaults:使用预设的选项 rw, suid, dev, exec, auto, nouser, and async.</li><li>-o dev、-o nodev-o exec、-o noexec允许执行档被执行。</li><li>-o suid、-o nosuid：</li><li>允许执行档在 root 权限下执行。</li><li>-o user、-o nouser：使用者可以执行 mount/umount 的动作。</li><li>-o remount：将一个已经挂下的档案系统重新用不同的方式挂上。例如原先是唯读的系统，现在用可读写的模式重新挂上。</li><li>-o ro：用唯读模式挂上。</li><li>-o rw：用可读写模式挂上。</li><li>-o loop=：使用 loop 模式用来将一个档案当成硬盘分割挂上系统。</li></ul> 
</blockquote> 
<h6><a id="_184"></a>滴水成冰</h6>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6ec90b712824e793e52f579f43bd00f7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Batch Normalization理解总结</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7853ccb66171e2f7ab650dd67a174dfa/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">CentOS 7 下升级 OpenSSL &#43; OpenSSH【在线 yum 安装依赖】</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>