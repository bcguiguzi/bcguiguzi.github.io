<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【go语言开发】性能分析工具pprof使用 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【go语言开发】性能分析工具pprof使用" />
<meta property="og:description" content="本文主要介绍如何在项目中使用pprof工具。首先简要介绍pprof工具的作用；然后介绍pprof的应用场景，主要分为工具型应用和服务型应用。最后数据分析项目，先采集项目信息，再可视化查看
文章目录 前言应用场景工具型应用服务型应用 数据分析命令行查看采集数据查看数据topGraphFlame GraphSource 欢迎大家访问个人博客网址：https://www.maogeshuo.com，博主努力更新中…
前言 pprof是Go语言的一个性能分析库，它的名字源于**“Profile”（简称&#34;prof&#34;）**一词。该工具最早由Google开发并用于Go语言的性能分析，它可以帮助开发者找出程序中的性能瓶颈。pprof提供了CPU分析、内存分析、阻塞分析等多种性能分析功能。
CPU分析： pprof可以通过采样应用程序的运行状态来分析CPU的使用情况，找出哪些函数占用了大量的CPU时间。提供CPU使用率最高的函数列表和调用关系，帮助定位程序的CPU性能瓶颈。 内存分析： 支持对应用程序的内存分配和使用情况进行分析，帮助开发人员发现内存泄漏、高内存消耗的函数等问题。提供内存使用最多的函数列表和调用关系，帮助优化内存管理和减少不必要的内存分配。 阻塞分析： pprof可以分析应用程序中的阻塞情况，识别并发执行过程中可能存在的阻塞问题。提供阻塞最严重的代码段和调用关系，帮助优化并发执行的性能和减少阻塞时间。 goroutine分析： 支持对应用程序中goroutine的跟踪和分析，帮助理解并发执行情况。提供goroutine的数量、状态和调用关系等信息，帮助优化并发编程和避免goroutine泄漏。 堆分析： pprof可以生成堆内存分配和释放的时间序列图，帮助开发人员了解程序在运行过程中的内存分配情况。提供堆内存使用的趋势和波动情况，帮助优化内存管理和减少内存占用。 除了这些功能外，pprof还提供了对运行时调用图的可视化展示。pprof可以很容易地集成到任何Go程序中，只需在程序中导入net/http/pprof包，并启动一个HTTP服务器，就可以通过Web界面查看性能数据。
应用场景 pprof工具的应用场景主要分为两种：
服务型应用：web服务性能分析工具型应用：输入命令行应用等 工具型应用 如果你想在不使用HTTP服务的情况下对应用程序进行性能分析，可以直接使用 runtime/pprof 包中提供的函数来生成性能分析数据。
package main import ( &#34;log&#34; &#34;os&#34; &#34;runtime&#34; &#34;runtime/pprof&#34; &#34;time&#34; ) func main() { Analysis() } func Analysis() { // 创建 CPU 分析文件 cpuProfile, err := os.Create(&#34;./profile/cpu.prof&#34;) if err != nil { log.Fatal(err) } defer cpuProfile.Close() // 开始 CPU 分析 if err := pprof.StartCPUProfile(cpuProfile); err !" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/a48c8c9e7946fe5e440a9a3319c8e5d7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-17T14:52:29+08:00" />
<meta property="article:modified_time" content="2024-03-17T14:52:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【go语言开发】性能分析工具pprof使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>本文主要介绍如何在项目中使用pprof工具。首先简要介绍pprof工具的作用；然后介绍pprof的应用场景，主要分为工具型应用和服务型应用。最后数据分析项目，先采集项目信息，再可视化查看</p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_4" rel="nofollow">前言</a></li><li><a href="#_32" rel="nofollow">应用场景</a></li><li><ul><li><a href="#_38" rel="nofollow">工具型应用</a></li><li><a href="#_101" rel="nofollow">服务型应用</a></li></ul> 
  </li><li><a href="#_294" rel="nofollow">数据分析</a></li><li><ul><li><a href="#_295" rel="nofollow">命令行查看</a></li><li><a href="#_436" rel="nofollow">采集数据</a></li><li><a href="#_457" rel="nofollow">查看数据</a></li><li><ul><li><a href="#top_469" rel="nofollow">top</a></li><li><a href="#Graph_472" rel="nofollow">Graph</a></li><li><a href="#Flame_Graph_474" rel="nofollow">Flame Graph</a></li><li><a href="#Source_478" rel="nofollow">Source</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<blockquote> 
 <p>欢迎大家访问个人博客网址：<a href="https://www.maogeshuo.com" rel="nofollow">https://www.maogeshuo.com</a>，博主努力更新中…</p> 
</blockquote> 
<h2><a id="_4"></a>前言</h2> 
<p><strong>pprof是Go语言的一个性能分析库</strong>，它的名字源于**“Profile”（简称"prof"）**一词。该工具最早由Google开发并用于Go语言的性能分析，它可以帮助开发者找出程序中的性能瓶颈。pprof提供了CPU分析、内存分析、阻塞分析等多种性能分析功能。</p> 
<ol><li><strong>CPU分析</strong>：</li></ol> 
<ul><li>pprof可以通过采样应用程序的运行状态来分析CPU的使用情况，找出哪些函数占用了大量的CPU时间。</li><li>提供CPU使用率最高的函数列表和调用关系，帮助定位程序的CPU性能瓶颈。</li></ul> 
<ol start="2"><li><strong>内存分析</strong>：</li></ol> 
<ul><li>支持对应用程序的内存分配和使用情况进行分析，帮助开发人员发现内存泄漏、高内存消耗的函数等问题。</li><li>提供内存使用最多的函数列表和调用关系，帮助优化内存管理和减少不必要的内存分配。</li></ul> 
<ol start="3"><li><strong>阻塞分析</strong>：</li></ol> 
<ul><li>pprof可以分析应用程序中的阻塞情况，识别并发执行过程中可能存在的阻塞问题。</li><li>提供阻塞最严重的代码段和调用关系，帮助优化并发执行的性能和减少阻塞时间。</li></ul> 
<ol start="4"><li><strong>goroutine分析</strong>：</li></ol> 
<ul><li>支持对应用程序中goroutine的跟踪和分析，帮助理解并发执行情况。</li><li>提供goroutine的数量、状态和调用关系等信息，帮助优化并发编程和避免goroutine泄漏。</li></ul> 
<ol start="5"><li><strong>堆分析</strong>：</li></ol> 
<ul><li>pprof可以生成堆内存分配和释放的时间序列图，帮助开发人员了解程序在运行过程中的内存分配情况。</li><li>提供堆内存使用的趋势和波动情况，帮助优化内存管理和减少内存占用。</li></ul> 
<p>除了这些功能外，pprof还提供了对运行时调用图的可视化展示。pprof可以很容易地集成到任何Go程序中，只需在程序中导入net/http/pprof包，并启动一个HTTP服务器，就可以通过Web界面查看性能数据。</p> 
<h2><a id="_32"></a>应用场景</h2> 
<p>pprof工具的应用场景主要分为两种：</p> 
<ul><li><strong>服务型应用</strong>：web服务性能分析</li><li><strong>工具型应用</strong>：输入命令行应用等</li></ul> 
<h3><a id="_38"></a>工具型应用</h3> 
<p>如果你想在不使用HTTP服务的情况下对应用程序进行性能分析，可以直接使用 runtime/pprof 包中提供的函数来生成性能分析数据。</p> 
<pre><code class="prism language-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"log"</span>
	<span class="token string">"os"</span>
	<span class="token string">"runtime"</span>
	<span class="token string">"runtime/pprof"</span>
	<span class="token string">"time"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">Analysis</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">Analysis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 创建 CPU 分析文件</span>
	cpuProfile<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token string">"./profile/cpu.prof"</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{<!-- --></span>
		log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">defer</span> cpuProfile<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token comment">// 开始 CPU 分析</span>
	<span class="token keyword">if</span> err <span class="token operator">:=</span> pprof<span class="token punctuation">.</span><span class="token function">StartCPUProfile</span><span class="token punctuation">(</span>cpuProfile<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{<!-- --></span>
		log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">defer</span> pprof<span class="token punctuation">.</span><span class="token function">StopCPUProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token comment">// 模拟一些 CPU 密集型工作</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{<!-- --></span>
		<span class="token boolean">_</span> <span class="token operator">=</span> i <span class="token operator">*</span> i
	<span class="token punctuation">}</span>

	<span class="token comment">// 创建内存分析文件</span>
	memProfile<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token string">"./profile/mem.prof"</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{<!-- --></span>
		log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">defer</span> memProfile<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token comment">// 强制进行垃圾回收，以便获取准确的内存分析数据</span>
	runtime<span class="token punctuation">.</span><span class="token function">GC</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token comment">// 开始内存分析</span>
	<span class="token keyword">if</span> err <span class="token operator">:=</span> pprof<span class="token punctuation">.</span><span class="token function">WriteHeapProfile</span><span class="token punctuation">(</span>memProfile<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{<!-- --></span>
		log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 模拟一些内存使用</span>
	data <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token operator">*</span><span class="token number">1024</span><span class="token punctuation">)</span>
	<span class="token boolean">_</span> <span class="token operator">=</span> data

	time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span> <span class="token comment">// 等待一段时间以便生成分析数据</span>

	log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"完成性能分析"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> 
<h3><a id="_101"></a>服务型应用</h3> 
<p>我们这里使用gin框架，结合<a href="https://github.com/gin-contrib/pprof">https://github.com/gin-contrib/pprof</a></p> 
<pre><code class="prism language-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	webpprof <span class="token string">"github.com/gin-contrib/pprof"</span>
	<span class="token string">"github.com/gin-gonic/gin"</span>
	<span class="token string">"log"</span>
	<span class="token string">"net/http"</span>
	<span class="token string">"os"</span>
	<span class="token string">"runtime"</span>
	<span class="token string">"runtime/pprof"</span>

	<span class="token string">"time"</span>
<span class="token punctuation">)</span>

<span class="token keyword">const</span> Port <span class="token operator">=</span> <span class="token string">":10000"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">WebAnalysis</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">WebAnalysis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	g <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	g<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/test"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"测试成功"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	webpprof<span class="token punctuation">.</span><span class="token function">Register</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span> <span class="token comment">// 注入HandlerFuncs</span>
	g<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span>Port<span class="token punctuation">)</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>启动后日志打印如下：<br> <img src="https://images2.imgbox.com/f7/df/glBPM57U_o.png" alt="在这里插入图片描述"></p> 
<p>查看<code>github.com/gin-contrib/pprof</code>代码，发现<code>gin.Engine</code>将<code>net/http/pprof</code>的函数封装成标准的<code>HandlerFuncs</code>，也就是将func(w http.ResponseWriter, r *http.Request)格式函数转换为gin.HandlerFunc</p> 
<pre><code class="prism language-go"><span class="token keyword">package</span> pprof

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"net/http/pprof"</span>

	<span class="token string">"github.com/gin-gonic/gin"</span>
<span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token punctuation">(</span>
	<span class="token comment">// DefaultPrefix url prefix of pprof</span>
	DefaultPrefix <span class="token operator">=</span> <span class="token string">"/debug/pprof"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">getPrefix</span><span class="token punctuation">(</span>prefixOptions <span class="token operator">...</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{<!-- --></span>
	prefix <span class="token operator">:=</span> DefaultPrefix
	<span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>prefixOptions<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{<!-- --></span>
		prefix <span class="token operator">=</span> prefixOptions<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> prefix
<span class="token punctuation">}</span>

<span class="token comment">// Register the standard HandlerFuncs from the net/http/pprof package with</span>
<span class="token comment">// the provided gin.Engine. prefixOptions is a optional. If not prefixOptions,</span>
<span class="token comment">// the default path prefix is used, otherwise first prefixOptions will be path prefix.</span>
<span class="token keyword">func</span> <span class="token function">Register</span><span class="token punctuation">(</span>r <span class="token operator">*</span>gin<span class="token punctuation">.</span>Engine<span class="token punctuation">,</span> prefixOptions <span class="token operator">...</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">RouteRegister</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>RouterGroup<span class="token punctuation">)</span><span class="token punctuation">,</span> prefixOptions<span class="token operator">...</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// RouteRegister the standard HandlerFuncs from the net/http/pprof package with</span>
<span class="token comment">// the provided gin.GrouterGroup. prefixOptions is a optional. If not prefixOptions,</span>
<span class="token comment">// the default path prefix is used, otherwise first prefixOptions will be path prefix.</span>
<span class="token keyword">func</span> <span class="token function">RouteRegister</span><span class="token punctuation">(</span>rg <span class="token operator">*</span>gin<span class="token punctuation">.</span>RouterGroup<span class="token punctuation">,</span> prefixOptions <span class="token operator">...</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	prefix <span class="token operator">:=</span> <span class="token function">getPrefix</span><span class="token punctuation">(</span>prefixOptions<span class="token operator">...</span><span class="token punctuation">)</span>

	prefixRouter <span class="token operator">:=</span> rg<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span>prefix<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		prefixRouter<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span><span class="token function">WrapF</span><span class="token punctuation">(</span>pprof<span class="token punctuation">.</span>Index<span class="token punctuation">)</span><span class="token punctuation">)</span>
		prefixRouter<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/cmdline"</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span><span class="token function">WrapF</span><span class="token punctuation">(</span>pprof<span class="token punctuation">.</span>Cmdline<span class="token punctuation">)</span><span class="token punctuation">)</span>
		prefixRouter<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/profile"</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span><span class="token function">WrapF</span><span class="token punctuation">(</span>pprof<span class="token punctuation">.</span>Profile<span class="token punctuation">)</span><span class="token punctuation">)</span>
		prefixRouter<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">"/symbol"</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span><span class="token function">WrapF</span><span class="token punctuation">(</span>pprof<span class="token punctuation">.</span>Symbol<span class="token punctuation">)</span><span class="token punctuation">)</span>
		prefixRouter<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/symbol"</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span><span class="token function">WrapF</span><span class="token punctuation">(</span>pprof<span class="token punctuation">.</span>Symbol<span class="token punctuation">)</span><span class="token punctuation">)</span>
		prefixRouter<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/trace"</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span><span class="token function">WrapF</span><span class="token punctuation">(</span>pprof<span class="token punctuation">.</span>Trace<span class="token punctuation">)</span><span class="token punctuation">)</span>
		prefixRouter<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/allocs"</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span><span class="token function">WrapH</span><span class="token punctuation">(</span>pprof<span class="token punctuation">.</span><span class="token function">Handler</span><span class="token punctuation">(</span><span class="token string">"allocs"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		prefixRouter<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/block"</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span><span class="token function">WrapH</span><span class="token punctuation">(</span>pprof<span class="token punctuation">.</span><span class="token function">Handler</span><span class="token punctuation">(</span><span class="token string">"block"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		prefixRouter<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/goroutine"</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span><span class="token function">WrapH</span><span class="token punctuation">(</span>pprof<span class="token punctuation">.</span><span class="token function">Handler</span><span class="token punctuation">(</span><span class="token string">"goroutine"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		prefixRouter<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/heap"</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span><span class="token function">WrapH</span><span class="token punctuation">(</span>pprof<span class="token punctuation">.</span><span class="token function">Handler</span><span class="token punctuation">(</span><span class="token string">"heap"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		prefixRouter<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/mutex"</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span><span class="token function">WrapH</span><span class="token punctuation">(</span>pprof<span class="token punctuation">.</span><span class="token function">Handler</span><span class="token punctuation">(</span><span class="token string">"mutex"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		prefixRouter<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/threadcreate"</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span><span class="token function">WrapH</span><span class="token punctuation">(</span>pprof<span class="token punctuation">.</span><span class="token function">Handler</span><span class="token punctuation">(</span><span class="token string">"threadcreate"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>实际上<code>net/http/pprof</code>库中已初始化的函数有Index等，并在此基础上再wrap了heap、mutex等</p> 
<pre><code class="prism language-go">
<span class="token comment">// Package pprof serves via its HTTP server runtime profiling data</span>
<span class="token comment">// in the format expected by the pprof visualization tool.</span>
<span class="token comment">//</span>
<span class="token comment">// The package is typically only imported for the side effect of</span>
<span class="token comment">// registering its HTTP handlers.</span>
<span class="token comment">// The handled paths all begin with /debug/pprof/.</span>
<span class="token comment">//</span>
<span class="token comment">// To use pprof, link this package into your program:</span>
<span class="token comment">//</span>
<span class="token comment">//	import _ "net/http/pprof"</span>
<span class="token comment">//</span>
<span class="token comment">// If your application is not already running an http server, you</span>
<span class="token comment">// need to start one. Add "net/http" and "log" to your imports and</span>
<span class="token comment">// the following code to your main function:</span>
<span class="token comment">//</span>
<span class="token comment">//	go func() {<!-- --></span>
<span class="token comment">//		log.Println(http.ListenAndServe("localhost:6060", nil))</span>
<span class="token comment">//	}()</span>
<span class="token comment">//</span>
<span class="token comment">// By default, all the profiles listed in [runtime/pprof.Profile] are</span>
<span class="token comment">// available (via [Handler]), in addition to the [Cmdline], [Profile], [Symbol],</span>
<span class="token comment">// and [Trace] profiles defined in this package.</span>
<span class="token comment">// If you are not using DefaultServeMux, you will have to register handlers</span>
<span class="token comment">// with the mux you are using.</span>
<span class="token comment">//</span>
<span class="token comment">// # Usage examples</span>
<span class="token comment">//</span>
<span class="token comment">// Use the pprof tool to look at the heap profile:</span>
<span class="token comment">//</span>
<span class="token comment">//	go tool pprof http://localhost:6060/debug/pprof/heap</span>
<span class="token comment">//</span>
<span class="token comment">// Or to look at a 30-second CPU profile:</span>
<span class="token comment">//</span>
<span class="token comment">//	go tool pprof http://localhost:6060/debug/pprof/profile?seconds=30</span>
<span class="token comment">//</span>
<span class="token comment">// Or to look at the goroutine blocking profile, after calling</span>
<span class="token comment">// runtime.SetBlockProfileRate in your program:</span>
<span class="token comment">//</span>
<span class="token comment">//	go tool pprof http://localhost:6060/debug/pprof/block</span>
<span class="token comment">//</span>
<span class="token comment">// Or to look at the holders of contended mutexes, after calling</span>
<span class="token comment">// runtime.SetMutexProfileFraction in your program:</span>
<span class="token comment">//</span>
<span class="token comment">//	go tool pprof http://localhost:6060/debug/pprof/mutex</span>
<span class="token comment">//</span>
<span class="token comment">// The package also exports a handler that serves execution trace data</span>
<span class="token comment">// for the "go tool trace" command. To collect a 5-second execution trace:</span>
<span class="token comment">//</span>
<span class="token comment">//	curl -o trace.out http://localhost:6060/debug/pprof/trace?seconds=5</span>
<span class="token comment">//	go tool trace trace.out</span>
<span class="token comment">//</span>
<span class="token comment">// To view all available profiles, open http://localhost:6060/debug/pprof/</span>
<span class="token comment">// in your browser.</span>
<span class="token comment">//</span>
<span class="token comment">// For a study of the facility in action, visit</span>
<span class="token comment">//</span>
<span class="token comment">//	https://blog.golang.org/2011/06/profiling-go-programs.html</span>
<span class="token keyword">package</span> pprof

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"bufio"</span>
	<span class="token string">"bytes"</span>
	<span class="token string">"context"</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"html"</span>
	<span class="token string">"internal/profile"</span>
	<span class="token string">"io"</span>
	<span class="token string">"log"</span>
	<span class="token string">"net/http"</span>
	<span class="token string">"net/url"</span>
	<span class="token string">"os"</span>
	<span class="token string">"runtime"</span>
	<span class="token string">"runtime/pprof"</span>
	<span class="token string">"runtime/trace"</span>
	<span class="token string">"sort"</span>
	<span class="token string">"strconv"</span>
	<span class="token string">"strings"</span>
	<span class="token string">"time"</span>
<span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	http<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">"/debug/pprof/"</span><span class="token punctuation">,</span> Index<span class="token punctuation">)</span>
	http<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">"/debug/pprof/cmdline"</span><span class="token punctuation">,</span> Cmdline<span class="token punctuation">)</span>
	http<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">"/debug/pprof/profile"</span><span class="token punctuation">,</span> Profile<span class="token punctuation">)</span>
	http<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">"/debug/pprof/symbol"</span><span class="token punctuation">,</span> Symbol<span class="token punctuation">)</span>
	http<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">"/debug/pprof/trace"</span><span class="token punctuation">,</span> Trace<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>浏览器输入<a href="http://localhost:10000/debug/pprof/" rel="nofollow">http://localhost:10000/debug/pprof/</a><br> pprof能分析9项信息</p> 
<p><img src="https://images2.imgbox.com/14/01/7YLH5QxX_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_294"></a>数据分析</h2> 
<h3><a id="_295"></a>命令行查看</h3> 
<pre><code class="prism language-go"><span class="token keyword">go</span> tool pprof
usage<span class="token punctuation">:</span>

Produce output in the specified format<span class="token punctuation">.</span>

   pprof <span class="token operator">&lt;</span>format<span class="token operator">&gt;</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>binary<span class="token punctuation">]</span> <span class="token operator">&lt;</span>source<span class="token operator">&gt;</span> <span class="token operator">...</span>

Omit the format to get an interactive shell whose commands can be used
to generate various views of a profile

   pprof <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>binary<span class="token punctuation">]</span> <span class="token operator">&lt;</span>source<span class="token operator">&gt;</span> <span class="token operator">...</span>

Omit the format and provide the <span class="token string">"-http"</span> flag to get an interactive web
<span class="token keyword">interface</span> at the specified host<span class="token punctuation">:</span>port that can be used to navigate through
various views of a profile<span class="token punctuation">.</span>

   pprof <span class="token operator">-</span>http <span class="token punctuation">[</span>host<span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token punctuation">[</span>port<span class="token punctuation">]</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>binary<span class="token punctuation">]</span> <span class="token operator">&lt;</span>source<span class="token operator">&gt;</span> <span class="token operator">...</span>

Details<span class="token punctuation">:</span>
  Output formats <span class="token punctuation">(</span><span class="token keyword">select</span> at most one<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token operator">-</span>callgrind       Outputs a graph in callgrind format
    <span class="token operator">-</span>comments        Output all profile comments
    <span class="token operator">-</span>disasm          Output assembly listings annotated with samples
    <span class="token operator">-</span>dot             Outputs a graph in DOT format
    <span class="token operator">-</span>eog             Visualize graph through eog
    <span class="token operator">-</span>evince          Visualize graph through evince
    <span class="token operator">-</span>gif             Outputs a graph image in GIF format
    <span class="token operator">-</span>gv              Visualize graph through gv
    <span class="token operator">-</span>kcachegrind     Visualize report in KCachegrind
    <span class="token operator">-</span>list            Output annotated source <span class="token keyword">for</span> functions matching regexp
    <span class="token operator">-</span>pdf             Outputs a graph in PDF format
    <span class="token operator">-</span>peek            Output callers<span class="token operator">/</span>callees of functions matching regexp
    <span class="token operator">-</span>png             Outputs a graph image in PNG format
    <span class="token operator">-</span>proto           Outputs the profile in compressed protobuf format
    <span class="token operator">-</span>ps              Outputs a graph in PS format
    <span class="token operator">-</span>raw             Outputs a text representation of the raw profile
    <span class="token operator">-</span>svg             Outputs a graph in SVG format
    <span class="token operator">-</span>tags            Outputs all tags in the profile
    <span class="token operator">-</span>text            Outputs top entries in text form
    <span class="token operator">-</span>top             Outputs top entries in text form
    <span class="token operator">-</span>topproto        Outputs top entries in compressed protobuf format
    <span class="token operator">-</span>traces          Outputs all profile samples in text form
    <span class="token operator">-</span>tree            Outputs a text rendering of call graph
    <span class="token operator">-</span>web             Visualize graph through web browser
    <span class="token operator">-</span>weblist         Display annotated source in a web browser

  Options<span class="token punctuation">:</span>
    <span class="token operator">-</span>call_tree       Create a context<span class="token operator">-</span>sensitive call tree
    <span class="token operator">-</span>compact_labels  Show minimal headers
    <span class="token operator">-</span>divide_by       Ratio to divide all samples before visualization
    <span class="token operator">-</span>drop_negative   Ignore negative differences
    <span class="token operator">-</span>edgefraction    Hide edges below <span class="token operator">&lt;</span>f<span class="token operator">&gt;</span><span class="token operator">*</span>total
    <span class="token operator">-</span>focus           Restricts to samples going through a node matching regexp
    <span class="token operator">-</span>hide            Skips nodes matching regexp
    <span class="token operator">-</span>ignore          Skips paths going through any nodes matching regexp
    <span class="token operator">-</span>intel_syntax    Show assembly in Intel syntax
    <span class="token operator">-</span>mean            Average sample value over first value <span class="token punctuation">(</span>count<span class="token punctuation">)</span>
    <span class="token operator">-</span>nodecount       Max number of nodes to show
    <span class="token operator">-</span>nodefraction    Hide nodes below <span class="token operator">&lt;</span>f<span class="token operator">&gt;</span><span class="token operator">*</span>total
    <span class="token operator">-</span>noinlines       Ignore inlines<span class="token punctuation">.</span>
    <span class="token operator">-</span>normalize       Scales profile based on the base profile<span class="token punctuation">.</span>
    <span class="token operator">-</span>output          Output filename <span class="token keyword">for</span> file<span class="token operator">-</span>based outputs
    <span class="token operator">-</span>prune_from      Drops any functions below the matched frame<span class="token punctuation">.</span>
    <span class="token operator">-</span>relative_percentages Show percentages relative to focused subgraph
    <span class="token operator">-</span>sample_index    Sample value to report <span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">-</span>based index or name<span class="token punctuation">)</span>
    <span class="token operator">-</span>show            Only show nodes matching regexp
    <span class="token operator">-</span>show_from       Drops functions above the highest matched frame<span class="token punctuation">.</span>
    <span class="token operator">-</span>source_path     Search path <span class="token keyword">for</span> source files
    <span class="token operator">-</span>tagfocus        Restricts to samples with tags in <span class="token keyword">range</span> or matched by regexp
    <span class="token operator">-</span>taghide         Skip tags matching this regexp
    <span class="token operator">-</span>tagignore       Discard samples with tags in <span class="token keyword">range</span> or matched by regexp
    <span class="token operator">-</span>tagleaf         Adds pseudo stack frames <span class="token keyword">for</span> labels key<span class="token operator">/</span>value pairs at the callstack leaf<span class="token punctuation">.</span>
    <span class="token operator">-</span>tagroot         Adds pseudo stack frames <span class="token keyword">for</span> labels key<span class="token operator">/</span>value pairs at the callstack root<span class="token punctuation">.</span>
    <span class="token operator">-</span>tagshow         Only consider tags matching this regexp
    <span class="token operator">-</span>trim            Honor nodefraction<span class="token operator">/</span>edgefraction<span class="token operator">/</span>nodecount defaults
    <span class="token operator">-</span>trim_path       Path to trim from source paths before search
    <span class="token operator">-</span>unit            Measurement units to display

  Option groups <span class="token punctuation">(</span>only set one per group<span class="token punctuation">)</span><span class="token punctuation">:</span>
    granularity
      <span class="token operator">-</span>functions       Aggregate at the function level<span class="token punctuation">.</span>
      <span class="token operator">-</span>filefunctions   Aggregate at the function level<span class="token punctuation">.</span>
      <span class="token operator">-</span>files           Aggregate at the file level<span class="token punctuation">.</span>
      <span class="token operator">-</span>lines           Aggregate at the source code line level<span class="token punctuation">.</span>
      <span class="token operator">-</span>addresses       Aggregate at the address level<span class="token punctuation">.</span>
    sort
      <span class="token operator">-</span>cum             Sort entries based on cumulative weight
      <span class="token operator">-</span>flat            Sort entries based on own weight

  Source options<span class="token punctuation">:</span>
    <span class="token operator">-</span>seconds              Duration <span class="token keyword">for</span> time<span class="token operator">-</span>based profile collection
    <span class="token operator">-</span>timeout              Timeout in seconds <span class="token keyword">for</span> profile collection
    <span class="token operator">-</span>buildid              Override build id <span class="token keyword">for</span> main binary
    <span class="token operator">-</span>add_comment          Free<span class="token operator">-</span>form annotation to add to the profile
                          Displayed on some reports or with pprof <span class="token operator">-</span>comments
    <span class="token operator">-</span>diff_base source     Source of base profile <span class="token keyword">for</span> comparison
    <span class="token operator">-</span>base source          Source of base profile <span class="token keyword">for</span> profile subtraction
    profile<span class="token punctuation">.</span>pb<span class="token punctuation">.</span>gz         Profile in compressed protobuf format
    legacy_profile        Profile in legacy pprof format
    http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>profile   URL <span class="token keyword">for</span> profile handler to retrieve
    <span class="token operator">-</span>symbolize<span class="token operator">=</span>           Controls source of symbol information
      none                  Do not attempt symbolization
      local                 Examine only local binaries
      fastlocal             Only get function names from local binaries
      remote                Do not examine local binaries
      force                 Force re<span class="token operator">-</span>symbolization
    Binary                  Local path or build id of binary <span class="token keyword">for</span> symbolization
    <span class="token operator">-</span>tls_cert             TLS client certificate file <span class="token keyword">for</span> fetching profile and symbols
    <span class="token operator">-</span>tls_key              TLS private key file <span class="token keyword">for</span> fetching profile and symbols
    <span class="token operator">-</span>tls_ca               TLS CA certs file <span class="token keyword">for</span> fetching profile and symbols

  Misc options<span class="token punctuation">:</span>
   <span class="token operator">-</span>http              Provide web <span class="token keyword">interface</span> at host<span class="token punctuation">:</span>port<span class="token punctuation">.</span>
                      Host is optional and <span class="token char">'localhost'</span> by <span class="token keyword">default</span><span class="token punctuation">.</span>
                      Port is optional and a randomly available port by <span class="token keyword">default</span><span class="token punctuation">.</span>
   <span class="token operator">-</span>no_browser        Skip opening a browser <span class="token keyword">for</span> the interactive web UI<span class="token punctuation">.</span>
   <span class="token operator">-</span>tools             Search path <span class="token keyword">for</span> object tools

  Legacy convenience options<span class="token punctuation">:</span>
   <span class="token operator">-</span>inuse_space           Same as <span class="token operator">-</span>sample_index<span class="token operator">=</span>inuse_space
   <span class="token operator">-</span>inuse_objects         Same as <span class="token operator">-</span>sample_index<span class="token operator">=</span>inuse_objects
   <span class="token operator">-</span>alloc_space           Same as <span class="token operator">-</span>sample_index<span class="token operator">=</span>alloc_space
   <span class="token operator">-</span>alloc_objects         Same as <span class="token operator">-</span>sample_index<span class="token operator">=</span>alloc_objects
   <span class="token operator">-</span>total_delay           Same as <span class="token operator">-</span>sample_index<span class="token operator">=</span>delay
   <span class="token operator">-</span>contentions           Same as <span class="token operator">-</span>sample_index<span class="token operator">=</span>contentions
   <span class="token operator">-</span>mean_delay            Same as <span class="token operator">-</span>mean <span class="token operator">-</span>sample_index<span class="token operator">=</span>delay

  Environment Variables<span class="token punctuation">:</span>
   PPROF_TMPDIR       Location <span class="token keyword">for</span> saved profiles <span class="token punctuation">(</span><span class="token keyword">default</span> $HOME<span class="token operator">/</span>pprof<span class="token punctuation">)</span>
   PPROF_TOOLS        Search path <span class="token keyword">for</span> object<span class="token operator">-</span>level tools
   PPROF_BINARY_PATH  Search path <span class="token keyword">for</span> local binary files
                      <span class="token keyword">default</span><span class="token punctuation">:</span> $HOME<span class="token operator">/</span>pprof<span class="token operator">/</span>binaries
                      searches $buildid<span class="token operator">/</span>$name<span class="token punctuation">,</span> $buildid<span class="token comment">/*, $path/$buildid,
                      ${buildid:0:2}/${buildid:2}.debug, $name, $path
   * On Windows, %USERPROFILE% is used instead of $HOME
no profile source specified
</span></code></pre> 
<h3><a id="_436"></a>采集数据</h3> 
<p>可以将每项数据统一采集下来，再具体分析</p> 
<pre><code class="prism language-go"><span class="token keyword">go</span> tool pprof http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">10000</span><span class="token operator">/</span>debug<span class="token operator">/</span>pprof<span class="token operator">/</span>allocs
<span class="token keyword">go</span> tool pprof http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">10000</span><span class="token operator">/</span>debug<span class="token operator">/</span>pprof<span class="token operator">/</span>block
<span class="token keyword">go</span> tool pprof http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">10000</span><span class="token operator">/</span>debug<span class="token operator">/</span>pprof<span class="token operator">/</span>cmdline
<span class="token keyword">go</span> tool pprof http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">10000</span><span class="token operator">/</span>debug<span class="token operator">/</span>pprof<span class="token operator">/</span>heap
<span class="token keyword">go</span> tool pprof http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">10000</span><span class="token operator">/</span>debug<span class="token operator">/</span>pprof<span class="token operator">/</span>mutex
<span class="token keyword">go</span> tool pprof http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">10000</span><span class="token operator">/</span>debug<span class="token operator">/</span>pprof<span class="token operator">/</span>profile
<span class="token keyword">go</span> tool pprof http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">10000</span><span class="token operator">/</span>debug<span class="token operator">/</span>pprof<span class="token operator">/</span>threadcreate
<span class="token keyword">go</span> tool pprof http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">10000</span><span class="token operator">/</span>debug<span class="token operator">/</span>pprof<span class="token operator">/</span>trace
</code></pre> 
<p>终端中运行以下命令，性能分析allocs数据：<br> <img src="https://images2.imgbox.com/df/25/2KC7RXqa_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/4f/cb/rb6Fsgbj_o.png" alt="在这里插入图片描述"></p> 
<p>在进入 pprof 命令行界面后，你可以输入不同的命令来查看不同类型的分析数据，比如 top 查看 CPU 使用最多的函数，list 查看某个函数的详细信息，web 可以在浏览器中打开交互式图形界面等。</p> 
<h3><a id="_457"></a>查看数据</h3> 
<p>查看数据，可以选择web形式，可视化效果直观，打开收集好的<code>pb.gz</code>文件<br> UI显示依赖<code>graphviz</code>库 ，mac安装使用命令为：<code>brew install graphviz</code></p> 
<pre><code class="prism language-go"><span class="token keyword">go</span> tool pprof <span class="token operator">-</span>http<span class="token punctuation">:</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span>port pb<span class="token punctuation">.</span>gz路径 <span class="token comment">//参考截图使用</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/fb/d4/qwo7w0IY_o.png" alt="在这里插入图片描述"><br> 浏览器输入<a href="http://127.0.0.1:8082/ui/" rel="nofollow">http://127.0.0.1:8082/ui/</a>，UI上查看各项信息<br> <img src="https://images2.imgbox.com/10/86/T17nyQcY_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="top_469"></a>top</h4> 
<p>查看CPU/内存占有率最高的接口<br> <img src="https://images2.imgbox.com/57/d6/iftQTTCb_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Graph_472"></a>Graph</h4> 
<p><img src="https://images2.imgbox.com/d8/e2/53rO7pgL_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Flame_Graph_474"></a>Flame Graph</h4> 
<p><img src="https://images2.imgbox.com/b7/26/fpTO9joR_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Source_478"></a>Source</h4> 
<p><img src="https://images2.imgbox.com/03/a4/SsTZjBGt_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/462ce08319170efc9efa5c427464570e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">数据结构/C&#43;&#43;：红黑树</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f1651164bdc22a68efabcb6582b212b6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">简单高效多语言请求的主流电商平台API数据采集实时接口如何采集数据</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>