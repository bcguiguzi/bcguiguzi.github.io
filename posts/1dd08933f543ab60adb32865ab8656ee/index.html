<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>使用WinINet和WinHTTP实现Http访问 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="使用WinINet和WinHTTP实现Http访问" />
<meta property="og:description" content="Http访问有两种方式，GET和POST，就编程来说GET方式相对简单点，它不用向服务器提交数据，在这个例程中我使用POST方式，提交数据value1与value2，并从服务器得到他们的和（value1 &#43; value2）。
为实现Http访问，微软提供了二套API：WinINet, WinHTTP。WinHTTP比WinINet更加安全和健壮，可以这么认为WinHTTP是WinINet的升级版本。这两套API包含了很多相似的函数与宏定义，呵呵，详细对比请查阅msdn中的文章“Porting WinINet Applications to WinHTTP”，在线MSDN连接：http://msdn2.microsoft.com/en-us/library/aa384068.aspx。在这个例程中，通过一个宏的设置来决定是使用WinHttp还是WinINet。代码如下:
#define USE_WINHTTP //Comment this line to user wininet.
下面来说说实现Http访问的流程（两套API都一样的流程）：
1， 首先我们打开一个Session获得一个HINTERNET session句柄；
2， 然后我们使用这个session句柄与服务器连接得到一个HINTERNET connect句柄；
3， 然后我们使用这个connect句柄来打开Http 请求得到一个HINTERNET request句柄；
4， 这时我们就可以使用这个request句柄来发送数据与读取从服务器返回的数据；
5， 最后依次关闭request，connect，session句柄。
在这个例程中以上各个流程都进行了简单封装，以便对比两套API函数的些许差异。下面让源代码说话，原工程是一个windows控制台工程，你可以很容易通过拷贝代码重建工程。
另：如果你从服务器得到的返回数据是utf8格式的文本数据，你将需要对返回的数据进行转换才能正确显示中文，日文等。仅供参考，转换为ATL CStringW的函数见下：
CStringW GetStringWFromUtf8( const std::string &amp; str)
{
int len = MultiByteToWideChar(CP_UTF8, 0, str.c_str(), int(str.length()), 0, 0);
CStringW buf;
WCHAR* dd = buf.GetBuffer(len);
len = MultiByteToWideChar(CP_UTF8, 0, str.c_str(), int(str.length()), dd, len);
buf.ReleaseBuffer(len);
return buf;
} 完整代码如下： 1 // HttpPost." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/1dd08933f543ab60adb32865ab8656ee/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-07-24T21:46:10+08:00" />
<meta property="article:modified_time" content="2014-07-24T21:46:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">使用WinINet和WinHTTP实现Http访问</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="postText" style="padding:10px 10px 5px 3px; font-size:13px; line-height:16px; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"> 
 <p style="line-height:19px; margin-top:10px; margin-bottom:10px; text-indent:20px"> <span style="line-height:15px">Http</span><span style="line-height:15px">访问有两种方式，</span><span style="line-height:15px">GET</span><span style="line-height:15px">和</span><span style="line-height:15px">POST</span><span style="line-height:15px">，就编程来说</span><span style="line-height:15px">GET</span><span style="line-height:15px">方式相对简单点，它不用向服务器提交数据，在这个例程中我使用</span><span style="line-height:15px">POST</span><span style="line-height:15px">方式，提交数据</span><span style="line-height:15px">value1</span><span style="line-height:15px">与</span><span style="line-height:15px">value2</span><span style="line-height:15px">，并从服务器得到他们的和（</span><span style="line-height:15px">value1 + value2</span><span style="line-height:15px">）。</span></p> 
 <p style="line-height:19px; margin-top:10px; margin-bottom:10px; text-indent:20px"> <span style="line-height:15px">为实现</span><span style="line-height:15px">Http</span><span style="line-height:15px">访问，微软提供了二</span><span style="line-height:15px">套</span><span style="line-height:15px">API</span><span style="line-height:15px">：</span><span style="line-height:15px">WinINet, WinHTTP</span><span style="line-height:15px">。</span><span style="line-height:15px">WinHTTP</span><span style="line-height:15px">比</span><span style="line-height:15px">WinINet</span><span style="line-height:15px">更加安全和健壮</span><span style="line-height:15px">，</span><span style="line-height:15px">可以这么认为</span><span style="line-height:15px">WinHTTP</span><span style="line-height:15px">是</span><span style="line-height:15px">WinINet</span><span style="line-height:15px">的升级版本</span><span style="line-height:15px">。</span><span style="line-height:15px">这两套</span><span style="line-height:15px">API</span><span style="line-height:15px">包含了很多相似的函数与宏定义，呵呵，详细对比请查阅</span><span style="line-height:15px">msdn</span><span style="line-height:15px">中的文章“</span><strong><span style="line-height:15px">Porting WinINet Applications to WinHTTP</span></strong><span style="line-height:15px">”，在线</span><span style="line-height:15px">MSDN</span><span style="line-height:15px">连接：</span><span style="line-height:15px"><a target="_blank" href="http://msdn2.microsoft.com/en-us/library/aa384068.aspx" rel="nofollow noopener noreferrer" style="color:navy; text-decoration:none">http://msdn2.microsoft.com/en-us/library/aa384068.aspx</a></span><span style="line-height:15px">。在这个例程中，通过一个宏的设置来决定是使用</span><span style="line-height:15px">WinHttp</span><span style="line-height:15px">还是</span><span style="line-height:15px">WinINet</span><span style="line-height:15px">。代码如下</span><span style="line-height:15px">:</span></p> 
 <p style="line-height:19px; margin-top:10px; margin-bottom:10px; text-indent:20px"> <span style="line-height:15px">#define</span><span style="line-height:15px"> USE_WINHTTP      //Comment this line to user wininet.<br> <br> </span></p> 
 <p style="line-height:19px; margin-top:10px; margin-bottom:10px; text-indent:20px"> <span style="line-height:15px">下面来说说实现</span><span style="line-height:15px">Http</span><span style="line-height:15px">访问的流程（两套</span><span style="line-height:15px">API</span><span style="line-height:15px">都一样的流程）：</span></p> 
 <p style="line-height:19px; margin-top:10px; margin-bottom:10px; text-indent:20px"> <span style="line-height:15px">1， </span><span style="line-height:15px">首先我们打开一个</span><span style="line-height:15px">Session</span><span style="line-height:15px">获得一个</span><span style="line-height:15px">HINTERNET</span><span style="line-height:15px"> session</span><span style="line-height:15px">句柄；</span></p> 
 <p style="line-height:19px; margin-top:10px; margin-bottom:10px; text-indent:20px"> <span style="line-height:15px">2， </span><span style="line-height:15px">然后我们使用这个</span><span style="line-height:15px">session</span><span style="line-height:15px">句柄与服务器连接得到一个</span><span style="line-height:15px">HINTERNET</span><span style="line-height:15px"> connect</span><span style="line-height:15px">句柄；</span></p> 
 <p style="line-height:19px; margin-top:10px; margin-bottom:10px; text-indent:20px"> <span style="line-height:15px">3， </span><span style="line-height:15px">然后我们使用这个</span><span style="line-height:15px">connect</span><span style="line-height:15px">句柄来打开</span><span style="line-height:15px">Http </span><span style="line-height:15px">请求得到一个</span><span style="line-height:15px">HINTERNET</span><span style="line-height:15px"> request</span><span style="line-height:15px">句柄；</span></p> 
 <p style="line-height:19px; margin-top:10px; margin-bottom:10px; text-indent:20px"> <span style="line-height:15px">4， </span><span style="line-height:15px">这时我们就可以使用这个</span><span style="line-height:15px">request</span><span style="line-height:15px">句柄来发送数据与读取从服务器返回的数据；</span></p> 
 <p style="line-height:19px; margin-top:10px; margin-bottom:10px; text-indent:20px"> <span style="line-height:15px">5， </span><span style="line-height:15px">最后依次关闭</span><span style="line-height:15px">request</span><span style="line-height:15px">，</span><span style="line-height:15px">connect</span><span style="line-height:15px">，</span><span style="line-height:15px">session</span><span style="line-height:15px">句柄。</span></p> 
 <p style="line-height:19px; margin-top:10px; margin-bottom:10px; text-indent:20px">  </p> 
 <p style="line-height:19px; margin-top:10px; margin-bottom:10px; text-indent:20px"> <span style="line-height:15px">在这个例程中以上各个流程都进行了简单封装，以便对比两套</span><span style="line-height:15px">API</span><span style="line-height:15px">函数的些许差异。下面让源代码说话，原工程是一个</span><span style="line-height:15px">windows</span><span style="line-height:15px">控制台工程，你可以很容易通过拷贝代码重建工程。</span></p> 
 <p style="line-height:19px; margin-top:10px; margin-bottom:10px; text-indent:20px">  </p> 
 <p style="line-height:19px; margin-top:10px; margin-bottom:10px; text-indent:20px"> <span style="line-height:15px">另：如果你从服务器得到的返回数据是</span><span style="line-height:15px">utf8</span><span style="line-height:15px">格式的文本数据，你将需要对返回的数据进行转换才能正确显示中文，日文等。仅供参考，转换为</span><span style="line-height:15px">ATL CStringW</span><span style="line-height:15px">的函数见下：<br> <br> </span></p> 
 <div style="border:1px solid rgb(204,204,204); padding:4px 5px 4px 4px; width:1297.5167236328125px; word-break:break-all; background-color:rgb(238,238,238)"> 
  <img src="https://images2.imgbox.com/78/9e/8EMuJYMz_o.gif" align="top" alt=""> 
  <span style="line-height:15px">CStringW GetStringWFromUtf8(</span> 
  <span style="line-height:15px; color:rgb(0,0,255)">const</span> 
  <span style="line-height:15px"> std::string</span> 
  <span style="line-height:15px">&amp;</span> 
  <span style="line-height:15px"> str)<br> <img id="Codehighlighter1_52_307_Open_Image" src="https://images2.imgbox.com/21/6c/YnOhh2Y9_o.gif" align="top" alt=""></span> 
  <span id="Codehighlighter1_52_307_Open_Text" style="line-height:15px">{<!-- --><br> <img src="https://images2.imgbox.com/36/8a/zNqmUDIb_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">int</span> len = MultiByteToWideChar(CP_UTF8, 0, str.c_str(), <span style="color:rgb(0,0,255)">int</span>(str.length()), 0, 0);<br> <img src="https://images2.imgbox.com/af/e0/Du88zkzV_o.gif" align="top" alt=""><br> <img src="https://images2.imgbox.com/70/c4/n7HW9hfC_o.gif" align="top" alt="">    CStringW buf;<br> <img src="https://images2.imgbox.com/9f/ce/UW15bZRg_o.gif" align="top" alt="">    WCHAR*    dd = buf.GetBuffer(len);<br> <img src="https://images2.imgbox.com/33/bd/16jcebfe_o.gif" align="top" alt=""><br> <img src="https://images2.imgbox.com/bf/1d/8nhSAq8F_o.gif" align="top" alt="">    len = MultiByteToWideChar(CP_UTF8, 0, str.c_str(), <span style="color:rgb(0,0,255)">int</span>(str.length()), dd, len);<br> <img src="https://images2.imgbox.com/13/07/XJJw3ude_o.gif" align="top" alt=""><br> <img src="https://images2.imgbox.com/6f/da/8Sjut4sl_o.gif" align="top" alt="">    buf.ReleaseBuffer(len);<br> <img src="https://images2.imgbox.com/84/fb/0QS2uoeR_o.gif" align="top" alt=""><br> <img src="https://images2.imgbox.com/26/5f/15h9DjsN_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">return</span> buf;<br> <img src="https://images2.imgbox.com/5f/26/unOYn4QR_o.gif" align="top" alt="">}</span> 
 </div> 
 <br> 完整代码如下： 
 <br> 
 <div style="border:1px solid rgb(204,204,204); padding:4px 5px 4px 4px; width:1297.5167236328125px; word-break:break-all; background-color:rgb(238,238,238)"> 
  <span style="line-height:15px; color:rgb(0,128,128)">  1</span> 
  <img src="https://images2.imgbox.com/e0/01/hKln3GTa_o.gif" align="top" alt=""> 
  <span style="line-height:15px; color:rgb(0,128,0)">//</span> 
  <span style="line-height:15px; color:rgb(0,128,0)"> HttpPost.cpp written by l_zhaohui@163.com<br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">  2</span> 
  <span style="line-height:15px; color:rgb(0,128,0)"><img src="https://images2.imgbox.com/f2/50/HSiiesRZ_o.gif" align="top" alt=""></span> 
  <span style="line-height:15px; color:rgb(0,128,0)">//</span> 
  <span style="line-height:15px; color:rgb(0,128,0)"> 2007/11/30</span> 
  <span style="line-height:15px; color:rgb(0,128,0)"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">  3</span> 
  <span style="line-height:15px; color:rgb(0,128,0)"><img src="https://images2.imgbox.com/f7/cd/GYmslYl1_o.gif" align="top" alt=""></span> 
  <span style="line-height:15px">#include </span> 
  <span style="line-height:15px">"</span> 
  <span style="line-height:15px">stdafx.h</span> 
  <span style="line-height:15px">"</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">  4</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/04/f2/YXVJYe6r_o.gif" align="top" alt="">#include </span> 
  <span style="line-height:15px">&lt;</span> 
  <span style="line-height:15px">windows.h</span> 
  <span style="line-height:15px">&gt;</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">  5</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/a5/8a/mtkUFT2H_o.gif" align="top" alt="">#include </span> 
  <span style="line-height:15px">&lt;</span> 
  <span style="line-height:15px">stdio.h</span> 
  <span style="line-height:15px">&gt;</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">  6</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/6b/f1/yaXf2U9u_o.gif" align="top" alt="">#include </span> 
  <span style="line-height:15px">&lt;</span> 
  <span style="line-height:15px">stdlib.h</span> 
  <span style="line-height:15px">&gt;</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">  7</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/aa/04/u8dH8aHr_o.gif" align="top" alt=""><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">  8</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/6f/5b/BD1u5T5i_o.gif" align="top" alt="">#define _ATL_CSTRING_EXPLICIT_CONSTRUCTORS<br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">  9</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/b3/77/DJsy8stA_o.gif" align="top" alt="">#include </span> 
  <span style="line-height:15px">&lt;</span> 
  <span style="line-height:15px">atlbase.h</span> 
  <span style="line-height:15px">&gt;</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)"> 10</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/26/ec/2o4EN738_o.gif" align="top" alt="">#include </span> 
  <span style="line-height:15px">&lt;</span> 
  <span style="line-height:15px">atlstr.h</span> 
  <span style="line-height:15px">&gt;</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)"> 11</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/c8/69/RGol0OPC_o.gif" align="top" alt=""><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)"> 12</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/b1/f4/iDOhJUHm_o.gif" align="top" alt="">#define USE_WINHTTP    </span> 
  <span style="line-height:15px; color:rgb(0,128,0)">//</span> 
  <span style="line-height:15px; color:rgb(0,128,0)">Comment this line to user wininet.</span> 
  <span style="line-height:15px; color:rgb(0,128,0)"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)"> 13</span> 
  <span style="line-height:15px; color:rgb(0,128,0)"><img src="https://images2.imgbox.com/b9/29/8NzK9fbE_o.gif" align="top" alt=""></span> 
  <span style="line-height:15px">#ifdef USE_WINHTTP<br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)"> 14</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/78/81/v59GsyQb_o.gif" align="top" alt="">    #include </span> 
  <span style="line-height:15px">&lt;</span> 
  <span style="line-height:15px">winhttp.h</span> 
  <span style="line-height:15px">&gt;</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)"> 15</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/35/eb/0TFeWjyg_o.gif" align="top" alt="">    #pragma comment(lib, </span> 
  <span style="line-height:15px">"</span> 
  <span style="line-height:15px">winhttp.lib</span> 
  <span style="line-height:15px">"</span> 
  <span style="line-height:15px">)<br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)"> 16</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/97/eb/D7ps7RbU_o.gif" align="top" alt="">#</span> 
  <span style="line-height:15px; color:rgb(0,0,255)">else</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)"> 17</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/25/ff/E110UrIL_o.gif" align="top" alt="">    #include </span> 
  <span style="line-height:15px">&lt;</span> 
  <span style="line-height:15px">wininet.h</span> 
  <span style="line-height:15px">&gt;</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)"> 18</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/28/72/hBVyrCoZ_o.gif" align="top" alt="">    #pragma comment(lib, </span> 
  <span style="line-height:15px">"</span> 
  <span style="line-height:15px">wininet.lib</span> 
  <span style="line-height:15px">"</span> 
  <span style="line-height:15px">)<br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)"> 19</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/1a/54/4PnDfMOf_o.gif" align="top" alt="">#endif<br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)"> 20</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/e8/32/L8HsuwOB_o.gif" align="top" alt="">#define BUF_SIZE    (</span> 
  <span style="line-height:15px">1024</span> 
  <span style="line-height:15px">)<br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)"> 21</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/cd/98/n7LTlINi_o.gif" align="top" alt=""><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)"> 22</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/8a/3e/5aeZq7Q2_o.gif" align="top" alt=""></span> 
  <span style="line-height:15px; color:rgb(0,128,0)">//</span> 
  <span style="line-height:15px; color:rgb(0,128,0)"> CrackedUrl</span> 
  <span style="line-height:15px; color:rgb(0,128,0)"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)"> 23</span> 
  <span style="line-height:15px; color:rgb(0,128,0)"><img id="Codehighlighter1_488_1869_Open_Image" src="https://images2.imgbox.com/80/50/VimZA8mF_o.gif" align="top" alt=""></span> 
  <span style="line-height:15px; color:rgb(0,0,255)">class</span> 
  <span style="line-height:15px"> CrackedUrl </span> 
  <span id="Codehighlighter1_488_1869_Open_Text" style="line-height:15px">{<!-- --><br> <span style="color:rgb(0,128,128)"> 24</span><img src="https://images2.imgbox.com/1f/29/eT1Q4HnD_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">int</span> m_scheme;<br> <span style="color:rgb(0,128,128)"> 25</span><img src="https://images2.imgbox.com/9f/07/c9Z22vuo_o.gif" align="top" alt="">    CStringW m_host;<br> <span style="color:rgb(0,128,128)"> 26</span><img src="https://images2.imgbox.com/75/b2/net0uXt7_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">int</span> m_port;<br> <span style="color:rgb(0,128,128)"> 27</span><img src="https://images2.imgbox.com/aa/4f/p9S7Dasp_o.gif" align="top" alt="">    CStringW m_path;<br> <span style="color:rgb(0,128,128)"> 28</span><img src="https://images2.imgbox.com/eb/a7/1CZaRAyH_o.gif" align="top" alt=""><span style="color:rgb(0,0,255)">public</span>:<br> <span style="color:rgb(0,128,128)"> 29</span><img src="https://images2.imgbox.com/32/e0/G2BGwdfD_o.gif" align="top" alt="">    CrackedUrl(LPCWSTR url)<br> <span style="color:rgb(0,128,128)"> 30</span><img id="Codehighlighter1_588_1252_Open_Image" src="https://images2.imgbox.com/da/64/fOo7xUIX_o.gif" align="top" alt="">    <span id="Codehighlighter1_588_1252_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)"> 31</span><img id="Codehighlighter1_612_615_Open_Image" src="https://images2.imgbox.com/e3/cb/gFw0ACon_o.gif" align="top" alt="">        URL_COMPONENTS uc = <span id="Codehighlighter1_612_615_Open_Text">{ 0}</span>;<br> <span style="color:rgb(0,128,128)"> 32</span><img src="https://images2.imgbox.com/82/b3/2Iw9Y8Jy_o.gif" align="top" alt="">        uc.dwStructSize = sizeof(uc);<br> <span style="color:rgb(0,128,128)"> 33</span><img src="https://images2.imgbox.com/5e/78/5FVgX1ks_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)"> 34</span><img src="https://images2.imgbox.com/4c/d3/ywTB3a98_o.gif" align="top" alt="">        <span style="color:rgb(0,0,255)">const</span> DWORD BUF_LEN = 256;<br> <span style="color:rgb(0,128,128)"> 35</span><img src="https://images2.imgbox.com/1f/e1/oV9tujgl_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)"> 36</span><img src="https://images2.imgbox.com/5b/b3/XaZnba4E_o.gif" align="top" alt="">        WCHAR host[BUF_LEN];<br> <span style="color:rgb(0,128,128)"> 37</span><img src="https://images2.imgbox.com/89/04/owcxNCy7_o.gif" align="top" alt="">        uc.lpszHostName = host;<br> <span style="color:rgb(0,128,128)"> 38</span><img src="https://images2.imgbox.com/49/da/PySDZ99S_o.gif" align="top" alt="">        uc.dwHostNameLength = BUF_LEN;<br> <span style="color:rgb(0,128,128)"> 39</span><img src="https://images2.imgbox.com/52/04/mrTD2kBI_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)"> 40</span><img src="https://images2.imgbox.com/f1/23/8LGDBZ8M_o.gif" align="top" alt="">        WCHAR path[BUF_LEN];<br> <span style="color:rgb(0,128,128)"> 41</span><img src="https://images2.imgbox.com/16/1e/P2OvbHfS_o.gif" align="top" alt="">        uc.lpszUrlPath = path;<br> <span style="color:rgb(0,128,128)"> 42</span><img src="https://images2.imgbox.com/83/30/M19y5JIb_o.gif" align="top" alt="">        uc.dwUrlPathLength = BUF_LEN;<br> <span style="color:rgb(0,128,128)"> 43</span><img src="https://images2.imgbox.com/95/2a/2pfs8tKn_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)"> 44</span><img src="https://images2.imgbox.com/a4/59/hEk8LNnw_o.gif" align="top" alt="">        WCHAR extra[BUF_LEN];<br> <span style="color:rgb(0,128,128)"> 45</span><img src="https://images2.imgbox.com/7d/b5/zPo6LpBh_o.gif" align="top" alt="">        uc.lpszExtraInfo = extra;<br> <span style="color:rgb(0,128,128)"> 46</span><img src="https://images2.imgbox.com/1f/d4/JEqf51qH_o.gif" align="top" alt="">        uc.dwExtraInfoLength = BUF_LEN;<br> <span style="color:rgb(0,128,128)"> 47</span><img src="https://images2.imgbox.com/fb/1d/4aI5tZIJ_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)"> 48</span><img src="https://images2.imgbox.com/be/61/mhH7lI66_o.gif" align="top" alt="">#ifdef USE_WINHTTP<br> <span style="color:rgb(0,128,128)"> 49</span><img id="Codehighlighter1_1000_1051_Open_Image" src="https://images2.imgbox.com/df/6a/npYaXU0D_o.gif" align="top" alt="">        <span style="color:rgb(0,0,255)">if</span> (!WinHttpCrackUrl(url, 0, ICU_ESCAPE, &amp;uc)) <span id="Codehighlighter1_1000_1051_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)"> 50</span><img src="https://images2.imgbox.com/b9/66/ocsUix0c_o.gif" align="top" alt="">            printf("Error:WinHttpCrackUrl failed!\n");<br> <span style="color:rgb(0,128,128)"> 51</span><img src="https://images2.imgbox.com/71/a7/phEFS9LP_o.gif" align="top" alt="">        }</span><br> <span style="color:rgb(0,128,128)"> 52</span><img src="https://images2.imgbox.com/a9/af/cWrXQlRk_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)"> 53</span><img src="https://images2.imgbox.com/81/b5/C4fYgE2h_o.gif" align="top" alt="">#<span style="color:rgb(0,0,255)">else</span><br> <span style="color:rgb(0,128,128)"> 54</span><img id="Codehighlighter1_1110_1162_Open_Image" src="https://images2.imgbox.com/07/ce/5fyBDa1e_o.gif" align="top" alt="">        <span style="color:rgb(0,0,255)">if</span> (!InternetCrackUrl(url, 0, ICU_ESCAPE, &amp;uc)) <span id="Codehighlighter1_1110_1162_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)"> 55</span><img src="https://images2.imgbox.com/0e/18/1FsvSpX4_o.gif" align="top" alt="">            printf("Error:InternetCrackUrl failed!\n");<br> <span style="color:rgb(0,128,128)"> 56</span><img src="https://images2.imgbox.com/0e/07/eHhss1Wf_o.gif" align="top" alt="">        }</span><br> <span style="color:rgb(0,128,128)"> 57</span><img src="https://images2.imgbox.com/63/2f/aYpkNQT7_o.gif" align="top" alt="">#endif<br> <span style="color:rgb(0,128,128)"> 58</span><img src="https://images2.imgbox.com/70/11/Re1KsHRM_o.gif" align="top" alt="">        m_scheme = uc.nScheme;<br> <span style="color:rgb(0,128,128)"> 59</span><img src="https://images2.imgbox.com/59/49/6FadE0T4_o.gif" align="top" alt="">        m_host = host;<br> <span style="color:rgb(0,128,128)"> 60</span><img src="https://images2.imgbox.com/23/63/33klLiWT_o.gif" align="top" alt="">        m_port = uc.nPort;<br> <span style="color:rgb(0,128,128)"> 61</span><img src="https://images2.imgbox.com/d1/e5/hdfTyAqQ_o.gif" align="top" alt="">        m_path = path;<br> <span style="color:rgb(0,128,128)"> 62</span><img src="https://images2.imgbox.com/a5/93/ElfrdkO6_o.gif" align="top" alt="">    }</span><br> <span style="color:rgb(0,128,128)"> 63</span><img src="https://images2.imgbox.com/73/34/UAWAkrjO_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)"> 64</span><img src="https://images2.imgbox.com/d6/08/pm7acAAe_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">int</span> GetScheme() <span style="color:rgb(0,0,255)">const</span><br> <span style="color:rgb(0,128,128)"> 65</span><img id="Codehighlighter1_1279_1301_Open_Image" src="https://images2.imgbox.com/c5/bc/5r2fC88D_o.gif" align="top" alt="">    <span id="Codehighlighter1_1279_1301_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)"> 66</span><img src="https://images2.imgbox.com/c4/49/cBtRviwp_o.gif" align="top" alt="">        <span style="color:rgb(0,0,255)">return</span> m_scheme;<br> <span style="color:rgb(0,128,128)"> 67</span><img src="https://images2.imgbox.com/33/bf/ASKhBkIR_o.gif" align="top" alt="">    }</span><br> <span style="color:rgb(0,128,128)"> 68</span><img src="https://images2.imgbox.com/7f/77/SpMQO40A_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)"> 69</span><img src="https://images2.imgbox.com/13/05/LYobRZ7Q_o.gif" align="top" alt="">    LPCWSTR GetHostName() <span style="color:rgb(0,0,255)">const</span><br> <span style="color:rgb(0,128,128)"> 70</span><img id="Codehighlighter1_1334_1354_Open_Image" src="https://images2.imgbox.com/e3/ca/83bV52Ad_o.gif" align="top" alt="">    <span id="Codehighlighter1_1334_1354_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)"> 71</span><img src="https://images2.imgbox.com/4d/a8/NFDAG4a6_o.gif" align="top" alt="">        <span style="color:rgb(0,0,255)">return</span> m_host;<br> <span style="color:rgb(0,128,128)"> 72</span><img src="https://images2.imgbox.com/0f/53/9rCP1HjQ_o.gif" align="top" alt="">    }</span><br> <span style="color:rgb(0,128,128)"> 73</span><img src="https://images2.imgbox.com/89/8f/EMBQuyxB_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)"> 74</span><img src="https://images2.imgbox.com/6e/ef/yySLQ89p_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">int</span> GetPort() <span style="color:rgb(0,0,255)">const</span><br> <span style="color:rgb(0,128,128)"> 75</span><img id="Codehighlighter1_1379_1399_Open_Image" src="https://images2.imgbox.com/cd/3d/DGrizYvI_o.gif" align="top" alt="">    <span id="Codehighlighter1_1379_1399_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)"> 76</span><img src="https://images2.imgbox.com/57/33/bH716Ipy_o.gif" align="top" alt="">        <span style="color:rgb(0,0,255)">return</span> m_port;<br> <span style="color:rgb(0,128,128)"> 77</span><img src="https://images2.imgbox.com/9e/80/QpNqsqYc_o.gif" align="top" alt="">    }</span><br> <span style="color:rgb(0,128,128)"> 78</span><img src="https://images2.imgbox.com/f1/f4/IzJbSlU3_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)"> 79</span><img src="https://images2.imgbox.com/8e/56/nr4W5thc_o.gif" align="top" alt="">    LPCWSTR GetPath() <span style="color:rgb(0,0,255)">const</span><br> <span style="color:rgb(0,128,128)"> 80</span><img id="Codehighlighter1_1428_1448_Open_Image" src="https://images2.imgbox.com/04/55/QUkB2z6p_o.gif" align="top" alt="">    <span id="Codehighlighter1_1428_1448_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)"> 81</span><img src="https://images2.imgbox.com/e2/14/GQQpuQtr_o.gif" align="top" alt="">        <span style="color:rgb(0,0,255)">return</span> m_path;<br> <span style="color:rgb(0,128,128)"> 82</span><img src="https://images2.imgbox.com/5c/15/YPCyxCGx_o.gif" align="top" alt="">    }</span><br> <span style="color:rgb(0,128,128)"> 83</span><img src="https://images2.imgbox.com/da/f5/YVXNefwp_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)"> 84</span><img src="https://images2.imgbox.com/ad/ff/KN1OqOFK_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">static</span> CStringA UrlEncode(<span style="color:rgb(0,0,255)">const</span> <span style="color:rgb(0,0,255)">char</span>* p)<br> <span style="color:rgb(0,128,128)"> 85</span><img id="Codehighlighter1_1494_1867_Open_Image" src="https://images2.imgbox.com/14/36/jJJ6SkqO_o.gif" align="top" alt="">    <span id="Codehighlighter1_1494_1867_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)"> 86</span><img id="Codehighlighter1_1510_1536_Open_Image" src="https://images2.imgbox.com/55/cf/KWFSkhRD_o.gif" align="top" alt="">        <span style="color:rgb(0,0,255)">if</span> (p == 0) <span id="Codehighlighter1_1510_1536_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)"> 87</span><img src="https://images2.imgbox.com/bd/15/gaPL4Pv2_o.gif" align="top" alt="">            <span style="color:rgb(0,0,255)">return</span> CStringA();<br> <span style="color:rgb(0,128,128)"> 88</span><img src="https://images2.imgbox.com/c9/aa/Tnow1Kqx_o.gif" align="top" alt="">        }</span><br> <span style="color:rgb(0,128,128)"> 89</span><img src="https://images2.imgbox.com/a1/87/iwPuwfO3_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)"> 90</span><img src="https://images2.imgbox.com/14/b8/g675BuQm_o.gif" align="top" alt="">        CStringA buf;<br> <span style="color:rgb(0,128,128)"> 91</span><img src="https://images2.imgbox.com/57/bd/EpxkkXme_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)"> 92</span><img id="Codehighlighter1_1567_1849_Open_Image" src="https://images2.imgbox.com/db/e8/GmZm6T5G_o.gif" align="top" alt="">        <span style="color:rgb(0,0,255)">for</span> (;;) <span id="Codehighlighter1_1567_1849_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)"> 93</span><img src="https://images2.imgbox.com/2d/33/Dhq0WTFD_o.gif" align="top" alt="">            <span style="color:rgb(0,0,255)">int</span> ch = (BYTE) (*(p++));<br> <span style="color:rgb(0,128,128)"> 94</span><img id="Codehighlighter1_1618_1634_Open_Image" src="https://images2.imgbox.com/cd/5b/TiCIjD3M_o.gif" align="top" alt="">            <span style="color:rgb(0,0,255)">if</span> (ch == '\0') <span id="Codehighlighter1_1618_1634_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)"> 95</span><img src="https://images2.imgbox.com/5e/ae/ydFO0ykE_o.gif" align="top" alt="">                <span style="color:rgb(0,0,255)">break</span>;<br> <span style="color:rgb(0,128,128)"> 96</span><img src="https://images2.imgbox.com/cb/dd/PwtMzFst_o.gif" align="top" alt="">            }</span><br> <span style="color:rgb(0,128,128)"> 97</span><img src="https://images2.imgbox.com/01/50/eOGIe6CH_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)"> 98</span><img id="Codehighlighter1_1696_1722_Open_Image" src="https://images2.imgbox.com/ba/39/pdIc0Hy2_o.gif" align="top" alt="">            <span style="color:rgb(0,0,255)">if</span> (isalnum(ch) || ch == '_' || ch == '-' || ch == '.') <span id="Codehighlighter1_1696_1722_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)"> 99</span><img src="https://images2.imgbox.com/e0/fd/q3Vwt2Z0_o.gif" align="top" alt="">                buf += (<span style="color:rgb(0,0,255)">char</span>)ch;<br> <span style="color:rgb(0,128,128)">100</span><img src="https://images2.imgbox.com/f4/b5/7X8NZKCb_o.gif" align="top" alt="">            }</span><br> <span style="color:rgb(0,128,128)">101</span><img id="Codehighlighter1_1747_1768_Open_Image" src="https://images2.imgbox.com/1a/e9/sfnWWeao_o.gif" align="top" alt="">            <span style="color:rgb(0,0,255)">else</span> <span style="color:rgb(0,0,255)">if</span> (ch == ' ') <span id="Codehighlighter1_1747_1768_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)">102</span><img src="https://images2.imgbox.com/72/fb/AIhMffOv_o.gif" align="top" alt="">                buf += '+';<br> <span style="color:rgb(0,128,128)">103</span><img src="https://images2.imgbox.com/c9/5f/DXdKV77B_o.gif" align="top" alt="">            }</span><br> <span style="color:rgb(0,128,128)">104</span><img id="Codehighlighter1_1778_1845_Open_Image" src="https://images2.imgbox.com/30/be/Nt0c17in_o.gif" align="top" alt="">            <span style="color:rgb(0,0,255)">else</span> <span id="Codehighlighter1_1778_1845_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)">105</span><img src="https://images2.imgbox.com/77/45/QsqJY6ym_o.gif" align="top" alt="">                <span style="color:rgb(0,0,255)">char</span> c[16];<br> <span style="color:rgb(0,128,128)">106</span><img src="https://images2.imgbox.com/d7/0d/poEm8731_o.gif" align="top" alt="">                wsprintfA(c, "%%%02X", ch);<br> <span style="color:rgb(0,128,128)">107</span><img src="https://images2.imgbox.com/a2/f9/S5OFTHHQ_o.gif" align="top" alt="">                buf += c;<br> <span style="color:rgb(0,128,128)">108</span><img src="https://images2.imgbox.com/8a/95/NoReWQLz_o.gif" align="top" alt="">            }</span><br> <span style="color:rgb(0,128,128)">109</span><img src="https://images2.imgbox.com/64/1d/O7ma0vQQ_o.gif" align="top" alt="">        }</span><br> <span style="color:rgb(0,128,128)">110</span><img src="https://images2.imgbox.com/80/e2/peWBbuFj_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">111</span><img src="https://images2.imgbox.com/5c/15/sz1EvRhS_o.gif" align="top" alt="">        <span style="color:rgb(0,0,255)">return</span> buf;<br> <span style="color:rgb(0,128,128)">112</span><img src="https://images2.imgbox.com/f8/1d/iKNAttOc_o.gif" align="top" alt="">    }</span><br> <span style="color:rgb(0,128,128)">113</span><img src="https://images2.imgbox.com/7b/58/0JBiNRqp_o.gif" align="top" alt="">}</span> 
  <span style="line-height:15px">;<br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">114</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/8d/2b/UeMj213J_o.gif" align="top" alt=""><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">115</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/99/c4/zg3XozHR_o.gif" align="top" alt=""></span> 
  <span style="line-height:15px; color:rgb(0,128,0)">//</span> 
  <span style="line-height:15px; color:rgb(0,128,0)"> CrackedUrl</span> 
  <span style="line-height:15px; color:rgb(0,128,0)"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">116</span> 
  <span style="line-height:15px; color:rgb(0,128,0)"><img src="https://images2.imgbox.com/22/08/kCOzU1TW_o.gif" align="top" alt=""></span> 
  <span style="line-height:15px">HINTERNET OpenSession(LPCWSTR userAgent </span> 
  <span style="line-height:15px">=</span> 
  <span style="line-height:15px"> </span> 
  <span style="line-height:15px">0</span> 
  <span style="line-height:15px">)<br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">117</span> 
  <span style="line-height:15px"><img id="Codehighlighter1_1932_2101_Open_Image" src="https://images2.imgbox.com/3a/33/PIxT9Aiv_o.gif" align="top" alt=""></span> 
  <span id="Codehighlighter1_1932_2101_Open_Text" style="line-height:15px">{<!-- --><br> <span style="color:rgb(0,128,128)">118</span><img src="https://images2.imgbox.com/9f/59/7CzCOEy1_o.gif" align="top" alt="">#ifdef USE_WINHTTP<br> <span style="color:rgb(0,128,128)">119</span><img src="https://images2.imgbox.com/07/28/pq2atIwV_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">return</span> WinHttpOpen(userAgent, NULL, NULL, NULL, NULL);;<br> <span style="color:rgb(0,128,128)">120</span><img src="https://images2.imgbox.com/5d/7d/LhIkBK09_o.gif" align="top" alt="">#<span style="color:rgb(0,0,255)">else</span><br> <span style="color:rgb(0,128,128)">121</span><img src="https://images2.imgbox.com/43/7b/Tw0gVsHN_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">return</span> InternetOpen(userAgent, INTERNET_OPEN_TYPE_PRECONFIG, NULL, NULL, 0);<br> <span style="color:rgb(0,128,128)">122</span><img src="https://images2.imgbox.com/f2/d9/ls79fjTU_o.gif" align="top" alt="">#endif<br> <span style="color:rgb(0,128,128)">123</span><img src="https://images2.imgbox.com/dc/bf/G0BLcrp6_o.gif" align="top" alt="">}</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">124</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/38/33/pXOyDR5L_o.gif" align="top" alt=""><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">125</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/8b/d4/KhYQfpnR_o.gif" align="top" alt="">HINTERNET Connect(HINTERNET hSession, LPCWSTR serverAddr, </span> 
  <span style="line-height:15px; color:rgb(0,0,255)">int</span> 
  <span style="line-height:15px"> portNo)<br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">126</span> 
  <span style="line-height:15px"><img id="Codehighlighter1_2174_2377_Open_Image" src="https://images2.imgbox.com/7c/34/5ewhwmra_o.gif" align="top" alt=""></span> 
  <span id="Codehighlighter1_2174_2377_Open_Text" style="line-height:15px">{<!-- --><br> <span style="color:rgb(0,128,128)">127</span><img src="https://images2.imgbox.com/a2/ad/HADOoZ0A_o.gif" align="top" alt="">#ifdef USE_WINHTTP<br> <span style="color:rgb(0,128,128)">128</span><img src="https://images2.imgbox.com/22/c1/RKTYc8b5_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">return</span> WinHttpConnect(hSession, serverAddr, (INTERNET_PORT) portNo, 0);<br> <span style="color:rgb(0,128,128)">129</span><img src="https://images2.imgbox.com/80/1e/efrKr8vp_o.gif" align="top" alt="">#<span style="color:rgb(0,0,255)">else</span><br> <span style="color:rgb(0,128,128)">130</span><img src="https://images2.imgbox.com/82/7c/3eS6Klfc_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">return</span> InternetConnect(hSession, serverAddr, portNo, NULL, NULL, INTERNET_SERVICE_HTTP, 0, 0);<br> <span style="color:rgb(0,128,128)">131</span><img src="https://images2.imgbox.com/e7/ec/R87FWZ1C_o.gif" align="top" alt="">#endif<br> <span style="color:rgb(0,128,128)">132</span><img src="https://images2.imgbox.com/77/3d/Vk6CO2Dw_o.gif" align="top" alt="">}</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">133</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/f3/e4/kCSsqhXz_o.gif" align="top" alt=""><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">134</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/a1/83/s8WtSrv3_o.gif" align="top" alt="">HINTERNET OpenRequest(HINTERNET hConnect, LPCWSTR verb, LPCWSTR objectName, </span> 
  <span style="line-height:15px; color:rgb(0,0,255)">int</span> 
  <span style="line-height:15px"> scheme)<br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">135</span> 
  <span style="line-height:15px"><img id="Codehighlighter1_2468_2836_Open_Image" src="https://images2.imgbox.com/64/8d/SLTlmCUT_o.gif" align="top" alt=""></span> 
  <span id="Codehighlighter1_2468_2836_Open_Text" style="line-height:15px">{<!-- --><br> <span style="color:rgb(0,128,128)">136</span><img src="https://images2.imgbox.com/38/6c/2wVwfXDz_o.gif" align="top" alt="">    DWORD flags = 0;<br> <span style="color:rgb(0,128,128)">137</span><img src="https://images2.imgbox.com/c5/2c/oTHL9DA1_o.gif" align="top" alt="">#ifdef USE_WINHTTP<br> <span style="color:rgb(0,128,128)">138</span><img id="Codehighlighter1_2545_2580_Open_Image" src="https://images2.imgbox.com/0c/31/4yZx4q7l_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">if</span> (scheme == INTERNET_SCHEME_HTTPS) <span id="Codehighlighter1_2545_2580_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)">139</span><img src="https://images2.imgbox.com/5b/25/UpzX02dy_o.gif" align="top" alt="">        flags |= WINHTTP_FLAG_SECURE;<br> <span style="color:rgb(0,128,128)">140</span><img src="https://images2.imgbox.com/25/31/VqzQKxNg_o.gif" align="top" alt="">    }</span><br> <span style="color:rgb(0,128,128)">141</span><img src="https://images2.imgbox.com/ab/6e/rFMwWaeU_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">142</span><img src="https://images2.imgbox.com/0c/66/h8kGcIob_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">return</span> WinHttpOpenRequest(hConnect, verb, objectName, NULL, NULL, NULL, flags);<br> <span style="color:rgb(0,128,128)">143</span><img src="https://images2.imgbox.com/5f/8d/Xv8MZP6E_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">144</span><img src="https://images2.imgbox.com/4d/87/0xzJV6uh_o.gif" align="top" alt="">#<span style="color:rgb(0,0,255)">else</span><br> <span style="color:rgb(0,128,128)">145</span><img id="Codehighlighter1_2709_2745_Open_Image" src="https://images2.imgbox.com/99/2e/PbPXMqll_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">if</span> (scheme == INTERNET_SCHEME_HTTPS) <span id="Codehighlighter1_2709_2745_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)">146</span><img src="https://images2.imgbox.com/07/da/X0Vl2T2E_o.gif" align="top" alt="">        flags |= INTERNET_FLAG_SECURE;<br> <span style="color:rgb(0,128,128)">147</span><img src="https://images2.imgbox.com/71/4d/TLrzgAyM_o.gif" align="top" alt="">    }</span><br> <span style="color:rgb(0,128,128)">148</span><img src="https://images2.imgbox.com/ca/3e/KebP0W28_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">149</span><img src="https://images2.imgbox.com/6d/cc/pfAHwZxw_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">return</span> HttpOpenRequest(hConnect, verb, objectName, NULL, NULL, NULL, flags, 0);<br> <span style="color:rgb(0,128,128)">150</span><img src="https://images2.imgbox.com/ff/30/D8MW67yc_o.gif" align="top" alt="">#endif<br> <span style="color:rgb(0,128,128)">151</span><img src="https://images2.imgbox.com/1b/73/yIp8tCmw_o.gif" align="top" alt="">}</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">152</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/b5/0c/4yvIr56z_o.gif" align="top" alt=""><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">153</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/40/8a/TauDli7W_o.gif" align="top" alt="">BOOL AddRequestHeaders(HINTERNET hRequest, LPCWSTR header)<br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">154</span> 
  <span style="line-height:15px"><img id="Codehighlighter1_2898_3136_Open_Image" src="https://images2.imgbox.com/b6/4a/YkyF4GLJ_o.gif" align="top" alt=""></span> 
  <span id="Codehighlighter1_2898_3136_Open_Text" style="line-height:15px">{<!-- --><br> <span style="color:rgb(0,128,128)">155</span><img src="https://images2.imgbox.com/8b/b6/OqcQi2xQ_o.gif" align="top" alt="">    SIZE_T len = lstrlenW(header);<br> <span style="color:rgb(0,128,128)">156</span><img src="https://images2.imgbox.com/10/27/ZIXdKZec_o.gif" align="top" alt="">#ifdef USE_WINHTTP<br> <span style="color:rgb(0,128,128)">157</span><img src="https://images2.imgbox.com/84/0a/HM930gEo_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">return</span> WinHttpAddRequestHeaders(hRequest, header, DWORD(len), WINHTTP_ADDREQ_FLAG_ADD);<br> <span style="color:rgb(0,128,128)">158</span><img src="https://images2.imgbox.com/36/f2/i2u0iwRs_o.gif" align="top" alt="">#<span style="color:rgb(0,0,255)">else</span><br> <span style="color:rgb(0,128,128)">159</span><img src="https://images2.imgbox.com/36/fc/46EpWze0_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">return</span> HttpAddRequestHeaders(hRequest, header, DWORD(len), HTTP_ADDREQ_FLAG_ADD);<br> <span style="color:rgb(0,128,128)">160</span><img src="https://images2.imgbox.com/4a/d9/OHctppSW_o.gif" align="top" alt="">#endif<br> <span style="color:rgb(0,128,128)">161</span><img src="https://images2.imgbox.com/12/45/mKGgOs36_o.gif" align="top" alt="">}</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">162</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/f0/d2/ygbx1pap_o.gif" align="top" alt=""><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">163</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/24/28/0dwuSC4d_o.gif" align="top" alt="">BOOL SendRequest(HINTERNET hRequest, </span> 
  <span style="line-height:15px; color:rgb(0,0,255)">const</span> 
  <span style="line-height:15px"> </span> 
  <span style="line-height:15px; color:rgb(0,0,255)">void</span> 
  <span style="line-height:15px">*</span> 
  <span style="line-height:15px"> body, DWORD size)<br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">164</span> 
  <span style="line-height:15px"><img id="Codehighlighter1_3206_3396_Open_Image" src="https://images2.imgbox.com/bb/e6/euCf6OMU_o.gif" align="top" alt=""></span> 
  <span id="Codehighlighter1_3206_3396_Open_Text" style="line-height:15px">{<!-- --><br> <span style="color:rgb(0,128,128)">165</span><img src="https://images2.imgbox.com/96/e0/DHhxh8Yr_o.gif" align="top" alt="">#ifdef USE_WINHTTP<br> <span style="color:rgb(0,128,128)">166</span><img src="https://images2.imgbox.com/54/fe/enLfvqXJ_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">return</span> WinHttpSendRequest(hRequest, 0, 0, const_cast&lt;<span style="color:rgb(0,0,255)">void</span>*&gt;(body), size, size, 0);<br> <span style="color:rgb(0,128,128)">167</span><img src="https://images2.imgbox.com/5d/9f/jJ6WSQq0_o.gif" align="top" alt="">#<span style="color:rgb(0,0,255)">else</span><br> <span style="color:rgb(0,128,128)">168</span><img src="https://images2.imgbox.com/f7/72/9YAA2tzy_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">return</span> HttpSendRequest(hRequest, 0, 0, const_cast&lt;<span style="color:rgb(0,0,255)">void</span>*&gt;(body), size);<br> <span style="color:rgb(0,128,128)">169</span><img src="https://images2.imgbox.com/46/7e/uOku7sFu_o.gif" align="top" alt="">#endif<br> <span style="color:rgb(0,128,128)">170</span><img src="https://images2.imgbox.com/41/a5/tzApfXmt_o.gif" align="top" alt="">}</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">171</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/ef/c4/RCcH7eRT_o.gif" align="top" alt=""><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">172</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/2d/14/Fqkit3DI_o.gif" align="top" alt="">BOOL EndRequest(HINTERNET hRequest)<br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">173</span> 
  <span style="line-height:15px"><img id="Codehighlighter1_3435_3610_Open_Image" src="https://images2.imgbox.com/06/58/KLeFNCLx_o.gif" align="top" alt=""></span> 
  <span id="Codehighlighter1_3435_3610_Open_Text" style="line-height:15px">{<!-- --><br> <span style="color:rgb(0,128,128)">174</span><img src="https://images2.imgbox.com/db/ea/Ve0mKJqc_o.gif" align="top" alt="">#ifdef USE_WINHTTP<br> <span style="color:rgb(0,128,128)">175</span><img src="https://images2.imgbox.com/c6/83/dp3EzgbH_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">return</span> WinHttpReceiveResponse(hRequest, 0);<br> <span style="color:rgb(0,128,128)">176</span><img src="https://images2.imgbox.com/e0/90/5Uf4HoTb_o.gif" align="top" alt="">#<span style="color:rgb(0,0,255)">else</span><br> <span style="color:rgb(0,128,128)">177</span><img src="https://images2.imgbox.com/4c/fa/marbmTTu_o.gif" align="top" alt="">    <span style="color:rgb(0,128,0)">//</span><span style="color:rgb(0,128,0)"> if you use HttpSendRequestEx to send request then use HttpEndRequest in here!</span><span style="color:rgb(0,128,0)"><br> </span><span style="color:rgb(0,128,128)">178</span><span style="color:rgb(0,128,0)"><img src="https://images2.imgbox.com/19/1c/BAzN6nR3_o.gif" align="top" alt=""></span>    <span style="color:rgb(0,0,255)">return</span> TRUE;<br> <span style="color:rgb(0,128,128)">179</span><img src="https://images2.imgbox.com/ee/1b/uUgvrj3p_o.gif" align="top" alt="">#endif<br> <span style="color:rgb(0,128,128)">180</span><img src="https://images2.imgbox.com/60/f0/fAmbo2GY_o.gif" align="top" alt="">}</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">181</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/bd/94/5AZF29ze_o.gif" align="top" alt=""><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">182</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/6d/2d/GfvzOyiH_o.gif" align="top" alt="">BOOL QueryInfo(HINTERNET hRequest, </span> 
  <span style="line-height:15px; color:rgb(0,0,255)">int</span> 
  <span style="line-height:15px"> queryId, </span> 
  <span style="line-height:15px; color:rgb(0,0,255)">char</span> 
  <span style="line-height:15px">*</span> 
  <span style="line-height:15px"> szBuf, DWORD</span> 
  <span style="line-height:15px">*</span> 
  <span style="line-height:15px"> pdwSize)<br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">183</span> 
  <span style="line-height:15px"><img id="Codehighlighter1_3690_3863_Open_Image" src="https://images2.imgbox.com/ae/2a/HUl85VJ2_o.gif" align="top" alt=""></span> 
  <span id="Codehighlighter1_3690_3863_Open_Text" style="line-height:15px">{<!-- --><br> <span style="color:rgb(0,128,128)">184</span><img src="https://images2.imgbox.com/e3/ff/icGrQbXI_o.gif" align="top" alt="">#ifdef USE_WINHTTP<br> <span style="color:rgb(0,128,128)">185</span><img src="https://images2.imgbox.com/08/d7/UMYPSy2n_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">return</span> WinHttpQueryHeaders(hRequest, (DWORD) queryId, 0, szBuf, pdwSize, 0);<br> <span style="color:rgb(0,128,128)">186</span><img src="https://images2.imgbox.com/cf/74/587FI0h8_o.gif" align="top" alt="">#<span style="color:rgb(0,0,255)">else</span><br> <span style="color:rgb(0,128,128)">187</span><img src="https://images2.imgbox.com/92/03/2MdtWDNb_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">return</span> HttpQueryInfo(hRequest, queryId, szBuf, pdwSize, 0);<br> <span style="color:rgb(0,128,128)">188</span><img src="https://images2.imgbox.com/10/dd/U3VD9Wj9_o.gif" align="top" alt="">#endif<br> <span style="color:rgb(0,128,128)">189</span><img src="https://images2.imgbox.com/74/46/n4gqnDv7_o.gif" align="top" alt="">}</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">190</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/d9/e4/8SBeB7NO_o.gif" align="top" alt=""><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">191</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/dd/f1/CksmZnie_o.gif" align="top" alt="">BOOL ReadData(HINTERNET hRequest, </span> 
  <span style="line-height:15px; color:rgb(0,0,255)">void</span> 
  <span style="line-height:15px">*</span> 
  <span style="line-height:15px"> buffer, DWORD length, DWORD</span> 
  <span style="line-height:15px">*</span> 
  <span style="line-height:15px"> cbRead)<br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">192</span> 
  <span style="line-height:15px"><img id="Codehighlighter1_3943_4096_Open_Image" src="https://images2.imgbox.com/89/19/4c3s0aVl_o.gif" align="top" alt=""></span> 
  <span id="Codehighlighter1_3943_4096_Open_Text" style="line-height:15px">{<!-- --><br> <span style="color:rgb(0,128,128)">193</span><img src="https://images2.imgbox.com/65/9e/ynG9jiqH_o.gif" align="top" alt="">#ifdef USE_WINHTTP<br> <span style="color:rgb(0,128,128)">194</span><img src="https://images2.imgbox.com/1c/ad/3FIsz4Gm_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">return</span> WinHttpReadData(hRequest, buffer, length, cbRead);<br> <span style="color:rgb(0,128,128)">195</span><img src="https://images2.imgbox.com/93/bf/NePjZwgW_o.gif" align="top" alt="">#<span style="color:rgb(0,0,255)">else</span><br> <span style="color:rgb(0,128,128)">196</span><img src="https://images2.imgbox.com/9d/d4/RKSunVOE_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">return</span> InternetReadFile(hRequest, buffer, length, cbRead);<br> <span style="color:rgb(0,128,128)">197</span><img src="https://images2.imgbox.com/ea/3a/sY8BlAtT_o.gif" align="top" alt="">#endif<br> <span style="color:rgb(0,128,128)">198</span><img src="https://images2.imgbox.com/30/a4/VPdDOUrk_o.gif" align="top" alt="">}</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">199</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/22/28/820hhPVG_o.gif" align="top" alt=""><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">200</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/f6/b3/INf3dfy1_o.gif" align="top" alt=""></span> 
  <span style="line-height:15px; color:rgb(0,0,255)">void</span> 
  <span style="line-height:15px"> CloseInternetHandle(HINTERNET hInternet)<br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">201</span> 
  <span style="line-height:15px"><img id="Codehighlighter1_4145_4268_Open_Image" src="https://images2.imgbox.com/1a/c0/oz9uxkjl_o.gif" align="top" alt=""></span> 
  <span id="Codehighlighter1_4145_4268_Open_Text" style="line-height:15px">{<!-- --><br> <span style="color:rgb(0,128,128)">202</span><img src="https://images2.imgbox.com/7e/86/gfNgWjUE_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">if</span> (hInternet)<br> <span style="color:rgb(0,128,128)">203</span><img id="Codehighlighter1_4164_4266_Open_Image" src="https://images2.imgbox.com/7e/15/MS95Cggj_o.gif" align="top" alt="">    <span id="Codehighlighter1_4164_4266_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)">204</span><img src="https://images2.imgbox.com/b9/19/osdXS6zP_o.gif" align="top" alt="">#ifdef USE_WINHTTP<br> <span style="color:rgb(0,128,128)">205</span><img src="https://images2.imgbox.com/aa/d3/W6NrlFKG_o.gif" align="top" alt="">        WinHttpCloseHandle(hInternet);<br> <span style="color:rgb(0,128,128)">206</span><img src="https://images2.imgbox.com/2c/45/wPNtJOC2_o.gif" align="top" alt="">#<span style="color:rgb(0,0,255)">else</span><br> <span style="color:rgb(0,128,128)">207</span><img src="https://images2.imgbox.com/0e/f5/3vbJlxEr_o.gif" align="top" alt="">        InternetCloseHandle(hInternet);<br> <span style="color:rgb(0,128,128)">208</span><img src="https://images2.imgbox.com/e3/20/nGZtc7M4_o.gif" align="top" alt="">#endif<br> <span style="color:rgb(0,128,128)">209</span><img src="https://images2.imgbox.com/60/df/jOB7KA5U_o.gif" align="top" alt="">    }</span><br> <span style="color:rgb(0,128,128)">210</span><img src="https://images2.imgbox.com/96/cf/Fs3pzTQk_o.gif" align="top" alt="">}</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">211</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/3b/9b/IFZG7OLQ_o.gif" align="top" alt=""><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">212</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/65/f9/nyyJfNDO_o.gif" align="top" alt=""></span> 
  <span style="line-height:15px; color:rgb(0,0,255)">int</span> 
  <span style="line-height:15px"> _tmain(</span> 
  <span style="line-height:15px; color:rgb(0,0,255)">int</span> 
  <span style="line-height:15px"> argc, _TCHAR</span> 
  <span style="line-height:15px">*</span> 
  <span style="line-height:15px"> argv[])<br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">213</span> 
  <span style="line-height:15px"><img id="Codehighlighter1_4308_6702_Open_Image" src="https://images2.imgbox.com/e3/01/LOCqJSsi_o.gif" align="top" alt=""></span> 
  <span id="Codehighlighter1_4308_6702_Open_Text" style="line-height:15px">{<!-- --><br> <span style="color:rgb(0,128,128)">214</span><img src="https://images2.imgbox.com/e2/13/UMg5RcnI_o.gif" align="top" alt="">    HINTERNET hSession = 0;<br> <span style="color:rgb(0,128,128)">215</span><img src="https://images2.imgbox.com/0a/b8/WvzMzdUA_o.gif" align="top" alt="">    HINTERNET hConnect = 0;<br> <span style="color:rgb(0,128,128)">216</span><img src="https://images2.imgbox.com/5b/dd/3KTSQpkF_o.gif" align="top" alt="">    HINTERNET hRequest = 0;<br> <span style="color:rgb(0,128,128)">217</span><img src="https://images2.imgbox.com/6f/42/K9anJNrH_o.gif" align="top" alt="">    CStringW strHeader(L"Content-type: application/x-www-form-urlencoded\r\n");<br> <span style="color:rgb(0,128,128)">218</span><img src="https://images2.imgbox.com/ec/ca/I2cVrKL5_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">219</span><img src="https://images2.imgbox.com/1e/89/qpMAzSTA_o.gif" align="top" alt="">    <span style="color:rgb(0,128,0)">//</span><span style="color:rgb(0,128,0)"> Test data</span><span style="color:rgb(0,128,0)"><br> </span><span style="color:rgb(0,128,128)">220</span><span style="color:rgb(0,128,0)"><img src="https://images2.imgbox.com/c0/a1/egQoxUcd_o.gif" align="top" alt=""></span>    CrackedUrl crackedUrl(L"http://www.easy-creator.net/test2/add.asp");<br> <span style="color:rgb(0,128,128)">221</span><img src="https://images2.imgbox.com/ea/94/VEHVIlau_o.gif" align="top" alt="">    CStringA strPostData("value1=10&amp;value2=14");<br> <span style="color:rgb(0,128,128)">222</span><img src="https://images2.imgbox.com/13/b3/PT3WNkMN_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">223</span><img src="https://images2.imgbox.com/3f/8c/QycdhdvF_o.gif" align="top" alt="">    <span style="color:rgb(0,128,0)">//</span><span style="color:rgb(0,128,0)"> Open session.</span><span style="color:rgb(0,128,0)"><br> </span><span style="color:rgb(0,128,128)">224</span><span style="color:rgb(0,128,0)"><img src="https://images2.imgbox.com/fd/f7/XQ4QeInG_o.gif" align="top" alt=""></span>    hSession = OpenSession(L"HttpPost by l_zhaohui@163.com");<br> <span style="color:rgb(0,128,128)">225</span><img id="Codehighlighter1_4696_4748_Open_Image" src="https://images2.imgbox.com/d1/ae/5D8IkxrV_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">if</span> (hSession == NULL) <span id="Codehighlighter1_4696_4748_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)">226</span><img src="https://images2.imgbox.com/d5/9d/VCHiFS0l_o.gif" align="top" alt="">        printf("Error:Open session!\n");<br> <span style="color:rgb(0,128,128)">227</span><img src="https://images2.imgbox.com/c5/7c/GZFGTya5_o.gif" align="top" alt="">        <span style="color:rgb(0,0,255)">return</span> -1;<br> <span style="color:rgb(0,128,128)">228</span><img src="https://images2.imgbox.com/90/32/kZsHW3MQ_o.gif" align="top" alt="">    }</span><br> <span style="color:rgb(0,128,128)">229</span><img src="https://images2.imgbox.com/85/49/O6aXeZek_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">230</span><img src="https://images2.imgbox.com/7e/b6/Hgbt1qEO_o.gif" align="top" alt="">    <span style="color:rgb(0,128,0)">//</span><span style="color:rgb(0,128,0)"> Connect.</span><span style="color:rgb(0,128,0)"><br> </span><span style="color:rgb(0,128,128)">231</span><span style="color:rgb(0,128,0)"><img src="https://images2.imgbox.com/a9/af/NKVbAR0K_o.gif" align="top" alt=""></span>    hConnect = Connect(hSession, crackedUrl.GetHostName(), crackedUrl.GetPort());<br> <span style="color:rgb(0,128,128)">232</span><img id="Codehighlighter1_4866_4920_Open_Image" src="https://images2.imgbox.com/a7/11/Zpx5NOYN_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">if</span> (hConnect == NULL) <span id="Codehighlighter1_4866_4920_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)">233</span><img src="https://images2.imgbox.com/b7/0a/QgqDzvap_o.gif" align="top" alt="">        printf("Error:Connect failed!\n");<br> <span style="color:rgb(0,128,128)">234</span><img src="https://images2.imgbox.com/a6/93/VAOZLQP7_o.gif" align="top" alt="">        <span style="color:rgb(0,0,255)">return</span> -1;<br> <span style="color:rgb(0,128,128)">235</span><img src="https://images2.imgbox.com/79/a3/lBO8uBfm_o.gif" align="top" alt="">    }</span><br> <span style="color:rgb(0,128,128)">236</span><img src="https://images2.imgbox.com/57/9b/IoQfOrBU_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">237</span><img src="https://images2.imgbox.com/c8/3b/tHEUOiju_o.gif" align="top" alt="">    <span style="color:rgb(0,128,0)">//</span><span style="color:rgb(0,128,0)"> Open request.</span><span style="color:rgb(0,128,0)"><br> </span><span style="color:rgb(0,128,128)">238</span><span style="color:rgb(0,128,0)"><img src="https://images2.imgbox.com/b6/11/yM2AHWOH_o.gif" align="top" alt=""></span>    hRequest = OpenRequest(hConnect, L"POST", crackedUrl.GetPath(), crackedUrl.GetScheme());<br> <span style="color:rgb(0,128,128)">239</span><img id="Codehighlighter1_5054_5112_Open_Image" src="https://images2.imgbox.com/f4/f5/yiZI4SxL_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">if</span> (hRequest == NULL) <span id="Codehighlighter1_5054_5112_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)">240</span><img src="https://images2.imgbox.com/ce/b5/SI2dftJa_o.gif" align="top" alt="">        printf("Error:OpenRequest failed!\n");<br> <span style="color:rgb(0,128,128)">241</span><img src="https://images2.imgbox.com/74/d3/AFplwvXM_o.gif" align="top" alt="">        <span style="color:rgb(0,0,255)">return</span> -1;<br> <span style="color:rgb(0,128,128)">242</span><img src="https://images2.imgbox.com/da/34/2ovJN4Tn_o.gif" align="top" alt="">    }</span><br> <span style="color:rgb(0,128,128)">243</span><img src="https://images2.imgbox.com/5e/33/jcGIpRcn_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">244</span><img src="https://images2.imgbox.com/f3/b2/TD35r5y4_o.gif" align="top" alt="">    <span style="color:rgb(0,128,0)">//</span><span style="color:rgb(0,128,0)"> Add request header.</span><span style="color:rgb(0,128,0)"><br> </span><span style="color:rgb(0,128,128)">245</span><span style="color:rgb(0,128,0)"><img id="Codehighlighter1_5185_5249_Open_Image" src="https://images2.imgbox.com/60/ef/dBT2XcrU_o.gif" align="top" alt=""></span>    <span style="color:rgb(0,0,255)">if</span> (!AddRequestHeaders(hRequest, strHeader)) <span id="Codehighlighter1_5185_5249_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)">246</span><img src="https://images2.imgbox.com/17/63/ZQWU4xSU_o.gif" align="top" alt="">        printf("Error:AddRequestHeaders failed!\n");<br> <span style="color:rgb(0,128,128)">247</span><img src="https://images2.imgbox.com/ea/0f/5EPSnepJ_o.gif" align="top" alt="">        <span style="color:rgb(0,0,255)">return</span> -1;<br> <span style="color:rgb(0,128,128)">248</span><img src="https://images2.imgbox.com/17/09/hfw7Oasi_o.gif" align="top" alt="">    }</span><br> <span style="color:rgb(0,128,128)">249</span><img src="https://images2.imgbox.com/fe/a3/z5goPp8z_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">250</span><img src="https://images2.imgbox.com/c7/6d/OjYFT6eF_o.gif" align="top" alt="">    <span style="color:rgb(0,128,0)">//</span><span style="color:rgb(0,128,0)"> Send post data.</span><span style="color:rgb(0,128,0)"><br> </span><span style="color:rgb(0,128,128)">251</span><span style="color:rgb(0,128,0)"><img id="Codehighlighter1_5352_5410_Open_Image" src="https://images2.imgbox.com/be/a6/G6kIdTkF_o.gif" align="top" alt=""></span>    <span style="color:rgb(0,0,255)">if</span> (!SendRequest(hRequest, (<span style="color:rgb(0,0,255)">const</span> <span style="color:rgb(0,0,255)">char</span>*)strPostData, strPostData.GetLength())) <span id="Codehighlighter1_5352_5410_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)">252</span><img src="https://images2.imgbox.com/f4/dd/zoXnZFqB_o.gif" align="top" alt="">        printf("Error:SendRequest failed!\n");<br> <span style="color:rgb(0,128,128)">253</span><img src="https://images2.imgbox.com/ad/45/RuB6UJk9_o.gif" align="top" alt="">        <span style="color:rgb(0,0,255)">return</span> -1;<br> <span style="color:rgb(0,128,128)">254</span><img src="https://images2.imgbox.com/73/e1/V7qdXR07_o.gif" align="top" alt="">    }</span><br> <span style="color:rgb(0,128,128)">255</span><img src="https://images2.imgbox.com/0b/7f/CyYgONzS_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">256</span><img src="https://images2.imgbox.com/25/f0/YUQBceGT_o.gif" align="top" alt="">    <span style="color:rgb(0,128,0)">//</span><span style="color:rgb(0,128,0)"> End request</span><span style="color:rgb(0,128,0)"><br> </span><span style="color:rgb(0,128,128)">257</span><span style="color:rgb(0,128,0)"><img id="Codehighlighter1_5457_5514_Open_Image" src="https://images2.imgbox.com/b4/a3/SSR6WDL5_o.gif" align="top" alt=""></span>    <span style="color:rgb(0,0,255)">if</span> (!EndRequest(hRequest)) <span id="Codehighlighter1_5457_5514_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)">258</span><img src="https://images2.imgbox.com/d7/68/m7Ehg0Sh_o.gif" align="top" alt="">        printf("Error:EndRequest failed!\n");<br> <span style="color:rgb(0,128,128)">259</span><img src="https://images2.imgbox.com/ed/71/wQBjq3mk_o.gif" align="top" alt="">        <span style="color:rgb(0,0,255)">return</span> -1;<br> <span style="color:rgb(0,128,128)">260</span><img src="https://images2.imgbox.com/4b/73/m3KEX2lA_o.gif" align="top" alt="">    }</span><br> <span style="color:rgb(0,128,128)">261</span><img src="https://images2.imgbox.com/26/54/4fnRUWWf_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">262</span><img src="https://images2.imgbox.com/0c/05/mTYMnWrZ_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">char</span> szBuf[BUF_SIZE];<br> <span style="color:rgb(0,128,128)">263</span><img src="https://images2.imgbox.com/81/14/KNazzacF_o.gif" align="top" alt="">    DWORD dwSize = 0;<br> <span style="color:rgb(0,128,128)">264</span><img src="https://images2.imgbox.com/9e/7f/ABOuoPMf_o.gif" align="top" alt="">    szBuf[0] = 0;<br> <span style="color:rgb(0,128,128)">265</span><img src="https://images2.imgbox.com/22/09/vBMYiqV3_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">266</span><img src="https://images2.imgbox.com/cc/5e/I3UX21JQ_o.gif" align="top" alt="">    <span style="color:rgb(0,128,0)">//</span><span style="color:rgb(0,128,0)"> Query header info.</span><span style="color:rgb(0,128,0)"><br> </span><span style="color:rgb(0,128,128)">267</span><span style="color:rgb(0,128,0)"><img src="https://images2.imgbox.com/89/a6/j0N2taTg_o.gif" align="top" alt=""></span>#ifdef USE_WINHTTP<br> <span style="color:rgb(0,128,128)">268</span><img src="https://images2.imgbox.com/4a/4f/hXKQdTmb_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">int</span> contextLengthId = WINHTTP_QUERY_CONTENT_LENGTH;<br> <span style="color:rgb(0,128,128)">269</span><img src="https://images2.imgbox.com/13/41/m4YF43Gd_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">int</span> statusCodeId = WINHTTP_QUERY_STATUS_CODE;<br> <span style="color:rgb(0,128,128)">270</span><img src="https://images2.imgbox.com/3c/64/vZ3O44HL_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">int</span> statusTextId = WINHTTP_QUERY_STATUS_TEXT;<br> <span style="color:rgb(0,128,128)">271</span><img src="https://images2.imgbox.com/91/32/F4o2cwsM_o.gif" align="top" alt="">#<span style="color:rgb(0,0,255)">else</span><br> <span style="color:rgb(0,128,128)">272</span><img src="https://images2.imgbox.com/2e/e8/R0FDdIWB_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">int</span> contextLengthId = HTTP_QUERY_CONTENT_LENGTH;<br> <span style="color:rgb(0,128,128)">273</span><img src="https://images2.imgbox.com/b4/67/luYr6rzX_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">int</span> statusCodeId = HTTP_QUERY_STATUS_CODE;<br> <span style="color:rgb(0,128,128)">274</span><img src="https://images2.imgbox.com/79/c8/RaxFWABq_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">int</span> statusTextId = HTTP_QUERY_STATUS_TEXT;<br> <span style="color:rgb(0,128,128)">275</span><img src="https://images2.imgbox.com/1c/8e/9vKlJwqg_o.gif" align="top" alt="">#endif<br> <span style="color:rgb(0,128,128)">276</span><img src="https://images2.imgbox.com/84/69/bh3bpGds_o.gif" align="top" alt="">    dwSize = BUF_SIZE;<br> <span style="color:rgb(0,128,128)">277</span><img id="Codehighlighter1_5994_6061_Open_Image" src="https://images2.imgbox.com/b9/c7/y54kS2F3_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">if</span> (QueryInfo(hRequest, contextLengthId, szBuf, &amp;dwSize)) <span id="Codehighlighter1_5994_6061_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)">278</span><img src="https://images2.imgbox.com/bb/ec/XA9g9Cwk_o.gif" align="top" alt="">        szBuf[dwSize] = 0;<br> <span style="color:rgb(0,128,128)">279</span><img src="https://images2.imgbox.com/ee/a5/c5wJRT1u_o.gif" align="top" alt="">        printf("Content length:[%s]\n", szBuf);<br> <span style="color:rgb(0,128,128)">280</span><img src="https://images2.imgbox.com/99/de/vZQOFapK_o.gif" align="top" alt="">    }</span><br> <span style="color:rgb(0,128,128)">281</span><img src="https://images2.imgbox.com/86/69/HRUqEA7x_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">282</span><img src="https://images2.imgbox.com/34/ac/5VRwgRbO_o.gif" align="top" alt="">    dwSize = BUF_SIZE;<br> <span style="color:rgb(0,128,128)">283</span><img id="Codehighlighter1_6140_6204_Open_Image" src="https://images2.imgbox.com/dd/e2/rxJrLO2M_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">if</span> (QueryInfo(hRequest, statusCodeId, szBuf, &amp;dwSize)) <span id="Codehighlighter1_6140_6204_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)">284</span><img src="https://images2.imgbox.com/36/d3/kNnJ6zzi_o.gif" align="top" alt="">        szBuf[dwSize] = 0;<br> <span style="color:rgb(0,128,128)">285</span><img src="https://images2.imgbox.com/4c/e5/eym534fc_o.gif" align="top" alt="">        printf("Status code:[%s]\n", szBuf);<br> <span style="color:rgb(0,128,128)">286</span><img src="https://images2.imgbox.com/b5/82/aDUaLNsg_o.gif" align="top" alt="">    }</span><br> <span style="color:rgb(0,128,128)">287</span><img src="https://images2.imgbox.com/bf/ae/OnhEsiBP_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">288</span><img src="https://images2.imgbox.com/8c/8a/1WL2MQz3_o.gif" align="top" alt="">    dwSize = BUF_SIZE;<br> <span style="color:rgb(0,128,128)">289</span><img id="Codehighlighter1_6283_6347_Open_Image" src="https://images2.imgbox.com/ed/95/Au03xIAq_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">if</span> (QueryInfo(hRequest, statusTextId, szBuf, &amp;dwSize)) <span id="Codehighlighter1_6283_6347_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)">290</span><img src="https://images2.imgbox.com/3c/82/XvlXVy3r_o.gif" align="top" alt="">        szBuf[dwSize] = 0;<br> <span style="color:rgb(0,128,128)">291</span><img src="https://images2.imgbox.com/72/70/U355mCV1_o.gif" align="top" alt="">        printf("Status text:[%s]\n", szBuf);<br> <span style="color:rgb(0,128,128)">292</span><img src="https://images2.imgbox.com/cc/86/cWOKyR3E_o.gif" align="top" alt="">    }</span><br> <span style="color:rgb(0,128,128)">293</span><img src="https://images2.imgbox.com/aa/3f/PymGE7j6_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">294</span><img src="https://images2.imgbox.com/ed/ee/Lmn1AiN9_o.gif" align="top" alt="">    <span style="color:rgb(0,128,0)">//</span><span style="color:rgb(0,128,0)"> read data.</span><span style="color:rgb(0,128,0)"><br> </span><span style="color:rgb(0,128,128)">295</span><span style="color:rgb(0,128,0)"><img id="Codehighlighter1_6375_6591_Open_Image" src="https://images2.imgbox.com/e5/d5/GteenuiS_o.gif" align="top" alt=""></span>    <span style="color:rgb(0,0,255)">for</span> (;;) <span id="Codehighlighter1_6375_6591_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)">296</span><img src="https://images2.imgbox.com/36/69/5br4v1GV_o.gif" align="top" alt="">        dwSize = BUF_SIZE;<br> <span style="color:rgb(0,128,128)">297</span><img id="Codehighlighter1_6457_6471_Open_Image" src="https://images2.imgbox.com/fa/8f/G7szoYp9_o.gif" align="top" alt="">        <span style="color:rgb(0,0,255)">if</span> (ReadData(hRequest, szBuf, dwSize, &amp;dwSize) == FALSE) <span id="Codehighlighter1_6457_6471_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)">298</span><img src="https://images2.imgbox.com/da/08/qPbEhpVe_o.gif" align="top" alt="">            <span style="color:rgb(0,0,255)">break</span>;<br> <span style="color:rgb(0,128,128)">299</span><img src="https://images2.imgbox.com/db/ff/tRRt4qUU_o.gif" align="top" alt="">        }</span><br> <span style="color:rgb(0,128,128)">300</span><img src="https://images2.imgbox.com/04/2b/EJact3eX_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">301</span><img id="Codehighlighter1_6493_6507_Open_Image" src="https://images2.imgbox.com/2c/9d/c2nTNFIW_o.gif" align="top" alt="">        <span style="color:rgb(0,0,255)">if</span> (dwSize &lt;= 0) <span id="Codehighlighter1_6493_6507_Open_Text">{<!-- --><br> <span style="color:rgb(0,128,128)">302</span><img src="https://images2.imgbox.com/43/ce/hTMTTDze_o.gif" align="top" alt="">            <span style="color:rgb(0,0,255)">break</span>;<br> <span style="color:rgb(0,128,128)">303</span><img src="https://images2.imgbox.com/0f/40/0mBX1UWs_o.gif" align="top" alt="">        }</span><br> <span style="color:rgb(0,128,128)">304</span><img src="https://images2.imgbox.com/ce/6f/hc1kawe9_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">305</span><img src="https://images2.imgbox.com/2c/79/cdLPaLFZ_o.gif" align="top" alt="">        szBuf[dwSize] = 0;<br> <span style="color:rgb(0,128,128)">306</span><img src="https://images2.imgbox.com/8b/be/CSHOkHRQ_o.gif" align="top" alt="">        printf("%s\n", szBuf);    <span style="color:rgb(0,128,0)">//</span><span style="color:rgb(0,128,0)">Output value = value1 + value2</span><span style="color:rgb(0,128,0)"><br> </span><span style="color:rgb(0,128,128)">307</span><span style="color:rgb(0,128,0)"><img src="https://images2.imgbox.com/9b/8a/AAwwN1ur_o.gif" align="top" alt=""></span>    }</span><br> <span style="color:rgb(0,128,128)">308</span><img src="https://images2.imgbox.com/2f/77/VZQ8WwyQ_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">309</span><img src="https://images2.imgbox.com/ff/75/0pXkRzWy_o.gif" align="top" alt="">    CloseInternetHandle(hRequest);<br> <span style="color:rgb(0,128,128)">310</span><img src="https://images2.imgbox.com/91/ba/XqBoJPMo_o.gif" align="top" alt="">    CloseInternetHandle(hConnect);<br> <span style="color:rgb(0,128,128)">311</span><img src="https://images2.imgbox.com/14/07/4chYKr5g_o.gif" align="top" alt="">    CloseInternetHandle(hSession);<br> <span style="color:rgb(0,128,128)">312</span><img src="https://images2.imgbox.com/b4/f3/pdHUvSBx_o.gif" align="top" alt=""><br> <span style="color:rgb(0,128,128)">313</span><img src="https://images2.imgbox.com/d8/0b/fBhF5J1V_o.gif" align="top" alt="">    <span style="color:rgb(0,0,255)">return</span> 0;<br> <span style="color:rgb(0,128,128)">314</span><img src="https://images2.imgbox.com/78/83/DD6Zp9pz_o.gif" align="top" alt="">}</span> 
  <span style="line-height:15px"><br> </span> 
  <span style="line-height:15px; color:rgb(0,128,128)">315</span> 
  <span style="line-height:15px"><img src="https://images2.imgbox.com/e2/dd/SDgVVOAa_o.gif" align="top" alt=""></span> 
 </div> 
</div> 
<p><br> </p> 
<p>=========================================================================================</p> 
<p><a target="_blank" id="cb_post_title_url" href="http://www.cnblogs.com/chenjava/archive/2008/12/23/1360658.html" rel="nofollow noopener noreferrer" style="color:navy; text-decoration:none; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; font-weight:bold">wininet　api函数使用经验点滴</a><br> </p> 
<p></p> 
<p style="font-size:13px; line-height:19px; margin:10px auto; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"> 一.使用HttpSendRequestEx后，如需使用HttpQueryInfo，需先用HttpEndRequest结束Request</p> 
<p style="font-size:13px; line-height:19px; margin:10px auto; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"> <br> 二.BOOL HttpQueryInfo(<br>     IN HINTERNET hHttpRequest,<br>     IN DWORD dwInfoLevel,<br>     IN LPVOID lpvBuffer,<br>     IN LPDWORD lpdwBufferLength,<br>     IN OUT LPDWORD lpdwIndex,<br> );<br> lpdwBufferLength会返回所需的Buffer大小，因此如果多次使用此函数，需要多次对lpdwBufferLength赋值，否则会出现ERROR_INSUFFICIENT_BUFFER错误<br> 示例程序：<br> </p> 
<pre><code class="language-cpp">hHttpFile=HttpOpenRequest(hConnect,"POST","/avlab/index.php",NULL,NULL,0,
    INTERNET_FLAG_DONT_CACHE|INTERNET_FLAG_NO_COOKIES|INTERNET_FLAG_KEEP_CONNECTION
    |INTERNET_FLAG_RELOAD,0);
   HttpAddRequestHeaders(hHttpFile,szCookie,-1,HTTP_ADDREQ_FLAG_ADD);
   HttpAddRequestHeaders(hHttpFile,"Content-Type: application/x-www-form-urlencoded",-1,HTTP_ADDREQ_FLAG_ADD);
   HttpSendRequestEx(hHttpFile,&amp;struInterIn,NULL,NULL,NULL);
   HttpEndRequest(hHttpFile,NULL,NULL,NULL);

   nLength=512;//这一句很重要，，因为HttpQueryInfo返回的时候，会改变此值
   HttpQueryInfo(hHttpFile,HTTP_QUERY_SET_COOKIE,szBuffer,(unsigned long *)&amp;nLength,NULL);</code></pre> 
<p></p> 
<p style="font-size:13px; line-height:19px; margin:10px auto; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"> <br> 三.使用InternetReadFile一定要记得比较已经读取的字节数,以确定数据是否已经全部读完<br>      如果InternetReadFile未把response的数据读完,后续的request会被response数据淹没,而得不到服务端的及时响应或者无响应.这时候再HttpSendRequest,后续的HttpQueryInfo会不成功    </p> 
<p style="font-size:13px; line-height:19px; margin:10px auto; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"> <br> 四.字符串操作时,一定要检查返回值,以防后续代码进行非法操作</p> 
<p style="font-size:13px; line-height:19px; margin:10px auto; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"> <br> 五.<br>      如果向网页提交带参数的get或者post命令，网站需要处理时间，其返回网址的内容可能还没有更新过，如果需要获取更新后的内容，需要对更新前后的内容进行比较</p> 
<p style="font-size:13px; line-height:19px; margin:10px auto; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"> <br> 六.<br> 　HttpSendRequest或者HttpSendRequestEx发送消息后如果未接受到response，则会返回NULL,Error Code被设为12002,即超时错误，可以使用 InternetSetOption(hHttpFile,INTERNET_OPTION_SEND_TIMEOUT,&amp;timeout,sizeof(DWORD));  设置超时时间</p> 
<p style="font-size:13px; line-height:19px; margin:10px auto; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"> <br> 七.<br>      不能太依赖服务器提供的文件大小,因为有的时候服务器并不提供文件大小,此时如果再使用HttpQueryInfo获取大小,则会出错,GetLastError()返回值为12150</p> 
<br>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/356ddf596fde3afe1d7ad67bf0b19b0d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">&lt;td&gt;加onclick事件，传参</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e2e895c163170717d9e8ea3a8b4e3a90/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">亚马逊 kindle 刷机  过程记录</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>