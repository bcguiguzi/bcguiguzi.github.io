<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>jQuery项目：京东商品详情页 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="jQuery项目：京东商品详情页" />
<meta property="og:description" content="目录 需求分析代码分析1. 鼠标移入显示,移出隐藏2. 鼠标移动切换二级导航菜单的切换显示和隐藏3. 输入搜索关键字, 列表显示匹配的结果4. 点击显示或者隐藏更多的分享图标5. 鼠标移入移出切换地址的显示隐藏6. 点击切换地址tab7. 鼠标移入移出切换显示迷你购物车8. 点击切换产品选项 (商品详情等显示出来)9. 点击向右/左, 移动当前展示商品的小图片10. 当鼠标悬停在某个小图上,在上方显示对应的中图11. 当鼠标在中图上移动时, 显示对应大图的附近部分区域 完整代码 需求分析 鼠标移入显示,移出隐藏
目标: 手机京东, 客户服务, 网站导航, 我的京东, 去购物车结算, 全部商品鼠标移动切换二级导航菜单的切换显示和隐藏输入搜索关键字, 列表显示匹配的结果点击显示或者隐藏更多的分享图标鼠标移入移出切换地址的显示隐藏点击切换地址tab鼠标移入移出切换显示迷你购物车点击切换产品选项 (商品详情等显示出来)点击向右/左, 移动当前展示商品的小图片当鼠标悬停在某个小图上,在上方显示对应的中图当鼠标在中图上移动时, 显示对应大图的附近部分区域 代码分析 1. 鼠标移入显示,移出隐藏 目标: 手机京东, 客户服务, 网站导航, 我的京东, 去购物车结算, 全部商品
function showhide() { $(&#39;[name=show_hide]&#39;).hover(function() { //	找到隐藏的id让他显示 var id = this.id &#43; &#39;_items&#39; $(&#39;#&#39; &#43; id).show() }, function() { //	找到显示的id让他隐藏 var id = this.id &#43; &#39;_items&#39; $(&#39;#&#39; &#43; id)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/b863222ba67edbff67f4866def2f4e51/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-21T08:53:46+08:00" />
<meta property="article:modified_time" content="2022-05-21T08:53:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">jQuery项目：京东商品详情页</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_2" rel="nofollow">需求分析</a></li><li><a href="#_16" rel="nofollow">代码分析</a></li><li><ul><li><a href="#1__17" rel="nofollow">1. 鼠标移入显示,移出隐藏</a></li><li><a href="#2__46" rel="nofollow">2. 鼠标移动切换二级导航菜单的切换显示和隐藏</a></li><li><a href="#3___63" rel="nofollow">3. 输入搜索关键字, 列表显示匹配的结果</a></li><li><a href="#4__95" rel="nofollow">4. 点击显示或者隐藏更多的分享图标</a></li><li><a href="#5__133" rel="nofollow">5. 鼠标移入移出切换地址的显示隐藏</a></li><li><a href="#6_tab_159" rel="nofollow">6. 点击切换地址tab</a></li><li><a href="#7__174" rel="nofollow">7. 鼠标移入移出切换显示迷你购物车</a></li><li><a href="#8___194" rel="nofollow">8. 点击切换产品选项 (商品详情等显示出来)</a></li><li><a href="#9___218" rel="nofollow">9. 点击向右/左, 移动当前展示商品的小图片</a></li><li><a href="#10__283" rel="nofollow">10. 当鼠标悬停在某个小图上,在上方显示对应的中图</a></li><li><a href="#11___307" rel="nofollow">11. 当鼠标在中图上移动时, 显示对应大图的附近部分区域</a></li></ul> 
  </li><li><a href="#_408" rel="nofollow">完整代码</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>需求分析</h2> 
<ol><li>鼠标移入显示,移出隐藏<br> 目标: 手机京东, 客户服务, 网站导航, 我的京东, 去购物车结算, 全部商品</li><li>鼠标移动切换二级导航菜单的切换显示和隐藏</li><li>输入搜索关键字, 列表显示匹配的结果</li><li>点击显示或者隐藏更多的分享图标</li><li>鼠标移入移出切换地址的显示隐藏</li><li>点击切换地址tab</li><li>鼠标移入移出切换显示迷你购物车</li><li>点击切换产品选项 (商品详情等显示出来)</li><li>点击向右/左, 移动当前展示商品的小图片</li><li>当鼠标悬停在某个小图上,在上方显示对应的中图</li><li>当鼠标在中图上移动时, 显示对应大图的附近部分区域</li></ol> 
<h2><a id="_16"></a>代码分析</h2> 
<h3><a id="1__17"></a>1. 鼠标移入显示,移出隐藏</h3> 
<p>目标: 手机京东, 客户服务, 网站导航, 我的京东, 去购物车结算, 全部商品</p> 
<p><img src="https://images2.imgbox.com/fd/66/0JNUWgBe_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/bc/da/pkoe8cmm_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-html">function showhide() {
		$('[name=show_hide]').hover(function() {
			//			找到隐藏的id让他显示
			var id = this.id + '_items'
			$('#' + id).show()
		}, function() {
			//			找到显示的id让他隐藏
			var id = this.id + '_items'
			$('#' + id).hide()
		})
	};
</code></pre> 
<p><img src="https://images2.imgbox.com/16/3f/IcT6Ssnp_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/45/c3/XJYrlr84_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/aa/d4/LUCA3Bre_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2__46"></a>2. 鼠标移动切换二级导航菜单的切换显示和隐藏</h3> 
<p><img src="https://images2.imgbox.com/25/94/GxuS1uNY_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/79/24/gYmB3t2c_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-html">function hoverSubMenu() {
		$('#category_items&gt;div').hover(function() {
			$(this).children(':last').show()
		}, function() {
			$(this).children(':last').hide()
		})
	}
</code></pre> 
<p><img src="https://images2.imgbox.com/67/6f/bmzqZ8ps_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3___63"></a>3. 输入搜索关键字, 列表显示匹配的结果</h3> 
<p><img src="https://images2.imgbox.com/81/59/exrZ7rX4_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/75/23/FElTfU5M_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-html">function search() {
		//		$("#txtSearch").focus(function() {
		//
		//		})
		//		.keyup(function() {
		//
		//		})
		$("#txtSearch").on('keyup focus', function() {
				//如果输入框有文本才会显示列表
				var txt = this.value.trim()
				if(txt) {
					$('#search_helper').show()
				}
			})
			.blur(function() {
				// 隐藏列表
				$('#search_helper').hide()
			})
	}

</code></pre> 
<p><img src="https://images2.imgbox.com/37/04/HKMC6UZY_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4__95"></a>4. 点击显示或者隐藏更多的分享图标</h3> 
<p>.<img src="https://images2.imgbox.com/ee/39/3pNxYERn_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/32/60/IhHjEywj_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-html">function share() {
		//标识当前的状态(初始为关闭)
		var isOpen = false
		var $shareMore = $('#shareMore')
		var $parent = $shareMore.parent()
		var $as = $shareMore.prevAll('a:lt(2)')
		var $b = $shareMore.children()

		$shareMore.click(function() {

			if(isOpen) { // 去关闭
				isOpen = false
				$parent.css('width', 155)
				$as.hide()
				$b.removeClass('backword')
			} else { // 去打开
				isOpen = true
				$parent.css('width', 200)
				$as.show()
				$b.addClass('backword')
			}

			// isOpen = !isOpen
		})
	}
</code></pre> 
<p><img src="https://images2.imgbox.com/7b/53/X3waABk3_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5__133"></a>5. 鼠标移入移出切换地址的显示隐藏</h3> 
<p><img src="https://images2.imgbox.com/a7/a8/iDspZrWk_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/00/a8/F69qaQE3_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-html">function address() {
		var $select = $('#store_select')

		$select.hover(function() {
				$(this).children(':gt(0)').show()
			}, function() {
				$(this).children(':gt(0)').hide()
			})
			.children(':last')
			.click(function() {
				// $(this).children(':gt(0)').hide()  // 不能用, this不对
				$select.children(':gt(0)').hide()
			})
	}
</code></pre> 
<p><img src="https://images2.imgbox.com/54/75/dPMxvJZh_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="6_tab_159"></a>6. 点击切换地址tab</h3> 
<p><img src="https://images2.imgbox.com/2b/d5/2fFBe3kh_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-html">function clickTabs() {
		$('#store_tabs&gt;li').click(function() {
			$('#store_tabs&gt;li').removeClass('hover')
			this.className = 'hover'
		})
	}
</code></pre> 
<p><img src="https://images2.imgbox.com/b4/07/V9iLXwSy_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="7__174"></a>7. 鼠标移入移出切换显示迷你购物车</h3> 
<p><img src="https://images2.imgbox.com/98/08/pib95Gqg_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/09/54/xL72wnZO_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-html">function hoverMiniCart() {
		$('#minicart').hover(function() {
			this.className = 'minicart'
			$(this).children(':last').show()
		}, function() {
			this.className = ''
			$(this).children(':last').hide()
		})
	}
</code></pre> 
<p><img src="https://images2.imgbox.com/5f/3b/smxTmBsN_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="8___194"></a>8. 点击切换产品选项 (商品详情等显示出来)</h3> 
<p><img src="https://images2.imgbox.com/d4/9f/zYuXG3iX_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/00/43/TQvd5n2q_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-html">function clickProductTabs() {
		var $lis = $('#product_detail&gt;ul&gt;li')
		var $contents = $('#product_detail&gt;div:gt(0)')
		$lis.click(function() {
			$lis.removeClass('current')
			this.className = 'current'
			//隐藏所有$contents
			$contents.hide()
			//显示当前对应的content
			var index = $(this).index()
			// $contents.eq(index).show()
			$contents[index].style.display = 'block'
		})
	}
</code></pre> 
<p><img src="https://images2.imgbox.com/4f/95/iTLgEzGk_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="9___218"></a>9. 点击向右/左, 移动当前展示商品的小图片</h3> 
<p><img src="https://images2.imgbox.com/e3/8d/CPsfVLnx_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/1f/15/Z5bfmBSI_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-html">function moveMiniImg() {
		var $as = $('#preview&gt;h1&gt;a')
		var $backward = $as.first()
		var $forward = $as.last()

		var $Ul = $('#icon_list')
		var SHOW_COUNT = 5
		var imgCount = $Ul.children('li').length
		var moveCount = 0 //移动的次数(向右为正, 向左为负)
		var liWidth = $Ul.children(':first').width()

		// 初始化更新
		if(imgCount &gt; SHOW_COUNT) {
			$forward.attr('class', 'forward')
		}

		// 给向右的按钮绑定点击监听
		$forward.click(function() {
			// 判断是否需要移动, 如果不需要直接结束
			if(moveCount === imgCount - SHOW_COUNT) {
				return
			}
			moveCount++
			//更新向左的按钮
			$backward.attr('class', 'backward')
			// 更新向右的按钮
			if(moveCount === imgCount - SHOW_COUNT) {
				$forward.attr('class', 'forward_disabled')
			}
			// 移动ul
			$Ul.css({
				left: -moveCount * liWidth
			})
		})

		// 给向左的按钮绑定点击监听
		$backward.click(function() {
			// 判断是否需要移动, 如果不需要直接结束
			if(moveCount === 0) {
				return
			}
			moveCount--
			//更新向右的按钮
			$forward.attr('class', 'forward')
			// 更新向左的按钮
			if(moveCount === 0) {
				$backward.attr('class', 'backward_disabled')
			}
			// 移动ul
			$Ul.css({
				left: -moveCount * liWidth
			})
		})

	}
</code></pre> 
<p><img src="https://images2.imgbox.com/ee/e3/vLPJaWbf_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="10__283"></a>10. 当鼠标悬停在某个小图上,在上方显示对应的中图</h3> 
<p><img src="https://images2.imgbox.com/1d/4c/nIjxELot_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/e3/10/8nuKvJkc_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-html">function hoverMiniImg() {
		$('#icon_list&gt;li').hover(function() {
			var $img = $(this).children()
			$img.addClass('hoveredThumb')
			//显示对应的中图
			var src = $img.attr('src').replace('.jpg', '-m.jpg')
			$('#mediumImg').attr('src', src)
		}, function() {
			$(this).children().removeClass('hoveredThumb')
		})
	}
</code></pre> 
<p><img src="https://images2.imgbox.com/b5/fa/JSBZnD4T_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="11___307"></a>11. 当鼠标在中图上移动时, 显示对应大图的附近部分区域</h3> 
<p><img src="https://images2.imgbox.com/aa/b1/ydhC83B1_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-html">var $mediumImg = $('#mediumImg')
    var $mask = $('#mask') // 小黄块
    var $maskTop = $('#maskTop')
    var $largeImgContainer = $('#largeImgContainer')
    var $loading = $('#loading')
    var $largeImg = $('#largeImg')
    var maskWidth = $mask.width()
    var maskHeight = $mask.height()
    var maskTopWidth = $maskTop.width()
    var maskTopHeight = $maskTop.height()

    $maskTop.hover(function () {// 进入
      $mask.show()

      // 动态加载对应的大图
      // images\products\product-s2-m.jpg
      // images/products/product-s2-l.jpg
      var src = $mediumImg.attr('src').replace('-m.', '-l.')
      $largeImg.attr('src', src)
      $largeImgContainer.show()
      // 绑定加载完成的监听
      $largeImg.on('load', function () { // 大图加载完成

        // 得到大图的尺寸
        var largeWidth = $largeImg.width()
        var largeHeight = $largeImg.height()

        // 给$largeImgContainer设置尺寸
        $largeImgContainer.css({
          width: largeWidth/2,
          height: largeHeight/2
        })
        // 显示大图
        $largeImg.show()
        // 隐藏加载进度条
        $loading.hide()
        console.log($largeImg.width(), $largeImg.height())

        //鼠标移动的监听
        $maskTop.mousemove(function (event) {
          /*
          1. 移动小黄块
          2. 移动大图
           */
          /*1. 移动小黄块*/
          //计算left/top
          var left = 0
          var top = 0
          // 事件的坐标
          var eventLeft = event.offsetX
          var eventTop = event.offsetY
          left = eventLeft - maskWidth/2
          top = eventTop - maskHeight/2
          // left在[0, maskTopWidth-maskWidth]
          if(left&lt;0) {
            left = 0
          } else if(left&gt;maskTopWidth-maskWidth) {
            left = maskTopWidth-maskWidth
          }
          // top在[0, maskTopHeight-maskHeight]
          if(top&lt;0) {
            top = 0
          } else if(top&gt;maskTopHeight-maskHeight) {
            top = maskTopHeight-maskHeight
          }
          //给$mask重新定位
          $mask.css({
            left: left,
            top: top
          })

          /*2. 移动大图*/
          // 得到大图的坐标
          left = -left *  largeWidth / maskTopWidth
          top = -top * largeHeight / maskTopHeight
          // 设置大图的坐标
          $largeImg.css({
            left: left,
            top: top
          })
        })
      })


    }, function () {
      $mask.hide()
      $largeImgContainer.hide()
      $largeImg.hide()
    })


</code></pre> 
<p><img src="https://images2.imgbox.com/4d/fa/81dCIGXm_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_408"></a>完整代码</h2> 
<p>见评论区网盘链接</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9db70cde7d4a67c32880ccc0605aa241/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">利用命令简单检查网络</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7a303392cbddb666084f2dfdbb7be8c9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">HTML基础之form表单</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>