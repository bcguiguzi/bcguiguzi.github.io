<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android简单的ViewPager指示器 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android简单的ViewPager指示器" />
<meta property="og:description" content="平常写项目在写介绍页,或者一些简单的轮播图的时候,总会需要搭配指示器来标明当前在什么位置.写法也比较多,刚好自己需要用到,以前用的一些方法,用起来需要配置好多东西,有些大材小用,所以来简单的实现一个.效果图如下:
一、简单分析与代码实现 因为比较简单,所以就简单的分析一下: 1)每一个指示器项有两种状态,普通状态和选中状态,所以需要准备两种状态的图片. 2)指示器的个数和ViewPager的页数要保持一致.可以引用ViewPager对象,来获取ViewPager的页数.从而创建指示器. 3)指示器要跟随ViewPager的移动来动态的改变状态.同样可以引用ViewPager对象,对ViewPager进行监听,处理指示器的状态改变.
有了思路,就来具体实现一下,提出一些自定义属性,在attr文件中定义:
&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt; &lt;resources&gt; &lt;!--IndicatorView相关--&gt; &lt;!--普通指示器图片--&gt; &lt;attr name=&#34;normalDrawable&#34; format=&#34;reference&#34;/&gt; &lt;!--选中指示器图片--&gt; &lt;attr name=&#34;selectDrawable&#34; format=&#34;reference&#34;/&gt; &lt;!--指示器间隔--&gt; &lt;attr name=&#34;indicatorInterval&#34; format=&#34;dimension&#34;/&gt; &lt;!--普通指示器颜色--&gt; &lt;attr name=&#34;normalColor&#34; format=&#34;color&#34;/&gt; &lt;!--选中指示器颜色--&gt; &lt;attr name=&#34;selectColor&#34; format=&#34;color&#34;/&gt; &lt;!--圆点弧度--&gt; &lt;attr name=&#34;indicatorRadius&#34; format=&#34;integer&#34;/&gt; &lt;declare-styleable name=&#34;IndicatorView&#34;&gt; &lt;attr name=&#34;normalDrawable&#34;/&gt; &lt;attr name=&#34;selectDrawable&#34;/&gt; &lt;attr name=&#34;indicatorInterval&#34;/&gt; &lt;attr name=&#34;normalColor&#34;/&gt; &lt;attr name=&#34;selectColor&#34;/&gt; &lt;attr name=&#34;indicatorRadius&#34;/&gt; &lt;/declare-styleable&gt; &lt;/resources&gt; 新建一个IndicatorView继承自LinearLayout即可,因为需要对ViewPager进行监听,所以实现一下ViewPager的监听.定义变量并获取自定义属性:
/** * 轮播图圆形指示器 * Created by junweiliu on 16/6/15. */ public class IndicatorView extends LinearLayout implements ViewPager." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/0ee848974da8b2c279b991a63f8edd38/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-06-16T13:07:46+08:00" />
<meta property="article:modified_time" content="2016-06-16T13:07:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android简单的ViewPager指示器</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>平常写项目在写介绍页,或者一些简单的轮播图的时候,总会需要搭配指示器来标明当前在什么位置.写法也比较多,刚好自己需要用到,以前用的一些方法,用起来需要配置好多东西,有些大材小用,所以来简单的实现一个.效果图如下:</p> 
<p><img src="https://images2.imgbox.com/59/e9/0hEY7Ndx_o.gif" alt="效果图" title=""></p> 
<hr> 
<h4 id="一简单分析与代码实现">一、简单分析与代码实现</h4> 
<p>因为比较简单,所以就简单的分析一下: <br> 1)每一个指示器项有两种状态,普通状态和选中状态,所以需要准备两种状态的图片. <br> 2)指示器的个数和ViewPager的页数要保持一致.可以引用ViewPager对象,来获取ViewPager的页数.从而创建指示器. <br> 3)指示器要跟随ViewPager的移动来动态的改变状态.同样可以引用ViewPager对象,对ViewPager进行监听,处理指示器的状态改变.</p> 
<p>有了思路,就来具体实现一下,提出一些自定义属性,在attr文件中定义:</p> 
<pre class="prettyprint"><code class="language-java hljs "> &lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;
&lt;resources&gt;
    &lt;!--IndicatorView相关--&gt;
    &lt;!--普通指示器图片--&gt;
    &lt;attr name=<span class="hljs-string">"normalDrawable"</span> format=<span class="hljs-string">"reference"</span>/&gt;
    &lt;!--选中指示器图片--&gt;
    &lt;attr name=<span class="hljs-string">"selectDrawable"</span> format=<span class="hljs-string">"reference"</span>/&gt;
    &lt;!--指示器间隔--&gt;
    &lt;attr name=<span class="hljs-string">"indicatorInterval"</span> format=<span class="hljs-string">"dimension"</span>/&gt;
    &lt;!--普通指示器颜色--&gt;
    &lt;attr name=<span class="hljs-string">"normalColor"</span> format=<span class="hljs-string">"color"</span>/&gt;
    &lt;!--选中指示器颜色--&gt;
    &lt;attr name=<span class="hljs-string">"selectColor"</span> format=<span class="hljs-string">"color"</span>/&gt;
    &lt;!--圆点弧度--&gt;
    &lt;attr name=<span class="hljs-string">"indicatorRadius"</span> format=<span class="hljs-string">"integer"</span>/&gt;
    &lt;declare-styleable name=<span class="hljs-string">"IndicatorView"</span>&gt;
        &lt;attr name=<span class="hljs-string">"normalDrawable"</span>/&gt;
        &lt;attr name=<span class="hljs-string">"selectDrawable"</span>/&gt;
        &lt;attr name=<span class="hljs-string">"indicatorInterval"</span>/&gt;
        &lt;attr name=<span class="hljs-string">"normalColor"</span>/&gt;
        &lt;attr name=<span class="hljs-string">"selectColor"</span>/&gt;
        &lt;attr name=<span class="hljs-string">"indicatorRadius"</span>/&gt;
    &lt;/declare-styleable&gt;
&lt;/resources&gt;</code></pre> 
<p>新建一个IndicatorView继承自LinearLayout即可,因为需要对ViewPager进行监听,所以实现一下ViewPager的监听.定义变量并获取自定义属性:</p> 
<pre class="prettyprint"><code class="language-java hljs "><span class="hljs-javadoc">/**
 * 轮播图圆形指示器
 * Created by junweiliu on 16/6/15.
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IndicatorView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">LinearLayout</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">ViewPager</span>.<span class="hljs-title">OnPageChangeListener</span> {<!-- --></span>
    <span class="hljs-javadoc">/**
     * 需要创建的指示器个数
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> childViewCount = <span class="hljs-number">0</span>;
    <span class="hljs-javadoc">/**
     * 设置圆点间margin
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> mInterval;
    <span class="hljs-javadoc">/**
     * 当前选中的位置
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> mCurrentPostion = <span class="hljs-number">0</span>;
    <span class="hljs-javadoc">/**
     * 普通显示的图片
     */</span>
    <span class="hljs-keyword">private</span> Bitmap normalBp;
    <span class="hljs-javadoc">/**
     * 选中时显示的图片
     */</span>
    <span class="hljs-keyword">private</span> Bitmap selectBp;
    <span class="hljs-javadoc">/**
     * 设置的轮播图Vp
     */</span>
    <span class="hljs-keyword">private</span> ViewPager mViewPager;
    <span class="hljs-javadoc">/**
     * 指示器单项宽度
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> mWidth;
    <span class="hljs-javadoc">/**
     * 指示器单项高度
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> mHeight;
    <span class="hljs-javadoc">/**
     * 圆点半径
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> mRadius;
    <span class="hljs-javadoc">/**
     * 普通状态圆点颜色
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> normalColor;
    <span class="hljs-javadoc">/**
     * 选中状态圆点颜色
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> selectColor;

    <span class="hljs-javadoc">/**
     * 对外提供ViewPager的回调接口
     */</span>
    interface OnPageChangeListener {

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPageScrolled</span>(<span class="hljs-keyword">int</span> position, <span class="hljs-keyword">float</span> positionOffset, <span class="hljs-keyword">int</span> positionOffsetPixels);

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPageSelected</span>(<span class="hljs-keyword">int</span> position);

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPageScrollStateChanged</span>(<span class="hljs-keyword">int</span> state);

    }

    <span class="hljs-javadoc">/**
     * 回调接口
     */</span>
    <span class="hljs-keyword">private</span> OnPageChangeListener mListener;

    <span class="hljs-javadoc">/**
     * 设置回调
     *
     *<span class="hljs-javadoctag"> @param</span> listener
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setOnPageChangeListener</span>(OnPageChangeListener listener) {
        <span class="hljs-keyword">this</span>.mListener = listener;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title">IndicatorView</span>(Context context) {
        <span class="hljs-keyword">this</span>(context, <span class="hljs-keyword">null</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title">IndicatorView</span>(Context context, AttributeSet attrs) {
        <span class="hljs-keyword">this</span>(context, attrs, <span class="hljs-number">0</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title">IndicatorView</span>(Context context, AttributeSet attrs, <span class="hljs-keyword">int</span> defStyleAttr) {
        <span class="hljs-keyword">super</span>(context, attrs, defStyleAttr);
        <span class="hljs-comment">// 获取自定义属性</span>
        TypedArray ta = context.obtainStyledAttributes(attrs, R.styleable.IndicatorView);
        normalBp = drawableToBitamp(ta.getDrawable(R.styleable.IndicatorView_normalDrawable));
        selectBp = drawableToBitamp(ta.getDrawable(R.styleable.IndicatorView_selectDrawable));
        mInterval = ta.getDimensionPixelOffset(R.styleable.IndicatorView_indicatorInterval, <span class="hljs-number">6</span>);
        normalColor = ta.getColor(R.styleable.IndicatorView_normalColor, Color.GRAY);
        selectColor = ta.getColor(R.styleable.IndicatorView_selectColor, Color.RED);
        mRadius = ta.getInteger(R.styleable.IndicatorView_indicatorRadius, <span class="hljs-number">6</span>);
        ta.recycle();
        <span class="hljs-comment">// 初始化</span>
        init();
    }
</code></pre> 
<p>这里因为监听了ViewPager,所以需要对外提供回调方法,将ViewPager的监听方法暴露出去,方便其他地方对ViewPager对象进行监听.</p> 
<p>再来看一下init方法:</p> 
<pre class="prettyprint"><code class="language-java hljs ">    <span class="hljs-javadoc">/**
     * 初始化数据
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span>() {
        <span class="hljs-comment">// 处理自定义属性</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> == normalBp) {
            normalBp = makeIndicatorBp(normalColor);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> == selectBp) {
            selectBp = makeIndicatorBp(selectColor);
        }
        mWidth = normalBp.getWidth();
        mHeight = normalBp.getWidth();
    }

    <span class="hljs-javadoc">/**
     * 创建圆点指示器图片
     *
     *<span class="hljs-javadoctag"> @param</span> color 创建不同颜色的指示器项
     *<span class="hljs-javadoctag"> @return</span>
     */</span>
    <span class="hljs-keyword">private</span> Bitmap <span class="hljs-title">makeIndicatorBp</span>(<span class="hljs-keyword">int</span> color) {
        Bitmap normalBp = Bitmap.createBitmap(mRadius * <span class="hljs-number">2</span>, mRadius * <span class="hljs-number">2</span>,
                Bitmap.Config.ARGB_8888);
        Paint paint = <span class="hljs-keyword">new</span> Paint();
        paint.setAntiAlias(<span class="hljs-keyword">true</span>);
        paint.setColor(color);
        Canvas canvas = <span class="hljs-keyword">new</span> Canvas(normalBp);
        canvas.drawCircle(mRadius, mRadius, mRadius, paint);
        <span class="hljs-keyword">return</span> normalBp;
    }
</code></pre> 
<p>在init方法中对自定义属性做了相关处理,如果没有设置指示器的图片,就建立两种状态下的圆形指示器图片.</p> 
<p>接着看一下对于ViewPager对象的引用及处理:</p> 
<pre class="prettyprint"><code class="language-java hljs ">    <span class="hljs-javadoc">/**
     * 设置Vp
     *
     *<span class="hljs-javadoctag"> @param</span> viewpager
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setViewPager</span>(ViewPager viewpager) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> == viewpager) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> == viewpager.getAdapter()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalStateException(<span class="hljs-string">"ViewPager does not have adapter."</span>);
        }

        <span class="hljs-keyword">this</span>.mViewPager = viewpager;
        <span class="hljs-keyword">this</span>.mViewPager.addOnPageChangeListener(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>.childViewCount = viewpager.getAdapter().getCount();
        invalidate();
    }

    <span class="hljs-javadoc">/**
     * 设置Vp
     *
     *<span class="hljs-javadoctag"> @param</span> viewpager
     *<span class="hljs-javadoctag"> @param</span> currposition 当前选中的位置
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setViewPager</span>(ViewPager viewpager, <span class="hljs-keyword">int</span> currposition) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> == viewpager) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> == viewpager.getAdapter()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalStateException(<span class="hljs-string">"ViewPager does not have adapter."</span>);
        }
        <span class="hljs-keyword">this</span>.mViewPager = viewpager;
        <span class="hljs-keyword">this</span>.mViewPager.addOnPageChangeListener(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>.childViewCount = viewpager.getAdapter().getCount();
        <span class="hljs-keyword">this</span>.mCurrentPostion = currposition;
        invalidate();
    }
        <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPageScrolled</span>(<span class="hljs-keyword">int</span> position, <span class="hljs-keyword">float</span> positionOffset, <span class="hljs-keyword">int</span> positionOffsetPixels) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> != mListener) {
            mListener.onPageScrolled(position, positionOffset, positionOffsetPixels);
        }
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPageSelected</span>(<span class="hljs-keyword">int</span> position) {
        setIndicatorState(position);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> != mListener) {
            mListener.onPageSelected(position);
        }
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPageScrollStateChanged</span>(<span class="hljs-keyword">int</span> state) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> != mListener) {
            mListener.onPageScrollStateChanged(state);
        }
    }

    <span class="hljs-javadoc">/**
     * 设置指示器的状态
     *
     *<span class="hljs-javadoctag"> @param</span> position
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setIndicatorState</span>(<span class="hljs-keyword">int</span> position) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; getChildCount(); i++) {
            <span class="hljs-keyword">if</span> (i == position)
                ((ImageView) getChildAt(i)).setImageBitmap(selectBp);
            <span class="hljs-keyword">else</span>
                ((ImageView) getChildAt(i)).setImageBitmap(normalBp);
        }
    }</code></pre> 
<p>获取ViewPager对象,并通过对ViewPager对象的监听去设置指示器的状态.获取ViewPager对象提供两种方法,方便设置指示器默认显示的位置.</p> 
<p>最后看一下指示器的创建:</p> 
<pre class="prettyprint"><code class="language-java hljs ">    <span class="hljs-javadoc">/**
     * 重绘
     *
     *<span class="hljs-javadoctag"> @param</span> canvas
     */</span>
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">dispatchDraw</span>(Canvas canvas) {
        <span class="hljs-comment">// 创建指示器圆点</span>
        <span class="hljs-keyword">if</span> (getChildCount() &lt; childViewCount &amp;&amp; getChildCount() == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; childViewCount; i++) {
                addView(makeIndicatorItem());
            }
            <span class="hljs-comment">// 设置默认选中指示器</span>
            setIndicatorState(mCurrentPostion);
        }
        <span class="hljs-keyword">super</span>.dispatchDraw(canvas);
    }

    <span class="hljs-javadoc">/**
     * 创建指示器
     *
     *<span class="hljs-javadoctag"> @return</span>
     */</span>
    <span class="hljs-keyword">private</span> View <span class="hljs-title">makeIndicatorItem</span>() {
        ImageView iv = <span class="hljs-keyword">new</span> ImageView(getContext());
        LayoutParams lp = <span class="hljs-keyword">new</span> LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT);
        lp.width = normalBp.getWidth();
        lp.height = normalBp.getHeight();
        lp.rightMargin = mInterval;
        iv.setImageBitmap(normalBp);
        iv.setLayoutParams(lp);
        <span class="hljs-keyword">return</span> iv;
    }</code></pre> 
<p>在绘制过程中,去创建指示器,并设置相关属性和默认选中指示器的位置.</p> 
<hr> 
<h4 id="二完整代码及使用">二、完整代码及使用</h4> 
<p>不是特别复杂,注释也比较全,看一下完整代码:</p> 
<p>activity_main.xml:</p> 
<pre class="prettyprint"><code class="language-java hljs ">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;
&lt;RelativeLayout
    xmlns:android=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
    xmlns:idv=<span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span>
    xmlns:tools=<span class="hljs-string">"http://schemas.android.com/tools"</span>
    android:layout_width=<span class="hljs-string">"match_parent"</span>
    android:layout_height=<span class="hljs-string">"225dp"</span>
    tools:context=<span class="hljs-string">"com.example.junweiliu.simpleindicatorview.MainActivity"</span>&gt;
    &lt;!--轮播图--&gt;
    &lt;android.support.v4.view.ViewPager
        android:id=<span class="hljs-string">"@+id/vp_banner"</span>
        android:layout_width=<span class="hljs-string">"match_parent"</span>
        android:layout_height=<span class="hljs-string">"225dp"</span>
        &gt;
    &lt;/android.support.v4.view.ViewPager&gt;
    &lt;!--指示器--&gt;
    &lt;com.example.junweiliu.simpleindicatorview.IndicatorView
        android:id=<span class="hljs-string">"@+id/idv_banner"</span>
        android:layout_width=<span class="hljs-string">"match_parent"</span>
        android:layout_height=<span class="hljs-string">"10dp"</span>
        android:layout_alignParentBottom=<span class="hljs-string">"true"</span>
        android:layout_marginTop=<span class="hljs-string">"20dp"</span>
        idv:indicatorInterval=<span class="hljs-string">"10dp"</span>
        android:gravity=<span class="hljs-string">"center_horizontal"</span>
        idv:normalDrawable=<span class="hljs-string">"@mipmap/oval_indicator_grey"</span>
        idv:selectDrawable=<span class="hljs-string">"@mipmap/oval_indicator_green"</span>&gt;
    &lt;/com.example.junweiliu.simpleindicatorview.IndicatorView&gt;

&lt;/RelativeLayout&gt;
</code></pre> 
<p>banner_item.xml:</p> 
<pre class="prettyprint"><code class="language-java hljs ">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;
&lt;LinearLayout xmlns:android=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
              android:layout_width=<span class="hljs-string">"match_parent"</span>
              android:layout_height=<span class="hljs-string">"match_parent"</span>
              android:orientation=<span class="hljs-string">"vertical"</span>&gt;

    &lt;ImageView
        android:id=<span class="hljs-string">"@+id/iv_banner_item"</span>
        android:layout_width=<span class="hljs-string">"match_parent"</span>
        android:layout_height=<span class="hljs-string">"match_parent"</span>
        android:scaleType=<span class="hljs-string">"fitXY"</span>
        /&gt;

&lt;/LinearLayout&gt;</code></pre> 
<p>IndicatorView:</p> 
<pre class="prettyprint"><code class="language-java hljs "><span class="hljs-keyword">package</span> com.example.junweiliu.simpleindicatorview;

<span class="hljs-keyword">import</span> android.content.Context;
<span class="hljs-keyword">import</span> android.content.res.TypedArray;
<span class="hljs-keyword">import</span> android.graphics.Bitmap;
<span class="hljs-keyword">import</span> android.graphics.Canvas;
<span class="hljs-keyword">import</span> android.graphics.Color;
<span class="hljs-keyword">import</span> android.graphics.Paint;
<span class="hljs-keyword">import</span> android.graphics.drawable.BitmapDrawable;
<span class="hljs-keyword">import</span> android.graphics.drawable.Drawable;
<span class="hljs-keyword">import</span> android.support.v4.view.ViewPager;
<span class="hljs-keyword">import</span> android.util.AttributeSet;
<span class="hljs-keyword">import</span> android.view.View;
<span class="hljs-keyword">import</span> android.widget.ImageView;
<span class="hljs-keyword">import</span> android.widget.LinearLayout;

<span class="hljs-javadoc">/**
 * 轮播图圆形指示器
 * Created by junweiliu on 16/6/15.
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IndicatorView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">LinearLayout</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">ViewPager</span>.<span class="hljs-title">OnPageChangeListener</span> {<!-- --></span>
    <span class="hljs-javadoc">/**
     * 需要创建的指示器个数
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> childViewCount = <span class="hljs-number">0</span>;
    <span class="hljs-javadoc">/**
     * 设置圆点间margin
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> mInterval;
    <span class="hljs-javadoc">/**
     * 当前选中的位置
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> mCurrentPostion = <span class="hljs-number">0</span>;
    <span class="hljs-javadoc">/**
     * 普通显示的图片
     */</span>
    <span class="hljs-keyword">private</span> Bitmap normalBp;
    <span class="hljs-javadoc">/**
     * 选中时显示的图片
     */</span>
    <span class="hljs-keyword">private</span> Bitmap selectBp;
    <span class="hljs-javadoc">/**
     * 设置的轮播图Vp
     */</span>
    <span class="hljs-keyword">private</span> ViewPager mViewPager;
    <span class="hljs-javadoc">/**
     * 指示器单项宽度
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> mWidth;
    <span class="hljs-javadoc">/**
     * 指示器单项高度
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> mHeight;
    <span class="hljs-javadoc">/**
     * 圆点半径
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> mRadius;
    <span class="hljs-javadoc">/**
     * 普通状态圆点颜色
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> normalColor;
    <span class="hljs-javadoc">/**
     * 选中状态圆点颜色
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> selectColor;

    <span class="hljs-javadoc">/**
     * 对外提供ViewPager的回调接口
     */</span>
    interface OnPageChangeListener {

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPageScrolled</span>(<span class="hljs-keyword">int</span> position, <span class="hljs-keyword">float</span> positionOffset, <span class="hljs-keyword">int</span> positionOffsetPixels);

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPageSelected</span>(<span class="hljs-keyword">int</span> position);

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPageScrollStateChanged</span>(<span class="hljs-keyword">int</span> state);

    }

    <span class="hljs-javadoc">/**
     * 回调接口
     */</span>
    <span class="hljs-keyword">private</span> OnPageChangeListener mListener;

    <span class="hljs-javadoc">/**
     * 设置回调
     *
     *<span class="hljs-javadoctag"> @param</span> listener
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setOnPageChangeListener</span>(OnPageChangeListener listener) {
        <span class="hljs-keyword">this</span>.mListener = listener;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title">IndicatorView</span>(Context context) {
        <span class="hljs-keyword">this</span>(context, <span class="hljs-keyword">null</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title">IndicatorView</span>(Context context, AttributeSet attrs) {
        <span class="hljs-keyword">this</span>(context, attrs, <span class="hljs-number">0</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title">IndicatorView</span>(Context context, AttributeSet attrs, <span class="hljs-keyword">int</span> defStyleAttr) {
        <span class="hljs-keyword">super</span>(context, attrs, defStyleAttr);
        <span class="hljs-comment">// 获取自定义属性</span>
        TypedArray ta = context.obtainStyledAttributes(attrs, R.styleable.IndicatorView);
        normalBp = drawableToBitamp(ta.getDrawable(R.styleable.IndicatorView_normalDrawable));
        selectBp = drawableToBitamp(ta.getDrawable(R.styleable.IndicatorView_selectDrawable));
        mInterval = ta.getDimensionPixelOffset(R.styleable.IndicatorView_indicatorInterval, <span class="hljs-number">6</span>);
        normalColor = ta.getColor(R.styleable.IndicatorView_normalColor, Color.GRAY);
        selectColor = ta.getColor(R.styleable.IndicatorView_selectColor, Color.RED);
        mRadius = ta.getInteger(R.styleable.IndicatorView_indicatorRadius, <span class="hljs-number">6</span>);
        ta.recycle();
        <span class="hljs-comment">// 初始化</span>
        init();

    }

    <span class="hljs-javadoc">/**
     * 初始化数据
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span>() {
        <span class="hljs-comment">// 处理自定义属性</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> == normalBp) {
            normalBp = makeIndicatorBp(normalColor);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> == selectBp) {
            selectBp = makeIndicatorBp(selectColor);
        }
        mWidth = normalBp.getWidth();
        mHeight = normalBp.getWidth();
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onMeasure</span>(<span class="hljs-keyword">int</span> widthMeasureSpec, <span class="hljs-keyword">int</span> heightMeasureSpec) {
        <span class="hljs-keyword">super</span>.onMeasure(widthMeasureSpec, heightMeasureSpec);
        <span class="hljs-keyword">int</span> widthMode = MeasureSpec.getMode(widthMeasureSpec);
        <span class="hljs-keyword">int</span> heightMode = MeasureSpec.getMode(heightMeasureSpec);
        <span class="hljs-keyword">int</span> sizeWidth = MeasureSpec.getSize(widthMeasureSpec);
        <span class="hljs-keyword">int</span> sizeHeight = MeasureSpec.getSize(heightMeasureSpec);
        <span class="hljs-comment">// 如果是wrap_content设置为图片宽高,否则设置为父容器宽高</span>
        setMeasuredDimension((widthMode == MeasureSpec.EXACTLY) ? sizeWidth : (mWidth + mInterval) * childViewCount
                , (heightMode == MeasureSpec.EXACTLY) ? sizeHeight
                        : mHeight);
    }

    <span class="hljs-javadoc">/**
     * 重绘
     *
     *<span class="hljs-javadoctag"> @param</span> canvas
     */</span>
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">dispatchDraw</span>(Canvas canvas) {
        <span class="hljs-comment">// 创建指示器圆点</span>
        <span class="hljs-keyword">if</span> (getChildCount() &lt; childViewCount &amp;&amp; getChildCount() == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; childViewCount; i++) {
                addView(makeIndicatorItem());
            }
            <span class="hljs-comment">// 设置默认选中指示器</span>
            setIndicatorState(mCurrentPostion);
        }
        <span class="hljs-keyword">super</span>.dispatchDraw(canvas);
    }


    <span class="hljs-javadoc">/**
     * 设置Vp
     *
     *<span class="hljs-javadoctag"> @param</span> viewpager
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setViewPager</span>(ViewPager viewpager) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> == viewpager) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> == viewpager.getAdapter()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalStateException(<span class="hljs-string">"ViewPager does not have adapter."</span>);
        }

        <span class="hljs-keyword">this</span>.mViewPager = viewpager;
        <span class="hljs-keyword">this</span>.mViewPager.addOnPageChangeListener(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>.childViewCount = viewpager.getAdapter().getCount();
        invalidate();
    }

    <span class="hljs-javadoc">/**
     * 设置Vp
     *
     *<span class="hljs-javadoctag"> @param</span> viewpager
     *<span class="hljs-javadoctag"> @param</span> currposition 当前选中的位置
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setViewPager</span>(ViewPager viewpager, <span class="hljs-keyword">int</span> currposition) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> == viewpager) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> == viewpager.getAdapter()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalStateException(<span class="hljs-string">"ViewPager does not have adapter."</span>);
        }
        <span class="hljs-keyword">this</span>.mViewPager = viewpager;
        <span class="hljs-keyword">this</span>.mViewPager.addOnPageChangeListener(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>.childViewCount = viewpager.getAdapter().getCount();
        <span class="hljs-keyword">this</span>.mCurrentPostion = currposition;
        invalidate();
    }

    <span class="hljs-javadoc">/**
     * 创建指示器
     *
     *<span class="hljs-javadoctag"> @return</span>
     */</span>
    <span class="hljs-keyword">private</span> View <span class="hljs-title">makeIndicatorItem</span>() {
        ImageView iv = <span class="hljs-keyword">new</span> ImageView(getContext());
        LayoutParams lp = <span class="hljs-keyword">new</span> LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT);
        lp.width = normalBp.getWidth();
        lp.height = normalBp.getHeight();
        lp.rightMargin = mInterval;
        iv.setImageBitmap(normalBp);
        iv.setLayoutParams(lp);
        <span class="hljs-keyword">return</span> iv;
    }


    <span class="hljs-javadoc">/**
     * 创建圆点指示器图片
     *
     *<span class="hljs-javadoctag"> @param</span> color 创建不同颜色的指示器项
     *<span class="hljs-javadoctag"> @return</span>
     */</span>
    <span class="hljs-keyword">private</span> Bitmap <span class="hljs-title">makeIndicatorBp</span>(<span class="hljs-keyword">int</span> color) {
        Bitmap normalBp = Bitmap.createBitmap(mRadius * <span class="hljs-number">2</span>, mRadius * <span class="hljs-number">2</span>,
                Bitmap.Config.ARGB_8888);
        Paint paint = <span class="hljs-keyword">new</span> Paint();
        paint.setAntiAlias(<span class="hljs-keyword">true</span>);
        paint.setColor(color);
        Canvas canvas = <span class="hljs-keyword">new</span> Canvas(normalBp);
        canvas.drawCircle(mRadius, mRadius, mRadius, paint);
        <span class="hljs-keyword">return</span> normalBp;
    }


    <span class="hljs-javadoc">/**
     * drawable转bitmap
     *
     *<span class="hljs-javadoctag"> @param</span> drawable
     *<span class="hljs-javadoctag"> @return</span>
     */</span>
    <span class="hljs-keyword">private</span> Bitmap <span class="hljs-title">drawableToBitamp</span>(Drawable drawable) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> == drawable) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
        }
        <span class="hljs-keyword">if</span> (drawable <span class="hljs-keyword">instanceof</span> BitmapDrawable) {
            BitmapDrawable bd = (BitmapDrawable) drawable;
            <span class="hljs-keyword">return</span> bd.getBitmap();
        }
        <span class="hljs-keyword">int</span> w = drawable.getIntrinsicWidth();
        <span class="hljs-keyword">int</span> h = drawable.getIntrinsicHeight();
        Bitmap bitmap = Bitmap.createBitmap(w, h, Bitmap.Config.ARGB_8888);
        Canvas canvas = <span class="hljs-keyword">new</span> Canvas(bitmap);
        drawable.setBounds(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, w, h);
        drawable.draw(canvas);
        <span class="hljs-keyword">return</span> bitmap;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPageScrolled</span>(<span class="hljs-keyword">int</span> position, <span class="hljs-keyword">float</span> positionOffset, <span class="hljs-keyword">int</span> positionOffsetPixels) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> != mListener) {
            mListener.onPageScrolled(position, positionOffset, positionOffsetPixels);
        }
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPageSelected</span>(<span class="hljs-keyword">int</span> position) {
        setIndicatorState(position);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> != mListener) {
            mListener.onPageSelected(position);
        }
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPageScrollStateChanged</span>(<span class="hljs-keyword">int</span> state) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> != mListener) {
            mListener.onPageScrollStateChanged(state);
        }
    }

    <span class="hljs-javadoc">/**
     * 设置指示器的状态
     *
     *<span class="hljs-javadoctag"> @param</span> position
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setIndicatorState</span>(<span class="hljs-keyword">int</span> position) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; getChildCount(); i++) {
            <span class="hljs-keyword">if</span> (i == position)
                ((ImageView) getChildAt(i)).setImageBitmap(selectBp);
            <span class="hljs-keyword">else</span>
                ((ImageView) getChildAt(i)).setImageBitmap(normalBp);
        }
    }

}
</code></pre> 
<p>BannerPagerAdapter:</p> 
<pre class="prettyprint"><code class="language-java hljs "><span class="hljs-keyword">package</span> com.example.junweiliu.simpleindicatorview;

<span class="hljs-keyword">import</span> android.content.Context;
<span class="hljs-keyword">import</span> android.support.v4.view.PagerAdapter;
<span class="hljs-keyword">import</span> android.view.LayoutInflater;
<span class="hljs-keyword">import</span> android.view.View;
<span class="hljs-keyword">import</span> android.view.ViewGroup;
<span class="hljs-keyword">import</span> android.widget.ImageView;

<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-javadoc">/**
 * Created by junweiliu on 16/6/14.
 * VP适配器
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BannerPagerAdapter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">PagerAdapter</span> {<!-- --></span>
    <span class="hljs-javadoc">/**
     * 上下文
     */</span>
    <span class="hljs-keyword">private</span> Context mContext;
    <span class="hljs-javadoc">/**
     * 图像列表
     */</span>
    <span class="hljs-keyword">private</span> List&lt;Integer&gt; pictureList = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();


    <span class="hljs-keyword">public</span> <span class="hljs-title">BannerPagerAdapter</span>(Context context, List&lt;Integer&gt; pictureList) {
        <span class="hljs-keyword">this</span>.mContext = context;
        <span class="hljs-keyword">this</span>.pictureList = pictureList;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getCount</span>() {
        <span class="hljs-keyword">return</span> pictureList.size();
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isViewFromObject</span>(View view, Object object) {
        <span class="hljs-keyword">return</span> view == object;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title">instantiateItem</span>(ViewGroup container, <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> position) {
        View view = LayoutInflater.from(mContext).inflate(R.layout.banner_item, container, <span class="hljs-keyword">false</span>);
        ImageView imageView = (ImageView) view.findViewById(R.id.iv_banner_item);
        imageView.setImageResource(pictureList.get(position));
        container.addView(view);
        <span class="hljs-keyword">return</span> view;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">finishUpdate</span>(ViewGroup container) {
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">destroyItem</span>(ViewGroup container, <span class="hljs-keyword">int</span> position, Object object) {
        container.removeView((View) object);
    }
}
</code></pre> 
<p>MainActivity:</p> 
<pre class="prettyprint"><code class="language-java hljs "><span class="hljs-keyword">package</span> com.example.junweiliu.simpleindicatorview;

<span class="hljs-keyword">import</span> android.support.v4.view.ViewPager;
<span class="hljs-keyword">import</span> android.support.v7.app.AppCompatActivity;
<span class="hljs-keyword">import</span> android.os.Bundle;

<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AppCompatActivity</span> {<!-- --></span>
    <span class="hljs-javadoc">/**
     * 轮播图
     */</span>
    <span class="hljs-keyword">private</span> ViewPager mViewPager;
    <span class="hljs-javadoc">/**
     * 指示器
     */</span>
    <span class="hljs-keyword">private</span> IndicatorView mIndicatorView;
    <span class="hljs-javadoc">/**
     * 适配器
     */</span>
    <span class="hljs-keyword">private</span> BannerPagerAdapter mBannerPagerAdapter;

    <span class="hljs-keyword">private</span> List&lt;Integer&gt; pictureList = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span>(Bundle savedInstanceState) {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        initDatas();
        initView();
    }

    <span class="hljs-javadoc">/**
     * 初始化数据
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initDatas</span>() {
        pictureList.add(R.drawable.pic_one);
        pictureList.add(R.drawable.pic_two);
        pictureList.add(R.drawable.pic_three);
        pictureList.add(R.drawable.pic_one);
        pictureList.add(R.drawable.pic_two);
        pictureList.add(R.drawable.pic_three);
    }

    <span class="hljs-javadoc">/**
     * 初始化控件
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initView</span>() {
        mViewPager = (ViewPager) findViewById(R.id.vp_banner);
        mIndicatorView = (IndicatorView) findViewById(R.id.idv_banner);
        mBannerPagerAdapter = <span class="hljs-keyword">new</span> BannerPagerAdapter(<span class="hljs-keyword">this</span>, pictureList);
        mViewPager.setAdapter(mBannerPagerAdapter);
        mIndicatorView.setViewPager(mViewPager);
        mIndicatorView.setOnPageChangeListener(<span class="hljs-keyword">new</span> IndicatorView.OnPageChangeListener() {
            <span class="hljs-annotation">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPageScrolled</span>(<span class="hljs-keyword">int</span> position, <span class="hljs-keyword">float</span> positionOffset, <span class="hljs-keyword">int</span> positionOffsetPixels) {

            }

            <span class="hljs-annotation">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPageSelected</span>(<span class="hljs-keyword">int</span> position) {

            }

            <span class="hljs-annotation">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPageScrollStateChanged</span>(<span class="hljs-keyword">int</span> state) {

            }
        });
    }
}</code></pre> 
<p>关于无限循环和自动播放的内容可以参考</p> 
<p><a href="http://blog.csdn.net/u013904672/article/details/53743308">无限循环和自动播放的实现</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/eed990e32423f13bc490dd30b37bb3a6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">android studio2.0遇到的问题及解决方案记录及 .9.png制作</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fd8f0684b77fdefbb6e89e176dbbd0da/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">为什么PHP要学习面向对象编程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>