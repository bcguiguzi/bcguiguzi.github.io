<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>目标检测数据集PASCAL VOC简介 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="目标检测数据集PASCAL VOC简介" />
<meta property="og:description" content="简介 PASCAL VOC挑战赛 （The PASCAL Visual Object Classes ）是一个世界级的计算机视觉挑战赛, PASCAL全称：Pattern Analysis, Statical Modeling and Computational Learning，是一个由欧盟资助的网络组织。
很多优秀的计算机视觉模型比如分类，定位，检测，分割，动作识别等模型都是基于PASCAL VOC挑战赛及其数据集上推出的，尤其是一些目标检测模型（比如大名鼎鼎的R CNN系列，以及后面的YOLO，SSD等）。
PASCAL VOC从2005年开始举办挑战赛，每年的内容都有所不同，从最开始的分类，到后面逐渐增加检测，分割，人体布局，动作识别（Object Classification 、Object Detection、Object Segmentation、Human Layout、Action Classification）等内容，数据集的容量以及种类也在不断的增加和改善。该项挑战赛催生出了一大批优秀的计算机视觉模型（尤其是以深度学习技术为主的）。
我们知道在 ImageNet挑战赛上涌现了一大批优秀的分类模型，而PASCAL挑战赛上则是涌现了一大批优秀的目标检测和分割模型，这项挑战赛已于2012年停止举办了，但是研究者仍然可以在其服务器上提交预测结果以评估模型的性能。
虽然近期的目标检测或分割模型更倾向于使用MS COCO数据集，但是这丝毫不影响 PASCAL VOC数据集的重要性，毕竟PASCAL对于目标检测或分割类型来说属于先驱者的地位。对于现在的研究者来说比较重要的两个年份的数据集是 PASCAL VOC 2007 与 PASCAL VOC 2012，这两个数据集频频在现在的一些检测或分割类的论文当中出现。
PASCAL主页 与 排行榜 （榜上已几乎看不到传统的视觉模型了，全是基于深度学习的）
PASCAL VOC 2007 挑战赛主页 与 PASCAL VOC 2012 挑战赛主页 与 PASCAL VOC Evaluation Server.
以及在两个重要时间点对 PASCAL VOC挑战赛 成绩进行总结的两篇论文
The PASCAL Visual Object Classes Challenge: A Retrospective" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/efcca07b7ffba8b689dc3e08a9ee3ab6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-07T11:32:51+08:00" />
<meta property="article:modified_time" content="2022-03-07T11:32:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">目标检测数据集PASCAL VOC简介</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 id="简介">简介</h2> 
<p> </p> 
<p>PASCAL VOC挑战赛 （The <a href="http://pascallin2.ecs.soton.ac.uk/" rel="nofollow" title="PASCAL">PASCAL</a> Visual Object Classes ）是一个世界级的计算机视觉挑战赛, <a href="http://www.pascal-network.org/" rel="nofollow" title="PASCAL">PASCAL</a>全称：Pattern Analysis, Statical Modeling and Computational Learning，是一个由欧盟资助的网络组织。</p> 
<p>很多优秀的计算机视觉模型比如分类，定位，检测，分割，动作识别等模型都是基于PASCAL VOC挑战赛及其数据集上推出的，尤其是一些目标检测模型（比如大名鼎鼎的R CNN系列，以及后面的YOLO，SSD等）。</p> 
<p>PASCAL VOC从2005年开始举办挑战赛，每年的内容都有所不同，从最开始的分类，到后面逐渐增加检测，分割，人体布局，动作识别（Object Classification 、Object Detection、Object Segmentation、Human Layout、Action Classification）等内容，数据集的容量以及种类也在不断的增加和改善。该项挑战赛催生出了一大批优秀的计算机视觉模型（尤其是以深度学习技术为主的）。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/b1/86/UZS9qQ7D_o.png"></p> 
<p></p> 
<p> </p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/09/81/BGfwaH5K_o.png"></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/95/6a/KyYi9QFj_o.png"></p> 
<p> </p> 
<p></p> 
<p>我们知道在 ImageNet挑战赛上涌现了一大批优秀的分类模型，而PASCAL挑战赛上则是涌现了一大批优秀的目标检测和分割模型，这项挑战赛已于2012年停止举办了，但是研究者仍然可以在其服务器上提交预测结果以评估模型的性能。</p> 
<p>虽然近期的目标检测或分割模型更倾向于使用MS COCO数据集，但是这丝毫不影响 PASCAL VOC数据集的重要性，毕竟PASCAL对于目标检测或分割类型来说属于先驱者的地位。对于现在的研究者来说比较重要的两个年份的数据集是 PASCAL VOC 2007 与 PASCAL VOC 2012，这两个数据集频频在现在的一些检测或分割类的论文当中出现。</p> 
<ul><li> <p><a href="http://host.robots.ox.ac.uk/pascal/VOC/" rel="nofollow" title="PASCAL主页">PASCAL主页</a> 与 <a href="http://host.robots.ox.ac.uk:8080/leaderboard/main_bootstrap.php" rel="nofollow" title="排行榜">排行榜</a> （榜上已几乎看不到传统的视觉模型了，全是基于深度学习的）</p> </li><li> <p><a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2007/" rel="nofollow" title="PASCAL VOC 2007 挑战赛主页">PASCAL VOC 2007 挑战赛主页</a> 与 <a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2012/" rel="nofollow" title="PASCAL VOC 2012 挑战赛主页">PASCAL VOC 2012 挑战赛主页</a> 与 <a href="http://host.robots.ox.ac.uk:8080/" rel="nofollow" title="PASCAL VOC Evaluation Server">PASCAL VOC Evaluation Server</a>.</p> </li><li> <p>以及在两个重要时间点对 PASCAL VOC挑战赛 成绩进行总结的两篇论文</p> 
  <ul><li> <p><strong>The PASCAL Visual Object Classes Challenge: A Retrospective</strong></p> <p>Everingham, M., Eslami, S. M. A., Van Gool, L., Williams, C. K. I., Winn, J. and Zisserman, A.<br><em>International Journal of Computer Vision, 111(1), 98-136, 2015</em><br><a href="http://host.robots.ox.ac.uk/pascal/VOC/pubs/everingham15.html#bibtex" rel="nofollow" title="Bibtex source">Bibtex source</a> | <a href="http://host.robots.ox.ac.uk/pascal/VOC/pubs/everingham15.html#abstract" rel="nofollow" title="Abstract">Abstract</a> | <a href="http://host.robots.ox.ac.uk/pascal/VOC/pubs/everingham15.pdf" rel="nofollow" title="PDF">PDF</a></p> <p>主要总结PASCAL VOC 2012的数据集情况，以及2011年-2013年之间出现的模型及其性能对比</p> </li><li> <p><strong>The PASCAL Visual Object Classes (VOC) Challenge</strong><br> Everingham, M., Van Gool, L., Williams, C. K. I., Winn, J. and Zisserman, A.<br><em>International Journal of Computer Vision, 88(2), 303-338, 2010</em><br><a href="http://host.robots.ox.ac.uk/pascal/VOC/pubs/everingham10.html#bibtex" rel="nofollow" title="Bibtex source">Bibtex source</a> | <a href="http://host.robots.ox.ac.uk/pascal/VOC/pubs/everingham10.html#abstract" rel="nofollow" title="Abstract">Abstract</a> | <a href="http://host.robots.ox.ac.uk/pascal/VOC/pubs/everingham10.pdf" rel="nofollow" title="PDF">PDF</a></p> <p>主要总结PASCAL VOC 2007的数据集情况，以及2008年之前出现的模型及其性能对比</p> </li><li> <p>不过在以上论文中出现的深度学习模型只有一个 R-CNN吧，大部分都是传统方式的模型，毕竟深度学习模型主要在14年以后才大量涌现。</p> </li></ul></li></ul> 
<p>本文也是以PASCAL VOC 2007 和 2012 为例简要介绍VOC数据集的结构。</p> 
<h2 id="1-数据集整体概况">1 数据集整体概况</h2> 
<h3 id="1-1-层级结构">1.1 层级结构</h3> 
<p>PASCAL VOC 数据集的20个类别及其层级结构：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/3a/1c/TBWraf78_o.png"></p> 
<ul><li> <p>从2007年开始，PASCAL VOC每年的数据集都是这个层级结构</p> </li><li> <p>总共四个大类：vehicle,household,animal,person</p> </li><li> <p>总共20个小类，预测的时候是只输出图中黑色粗体的类别</p> </li><li> <p><strong>数据集主要关注分类和检测，也就是分类和检测用到的数据集相对规模较大。</strong>关于其他任务比如分割，动作识别等，其数据集一般是分类和检测数据集的子集。</p> </li></ul> 
<h3 id="1-2-发展历程与使用方法">1.2 发展历程与使用方法</h3> 
<p>简要提一下在几个关键时间点数据集的一些关键变化，详细的请查看<a href="http://host.robots.ox.ac.uk/pascal/VOC/" rel="nofollow" title="PASCAL VOC主页">PASCAL VOC主页</a> 。</p> 
<ul><li> <p>2005年：还只有4个类别： bicycles, cars, motorbikes, people. Train/validation/test共有图片1578 张，包含2209 个已标注的目标objects.</p> </li><li> <p><strong>2007年 ：在这一年PASCAL VOC初步建立成一个完善的数据集。类别扩充到20类，Train/validation/test共有9963张图片，包含24640 个已标注的目标objects.</strong></p> <p><strong>07年之前的数据集中test部分都是公布的，但是之后的都没有公布。</strong></p> </li><li> <p>2009年：从这一年开始，通过在前一年的数据集基础上增加新数据的方式来扩充数据集。比如09年的数据集是包含了08年的数据集的，也就是说08年的数据集是09年的一个子集，以后每年都是这样的扩充方式，直到2012年；09年之前虽然每年的数据集都在变大（08年比07年略少），但是每年的数据集都是不一样的，也就是说每年的数据集都是互斥的，没有重叠的图片。</p> </li><li> <p><strong>2012年：从09年到11年，数据量仍然通过上述方式不断增长，11年到12年，用于分类、检测和person layout 任务的数据量没有改变。主要是针对分割和动作识别，完善相应的数据子集以及标注信息。</strong></p> </li></ul> 
<p>对于分类和检测来说，也就是下图所示的发展历程，相同颜色的代表相同的数据集：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/b2/31/vBEG7znR_o.png"></p> 
<p></p> 
<p> </p> 
<p>分割任务的数据集变化略有不同：</p> 
<ul><li>VOC 2012用于分类和检测的数据包含 2008-2011年间的所有数据，并与VOC2007互斥。</li><li>VOC 2012用于分割的数据中train+val包含 2007-2011年间的所有数据，test包含2008-2011年间的数据，没有包含07年的是因为07年的test数据已经公开了。</li></ul> 
<p>2012年是最后一次挑战赛，最终用于分类和检测的数据集规模为：train/val ：11540 张图片，包含 27450 个已被标注的 ROI annotated objects ；用于分割的数据集规模为：trainval：2913张图片，6929个分割，用于其他任务的不再细说，<a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2012/dbstats.html" rel="nofollow" title="参考这里">参考这里</a> 。</p> 
<p>即便挑战赛结束了，但是研究者们仍然可以上传预测结果进行评估。上传入口： <a href="http://host.robots.ox.ac.uk:8080/" rel="nofollow" title="PASCAL VOC Evaluation Server">PASCAL VOC Evaluation Server</a>.</p> 
<p><strong>目前广大研究者们普遍使用的是 VOC2007和VOC2012数据集，因为二者是互斥的，不相容的。</strong></p> 
<p><strong>论文中针对 VOC2007和VOC2012 的具体用法有以下几种：</strong></p> 
<ul><li>只用VOC2007的trainval 训练，使用VOC2007的test测试</li><li>只用VOC2012的trainval 训练，使用VOC2012的test测试，这种用法很少使用，因为大家都会结合VOC2007使用</li><li>使用 VOC2007 的 train+val 和 VOC2012的 train+val 训练，然后使用 VOC2007的test测试，这个用法是论文中经常看到的 07+12 ，研究者可以自己测试在VOC2007上的结果，因为VOC2007的test是公开的。</li><li>使用 VOC2007 的 train+val+test 和 VOC2012的 train+val训练，然后使用 VOC2012的test测试，这个用法是论文中经常看到的 07++12 ，这种方法需提交到VOC官方服务器上评估结果，因为VOC2012 test没有公布。</li><li>先在 MS COCO 的 trainval 上预训练，再使用 VOC2007 的 train+val、 VOC2012的 train+val 微调训练，然后使用 VOC2007的test测试，这个用法是论文中经常看到的 07+12+COCO 。</li><li>先在 MS COCO 的 trainval 上预训练，再使用 VOC2007 的 train+val+test 、 VOC2012的 train+val 微调训练，然后使用 VOC2012的test测试 ，这个用法是论文中经常看到的 07++12+COCO，这种方法需提交到VOC官方服务器上评估结果，因为VOC2012 test没有公布。</li></ul> 
<p>在各自数据集上分别进行建模和评测的用法比较少，基本上在早期论文里出现就是起个对照作用；现在的大部分论文都会为了增加数据量而将二者合起来使用。</p> 
<h2 id="2-数据量统计">2 数据量统计</h2> 
<p>由于现在的研究基本上都是在VOC2007和VOC2012上面进行，因此只介绍这两个年份的。</p> 
<h3 id="2-1-VOC-2007">2.1 VOC 2007</h3> 
<p>一些示例图片展示：<a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2007/examples/index.html" rel="nofollow" title="Classification/detection example images">Classification/detection example images</a></p> 
<p><strong>数据集总体统计：</strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/5b/5f/WiIq7q18_o.png"></p> 
<p></p> 
<ul><li><strong>以上是数据集总体的统计情况，这个里面是包含了测试集的，可见person 类是最多的。</strong></li></ul> 
<p><strong>训练集，验证集，测试集划分情况</strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/06/f6/myjmviS2_o.png"></p> 
<ul><li>PASCAL VOC 2007 数据集分为两部分：训练和验证集trainval，测试集test ，两部分各占数据总量的约 50%。其中trainval 又分为训练集和测试集，二者分别各占trainval的50%。</li><li>每张图片中有可能包含不只一个目标object。</li></ul> 
<p>这里我就只贴出用于分类和检测的划分情况，关于分割或者其他任务的划分方式 <a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2007/dbstats.html" rel="nofollow" title="点击这里查看">点击这里查看</a> 。</p> 
<h3 id="2-2-VOC-2012">2.2 VOC 2012</h3> 
<p>一些示例图片展示：<a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2012/examples/index.html" rel="nofollow" title="Classification/detection example images">Classification/detection example images</a></p> 
<p><strong>数据集总体统计</strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/25/54/T9MWHFS1_o.png"></p> 
<p></p> 
<p> </p> 
<ul><li><strong>这个统计是没有包含 test部分的，仍然是person类最多</strong></li></ul> 
<p><strong>trainval部分的数据统计：</strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/0d/eb/CQG6y6jM_o.png"></p> 
<p></p> 
<p> </p> 
<p>test部分没有公布，同样的 除了分类和检测之外的数据统计，<a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2012/dbstats.html" rel="nofollow" title="参考这里">参考这里</a></p> 
<h3 id="2-3-VOC-2007-与-2012-的对比">2.3 VOC 2007 与 2012 的对比</h3> 
<p>VOC 2007 与 2012 数据集及二者的并集 数据量对比</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/85/47/3stZILHm_o.png"></p> 
<ul><li>黑色字体所示数字是官方给定的，由于VOC2012数据集中 test 部分没有公布，因此红色字体所示数字为估计数据，按照PASCAL 通常的划分方法，即 trainval 与test 各占总数据量的一半。</li></ul> 
<h2 id="3-标注信息">3 标注信息</h2> 
<p>数据集的标注还是很谨慎的，有专门的标注团队，并遵从统一的标注标准，参考 <a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2007/guidelines.html" rel="nofollow" title="guidelines">guidelines</a> 。</p> 
<p>标注信息是用 xml 文件组织的如下：</p> 
<table><tbody><tr><td> <pre></pre> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> <p>12</p> <p>13</p> <p>14</p> <p>15</p> <p>16</p> <p>17</p> <p>18</p> <p>19</p> <p>20</p> <p>21</p> <p>22</p> <p>23</p> <p>24</p> <p>25</p> <p>26</p> <p>27</p> <p>28</p> <p>29</p> <p>30</p> <p>31</p> <p>32</p> <p>33</p> <p>34</p> <p>35</p> <p>36</p> <p>37</p> <p>38</p> <p>39</p> <p>40</p> <p>41</p> <p>42</p> <p>43</p> <p>44</p> </td><td> <pre></pre> <p>&lt;annotation&gt;</p> <p>&lt;folder&gt;VOC2007&lt;/folder&gt;</p> <p>&lt;filename&gt;000001.jpg&lt;/filename&gt;</p> <p>&lt;source&gt;</p> <p>&lt;database&gt;The VOC2007 Database&lt;/database&gt;</p> <p>&lt;annotation&gt;PASCAL VOC2007&lt;/annotation&gt;</p> <p>&lt;image&gt;flickr&lt;/image&gt;</p> <p>&lt;flickrid&gt;341012865&lt;/flickrid&gt;</p> <p>&lt;/source&gt;</p> <p>&lt;owner&gt;</p> <p>&lt;flickrid&gt;Fried Camels&lt;/flickrid&gt;</p> <p>&lt;name&gt;Jinky the Fruit Bat&lt;/name&gt;</p> <p>&lt;/owner&gt;</p> <p>&lt;size&gt;</p> <p>&lt;width&gt;353&lt;/width&gt;</p> <p>&lt;height&gt;500&lt;/height&gt;</p> <p>&lt;depth&gt;3&lt;/depth&gt;</p> <p>&lt;/size&gt;</p> <p>&lt;segmented&gt;0&lt;/segmented&gt;</p> <p>&lt;object&gt;</p> <p>&lt;name&gt;dog&lt;/name&gt;</p> <p>&lt;pose&gt;Left&lt;/pose&gt;</p> <p>&lt;truncated&gt;1&lt;/truncated&gt;</p> <p>&lt;difficult&gt;0&lt;/difficult&gt;</p> <p>&lt;bndbox&gt;</p> <p>&lt;xmin&gt;48&lt;/xmin&gt;</p> <p>&lt;ymin&gt;240&lt;/ymin&gt;</p> <p>&lt;xmax&gt;195&lt;/xmax&gt;</p> <p>&lt;ymax&gt;371&lt;/ymax&gt;</p> <p>&lt;/bndbox&gt;</p> <p>&lt;/object&gt;</p> <p>&lt;object&gt;</p> <p>&lt;name&gt;person&lt;/name&gt;</p> <p>&lt;pose&gt;Left&lt;/pose&gt;</p> <p>&lt;truncated&gt;1&lt;/truncated&gt;</p> <p>&lt;difficult&gt;0&lt;/difficult&gt;</p> <p>&lt;bndbox&gt;</p> <p>&lt;xmin&gt;8&lt;/xmin&gt;</p> <p>&lt;ymin&gt;12&lt;/ymin&gt;</p> <p>&lt;xmax&gt;352&lt;/xmax&gt;</p> <p>&lt;ymax&gt;498&lt;/ymax&gt;</p> <p>&lt;/bndbox&gt;</p> <p>&lt;/object&gt;</p> <p>&lt;/annotation&gt;</p> </td></tr></tbody></table> 
<ul><li> <p>filename ：文件名</p> </li><li> <p>source，owner：图片来源，及拥有者</p> </li><li> <p>size：图片大小</p> </li><li> <p>segmented：是否分割</p> </li><li> <p>object：表明这是一个目标，里面的内容是目标的相关信息</p> 
  <ul><li> <p>name：object名称，20个类别</p> </li><li> <p>pose：拍摄角度：front, rear, left, right, unspecified</p> </li><li> <p>truncated：目标是否被截断（比如在图片之外），或者被遮挡（超过15%）</p> </li><li> <p>difficult：检测难易程度，这个主要是根据目标的大小，光照变化，图片质量来判断</p> <p>difficult 标签示例：图中白色虚线，被标记为 difficult </p> </li></ul></li><li> 
  <ul><li> <p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/97/a0/r8OVYrr5_o.png"></p> </li><li> <p>bndbox：bounding box 的左上角点和右下角点的4个坐标值。</p> </li></ul></li></ul> 
<h2 id="4-提交格式">4 提交格式</h2> 
<h3 id="4-1-Classification-Task">4.1 Classification Task</h3> 
<p>每一类都有一个txt文件，里面每一行都是测试集中的一张图片，前面一列是图片名称，后面一列是预测的分数。</p> 
<p>comp1_cls_test_car.txt:</p> 
<table><tbody><tr><td> <pre></pre> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> </td><td> <pre></pre> <p>000004 0.702732</p> <p>000006 0.870849</p> <p>000008 0.532489</p> <p>000018 0.477167</p> <p>000019 0.112426</p> </td></tr></tbody></table> 
<h3 id="4-2-Detection-Task">4.2 Detection Task</h3> 
<p>comp3_det_test_car.txt:</p> 
<table><tbody><tr><td> <pre></pre> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> </td><td> <pre></pre> <p>000004 0.702732 89 112 516 466</p> <p>000006 0.870849 373 168 488 229</p> <p>000006 0.852346 407 157 500 213</p> <p>000006 0.914587 2 161 55 221</p> <p>000008 0.532489 175 184 232 201</p> </td></tr></tbody></table> 
<p>每一类都有一个txt文件，里面每一行都是测试集中的一张图片，每行的格式按照如下方式组织</p> 
<table><tbody><tr><td> <pre></pre> <p>1</p> </td><td> <pre></pre> <p>&lt;image identifier&gt; &lt;confidence&gt; &lt;left&gt; &lt;top&gt; &lt;right&gt; &lt;bottom&gt;</p> </td></tr></tbody></table> 
<p>confidence 用来计算 mAP.</p> 
<h2 id="5-评估标准">5 评估标准</h2> 
<p>PASCAL的评估标准是 mAP(mean average precision)</p> 
<p>关于mAP不再详细解释，参考以下资料：</p> 
<ul><li><a href="https://blog.csdn.net/u014203453/article/details/77598997" title="性能指标（模型评估）之mAP">性能指标（模型评估）之mAP</a></li><li><a href="https://sanchom.wordpress.com/tag/average-precision/" rel="nofollow" title="average precision">average precision</a></li><li>周志华老师 《机器学习》 模型评估标准一节</li></ul> 
<p>这里简单的提一下：</p> 
<p>下面是一个二分类的P-R曲线（precision-recall curve），对于PASCAL来说，每一类都有一个这样的 P-R曲线，P-R曲线下面与x轴围成的面积称为 average precision，每个类别都有一个 AP, 20个类别的AP 取平均值就是 mAP。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/e0/9a/kKkLyidV_o.png"></p> 
<p>PASCAL官方给了评估脚本mAP的脚本和示例代码 <a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2012/VOCdevkit_18-May-2011.tar" rel="nofollow" title="development kit code and documentation">development kit code and documentation</a> ，是用MATLAB写的。</p> 
<h2 id="6-数据集组织结构">6 数据集组织结构</h2> 
<p>数据集的下载:</p> 
<table><tbody><tr><td> <pre></pre> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> </td><td> <pre></pre> <p># Download the data.</p> <p>cd $HOME/data</p> <p>wget http://host.robots.ox.ac.uk/pascal/VOC/voc2012/VOCtrainval_11-May-2012.tar</p> <p>wget http://host.robots.ox.ac.uk/pascal/VOC/voc2007/VOCtrainval_06-Nov-2007.tar</p> <p>wget http://host.robots.ox.ac.uk/pascal/VOC/voc2007/VOCtest_06-Nov-2007.tar</p> <p># Extract the data.</p> <p>tar -xvf VOCtrainval_11-May-2012.tar</p> <p>tar -xvf VOCtrainval_06-Nov-2007.tar</p> <p>tar -xvf VOCtest_06-Nov-2007.tar</p> </td></tr></tbody></table> 
<p>或者支直接点击下面链接下载：</p> 
<ul><li>Download the <a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2007/VOCtrainval_06-Nov-2007.tar" rel="nofollow" title="training/validation data">training/validation data</a> (450MB tar file)</li><li>Download the <a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2007/VOCtest_06-Nov-2007.tar" rel="nofollow" title="annotated test data">annotated test data</a> (430MB tar file)</li></ul> 
<p>上面的解压命令会将VOC2007的trainval和test解压到一块，数据会混在一起，如果不想，可以自己指定解压路径。以VOC 2007 为例，解压后的文件：</p> 
<table><tbody><tr><td> <pre></pre> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> </td><td> <pre></pre> <p>.</p> <p>├── Annotations 进行detection 任务时的 标签文件，xml文件形式</p> <p>├── ImageSets 存放数据集的分割文件，比如train，val，test</p> <p>├── JPEGImages 存放 .jpg格式的图片文件</p> <p>├── SegmentationClass 存放 按照class 分割的图片</p> <p>└── SegmentationObject 存放 按照 object 分割的图片</p> </td></tr></tbody></table> 
<p><strong>Annotations 文件夹：</strong></p> 
<table><tbody><tr><td> <pre></pre> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> </td><td> <pre></pre> <p>.</p> <p>├── 000001.xml</p> <p>├── 000002.xml</p> <p>├── 000003.xml</p> <p>├── 000004.xml</p> <p>……</p> <p>……</p> <p>……</p> <p>├── 009962.xml</p> <p>└── 009963.xml</p> </td></tr></tbody></table> 
<p>以xml 文件的形式，存放标签文件，文件内容如前述，文件名与图片名是一样的，6位整数</p> 
<p><strong>ImageSets文件夹：</strong></p> 
<p>存放数据集的分割文件</p> 
<p>包含三个子文件夹 Layout，Main，Segmentation，其中Main文件夹存放的是用于分类和检测的数据集分割文件，Layout文件夹用于 person layout任务，Segmentation用于分割任务</p> 
<table><tbody><tr><td> <pre></pre> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> <p>12</p> <p>13</p> <p>14</p> <p>15</p> <p>16</p> <p>17</p> <p>18</p> <p>19</p> <p>20</p> <p>21</p> <p>22</p> <p>23</p> <p>24</p> <p>25</p> <p>26</p> <p>27</p> <p>28</p> <p>29</p> <p>30</p> <p>31</p> <p>32</p> <p>33</p> <p>34</p> <p>35</p> <p>36</p> <p>37</p> <p>38</p> <p>39</p> <p>40</p> <p>41</p> <p>42</p> <p>43</p> <p>44</p> <p>45</p> <p>46</p> <p>47</p> <p>48</p> <p>49</p> <p>50</p> <p>51</p> <p>52</p> <p>53</p> <p>54</p> <p>55</p> <p>56</p> <p>57</p> <p>58</p> <p>59</p> <p>60</p> <p>61</p> <p>62</p> <p>63</p> <p>64</p> <p>65</p> <p>66</p> <p>67</p> <p>68</p> <p>69</p> <p>70</p> <p>71</p> <p>72</p> <p>73</p> <p>74</p> <p>75</p> <p>76</p> <p>77</p> <p>78</p> <p>79</p> <p>80</p> <p>81</p> <p>82</p> <p>83</p> <p>84</p> <p>85</p> <p>86</p> <p>87</p> <p>88</p> <p>89</p> <p>90</p> <p>91</p> <p>92</p> <p>93</p> <p>94</p> <p>95</p> <p>96</p> <p>97</p> <p>98</p> </td><td> <pre></pre> <p>.</p> <p>├── Layout</p> <p>│   ├── test.txt</p> <p>│   ├── train.txt</p> <p>│   ├── trainval.txt</p> <p>│   └── val.txt</p> <p>├── Main</p> <p>│   ├── aeroplane_test.txt</p> <p>│   ├── aeroplane_train.txt</p> <p>│   ├── aeroplane_trainval.txt</p> <p>│   ├── aeroplane_val.txt</p> <p>│   ├── bicycle_test.txt</p> <p>│   ├── bicycle_train.txt</p> <p>│   ├── bicycle_trainval.txt</p> <p>│   ├── bicycle_val.txt</p> <p>│   ├── bird_test.txt</p> <p>│   ├── bird_train.txt</p> <p>│   ├── bird_trainval.txt</p> <p>│   ├── bird_val.txt</p> <p>│   ├── boat_test.txt</p> <p>│   ├── boat_train.txt</p> <p>│   ├── boat_trainval.txt</p> <p>│   ├── boat_val.txt</p> <p>│   ├── bottle_test.txt</p> <p>│   ├── bottle_train.txt</p> <p>│   ├── bottle_trainval.txt</p> <p>│   ├── bottle_val.txt</p> <p>│   ├── bus_test.txt</p> <p>│   ├── bus_train.txt</p> <p>│   ├── bus_trainval.txt</p> <p>│   ├── bus_val.txt</p> <p>│   ├── car_test.txt</p> <p>│   ├── car_train.txt</p> <p>│   ├── car_trainval.txt</p> <p>│   ├── car_val.txt</p> <p>│   ├── cat_test.txt</p> <p>│   ├── cat_train.txt</p> <p>│   ├── cat_trainval.txt</p> <p>│   ├── cat_val.txt</p> <p>│   ├── chair_test.txt</p> <p>│   ├── chair_train.txt</p> <p>│   ├── chair_trainval.txt</p> <p>│   ├── chair_val.txt</p> <p>│   ├── cow_test.txt</p> <p>│   ├── cow_train.txt</p> <p>│   ├── cow_trainval.txt</p> <p>│   ├── cow_val.txt</p> <p>│   ├── diningtable_test.txt</p> <p>│   ├── diningtable_train.txt</p> <p>│   ├── diningtable_trainval.txt</p> <p>│   ├── diningtable_val.txt</p> <p>│   ├── dog_test.txt</p> <p>│   ├── dog_train.txt</p> <p>│   ├── dog_trainval.txt</p> <p>│   ├── dog_val.txt</p> <p>│   ├── horse_test.txt</p> <p>│   ├── horse_train.txt</p> <p>│   ├── horse_trainval.txt</p> <p>│   ├── horse_val.txt</p> <p>│   ├── motorbike_test.txt</p> <p>│   ├── motorbike_train.txt</p> <p>│   ├── motorbike_trainval.txt</p> <p>│   ├── motorbike_val.txt</p> <p>│   ├── person_test.txt</p> <p>│   ├── person_train.txt</p> <p>│   ├── person_trainval.txt</p> <p>│   ├── person_val.txt</p> <p>│   ├── pottedplant_test.txt</p> <p>│   ├── pottedplant_train.txt</p> <p>│   ├── pottedplant_trainval.txt</p> <p>│   ├── pottedplant_val.txt</p> <p>│   ├── sheep_test.txt</p> <p>│   ├── sheep_train.txt</p> <p>│   ├── sheep_trainval.txt</p> <p>│   ├── sheep_val.txt</p> <p>│   ├── sofa_test.txt</p> <p>│   ├── sofa_train.txt</p> <p>│   ├── sofa_trainval.txt</p> <p>│   ├── sofa_val.txt</p> <p>│   ├── test.txt</p> <p>│   ├── train_test.txt</p> <p>│   ├── train_train.txt</p> <p>│   ├── train_trainval.txt</p> <p>│   ├── train.txt</p> <p>│   ├── train_val.txt</p> <p>│   ├── trainval.txt</p> <p>│   ├── tvmonitor_test.txt</p> <p>│   ├── tvmonitor_train.txt</p> <p>│   ├── tvmonitor_trainval.txt</p> <p>│   ├── tvmonitor_val.txt</p> <p>│   └── val.txt</p> <p>└── Segmentation</p> <p>├── test.txt</p> <p>├── train.txt</p> <p>├── trainval.txt</p> <p>└── val.txt</p> <p>3 directories, 92 files</p> </td></tr></tbody></table> 
<p>主要介绍一下Main文件夹中的组织结构，先来看以下这几个文件：</p> 
<table><tbody><tr><td> <pre></pre> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> </td><td> <pre></pre> <p>├── Main</p> <p>│   ├── train.txt 写着用于训练的图片名称 共2501个</p> <p>│   ├── val.txt 写着用于验证的图片名称 共2510个</p> <p>│   ├── trainval.txt train与val的合集 共5011个</p> <p>│   ├── test.txt 写着用于测试的图片名称 共4952个</p> </td></tr></tbody></table> 
<p>里面的文件内容是下面这样的：以train.txt文件为例</p> 
<table><tbody><tr><td> <pre></pre> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> <p>12</p> <p>13</p> <p>14</p> <p>15</p> </td><td> <pre></pre> <p>000012</p> <p>000017</p> <p>000023</p> <p>000026</p> <p>000032</p> <p>000033</p> <p>000034</p> <p>000035</p> <p>000036</p> <p>000042</p> <p>……</p> <p>……</p> <p>009949</p> <p>009959</p> <p>009961</p> </td></tr></tbody></table> 
<p>就是对数据库的分割，这一部分图片用于train，其他的用作val，test等。</p> 
<p>Main中剩下的文件很显然就是每一类别在train或val或test中的ground truth，这个ground truth是为了方便classification 任务而提供的；如果是detection的话，使用的是上面的xml标签文件。</p> 
<table><tbody><tr><td> <pre></pre> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> </td><td> <pre></pre> <p>├── Main</p> <p>│   ├── aeroplane_test.txt 写着用于训练的图片名称 共2501个，指定正负样本</p> <p>│   ├── aeroplane_train.txt 写着用于验证的图片名称 共2510个，指定正负样本</p> <p>│   ├── aeroplane_trainval.txt train与val的合集 共5011个，指定正负样本</p> <p>│   ├── aeroplane_val.txt 写着用于测试的图片名称 共4952个，指定正负样本</p> <p>……</p> <p>……</p> </td></tr></tbody></table> 
<p>里面文件是这样的（以aeroplane_train.txt为例）：</p> 
<table><tbody><tr><td> <pre></pre> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> <p>12</p> <p>13</p> <p>14</p> <p>15</p> </td><td> <pre></pre> <p>000012 -1</p> <p>000017 -1</p> <p>000023 -1</p> <p>000026 -1</p> <p>000032 1</p> <p>000033 1</p> <p>000034 -1</p> <p>000035 -1</p> <p>000036 -1</p> <p>000042 -1</p> <p>……</p> <p>……</p> <p>009949 -1</p> <p>009959 -1</p> <p>009961 -1</p> </td></tr></tbody></table> 
<p>前面一列是训练集中的图片名称，这一列跟train.txt文件中的内容是一样的，后面一列是标签，即训练集中这张图片是不是aeroplane，是的话为1，否则为-1.</p> 
<p>其他所有的 (class)_(imgset).txt 文件都是类似的。</p> 
<ul><li>(class)_train 存放的是训练使用的数据，每一个class都有2501个train数据。</li><li>(class)_val 存放的是验证使用的数据，每一个class都有2510个val数据。</li><li>(class)_trainval 将上面两个进行了合并，每一个class有5011个数据。</li><li>(class)_test 存放的是测试使用的数据，每一个class有4952个test数据。</li></ul> 
<p>所有文件都 指定了正负样本，每个class的实际数量为正样本的数量，train和val两者没有交集。</p> 
<p>VOC2012 的数据集组织结构是类似的，不一样的地方在于VOC2012 中没有 test类的图片和以及相关标签和分割文件，因为这部分数据 VOC2012没有公布。</p> 
<h2 id="参考资料">参考资料</h2> 
<ol><li><a href="http://host.robots.ox.ac.uk/pascal/VOC/" rel="nofollow" title="The PASCAL Visual Object Classes Homepage">The PASCAL Visual Object Classes Homepage</a></li><li><a href="https://blog.csdn.net/u014203453/article/details/77598997" title="性能指标（模型评估）之mAP">性能指标（模型评估）之mAP</a></li><li><a href="http://blog.sina.com.cn/s/blog_9db078090102whzw.html" rel="nofollow" title="多标签图像分类任务的评价方法-mAP">多标签图像分类任务的评价方法-mAP</a></li><li><a href="https://sanchom.wordpress.com/tag/average-precision/" rel="nofollow" title="average precision">average precision</a></li></ol> 
<p><strong>本文标题：</strong><a href="https://arleyzhang.github.io/articles/1dc20586/" rel="nofollow" title="目标检测数据集PASCAL VOC简介">目标检测数据集PASCAL VOC简介</a></p> 
<p><strong>本文作者：</strong><a href="https://arleyzhang.github.io/" rel="nofollow" title="arleyzhang">arleyzhang</a></p> 
<p><strong>发布时间：</strong>2018年06月03日 - 23:06</p> 
<p><strong>最后更新：</strong>2018年11月16日 - 22:11</p> 
<p><strong>本文链接：</strong><a href="https://arleyzhang.github.io/articles/1dc20586/" rel="nofollow" title="目标检测数据集PASCAL VOC简介 | arleyzhang">目标检测数据集PASCAL VOC简介 | arleyzhang</a> </p> 
<p><strong>版权声明：</strong> 本文由 arleyzhang 原创，采用  <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" rel="nofollow" title="保留署名-非商业性使用-禁止演绎 4.0-国际许可协议">保留署名-非商业性使用-禁止演绎 4.0-国际许可协议</a>，转载请保留原文链接及作者!</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/910eebb1e799327d881fe92283042709/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">安装Linux遇到的一点问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cdb1bdf5c85be292767779f5e8e19adf/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue-quill-editor自定义工具栏，确定光标位置、插入内容，获取选中的内容。</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>