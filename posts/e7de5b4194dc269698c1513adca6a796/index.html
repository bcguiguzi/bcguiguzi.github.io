<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>插入字符判断是否构成回文串（三种方法） - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="插入字符判断是否构成回文串（三种方法）" />
<meta property="og:description" content="题目：给定一个字符串，问是否能通过添加一个字母将其变为回文串。 提要：所有代码皆为C&#43;&#43;语言。 看到题，首先想到如何判断回文串 注：回文串添加或删除指定字符一定还是回文串。
对于一个字符串，从左右两端开始，以此判断，直到读取超出字符串中间。
代码如下：
#include&lt;iostream&gt; #include&lt;string.h&gt; using namespace std; bool JudgeReverseString(char *str) { //对比对应位置字符是否相同 int len = strlen(str); for (int i = 0; i &lt; len/2; &#43;&#43;i) { if (str[i] != str[len - i - 1]) return false; } return true; } int main() { char *str = (char*)malloc(100); memset(str, 0, 10); cin &gt;&gt; str; bool result = JudgeReverseString(str); if(result==true) cout&lt;&lt;&#34;Yes!&#34;; else cout&lt;&lt;&#34;No!&#34;; } 方法一（不建议，因为时间复杂度为O(n^2)） 一个字符串既然能插入对应字符构成回文串，那么删掉与之对应的字符，也一定能构成回文串。
#include&lt;iostream&gt; #include&lt;string." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/e7de5b4194dc269698c1513adca6a796/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-07-25T21:17:12+08:00" />
<meta property="article:modified_time" content="2018-07-25T21:17:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">插入字符判断是否构成回文串（三种方法）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4 id="题目给定一个字符串问是否能通过添加一个字母将其变为回文串">题目：给定一个字符串，问是否能通过添加一个字母将其变为回文串。</h4> 
<h5 id="提要所有代码皆为c语言">提要：所有代码皆为C++语言。</h5> 
<p>看到题，首先想到如何判断回文串 <br> <font color="red">注：回文串添加或删除指定字符一定还是回文串。</font></p> 
<p>对于一个字符串，从左右两端开始，以此判断，直到读取超出字符串中间。</p> 
<p>代码如下：</p> 
<pre class="prettyprint"><code class=" hljs cpp"><span class="hljs-preprocessor">#include&lt;iostream&gt;</span>
<span class="hljs-preprocessor">#include&lt;string.h&gt;</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;
<span class="hljs-keyword">bool</span> JudgeReverseString(<span class="hljs-keyword">char</span> *str)
{
    <span class="hljs-comment">//对比对应位置字符是否相同</span>
    <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(str);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len/<span class="hljs-number">2</span>; ++i)
    {
        <span class="hljs-keyword">if</span> (str[i] != str[len - i - <span class="hljs-number">1</span>])
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
}

<span class="hljs-keyword">int</span> main()
{
    <span class="hljs-keyword">char</span> *str = (<span class="hljs-keyword">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">100</span>);
    <span class="hljs-built_in">memset</span>(str, <span class="hljs-number">0</span>, <span class="hljs-number">10</span>);
    <span class="hljs-built_in">cin</span> &gt;&gt; str;
    <span class="hljs-keyword">bool</span> result = JudgeReverseString(str);
    <span class="hljs-keyword">if</span>(result==<span class="hljs-keyword">true</span>)
        <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">"Yes!"</span>;
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">"No!"</span>;
}</code></pre> 
<h4 id="方法一不建议因为时间复杂度为on2">方法一（不建议，因为时间复杂度为O(n^2)）</h4> 
<p>一个字符串既然能插入对应字符构成回文串，那么删掉与之对应的字符，也一定能构成回文串。</p> 
<pre class="prettyprint"><code class=" hljs cpp"><span class="hljs-preprocessor">#include&lt;iostream&gt;</span>
<span class="hljs-preprocessor">#include&lt;string.h&gt;</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;
<span class="hljs-comment">//判断回文串，在基础的回文串判断方法进行改进</span>
<span class="hljs-keyword">bool</span> JudgeReverseString(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *str,<span class="hljs-keyword">int</span> len)
{
    <span class="hljs-comment">//对比对应位置字符是否相同</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len / <span class="hljs-number">2</span>; ++i)
    {
        <span class="hljs-keyword">if</span> (str[i] != str[len - i - <span class="hljs-number">1</span>])
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
}
<span class="hljs-comment">//插入一个字符是回文串，那么删掉对应需要删除的字符则还能构成回文串</span>
<span class="hljs-comment">//判断删除一个字符是否还是回文串</span>
<span class="hljs-keyword">bool</span> DeleteCharIsReverseString(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> str[])
{
    <span class="hljs-keyword">char</span> *copy_str = (<span class="hljs-keyword">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">strlen</span>(str));
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i&lt;<span class="hljs-built_in">strlen</span>(str); ++i)
    {
        <span class="hljs-built_in">strncpy</span>(copy_str, str,<span class="hljs-built_in">strlen</span>(str));
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i; j&lt;<span class="hljs-built_in">strlen</span>(str); ++j)
        {
            copy_str[j] = copy_str[j + <span class="hljs-number">1</span>];
        }
        <span class="hljs-keyword">if</span> (JudgeReverseString(copy_str,<span class="hljs-built_in">strlen</span>(str)-<span class="hljs-number">1</span>) == <span class="hljs-keyword">true</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
}

<span class="hljs-keyword">int</span> main()
{
    <span class="hljs-keyword">char</span> *str = (<span class="hljs-keyword">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">1000</span>);
    <span class="hljs-built_in">memset</span>(str, <span class="hljs-number">0</span>, <span class="hljs-number">1000</span>);
    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">cin</span> &gt;&gt; str)
    {
        <span class="hljs-keyword">bool</span> result = DeleteCharIsReverseString(str);
        <span class="hljs-keyword">if</span> (result == <span class="hljs-keyword">true</span>)
            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"YES"</span>&lt;&lt;endl;
        <span class="hljs-keyword">else</span>
            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"NO"</span>&lt;&lt;endl;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;

}</code></pre> 
<h4 id="方法二在方法一的思想进行改进摘自牛客网">方法二（在方法一的思想进行改进，摘自牛客网）</h4> 
<blockquote> 
 <p>链接：<a href="https://www.nowcoder.com/questionTerminal/655a43d702cd466093022383c24a38bf" rel="nofollow">https://www.nowcoder.com/questionTerminal/655a43d702cd466093022383c24a38bf</a> <br> 来源：牛客网 <br> 增加一个是回文，那删除一个也是回文。 <br> 具体删除方式可以采取模拟的方式，头尾遍历，i，j各指向头尾，如果相同则i++,j–。如果不同则说明出现不同，需要删除某个数故x–。 <br> 然后看str[i+1]是否等于str[j]，是则删除第i个;或者看str[i]是否等于str[j-1]，是则删除第j个;如若都不成立，则说明两个都得删除。 <br> 当删除个数大于等于2时，跳出循环。说明要构成回文需要删除两个以上字符故NO； <br> 删除个数小于等于1时，则说明不删除或者删除一个就能构成回文，即添加一个也能构成回文，故YES！附上AC代码</p> 
</blockquote> 
<pre class="prettyprint"><code class=" hljs axapta"><span class="hljs-preprocessor">#include&lt;iostream&gt;</span>
<span class="hljs-preprocessor">#include&lt;string&gt;</span>
using namespace std;
<span class="hljs-keyword">int</span> main() {
    string <span class="hljs-keyword">str</span>;
    <span class="hljs-keyword">while</span> (cin &gt;&gt; <span class="hljs-keyword">str</span>) {
        <span class="hljs-keyword">int</span> i, l = <span class="hljs-keyword">str</span>.length(), x = <span class="hljs-number">2</span>, j = l - <span class="hljs-number">1</span>;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i&lt;j; i++, j--) 
        {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">str</span>[i] != <span class="hljs-keyword">str</span>[j]) 
            {
                x--;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">str</span>[i + <span class="hljs-number">1</span>] == <span class="hljs-keyword">str</span>[j])
                i++;
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">str</span>[i] == <span class="hljs-keyword">str</span>[j - <span class="hljs-number">1</span>])
                j--;
            <span class="hljs-keyword">else</span>
                x--;
            }
        }
        <span class="hljs-keyword">if</span> (x&gt;<span class="hljs-number">0</span>)
            cout &lt;&lt; <span class="hljs-string">"YES"</span> &lt;&lt; endl;
        <span class="hljs-keyword">else</span>
            cout &lt;&lt; <span class="hljs-string">"NO"</span> &lt;&lt; endl;
    }
}</code></pre> 
<h4 id="方法三采用加入字符判断">方法三(采用加入字符判断)</h4> 
<pre class="prettyprint"><code class=" hljs rust">#include&lt;iostream&gt;
#include&lt;string&gt;
using namespace std;
<span class="hljs-comment">//判断是否是回文串，是的话返回-1,不是的话对应位置返回下标</span>
<span class="hljs-comment">//因为失败要返回下标，所以满足条件并没有采取返回非负值而是-1</span>
<span class="hljs-keyword">int</span> IsPalindromeString(string <span class="hljs-keyword">str</span>)
{
    <span class="hljs-comment">//对比对应位置字符是否相同</span>
    <span class="hljs-keyword">int</span> len = <span class="hljs-keyword">str</span>.size();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len / <span class="hljs-number">2</span>; ++i)
    {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">str</span>[i] != <span class="hljs-keyword">str</span>[len - i - <span class="hljs-number">1</span>])
            <span class="hljs-keyword">return</span> i;
    }
    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
}

<span class="hljs-keyword">bool</span> InsertCharIsParlindromString(string <span class="hljs-keyword">str</span>)
{
    <span class="hljs-keyword">int</span> size = <span class="hljs-keyword">str</span>.size();
    <span class="hljs-keyword">int</span> pos = IsPalindromeString(<span class="hljs-keyword">str</span>);
    <span class="hljs-comment">//本身不是回文串</span>
    <span class="hljs-keyword">if</span> (pos != -<span class="hljs-number">1</span>)
    {
        <span class="hljs-comment">//代码思想：从不一致的位置开始，取到右边与它对应位置的子串</span>
        <span class="hljs-comment">//在子串前面加子串的末尾值，或者在子串末尾加子串的最前值</span>
        <span class="hljs-comment">//原因如下，符合条件的话会满足其中一个</span>
        <span class="hljs-comment">//如果是左边缺，则子串末尾的值就是左边缺的，添回就是回文串</span>
        <span class="hljs-comment">//如果是右边缺，则子串开始的值就是右边缺的，添回就是回文串</span>

        <span class="hljs-comment">//右边与pos对应的位置的值 加上 pos开始，长度size-2*pos的子串</span>
        <span class="hljs-keyword">int</span> result1 = IsPalindromeString(<span class="hljs-keyword">str</span>[size - <span class="hljs-number">1</span> - pos] + <span class="hljs-keyword">str</span>.substr(pos, size - <span class="hljs-number">2</span> * pos));
        <span class="hljs-comment">//pos开始，长度size-2*pos的子串 加上 pos位置的值</span>
        <span class="hljs-keyword">int</span> result2 = IsPalindromeString(<span class="hljs-keyword">str</span>.substr(pos, size - <span class="hljs-number">2</span> * pos) + <span class="hljs-keyword">str</span>[pos]);
        <span class="hljs-keyword">if</span> ((result1 == -<span class="hljs-number">1</span>) || (result2 == -<span class="hljs-number">1</span>))
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
    }
    <span class="hljs-comment">//本身是回文串,添加指定字符还是回文串</span>
    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }
}


<span class="hljs-keyword">int</span> main()
{
    string <span class="hljs-keyword">str</span>;
    <span class="hljs-keyword">while</span> (cin &gt;&gt; <span class="hljs-keyword">str</span>)
    {
        <span class="hljs-keyword">bool</span> result = InsertCharIsParlindromString(<span class="hljs-keyword">str</span>);
        <span class="hljs-keyword">if</span> (result == <span class="hljs-keyword">true</span>)
            cout &lt;&lt; <span class="hljs-string">"YES"</span> &lt;&lt; endl;
        <span class="hljs-keyword">else</span>
            cout &lt;&lt; <span class="hljs-string">"NO"</span> &lt;&lt; endl;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}</code></pre> 
<p><img src="https://images2.imgbox.com/de/e7/eg0v2FAy_o.png" alt="这里写图片描述" title=""></p> 
<h4 id="有什么问题欢迎各位读者提问谢谢">有什么问题欢迎各位读者提问，谢谢！</h4>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5ddc1f14c6ceb10e849518377efaca22/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">static关键字能修饰什么</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5697d43c9b6a4c92641e3e2cd5f9e0e4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">常见的HTTP状态码</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>