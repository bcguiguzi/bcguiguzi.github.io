<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>（二）永磁同步电机矢量控制（两电平）——电流环转速环PI参数整定 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="（二）永磁同步电机矢量控制（两电平）——电流环转速环PI参数整定" />
<meta property="og:description" content="第一章节已经推导出dq坐标系下的定子电压方程、磁链方程、电磁转矩方程和转子运动方程。这一章节就根据这四个方程来推导出电流环和转速环的PI参数整定公式。
1.电流环PI参数整定 矢量控制主要是通过控制iq来控制电磁转矩，设计电流闭环能够加快速度的动态响应和有利于系统稳定。给出电流环的传递函数图。
传递函数包括四个部分：PI、CPU部分、逆变器部分和电机部分。其中CPU部分是延迟环节，td=Ts。逆变器部分是小惯性环节，KPWM是逆变器的增益，在这里取1，Ts=1/fs，fs为逆变器的开关频率，设置为10KHz。在这里惯性环节和延迟环节可以合成简化：
最后一部分电机部分的传递函数是由这个公式而来的，由上一章节所分析，将q轴定子电压方程方程忽略动态项和耦合项之后，公式如下：
将上式进行拉普拉斯变换之后，可得：
于是电机传递函数就推导出来了。那么将上图电流环传递函数可以简化为：
学过自控的都应该知道吧，Ki=KP/Ti，Ti是时间参数，即Ti=Lq/R。那么电流环开环传递函数和闭环传递函数可以得出：
这里化成这种形式主要是方便后面跟标准二阶系统开环传递函数和闭环传递函数的公式进行比较，那么学过自控的同学都会知道，二阶系统的开环传递函数和闭环传递函数的形式是这样的：
将这个公式和上面那个公式进行比较一下，很容易就可以看出：
阻尼系数取0.707是欠阻尼振荡，效果是最好的。根据上式最终就可以推导出PI参数公式了。
电流环的PI参数整定就这么简单，下面推导下转速环的PI参数整定。
2.转速环PI参数整定 转速环里面包含有电流环在内，当外面给定转速时，系统通过控制iq来控制电磁转矩，从而电机开始转动。电机在转动的过程，传感器检测到机械角度会改变，也就是说电角度也会改变，由电角度在单位时间的变化，就可以求出电角速度，从而就可以得到反馈回来转速参与转速决策，最终可以控制转速稳定。
直接看转速环传递函数图。
转速环包含几个部分：PI部分，电流环部分，CPU部分，电磁转矩部分，转子运动部分。在研究转速环的过程中，电流环可以近似为一阶环节：
将电流环部分和CPU部分合并，td=Ts，则可化简为：
这里的TS2=4Ts。假设负载转矩TL=0，可以将转速环的传递函数图化简为：
转速环的开环传递函数，就是直接这三个部分相乘，如下：
其中Kg表达式和Ki为：
开环传递函数写成这种形式，是为了方便和三阶系统（典型II型系统）的传递函数方便比较，由自控的知识就可以知道，典型II型系统的开环传递函数的形式为：
在典型的II型系统中，定义了中频宽h，其意义是斜率-20dB/sec的中频宽度，当h=5的时候，动态跟随性能最佳，又根据“振荡指标法”中的闭环幅频特性峰值最小原则，可知K和τ的关系如下：
其中T=Ts2。对比上面三个式子，最终可以推导出转速环的PI参数整定公式为：
3.总结 在上述中，已经是用最简洁的话，最简洁的公式和图来表示了。
在电流环中，是采用二阶系统来设计。转速环采用典型II型系统来设计。经过理论分析后，永磁同步电机双环矢量控制的系统是最稳定的。在后续第三章节进行仿真验证理论分析的正确性。
更详细的讲解请关注公众号：电力电子学社
之后会陆续开放仿真模型下载喔~敬请关注！" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/de410137d9a5bae3febb7354cc8efc0f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-03-21T00:35:31+08:00" />
<meta property="article:modified_time" content="2020-03-21T00:35:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">（二）永磁同步电机矢量控制（两电平）——电流环转速环PI参数整定</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>  第一章节已经推导出dq坐标系下的定子电压方程、磁链方程、电磁转矩方程和转子运动方程。这一章节就根据这四个方程来推导出电流环和转速环的PI参数整定公式。</p> 
<h3><a id="1PI_2"></a>1.电流环PI参数整定</h3> 
<p>矢量控制主要是通过控制iq来控制电磁转矩，设计电流闭环能够加快速度的动态响应和有利于系统稳定。给出电流环的传递函数图。<br> <img src="https://images2.imgbox.com/0a/0b/5qzG8nzd_o.png" alt="在这里插入图片描述"><br> 传递函数包括四个部分：PI、CPU部分、逆变器部分和电机部分。其中CPU部分是延迟环节，td=Ts。逆变器部分是小惯性环节，KPWM是逆变器的增益，在这里取1，Ts=1/fs，fs为逆变器的开关频率，设置为10KHz。在这里惯性环节和延迟环节可以合成简化：<br> <img src="https://images2.imgbox.com/9f/07/wvRgC6t8_o.png" alt="在这里插入图片描述"><br> 最后一部分电机部分的传递函数是由这个公式而来的，由上一章节所分析，将q轴定子电压方程方程忽略动态项和耦合项之后，公式如下：<br> <img src="https://images2.imgbox.com/53/83/fsZov2Xj_o.png" alt="在这里插入图片描述"><br> 将上式进行拉普拉斯变换之后，可得：<br> <img src="https://images2.imgbox.com/d1/52/8jvXYnaB_o.png" alt="在这里插入图片描述"><br> 于是电机传递函数就推导出来了。那么将上图电流环传递函数可以简化为：<br> <img src="https://images2.imgbox.com/86/f6/PPRZhZLE_o.png" alt="在这里插入图片描述"><br> 学过自控的都应该知道吧，Ki=KP/Ti，Ti是时间参数，即Ti=Lq/R。那么电流环开环传递函数和闭环传递函数可以得出：<br> <img src="https://images2.imgbox.com/7b/a2/1IbxvRx7_o.png" alt="在这里插入图片描述"><br> 这里化成这种形式主要是方便后面跟标准二阶系统开环传递函数和闭环传递函数的公式进行比较，那么学过自控的同学都会知道，二阶系统的开环传递函数和闭环传递函数的形式是这样的：<br> <img src="https://images2.imgbox.com/1c/8b/z1ILib3v_o.png" alt="在这里插入图片描述"><br> 将这个公式和上面那个公式进行比较一下，很容易就可以看出：<br> <img src="https://images2.imgbox.com/61/9f/KJtqJWL9_o.png" alt="在这里插入图片描述"><br> 阻尼系数取0.707是欠阻尼振荡，效果是最好的。根据上式最终就可以推导出PI参数公式了。<br> <img src="https://images2.imgbox.com/13/ac/MsQx2z50_o.png" alt="在这里插入图片描述"><br> 电流环的PI参数整定就这么简单，下面推导下转速环的PI参数整定。</p> 
<h3><a id="2PI_22"></a>2.转速环PI参数整定</h3> 
<p>转速环里面包含有电流环在内，当外面给定转速时，系统通过控制iq来控制电磁转矩，从而电机开始转动。电机在转动的过程，传感器检测到机械角度会改变，也就是说电角度也会改变，由电角度在单位时间的变化，就可以求出电角速度，从而就可以得到反馈回来转速参与转速决策，最终可以控制转速稳定。<br> 直接看转速环传递函数图。<br> <img src="https://images2.imgbox.com/51/17/FG4ajJFv_o.png" alt="在这里插入图片描述"><br> 转速环包含几个部分：PI部分，电流环部分，CPU部分，电磁转矩部分，转子运动部分。在研究转速环的过程中，电流环可以近似为一阶环节：<br> <img src="https://images2.imgbox.com/a1/8f/WUMUXjrM_o.png" alt="在这里插入图片描述"><br> 将电流环部分和CPU部分合并，td=Ts，则可化简为：<br> <img src="https://images2.imgbox.com/6e/a4/jlk1mJed_o.png" alt="在这里插入图片描述"><br> 这里的TS2=4Ts。假设负载转矩TL=0，可以将转速环的传递函数图化简为：<br> <img src="https://images2.imgbox.com/bc/55/0SxtDfLn_o.png" alt="在这里插入图片描述"><br> 转速环的开环传递函数，就是直接这三个部分相乘，如下：<br> <img src="https://images2.imgbox.com/b9/46/sCjop1Pv_o.png" alt="在这里插入图片描述"><br> 其中Kg表达式和Ki为：<br> <img src="https://images2.imgbox.com/c1/b1/nCCNJPJr_o.png" alt="在这里插入图片描述"><br> 开环传递函数写成这种形式，是为了方便和三阶系统（典型II型系统）的传递函数方便比较，由自控的知识就可以知道，典型II型系统的开环传递函数的形式为：<br> <img src="https://images2.imgbox.com/3b/98/ZmNKU5dj_o.png" alt="在这里插入图片描述"><br> 在典型的II型系统中，定义了中频宽h，其意义是斜率-20dB/sec的中频宽度，当h=5的时候，动态跟随性能最佳，又根据“振荡指标法”中的闭环幅频特性峰值最小原则，可知K和τ的关系如下：<br> <img src="https://images2.imgbox.com/fa/d3/Ka1m9BjP_o.png" alt="在这里插入图片描述"><br> 其中T=Ts2。对比上面三个式子，最终可以推导出转速环的PI参数整定公式为：<br> <img src="https://images2.imgbox.com/93/05/DJJiHUyM_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_43"></a>3.总结</h3> 
<p>在上述中，已经是用最简洁的话，最简洁的公式和图来表示了。</p> 
<p>在电流环中，是采用二阶系统来设计。转速环采用典型II型系统来设计。经过理论分析后，永磁同步电机双环矢量控制的系统是最稳定的。在后续第三章节进行仿真验证理论分析的正确性。</p> 
<p><font color="dark" size="4">更详细的讲解请关注公众号：</font><font color="orange" size="5">电力电子学社</font></p> 
<p><font color="dark" size="4">之后会陆续开放仿真模型下载喔~敬请关注！</font></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/696194bc5e1a04268daf1d9b83d6d5ad/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SQLMAP 脱库过程（post请求，三种方法）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/78843e565f7a157252b73404c59abede/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python a和a[:]的区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>