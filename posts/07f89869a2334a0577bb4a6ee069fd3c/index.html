<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Openvino Mac版部署踩坑记录 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Openvino Mac版部署踩坑记录" />
<meta property="og:description" content="前几天在Ubuntu上使用了openvino觉得速度还行，想着在自己的Mac上也装一个，来实现在家也能为社会主义做贡献的梦想（手动狗头），然后坑就来了，历经各种试错，终于找到解决方案，分享给后来之人。
首先奉上Intel Openvino的官方安装教程链接：https://docs.openvinotoolkit.org/2021.2/openvino_docs_install_guides_installing_openvino_macos.html
教程一定要从头到尾看，看一遍再装，坑就在细节里：
首先，硬件环境一定要符合要求，目前官方提供的完整安装包只支持Intel芯片，也就是X86架构，今年5月份开始计划逐步支持ARM架构，但还没有稳定的工具包，着急尝鲜的同学可以上github下载ARM架构Plugin，自己编译库，附上Github Pulgin下载链接
https://github.com/openvinotoolkit/openvino_contrib
接着就是软件环境，官方文档要求软件环境如下：
CMake 3.10 or higherPython 3.6 - 3.7Apple Xcode* Command Line Tools(Optional) Apple Xcode* IDE (not required for OpenVINO, but useful for development） 特别注意python环境目前只能是3.6-3.7版本，别装3.8，系统自带的2也是不行的，不然库文件对不上会一直报错。其他安装都没啥问题，要是缺了，系统会提醒你啥没装，安装就好。我就说一下python环境的配置，这一步没搞好，后面问题太多了。
python环境安装可以采用直接官网下载或者anaconda安装两种方式，都没有问题，我是用了官网下载python的方法，链接如下：
https://www.python.org/downloads/macos/
推荐下载3.7，安装完成后记着配置环境变量，方法如下：
vim ~/.bash_profile 输入‘i’，进入编辑模式，在文件最后一行加入一下环境变量，然后’esc‘，输入’：wq‘，保存即可。
alias python=/usr/local/bin/python3.7 最后
source ～/.bash_profile.sh 激活环境变量，在终端窗口输入python，如果版本为3.7，说明安装成功了。
最后，安装openvino，前面的环境要求配置好，这一步没什么难度，官网下载openvino，选择root权限或者admin权限安装，一直下一步就好，最后一步安装完成，会跳转到网页环境变量页面，标题设置如下：
Set the Environment Variables You need to update several environment variables before you can compile and run OpenVINO™ applications. Open the macOS Terminal* or a command-line interface shell you prefer and run the following script to temporarily set your environment variables:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/07f89869a2334a0577bb4a6ee069fd3c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-14T16:42:12+08:00" />
<meta property="article:modified_time" content="2021-08-14T16:42:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Openvino Mac版部署踩坑记录</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<p>前几天在Ubuntu上使用了openvino觉得速度还行，想着在自己的Mac上也装一个，来实现在家也能为社会主义做贡献的梦想（手动狗头），然后坑就来了，历经各种试错，终于找到解决方案，分享给后来之人。</p> 
<p>首先奉上Intel Openvino的官方安装教程链接：<a href="https://docs.openvinotoolkit.org/2021.2/openvino_docs_install_guides_installing_openvino_macos.html" rel="nofollow">https://docs.openvinotoolkit.org/2021.2/openvino_docs_install_guides_installing_openvino_macos.html</a></p> 
<p><span style="color:#fe2c24;">教程一定要从头到尾看，看一遍再装，坑就在细节里：</span></p> 
<p>首先，硬件环境一定要符合要求，目前官方提供的完整安装包只支持Intel芯片，也就是X86架构，今年5月份开始计划逐步支持ARM架构，但还没有稳定的工具包，着急尝鲜的同学可以上github下载ARM架构Plugin，自己编译库，附上Github Pulgin下载链接</p> 
<p><a href="https://github.com/openvinotoolkit/openvino_contrib">https://github.com/openvinotoolkit/openvino_contrib</a></p> 
<p>接着就是软件环境，官方文档要求软件环境如下：</p> 
<blockquote> 
 <ul><li>CMake 3.10 or higher</li><li>Python 3.6 - 3.7</li><li>Apple Xcode* Command Line Tools</li><li>(Optional) Apple Xcode* IDE (not required for OpenVINO, but useful for development）</li></ul> 
</blockquote> 
<p> 特别注意python环境目前只能是3.6-3.7版本，别装3.8，系统自带的2也是不行的，不然库文件对不上会一直报错。其他安装都没啥问题，要是缺了，系统会提醒你啥没装，安装就好。我就说一下python环境的配置，这一步没搞好，后面问题太多了。</p> 
<p>python环境安装可以采用直接官网下载或者anaconda安装两种方式，都没有问题，我是用了官网下载python的方法，链接如下：</p> 
<p><a href="https://www.python.org/downloads/macos/" rel="nofollow">https://www.python.org/downloads/macos/</a></p> 
<p>推荐下载3.7，安装完成后记着配置环境变量，方法如下：</p> 
<pre><code>vim ~/.bash_profile
</code></pre> 
<p>输入‘i’，进入编辑模式，在文件最后一行加入一下环境变量，然后’esc‘，输入’：wq‘，保存即可。</p> 
<pre><code>alias python=/usr/local/bin/python3.7</code></pre> 
<p>最后</p> 
<pre><code>source ～/.bash_profile.sh</code></pre> 
<p> 激活环境变量，在终端窗口输入python，如果版本为3.7，说明安装成功了。</p> 
<p>最后，安装openvino，前面的环境要求配置好，这一步没什么难度，官网下载openvino，<span style="color:#fe2c24;">选择root权限或者admin权限安装</span>，一直下一步就好，最后一步安装完成，会跳转到网页环境变量页面，标题设置如下：</p> 
<blockquote> 
 <h3>Set the Environment Variables</h3> 
 <p>You need to update several environment variables before you can compile and run OpenVINO™ applications. Open the macOS Terminal* or a command-line interface shell you prefer and run the following script to temporarily set your environment variables:</p> 
</blockquote> 
<p> 我们直接把它写到环境变量里，不需要每次都配置，首先：</p> 
<pre><code>vi ~/.bash_profile</code></pre> 
<p>接着添加环境变量命令如下 ，如果是按照root权限或者amin权限，路径应该是一样的，大家看好自己的路径，不确定的直接“command+shift+g”进入‘/opt’看看自己的路径，拷到命令行，老套路保存一下，source激活一下。</p> 
<pre><code>source /opt/intel/openvino_2021/bin/setupvars.sh</code></pre> 
<p>打开新的终端提示如下表示么得问题了，后续的demo环境依赖看自己需求按着教程作就好。</p> 
<blockquote> 
 <p><code>[setupvars.sh] OpenVINO environment initialized</code>. </p> 
</blockquote> 
<p>我的踩坑 就在这最后一步，其实我在Ubuntu也遇到了这个问题，当时稀里糊涂能用，就没再管，但最终在mac上安装还是遇到了，困扰了我两个周末，问题如下： </p> 
<blockquote> 
 <p>[setupvars.sh] WARNING: Can not find OpenVINO Python binaries by path /Users/python [setupvars.sh] WARNING: OpenVINO Python environment does not set properly [setupvars.sh] OpenVINO environment initialized</p> 
</blockquote> 
<p>重点看第一条，python binaries找不到，这个就是提示python环境没设置好，就算显示初始化了，最后也调用不了的，想要解决这个问题就得看setupvars.sh是怎么配置的，打开openvino的bin目录下的setupvars.sh，根据文末的echo设置找到问题出在 “${INTEL_OPENVINO_DIR}/python"，取到的路径不是我们想要的路径，回看22-23行代码配置如下${INTEL_OPENVINO_DIR}</p> 
<pre><code>export INTEL_OPENVINO_DIR="$INSTALLDIR"
export INTEL_CVSDK_DIR="$INTEL_OPENVINO_DIR"</code></pre> 
<p>终端检查INTEL_OPENVINO_DIR路径显示为/usrs/xuejun，阿西，这个路径下么得python，怎么能行。</p> 
<pre><code>~ % echo $INTEL_OPENVINO_DIR </code></pre> 
<p>问题找到了，那就把openvino下的python路径添加到这里即可，如下：</p> 
<blockquote> 
 <p><strong>export</strong> INTEL_OPENVINO_DIR="/opt/intel/openvino_2021"</p> 
</blockquote> 
<p>保存一下，打开新的终端，吴彦祖再度楼露出了会心的微笑。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/54/53/FAfWSZzd_o.png"></p> 
<p> 一切就绪，跑个demo，结果如下</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/17/d7/gSv3hb1b_o.png"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f3fa5770be55883976b35b90aac7f9e8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ubuntu 开机后黑屏dev/nvme0n1p4: clean, xxx/xxx files, xxx/xxxblocks</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ef574ecfbc5847fcef6752e075abfd6c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python-Numpy函数：np.round(),np.around(),np.floor(),np.ceil()</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>