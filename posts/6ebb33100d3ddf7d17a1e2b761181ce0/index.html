<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux系统使用head和tail命令，快速切分json 格式的数据集 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux系统使用head和tail命令，快速切分json 格式的数据集" />
<meta property="og:description" content="文章目录 介绍切分训练集切分测试集 介绍 json格式的数据集，每一行都是一个单独数据单元。
data.json的文件格式如下：
{&#34;text&#34;: &#34;彭小军认为，国内银行现在走的是台湾的发卡模式，先通过跑马圈地再在圈的地里面选择客户，&#34;, &#34;label&#34;: {&#34;address&#34;: {&#34;台湾&#34;: [[15, 16]]}, &#34;name&#34;: {&#34;彭小军&#34;: [[0, 2]]}}} {&#34;text&#34;: &#34;温格的球队终于又踢了一场经典的比赛，2比1战胜曼联之后枪手仍然留在了夺冠集团之内，&#34;, &#34;label&#34;: {&#34;organization&#34;: {&#34;曼联&#34;: [[23, 24]]}, &#34;name&#34;: {&#34;温格&#34;: [[0, 1]]}}} {&#34;text&#34;: &#34;突袭黑暗雅典娜》中Riddick发现之前抓住他的赏金猎人Johns，&#34;, &#34;label&#34;: {&#34;game&#34;: {&#34;突袭黑暗雅典娜》&#34;: [[0, 7]]}, &#34;name&#34;: {&#34;Riddick&#34;: [[9, 15]], &#34;Johns&#34;: [[28, 32]]}}} {&#34;text&#34;: &#34;郑阿姨就赶到文汇路排队拿钱，希望能将缴纳的一万余元学费拿回来，顺便找校方或者教委要个说法。&#34;, &#34;label&#34;: {&#34;address&#34;: {&#34;文汇路&#34;: [[6, 8]]}}} {&#34;text&#34;: &#34;我想站在雪山脚下你会被那巍峨的雪山所震撼，但你一定要在自己身体条件允许的情况下坚持走到牛奶海、&#34;, &#34;label&#34;: {&#34;scene&#34;: {&#34;牛奶海&#34;: [[43, 45]], &#34;雪山&#34;: [[4, 5]]}}} 查看训练集的总数
wc -l data.json 如上图所示，数据集一共有10748行数据。
切分训练集 切分 9000 条作为训练集；取出data.json的前9000行数据存到train.json文件中
head -9000 data." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/6ebb33100d3ddf7d17a1e2b761181ce0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-12T10:39:25+08:00" />
<meta property="article:modified_time" content="2024-03-12T10:39:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux系统使用head和tail命令，快速切分json 格式的数据集</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#_1" rel="nofollow">介绍</a></li><li><a href="#_20" rel="nofollow">切分训练集</a></li><li><a href="#_35" rel="nofollow">切分测试集</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_1"></a>介绍</h3> 
<p>json格式的数据集，每一行都是一个单独数据单元。<br> <code>data.json</code>的文件格式如下：</p> 
<pre><code class="prism language-python"><span class="token punctuation">{<!-- --></span><span class="token string">"text"</span><span class="token punctuation">:</span> <span class="token string">"彭小军认为，国内银行现在走的是台湾的发卡模式，先通过跑马圈地再在圈的地里面选择客户，"</span><span class="token punctuation">,</span> <span class="token string">"label"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token string">"address"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token string">"台湾"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token string">"彭小军"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{<!-- --></span><span class="token string">"text"</span><span class="token punctuation">:</span> <span class="token string">"温格的球队终于又踢了一场经典的比赛，2比1战胜曼联之后枪手仍然留在了夺冠集团之内，"</span><span class="token punctuation">,</span> <span class="token string">"label"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token string">"organization"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token string">"曼联"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token string">"温格"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{<!-- --></span><span class="token string">"text"</span><span class="token punctuation">:</span> <span class="token string">"突袭黑暗雅典娜》中Riddick发现之前抓住他的赏金猎人Johns，"</span><span class="token punctuation">,</span> <span class="token string">"label"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token string">"game"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token string">"突袭黑暗雅典娜》"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token string">"Riddick"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"Johns"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{<!-- --></span><span class="token string">"text"</span><span class="token punctuation">:</span> <span class="token string">"郑阿姨就赶到文汇路排队拿钱，希望能将缴纳的一万余元学费拿回来，顺便找校方或者教委要个说法。"</span><span class="token punctuation">,</span> <span class="token string">"label"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token string">"address"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token string">"文汇路"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{<!-- --></span><span class="token string">"text"</span><span class="token punctuation">:</span> <span class="token string">"我想站在雪山脚下你会被那巍峨的雪山所震撼，但你一定要在自己身体条件允许的情况下坚持走到牛奶海、"</span><span class="token punctuation">,</span> <span class="token string">"label"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token string">"scene"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token string">"牛奶海"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">43</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"雪山"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre> 
<p>查看训练集的总数</p> 
<pre><code class="prism language-bash"><span class="token function">wc</span> <span class="token parameter variable">-l</span> data.json
</code></pre> 
<p><img src="https://images2.imgbox.com/a3/90/5orEx3VD_o.png" alt="在这里插入图片描述"></p> 
<p>如上图所示，数据集一共有10748行数据。</p> 
<h3><a id="_20"></a>切分训练集</h3> 
<p>切分 9000 条作为训练集；取出data.json的前9000行数据存到train.json文件中</p> 
<pre><code class="prism language-bash"><span class="token function">head</span> <span class="token parameter variable">-9000</span> data.json <span class="token operator">&gt;</span> train.json
</code></pre> 
<p><code>&gt;</code> : 代表把 <code>head -9000 data.json</code>的输出结果写入到<code>train.json</code>文件中；</p> 
<p>查看<code>train.json</code>的文件行数</p> 
<pre><code class="prism language-bash"><span class="token function">wc</span> <span class="token parameter variable">-l</span> train.json
</code></pre> 
<p>下图看出<code>train.json</code>有9000条数据，说明文件切分没问题；<br> <img src="https://images2.imgbox.com/3d/2f/V8BB1gkB_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_35"></a>切分测试集</h3> 
<p>data.json已经取出了9000行，还剩下 10748 - 9000 = 1748 行数据</p> 
<p>取出data.json的尾部1748行数据作为测试集</p> 
<pre><code class="prism language-bash"><span class="token function">tail</span> <span class="token parameter variable">-1748</span> data.json <span class="token operator">&gt;</span> test.json
</code></pre> 
<pre><code class="prism language-bash"><span class="token function">wc</span> <span class="token parameter variable">-l</span> test.json
</code></pre> 
<p><img src="https://images2.imgbox.com/07/20/83eFPsmg_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d554f2f54b80ac0039e97eff3aaabe4f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用 Ruby 或 Python 在文件中查找</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/63fe892d902e6e2c94c798eef0c30ba7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2023 收入最高的十大编程语言</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>