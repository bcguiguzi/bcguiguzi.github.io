<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Qt dock小部件的使用 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Qt dock小部件的使用" />
<meta property="og:description" content="今天复习发现的一个dock部件，这是一个非常好用的拖拉界面的部件。
其一：分页。
在这之前我自己写过类似浏览器的添加页签（也包括那个 关闭按钮，这边dock可以自己自定义控件）。
当时也用到了许多知识点，过程写的稍显复杂。（需要用QMap键值对来存取，每一个页面对应一个html等等。。。）现在发现可以直接使用dock小部件来完成这项功能。
其二：拖拉窗口。
将分页拖拉出来，这也是浏览器的功能之一。稍显可惜的是前面我说我自己做过类似浏览器分页的这款功能，但我当时并没有考虑到这个技术点，所以也并不知道自己写这个轮子的复杂过程。希望我有机会还是接着把那个项目按这个需求给补充完。
接下来贴上代码~~~~
#include &#34;dockwindows.h&#34; #include &lt;QTextEdit&gt; #include &lt;QDockWidget&gt; DockWindows::DockWindows(QWidget *parent) : QMainWindow(parent) { setWindowTitle(tr(&#34;DockWindows&#34;)); //设置主窗口的标题栏文字 QTextEdit *te = new QTextEdit(this); //定义一个QTextEdit 对象作为主窗口 te-&gt;setText(tr(&#34;Main Window&#34;)); te-&gt;setAlignment(Qt::AlignCenter); setCentralWidget(te); //将此编译框设为主窗口的中央窗体 //停靠窗口 1 QDockWidget *dock = new QDockWidget (tr(&#34;DockWindow1&#34;),this); dock-&gt;setFeatures(QDockWidget::DockWidgetMovable);//可移动 dock-&gt;setAllowedAreas(Qt::LeftDockWidgetArea|Qt::RightDockWidgetArea); QTextEdit *te1 = new QTextEdit(); /* dock小部件可以被用户在dock之间移动 */ te1-&gt;setText(tr(&#34;Window1,The dock widget can be moved between docks by the user&#34; &#34;&#34;)); dock-&gt;setWidget(te1); addDockWidget(Qt::RightDockWidgetArea,dock); //停靠窗口 2 dock = new QDockWidget (tr(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/719d8aed74a05940aa1dcb8eb99083c6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-24T13:49:48+08:00" />
<meta property="article:modified_time" content="2020-11-24T13:49:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Qt dock小部件的使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>今天复习发现的一个dock部件，这是一个非常好用的拖拉界面的部件。<br> <em><strong>其一：分页。</strong></em><br> <img src="https://images2.imgbox.com/d4/83/44io0Wim_o.png" alt="在这里插入图片描述"><br> 在这之前我自己写过类似浏览器的添加页签（也包括那个 关闭按钮，这边dock可以自己自定义控件）。<br> 当时也用到了许多知识点，过程写的稍显复杂。（需要用QMap键值对来存取，每一个页面对应一个html等等。。。）现在发现可以直接使用dock小部件来完成这项功能。</p> 
<p><em><strong>其二：拖拉窗口。</strong></em><br> <img src="https://images2.imgbox.com/2f/3b/yitXGILJ_o.png" alt="在这里插入图片描述"><br> 将分页拖拉出来，这也是浏览器的功能之一。稍显可惜的是前面我说我自己做过类似浏览器分页的这款功能，但我当时并没有考虑到这个技术点，所以也并不知道自己写这个轮子的复杂过程。希望我有机会还是接着把那个项目按这个需求给补充完。</p> 
<p>接下来贴上代码~~~~</p> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"dockwindows.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;QTextEdit&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;QDockWidget&gt;</span></span>
DockWindows<span class="token operator">::</span><span class="token function">DockWindows</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"DockWindows"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//设置主窗口的标题栏文字</span>
    QTextEdit <span class="token operator">*</span>te <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTextEdit</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//定义一个QTextEdit 对象作为主窗口</span>
    te<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"Main  Window"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    te<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setAlignment</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>AlignCenter<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setCentralWidget</span><span class="token punctuation">(</span>te<span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">//将此编译框设为主窗口的中央窗体</span>
    <span class="token comment">//停靠窗口 1</span>
    QDockWidget <span class="token operator">*</span>dock <span class="token operator">=</span> <span class="token keyword">new</span> QDockWidget <span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"DockWindow1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dock<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setFeatures</span><span class="token punctuation">(</span>QDockWidget<span class="token operator">::</span>DockWidgetMovable<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//可移动</span>
    dock<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setAllowedAreas</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>LeftDockWidgetArea<span class="token operator">|</span>Qt<span class="token operator">::</span>RightDockWidgetArea<span class="token punctuation">)</span><span class="token punctuation">;</span>
    QTextEdit <span class="token operator">*</span>te1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTextEdit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token comment">/*        dock小部件可以被用户在dock之间移动          */</span>
    te1<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"Window1,The dock widget can be moved between docks by the user"</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dock<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setWidget</span><span class="token punctuation">(</span>te1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addDockWidget</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>RightDockWidgetArea<span class="token punctuation">,</span>dock<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//停靠窗口 2</span>
    dock <span class="token operator">=</span> <span class="token keyword">new</span> QDockWidget <span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"DockWindow2"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dock<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setFeatures</span><span class="token punctuation">(</span>QDockWidget<span class="token operator">::</span>DockWidgetClosable<span class="token operator">|</span>
                      QDockWidget<span class="token operator">::</span>DockWidgetFloatable<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//可关闭、可浮动</span>

    QTextEdit <span class="token operator">*</span>te2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTextEdit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token comment">/*            dock小部件可以与主窗口分离              */</span><span class="token comment">/*         并且浮动为一个独立的窗口，并且可以关闭       */</span>   
    te2<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"Window2,The dock widget can be detached from the main window,"</span> <span class="token string">"and floated as an independent window, and can be closed"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dock<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setWidget</span><span class="token punctuation">(</span>te2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addDockWidget</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>RightDockWidgetArea<span class="token punctuation">,</span>dock<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//停靠窗口 3</span>
    dock <span class="token operator">=</span> <span class="token keyword">new</span> QDockWidget <span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"DockWindow3"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dock<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setFeatures</span><span class="token punctuation">(</span>QDockWidget<span class="token operator">::</span>AllDockWidgetFeatures<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//全部特性</span>

    QTextEdit <span class="token operator">*</span>te3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTextEdit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                             <span class="token comment">/*         dock小部件可以被关闭、移动和浮动        */</span>
    te3<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"Window3,The dock widget can be closed , moved , and floated,"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dock<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setWidget</span><span class="token punctuation">(</span>te3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addDockWidget</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>RightDockWidgetArea<span class="token punctuation">,</span>dock<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

DockWindows<span class="token operator">::</span><span class="token operator">~</span><span class="token function">DockWindows</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/e9/15/VnNvwOgJ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/8a/e1/gX7pNyMr_o.png" alt="在这里插入图片描述"></p> 
<p>大亮点我认为dock就是这两点，其他的一些小细节我也不好一一截图，我把源码上传你到CSDN上，你们可以自行下载下来体验体验哈~~~</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b5fbc8d09aead26869c4ec62fc1f6252/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python中uniform函数_python scipy stats.uniform用法及代码示例</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e7e3deccfd31ae166866055013ba708c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python程序基本结构总结_python总结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>