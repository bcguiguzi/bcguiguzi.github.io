<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue通用后台管理系统（二） - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue通用后台管理系统（二）" />
<meta property="og:description" content="要实现的页面 二、整体ui的搭建 1. Container布局容器 使用element-ui中的Container布局容器进行整体ui的搭建：在element-ui中选取一个组件样式然后引入到main.vue组件中
（1）全局引入element-ui
（2）在main.vue中使用想要引入的Container布局容器代码
（3）基本页面布局的效果
Aside:菜单区（导航区），Header：标题区，Home:内容区
1.1 菜单区的实现 （1）左侧菜单栏的引入 利用element-ui中的组件库实现左侧菜单栏的引入：
注意：组件拆分：具有单一功能的页面将其拆分为单独的组件，这样可以方便后面代码的维护
所以，我们需要在components文件夹中新建CommonAside.vue组件，然后将在element-ui中选取的NavMenu导航菜单的代码部分复制进去，并进行格式的调整。
// src/components/CommonAside.vue &lt;template&gt; &lt;el-menu default-active=&#34;1-4-1&#34; class=&#34;el-menu-vertical-demo&#34; @open=&#34;handleOpen&#34; @close=&#34;handleClose&#34; :collapse=&#34;isCollapse&#34;&gt; &lt;el-submenu index=&#34;1&#34;&gt; &lt;template slot=&#34;title&#34;&gt; &lt;i class=&#34;el-icon-location&#34;&gt;&lt;/i&gt; &lt;span slot=&#34;title&#34;&gt;导航一&lt;/span&gt; &lt;/template&gt; &lt;el-menu-item-group&gt; &lt;span slot=&#34;title&#34;&gt;分组一&lt;/span&gt; &lt;el-menu-item index=&#34;1-1&#34;&gt;选项1&lt;/el-menu-item&gt; &lt;el-menu-item index=&#34;1-2&#34;&gt;选项2&lt;/el-menu-item&gt; &lt;/el-menu-item-group&gt; &lt;el-menu-item-group title=&#34;分组2&#34;&gt; &lt;el-menu-item index=&#34;1-3&#34;&gt;选项3&lt;/el-menu-item&gt; &lt;/el-menu-item-group&gt; &lt;el-submenu index=&#34;1-4&#34;&gt; &lt;span slot=&#34;title&#34;&gt;选项4&lt;/span&gt; &lt;el-menu-item index=&#34;1-4-1&#34;&gt;选项1&lt;/el-menu-item&gt; &lt;/el-submenu&gt; &lt;/el-submenu&gt; &lt;el-menu-item index=&#34;2&#34;&gt; &lt;i class=&#34;el-icon-menu&#34;&gt;&lt;/i&gt; &lt;span slot=&#34;title&#34;&gt;导航二&lt;/span&gt; &lt;/el-menu-item&gt; &lt;el-menu-item index=&#34;3&#34; disabled&gt; &lt;i class=&#34;el-icon-document&#34;&gt;&lt;/i&gt; &lt;span slot=&#34;title&#34;&gt;导航三&lt;/span&gt; &lt;/el-menu-item&gt; &lt;el-menu-item index=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/f2d5e8da526d678e3d1c8f80877a7e45/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-11T20:05:54+08:00" />
<meta property="article:modified_time" content="2023-07-11T20:05:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue通用后台管理系统（二）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><img alt="" height="1064" src="https://images2.imgbox.com/bd/25/PdVkeoKK_o.png" width="1200"></h2> 
<p>要实现的页面 </p> 
<h2>二、整体ui的搭建</h2> 
<h3>1. Container布局容器</h3> 
<p>使用element-ui中的Container布局容器进行整体ui的搭建：在element-ui中选取一个组件样式然后引入到main.vue组件中</p> 
<p>（1）全局引入element-ui</p> 
<p><img alt="" height="507" src="https://images2.imgbox.com/6f/55/m9ZdRneX_o.png" width="673"></p> 
<p> （2）在main.vue中使用想要引入的Container布局容器代码</p> 
<p><img alt="" height="568" src="https://images2.imgbox.com/f1/0a/9VZZcEvG_o.png" width="719"></p> 
<p> （3）基本页面布局的效果</p> 
<p><img alt="" height="266" src="https://images2.imgbox.com/62/d5/JLVv8gVX_o.png" width="423"></p> 
<p> Aside:菜单区（导航区），Header：标题区，Home:内容区</p> 
<h4>1.1 菜单区的实现</h4> 
<h5>（1）左侧菜单栏的引入</h5> 
<p>利用element-ui中的组件库实现左侧菜单栏的引入：</p> 
<p><img alt="" height="83" src="https://images2.imgbox.com/ce/56/7AqAl7rR_o.png" width="205"></p> 
<p><span style="color:#fe2c24;"> 注意：</span>组件拆分：具有单一功能的页面将其拆分为单独的组件，这样可以方便后面代码的维护</p> 
<p>所以，我们需要在components文件夹中新建CommonAside.vue组件，然后将在element-ui中选取的NavMenu导航菜单的代码部分复制进去，并进行格式的调整。</p> 
<pre><code class="language-javascript">// src/components/CommonAside.vue

&lt;template&gt;
    &lt;el-menu default-active="1-4-1" class="el-menu-vertical-demo" @open="handleOpen" @close="handleClose" :collapse="isCollapse"&gt;
      &lt;el-submenu index="1"&gt;
        &lt;template slot="title"&gt;
          &lt;i class="el-icon-location"&gt;&lt;/i&gt;
          &lt;span slot="title"&gt;导航一&lt;/span&gt;
        &lt;/template&gt;
        &lt;el-menu-item-group&gt;
          &lt;span slot="title"&gt;分组一&lt;/span&gt;
          &lt;el-menu-item index="1-1"&gt;选项1&lt;/el-menu-item&gt;
          &lt;el-menu-item index="1-2"&gt;选项2&lt;/el-menu-item&gt;
        &lt;/el-menu-item-group&gt;
        &lt;el-menu-item-group title="分组2"&gt;
          &lt;el-menu-item index="1-3"&gt;选项3&lt;/el-menu-item&gt;
        &lt;/el-menu-item-group&gt;
        &lt;el-submenu index="1-4"&gt;
          &lt;span slot="title"&gt;选项4&lt;/span&gt;
          &lt;el-menu-item index="1-4-1"&gt;选项1&lt;/el-menu-item&gt;
        &lt;/el-submenu&gt;
      &lt;/el-submenu&gt;
      &lt;el-menu-item index="2"&gt;
        &lt;i class="el-icon-menu"&gt;&lt;/i&gt;
        &lt;span slot="title"&gt;导航二&lt;/span&gt;
      &lt;/el-menu-item&gt;
      &lt;el-menu-item index="3" disabled&gt;
        &lt;i class="el-icon-document"&gt;&lt;/i&gt;
        &lt;span slot="title"&gt;导航三&lt;/span&gt;
      &lt;/el-menu-item&gt;
      &lt;el-menu-item index="4"&gt;
        &lt;i class="el-icon-setting"&gt;&lt;/i&gt;
        &lt;span slot="title"&gt;导航四&lt;/span&gt;
      &lt;/el-menu-item&gt;
    &lt;/el-menu&gt;
&lt;/template&gt;

&lt;script&gt;
    export default {
        data() {
            return {
                isCollapse: true
            };
        },
        methods: {
            handleOpen(key, keyPath) {
                console.log(key, keyPath);
            },
            handleClose(key, keyPath) {
                console.log(key, keyPath);
            }
        }
    }
&lt;/script&gt;

&lt;style&gt;
    .el-menu-vertical-demo:not(.el-menu--collapse) {
        width: 200px;
        min-height: 400px;
    }
&lt;/style&gt;</code></pre> 
<p>然后，在Main.vue组件中引入并使用CommonAside组件</p> 
<p><img alt="" height="791" src="https://images2.imgbox.com/23/db/00QIdlJj_o.png" width="792"></p> 
<p> 最后呈现的结果如下：</p> 
<p><img alt="" height="266" src="https://images2.imgbox.com/17/57/cQPImsPx_o.png" width="561"></p> 
<h5>（2）一级菜单的实现</h5> 
<blockquote> 
 <p>左侧菜单分为两种：一种是有子菜单，另一种是没有子菜单----菜单层级</p> 
 <p>点击菜单栏的时候要进行高亮显示、菜单栏默认展开----要实现的功能</p> 
</blockquote> 
<p>① 将菜单栏设置为默认展开</p> 
<p>关于如何实现展开和折叠：查看element-ui官方文档（掌握在官方文档中查看引入组件标签中的属性<strong>Attribute</strong>）</p> 
<p><img alt="" height="240" src="https://images2.imgbox.com/28/e4/aebbYjZt_o.png" width="911"></p> 
<p> <img alt="" height="179" src="https://images2.imgbox.com/e7/3a/CJgPZ4NX_o.png" width="427"></p> 
<p> <img alt="" height="593" src="https://images2.imgbox.com/9d/b4/lcdddsmH_o.png" width="678"></p> 
<p> ② 修改导航栏的位置：将导航一和导航二进行交换，然后删除导航三和导航四部分</p> 
<p>同时需要根据要实现的样式去修改引入的CommonAside.vue的样式，修改后的样式如下：</p> 
<p><img alt="" height="427" src="https://images2.imgbox.com/cf/3e/6i97CXco_o.png" width="595"></p> 
<p> ③渲染页面内容-数据分组</p> 
<p>判断有没有子菜单，是根据有没有children来判断的</p> 
<p><span style="color:#fe2c24;">计算属性：</span>数据不能写死，因为对于不同账号设置的权限可能不一样，需要调用数据接口去使用数据。所以数据是动态的，在数据发生变化时，需要根据依赖（<span style="color:#fe2c24;">依赖当前menuData的变化</span>）去修改数据，此时需要使用计算属性</p> 
<p>计算属性需要实现的功能：<span style="color:#fe2c24;">对数据进行过滤分组</span>：一组是没有子菜单，一组是有子菜单</p> 
<p>key：标识当前标签元素的唯一性</p> 
<p><img alt="" height="332" src="https://images2.imgbox.com/0d/42/8rv3IUPN_o.png" width="764"></p> 
<p> <img alt="" height="128" src="https://images2.imgbox.com/5e/3c/Ckoc7mVq_o.png" width="1018"></p> 
<p> 最后呈现的效果如下：</p> 
<p><img alt="" height="443" src="https://images2.imgbox.com/77/2d/RZSbKp3I_o.png" width="471"></p> 
<h5> （3）二级菜单的实现</h5> 
<p>二级菜单和一级菜单一样：显示内容也是包含图标和数据内容----依旧使用element-ui组件</p> 
<p>二级菜单与一级菜单的区别：二级菜单比一级菜单多了一个子菜单需要渲染</p> 
<p>所以分别实现两级菜单的数据动态渲染即可，操作步骤同上</p> 
<p><img alt="" height="288" src="https://images2.imgbox.com/64/01/3v0d6AGM_o.png" width="1115"></p> 
<p><img alt="" height="461" src="https://images2.imgbox.com/c2/9c/frURdXOU_o.png" width="525"></p> 
<h5>（4）菜单样式与less引入</h5> 
<p>① 调整风格：修改左侧菜单栏的字体和背景样式等-----element-ui</p> 
<p><img alt="" height="308" src="https://images2.imgbox.com/b0/a1/Cx0IvTc6_o.png" width="606"></p> 
<p> ② 修改左侧菜单栏的高度：使其铺满整个页面</p> 
<p><img alt="" height="265" src="https://images2.imgbox.com/47/42/e9lCXxN4_o.png" width="1200"></p> 
<p> ③ 引入less</p> 
<p>下载less：npm i less@4.1.2      npm i less-loader@6.0.0  -----注意版本</p> 
<p>引入less，并进行代码改写：（scoped:让样式只作用于当前部分）</p> 
<p><img alt="" height="431" src="https://images2.imgbox.com/79/ff/oXzuUCyp_o.png" width="708"></p> 
<p> 设置h3（通用后台系统的相关样式、字体大小，左右边距等）</p> 
<pre><code class="language-javascript">// 文字居中
text-align: center;
line-height: 48px;
font-size:16px;
font-weight: 400;</code></pre> 
<h5> （5）菜单点击跳转功能实现</h5> 
<p>先配置相关路由组件，然后再在src/routes/index.js中引入路由</p> 
<p>路由跳转：根据数据判断当前需要跳转的位置，所以需要传参--传入当前收到的数据Item</p> 
<p>绑定点击事件：</p> 
<p><img alt="" height="421" src="https://images2.imgbox.com/3f/70/22EWNIt7_o.png" width="1200"></p> 
<p> <img alt="" height="182" src="https://images2.imgbox.com/61/ed/z3UXAeP3_o.png" width="487"></p> 
<p><span style="color:#fe2c24;">重定向</span>：当前跳转的路由的路径是"/"时，使其跳转到Home路由组件中：src/rputes/index.js</p> 
<p><img alt="" height="218" src="https://images2.imgbox.com/21/fd/MSzPRc0c_o.png" width="622"></p> 
<h4> 1.2 Header组件的实现</h4> 
<h5>（1）header组件搭建与样式调整</h5> 
<blockquote> 
 <p><span style="color:#fe2c24;">问题：</span>重复点击同一个路由进行跳转时会报错</p> 
 <p><span style="color:#fe2c24;">解决方法：</span>在进行路由跳转时进行判断：如果是跳转到当前路由则不跳转，如果不是则跳转</p> 
</blockquote> 
<pre><code class="language-javascript">//编程式导航
//当页面的路由与跳转的路由不一致时才允许跳转
if (this.$route.path != item.path &amp;&amp; !(this.$route.path === '/home' &amp;&amp; (item.path === '/'))) {
    this.$router.push(item.path)
}  </code></pre> 
<p>header组件搭建：①在components文件夹中创建CommonHeader.vue组件，并写一些基本样式</p> 
<p><img alt="" height="613" src="https://images2.imgbox.com/b8/7b/1ZUtDgMk_o.png" width="648"></p> 
<p> ② 在Main.vue组件中引入header组件</p> 
<p><img alt="" height="922" src="https://images2.imgbox.com/97/e8/3Wma0ISJ_o.png" width="817"></p> 
<p> ③ 使用element-ui相关组件进行header组件的样式调整</p> 
<pre><code class="language-javascript"> //引入按钮、图标并进行size的属性设置
&lt;el-button icon="el-icon-menu" size="mini"&gt;&lt;/el-button&gt;</code></pre> 
<pre><code class="language-javascript">//设置按钮边距
padding: 0 20px;
//使按钮垂直居中：flex布局
display: flex;
justify-content: space-between;
align-items: center;  //垂直居中</code></pre> 
<pre><code class="language-javascript">//左侧
&lt;div class="l-content"&gt;
     &lt;el-button icon="el-icon-menu" size="mini"&gt;&lt;/el-button&gt;
     &lt;!-- 面包屑 --&gt;
     &lt;span class="text"&gt;首页&lt;/span&gt;
&lt;/div&gt;

.header-container {
    padding: 0 20px;
    background-color: #333;
    height: 60px;
    display: flex;
    justify-content: space-between;
    align-items: center;  //垂直居中
}
.text {
    color:#fff;
    font-size: 14px;
    margin-left: 10px;
}</code></pre> 
<pre><code class="language-javascript">//右侧
&lt;div class="r-content"&gt;
   &lt;el-dropdown&gt;
      &lt;span class="el-dropdown-link"&gt;
          &lt;img  class="user" src="../assets/images/user.png" alt=""&gt;
      &lt;/span&gt;
      &lt;el-dropdown-menu slot="dropdown"&gt;
          &lt;el-dropdown-item&gt;个人中心&lt;/el-dropdown-item&gt;
          &lt;el-dropdown-item&gt;退出&lt;/el-dropdown-item&gt;
      &lt;/el-dropdown-menu&gt;
   &lt;/el-dropdown&gt;
&lt;/div&gt;
.r-content {
    .user {
        width: 40px;
        height: 40px;
        border-radius: 50%;  //圆角
    }
}</code></pre> 
<p><img alt="" height="278" src="https://images2.imgbox.com/6f/b4/pGYUuDGI_o.png" width="1200"></p> 
<h4> 1.3 vuex实现左侧折叠</h4> 
<p>状态修改牵扯到两个组件的变化：组件通信---vuex（<span style="color:#fe2c24;">需要复习</span>）</p> 
<p>安装vuex：npm i vuex@3.6.2 ---注意版本</p> 
<p>①创建store并将其挂载到vue上--模块化</p> 
<p><img alt="" height="394" src="https://images2.imgbox.com/f7/23/exF9gcUq_o.png" width="526"></p> 
<p> <img alt="" height="603" src="https://images2.imgbox.com/72/76/KrgxKoyx_o.png" width="554"></p> 
<p><img alt="" height="394" src="https://images2.imgbox.com/08/ba/gLxVN7eW_o.png" width="722"></p> 
<p>②使用store：在header组件中加入点击事件，当点击button按钮时去触发state的修改，此时就需要调用mutations中的collapseMenu方法，然后进行state的状态修改</p> 
<p>然后state的状态发生变化后，需要在aside组件获取变化后的state并使用</p> 
<p><img alt="" height="667" src="https://images2.imgbox.com/ad/5c/CnkaB8ou_o.png" width="1158"></p> 
<p><img alt="" height="688" src="https://images2.imgbox.com/55/c9/Wgee94am_o.png" width="955"></p> 
<p> 左侧折叠遗留问题：折叠之后的名称需要改变，同时header组件需要占满整个一行</p> 
<p><img alt="" height="351" src="https://images2.imgbox.com/dd/d6/3qvicVC0_o.png" width="500"></p> 
<p> 第一个问题解决：</p> 
<pre><code class="language-javascript">&lt;h3&gt;{<!-- -->{ isCollapse ? '后台':'通用后台管理系统' }}&lt;/h3&gt;</code></pre> 
<p>第二个问题解决：</p> 
<p><img alt="" height="226" src="https://images2.imgbox.com/ad/ac/rM8dpyFO_o.png" width="497"></p> 
<p> 最终呈现效果：</p> 
<p><img alt="" height="285" src="https://images2.imgbox.com/37/ba/LWcPIFHM_o.png" width="316"></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/47e454c77dc74818b1d1a176516e3e01/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ChatGPT 简介</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c09a88b6ded6f0bb07f755b707fd7298/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">node.js 多进程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>