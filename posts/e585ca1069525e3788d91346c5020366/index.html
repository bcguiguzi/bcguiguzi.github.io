<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android Studio JSON数据的初始化与解析访问 （JSON对象、JSON数组） - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android Studio JSON数据的初始化与解析访问 （JSON对象、JSON数组）" />
<meta property="og:description" content="Android Studio中有JSONObject和JSONArray两种数据结构。JSONObject是数据对象，是下图展示的类型。即一个{}中有若干个属性和属性对应的值。
JSONArray是json数组。为如下的形式。一个[]中有若干个JSON对象，可看做数组的元素。
一、Json的初始化 如果要初始化一个Json对象，逐次使用JSONObject.put()函数即可。函数的第一个参数为属性名，第二个参数为属性的值。一个Json对象中如有多个属性，对一个Json对象连续使用若干次JSONObject.put()函数即可。
JSONObject json1 = new JSONObject(); JSONObject json2 = new JSONObject(); try { json2.put(&#34;2&#34;, 2); json2.put(&#34;3&#34;, 3); json1.put(&#34;one&#34;, &#34;xxx&#34;); json1.put(&#34;two&#34;, &#34;yyy&#34;); json1.put(&#34;four&#34;, json2); } catch (JSONException e) { e.printStackTrace(); } Log.e(&#34;结果&#34;,json1.toString());//以字符串形式输出 执行上面的代码初始化JSON变量，可以发现JSON1的结果如下所示。json对象中某个元素对应的值可以是数字、字符串，也可以是JSON变量。
JSON数组可以看做是一个数组，数组的元素是JSON对象。因此JSON数组的初始化方法类似。先用上述方法初始化每个json对象。再初始化一个新的JSON数组，用JSONArray.put()函数把前面初始化的JSON对象压入数组。
以下面的代码为例：
JSONObject json0 = new JSONObject();//json对象（数组元素） JSONObject json1 = new JSONObject();//json对象（数组元素） JSONArray json = new JSONArray();//json数组 try { json0.put(&#34;2&#34;, 2); json0.put(&#34;3&#34;, 3);//初始化元素0的json变量 json1.put(&#34;one&#34;, &#34;xxx&#34;); json1.put(&#34;two&#34;, &#34;yyy&#34;); json1.put(&#34;four&#34;, json0);//初始化元素1的json变量 json.put(json0);//元素0压入数组 json.put(json1);//元素1压入数组 } catch (JSONException e) { e." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/e585ca1069525e3788d91346c5020366/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-18T20:02:51+08:00" />
<meta property="article:modified_time" content="2022-06-18T20:02:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android Studio JSON数据的初始化与解析访问 （JSON对象、JSON数组）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>        Android Studio中有JSONObject和JSONArray两种数据结构。JSONObject是数据对象，是下图展示的类型。即一个{}中有若干个属性和属性对应的值。</p> 
<p class="img-center"><img alt="" height="215" src="https://images2.imgbox.com/39/50/NqwZ0C7m_o.png" width="370"></p> 
<p>JSONArray是json数组。为如下的形式。一个[]中有若干个JSON对象，可看做数组的元素。</p> 
<p class="img-center"><img alt="" height="279" src="https://images2.imgbox.com/72/1f/K6jyfpig_o.png" width="281"></p> 
<h4>一、Json的初始化</h4> 
<p>        如果要初始化一个Json对象，逐次使用<strong>JSONObject.put()</strong>函数即可。函数的第一个参数为属性名，第二个参数为属性的值。一个Json对象中如有多个属性，对一个Json对象连续使用若干次JSONObject.put()函数即可。</p> 
<pre><code class="language-java">JSONObject json1 = new JSONObject();
JSONObject json2 = new JSONObject();
try {
    json2.put("2", 2);
    json2.put("3", 3);
    json1.put("one", "xxx");
    json1.put("two", "yyy");
    json1.put("four", json2);
} catch (JSONException e) {
    e.printStackTrace();
}
Log.e("结果",json1.toString());//以字符串形式输出</code></pre> 
<p>        执行上面的代码初始化JSON变量，可以发现JSON1的结果如下所示。json对象中某个元素对应的值可以是数字、字符串，也可以是JSON变量。</p> 
<p class="img-center"><img alt="" height="106" src="https://images2.imgbox.com/89/44/q2Rvj4v0_o.png" width="557"></p> 
<p>         JSON数组可以看做是一个数组，数组的元素是JSON对象。因此JSON数组的初始化方法类似。先用上述方法初始化每个json对象。再初始化一个新的JSON数组，用JSONArray.put()函数把前面初始化的JSON对象压入数组。</p> 
<p>        以下面的代码为例：</p> 
<pre><code class="language-java">JSONObject json0 = new JSONObject();//json对象（数组元素）
JSONObject json1 = new JSONObject();//json对象（数组元素）
JSONArray json = new JSONArray();//json数组
try {
    json0.put("2", 2);
    json0.put("3", 3);//初始化元素0的json变量

    json1.put("one", "xxx");
    json1.put("two", "yyy");
    json1.put("four", json0);//初始化元素1的json变量

    json.put(json0);//元素0压入数组
    json.put(json1);//元素1压入数组
} catch (JSONException e) {
    e.printStackTrace();
}
Log.e("结果",json.toString());//字符串形式输出</code></pre> 
<p>         执行后JSON数组的值如下，有两个数组元素，每个数组元素都是JSON对象。</p> 
<p><img alt="" height="124" src="https://images2.imgbox.com/a6/ad/n5K7QtWO_o.png" width="717"></p> 
<h4> 二、JSON的访问</h4> 
<p>        JSON型是数据，无论是JSON对象还是JSON数组，都可以转化为字符串的形式。前面的输出均通过<strong>JsonObject/JsonArray.toString()</strong>，将JSON转化为了字符串。</p> 
<p>        如果想对<strong>JSON对象</strong>的某个确定的属性或元素进行访问，可以使用<strong>getJSONObject()</strong>和<strong>getString()</strong>函数实现。<strong>getJSONObject可以获取json对象中某个特定属性对应的<span style="color:#fe2c24;">json对象</span></strong>，参数为属性名。<strong>getString()可以获取json对象中某个特定属性对应的<span style="color:#fe2c24;">字符串</span></strong>，参数也为属性名。</p> 
<p>        在使用时要理清JSON对象的结构，确定需要提取的内容是数据元素还是JSON对象。以这个JSON对象为例。想要访问到属性为“four”对应的这个JSON对象中属性为”2“的这个元素，需要使用的代码如下，为JSONObject.getJSONObject("four").getString("2")：</p> 
<p class="img-center"><img alt="" height="136" src="https://images2.imgbox.com/64/94/yXJcpGy0_o.png" width="564"></p> 
<p></p> 
<pre><code class="language-java">try {
      Log.e("结果",json1.getJSONObject("four").getString("2").toString());
     } catch (JSONException e) {
            e.printStackTrace();
     }</code></pre> 
<p>        对JSON数组进行访问的时候，可以先使用<strong>getJSONObject()</strong>函数提取某一个数组元素，括号中的参数为元素序号（数组下标），再使用上面访问JSON对象的方法。以下面这个json数组为例：</p> 
<p><img alt="" height="124" src="https://images2.imgbox.com/96/bb/pKW6ZQfJ_o.png" width="717"></p> 
<p>        使用下面的代码对上面的json数组进行操作，会访问到（输出）第0个数组元素，即一个json对象。<strong>注意，下面的代码：json.getJSONObject(0)已经提取出json对象了，toString()只是用于将JSON对象转化为字符串，用于输出。</strong></p> 
<p></p> 
<pre><code class="language-java">try {
            Log.e("结果",json.getJSONObject(0).toString());
        } catch (JSONException e) {
            e.printStackTrace();
        }//json.getJSONObject(0)以及提取出json对象了，toString()只是用于转化为字符串，用于输出</code></pre> 
<p></p> 
<p class="img-center"><img alt="" height="114" src="https://images2.imgbox.com/2e/cb/YKpr94VL_o.png" width="356"></p> 
<p></p> 
<h4><strong>三、总结</strong></h4> 
<p>        1.常用的关于操作JSON数据类型的函数：<strong><span style="color:#fe2c24;">put()、getJSONObject()、getString()。</span></strong></p> 
<p><strong><span style="color:#fe2c24;">        </span></strong><span style="color:#0d0016;">2.JSON数据类型通过上述方法进行提取后，数据类型全部变成了字符串，需要转化回原来的数据类型。</span></p> 
<p>        3.使用JSON型数据的各项操作时<strong>需要使用一系列异常处理</strong>，在Android Studio中均予以了提示，按照系统提示操作即可。</p> 
<p></p> 
<p style="text-align:center;"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/04d00090bf5684043e10dbaef1bdc441/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">树莓派4B上多版本python切换（一）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/551d116d60c7d619952bd1c341646125/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">图像分割与边缘提取Matlab实现</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>