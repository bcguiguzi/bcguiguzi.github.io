<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>重构代码的 5 个 Xcode 技巧 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="重构代码的 5 个 Xcode 技巧" />
<meta property="og:description" content="作为一名开发人员，有时重构代码比写代码的时间都要多，所以知道如何重构一段代码是开发者需要掌握的一项非常重要的技能之一。它还有很多的好处，例如：
有了重构思维，我们从一开始就能有意识的去编写更简洁、更安全的代码提高代码的可测试性可以更好的进行 code review 另外，还有专门的书籍和网站去介绍如何进行代码重构。
所以，今天就来分享使用 Xcode 去重构代码的 5 个小技巧。
1. 批量重命名 给属性、参数、方法、类取个好名字不仅可以一看到名字就知道是干什么的，还有利于后期的维护和交接，想想如果变量名都是 test1、test2 之类的，当需求变更，再回头看代码，是有多么的糟心。
那如果想给它们更名，但是调用的地方又比较多，需要怎么重命名呢？有同学说全局替换，emmm… 不够优雅，而且容易替换错。
有两种重命名的场景：
rename 适合全局替换的场景。比如，某个方法被多个类调用。就可以使用 Xcode 自带的 rename 特性。只需要右键重命名的对象，即可调出 rename 特性。
点及 rename 后，Xcode 会搜索所有需要重命名的地方，搜索完成后会高亮显示。编辑高亮部分，点击右上角 rename 就重命名成功啦。
Edit All in Scope 适合重命名的对象只在当前文件中被使用。这种情况下，Xcode 只会搜索当前文件内需要重命名的地方，然后高亮显示。修改好后，回车即可重命名成功。
2. Generate Memberwise Initializer 特别是处理模块、sdk和一些库的时候，不能完全依赖于初始化程序的自动合成。很多时候，我们需要创建自己的公共初始化器，不过就需要复制粘贴各个属性，比较麻烦。还好，Xcode 有一个方便的特性，可以自动创建按成员变量顺序的初始化器。
右键需要 init 的类型，选择 Refactor，然后再选择 Generate Memberwise Initializer。
Xcode 使用 internal 关键字在类型声明的正下方创建初始化器。我们可以将关键字更改为 public (或者我们需要的值) ，然后在需要的地方剪切和粘贴。
3. Add Missing Switch Cases 有时我们定义的枚举的 cases 太多，如果对其遍历，手动写每个 case 势必会很浪费时间。那么有什么方法可以自动填充所有 case 呢？" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/3c3837b9926df54cab9e83853daba5ae/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-09T09:32:42+08:00" />
<meta property="article:modified_time" content="2021-11-09T09:32:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">重构代码的 5 个 Xcode 技巧</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-kimbie-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><a href="https://juejin.cn/post/7025528600300371975" rel="nofollow">作为一名开发人员</a>，有时重构代码比写代码的时间都要多，所以知道如何重构一段代码是开发者需要掌握的一项非常重要的技能之一。它还有很多的好处，例如：</p> 
<ul><li>有了重构思维，我们从一开始就能有意识的去编写更简洁、更安全的代码</li><li>提高代码的可测试性</li><li>可以更好的进行 code review</li></ul> 
<blockquote> 
 <p>另外，还有专门的书籍和网站去介绍如何进行代码重构。</p> 
</blockquote> 
<p>所以，今天就来分享使用 Xcode 去重构代码的 5 个小技巧。</p> 
<h2><a id="1__10"></a>1. 批量重命名</h2> 
<p><strong>给属性、参数、方法、类取个好名字</strong>不仅可以<strong>一看到名字就知道是干什么的</strong>，<strong>还有利于后期的维护和交接</strong>，想想如果变量名都是 test1、test2 之类的，当需求变更，再回头看代码，是有多么的糟心。</p> 
<p>那如果想给它们更名，但是调用的地方又比较多，需要怎么重命名呢？有同学说全局替换，emmm… 不够优雅，而且容易替换错。</p> 
<p>有两种重命名的场景：</p> 
<ul><li>rename</li></ul> 
<p><strong>适合全局替换的场景</strong>。比如，某个方法被多个类调用。就可以使用 Xcode 自带的 rename 特性。只需要右键重命名的对象，即可调出 rename 特性。</p> 
<p>点及 rename 后，Xcode 会搜索所有需要重命名的地方，搜索完成后会高亮显示。编辑高亮部分，点击右上角 rename 就重命名成功啦。</p> 
<ul><li>Edit All in Scope</li></ul> 
<p><strong>适合重命名的对象只在当前文件中被使用</strong>。这种情况下，Xcode 只会搜索当前文件内需要重命名的地方，然后高亮显示。修改好后，回车即可重命名成功。</p> 
<h2><a id="2_Generate_Memberwise_Initializer_29"></a>2. Generate Memberwise Initializer</h2> 
<p>特别是处理模块、sdk和一些库的时候，不能完全依赖于初始化程序的自动合成。很多时候，我们需要创建自己的公共初始化器，不过就需要复制粘贴各个属性，比较麻烦。还好，Xcode 有一个方便的特性，可以自动创建按成员变量顺序的初始化器。</p> 
<p><strong>右键需要 init 的类型，选择 Refactor，然后再选择 Generate Memberwise Initializer。</strong></p> 
<p>Xcode 使用 internal 关键字在类型声明的正下方创建初始化器。我们可以将关键字更改为 public (或者我们需要的值) ，然后在需要的地方剪切和粘贴。</p> 
<h2><a id="3_Add_Missing_Switch_Cases_38"></a>3. Add Missing Switch Cases</h2> 
<p>有时我们定义的枚举的 cases 太多，如果对其遍历，手动写每个 case 势必会很浪费时间。那么有什么方法可以自动填充所有 case 呢？</p> 
<p>对于 OC 来说，在写好 switch 语法后，右键 switch，既可选择 Add Missing Switch Cases 即可自动填充所有 case，真香~</p> 
<p>但是还不够香，对于 Swift 来说，不用写 switch 语法，只需要输入 switch 枚举变量名，回车即可自动填充所有 case。</p> 
<h2><a id="4__47"></a>4. 多行编辑</h2> 
<p>某些情况下，我们要在不同的代码行编写相同的代码，面向 CV 又不是那么的高大上。这时，我们就可以用非常炫酷的快捷键打法来实现。</p> 
<p>比如，下面的演示动画，批量把元素加到当前 view 上。</p> 
<ul><li>按住 option + shift 结合鼠标左键选择激活多行编辑</li><li>option 和 shift 别松开，点击右键，选中变量</li><li>松开 option 和 shift，然后复制粘贴</li><li>最后就可以批量输入相同的代码啦~</li></ul> 
<h2><a id="5_Find_Call_Hierarchy_58"></a>5. Find Call Hierarchy</h2> 
<p>我们在看代码时，有时需要知道函数或变量被调用的所有位置。那么就可以右键方法名称，找到Find Call Hierarchy，在 Xcode 左侧就会出现该方法的调用层级。这样就很方便的知道代码是如何工作的。</p> 
<h2><a id="_63"></a>结语</h2> 
<p>以上就是在重构和日常开发中，我觉得非常实用的几个小技巧啦。我也觉得熟练的运用开发工具，可以让我们的开发过程更加的舒服。小伙伴们不妨试一试哦~</p> 
<p>也欢迎大家把自己觉得非常好用的一个特性在评论区分享哦~</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8ca1337a805ac00f8b0b34f24aa8e508/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">时间序列分析（2）| ARMA模型的（偏）自相关函数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/84551eb1af0be15c541669b33a525c07/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">QT 在Linux下面编写一个串口同步通信的demo(QserialPort)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>