<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>集群聊天服务器：集群与分布式理论 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="集群聊天服务器：集群与分布式理论" />
<meta property="og:description" content="前言 在聊天服务器项目中实现了集群，在这里根据该项目来讲解一下单机、集群与分布式理论。
文章目录 前言单机服务器集群服务器分布式系统 单机服务器 图示：
单机服务器的性能瓶颈：
所能承受的用户并发量受限于硬件资源，32位Linux最多支持两万并发量。运维困难，任意模块的修改都需要整个项目的重新编译、部署。系统中，有些模块属于CPU密集型，有些模块属于I/O密集型的。造成各模块对硬件资源的需求是不同的。 集群服务器 集群：每一台服务器独立运行一个工程的所有模块。
优点：
性能提升了，用户的并发量提升了；部署方式简单（扩充多台服务器）。
缺点：
项目代码还是需要重新编译，而且需要多次部署。后台管理模块用户本来就不多，所以根本不需要高并发，但却部署在了多台服务器上。 分布式系统 分布式：一个工程拆分了很多模块，每一个模块独立部署运行在一个服务器主机上，所有服务器协同工作共同提供服务，每一台服务器称作分布式的一个节点，根据节点的并发要求，对一个节点可以再做节点模块集群部署。
分布式系统解决了单机服务器的缺点：
解决了并发能力，而且如果想要在提升并发量的话，可针对性的改良，比如对如图所示的分布式结点1进行扩充多台服务器。运维方便，某个业务出现bug，只需要对相对应的结点进行重新编译、部署。有些业务属于CPU密集型，有些属于I/O密集型，可以将CPU密集型的业务部署在CPU性能强的机器上，其他资源可以相对弱一些；I/O密集型的业务部署在内存和磁盘性能强的机器上。这样的设计，系统和成本都得到了优化。 问题：
4. 大系统的软件模块该怎么划分？因为各模块可能会出现大量重复代码。
5. 各模块之间怎么访问？机器1上的模块怎么调用机器2上的模块的一个业务方法？机器1上的一个模块进程1怎么调用机器1上的模块进程2里面的一个业务方法呢？
如图：针对于这两个server之间的桥梁，就是需要实现的分布式网络通信框架。在后面的项目学习中会解决这些问题。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/2b4c4d0aadf5d737a85d46dad3afc08a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-23T20:02:29+08:00" />
<meta property="article:modified_time" content="2022-07-23T20:02:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">集群聊天服务器：集群与分布式理论</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_1"></a>前言</h2> 
<p>在聊天服务器项目中实现了集群，在这里根据该项目来讲解一下单机、集群与分布式理论。</p> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">前言</a></li><li><a href="#_6" rel="nofollow">单机服务器</a></li><li><a href="#_20" rel="nofollow">集群服务器</a></li><li><a href="#_39" rel="nofollow">分布式系统</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_6"></a>单机服务器</h2> 
<p>图示：</p> 
<p><img src="https://images2.imgbox.com/e7/c8/4HD1yMkp_o.png" alt="在这里插入图片描述"></p> 
<p>单机服务器的性能瓶颈：</p> 
<ol><li>所能承受的用户并发量受限于硬件资源，32位Linux最多支持两万并发量。</li><li>运维困难，任意模块的修改都需要整个项目的重新编译、部署。</li><li>系统中，有些模块属于CPU密集型，有些模块属于I/O密集型的。造成各模块对硬件资源的需求是不同的。</li></ol> 
<h2><a id="_20"></a>集群服务器</h2> 
<p>集群：每一台服务器独立运行一个工程的所有模块。</p> 
<p><img src="https://images2.imgbox.com/a5/71/6wN4ve4v_o.png" alt="在这里插入图片描述"></p> 
<p>优点：<br> 性能提升了，用户的并发量提升了；部署方式简单（扩充多台服务器）。</p> 
<p>缺点：</p> 
<ol><li>项目代码还是需要重新编译，而且需要多次部署。</li><li>后台管理模块用户本来就不多，所以根本不需要高并发，但却部署在了多台服务器上。</li></ol> 
<h2><a id="_39"></a>分布式系统</h2> 
<p>分布式：一个工程拆分了很多模块，每一个模块独立部署运行在一个服务器主机上，所有服务器协同工作共同提供服务，每一台服务器称作分布式的一个节点，根据节点的并发要求，对一个节点可以再做节点模块集群部署。<br> <img src="https://images2.imgbox.com/22/ac/je3yImIE_o.png" alt="在这里插入图片描述"></p> 
<p>分布式系统解决了单机服务器的缺点：</p> 
<ol><li>解决了并发能力，而且如果想要在提升并发量的话，可针对性的改良，比如对如图所示的分布式结点1进行扩充多台服务器。</li><li>运维方便，某个业务出现bug，只需要对相对应的结点进行重新编译、部署。</li><li>有些业务属于CPU密集型，有些属于I/O密集型，可以将CPU密集型的业务部署在CPU性能强的机器上，其他资源可以相对弱一些；I/O密集型的业务部署在内存和磁盘性能强的机器上。这样的设计，系统和成本都得到了优化。</li></ol> 
<p>问题：<br> 4. 大系统的软件模块该怎么划分？因为各模块可能会出现大量重复代码。<br> 5. 各模块之间怎么访问？机器1上的模块怎么调用机器2上的模块的一个业务方法？机器1上的一个模块进程1怎么调用机器1上的模块进程2里面的一个业务方法呢？</p> 
<p>如图：针对于这两个server之间的桥梁，就是需要实现的<strong>分布式网络通信框架</strong>。在后面的项目学习中会解决这些问题。<br> <img src="https://images2.imgbox.com/32/eb/0WyhnNBb_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ce02ef344c48abe116a0d336081e790a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">计算机基础-数据转换</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ad4351e3d5177cc0672196bca96f4acc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">安装snownlp包过程出现Requirement already satisfied:及Read timed out.问题解决方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>