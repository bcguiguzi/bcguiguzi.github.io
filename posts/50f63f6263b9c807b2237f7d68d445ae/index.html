<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>虹科工业树莓派：结合Codesys实现软PLC功能 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="虹科工业树莓派：结合Codesys实现软PLC功能" />
<meta property="og:description" content=" 虹科工业树莓派RevolutionPi是以树莓派计算模块为核心并进行了工业级封装的模块化智能网关与控制器，能在恶劣的工业环境下运行。其操作系统也是优化后的树莓派Raspbian系统，带有实时补丁，能更好地满足工业场合的实时性要求。
方案简介 虹科工业树莓派RevolutionPi是以树莓派计算模块为核心并进行了工业级封装的模块化智能网关与控制器，能在恶劣的工业环境下运行。其操作系统也是优化后的树莓派Raspbian系统，带有实时补丁，能更好地满足工业场合的实时性要求。
Codesys是一款是一种功能强大的PLC软件编程工具，它支持IEC61131-3标准IL 、ST、 FBD 、LD、 CFC、 SFC 六种PLC编程语言，用户可以在同一项目中选择不同的语言编辑子程序，功能模块等。通过在硬件平台上移植Runtime，可以将任何嵌入式设备或基于PC的设备转变为符合IEC 61131-3标准的工业控制器。本文将以RevPi Connect模块为例介绍如何在虹科工业树莓派RevPi上安装Codesys Runtime并进行简单的应用。
所需材料 RevPi ConnectPC（预装好Codesys IDE开发环境)Codesys Control for Raspberry Pi（可在codesys中国官网下载）Codesys Package for RevPi Family 安装Codesys Runtime 在安装Runtime之前首先需要搭建好RevPi运行环境，PC与RevPi处于同一局域网内。
打开Codesys软件，选择工具-》包管理器，安装已经下载好的Codesys Control for Raspberry Pi。安装完成之后就可以在“工具”下找到Update Raspberry Pi，进入可以看到如下界面：
输入RevPi的IP地址以及登录账号名及密码，并选择对应的Codesys Runtime Package，点击Install即可。在安装过程中需要选择单核还是多核模式，由于本次只是演示，所以选择单核模式，稍等一会安装即可完成。
建立工程 点击文件-》新建工程，选择新建一个标准工程并将工程命名为RevPiDemo。
在开始编程之前，首先需要安装Codesys Package for RevPi Family。安装方式同样是通过包管理器实现，此处不再赘述。同时在此包文件中也会包含一些工程示例。
包安装完成之后就可以向工程中添加设备了，在Device上右击，选择“添加设备”。选中Connect模块，单击“添加设备”按钮即可。然后关闭此窗口。
然后在新添加的Connect模块上右击，选择“添加设备”，选中其他项-》left并添加。
然后再left上右击添加设备即可选择自行添加IO模块。在PiBridge上右击选择“插入设备”即可插入网关模块。
设备添加完成之后，就可以开始编程了。所有已添加的设备相关的变量都可以在Codesys中显示出来并进行配置。
下载程序 程序编写完成之后，需要将程序下载到Connect模块中，在此之前需要安装好Runtime。首先双击Device，点击通讯设置》扫描网络，选择RevPi即可。
然后点击上方的登录按钮，等待将信息下载到RevPi模块即可。
总结 上面介绍的如何在RevPi上运行Codesys并建立工程的详细步骤。通过Codesys不仅可以实现将RevPi作为软PLC从而利用各种PLC编程语言进行编程外，还可以实现Canopen主站，Ethercat主站等功能。
注：
RevPi家族扩展网关模块除DMX外只提供从站模块。Codesys是一款商业软件，需要购买licence才能正常使用，未安装licence的设备有运行时间限制。 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/50f63f6263b9c807b2237f7d68d445ae/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-15T17:43:49+08:00" />
<meta property="article:modified_time" content="2021-01-15T17:43:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">虹科工业树莓派：结合Codesys实现软PLC功能</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/3b/80/hHWo3EV6_o.png" alt="在这里插入图片描述"><br> 虹科工业树莓派RevolutionPi是以树莓派计算模块为核心并进行了工业级封装的模块化智能网关与控制器，能在恶劣的工业环境下运行。其操作系统也是优化后的树莓派Raspbian系统，带有实时补丁，能更好地满足工业场合的实时性要求。</p> 
<h2><a id="_2"></a>方案简介</h2> 
<p>虹科工业树莓派RevolutionPi是以树莓派计算模块为核心并进行了工业级封装的模块化智能网关与控制器，能在恶劣的工业环境下运行。其操作系统也是优化后的树莓派Raspbian系统，带有实时补丁，能更好地满足工业场合的实时性要求。</p> 
<p>Codesys是一款是一种功能强大的PLC软件编程工具，它支持IEC61131-3标准IL 、ST、 FBD 、LD、 CFC、 SFC 六种PLC编程语言，用户可以在同一项目中选择不同的语言编辑子程序，功能模块等。通过在硬件平台上移植Runtime，可以将任何嵌入式设备或基于PC的设备转变为符合IEC 61131-3标准的工业控制器。本文将以RevPi Connect模块为例介绍如何在虹科工业树莓派RevPi上安装Codesys Runtime并进行简单的应用。</p> 
<h2><a id="_7"></a>所需材料</h2> 
<ol><li>RevPi Connect</li><li>PC（预装好Codesys IDE开发环境)</li><li>Codesys Control for Raspberry Pi（可在codesys中国官网下载）</li><li>Codesys Package for RevPi Family</li></ol> 
<h2><a id="Codesys_Runtime_13"></a>安装Codesys Runtime</h2> 
<p>在安装Runtime之前首先需要搭建好RevPi运行环境，PC与RevPi处于同一局域网内。</p> 
<p>打开Codesys软件，选择工具-》包管理器，安装已经下载好的Codesys Control for Raspberry Pi。安装完成之后就可以在“工具”下找到Update Raspberry Pi，进入可以看到如下界面：<br> <img src="https://images2.imgbox.com/8e/03/JeemZb3s_o.png" alt="在这里插入图片描述"><br> 输入RevPi的IP地址以及登录账号名及密码，并选择对应的Codesys Runtime Package，点击Install即可。在安装过程中需要选择单核还是多核模式，由于本次只是演示，所以选择单核模式，稍等一会安装即可完成。</p> 
<h2><a id="_19"></a>建立工程</h2> 
<p>点击文件-》新建工程，选择新建一个标准工程并将工程命名为RevPiDemo。<br> <img src="https://images2.imgbox.com/d8/6f/cldSjIcr_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/6d/68/M3NqSvKf_o.png" alt="在这里插入图片描述"><br> 在开始编程之前，首先需要安装Codesys Package for RevPi Family。安装方式同样是通过包管理器实现，此处不再赘述。同时在此包文件中也会包含一些工程示例。</p> 
<p>包安装完成之后就可以向工程中添加设备了，在Device上右击，选择“添加设备”。选中Connect模块，单击“添加设备”按钮即可。然后关闭此窗口。<br> <img src="https://images2.imgbox.com/8f/fb/1lIL1ZZX_o.png" alt="在这里插入图片描述"><br> 然后在新添加的Connect模块上右击，选择“添加设备”，选中其他项-》left并添加。<br> <img src="https://images2.imgbox.com/2e/38/G4eSJjDM_o.png" alt="在这里插入图片描述"><br> 然后再left上右击添加设备即可选择自行添加IO模块。在PiBridge上右击选择“插入设备”即可插入网关模块。<br> <img src="https://images2.imgbox.com/2d/6b/U34FtJKm_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/7d/57/TFViDdj2_o.png" alt="在这里插入图片描述"><br> 设备添加完成之后，就可以开始编程了。所有已添加的设备相关的变量都可以在Codesys中显示出来并进行配置。<br> <img src="https://images2.imgbox.com/1e/64/nzUi590T_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_34"></a>下载程序</h2> 
<p>程序编写完成之后，需要将程序下载到Connect模块中，在此之前需要安装好Runtime。首先双击Device，点击通讯设置》扫描网络，选择RevPi即可。<br> <img src="https://images2.imgbox.com/2b/28/VAetNSJM_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/23/bf/5VTjiMwp_o.png" alt="在这里插入图片描述"><br> 然后点击上方的登录按钮，等待将信息下载到RevPi模块即可。<br> <img src="https://images2.imgbox.com/93/d7/mhilYJME_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_40"></a>总结</h2> 
<p>上面介绍的如何在RevPi上运行Codesys并建立工程的详细步骤。通过Codesys不仅可以实现将RevPi作为软PLC从而利用各种PLC编程语言进行编程外，还可以实现Canopen主站，Ethercat主站等功能。<br> <img src="https://images2.imgbox.com/63/f6/ILlICUky_o.png" alt="在这里插入图片描述"><br> 注：</p> 
<ol><li>RevPi家族扩展网关模块除DMX外只提供从站模块。</li><li>Codesys是一款商业软件，需要购买licence才能正常使用，未安装licence的设备有运行时间限制。</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/399175f748da68b09474bc51ec71f762/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux 密钥保留服务keyring入门</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c6d212da3fb6997cd2c0d4169f0af908/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">org.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss for /</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>