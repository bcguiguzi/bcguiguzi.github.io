<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【组合计数】ARC061F Card Game for Three - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【组合计数】ARC061F Card Game for Three" />
<meta property="og:description" content="题意： 有三堆卡牌，牌数分别为N,M,K 每张牌有一个字母（’a’、’b’、’c’）表示下一个拿哪一堆。 现在要求第一堆首先拿完。求方案数。
分析： 首先，这道题有很多角度可以入手。但最简单的方法是，根据拿的牌的类型计算。 如果第一堆拿完，则拿的顺序中必然有n个a，且b的数量比m小，c的数量比k小。 但是最后一个必须限定为a，所以这部分拿了的方案数应为 Cn−1n−1&#43;i C n − 1 &#43; i n − 1 (i表示多拿的b和c的总和) 然后还要从这i个中选哪些是b，哪些是c，所以还要乘上 ∑0≤x&lt;m,0≤y&lt;k[x&#43;y=i]Cxi ∑ 0 ≤ x &lt; m , 0 ≤ y &lt; k [ x &#43; y = i ] C i x 所以有如下式子： Ans=∑i&lt;m&#43;ki=0Cn−1n−1&#43;i3m&#43;k−i∑0≤x&lt;m,0≤y&lt;k[x&#43;y=i]Cxi A n s = ∑ i = 0 i &lt; m &#43; k C n − 1 &#43; i n − 1 3 m &#43; k − i ∑ 0 ≤ x &lt; m , 0 ≤ y &lt; k [ x &#43; y = i ] C i x 然后这就可以拿所谓的部分分了。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/08ee26e18c223b8a96c65d7570f47bad/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-07-19T21:00:55+08:00" />
<meta property="article:modified_time" content="2018-07-19T21:00:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【组合计数】ARC061F Card Game for Three</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4 id="题意">题意：</h4> 
<p>有三堆卡牌，牌数分别为N,M,K <br> 每张牌有一个字母（’a’、’b’、’c’）表示下一个拿哪一堆。 <br> 现在要求第一堆首先拿完。求方案数。</p> 
<hr> 
<h4 id="分析">分析：</h4> 
<p>首先，这道题有很多角度可以入手。但最简单的方法是，根据拿的牌的类型计算。 <br> 如果第一堆拿完，则拿的顺序中必然有n个a，且b的数量比m小，c的数量比k小。 <br> 但是最后一个必须限定为a，所以这部分拿了的方案数应为<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-19-Frame" tabindex="0" style="position: relative;"> 
   
   <span class="math" id="MathJax-Span-412" style="width: 3.544em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.919em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.096em, 1002.92em, 2.659em, -999.997em); top: -2.133em; left: 0em;"><span class="mrow" id="MathJax-Span-413"><span class="msubsup" id="MathJax-Span-414"><span style="display: inline-block; position: relative; width: 2.919em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.78em, 4.169em, -999.997em); top: -4.008em; left: 0em;"><span class="mi" id="MathJax-Span-415" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1001.41em, 4.221em, -999.997em); top: -4.424em; left: 0.836em;"><span class="texatom" id="MathJax-Span-416"><span class="mrow" id="MathJax-Span-417"><span class="mi" id="MathJax-Span-418" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-419" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-420" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1002.19em, 4.221em, -999.997em); top: -3.695em; left: 0.732em;"><span class="texatom" id="MathJax-Span-421"><span class="mrow" id="MathJax-Span-422"><span class="mi" id="MathJax-Span-423" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-424" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-425" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-426" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mi" id="MathJax-Span-427" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.138em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.628em;"></span></span> 
  <span class="MJX_Assistive_MathML"> 
    
     
     
       C 
      
      
      
        n 
       
      
        − 
       
      
        1 
       
      
        + 
       
      
        i 
       
      
      
      
        n 
       
      
        − 
       
      
        1 
       
      
     
   </span></span><script type="math/tex" id="MathJax-Element-19">C_{n-1+i}^{n-1}</script>(i表示多拿的b和c的总和) <br> 然后还要从这i个中选哪些是b，哪些是c，所以还要乘上<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-20-Frame" tabindex="0" style="position: relative;"> 
   
   <span class="math" id="MathJax-Span-428" style="width: 14.169em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.773em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.253em, 1011.77em, 2.711em, -999.997em); top: -2.133em; left: 0em;"><span class="mrow" id="MathJax-Span-429"><span class="munderover" id="MathJax-Span-430"><span style="display: inline-block; position: relative; width: 5.992em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.99em, 4.43em, -999.997em); top: -4.008em; left: 0em;"><span class="mo" id="MathJax-Span-431" style="font-family: MathJax_Size1; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; top: -3.747em; left: 1.044em;"><span class="texatom" id="MathJax-Span-432"><span class="mrow" id="MathJax-Span-433"><span class="mn" id="MathJax-Span-434" style="font-size: 70.7%; font-family: MathJax_Main;">0</span><span class="mo" id="MathJax-Span-435" style="font-size: 70.7%; font-family: MathJax_Main;">≤</span><span class="mi" id="MathJax-Span-436" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-437" style="font-size: 70.7%; font-family: MathJax_Main;">&lt;</span><span class="mi" id="MathJax-Span-438" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span class="mo" id="MathJax-Span-439" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-440" style="font-size: 70.7%; font-family: MathJax_Main;">0</span><span class="mo" id="MathJax-Span-441" style="font-size: 70.7%; font-family: MathJax_Main;">≤</span><span class="mi" id="MathJax-Span-442" style="font-size: 70.7%; font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-443" style="font-size: 70.7%; font-family: MathJax_Main;">&lt;</span><span class="mi" id="MathJax-Span-444" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span><span class="mo" id="MathJax-Span-445" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-446" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-447" style="font-family: MathJax_Main; padding-left: 0.211em;">+</span><span class="mi" id="MathJax-Span-448" style="font-family: MathJax_Math-italic; padding-left: 0.211em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-449" style="font-family: MathJax_Main; padding-left: 0.263em;">=</span><span class="mi" id="MathJax-Span-450" style="font-family: MathJax_Math-italic; padding-left: 0.263em;">i</span><span class="mo" id="MathJax-Span-451" style="font-family: MathJax_Main;">]</span><span class="msubsup" id="MathJax-Span-452"><span style="display: inline-block; position: relative; width: 1.305em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.78em, 4.169em, -999.997em); top: -4.008em; left: 0em;"><span class="mi" id="MathJax-Span-453" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.544em, 1000.47em, 4.169em, -999.997em); top: -4.372em; left: 0.836em;"><span class="mi" id="MathJax-Span-454" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1000.32em, 4.169em, -999.997em); top: -3.695em; left: 0.732em;"><span class="mi" id="MathJax-Span-455" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.138em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.566em;"></span></span> 
  <span class="MJX_Assistive_MathML"> 
    
     
     
       ∑ 
      
      
      
        0 
       
      
        ≤ 
       
      
        x 
       
      
        &lt; 
       
      
        m 
       
      
        , 
       
      
        0 
       
      
        ≤ 
       
      
        y 
       
      
        &lt; 
       
      
        k 
       
      
     
    
      [ 
     
    
      x 
     
    
      + 
     
    
      y 
     
    
      = 
     
    
      i 
     
    
      ] 
     
     
     
       C 
      
     
       i 
      
     
       x 
      
     
   </span></span><script type="math/tex" id="MathJax-Element-20">\sum_{0\leq x< m,0\leq y<k}[x+y=i]C_i^x</script> <br> 所以有如下式子： <br> <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-21-Frame" tabindex="0" style="position: relative;"> 
   
   <span class="math" id="MathJax-Span-456" style="width: 29.482em; display: inline-block;"><span style="display: inline-block; position: relative; width: 24.534em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(0.992em, 1024.53em, 2.711em, -999.997em); top: -2.133em; left: 0em;"><span class="mrow" id="MathJax-Span-457"><span class="mi" id="MathJax-Span-458" style="font-family: MathJax_Math-italic;">A</span><span class="mi" id="MathJax-Span-459" style="font-family: MathJax_Math-italic;">n</span><span class="mi" id="MathJax-Span-460" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-461" style="font-family: MathJax_Main; padding-left: 0.263em;">=</span><span class="munderover" id="MathJax-Span-462" style="padding-left: 0.263em;"><span style="display: inline-block; position: relative; width: 3.492em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.99em, 4.43em, -999.997em); top: -4.008em; left: 0em;"><span class="mo" id="MathJax-Span-463" style="font-family: MathJax_Size1; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1002.4em, 4.221em, -999.997em); top: -4.477em; left: 1.044em;"><span class="texatom" id="MathJax-Span-464"><span class="mrow" id="MathJax-Span-465"><span class="mi" id="MathJax-Span-466" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-467" style="font-size: 70.7%; font-family: MathJax_Main;">&lt;</span><span class="mi" id="MathJax-Span-468" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span class="mo" id="MathJax-Span-469" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mi" id="MathJax-Span-470" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1001.2em, 4.169em, -999.997em); top: -3.747em; left: 1.044em;"><span class="texatom" id="MathJax-Span-471"><span class="mrow" id="MathJax-Span-472"><span class="mi" id="MathJax-Span-473" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-474" style="font-size: 70.7%; font-family: MathJax_Main;">=</span><span class="mn" id="MathJax-Span-475" style="font-size: 70.7%; font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-476" style="padding-left: 0.159em;"><span style="display: inline-block; position: relative; width: 2.919em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.78em, 4.169em, -999.997em); top: -4.008em; left: 0em;"><span class="mi" id="MathJax-Span-477" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1001.41em, 4.221em, -999.997em); top: -4.424em; left: 0.836em;"><span class="texatom" id="MathJax-Span-478"><span class="mrow" id="MathJax-Span-479"><span class="mi" id="MathJax-Span-480" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-481" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-482" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1002.19em, 4.221em, -999.997em); top: -3.695em; left: 0.732em;"><span class="texatom" id="MathJax-Span-483"><span class="mrow" id="MathJax-Span-484"><span class="mi" id="MathJax-Span-485" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-486" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-487" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-488" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mi" id="MathJax-Span-489" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-490"><span style="display: inline-block; position: relative; width: 2.919em; height: 0px;"><span style="position: absolute; clip: rect(3.18em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;"><span class="mn" id="MathJax-Span-491" style="font-family: MathJax_Main;">3</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; top: -4.424em; left: 0.523em;"><span class="texatom" id="MathJax-Span-492"><span class="mrow" id="MathJax-Span-493"><span class="mi" id="MathJax-Span-494" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span class="mo" id="MathJax-Span-495" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mi" id="MathJax-Span-496" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span class="mo" id="MathJax-Span-497" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mi" id="MathJax-Span-498" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span><span class="munderover" id="MathJax-Span-499" style="padding-left: 0.159em;"><span style="display: inline-block; position: relative; width: 5.992em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.99em, 4.43em, -999.997em); top: -4.008em; left: 0em;"><span class="mo" id="MathJax-Span-500" style="font-family: MathJax_Size1; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; top: -3.747em; left: 1.044em;"><span class="texatom" id="MathJax-Span-501"><span class="mrow" id="MathJax-Span-502"><span class="mn" id="MathJax-Span-503" style="font-size: 70.7%; font-family: MathJax_Main;">0</span><span class="mo" id="MathJax-Span-504" style="font-size: 70.7%; font-family: MathJax_Main;">≤</span><span class="mi" id="MathJax-Span-505" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-506" style="font-size: 70.7%; font-family: MathJax_Main;">&lt;</span><span class="mi" id="MathJax-Span-507" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span class="mo" id="MathJax-Span-508" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-509" style="font-size: 70.7%; font-family: MathJax_Main;">0</span><span class="mo" id="MathJax-Span-510" style="font-size: 70.7%; font-family: MathJax_Main;">≤</span><span class="mi" id="MathJax-Span-511" style="font-size: 70.7%; font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-512" style="font-size: 70.7%; font-family: MathJax_Main;">&lt;</span><span class="mi" id="MathJax-Span-513" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span><span class="mo" id="MathJax-Span-514" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-515" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-516" style="font-family: MathJax_Main; padding-left: 0.211em;">+</span><span class="mi" id="MathJax-Span-517" style="font-family: MathJax_Math-italic; padding-left: 0.211em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-518" style="font-family: MathJax_Main; padding-left: 0.263em;">=</span><span class="mi" id="MathJax-Span-519" style="font-family: MathJax_Math-italic; padding-left: 0.263em;">i</span><span class="mo" id="MathJax-Span-520" style="font-family: MathJax_Main;">]</span><span class="msubsup" id="MathJax-Span-521"><span style="display: inline-block; position: relative; width: 1.305em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.78em, 4.169em, -999.997em); top: -4.008em; left: 0em;"><span class="mi" id="MathJax-Span-522" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.544em, 1000.47em, 4.169em, -999.997em); top: -4.372em; left: 0.836em;"><span class="mi" id="MathJax-Span-523" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1000.32em, 4.169em, -999.997em); top: -3.695em; left: 0.732em;"><span class="mi" id="MathJax-Span-524" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.138em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.816em;"></span></span> 
  <span class="MJX_Assistive_MathML"> 
    
    
      A 
     
    
      n 
     
    
      s 
     
    
      = 
     
     
     
       ∑ 
      
      
      
        i 
       
      
        = 
       
      
        0 
       
      
      
      
        i 
       
      
        &lt; 
       
      
        m 
       
      
        + 
       
      
        k 
       
      
     
     
     
       C 
      
      
      
        n 
       
      
        − 
       
      
        1 
       
      
        + 
       
      
        i 
       
      
      
      
        n 
       
      
        − 
       
      
        1 
       
      
     
     
     
       3 
      
      
      
        m 
       
      
        + 
       
      
        k 
       
      
        − 
       
      
        i 
       
      
     
     
     
       ∑ 
      
      
      
        0 
       
      
        ≤ 
       
      
        x 
       
      
        &lt; 
       
      
        m 
       
      
        , 
       
      
        0 
       
      
        ≤ 
       
      
        y 
       
      
        &lt; 
       
      
        k 
       
      
     
    
      [ 
     
    
      x 
     
    
      + 
     
    
      y 
     
    
      = 
     
    
      i 
     
    
      ] 
     
     
     
       C 
      
     
       i 
      
     
       x 
      
     
   </span></span><script type="math/tex" id="MathJax-Element-21">Ans=\sum_{i=0}^{i<m+k}C_{n-1+i}^{n-1}3^{m+k-i}\sum_{0\leq x< m,0\leq y<k}[x+y=i]C_i^x</script> <br> 然后这就可以拿所谓的部分分了。</p> 
<p>接下来一般来说都会想怎么改进式子，然而。。。这道题的方法是，直接枚举前半部分(即i的大小)，想办法快速转移后半部分。 <br> 后半部分可以分三种情况讨论(设<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-22-Frame" tabindex="0" style="position: relative;"> 
   
   <span class="math" id="MathJax-Span-525" style="width: 3.284em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.711em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.305em, 1002.71em, 2.451em, -999.997em); top: -2.133em; left: 0em;"><span class="mrow" id="MathJax-Span-526"><span class="mi" id="MathJax-Span-527" style="font-family: MathJax_Math-italic;">k</span><span class="mo" id="MathJax-Span-528" style="font-family: MathJax_Main; padding-left: 0.263em;">≤</span><span class="mi" id="MathJax-Span-529" style="font-family: MathJax_Math-italic; padding-left: 0.263em;">m</span></span><span style="display: inline-block; width: 0px; height: 2.138em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span> 
  <span class="MJX_Assistive_MathML"> 
    
    
      k 
     
    
      ≤ 
     
    
      m 
     
   </span></span><script type="math/tex" id="MathJax-Element-22">k\leq m</script>): <br> 注：下面x表示的是拿c的个数 <br> 1、<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-23-Frame" tabindex="0" style="position: relative;"> 
   
   <span class="math" id="MathJax-Span-530" style="width: 8.284em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.878em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.044em, 1006.77em, 2.607em, -999.997em); top: -2.133em; left: 0em;"><span class="mrow" id="MathJax-Span-531"><span class="munderover" id="MathJax-Span-532"><span style="display: inline-block; position: relative; width: 2.451em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.99em, 4.43em, -999.997em); top: -4.008em; left: 0em;"><span class="mo" id="MathJax-Span-533" style="font-family: MathJax_Size1; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1001.25em, 4.273em, -999.997em); top: -4.477em; left: 1.044em;"><span class="texatom" id="MathJax-Span-534"><span class="mrow" id="MathJax-Span-535"><span class="mi" id="MathJax-Span-536" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-537" style="font-size: 70.7%; font-family: MathJax_Main;">≤</span><span class="mi" id="MathJax-Span-538" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1001.41em, 4.169em, -999.997em); top: -3.747em; left: 1.044em;"><span class="texatom" id="MathJax-Span-539"><span class="mrow" id="MathJax-Span-540"><span class="mi" id="MathJax-Span-541" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-542" style="font-size: 70.7%; font-family: MathJax_Main;">=</span><span class="mn" id="MathJax-Span-543" style="font-size: 70.7%; font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-544" style="padding-left: 0.159em;"><span style="display: inline-block; position: relative; width: 1.305em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.78em, 4.169em, -999.997em); top: -4.008em; left: 0em;"><span class="mi" id="MathJax-Span-545" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.544em, 1000.47em, 4.169em, -999.997em); top: -4.372em; left: 0.836em;"><span class="mi" id="MathJax-Span-546" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1000.32em, 4.169em, -999.997em); top: -3.695em; left: 0.732em;"><span class="mi" id="MathJax-Span-547" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span><span class="mo" id="MathJax-Span-548" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-549" style="font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-550" style="font-family: MathJax_Main; padding-left: 0.263em;">&lt;</span><span class="mi" id="MathJax-Span-551" style="font-family: MathJax_Math-italic; padding-left: 0.263em;">k</span><span class="mo" id="MathJax-Span-552" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.138em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.628em;"></span></span> 
  <span class="MJX_Assistive_MathML"> 
    
     
     
       ∑ 
      
      
      
        x 
       
      
        = 
       
      
        0 
       
      
      
      
        x 
       
      
        ≤ 
       
      
        i 
       
      
     
     
     
       C 
      
     
       i 
      
     
       x 
      
     
    
      ( 
     
    
      i 
     
    
      &lt; 
     
    
      k 
     
    
      ) 
     
   </span></span><script type="math/tex" id="MathJax-Element-23">\sum_{x=0}^{x\leq i}C_i^x(i< k)</script> 即c的数量比i还多，所以任意拿就可以了 <br> 2、<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-24-Frame" tabindex="0" style="position: relative;"> 
   
   <span class="math" id="MathJax-Span-553" style="width: 10.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.013em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(0.992em, 1008.91em, 2.607em, -999.997em); top: -2.133em; left: 0em;"><span class="mrow" id="MathJax-Span-554"><span class="munderover" id="MathJax-Span-555"><span style="display: inline-block; position: relative; width: 2.451em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.99em, 4.43em, -999.997em); top: -4.008em; left: 0em;"><span class="mo" id="MathJax-Span-556" style="font-family: MathJax_Size1; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1001.41em, 4.221em, -999.997em); top: -4.477em; left: 1.044em;"><span class="texatom" id="MathJax-Span-557"><span class="mrow" id="MathJax-Span-558"><span class="mi" id="MathJax-Span-559" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-560" style="font-size: 70.7%; font-family: MathJax_Main;">&lt;</span><span class="mi" id="MathJax-Span-561" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1001.41em, 4.169em, -999.997em); top: -3.747em; left: 1.044em;"><span class="texatom" id="MathJax-Span-562"><span class="mrow" id="MathJax-Span-563"><span class="mi" id="MathJax-Span-564" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-565" style="font-size: 70.7%; font-family: MathJax_Main;">=</span><span class="mn" id="MathJax-Span-566" style="font-size: 70.7%; font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-567" style="padding-left: 0.159em;"><span style="display: inline-block; position: relative; width: 1.305em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.78em, 4.169em, -999.997em); top: -4.008em; left: 0em;"><span class="mi" id="MathJax-Span-568" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.544em, 1000.47em, 4.169em, -999.997em); top: -4.372em; left: 0.836em;"><span class="mi" id="MathJax-Span-569" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1000.32em, 4.169em, -999.997em); top: -3.695em; left: 0.732em;"><span class="mi" id="MathJax-Span-570" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span><span class="mo" id="MathJax-Span-571" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-572" style="font-family: MathJax_Math-italic;">k</span><span class="mo" id="MathJax-Span-573" style="font-family: MathJax_Main; padding-left: 0.263em;">≤</span><span class="mi" id="MathJax-Span-574" style="font-family: MathJax_Math-italic; padding-left: 0.263em;">i</span><span class="mo" id="MathJax-Span-575" style="font-family: MathJax_Main; padding-left: 0.263em;">&lt;</span><span class="mi" id="MathJax-Span-576" style="font-family: MathJax_Math-italic; padding-left: 0.263em;">m</span><span class="mo" id="MathJax-Span-577" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.138em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.691em;"></span></span> 
  <span class="MJX_Assistive_MathML"> 
    
     
     
       ∑ 
      
      
      
        x 
       
      
        = 
       
      
        0 
       
      
      
      
        x 
       
      
        &lt; 
       
      
        k 
       
      
     
     
     
       C 
      
     
       i 
      
     
       x 
      
     
    
      ( 
     
    
      k 
     
    
      ≤ 
     
    
      i 
     
    
      &lt; 
     
    
      m 
     
    
      ) 
     
   </span></span><script type="math/tex" id="MathJax-Element-24">\sum_{x=0}^{x< k}C_i^x(k\leq i<m)</script> 即c的数量不超过i，这时c就不能拿超过k个 <br> 3、<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-25-Frame" tabindex="0" style="position: relative;"> 
   
   <span class="math" id="MathJax-Span-578" style="width: 15.732em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.076em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(0.992em, 1012.97em, 2.659em, -999.997em); top: -2.133em; left: 0em;"><span class="mrow" id="MathJax-Span-579"><span class="munderover" id="MathJax-Span-580"><span style="display: inline-block; position: relative; width: 4.43em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.99em, 4.43em, -999.997em); top: -4.008em; left: 0em;"><span class="mo" id="MathJax-Span-581" style="font-family: MathJax_Size1; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1001.41em, 4.221em, -999.997em); top: -4.477em; left: 1.044em;"><span class="texatom" id="MathJax-Span-582"><span class="mrow" id="MathJax-Span-583"><span class="mi" id="MathJax-Span-584" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-585" style="font-size: 70.7%; font-family: MathJax_Main;">&lt;</span><span class="mi" id="MathJax-Span-586" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1003.34em, 4.221em, -999.997em); top: -3.747em; left: 1.044em;"><span class="texatom" id="MathJax-Span-587"><span class="mrow" id="MathJax-Span-588"><span class="mi" id="MathJax-Span-589" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-590" style="font-size: 70.7%; font-family: MathJax_Main;">=</span><span class="mi" id="MathJax-Span-591" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-592" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mi" id="MathJax-Span-593" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span class="mo" id="MathJax-Span-594" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-595" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-596" style="padding-left: 0.159em;"><span style="display: inline-block; position: relative; width: 1.305em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.78em, 4.169em, -999.997em); top: -4.008em; left: 0em;"><span class="mi" id="MathJax-Span-597" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.544em, 1000.47em, 4.169em, -999.997em); top: -4.372em; left: 0.836em;"><span class="mi" id="MathJax-Span-598" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1000.32em, 4.169em, -999.997em); top: -3.695em; left: 0.732em;"><span class="mi" id="MathJax-Span-599" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span><span class="mo" id="MathJax-Span-600" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-601" style="font-family: MathJax_Math-italic;">m</span><span class="mo" id="MathJax-Span-602" style="font-family: MathJax_Main; padding-left: 0.263em;">≤</span><span class="mi" id="MathJax-Span-603" style="font-family: MathJax_Math-italic; padding-left: 0.263em;">i</span><span class="mo" id="MathJax-Span-604" style="font-family: MathJax_Main; padding-left: 0.263em;">&lt;</span><span class="mi" id="MathJax-Span-605" style="font-family: MathJax_Math-italic; padding-left: 0.263em;">m</span><span class="mo" id="MathJax-Span-606" style="font-family: MathJax_Main; padding-left: 0.211em;">+</span><span class="mi" id="MathJax-Span-607" style="font-family: MathJax_Math-italic; padding-left: 0.211em;">k</span><span class="mo" id="MathJax-Span-608" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.138em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.691em;"></span></span> 
  <span class="MJX_Assistive_MathML"> 
    
     
     
       ∑ 
      
      
      
        x 
       
      
        = 
       
      
        i 
       
      
        − 
       
      
        m 
       
      
        + 
       
      
        1 
       
      
      
      
        x 
       
      
        &lt; 
       
      
        k 
       
      
     
     
     
       C 
      
     
       i 
      
     
       x 
      
     
    
      ( 
     
    
      m 
     
    
      ≤ 
     
    
      i 
     
    
      &lt; 
     
    
      m 
     
    
      + 
     
    
      k 
     
    
      ) 
     
   </span></span><script type="math/tex" id="MathJax-Element-25">\sum_{x=i-m+1}^{x<k}C_i^x(m\leq i<m+k)</script>即c的数量不超过i，b的数量也不超过i，这时c不能拿大于等于k个，b不能拿大于等于m个。</p> 
<p>考虑优化转移。在第一种情况下，i变为i+1，只需要把总和乘2即可。 <br> 在第二种情况下，i变为i+1，把总和乘以2再减去<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-26-Frame" tabindex="0" style="position: relative;"> 
   
   <span class="math" id="MathJax-Span-609" style="width: 1.513em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.253em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.148em, 1001.25em, 2.607em, -999.997em); top: -2.133em; left: 0em;"><span class="mrow" id="MathJax-Span-610"><span class="msubsup" id="MathJax-Span-611"><span style="display: inline-block; position: relative; width: 1.253em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.78em, 4.169em, -999.997em); top: -4.008em; left: 0em;"><span class="mi" id="MathJax-Span-612" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1000.47em, 4.169em, -999.997em); top: -4.372em; left: 0.836em;"><span class="mi" id="MathJax-Span-613" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1000.32em, 4.169em, -999.997em); top: -3.695em; left: 0.732em;"><span class="mi" id="MathJax-Span-614" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.138em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.503em;"></span></span> 
  <span class="MJX_Assistive_MathML"> 
    
     
     
       C 
      
     
       i 
      
     
       k 
      
     
   </span></span><script type="math/tex" id="MathJax-Element-26">C_i^k</script> <br> 在第三种情况下，i变为i+1，把总和乘以2再减去<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-27-Frame" tabindex="0" style="position: relative;"> 
   
   <span class="math" id="MathJax-Span-615" style="width: 4.794em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.961em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.148em, 1003.96em, 2.607em, -999.997em); top: -2.133em; left: 0em;"><span class="mrow" id="MathJax-Span-616"><span class="msubsup" id="MathJax-Span-617"><span style="display: inline-block; position: relative; width: 1.253em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.78em, 4.169em, -999.997em); top: -4.008em; left: 0em;"><span class="mi" id="MathJax-Span-618" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1000.47em, 4.169em, -999.997em); top: -4.372em; left: 0.836em;"><span class="mi" id="MathJax-Span-619" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1000.32em, 4.169em, -999.997em); top: -3.695em; left: 0.732em;"><span class="mi" id="MathJax-Span-620" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span><span class="mo" id="MathJax-Span-621" style="font-family: MathJax_Main; padding-left: 0.211em;">+</span><span class="msubsup" id="MathJax-Span-622" style="padding-left: 0.211em;"><span style="display: inline-block; position: relative; width: 1.513em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.78em, 4.169em, -999.997em); top: -4.008em; left: 0em;"><span class="mi" id="MathJax-Span-623" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.544em, 1000.68em, 4.169em, -999.997em); top: -4.372em; left: 0.836em;"><span class="mi" id="MathJax-Span-624" style="font-size: 70.7%; font-family: MathJax_Math-italic;">m</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; clip: rect(3.388em, 1000.32em, 4.169em, -999.997em); top: -3.695em; left: 0.732em;"><span class="mi" id="MathJax-Span-625" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.138em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.503em;"></span></span> 
  <span class="MJX_Assistive_MathML"> 
    
     
     
       C 
      
     
       i 
      
     
       k 
      
     
    
      + 
     
     
     
       C 
      
     
       i 
      
     
       m 
      
     
   </span></span><script type="math/tex" id="MathJax-Element-27">C_i^k+C_i^m</script> <br> 用杨辉三角的性质来解释就很容易了。</p> 
<pre class="prettyprint"><code class=" hljs perl"><span class="hljs-comment">#include&lt;cstdio&gt;</span>
<span class="hljs-comment">#include&lt;cstring&gt;</span>
<span class="hljs-comment">#include&lt;algorithm&gt;</span>
<span class="hljs-comment">#include&lt;cmath&gt;</span>
<span class="hljs-comment">#define SF scanf</span>
<span class="hljs-comment">#define PF printf</span>
<span class="hljs-comment">#define MAXN 900010</span>
<span class="hljs-comment">#define MOD 1000000007</span>
using namespace std;
typedef long long ll;
ll inv[MAXN],fac[MAXN],pow3[MAXN];
ll fsp(ll <span class="hljs-keyword">x</span>,<span class="hljs-keyword">int</span> <span class="hljs-keyword">y</span>){
    ll res=<span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span>(<span class="hljs-keyword">y</span>){
        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">y</span>&amp;<span class="hljs-number">1</span>)
            res=res<span class="hljs-variable">*x</span><span class="hljs-variable">%MOD</span>;
        <span class="hljs-keyword">x</span>=<span class="hljs-keyword">x</span><span class="hljs-variable">*x</span><span class="hljs-variable">%MOD</span>;
        <span class="hljs-keyword">y</span>&gt;&gt;=<span class="hljs-number">1</span>;  
    }
    <span class="hljs-keyword">return</span> res;
}
ll C(<span class="hljs-keyword">int</span> <span class="hljs-keyword">x</span>,<span class="hljs-keyword">int</span> <span class="hljs-keyword">y</span>){
    <span class="hljs-keyword">return</span> fac[<span class="hljs-keyword">x</span>]<span class="hljs-variable">*inv</span>[<span class="hljs-keyword">y</span>]<span class="hljs-variable">%MOD</span><span class="hljs-variable">*inv</span>[<span class="hljs-keyword">x</span>-<span class="hljs-keyword">y</span>]<span class="hljs-variable">%MOD</span>;
}
<span class="hljs-keyword">int</span> main(){
    <span class="hljs-keyword">int</span> n,<span class="hljs-keyword">m</span>,k;
    SF(<span class="hljs-string">"<span class="hljs-variable">%d</span><span class="hljs-variable">%d</span><span class="hljs-variable">%d</span>"</span>,&amp;n,&amp;<span class="hljs-keyword">m</span>,&amp;k);
    pow3[<span class="hljs-number">0</span>]=<span class="hljs-number">1</span>;
    fac[<span class="hljs-number">0</span>]=<span class="hljs-number">1</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n+<span class="hljs-keyword">m</span>+k;i++){
        pow3[i]=pow3[i-<span class="hljs-number">1</span>]<span class="hljs-variable">*3ll</span><span class="hljs-variable">%MOD</span>;  
        fac[i]=fac[i-<span class="hljs-number">1</span>]<span class="hljs-variable">*i</span><span class="hljs-variable">%MOD</span>;
    }
    inv[n+<span class="hljs-keyword">m</span>+k]=fsp(fac[n+<span class="hljs-keyword">m</span>+k],MOD-<span class="hljs-number">2</span>);   
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=n+<span class="hljs-keyword">m</span>+k;i&gt;<span class="hljs-number">0</span>;i--)
        inv[i-<span class="hljs-number">1</span>]=inv[i]<span class="hljs-variable">*i</span><span class="hljs-variable">%MOD</span>;
    n--;
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">m</span>&lt;k)
        swap(<span class="hljs-keyword">m</span>,k);
    ll j=<span class="hljs-number">1</span>,ans=<span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;=<span class="hljs-keyword">m</span>+k;i++){
        ans=(ans+C(n+i,n)<span class="hljs-variable">*pow3</span>[<span class="hljs-keyword">m</span>+k-i]<span class="hljs-variable">%MOD</span><span class="hljs-variable">*j</span>)<span class="hljs-variable">%MOD</span>;   
        <span class="hljs-keyword">if</span>(i&lt;k)
            j=j<span class="hljs-variable">*2ll</span><span class="hljs-variable">%MOD</span>;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(i&lt;<span class="hljs-keyword">m</span>)
            j=(j<span class="hljs-variable">*2ll</span>-C(i,k))<span class="hljs-variable">%MOD</span>;
        <span class="hljs-keyword">else</span>    
            j=(j<span class="hljs-variable">*2ll</span>-C(i,k)-C(i,<span class="hljs-keyword">m</span>))<span class="hljs-variable">%MOD</span>;
    }
    ans=(ans+MOD)<span class="hljs-variable">%MOD</span>;
    PF(<span class="hljs-string">"<span class="hljs-variable">%lld</span>"</span>,ans);
}</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bb75da16983806d4504f9d2fbbbb9e19/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">三极管使用详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/335105bbff92cd482700146d01e8099a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">前端处理文件流自动下载</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>