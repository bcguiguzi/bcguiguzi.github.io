<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL 表约束超详细 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MySQL 表约束超详细" />
<meta property="og:description" content="目录
一. 主键约束——PRIMARY KEY
1.在建表时设置主键约束
设置单字段主键
设置联合主键
2. 在修改表的时候添加主键约束
3. 删除主键约束
4. 【补充】 MySQL设置主键自增长 ：
二. 外键约束——FOREIGN KEY
1.在创建表时设置外键约束
2. 在修改表时添加外键约束
3. 删除外键约束
三. 唯一约束——UNIQUE KEY
1.在创建表时设置唯一约束
2. 在修改表时添加唯一约束
3. 删除唯一约束
四. 检查约束——CHECK
1.在创建表时设置检查约束
2. 在修改表时添加检查约束
3. 删除检查约束
五. 非空约束——NOT NULL
1.在创建表时设置非空约束
2. 在修改表时添加非空约束：
3. 删除非空约束
六. 默认值约束——DEFAULT
1.在创建表时设置默认值约束
2. 在修改表时添加默认值约束
3. 删除默认值
在MySQL里，“约束”指的是对表中数据的一种限制约束，它能够确保数据库中数据的准确性和有效性
比如有的数据是必填项，就像身份认证的时候，或者填注册信息的时候，手机号身份证这种就不能空着，所以就有了非空约束；又有的数据比如用户的唯一id，不能跟其他人的一样，所以就需要使用唯一约束等等。
在MySQL中主要有6种约束：主键约束、外键约束、唯一约束、检查约束、非空约束和默认值约束。
一. 主键约束——PRIMARY KEY “主键约束“是6种约束中使用最多的约束。
在建立数据表的时候，一般情况下，为了方便更快地查找表中的记录，都会要求在表中设置一个“主键”。”主键“是表里面的一个特殊字段，这个字段能够唯一标识该表中的每条信息。
主键分为“单字段主键”和“多字段联合主键”，并且在使用主键的时候需要注意以下几个点：
一个表只能定义一个主键；主键值必须唯一标识表中的每一行，并且不能出现null的情况，即表中不能存在有相同主键的两行或两行以上数据，严格遵守唯一性原则；一个字段名只能在联合主键字段表中出现一次；联合主键不能包含不必要的多余字段，以满足最小化原则。 1.在建表时设置主键约束 设置单字段主键 1）在定义字段的时候设置主键约束，语法格式：
&lt;字段名&gt; &lt;数据类型&gt; PRIMARY KEY [默认值] 例：在数据库中创建学生信息数据表st_info，主键为st_id, SQL语句以及运行结果如下：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/6f98758ef55b34f18bc5ae2b4c3a20a3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-07T18:27:18+08:00" />
<meta property="article:modified_time" content="2024-03-07T18:27:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL 表约束超详细</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80.%20%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F%E2%80%94%E2%80%94PRIMARY%20KEY-toc" style="margin-left:40px;"><a href="#%E4%B8%80.%20%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F%E2%80%94%E2%80%94PRIMARY%20KEY" rel="nofollow">一. 主键约束——PRIMARY KEY</a></p> 
<p id="1.%E5%9C%A8%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F-toc" style="margin-left:160px;"><a href="#1.%E5%9C%A8%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F" rel="nofollow">1.在建表时设置主键约束</a></p> 
<p id="%E8%AE%BE%E7%BD%AE%E5%8D%95%E5%AD%97%E6%AE%B5%E4%B8%BB%E9%94%AE-toc" style="margin-left:200px;"><a href="#%E8%AE%BE%E7%BD%AE%E5%8D%95%E5%AD%97%E6%AE%B5%E4%B8%BB%E9%94%AE" rel="nofollow">设置单字段主键</a></p> 
<p id="%E8%AE%BE%E7%BD%AE%E8%81%94%E5%90%88%E4%B8%BB%E9%94%AE-toc" style="margin-left:200px;"><a href="#%E8%AE%BE%E7%BD%AE%E8%81%94%E5%90%88%E4%B8%BB%E9%94%AE" rel="nofollow">设置联合主键</a></p> 
<p id="2.%20%E5%9C%A8%E4%BF%AE%E6%94%B9%E8%A1%A8%E7%9A%84%E6%97%B6%E5%80%99%E6%B7%BB%E5%8A%A0%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F-toc" style="margin-left:160px;"><a href="#2.%20%E5%9C%A8%E4%BF%AE%E6%94%B9%E8%A1%A8%E7%9A%84%E6%97%B6%E5%80%99%E6%B7%BB%E5%8A%A0%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F" rel="nofollow">2. 在修改表的时候添加主键约束</a></p> 
<p id="3.%20%E5%88%A0%E9%99%A4%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F-toc" style="margin-left:160px;"><a href="#3.%20%E5%88%A0%E9%99%A4%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F" rel="nofollow">3. 删除主键约束</a></p> 
<p id="4.%20%E3%80%90%E8%A1%A5%E5%85%85%E3%80%91%20MySQL%E8%AE%BE%E7%BD%AE%E4%B8%BB%E9%94%AE%E8%87%AA%E5%A2%9E%E9%95%BF%20%EF%BC%9A-toc" style="margin-left:160px;"><a href="#4.%20%E3%80%90%E8%A1%A5%E5%85%85%E3%80%91%20MySQL%E8%AE%BE%E7%BD%AE%E4%B8%BB%E9%94%AE%E8%87%AA%E5%A2%9E%E9%95%BF%20%EF%BC%9A" rel="nofollow">4. 【补充】 MySQL设置主键自增长 ：</a></p> 
<p id="%E4%BA%8C.%20%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F%E2%80%94%E2%80%94FOREIGN%20KEY-toc" style="margin-left:40px;"><a href="#%E4%BA%8C.%20%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F%E2%80%94%E2%80%94FOREIGN%20KEY" rel="nofollow">二. 外键约束——FOREIGN KEY</a></p> 
<p id="1.%E5%9C%A8%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F-toc" style="margin-left:160px;"><a href="#1.%E5%9C%A8%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F" rel="nofollow">1.在创建表时设置外键约束</a></p> 
<p id="2.%20%E5%9C%A8%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F-toc" style="margin-left:160px;"><a href="#2.%20%E5%9C%A8%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F" rel="nofollow">2. 在修改表时添加外键约束</a></p> 
<p id="3.%20%E5%88%A0%E9%99%A4%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F-toc" style="margin-left:160px;"><a href="#3.%20%E5%88%A0%E9%99%A4%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F" rel="nofollow">3. 删除外键约束</a></p> 
<p id="%E4%B8%89.%20%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F%E2%80%94%E2%80%94UNIQUE%20KEY-toc" style="margin-left:40px;"><a href="#%E4%B8%89.%20%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F%E2%80%94%E2%80%94UNIQUE%20KEY" rel="nofollow">三. 唯一约束——UNIQUE KEY</a></p> 
<p id="1.%E5%9C%A8%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F-toc" style="margin-left:160px;"><a href="#1.%E5%9C%A8%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F" rel="nofollow">1.在创建表时设置唯一约束</a></p> 
<p id="2.%20%E5%9C%A8%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F-toc" style="margin-left:160px;"><a href="#2.%20%E5%9C%A8%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F" rel="nofollow">2. 在修改表时添加唯一约束</a></p> 
<p id="3.%20%E5%88%A0%E9%99%A4%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F-toc" style="margin-left:160px;"><a href="#3.%20%E5%88%A0%E9%99%A4%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F" rel="nofollow">3. 删除唯一约束</a></p> 
<p id="%E5%9B%9B.%20%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F%E2%80%94%E2%80%94CHECK-toc" style="margin-left:40px;"><a href="#%E5%9B%9B.%20%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F%E2%80%94%E2%80%94CHECK" rel="nofollow">四. 检查约束——CHECK</a></p> 
<p id="1.%E5%9C%A8%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F-toc" style="margin-left:160px;"><a href="#1.%E5%9C%A8%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F" rel="nofollow">1.在创建表时设置检查约束</a></p> 
<p id="2.%20%E5%9C%A8%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F-toc" style="margin-left:160px;"><a href="#2.%20%E5%9C%A8%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F" rel="nofollow">2. 在修改表时添加检查约束</a></p> 
<p id="3.%20%E5%88%A0%E9%99%A4%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F-toc" style="margin-left:160px;"><a href="#3.%20%E5%88%A0%E9%99%A4%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F" rel="nofollow">3. 删除检查约束</a></p> 
<p id="%E4%BA%94.%20%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F%E2%80%94%E2%80%94NOT%20NULL-toc" style="margin-left:40px;"><a href="#%E4%BA%94.%20%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F%E2%80%94%E2%80%94NOT%20NULL" rel="nofollow">五. 非空约束——NOT NULL</a></p> 
<p id="1.%E5%9C%A8%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F-toc" style="margin-left:160px;"><a href="#1.%E5%9C%A8%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F" rel="nofollow">1.在创建表时设置非空约束</a></p> 
<p id="2.%20%E5%9C%A8%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F%EF%BC%9A-toc" style="margin-left:160px;"><a href="#2.%20%E5%9C%A8%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F%EF%BC%9A" rel="nofollow">2. 在修改表时添加非空约束：</a></p> 
<p id="3.%20%E5%88%A0%E9%99%A4%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F-toc" style="margin-left:160px;"><a href="#3.%20%E5%88%A0%E9%99%A4%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F" rel="nofollow">3. 删除非空约束</a></p> 
<p id="%E5%85%AD.%20%E9%BB%98%E8%AE%A4%E5%80%BC%E7%BA%A6%E6%9D%9F%E2%80%94%E2%80%94DEFAULT-toc" style="margin-left:40px;"><a href="#%E5%85%AD.%20%E9%BB%98%E8%AE%A4%E5%80%BC%E7%BA%A6%E6%9D%9F%E2%80%94%E2%80%94DEFAULT" rel="nofollow">六. 默认值约束——DEFAULT</a></p> 
<p id="1.%E5%9C%A8%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E5%80%BC%E7%BA%A6%E6%9D%9F-toc" style="margin-left:160px;"><a href="#1.%E5%9C%A8%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E5%80%BC%E7%BA%A6%E6%9D%9F" rel="nofollow">1.在创建表时设置默认值约束</a></p> 
<p id="2.%20%E5%9C%A8%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E9%BB%98%E8%AE%A4%E5%80%BC%E7%BA%A6%E6%9D%9F-toc" style="margin-left:160px;"><a href="#2.%20%E5%9C%A8%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E9%BB%98%E8%AE%A4%E5%80%BC%E7%BA%A6%E6%9D%9F" rel="nofollow">2. 在修改表时添加默认值约束</a></p> 
<p id="3.%20%E5%88%A0%E9%99%A4%E9%BB%98%E8%AE%A4%E5%80%BC-toc" style="margin-left:160px;"><a href="#3.%20%E5%88%A0%E9%99%A4%E9%BB%98%E8%AE%A4%E5%80%BC" rel="nofollow">3. 删除默认值</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p>在MySQL里，“约束”指的是对表中数据的一种限制约束，它能够确保数据库中数据的准确性和有效性</p> 
<p>比如有的数据是必填项，就像身份认证的时候，或者填注册信息的时候，手机号身份证这种就不能空着，所以就有了非空约束；又有的数据比如用户的唯一id，不能跟其他人的一样，所以就需要使用唯一约束等等。</p> 
<p>在MySQL中主要有6种约束：主键约束、外键约束、唯一约束、检查约束、非空约束和默认值约束。</p> 
<h3 id="%E4%B8%80.%20%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F%E2%80%94%E2%80%94PRIMARY%20KEY"><strong>一. 主键约束——PRIMARY KEY</strong></h3> 
<p><strong>“主键约束“是6种约束中使用最多的约束。</strong></p> 
<p>在建立数据表的时候，一般情况下，为了方便更快地查找表中的记录，都会要求在表中设置一个“主键”。”主键“是表里面的一个特殊字段，这个字段能够唯一标识该表中的每条信息。</p> 
<p>主键分为“单字段主键”和“多字段联合主键”，并且在使用主键的时候需要注意以下几个点：</p> 
<ul><li>一个表只能定义一个主键；</li><li>主键值必须唯一标识表中的每一行，并且不能出现<code>null</code>的情况，即表中不能存在有相同主键的两行或两行以上数据，严格遵守<strong>唯一性原则</strong>；</li><li>一个字段名只能在联合主键字段表中出现一次；</li><li>联合主键不能包含不必要的多余字段，以满足<strong>最小化原则</strong>。</li></ul> 
<p></p> 
<h6 id="1.%E5%9C%A8%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F"><strong>1.在建表时设置主键约束</strong></h6> 
<h6 id="%E8%AE%BE%E7%BD%AE%E5%8D%95%E5%AD%97%E6%AE%B5%E4%B8%BB%E9%94%AE"><strong>设置单字段主键</strong></h6> 
<p>1）在定义字段的时候设置主键约束，语法格式：</p> 
<pre><code class="language-sql">&lt;字段名&gt; &lt;数据类型&gt; PRIMARY KEY [默认值]</code></pre> 
<p><strong>例：</strong>在数据库中创建学生信息数据表st_info，主键为st_id, SQL语句以及运行结果如下：</p> 
<pre><code class="language-sql">create table st_info(
st_id int(10) primary key,
  name varchar(20),
  class varchar(10),
  gender varchar(4),
  age int(2)
);

mysql&gt; desc st_info;
+--------+-------------+------+-----+---------+-------+
| Field | Type | Null | Key | Default | Extra |
+--------+-------------+------+-----+---------+-------+
| st_id | int | NO | PRI | NULL | |
| name | varchar(20) | YES |     | NULL |       |
| class | varchar(10) | YES | | NULL   | |
| gender | varchar(4) | YES |     | NULL |       |
| age | int | YES | | NULL | |
+--------+-------------+------+-----+---------+-------+
5 rows in set (0.00 sec)</code></pre> 
<p>2）在定义完所有字段之后指定部件，语法格式：</p> 
<pre><code class="language-sql">[CONSTRAINT &lt;约束名&gt;] PRIMARY KEY [字段名]</code></pre> 
<p><strong>例</strong> 在数据库中创建学生信息数据表<code>st_info2</code>,主键为<code>st_id</code>, SQL语句以及运行结果如下：</p> 
<pre><code class="language-sql">create table st_info2(
st_id int(10),
  name varchar(20),
  class varchar(10),
  gender varchar(4),
  age int(2),
   primary key(st_id)
);

mysql&gt; desc st_info2;
+--------+-------------+------+-----+---------+-------+
| Field | Type | Null | Key | Default | Extra |
+--------+-------------+------+-----+---------+-------+
| st_id | int | NO | PRI | NULL | |
| name | varchar(20) | YES |     | NULL |       |
| class | varchar(10) | YES | | NULL   | |
| gender | varchar(4) | YES |     | NULL |       |
| age | int | YES | | NULL | |
+--------+-------------+------+-----+---------+-------+
5 rows in set (0.00 sec)</code></pre> 
<h6 id="%E8%AE%BE%E7%BD%AE%E8%81%94%E5%90%88%E4%B8%BB%E9%94%AE"><strong>设置联合主键</strong></h6> 
<p>联合主键即一张表的主键由多个字段组成。</p> 
<p>比如在学生信息表中，可以设置st_id跟name来作为联合主键，语法格式以及SQL语句实现为：</p> 
<pre><code class="language-sql">PRIMARY KEY [字段1，字段2，…,字段n]

create table st_info3(
  st_id int(10),
  name varchar(20),
  class varchar(10),
  gender varchar(4),
  age int(2),
   primary key(st_id,name)
);

mysql&gt; desc st_info3;
+--------+-------------+------+-----+---------+-------+
| Field | Type | Null | Key | Default | Extra |
+--------+-------------+------+-----+---------+-------+
| st_id | int | NO | PRI | NULL | |
| name | varchar(20) | NO | PRI | NULL |       |
| class | varchar(10) | YES | | NULL   | |
| gender | varchar(4) | YES |     | NULL |       |
| age | int | YES | | NULL | |
+--------+-------------+------+-----+---------+-------+
5 rows in set (0.00 sec)</code></pre> 
<p>需要注意的是，在设置联合主键的时候，不能在每个字段名后面直接声明主键约束。</p> 
<h6 id="2.%20%E5%9C%A8%E4%BF%AE%E6%94%B9%E8%A1%A8%E7%9A%84%E6%97%B6%E5%80%99%E6%B7%BB%E5%8A%A0%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F"><strong>2. 在修改表的时候添加主键约束</strong></h6> 
<p>如果在创建表的时候没有设置主键约束，还可以在修改表时进行添加，但是设置成主键约束的字段不允许有空值。语法格式：</p> 
<pre><code class="language-sql">ALTER TABLE &lt;数据表名&gt; ADD PRIMARY KEY(&lt;字段名&gt;);

mysql&gt; desc st_info4;
+--------+-------------+------+-----+---------+-------+
| Field | Type | Null | Key | Default | Extra |
+--------+-------------+------+-----+---------+-------+
| st_id | int | NO | | NULL | |
| name | varchar(20) | NO |     | NULL |       |
| class | varchar(10) | YES | | NULL   | |
| gender | varchar(4) | YES |     | NULL |       |
| age | int | YES | | NULL | |
+--------+-------------+------+-----+---------+-------+</code></pre> 
<p>将<code>st_id</code>与<code>name</code>设置成主键：</p> 
<pre><code class="language-sql">mysql&gt; alter table st_info4 add primary key(st_id,name);
Query OK, 0 rows affected (0.04 sec)
Records: 0 Duplicates: 0  Warnings: 0

mysql&gt; desc st_info4;
+--------+-------------+------+-----+---------+-------+
| Field | Type | Null | Key | Default | Extra |
+--------+-------------+------+-----+---------+-------+
| st_id | int | NO | PRI | NULL | |
| name | varchar(20) | NO | PRI | NULL |       |
| class | varchar(10) | YES | | NULL   | |
| gender | varchar(4) | YES |     | NULL |       |
| age | int | YES | | NULL | |
+--------+-------------+------+-----+---------+-------+
5 rows in set (0.00 sec)</code></pre> 
<h6 id="3.%20%E5%88%A0%E9%99%A4%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F"><strong>3. 删除主键约束</strong></h6> 
<p></p> 
<p>当一个表中不需要主键约束时，就需要从表中将其删除。</p> 
<p><strong>例</strong> 删除<code>st_info4</code>数据表中的主键约束：</p> 
<pre><code class="language-sql">mysql&gt; alter table st_info4 drop primary key;
Query OK, 0 rows affected (0.06 sec)
Records: 0 Duplicates: 0  Warnings: 0

mysql&gt; desc st_info4;
+--------+-------------+------+-----+---------+-------+
| Field | Type | Null | Key | Default | Extra |
+--------+-------------+------+-----+---------+-------+
| st_id | int | NO | | NULL | |
| name | varchar(20) | NO |     | NULL |       |
| class | varchar(10) | YES | | NULL   | |
| gender | varchar(4) | YES |     | NULL |       |
| age | int | YES | | NULL | |
+--------+-------------+------+-----+---------+-------+
5 rows in set (0.00 sec)</code></pre> 
<h6 id="4.%20%E3%80%90%E8%A1%A5%E5%85%85%E3%80%91%20MySQL%E8%AE%BE%E7%BD%AE%E4%B8%BB%E9%94%AE%E8%87%AA%E5%A2%9E%E9%95%BF%20%EF%BC%9A"><strong>4. 【补充】 MySQL设置主键自增长 ：</strong></h6> 
<p>在MySQL里，当主键定义为自增长后，主键的值就不需要自己再输入数据了，而是由数据库系统根据定义自动赋值，每增加一条记录，主键就会自动根据设置的步长进行增长。</p> 
<p>在MySQL中自增长的关键字是<code>AUTO_INCREMENT</code>，语法格式为：</p> 
<pre><code class="language-sql">字段名 数据类型 AUTO_INCREMENT</code></pre> 
<p><strong>例</strong> 创建学生信息表<code>st_info5</code>，指定<code>st_id</code>字段自增，</p> 
<pre><code class="language-sql">create table st_info5(
  st_id int(10) primary key auto_increment,
    name varchar(20) not null,
    class varchar(10),
    gender varchar(4),
    age int(2)
);</code></pre> 
<p>此时可以不用再手动插入<code>st_id</code>的数据：</p> 
<pre><code class="language-sql">insert into st_info5(name,class,gender,age) 
values('王思瑶','管理学1班','女',18),
      ('王绮梦','管理学1班','女',18),
      ('李若彤','管理学1班','男',18);
      
mysql&gt; select * from st_info5;
+-------+--------+-----------+--------+------+
| st_id | name | class     | gender | age |
+-------+--------+-----------+--------+------+
| 1 | 王思瑶 | 管理学1班 | 女 | 18 |
| 2 | 王绮梦 | 管理学1班 | 女 | 18 |
| 3 | 李若彤 | 管理学1班 | 男 | 18 |
+-------+--------+-----------+--------+------+
3 rows in set (0.01 sec)</code></pre> 
<p>但是在设置学号的时候不一定是从1开始的，比如要从2000150001开始，则需要在建表之后设置自增的起始数据：</p> 
<pre><code class="language-sql">create table st_info6(
    st_id int(10) primary key auto_increment,
    name varchar(20) not null,
    class varchar(10),
    gender varchar(4),
    age int(2)
)auto_increment=2000150001;

insert into st_info6(name,class,gender,age) 
values('王思瑶','管理学1班','女',18),
      ('王绮梦','管理学1班','女',18),
      ('李若彤','管理学1班','男',18);
      
mysql&gt; select * from st_info6;
+------------+--------+-----------+--------+------+
| st_id | name | class     | gender | age |
+------------+--------+-----------+--------+------+
| 2000150001 | 王思瑶 | 管理学1班 | 女 | 18 |
| 2000150002 | 王绮梦 | 管理学1班 | 女 | 18 |
| 2000150003 | 李若彤 | 管理学1班 | 男 | 18 |
+------------+--------+-----------+--------+------+
3 rows in set (0.00 sec)</code></pre> 
<p>值得注意的地方是，如果在插入某一行数据产生了报错，则最终自增字段可能会出现不连续的情况。</p> 
<h3 id="%E4%BA%8C.%20%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F%E2%80%94%E2%80%94FOREIGN%20KEY"><strong>二. 外键约束——FOREIGN KEY</strong></h3> 
<p></p> 
<p>外键约束是表的一个特殊字段，普遍会和主键约束一起使用，用来确保数据的一致性。</p> 
<p>对于两个具有关联关系的表来说，相关联字段中主键所在的表就是主表（父表），外键所在的表就是从表（子表）。</p> 
<p>所以外键就是用来建立主表与从表的关联关系，为两个表的数据建立连接，约束两个表中数据的一致性和完整性。</p> 
<p>在定义外键时需要遵守以下规则：</p> 
<ul><li>主表必须已经存在于数据库中，或者是当前正在创建的表。如果是后一种情况，则主表与从表是同一个表，这样的表称做自参照表，这种结构称做自参照完整性；</li><li>必须为主表定义主键；</li><li>主键不能包含空值，但允许在外键中出现空值；</li><li>在主表的表名后面指定列名或列名的组合，这个列或列的组合必须是主表的主键或候选键；</li><li>外键中列的数目必须和主表的主键中列的数目相同；</li><li>外键中列的数据类型必须和主表主键中对应列的数据类型相同。</li></ul> 
<h6 id="1.%E5%9C%A8%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F"><strong>1.在创建表时设置外键约束</strong></h6> 
<p>在建表语句中，可以加入关键字<code>FOREIGN KEY</code>来指定外键，用<code>REFERENCES</code>来连接与主表的关系语法格式：</p> 
<pre><code class="language-sql">CONSTRAINT &lt;约束名&gt;
FOREIGN KEY &lt;外键名&gt;(字段名1，字段名2...)
REFERENCES &lt;主表名&gt;(主键字段名)</code></pre> 
<p><strong>例：</strong></p> 
<p>① 使用1部分创建的<code>st_info5</code>数据表作为主表：</p> 
<pre><code class="language-sql">mysql&gt; desc st_info5;
+--------+-------------+------+-----+---------+----------------+
| Field | Type | Null | Key | Default | Extra |
+--------+-------------+------+-----+---------+----------------+
| st_id | int | NO | PRI | NULL | auto_increment |
| name | varchar(20) | NO |     | NULL |                |
| class  | varchar(10) | YES  | | NULL    | |
| gender | varchar(4) | YES |     | NULL |                |
| age | int | YES | | NULL | |
+--------+-------------+------+-----+---------+----------------+</code></pre> 
<p>② 创建<code>tb_1</code>数据表，并在表上创建外键约束，使其中<code>course_id</code>作为外键关联到表<code>st_info5</code>的主键<code>st_id</code>：</p> 
<pre><code class="language-sql">create table tb_1(
    course_id int(8) not null auto_increment,
    course_name varchar(25) not null,
    constraint course_Choosing
    foreign key fk_course(course_id)
    references st_info5(st_id)
)auto_increment=20015001;

mysql&gt; desc tb_1;
+-------------+-------------+------+-----+---------+----------------+
| Field | Type | Null | Key | Default | Extra |
+-------------+-------------+------+-----+---------+----------------+
| course_id | int | NO | MUL | NULL | auto_increment |
| course_name | varchar(25) | NO |     | NULL |                |
+-------------+-------------+------+-----+---------+----------------+</code></pre> 
<p>上面语句执行成功之后，在表<code>tb_1</code>中添加了<code>course_Choosing</code>的约束名称，以及外键名称为<code>fk_course</code>的<code>course_id</code>字段，依赖于表<code>st_info5</code>的主键<code>st_id</code>。</p> 
<h6 id="2.%20%E5%9C%A8%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F"><strong>2. 在修改表时添加外键约束</strong></h6> 
<p>同样的可以在创建表之后再修改，SQL语句如下：</p> 
<pre><code class="language-sql">alter table tb_1 
add 
constraint course_Choosing
foreign key fk_course(course_id)
references st_info5(st_id);</code></pre> 
<p><strong>这里需要注意的是，从表的外键关联的必须是主表的主键，且主键和外键的数据类型必须一致。例如两者都是int型或者都是char型数据。</strong></p> 
<h6 id="3.%20%E5%88%A0%E9%99%A4%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F"><strong>3. 删除外键约束</strong></h6> 
<p>当一个表中不需要外键约束时，就需要从表中将其删除。外键一旦删除，就会解除主表和从表间的关联关系。</p> 
<p>删除的语法格式：</p> 
<pre><code class="language-sql">ALTER TABLE &lt;表名&gt; 
DROP 
FOREIGN KEY &lt;外键约束名&gt;;</code></pre> 
<p><strong>例：</strong></p> 
<pre><code class="language-sql">alter table tb_1
drop
foreign key fk_course;</code></pre> 
<h3 id="%E4%B8%89.%20%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F%E2%80%94%E2%80%94UNIQUE%20KEY"><strong>三. 唯一约束——UNIQUE KEY</strong></h3> 
<p>唯一约束就是指所有记录中字段的值不能重复出现，比如给'id'字段加上唯一约束之后，每条记录的id值都是唯一的，不能出现重复的情况。</p> 
<p>唯一约束与主键约束有一个相似的地方，就是它们都能够确保列的唯一性。与主键约束不同的是，唯一约束在一个表中可以有多个，并且设置唯一约束的列是允许有空值的，虽然只能有一个空值。</p> 
<p>例如，在用户信息表中，要避免表中的用户名重名，就可以把用户名列设置为唯一约束。</p> 
<h6 id="1.%E5%9C%A8%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F"><strong>1.在创建表时设置唯一约束</strong></h6> 
<p>唯一约束可以在创建表的时候直接进行设置，通常设置在除了主键以外的其他列上，语法格式如下：</p> 
<pre><code class="language-sql">&lt;字段名&gt; &lt;数据类型&gt; UNIQUE</code></pre> 
<p><strong>例</strong> 创建图书馆所有书本明细表book_info ，设定书本bk_id为主键，书本ISBN为唯一键，SQL语句如下：</p> 
<pre><code class="language-sql">create table book_info(
    bk_id int primary key,
    ISBN varchar(17) unique,
    author varchar(50),
    Publisher varchar(20)
);

mysql&gt; desc book_info;
+-----------+-------------+------+-----+---------+-------+
| Field | Type | Null | Key | Default | Extra |
+-----------+-------------+------+-----+---------+-------+
| bk_id | int | NO | PRI | NULL | |
| ISBN | varchar(17) | YES | UNI | NULL |       |
| author | varchar(50) | YES | | NULL | |
| Publisher | varchar(20) | YES |     | NULL |       |
+-----------+-------------+------+-----+---------+-------+
4 rows in set (0.00 sec)
</code></pre> 
<h6 id="2.%20%E5%9C%A8%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F"><strong>2. 在修改表时添加唯一约束</strong></h6> 
<p>语法格式：</p> 
<pre><code class="language-sql">ALTER TABLE &lt;数据表名&gt; 
ADD 
CONSTRAINT &lt;唯一约束名&gt; UNIQUE(&lt;列名&gt;);</code></pre> 
<p><strong>例 </strong>将book_info表中author字段设置为唯一约束：</p> 
<pre><code class="language-sql">alter table book_info
add
constraint uni_author unique(author);

mysql&gt; desc book_info;
+-----------+-------------+------+-----+---------+-------+
| Field | Type | Null | Key | Default | Extra |
+-----------+-------------+------+-----+---------+-------+
| bk_id | int | NO | PRI | NULL | |
| ISBN | varchar(17) | YES | UNI | NULL |       |
| author | varchar(50) | YES | UNI | NULL | |
| Publisher | varchar(20) | YES |     | NULL |       |
+-----------+-------------+------+-----+---------+-------+
4 rows in set (0.01 sec)</code></pre> 
<h6 id="3.%20%E5%88%A0%E9%99%A4%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F"><strong>3. 删除唯一约束</strong></h6> 
<p>语法格式：</p> 
<pre><code class="language-sql">ALTER TABLE &lt;表名&gt; 
DROP INDEX &lt;唯一约束名&gt;;</code></pre> 
<p>例 删除book_info表中的唯一约束uni_author；</p> 
<pre><code class="language-sql">alter table book_info
drop index uni_author;

mysql&gt; desc book_info;
+-----------+-------------+------+-----+---------+-------+
| Field | Type | Null | Key | Default | Extra |
+-----------+-------------+------+-----+---------+-------+
| bk_id | int | NO | PRI | NULL | |
| ISBN | varchar(17) | YES | UNI | NULL |       |
| author | varchar(50) | YES | | NULL | |
| Publisher | varchar(20) | YES |     | NULL |       |
+-----------+-------------+------+-----+---------+-------+
4 rows in set (0.00 sec)</code></pre> 
<h3 id="%E5%9B%9B.%20%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F%E2%80%94%E2%80%94CHECK"><strong>四. 检查约束——CHECK</strong></h3> 
<p></p> 
<p><strong>检查约束是用来检查数据表中字段值有效性的一种约束。</strong></p> 
<p><strong>例如</strong>，学生信息表中的年龄字段是不能有负数的，并且数值范围也是有限制的。如果是大学生，正常年龄一般应该在 18~30 岁之间。在设置字段的检查约束时需要根据实际情况进行设置，<strong>这样能够减少无效数据的输入。</strong></p> 
<h6 id="1.%E5%9C%A8%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F"><strong>1.在创建表时设置检查约束</strong></h6> 
<p>语法格式：</p> 
<pre><code class="language-sql">CHECK(&lt;约束条件&gt;)</code></pre> 
<p><strong>例</strong> 在persons表创建时id_p列创建check约束，约束条件为id_p列数据必须只包含大于0的整数：</p> 
<pre><code class="language-sql">create table persons(
    id_p int not null,
    lastname varchar(255) not null,
    firstname varchar(255),
    address varchar(255),
    city varchar(255),
    check (id_p&gt;0)
);

mysql&gt; desc persons;
+-----------+--------------+------+-----+---------+-------+
| Field | Type | Null | Key | Default | Extra |
+-----------+--------------+------+-----+---------+-------+
| id_p | int | NO | | NULL | |
| lastname | varchar(255) | NO |     | NULL |       |
| firstname | varchar(255) | YES | | NULL | |
| address | varchar(255) | YES |     | NULL |       |
| city | varchar(255) | YES | | NULL | |
+-----------+--------------+------+-----+---------+-------+</code></pre> 
<h6 id="2.%20%E5%9C%A8%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F"><strong>2. 在修改表时添加检查约束</strong></h6> 
<p>语法格式：</p> 
<pre><code class="language-sql">ALTER TABLE &lt;表名&gt; 
ADD 
CONSTRAINT &lt;检查约束名&gt; CHECK(&lt;检查约束&gt;)</code></pre> 
<p><strong>例</strong> 修改persons数据表，要求city字段为“上海”：</p> 
<pre><code class="language-sql">create table persons(
    id_p int not null,
    lastname varchar(255) not null,
    firstname varchar(255),
    address varchar(255),
    city varchar(255),
    constraint chk_person check (id_p&gt;0 and city='sandnes')
);

alter table persons 
add 
constraint chk_ct check(city='上海');

mysql&gt; desc persons;
+-----------+--------------+------+-----+---------+-------+
| Field | Type | Null | Key | Default | Extra |
+-----------+--------------+------+-----+---------+-------+
| id_p | int | NO | | NULL | |
| lastname | varchar(255) | NO |     | NULL |       |
| firstname | varchar(255) | YES | | NULL | |
| address | varchar(255) | YES |     | NULL |       |
| city | varchar(255) | YES | | NULL | |
+-----------+--------------+------+-----+---------+-------+
5 rows in set (0.00 sec)</code></pre> 
<h6 id="3.%20%E5%88%A0%E9%99%A4%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F"><strong>3. 删除检查约束</strong></h6> 
<p>语法格式：</p> 
<pre><code class="language-sql">ALTER TABLE &lt;表名&gt; 
DROP CONSTRAINT &lt;检查约束名&gt;;</code></pre> 
<p><strong>例</strong> 删除persons表中的check_ct约束：</p> 
<pre><code class="language-sql">alter table persons 
drop constraint chk_ct;</code></pre> 
<h3 id="%E4%BA%94.%20%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F%E2%80%94%E2%80%94NOT%20NULL"><strong>五. 非空约束——NOT NULL</strong></h3> 
<p>非空约束是用来约束表中的字段不能为空。在表中某个列的定义后加上关键字NOT NULL作为限定词，来约束该列的取值不能为空。</p> 
<p><strong>例如，</strong>在学生信息表中，<strong>如果不添加学生姓名，那么这条记录是无效的，这种情况下就可以为用户名字段设置非空约束。</strong></p> 
<h6 id="1.%E5%9C%A8%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F">1.<strong>在创建表时设置非空约束</strong></h6> 
<p>语法格式：</p> 
<pre><code class="language-sql">CREATE TABLE &lt;表名&gt;(
    ...
&lt;字段名&gt; &lt;数据类型&gt; NOT NULL)
...
);</code></pre> 
<p><strong>例 </strong>创建学生信息表st_info, 指定st_id为主键，学生姓名不能为空：</p> 
<pre><code class="language-sql">create table st_info(
    st_id int(10) primary key,
    name varchar(20) not null,
    class varchar(10),
    gender varchar(4),
    age int(2)
);

mysql&gt; desc st_info;
+--------+-------------+------+-----+---------+-------+
| Field | Type | Null | Key | Default | Extra |
+--------+-------------+------+-----+---------+-------+
| st_id | int | NO | PRI | NULL | |
| name | varchar(20) | NO |     | NULL |       |
| class  | varchar(10) | YES  | | NULL    | |
| gender | varchar(4) | YES |     | NULL |       |
| age | int | YES | | NULL | |
+--------+-------------+------+-----+---------+-------+
5 rows in set (0.00 sec)</code></pre> 
<h6 id="2.%20%E5%9C%A8%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F%EF%BC%9A"><strong>2. 在修改表时添加非空约束：</strong></h6> 
<p>如果在创建表的时候忘记了为字段设置非空约束，可以通过修改表进行非空约束的添加。</p> 
<p>语法格式：</p> 
<pre><code class="language-sql">ALTER TABLE &lt;表名&gt;
CHANGE COLUMN &lt;字段名&gt;
&lt;字段名&gt; &lt;数据类型&gt; NOT NULL;</code></pre> 
<p><strong>例</strong> 修改学生信息表st_info中class字段，设置成非空约束：</p> 
<pre><code class="language-sql">mysql&gt; alter table st_info
    -&gt; change column class
    -&gt; class varchar(20) not null;
Query OK, 0 rows affected (0.06 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql&gt; desc st_info;
+--------+-------------+------+-----+---------+-------+
| Field | Type | Null | Key | Default | Extra |
+--------+-------------+------+-----+---------+-------+
| st_id | int | NO | PRI | NULL | |
| name | varchar(20) | NO |     | NULL |       |
| class  | varchar(20) | NO   | | NULL    | |
| gender | varchar(4) | YES |     | NULL |       |
| age | int | YES | | NULL | |
+--------+-------------+------+-----+---------+-------+
5 rows in set (0.00 sec)</code></pre> 
<h6 id="3.%20%E5%88%A0%E9%99%A4%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F"><strong>3. 删除非空约束</strong></h6> 
<p>可以在修改语句中对非空约束进行删除。</p> 
<p>语法格式：</p> 
<pre><code class="language-sql">ALTER TABLE &lt;数据表名&gt;
CHANGE COLUMN &lt;字段名&gt; 
&lt;字段名&gt; &lt;数据类型&gt; NULL;
</code></pre> 
<p><strong>例</strong> 修改学生信息表st_info，将class字段的非空约束删除：</p> 
<pre><code class="language-sql">mysql&gt; alter table st_info
    -&gt; change column class
    -&gt; class varchar(20) null;
Query OK, 0 rows affected (0.04 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql&gt; desc st_info;
+--------+-------------+------+-----+---------+-------+
| Field | Type | Null | Key | Default | Extra |
+--------+-------------+------+-----+---------+-------+
| st_id | int | NO | PRI | NULL | |
| name | varchar(20) | NO |     | NULL |       |
| class  | varchar(20) | YES  | | NULL    | |
| gender | varchar(4) | YES |     | NULL |       |
| age | int | YES | | NULL | |
+--------+-------------+------+-----+---------+-------+
5 rows in set (0.00 sec)</code></pre> 
<h3 id="%E5%85%AD.%20%E9%BB%98%E8%AE%A4%E5%80%BC%E7%BA%A6%E6%9D%9F%E2%80%94%E2%80%94DEFAULT"><strong>六. 默认值约束——DEFAULT</strong></h3> 
<p></p> 
<p>默认值约束是当数据表中某个字段不输入值的时候，自动为其添加一个已经设置好的值。</p> 
<p><strong>例如</strong>，在注册学生信息时，如果不输入学生的性别，那么会默认设置一个性别或者输入一个“未知”。</p> 
<p>默认值约束一般是用在已经设置了非空约束的列，这样能够<strong>防止数据表在录入数据时出现错误。</strong></p> 
<h6 id="1.%E5%9C%A8%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E5%80%BC%E7%BA%A6%E6%9D%9F">1.<strong>在创建表时设置默认值约束</strong></h6> 
<p>语法格式：</p> 
<pre><code class="language-sql">CREATE TABLE &lt;表名&gt;(
    ...
&lt;字段名&gt; &lt;数据类型&gt; DEFAULT &lt;默认值&gt;
    ...
);</code></pre> 
<p><strong>例</strong> 创建学生信息表st_info，设置年龄age默认值为18：</p> 
<pre><code class="language-sql">create table st_info(
    st_id int(10) primary key,
    name varchar(20) not null,
    class varchar(10),
    gender varchar(4),
    age int(2) default 18
);

mysql&gt; desc st_info;
+--------+-------------+------+-----+---------+-------+
| Field | Type | Null | Key | Default | Extra |
+--------+-------------+------+-----+---------+-------+
| st_id | int | NO | PRI | NULL | |
| name | varchar(20) | NO |     | NULL |       |
| class  | varchar(10) | YES  | | NULL    | |
| gender | varchar(4) | YES |     | NULL |       |
| age | int | YES | | 18      | |
+--------+-------------+------+-----+---------+-------+
5 rows in set (0.01 sec)</code></pre> 
<h6 id="2.%20%E5%9C%A8%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E9%BB%98%E8%AE%A4%E5%80%BC%E7%BA%A6%E6%9D%9F"><strong>2. 在修改表时添加默认值约束</strong></h6> 
<p>语法格式：</p> 
<pre><code class="language-sql">ALTER TABLE &lt;数据表名&gt;
CHANGE COLUMN &lt;字段名&gt; 
&lt;字段名&gt; &lt;数据类型&gt; DEFAULT &lt;默认值&gt;;</code></pre> 
<p><strong>例</strong> 修改学生信息表st_info，将性别设置默认值为“保密”：</p> 
<pre><code class="language-sql">mysql&gt; alter table st_info
    -&gt; change column gender
    -&gt; gender varchar(4) default '保密';
Query OK, 0 rows affected (0.02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql&gt; desc st_info;
+--------+-------------+------+-----+---------+-------+
| Field | Type | Null | Key | Default | Extra |
+--------+-------------+------+-----+---------+-------+
| st_id | int | NO | PRI | NULL | |
| name | varchar(20) | NO |     | NULL |       |
| class  | varchar(10) | YES  | | NULL    | |
| gender | varchar(4) | YES |     | 保密 |       |
| age | int | YES | | 18      | |
+--------+-------------+------+-----+---------+-------+
5 rows in set (0.00 sec)</code></pre> 
<p><strong>需要注意的是，这里的gender字段为字符串型数据，需要加上引号。</strong></p> 
<p></p> 
<h6 id="3.%20%E5%88%A0%E9%99%A4%E9%BB%98%E8%AE%A4%E5%80%BC"><strong>3. 删除默认值</strong></h6> 
<p>删除默认值即为将默认值设置为空（null）</p> 
<p>语法格式：</p> 
<pre><code class="language-sql">ALTER TABLE &lt;数据表名&gt;
CHANGE COLUMN &lt;字段名&gt; 
&lt;字段名&gt; &lt;数据类型&gt; DEFAULT NULL;</code></pre> 
<p><strong>例</strong> 修改学生信息表st_info, 将gender性别字段的默认值删除掉：</p> 
<pre><code class="language-sql">mysql&gt; alter table st_info
    -&gt; change column gender
    -&gt; gender varchar(4) default null;
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql&gt; desc st_info;
+--------+-------------+------+-----+---------+-------+
| Field | Type | Null | Key | Default | Extra |
+--------+-------------+------+-----+---------+-------+
| st_id | int | NO | PRI | NULL | |
| name | varchar(20) | NO |     | NULL |       |
| class  | varchar(10) | YES  | | NULL    | |
| gender | varchar(4) | YES |     | NULL |       |
| age | int | YES | | 18      | |
+--------+-------------+------+-----+---------+-------+
5 rows in set (0.00 sec)</code></pre> 
<p>以上6个约束都很重要，并且有的可以联合使用，并不是都是单独使用的。作为基础知识点，会让你的数据库更加规范，从而提高工作效率。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fe126dd65cc2e918d2c65f62c9aa0ffc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MySQL alter命令修改表详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/56e8987640da6a45ed40445187477f2f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MySQL 查询语句大全</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>