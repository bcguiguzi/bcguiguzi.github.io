<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>antd vue Tabs控件的使用 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="antd vue Tabs控件的使用" />
<meta property="og:description" content="Ant Design Vue-------Tabs标签页
今天就讲讲Ant Design Vue下的控件----tabs 标签页
结合项目中的需求，讲一下该控件如何使用，需求：
（1）竖排样式
（2）如何使用v-for绑定数据源
（3）change事件
（4）动态生成、动态切换（子组件和component、keepAlive、nextTick的联合使用）
官网案例来一个：
&lt;template&gt; &lt;a-tabs v-model:activeKey=&#34;activeKey&#34;&gt; &lt;a-tab-pane key=&#34;1&#34; tab=&#34;Tab 1&#34;&gt;Content of Tab Pane 1&lt;/a-tab-pane&gt; &lt;a-tab-pane key=&#34;2&#34; tab=&#34;Tab 2&#34; force-render&gt;Content of Tab Pane 2&lt;/a-tab-pane&gt; &lt;a-tab-pane key=&#34;3&#34; tab=&#34;Tab 3&#34;&gt;Content of Tab Pane 3&lt;/a-tab-pane&gt; &lt;/a-tabs&gt; &lt;/template&gt; &lt;script lang=&#34;ts&#34; setup&gt; import { ref } from &#39;vue&#39;; const activeKey = ref(&#39;1&#39;); &lt;/script&gt; 效果如图：
项目中的代码：
&lt;div style=&#34;height: calc(100vh - 230px)&#34;&gt; &lt;a-tabs v-model:activeKey=&#34;activeItem&#34; tab-position=&#34;left&#34; @change=&#34;handleTabChange&#34;&gt; &lt;a-tab-pane v-for=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/a3e38c0ac519fb2bc469e38c5d690b75/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-09T11:25:37+08:00" />
<meta property="article:modified_time" content="2024-03-09T11:25:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">antd vue Tabs控件的使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>Ant Design Vue-------Tabs标签页</p> 
<p>今天就讲讲Ant Design Vue下的控件----tabs 标签页</p> 
<p>结合项目中的需求，讲一下该控件如何使用，需求：</p> 
<p>（1）竖排样式<br> （2）如何使用v-for绑定数据源<br> （3）change事件<br> （4）动态生成、动态切换（子组件和component、keepAlive、nextTick的联合使用）</p> 
<p>官网案例来一个：</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;a-tabs v-model:activeKey="activeKey"&gt;
    &lt;a-tab-pane key="1" tab="Tab 1"&gt;Content of Tab Pane 1&lt;/a-tab-pane&gt;
    &lt;a-tab-pane key="2" tab="Tab 2" force-render&gt;Content of Tab Pane 2&lt;/a-tab-pane&gt;
    &lt;a-tab-pane key="3" tab="Tab 3"&gt;Content of Tab Pane 3&lt;/a-tab-pane&gt;
  &lt;/a-tabs&gt;
&lt;/template&gt;
&lt;script lang="ts" setup&gt;
import { ref } from 'vue';
const activeKey = ref('1');
&lt;/script&gt;</code></pre> 
<p>效果如图：<img alt="" height="85" src="https://images2.imgbox.com/49/7f/3VhBdekH_o.png" width="198"></p> 
<p>项目中的代码：</p> 
<pre><code class="language-html">&lt;div style="height: calc(100vh - 230px)"&gt;
          &lt;a-tabs v-model:activeKey="activeItem" tab-position="left" @change="handleTabChange"&gt;
            &lt;a-tab-pane v-for="item in itemSource" :tab="item.dictionaryMenuName" :disabled="item.isHas == 1 ? false : true" :key="item.dictionaryName.split('|')[0]" /&gt;
          &lt;/a-tabs&gt;
        &lt;/div&gt;</code></pre> 
<p>1. div的样式控制垂直滚动条；</p> 
<p>2.属性设置：</p> 
<p>（1）v-model:activeKey 绑定的是用户当前选择的tab的key值；</p> 
<p>（2）tab-position:共4个位置；top默认顶端；left:左侧竖排展示；right:右侧竖排展示；bottom：底部，如图：</p> 
<p><img alt="" height="202" src="https://images2.imgbox.com/de/8d/A7P7K8wX_o.png" width="329"></p> 
<p>（3）size:共三种大小；small:小，large:大，middle:默认值，如下图：</p> 
<p><img alt="" height="245" src="https://images2.imgbox.com/0d/ff/0K9gXH38_o.png" width="381"></p> 
<p>（4）type：页签的基本样式，三个类型。line、card、editable-card</p> 
<p>（5）Tabs.TabPane控件a-tab-pane元素和for搭配使用，itemSource:数据源（数组），item：对象。 tab:选项卡的标题；key:唯一标识，对应activeKey；disabled：根据flag指定该标签是否可用。</p> 
<p>（6）样式：</p> 
<p> :deep(.ant-tabs-left &gt; .ant-tabs-nav .ant-tabs-tab) {<!-- --></p> 
<p>    width: 265px;</p> 
<p>    padding: 2px 20px;</p> 
<p>    margin: 2px 0 0;</p> 
<p>  }</p> 
<p>3. script setup lang="ts"  和 tabs的change事件</p> 
<pre><code class="language-javascript">import { onMounted, ref, reactive, toRaw, toRef, computed } from 'vue';

const activeItem = ref('');
const itemSource = ref([]);

function queryTabsList() {
    let queryJson = {};//往后端传值
    Query(queryJson).then((res) =&gt; {//Query:API
      itemSource.value = res;
      activeItem.value = null;//默认选项卡都未选中
}
//tabs选择事件
  async function handleTabChange(key) {
    console.log('key',key);
    //var arr = key.split('|');
    //if (arr.length &gt; 0) {
    //    let selItem = arr[0]; //英文名称
    //    let dtoName = arr[1];//中文名称
    //  ……
    //}
}</code></pre> 
<p>4. 下面讲讲更复杂的应用，这种场景，一般用于tabs菜单动态切换功能。</p> 
<p>（1）模板</p> 
<pre><code class="language-html">&lt;template&gt;
      &lt;div class="bottom-main"&gt;
        &lt;a-tabs v-model:activeKey="activeKey" tabPosition="top" @change="tabItemSelected" size="small" type="card" style="height: 40px"&gt;
          &lt;a-tab-pane v-for="item in menuTabs" :key="`${item?.value}`" :tab="item?.label" /&gt;
        &lt;/a-tabs&gt;
        &lt;KeepAlive v-if="isAlive"&gt;
          &lt;component :is="currentPage" :param-condition="whereCond" /&gt;
        &lt;/KeepAlive&gt;&lt;/div
    &gt;&lt;/template&gt;</code></pre> 
<p>（2）脚本</p> 
<pre><code class="language-html">const activeKey = ref('');
  const menuTabs = ref([]);
  function initTab() {
    let query = {
      name: 'getClass',
      queryParams: {},
    };
    Query(cbxQuery).then((res) =&gt; {//Query:API
      menuTabs.value = res;
    });
  }

//控制是否强制刷新
const isAlive = ref(true);
const currentPage = ref();//当前组件
const whereCond = reactive({//当前页面传值给子组件的参数
    proId: '', //项目名称
  });
//模拟的一组子组件
const typeCompentMap = {
    base: input1,//引入input1组件
    invest: input2,//引入input2组件
    product: input3,//引入input3组件
    price: input4,//引入input4组件
  };
//tab切换事件
function tabItemSelected() {
    currentPage.value = typeCompentMap[activeKey.value];
  }
//挂载事件
onMounted(() =&gt; {
    initTab();
  });
//查询事件时刷新tab子组件
  function handleSearch() {
    activeKey.value = 'base';
    whereCond.proId = selectedProjectId.value; 
    if (whereCond.proId) {
      refreshChild();
    }
  }
  function refreshChild() {
    isAlive.value = false;
    currentPage.value = typeCompentMap[activeKey.value];
    nextTick(() =&gt; {//利用nextTick更新机制，强制刷新页面
      isAlive.value = true;
    });
  }</code></pre> 
<p><code>vue</code> 中我们改变数据时不会立即触发视图，如果需要实时获取到最新的<code>DOM</code>，这个时候可以手动调用 <code>nextTick</code></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a01a55d5b6b4c7d0620c4e7f6ff22da0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ES6：箭头函数中的this指向问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b4a3734e9722ede40174965bfc3e49b6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">6N137SDM光电耦合器中文资料规格书PDF数据手册引脚图图片价格参数芯片概述</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>