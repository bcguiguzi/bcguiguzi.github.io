<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>智能寻迹小车的代码 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="智能寻迹小车的代码" />
<meta property="og:description" content="/*------------------------------------------------------
-----------------------小车运行主程序-------------------
--------------------------------------------------------
简介：@模块组成：红外对管检测模块----五组对管，五个信号采集端口
直流电机驱动模块----驱动两个直流电机，另一个轮子用万向轮
单片机最小系统------用于烧写程序，控制智能小车运动
@功能简介：在白色地面或皮质上用黑色胶带粘贴出路线路径宽度微大于相邻检测管间距。
这样小车便可在其上循迹运行。
@补充说明：该程序采取“右优先”的原则：
即右边有黑线向右转，
若无，前方有黑线，向前走，
若无，左边有黑线，向左转，
若全无，从右方向后转。
程序开头定义的变量的取值是根据我的小车所调试选择好的，
如果采用本程序，请自行调试适合自己小车的合适参数值。
编者：陈尧，黄永刚（江苏大学电气学院二年级，三年级）
1.假定:IN1=1,IN3=1时电机正向转动,必须保证本条件
2.假定:遇到白线输出0，遇到黑线输出1;
如果实际电路是：遇到白线输出1，遇到黑线输出0，
这种情况下只需要将第四，第五句改成：
#define m0 1
#define m1 0
即可。
3.说明1：直行---------------速度full_speed_left,full_speed_right.
转弯,调头速度------correct_speed_left,correct_speed_right.
微小校正时---------高速轮full_speed_left,full_speed_right;
低速轮correct_speed. 可以通过调节第六，七，八，九，十条程序，改变各个状态
下的占空比（Duty cycle ）,以求达到合适的转弯，直行速度
4.lenth----------length检测到黑线到启动转动的时间间隔
5.width----------mid3在黑线上到脱离黑线的时间差
6.mid3-----------作为判断中心位置是否进入黑线的标志，由于运行的粗糙性和惯性，
常取其他对管的输出信号作为判断条件
7.check_right----若先检测到左边黑线，并且左边已出黑线，判断右端是否压黑线时间拖延
--------------------------------------------------------
--------------------------------------------------------*/
#include&lt;reg52.h&gt;
#define uchar unsigned char
#define uint unsigned int
#define m0 1//黑线m1,白线m0
#define m1 0
#define full_speed_left 40 //方便调节各个状态的占空比 ,可用参数组：（30,35,6,25,30,68000,27000,500）；
#define full_speed_right 45 // （40,45,6,25,30,68000,27000,500）；
#define correct_speed 6 //校正时的低速轮的占空比" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/6a406eefdb13938d60c6ff2cfdcd012a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-09-14T19:00:39+08:00" />
<meta property="article:modified_time" content="2016-09-14T19:00:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">智能寻迹小车的代码</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">/*------------------------------------------------------</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">-----------------------小车运行主程序-------------------</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">--------------------------------------------------------</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> </span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> </span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"><span style="font-family:宋体">简介：</span>@模块组成：红外对管检测模块----五组对管，五个信号采集端口</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"> <span style="font-family:宋体">直流电机驱动模块</span>----驱动两个直流电机，另一个轮子用万向轮</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"> <span style="font-family:宋体">单片机最小系统</span>------用于烧写程序，控制智能小车运动</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">  @功能简介：在白色地面或皮质上用黑色胶带粘贴出路线路径宽度微大于相邻检测管间距。</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"> <span style="font-family:宋体">这样小车便可在其上循迹运行。</span></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">  @补充说明：该程序采取“右优先”的原则：</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">                                         <span style="font-family:宋体">即右边有黑线向右转，</span></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">                                         <span style="font-family:宋体">若无，前方有黑线，向前走，</span></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"> <span style="font-family:宋体">若无，左边有黑线，向左转，</span></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"> <span style="font-family:宋体">若全无，从右方向后转。</span></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">             </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">             <span style="font-family:宋体">程序开头定义的变量的取值是根据我的小车所调试选择好的，</span></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">             <span style="font-family:宋体">如果采用本程序，请自行调试适合自己小车的合适参数值。</span></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> </span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"><span style="font-family:宋体">编者：陈尧，黄永刚（江苏大学电气学院二年级，三年级）</span></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> </span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> </span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">1.假定:IN1=1,IN3=1时电机正向转动,必须保证本条件</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">2.假定:遇到白线输出0，遇到黑线输出1;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">       <span style="font-family:宋体">如果实际电路是：遇到白线输出</span>1，遇到黑线输出0，</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">   <span style="font-family:宋体">这种情况下只需要将第四，第五句改成：</span></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">                #define m0 1</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">                #define m1 0</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"> <span style="font-family:宋体">即可。</span></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">3.说明1：直行---------------速度full_speed_left,full_speed_right.</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">         <span style="font-family:宋体">转弯</span>,调头速度------correct_speed_left,correct_speed_right.</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"> <span style="font-family:宋体">微小校正时</span>---------高速轮full_speed_left,full_speed_right;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">                    <span style="font-family:宋体">低速轮</span>correct_speed.  </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">        <span style="font-family:宋体">可以通过调节第六，七，八，九，十条程序，改变各个状态</span></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">        <span style="font-family:宋体">下的占空比（</span>Duty cycle ）,以求达到合适的转弯，直行速度</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> </span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> </span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> </span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">4.lenth----------length检测到黑线到启动转动的时间间隔</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">5.width----------mid3在黑线上到脱离黑线的时间差</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">6.mid3-----------作为判断中心位置是否进入黑线的标志，由于运行的粗糙性和惯性，</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">                 <span style="font-family:宋体">常取其他对管的输出信号作为判断条件</span></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">7.check_right----若先检测到左边黑线，并且左边已出黑线，判断右端是否压黑线时间拖延</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">--------------------------------------------------------</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">--------------------------------------------------------*/</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> </span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">#include&lt;reg52.h&gt;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">#define uchar unsigned char</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">#define uint unsigned int</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> </span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">#define m0 1//黑线m1,白线m0</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">#define m1 0</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">           </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">#define full_speed_left 40 //方便调节各个状态的占空比 ,可用参数组：（30,35,6,25,30,68000,27000,500）；</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">#define full_speed_right 45</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt">//</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">         </span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"><span style="font-family:宋体">（</span>40,45,6,25,30,68000,27000,500）；</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">#define correct_speed 6 //校正时的低速轮的占空比</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">#define turn_speed_left 25</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">#define turn_speed_right 30</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">#define</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt">lenth 68000</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">//测试数据：10000--》100--》500--》2000--80000--76000--68000</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">#define width 27000</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">//500--》10--&gt;2000--》60000--30000---》27000</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">#define check_right 500 //2000--》20--》200--》500</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">#define midl left1</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">#define midr right5 </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> </span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">uchar Duty_left,Duty_right,i=0,j=0; //左右占空比标志，取1--100 </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">                </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">sbit IN1=P2^0;  </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">sbit IN2=P2^1;  </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">sbit IN3=P2^2; </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">sbit IN4=P2^3;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">sbit ENA=P1^0;    </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">sbit ENB=P1^1;</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> </span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">//循迹口 五组红外对管，依次对应从左往右第1,2,3,4,5五组</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">sbit left1 =P1^6; </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">sbit left2 =P1^5;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">sbit mid3  =P1^4;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">sbit right4=P1^3;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">sbit right5=P1^2;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> </span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">void line_left();</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">void line_right();</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">void line_straight()reentrant;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">//----------------------------------------</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">void delay(long int Delay_time)//延时函数</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> {<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> uint t=Delay_time;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> while(t--);</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> }</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">//-----------------------------------------</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">void init()</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"> //定时器初始化</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> {<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   left1=m0; //初始化</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   left2=m0;  //白线位置</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   mid3 =m1;   //黑线位置</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   right4=m0;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   right5=m0;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   TMOD|=0x01;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   TH0=(65536-66)/256;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   TL0=(65536-66)%256;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   EA=1;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   ET0=1;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   TR0=1;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   ENA=1; //使能端口，初始化</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   ENB=1; </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  }</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">//--------------------------------------------</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">void time0(void)interrupt 1</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"> //中断程序</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">{<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  i++;</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">//调速在中断中执行</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  j++;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  if(i&lt;=Duty_left) </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">     ENA=1;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  else ENA=0;  </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  if(i&gt;100) </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">     {ENA=1;i=0;}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  if(j&lt;=Duty_right) </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">     ENB=1;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  else ENB=0;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  if(j&gt;100) </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">     {ENB=1;j=0;}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">TH0=(65536-66)/256;</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt">   //取约150HZ，12M晶振，每次定时66us,分100次，这样开头定义的变量正好直接表示占空比的数值</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">TL0=(65536-66)%256;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">//-----------------------------------------------</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">void correct_left()//向左校正，赋值</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> {<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   Duty_left =correct_speed;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   Duty_right=full_speed_right;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   IN1=1;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   IN2=0;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   IN3=1;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   IN4=0;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> }</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">//------------------------------------------------</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> void correct_right()//向右校正，赋值</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> {<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   Duty_left =full_speed_left;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   Duty_right=correct_speed;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   IN1=1;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   IN2=0;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   IN3=1;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   IN4=0;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> }</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">//--------------------------------------------------</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">void turn_left()//左转，赋值</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">{<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  Duty_left =turn_speed_left;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  Duty_right=turn_speed_right;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  IN1=0;</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"> //转弯时一个正转，一个反转，</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  IN2=1;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  IN3=1;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  IN4=0; </span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">//---------------------------------------------------</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">void turn_right()//右转，赋值</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">{<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  Duty_left =turn_speed_left;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  Duty_right=turn_speed_right;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  IN1=1;</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt">  //转弯时一个正转，一个反转，</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  IN2=0;</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  IN3=0;</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  IN4=1; </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">//-----------------------------------------------------</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">void straight()</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt">//直走，赋值</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">{<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  Duty_left =full_speed_left;</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt">//左右电机占空比初始化，调节直线运动速度</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  Duty_right=full_speed_right;</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt">//鉴于左右轮电机内部阻力不同，故占空比取不同值，这组值需要单独写程序取值</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  IN1=1;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  IN2=0;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  IN3=1;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  IN4=0; </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">//-----------------------------------------------------</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">void line_straight()reentrant //函数名后加reentrant可以递归调用，//一直走黑直线时</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">{<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  straight();</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  if(right5==m1){line_right();}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  else</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  if(left1==m1){line_left();}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  else</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  if(left2==m1)</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">  //防止校正时，小车冲出过大，导致2,4号检测管屏蔽了两端检测管的检测，避免其走直线时出轨</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">    while(left2==m1)</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">     {correct_left();</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">       if(right5==m1)</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">          {<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">   line_right();</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">   goto label3;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">   }</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">   else if(left1==m1)</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"> {line_left();</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">     goto label3;}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">     }</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  else </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  if(right4==m1)</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">   //防止校正时，小车冲出过大，导致2,4号检测管屏蔽了两端检测管的检测，避免其走直线时出轨</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   while(right4==m1)</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">    {correct_right();</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">     if(right5==m1)</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">       { line_right();  goto label3;}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">     else if(left1==m1)</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">{line_left();goto label3;}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  else</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  if((left1==m0)&amp;&amp;(left2==m0)&amp;&amp;(mid3==m0)&amp;&amp;(right4==m0)&amp;&amp;(right5==m0))</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">    {<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">  straight();</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">  //delay(lenth);</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">  while(right4==m0) //本来应该是用mid3,但是为了提高灵敏度，选择right4；向左时，可取left2对管</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">    {turn_right();}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">  if(mid3==m1)</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">    {line_straight();}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> </span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">label3: ; //什么都不做</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">//-------------------------------------------------------------------------</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">void line_right() //右边有黑线时</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">{<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">straight();//这里的直走是在不管红外检测结果的直行</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">delay(lenth);</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">if(mid3==m1)</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">{<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">  turn_right();//执行向右转的赋值</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">label:delay(width);</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt">//由width值决定转弯时mid3经过黑线宽度时所需要的时间</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">  if(mid3==m0)</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">    while(right4==m0)</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">     {}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">  else</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">  </span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt">  goto label;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"> }</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> </span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">else</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">if(mid3==m0)</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">   {<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">     turn_right();</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">     while(right4==m0)</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">       {}</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">     if(midr==m1)</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">       {line_straight();}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">       }</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">//-----------------------------------------------------------------</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">void line_left() //左边出现黑线时</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">{ </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  while(left1==m1)</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  {<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">if(right5==m1) </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">{<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">line_right();</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">goto label2;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">} </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   }</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> </span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   delay(check_right);//左边遇到黑线时，左边出了黑线之后，继续延时一段时间，判断右边是否遇到黑线，</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">   //若遇到黑线，执行line_right()函数</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">if(right5==m1) </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">{<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">line_right();</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">goto label2;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> </span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   if((mid3==m1)||(left2==m1)||(right4==m1)){line_straight();}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">  else</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">  {<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">     while(left2==m0)</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">    {turn_left();}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">     if(midl==m1)</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">        line_straight();    </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">  }</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">label2: ;</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">//--------------------------------------------------------------------</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">void detect_infrared() //循迹，红外检测</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> { </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   if(right5==m1){line_right();}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   else </span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   if(left1==m1){line_left();}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   else</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   if(left2==m1){correct_left();}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   else</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   if(right4==m1){correct_right();}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   else</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   line_straight();</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"> }</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">//--------------------------------------</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">void main(void)//主程序部分</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">{<!-- --></span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  init();</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">  while(1)</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:宋体; font-size:10.5pt">//循环检测红外对管采集的电平信号</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">   {detect_infrared();}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt">}</span><span style="font-family:宋体; font-size:10.5pt"></span></p> 
<p class="MsoPlainText" style="margin:0pt"><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt"></span><span style="font-family:宋体; font-size:10.5pt">       </span><span style="font-family:宋体; font-size:10.5pt"></span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/467fd107029151b57e1910fd76943f1c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">GoLang 获取两个时间相差多少小时</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/81712925d5d3433b98901be60cf2eded/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Go语言实现抓图实例</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>