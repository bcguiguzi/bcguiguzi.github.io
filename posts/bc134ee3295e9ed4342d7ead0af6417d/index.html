<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>在Latex中优雅的插入svg图片(Ubuntu22.04) - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="在Latex中优雅的插入svg图片(Ubuntu22.04)" />
<meta property="og:description" content="文章目录 一、前言二、准备工作三、脚本编程四、结论 一、前言 在 LaTeX \LaTeX LATE​X 中，插入图片常用的为 figure 环境加 \includegraphics 命令：
\begin{figure}[!htbp] \centering \includegraphics[width=\textwidth]{图片名.jpg/jpeg/png/pdf} \caption{标题}\label{标签} \end{figure} 然而如果我们的图片为 SVG 图，直接进行插入是会报错的：
主要报错信息如下：
! Unable to read an entire line---bufsize=200000. Please increase buf_size in texmf.cnf. 百度是能找到很多 svg 图转其他格式图片的方法的，用 Python 也能做，这里主要介绍结合 bash 脚本进行批量处理。
二、准备工作 首先使用 apt-get 安装 inkscape 工具：
sudo apt-get install inkscape -y 其主要思路就是使用 inkscape 工具将目录下的 svg 图片逐一转换为 pdf 文件，这样便能通过上述 \includegraphics 命令插入：
inkscape --export-filename=图片名.pdf 图片名.svg 三、脚本编程 对于一整个文件夹的 svg 图片，我们希望能通过脚本实现自动将其全部转换为 pdf 文件以方便我们插入，在 svg 图片目录下打开终端，新建文件 convert_svg_to_pdf." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/bc134ee3295e9ed4342d7ead0af6417d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-18T22:18:42+08:00" />
<meta property="article:modified_time" content="2024-03-18T22:18:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">在Latex中优雅的插入svg图片(Ubuntu22.04)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_4" rel="nofollow">一、前言</a></li><li><a href="#_29" rel="nofollow">二、准备工作</a></li><li><a href="#_45" rel="nofollow">三、脚本编程</a></li><li><a href="#_90" rel="nofollow">四、结论</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_4"></a>一、前言</h2> 
<p>在 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         LaTeX 
        
       
      
        \LaTeX 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.8988em; vertical-align: -0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right: -0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.6833em;"><span class="" style="top: -2.905em;"><span class="pstrut" style="height: 2.7em;"></span><span class="mord"><span class="mord textrm mtight sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right: -0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right: -0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.4678em;"><span class="" style="top: -2.7845em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.2155em;"><span class=""></span></span></span></span><span class="mspace" style="margin-right: -0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span></span> 中，插入图片常用的为 <strong>figure</strong> 环境加 <code>\includegraphics</code> 命令：</p> 
<pre><code class="prism language-bash"><span class="token punctuation">\</span>begin<span class="token punctuation">{<!-- --></span>figure<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token operator">!</span>htbp<span class="token punctuation">]</span>
	<span class="token punctuation">\</span>centering
	<span class="token punctuation">\</span>includegraphics<span class="token punctuation">[</span>width<span class="token operator">=</span><span class="token punctuation">\</span>textwidth<span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span>图片名.jpg/jpeg/png/pdf<span class="token punctuation">}</span>
	<span class="token punctuation">\</span>caption<span class="token punctuation">{<!-- --></span>标题<span class="token punctuation">}</span><span class="token punctuation">\</span>label<span class="token punctuation">{<!-- --></span>标签<span class="token punctuation">}</span>
<span class="token punctuation">\</span>end<span class="token punctuation">{<!-- --></span>figure<span class="token punctuation">}</span>
</code></pre> 
<p>然而如果我们的图片为 <strong>SVG</strong> 图，直接进行插入是会报错的：</p> 
<p><img src="https://images2.imgbox.com/da/75/4fLQfNQc_o.png" alt="在这里插入图片描述"><br> 主要报错信息如下：</p> 
<pre><code class="prism language-bash"><span class="token operator">!</span> Unable to <span class="token builtin class-name">read</span> an entire line---bufsize<span class="token operator">=</span><span class="token number">200000</span>. Please increase buf_size <span class="token keyword">in</span> texmf.cnf.
</code></pre> 
<p>百度是能找到很多 <strong>svg</strong> 图转其他格式图片的方法的，用 <strong>Python</strong> 也能做，这里主要介绍结合 <strong>bash</strong> 脚本进行批量处理。</p> 
<hr> 
<h2><a id="_29"></a>二、准备工作</h2> 
<p>首先使用 <code>apt-get</code> 安装 <code>inkscape</code> 工具：</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> inkscape <span class="token parameter variable">-y</span>
</code></pre> 
<p>其主要思路就是使用 <code>inkscape</code> 工具将目录下的 <strong>svg</strong> 图片逐一转换为 <strong>pdf</strong> 文件，这样便能通过上述 <code>\includegraphics</code> 命令插入：</p> 
<pre><code class="prism language-bash">inkscape --export-filename<span class="token operator">=</span>图片名.pdf 图片名.svg
</code></pre> 
<hr> 
<h2><a id="_45"></a>三、脚本编程</h2> 
<p>对于一整个文件夹的 <strong>svg</strong> 图片，我们希望能通过脚本实现自动将其全部转换为 <strong>pdf</strong> 文件以方便我们插入，在 <strong>svg</strong> 图片目录下打开终端，新建文件 <code>convert_svg_to_pdf.sh</code>：</p> 
<pre><code class="prism language-bash"><span class="token function">vim</span> convert_svg_to_pdf.sh
</code></pre> 
<p>具体 <code>bash</code> 语句如下：</p> 
<pre><code class="prism language-bash"><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># 遍历当前目录下的所有.svg文件</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">file</span> <span class="token keyword">in</span> *.svg<span class="token punctuation">;</span> <span class="token keyword">do</span>
  <span class="token comment"># 检查文件是否存在</span>
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> <span class="token string">"<span class="token variable">$file</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token comment"># 移除文件扩展名，准备输出文件名</span>
    <span class="token assign-left variable">base_name</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">basename</span> <span class="token string">"<span class="token variable">$file</span>"</span> .svg<span class="token variable">)</span></span>
    <span class="token comment"># 使用Inkscape命令转换文件</span>
    inkscape --export-filename<span class="token operator">=</span><span class="token string">"<span class="token variable">${base_name}</span>.pdf"</span> <span class="token string">"<span class="token variable">$file</span>"</span>
  <span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$file</span> does not exist."</span>
  <span class="token keyword">fi</span>
<span class="token keyword">done</span>
</code></pre> 
<p>按下 <code>esc</code> 键，输入 <code>:wq</code>，保存并退出，通过如下命令运行此脚本：</p> 
<pre><code class="prism language-bash"><span class="token function">bash</span> convert_svg_to_pdf.sh
</code></pre> 
<p>可以看到目录下的 <strong>svg</strong> 图片都生成了对应的 <strong>pdf</strong> 文件，如此便可通过如下命令插入 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         LaTeX 
        
       
      
        \LaTeX 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.8988em; vertical-align: -0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right: -0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.6833em;"><span class="" style="top: -2.905em;"><span class="pstrut" style="height: 2.7em;"></span><span class="mord"><span class="mord textrm mtight sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right: -0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right: -0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.4678em;"><span class="" style="top: -2.7845em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.2155em;"><span class=""></span></span></span></span><span class="mspace" style="margin-right: -0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span></span> 中：</p> 
<pre><code class="prism language-bash"><span class="token punctuation">\</span>begin<span class="token punctuation">{<!-- --></span>figure<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token operator">!</span>htbp<span class="token punctuation">]</span>
	<span class="token punctuation">\</span>centering
	<span class="token punctuation">\</span>includegraphics<span class="token punctuation">[</span>width<span class="token operator">=</span><span class="token punctuation">\</span>textwidth<span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span>图片名.pdf<span class="token punctuation">}</span>
	<span class="token punctuation">\</span>caption<span class="token punctuation">{<!-- --></span>标题<span class="token punctuation">}</span><span class="token punctuation">\</span>label<span class="token punctuation">{<!-- --></span>标签<span class="token punctuation">}</span>
<span class="token punctuation">\</span>end<span class="token punctuation">{<!-- --></span>figure<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h2><a id="_90"></a>四、结论</h2> 
<p>相比于将 <strong>svg</strong> 图片通过网页转为其他格式图片，此方法能批量处理文件夹下的大量 <strong>svg</strong> 图片，方便快捷，就是会生成新的 <strong>pdf</strong> 文件占用内存。</p> 
<hr> 
<p>谢谢！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/76c45274e764d06b37c9602008c8719d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">后端工程师快速使用vue和Element</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/69211166b0cd920a57218411713e6427/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C&#43;&#43;实现直接使用初始化列表来实现成员变量初始化</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>