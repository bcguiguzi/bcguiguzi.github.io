<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CS143 环境搭建全流程 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CS143 环境搭建全流程" />
<meta property="og:description" content="课程网站：这里和这里
edX上也开设了这门课：这里
2022.9.24 更新：添加了直接在Linux上配置的步骤
在Linux上配置环境 老师提供的环境比较简陋，因此我从PA3开始在自己配置的Linux上做作业。
我的用是Ubuntu22.04，其他Debian系的系统应该都可以的。
首先打开命令行，输入：
$ sudo apt-get install flex bison build-essential csh openjdk-6-jdk libxaw7-dev 如果你用C&#43;&#43;做作业可以去掉openjdk-6-jdk。
接着创建文件夹：
$ sudo mkdir /usr/class 其他目录创建也完全没有问题，只要一会儿配置环境变量时相应地修改一下位置就可以了。
输入：
$ sudo chown $USER /usr/class $ cd /usr/class $ wget https://courses.edx.org/asset-v1:StanfordOnline&#43;SOE.YCSCS1&#43;1T2020&#43;type@asset&#43;block@student-dist.tar.gz 解压：
$ tar -xf student-dist.tar.gz 配置环境变量：
$ export PATH=$PATH:/usr/class/bin 如果你不是在usr/class下解压的文件，需要根据你自己的路径配置。
课程上没说，但你还需要输入以下命令：
$ sudo apt-get install libc6-i386 由于我已经做完了PA2，所以我不用配置flex了，至此配置完成。
如果你要做PA2的话，还需要安装旧版本flex，因为上面的命令会安装最新版的flex导致不兼容，对于此，你可以去这里。
直接使用课程提供的环境 安装Virtual Box 网址：https://www.virtualbox.org/wiki/Downloads
安装步骤中没有什么特别要说的点，网上的安装教程也有很多了。
安装VM镜像 下载 这个镜像可以在edX上找到，但是似乎要花钱升级课程后才能下载：
通过一番查找，我发现在B站上有人已经分享了这个文件，下面是链接，将链接中的vbox文件夹整体下载即可。
链接：https://pan.baidu.com/s/1DcEyrQyBIzbZ1577RTUA_Q
提取码：xobv
配置 在Virtual Box的注册中找到上面下载的Complier.vbox并添加。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/51e44a70e17337cefc284020afe63986/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-24T14:34:24+08:00" />
<meta property="article:modified_time" content="2022-09-24T14:34:24+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CS143 环境搭建全流程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>课程网站：<a href="https://web.stanford.edu/class/cs143/" rel="nofollow">这里</a>和<a href="http://openclassroom.stanford.edu/MainFolder/CoursePage.php?course=Compilers" rel="nofollow">这里</a></p> 
<p><code>edX</code>上也开设了这门课：<a href="https://learning.edx.org/course/course-v1:StanfordOnline+SOE.YCSCS1+2T2020/home" rel="nofollow">这里</a></p> 
<p>2022.9.24 更新：添加了直接在<code>Linux</code>上配置的步骤</p> 
<h3><a id="Linux_6"></a>在Linux上配置环境</h3> 
<p>老师提供的环境比较简陋，因此我从<code>PA3</code>开始在自己配置的<code>Linux</code>上做作业。</p> 
<p>我的用是<code>Ubuntu22.04</code>，其他<code>Debian</code>系的系统应该都可以的。</p> 
<p>首先打开命令行，输入：</p> 
<pre><code class="prism language-shell">$ <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> flex bison build-essential csh openjdk-6-jdk libxaw7-dev
</code></pre> 
<p>如果你用<code>C++</code>做作业可以去掉<code>openjdk-6-jdk</code>。</p> 
<p>接着创建文件夹：</p> 
<pre><code class="prism language-shell">$ <span class="token function">sudo</span> <span class="token function">mkdir</span> /usr/class
</code></pre> 
<p>其他目录创建也完全没有问题，只要一会儿配置环境变量时相应地修改一下位置就可以了。</p> 
<p>输入：</p> 
<pre><code class="prism language-shell">$ <span class="token function">sudo</span> <span class="token function">chown</span> <span class="token environment constant">$USER</span> /usr/class
$ <span class="token builtin class-name">cd</span> /usr/class
$ <span class="token function">wget</span> https://courses.edx.org/asset-v1:StanfordOnline+SOE.YCSCS1+1T2020+type@asset+block@student-dist.tar.gz
</code></pre> 
<p>解压：</p> 
<pre><code class="prism language-shell">$ <span class="token function">tar</span> -xf student-dist.tar.gz
</code></pre> 
<p>配置环境变量：</p> 
<pre><code class="prism language-shell">$ <span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span>:/usr/class/bin
</code></pre> 
<p>如果你不是在<code>usr/class</code>下解压的文件，需要根据你自己的路径配置。</p> 
<p>课程上没说，但你还需要输入以下命令：</p> 
<pre><code class="prism language-shell">$ <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libc6-i386
</code></pre> 
<p>由于我已经做完了<code>PA2</code>，所以我不用配置<code>flex</code>了，至此配置完成。</p> 
<p>如果你要做<code>PA2</code>的话，还需要安装旧版本<code>flex</code>，因为上面的命令会安装最新版的<code>flex</code>导致不兼容，对于此，你可以去<a href="https://zhuanlan.zhihu.com/p/226190284" rel="nofollow">这里</a>。</p> 
<h3><a id="_61"></a>直接使用课程提供的环境</h3> 
<h3><a id="Virtual_Box_63"></a>安装Virtual Box</h3> 
<p>网址：<a href="https://www.virtualbox.org/wiki/Downloads" rel="nofollow">https://www.virtualbox.org/wiki/Downloads</a></p> 
<p><img src="https://images2.imgbox.com/5c/45/z2HeHh5b_o.png" alt=""></p> 
<p>安装步骤中没有什么特别要说的点，网上的安装教程也有很多了。</p> 
<h3><a id="VM_72"></a>安装VM镜像</h3> 
<h4><a id="_74"></a>下载</h4> 
<p>这个镜像可以在<code>edX</code>上找到，但是似乎要花钱升级课程后才能下载：</p> 
<p><img src="https://images2.imgbox.com/76/80/sZZxDj6J_o.png" alt=""></p> 
<p>通过一番查找，我发现在B站上有人已经分享了这个文件，下面是链接，将链接中的<code>vbox</code>文件夹整体下载即可。</p> 
<p>链接：<a href="https://pan.baidu.com/s/1DcEyrQyBIzbZ1577RTUA_Q" rel="nofollow">https://pan.baidu.com/s/1DcEyrQyBIzbZ1577RTUA_Q</a><br> 提取码：xobv</p> 
<h4><a id="_86"></a>配置</h4> 
<p>在<code>Virtual Box</code>的注册中找到上面下载的<code>Complier.vbox</code>并添加。</p> 
<p><img src="https://images2.imgbox.com/89/19/FJxQaDo6_o.png" alt=""></p> 
<p>添加后：</p> 
<p><img src="https://images2.imgbox.com/08/87/vFoIMpfJ_o.png" alt=""></p> 
<h4><a id="_98"></a>设置共享文件夹</h4> 
<p>可以通过共享文件夹在<code>windows</code>和<code>linux</code>系统间同步文件。</p> 
<p>先自己在合适的位置新建一个文件夹</p> 
<p>然后如下图所示进行配置：</p> 
<p><img src="https://images2.imgbox.com/78/53/f5EuH4QC_o.png" alt=""></p> 
<p>运行虚拟机，在其中的命令行输入<code>sudo usermod -a -G vboxsf compilers</code>，后重启虚拟机就可以了。</p> 
<p><img src="https://images2.imgbox.com/79/c3/atAcDKlG_o.png" alt=""></p> 
<h4><a id="_114"></a>下载用于判作业的脚本</h4> 
<p>判作业的脚本在官网上也没有，我从<code>github</code>找到了：</p> 
<p><a href="https://github.com/s7hoang/stanford-lagunita-cs1-compilers-grading-scripts">https://github.com/s7hoang/stanford-lagunita-cs1-compilers-grading-scripts</a></p> 
<p>或者从网盘下载：</p> 
<p>链接：<a href="https://pan.baidu.com/s/1s70FF3N_8xrbNDB_L5oMrQ" rel="nofollow">https://pan.baidu.com/s/1s70FF3N_8xrbNDB_L5oMrQ</a><br> 提取码：darg</p> 
<p>下载后将4个脚本放到之前创建的共享文件夹中：</p> 
<p><img src="https://images2.imgbox.com/30/10/sZmnhk3q_o.png" alt=""></p> 
<p>打开虚拟机，查看是否同步至<code>linux</code>系统中：</p> 
<p><img src="https://images2.imgbox.com/b4/50/BYt1SlhR_o.png" alt=""></p> 
<p>执行以下命令，将脚本移动到相应作业所在的文件夹中，其中的<code>&lt;FolderName&gt;</code>代指共享文件夹名称，<code>&lt;num&gt;</code>代指脚本号<code>1-4</code>中的一个。<br> 要注意的是由于<code>mooc</code>版本的课程相比于学校课程多了一个作业，因此脚本号与作业号产生了偏差，第<code>i</code>个脚本对应的是第<code>i+1</code>个作业：</p> 
<pre><code class="prism language-shell">$ <span class="token function">mv</span> /media/sf_<span class="token operator">&lt;</span>FolderName<span class="token operator">&gt;</span>/pa<span class="token operator">&lt;</span>num<span class="token operator">&gt;</span>-grading.pl /home/compilers/cool/assignment/PA<span class="token operator">&lt;</span>num+<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
</code></pre> 
<p>如下所示，脚本1对应的是作业2，而作业1没有判题脚本：</p> 
<p><img src="https://images2.imgbox.com/24/fb/YuyUL1QP_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-YeYsxkXG-1662249796917)(C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220904073821082.png)]"></p> 
<p>当你完成作业后，在对应作业的目录下执行：</p> 
<pre><code class="prism language-shell">$ perl pa<span class="token operator">&lt;</span>num<span class="token operator">&gt;</span>-grading.pl
</code></pre> 
<p>即可对作业进行判分。</p> 
<h3><a id="hello_worldcl_155"></a>运行hello_world.cl</h3> 
<p>最后运行一个示例，输入以下命令：</p> 
<pre><code class="prism language-shell">$ <span class="token function">mkdir</span> examples
$ <span class="token builtin class-name">cd</span> examples
$ <span class="token function">cp</span> /usr/class/cs143/examples/hello_world.cl <span class="token builtin class-name">.</span>
$ coolc hello_world.cl
$ spim hello_world.s
</code></pre> 
<p>注意第三行最后的<code>.</code>。</p> 
<p>如下所示：</p> 
<p><img src="https://images2.imgbox.com/eb/c1/v6qAKCzP_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b2cf274745852a035906e951faa8c46d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">局域网内Windows服务器远程桌面连接失败是什么原因呢</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/05d7b76fefbf46d702e6c4744d04bcbe/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">win10安装ubuntu18.04双系统，创建EFI分区</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>