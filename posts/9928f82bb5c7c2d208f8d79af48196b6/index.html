<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>导入sql文件报 USING BTREE 错误解决办法 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="导入sql文件报 USING BTREE 错误解决办法" />
<meta property="og:description" content="错误　在往服务器 上部署项目，运行sql文件后 ，就出现了如下错误：
[Err] 1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ‘USING BTREE, CONSTRAINT tb_roles_menus_ibfk_1 FOREIGN KEY (menu_id) REFERE’ at line 5；
翻译过来为：您的SQL语法有错误；请查看对应于MySQL服务器版本的手册，以获取在“USING BTREE；
原因
意思就是说两个数据库版本不一致，导致错误，后来经过查询发现，mysql 5.1版本有错误；和mysql 5.0以及其他版本在处理到索引语句时有所区别,才会报这种错，后来又用两种版本的导出sql文件 ，专门对比了下
如图：
MySql5.1.6版本
mysql-5.6.44版本
两边的语句有明显差别。
解决办法
1.删除主键primary KEY 主键id后的 USING BTREE；
2.修改 KEY role_id (role_id) USING BTREE, 语句格式为KEY role_id USING BTREE (role_id)，错误得到解决。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/9928f82bb5c7c2d208f8d79af48196b6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-11-12T14:48:57+08:00" />
<meta property="article:modified_time" content="2019-11-12T14:48:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">导入sql文件报 USING BTREE 错误解决办法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>错误</strong>　<br> 　　在往服务器 上部署项目，运行sql文件后 ，就出现了如下错误：<br> 　　[Err] 1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ‘USING BTREE, CONSTRAINT <code>tb_roles_menus_ibfk_1</code> FOREIGN KEY (<code>menu_id</code>) REFERE’ at line 5；<br> 　　翻译过来为：您的SQL语法有错误；请查看对应于MySQL服务器版本的手册，以获取在“USING BTREE；<br> 　　<br> <strong>原因</strong><br> 　　意思就是说两个数据库版本不一致，导致错误，后来经过查询发现，mysql 5.1版本有错误；和mysql 5.0以及其他版本在处理到索引语句时有所区别,才会报这种错，后来又用两种版本的导出sql文件 ，专门对比了下<br> 　　如图：<br> 　　<mark>MySql5.1.6版本</mark><br> 　　<img src="https://images2.imgbox.com/9d/51/GrrdoQWW_o.png" alt="在这里插入图片描述"><br> 　　<mark>mysql-5.6.44版本</mark><br> 　　<img src="https://images2.imgbox.com/de/01/ADAQeF6H_o.png" alt="在这里插入图片描述"><br> 　　两边的语句有明显差别。<br> 　　<br> <strong>解决办法</strong><br> 1.删除主键primary KEY 主键id后的 USING BTREE；<br> 2.修改 KEY <code>role_id</code> (<code>role_id</code>) USING BTREE, 语句格式为KEY <code>role_id</code> USING BTREE (<code>role_id</code>)，错误得到解决。<br> （如有不对 ，欢迎指正）</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/67cd807dbbc64338214cc05f12bbe22b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">flutter 地图最简单的实现方案</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/657e820e709ec5fe60f4f1d1f8434722/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">在一个字符串中找出最长的数字串(python&amp;&amp;C&#43;&#43;解法)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>