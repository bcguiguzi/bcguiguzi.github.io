<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【自制osh数据集】ubuntu18.04.6虚拟机下安装GNU radio实现调制识别数据集生成 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【自制osh数据集】ubuntu18.04.6虚拟机下安装GNU radio实现调制识别数据集生成" />
<meta property="og:description" content="提前安装好虚拟机软件，我用的是VM workstations pro 16，网上自行下载安装，ubuntu版本是18.04.6 LTS，网上教程很多
一、更换清华镜像源提升下载速度 如何查找对应系统版本的清华镜像源并修改镜像源
提示：如果source.list文本是only read 无法修改，可以通过将修改镜像源前的所有指令加上sudo提升权限。版本错误的镜像源有可能导致链接失败，所以一定要找到系统版本的镜像源。
#找到/etc/apt/sources.list，先备份source.list 再进行指令操作 sudo gedit /etc/apt/sources.list #删掉原来的，增加新的且保存后在进行更新源 sudo apt-get update 二、下载并安装GNU radio 直接使用指令安装，无需下载安装包压缩文件，此时默认安装的是3.7.11版本的，无需再安装其他依赖，一般不会报错，如果因为网速问题失败可以重新输入指令下载
sudo apt-get install gnuradio 三、安装Python 默认安装2.7.17，后续安装过程中不知道为什么也会安装Python3的版本，暂且不用管他
sudo apt-get install python 四、安装pip 默认是pip2，后续可通过pip install xxx 安装一些组件
sudo apt-get install python-pip 五、安装cmake sudo apt-get install cmake 六、安装gr-mediatools和gr-mapper GitHub上下载
gr-mediatools
gr-mapper
或者
git clone https://github.com/osh/gr-mediatools.git git clone https://github.com/gr-vt/gr-mapper.git #该方法需要提前安装好git组件，不然无法通过git安装 解压到home后分别是
在gr-mediatools的lib文件夹中找到mediatools_audiosource_impl.cc文件中91行
找到d_frame = avcodec_alloc_frame();
改成d_frame = av_frame_alloc();
并执行指令sudo apt-get install libavcodec-dev libavformat-dev" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/c6c51872d9a0d15662ec0da8edabafc2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-25T19:36:46+08:00" />
<meta property="article:modified_time" content="2022-04-25T19:36:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【自制osh数据集】ubuntu18.04.6虚拟机下安装GNU radio实现调制识别数据集生成</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>提前安装好虚拟机软件，我用的是<strong>VM workstations pro 16</strong>，网上自行下载安装，<strong>ubuntu</strong>版本是<strong>18.04.6 LTS</strong>，网上教程很多</p> 
<h3><a id="_2"></a>一、更换清华镜像源提升下载速度</h3> 
<p><a href="https://blog.csdn.net/qq_36895015/article/details/120906818">如何查找对应系统版本的清华镜像源并修改镜像源</a><br> 提示：如果source.list文本是only read 无法修改，可以通过将修改镜像源前的所有指令加上sudo提升权限。版本错误的镜像源有可能导致链接失败，所以一定要找到系统版本的镜像源。</p> 
<pre><code>#找到/etc/apt/sources.list，先备份source.list 再进行指令操作
sudo gedit /etc/apt/sources.list
#删掉原来的，增加新的且保存后在进行更新源
sudo apt-get update
</code></pre> 
<h3><a id="GNU_radio_13"></a>二、下载并安装GNU radio</h3> 
<p>直接使用指令安装，无需下载安装包压缩文件，此时默认安装的是3.7.11版本的，无需再安装其他依赖，一般不会报错，如果因为网速问题失败可以重新输入指令下载</p> 
<pre><code>sudo apt-get install gnuradio
</code></pre> 
<h3><a id="Python_22"></a>三、安装Python</h3> 
<p>默认安装2.7.17，后续安装过程中不知道为什么也会安装Python3的版本，暂且不用管他</p> 
<pre><code>sudo apt-get install python
</code></pre> 
<h3><a id="pip_28"></a>四、安装pip</h3> 
<p>默认是pip2，后续可通过<strong>pip install xxx</strong> 安装一些组件</p> 
<pre><code>sudo apt-get install python-pip
</code></pre> 
<h3><a id="cmake_34"></a>五、安装cmake</h3> 
<pre><code>sudo apt-get install cmake
</code></pre> 
<h3><a id="grmediatoolsgrmapper_40"></a>六、安装gr-mediatools和gr-mapper</h3> 
<p>GitHub上下载<br> <a href="https://github.com/osh/gr-mediatools">gr-mediatools</a><br> <a href="https://github.com/gr-vt/gr-mapper">gr-mapper</a><br> 或者</p> 
<pre><code>git clone https://github.com/osh/gr-mediatools.git
git clone https://github.com/gr-vt/gr-mapper.git
#该方法需要提前安装好git组件，不然无法通过git安装
</code></pre> 
<p>解压到home后分别是<br> <img src="https://images2.imgbox.com/de/50/VGCtM3wq_o.png" alt="在这里插入图片描述"><br> 在<strong>gr-mediatools</strong>的<strong>lib</strong>文件夹中找到<strong>mediatools_audiosource_impl.cc</strong>文件中91行<br> 找到<code>d_frame = avcodec_alloc_frame();</code><br> 改成<code>d_frame = av_frame_alloc();</code><br> 并执行指令<code>sudo apt-get install libavcodec-dev libavformat-dev</code><br> <strong>然后进行安装</strong></p> 
<pre><code>cd gr-mediatools-master
mkdir build
cd build
cmake .. #会报错，后面有解决方法
make -j8 #多线程进行安装，否则特别特别慢
sudo make install
sudo ldconfig
</code></pre> 
<p><strong>gr-mediatools中cmake 报错</strong><br> ①<code>-- Could NOT find Doxygen (missing: DOXYGEN_EXECUTABLE) </code><br> 解决方法：<code>sudo apt-get install doxygen</code><br> ②<code>-- Checking for module SWIG -- Disabling SWIG because version check failed. </code><br> 解决方法：<code>sudo apt-get install swig</code><br> ③<code>-- Found Doxygen: /usr/bin/doxygen (found version "1.8.13") found components: doxygen missing components: dot</code><br> 解决方法：<code>sudo apt-get install graphviz</code></p> 
<p>等等一系列，总之就是缺什么，就用<code>sudo apt-get install xxxx</code>的方法安装什么</p> 
<p><strong>mappe</strong>r同理也是上面的步骤</p> 
<pre><code>cd gr-mapper-master
mkdir build
cd build
cmake .. 
make -j8 #多线程进行安装，否则特别特别慢
sudo make install
sudo ldconfig
</code></pre> 
<p>以上过程中出现的<strong>warning</strong>我都没有管，只要不报错<strong>变红</strong>，我都默认继续安装下去</p> 
<h3><a id="pycharm_90"></a>七、安装pycharm</h3> 
<p>网上自行搜索<strong>pycharm community</strong><br> 安装后找不到打开方式使用指令：</p> 
<pre><code>which pycharm-community
</code></pre> 
<p>结果就是安装路径</p> 
<h3><a id="GitHubdataset_98"></a>八、GitHub上下载dataset数据集并运行</h3> 
<p>1.导入project到pycharm，设置编译环境为python2.7<br> 一开始打开有可能是默认python3.6，但是源代码支持python2，所以需要在<strong>settings</strong>中更改编译环境，在更改的同时注意：<strong>要将全局的package都导入到新的python2.7编译环境中，否则会编译失败导致出现<code>no module name "gnuradio"</code>等等问题</strong>。不会改python编译环境的网上百度一下就有。<br> <img src="https://images2.imgbox.com/7e/05/GojmNnAN_o.png" alt="在这里插入图片描述">需勾选<strong>inherit global site-package</strong>和<strong>make available to all project</strong>，不然新的环境下啥package都没有</p> 
<p>2.代码中会有各种模组的缺失，可以在终端<code>pip install xxx</code>安装。方法跟在平时Windows系统下的一样。</p> 
<h3><a id="_106"></a>九、结果</h3> 
<p>代码会有<strong>worning</strong>的警告（<strong>head missing</strong>和<strong>fractional_interpolator_ff</strong>要求替换成<strong>upsample</strong>的问题），修改方法暂时还没想到，希望有知道的可以评论留言一下。但是总体上代码可以运行，就是时间长一点，需要等好几分钟。最后跑出来的数据集我放入最初osh的那个CNN网络训练了一下，跟开源的数据集结果相差不大，自制的数据集应该是没有问题了。后续有任何问题或解决方法再补充吧！</p> 
<h2><a id="_109"></a>撒花完结，感谢互联网上提供各种各样解决方法的网友们！！！</h2>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fd1a32ff6822a9878e23b90b033c3da9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于空间句法的城市道路可达性分析</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f70bdbeaf06a63f9e01cc5b429da8ff7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java Servlet用户管理案例报错：HTTP Status 500 -java.lang.NullPointerException</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>