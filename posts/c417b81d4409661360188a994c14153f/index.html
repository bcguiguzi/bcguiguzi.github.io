<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Currency Exchange--（最短路径算法） - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Currency Exchange--（最短路径算法）" />
<meta property="og:description" content="Currency Exchange Time Limit : 2000/1000ms (Java/Other) Memory Limit : 60000/30000K (Java/Other) Total Submission(s) : 74 Accepted Submission(s) : 19 Problem Description Several currency exchange points are working in our city. Let us suppose that each point specializes in two particular currencies and performs exchange operations only with these currencies. There can be several points specializing in the same pair of currencies. Each point has its own exchange rates, exchange rate of A to B is the quantity of B you get for 1A." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/c417b81d4409661360188a994c14153f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-08-08T19:36:39+08:00" />
<meta property="article:modified_time" content="2017-08-08T19:36:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Currency Exchange--（最短路径算法）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span style="font-size:18px"></span></p> 
<h2 style='font-family:"Times New Roman",Times,serif; color:rgb(26,92,200); text-align:center; margin:18px auto; font-size:28px'> Currency Exchange</h2> 
<h6 style='font-family:"Times New Roman",Times,serif; font-size:13px; text-align:center; color:green; margin:0px auto'> Time Limit : 2000/1000ms (Java/Other)   Memory Limit : 60000/30000K (Java/Other)</h6> 
<h6 style='font-family:"Times New Roman",Times,serif; font-size:13px; text-align:center; color:green; margin:0px auto'> Total Submission(s) : 74   Accepted Submission(s) : 19</h6> 
<div class="panel_title" align="left" style="height:38px; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
  Problem Description 
</div> 
<div class="panel_content" style='height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:"Times New Roman"'>
  Several currency exchange points are working in our city. Let us suppose that each point specializes in two particular currencies and performs exchange operations only with these currencies. There can be several points specializing in the same pair of currencies. Each point has its own exchange rates, exchange rate of A to B is the quantity of B you get for 1A. Also each exchange point has some commission, the sum you have to pay for your exchange operation. Commission is always collected in source currency.  
 <br> For example, if you want to exchange 100 US Dollars into Russian Rubles at the exchange point, where the exchange rate is 29.75, and the commission is 0.39 you will get (100 - 0.39) * 29.75 = 2963.3975RUR.  
 <br> You surely know that there are N different currencies you can deal with in our city. Let us assign unique integer number from 1 to N to each currency. Then each exchange point can be described with 6 numbers: integer A and B - numbers of currencies it exchanges, and real R 
 <sub>AB</sub>, C 
 <sub>AB</sub>, R 
 <sub>BA</sub> and C 
 <sub>BA</sub> - exchange rates and commissions when exchanging A to B and B to A respectively.  
 <br> Nick has some money in currency S and wonders if he can somehow, after some exchange operations, increase his capital. Of course, he wants to have his money in currency S in the end. Help him to answer this difficult question. Nick must always have non-negative sum of money while making his operations.  
 <br> 
</div> 
<div class="panel_bottom" style="height:auto; margin:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:14px">
    
</div> 
<br style="font-family:Verdana,Arial,Helvetica,sans-serif; font-size:14px"> 
<div class="panel_title" align="left" style="height:38px; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
  Input 
</div> 
<div class="panel_content" style='height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:"Times New Roman"'>
  The first line of the input contains four numbers: N - the number of currencies, M - the number of exchange points, S - the number of currency Nick has and V - the quantity of currency units he has. The following M lines contain 6 numbers each - the description of the corresponding exchange point - in specified above order. Numbers are separated by one or more spaces. 1&lt;=S&lt;=N&lt;=100, 1&lt;=M&lt;=100, V is real number, 0&lt;=V&lt;=10&lt;sup&gt;3&lt;/sup&gt;. &lt;br&gt;For each point exchange rates and commissions are real, given with at most two digits after the decimal point, 10&lt;sup&gt;-2&lt;/sup&gt;&lt;=rate&lt;=10&lt;sup&gt;2&lt;/sup&gt;, 0&lt;=commission&lt;=10&lt;sup&gt;2&lt;/sup&gt;. &lt;br&gt;Let us call some sequence of the exchange operations simple if no exchange point is used more than once in this sequence. You may assume that ratio of the numeric values of the sums at the end and at the beginning of any simple sequence of the exchange operations will be less than 10&lt;sup&gt;4&lt;/sup&gt;. &lt;br&gt; 
</div> 
<div class="panel_bottom" style="height:auto; margin:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:14px">
    
</div> 
<br style="font-family:Verdana,Arial,Helvetica,sans-serif; font-size:14px"> 
<div class="panel_title" align="left" style="height:38px; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
  Output 
</div> 
<div class="panel_content" style='height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:"Times New Roman"'>
  If Nick can increase his wealth, output YES, in other case output NO to the output file. 
</div> 
<div class="panel_bottom" style="height:auto; margin:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:14px">
    
</div> 
<br style="font-family:Verdana,Arial,Helvetica,sans-serif; font-size:14px"> 
<div class="panel_title" align="left" style="height:38px; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
  Sample Input 
</div> 
<div class="panel_content" style='height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:"Times New Roman"'> 
 <pre style="margin-top:0px; margin-bottom:0px">  
  <div style='margin:0px; padding:0px; font-family:"Courier New",Courier,monospace'>
   
   3 2 1 20.0
1 2 1.00 1.00 1.00 1.00
2 3 1.10 1.00 1.10 1.00

  
  </div></pre> 
</div> 
<div class="panel_bottom" style="height:auto; margin:0px; font-family:Verdana,Arial,Helvetica,sans-serif; font-size:14px">
    
</div> 
<br style="font-family:Verdana,Arial,Helvetica,sans-serif; font-size:14px"> 
<div class="panel_title" align="left" style="height:38px; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
  Sample Output 
</div> 
<div class="panel_content" style='height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:"Times New Roman"'> 
 <pre style="margin-top:0px; margin-bottom:0px">  
  <div style='margin:0px; padding:0px; font-family:"Courier New",Courier,monospace'>
   
   YES
  
  </div></pre> 
</div> 
<br> 
<p></p> 
<p><span style="font-size:18px">用Bellman算法若能求出一个正权回路，那么货币经转化会越来越大</span></p> 
<p><span style="font-size:18px">代码（Bellman-Ford）：</span></p> 
<p><span style="font-size:18px"></span></p> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;cstdio&gt;
#include&lt;algorithm&gt;
#include&lt;cmath&gt;
#include&lt;iomanip&gt;
#include&lt;queue&gt;
#include&lt;cstring&gt;
using namespace std;
struct node{
    int a,b;
    double r,c;
}p[205];
int n,m,s;
double v,dis[105];
int main()
{
    int i,j,a,b;
    double r1,c1,r2,c2;
    scanf("%d%d%d%lf",&amp;n,&amp;m,&amp;s,&amp;v);
    for(i=1;i&lt;=m;i++)  //n个exchange point化为2*m个边
    {
        scanf("%d%d%lf%lf%lf%lf",&amp;a,&amp;b,&amp;r1,&amp;c1,&amp;r2,&amp;c2);
        p[i].a=a; p[i].b=b; p[i].r=r1; p[i].c=c1;
        p[i+m].a=b; p[i+m].b=a; p[i+m].r=r2; p[i+m].c=c2;
    }
    for(i=1;i&lt;=n-1;i++)
        dis[i]=0;
    dis[s]=v;
    for(i=1;i&lt;=n;i++)
    {
        for(j=1;j&lt;=2*m;j++)
        {
            double w=(dis[p[j].a]-p[j].c)*p[j].r;
            if(w&gt;dis[p[j].b]) {dis[p[j].b]=w;}
        }
    }
    bool flag=false;
    for(i=1;i&lt;=2*m;i++)
    {
        double w=(dis[p[i].a]-p[i].c)*p[i].r;
        if(w&gt;dis[p[i].b]) {flag=true; break;}  //存在正权回路
    }
    if(flag) printf("YES\n");
    else printf("NO\n");
    return 0;
}</code></pre> 
<p></p> 
<p><span style="font-size:18px">参考：http://blog.csdn.net/lyhvoyage/article/details/19281013<br> </span><br> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f98bfba9f52430f5391a83995d42442a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Android RecyclerView关于item无法充满屏幕的问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/775673fbfcd4893e303fe53d4e975e97/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">整理了一下linux/ubuntu里面卸载软件的方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>