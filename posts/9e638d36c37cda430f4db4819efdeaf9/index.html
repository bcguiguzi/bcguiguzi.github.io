<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux磁盘清理 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux磁盘清理" />
<meta property="og:description" content="目录 排查过程1、查看磁盘占用情况2. 按照占用大小进行倒排-当前目录及其子目录3.当前目录磁盘占用情况 清理命令 排查过程 1、查看磁盘占用情况 df -h df -h 命令用于显示磁盘空间的使用情况，以人类可读的方式呈现，其中：df 是 “disk free” 的缩写，用于查看文件系统的磁盘空间使用情况。-h 是 “human-readable” 的缩写，它让 df 命令以人类可读的方式显示磁盘空间信息，即将磁盘大小以适当的单位（如 GB、MB、KB）进行转换，以便更容易理解。
df -h 命令通常会列出以下信息：
Filesystem: 文件系统的名称或挂载点。Size: 文件系统的总大小，以人类可读的单位显示，如 GB、MB、KB。Used: 文件系统已使用的空间，以人类可读的单位显示。Used: 文件系统已使用的空间，以人类可读的单位显示。Avail: 文件系统剩余可用的空间，以人类可读的单位显示。Use%: 文件系统已使用空间的百分比。Mounted on: 文件系统的挂载点，即文件系统连接到的目录路径。
通过运行 df -h 命令，您可以快速了解系统中各个文件系统的磁盘使用情况，以便及时采取必要的管理或清理措施，以防止磁盘空间不足的问题。 2. 按照占用大小进行倒排-当前目录及其子目录 du -ah|sort -rn|head -10 用于查找并列出当前目录及其子目录下占用磁盘空间最大的文件或目录。下面是对命令的解释：
du -a: 这个部分是 du 命令，它用于计算目录及其子目录的磁盘使用情况。-a 选项表示列出每个文件和目录的详细信息，而不仅仅是目录的总大小。sort -rn: 这个部分是 sort 命令，它用于对 du 命令输出的结果进行排序。-r 选项表示按照逆序（从大到小）排序，-n 选项表示按照数值大小排序，而不是按照字母顺序。head -5: 这个部分是 head 命令，它用于显示排序后的结果的前几行。-5 选项表示显示前 5 行，即磁盘使用情况最大的前 5 个文件或目录 3.当前目录磁盘占用情况 du -hd 1|sort -rh|head -10 以下是对命令 du -h -d 1 | sort -rh 的解释：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/9e638d36c37cda430f4db4819efdeaf9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-24T11:23:34+08:00" />
<meta property="article:modified_time" content="2023-11-24T11:23:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux磁盘清理</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><ul><li><a href="#_1" rel="nofollow">排查过程</a></li><li><ul><li><a href="#1_2" rel="nofollow">1、查看磁盘占用情况</a></li><li><a href="#2__17" rel="nofollow">2. 按照占用大小进行倒排-当前目录及其子目录</a></li><li><a href="#3_25" rel="nofollow">3.当前目录磁盘占用情况</a></li></ul> 
   </li><li><a href="#_34" rel="nofollow">清理命令</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_1"></a>排查过程</h3> 
<h4><a id="1_2"></a>1、查看磁盘占用情况</h4> 
<pre><code class="prism language-shell"><span class="token function">df</span> <span class="token parameter variable">-h</span>
</code></pre> 
<blockquote> 
 <p>df -h 命令用于显示磁盘空间的使用情况，以人类可读的方式呈现，其中：df 是 “disk free” 的缩写，用于查看文件系统的磁盘空间使用情况。-h 是 “human-readable” 的缩写，它让 df 命令以人类可读的方式显示磁盘空间信息，即将磁盘大小以适当的单位（如 GB、MB、KB）进行转换，以便更容易理解。</p> 
</blockquote> 
<p><strong>df -h 命令通常会列出以下信息：</strong></p> 
<ol><li><mark>Filesystem</mark>: 文件系统的名称或挂载点。</li><li><mark>Size</mark>: 文件系统的总大小，以人类可读的单位显示，如 GB、MB、KB。Used: 文件系统已使用的空间，以人类可读的单位显示。</li><li><mark>Used</mark>: 文件系统已使用的空间，以人类可读的单位显示。</li><li><mark>Avail</mark>: 文件系统剩余可用的空间，以人类可读的单位显示。</li><li><mark>Use%</mark>: 文件系统已使用空间的百分比。</li><li><mark>Mounted on</mark>: 文件系统的挂载点，即文件系统连接到的目录路径。<br> 通过运行 df -h 命令，您可以快速了解系统中各个文件系统的磁盘使用情况，以便及时采取必要的管理或清理措施，以防止磁盘空间不足的问题。</li></ol> 
<h4><a id="2__17"></a>2. 按照占用大小进行倒排-当前目录及其子目录</h4> 
<pre><code class="prism language-shell"><span class="token function">du</span> -ah<span class="token operator">|</span><span class="token function">sort</span> -rn<span class="token operator">|</span><span class="token function">head</span> <span class="token parameter variable">-10</span>
</code></pre> 
<blockquote> 
 <p>用于查找并列出当前目录及其子目录下占用磁盘空间最大的文件或目录。下面是对命令的解释：</p> 
</blockquote> 
<ul><li>du -a: 这个部分是 du 命令，它用于计算目录及其子目录的磁盘使用情况。-a 选项表示列出每个文件和目录的详细信息，而不仅仅是目录的总大小。</li><li>sort -rn: 这个部分是 sort 命令，它用于对 du 命令输出的结果进行排序。-r 选项表示按照逆序（从大到小）排序，-n 选项表示按照数值大小排序，而不是按照字母顺序。</li><li>head -5: 这个部分是 head 命令，它用于显示排序后的结果的前几行。-5 选项表示显示前 5 行，即磁盘使用情况最大的前 5 个文件或目录</li></ul> 
<h4><a id="3_25"></a>3.当前目录磁盘占用情况</h4> 
<pre><code class="prism language-shell"><span class="token function">du</span> <span class="token parameter variable">-hd</span> <span class="token number">1</span><span class="token operator">|</span><span class="token function">sort</span> -rh<span class="token operator">|</span><span class="token function">head</span> <span class="token parameter variable">-10</span>
</code></pre> 
<p><strong>以下是对命令 du -h -d 1 | sort -rh 的解释：</strong></p> 
<ul><li>du: 该命令用于计算目录和文件的磁盘使用情况（磁盘占用量）。它的名字 “du” 是 “disk usage” 的缩写。-h: 选项表示以人类可读的格式显示结果，即以 GB、MB、KB 等易于理解的单位显示磁盘使用量。</li><li>-d 1: 选项表示只显示目录的直接子目录或文件的磁盘使用情况，而不会深入到子目录的子目录。这里的 “1” 指定了深度级别为 1，即只显示当前目录下的一级子目录和文件的磁盘使用情况。|: 这是管道操作符，用于将 du 命令的输出传递给后面的命令，以便进一步处理。</li><li>sort: 该命令用于对输入进行排序。-r: 选项表示将排序结果逆序排列，即从大到小排列。-h: 选项表示以人类可读的方式进行排序，即以 GB、MB、KB 等易于理解的单位进行排序。<br> <img src="https://images2.imgbox.com/db/fc/JFZezjMP_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="_34"></a>清理命令</h3> 
<p>1、清理日志文件<br> 系统的日志文件可能会占用大量的磁盘空间。可以使用以下命令清理日志文件：sudo rm -rf /var/log/*</p> 
<pre><code class="prism language-shell"><span class="token function">rm</span> <span class="token parameter variable">-rf</span> /var/log/*
</code></pre> 
<p>2、清理临时文件</p> 
<p>系统中的临时文件也可能会占用大量磁盘空间。可以使用以下命令清理临时文件：sudo rm -rf /tmp/*</p> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /tmp/*
</code></pre> 
<p>这将删除/tmp/目录下的所有临时文件。</p> 
<p>3、清理软件缓存</p> 
<p>软件缓存也可能会占用大量磁盘空间。可以使用以下命令清理软件缓存：sudo apt-get clean</p> 
<pre><code class="prism language-shell">
</code></pre> 
<p>4、检查大文件</p> 
<p>使用以下命令可以查找系统中的大文件：sudo find / -type f -size +100M</p> 
<p>这个命令可以找出大于100M的文件，可以根据自己实际情况进行调整，然后可以手动删除这些文件或将它们移动到其他位置。</p> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">apt-get</span> clean
</code></pre> 
<p>5、清理无用软件</p> 
<p>可以使用以下命令卸载不再需要的软件：sudo apt-get autoremove</p> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">apt-get</span> autoremove
</code></pre> 
<p>这将卸载不再需要的软件，并删除它们的相关文件和配置。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ddeee95edee134d5ad38fb554140b595/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于javaweb&#43;mysql的springboot校园报修管理系统(java&#43;springboot&#43;bootstrap&#43;jsp&#43;maven&#43;mysql)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3031256ed1a762d102ec1bec39cb6456/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">nvm安装使用及全局配置node</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>