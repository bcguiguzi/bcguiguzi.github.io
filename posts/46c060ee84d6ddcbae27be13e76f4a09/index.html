<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【数据结构】 Map和Set万字总结（搜索树&#43;哈希桶&#43;使用方法&#43;实现方法） - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【数据结构】 Map和Set万字总结（搜索树&#43;哈希桶&#43;使用方法&#43;实现方法）" />
<meta property="og:description" content="文章目录 Map和Set一、搜索树1.二叉搜索树的查找（search）2.二叉搜索树的插入3.二叉搜索树的删除4.性能分析 二、搜索方法1.概念 三、Map的使用1.概念：2.Map的常用方法：1.V put(K Key ,V Value )2.V get(Object key)3.V getOrDefault(Object key, V defaultValue)4.V remove(Object key)5.Set&lt;K&gt; keySet()6.Collection&lt;V&gt; values()7.Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet()8.boolean containsKey(Object key)9.boolean containsValue(Object value) 3.Map的注意事项 四、Set的使用1.Set的常用方法：1.boolean add(E e)2.void clear()3.boolean contains(Object o)4.boolean remove(Object o)5.int size()6.boolean isEmpty()7.Object[] toArray()8.boolean containsAll(Collection&lt;?&gt; c)9.boolean addAll(Collection&lt;? extends E&gt; c)10.Iterator&lt;E&gt; iterator() 2.Set的注意事项： 五、哈希表1.概念2.哈希函数1.设计哈希函数：2.常见的哈希函数1.直接定址法（常用）：2.除留余数法（常用） 3.负载因子4.解决冲突1.闭散列法（开放地址法）1.线性探测法：冲突的时候，放到下一个空的位置2.二次探测： 2.开散列法（哈希桶） 5.HashBunk（哈希桶的实现）6.HashCode方法HashBunk(K,V)实现 3.TreeMap 和 HashMap 的区别：4.TreeSet 和 HashSet 的区别： Map和Set HashMap和HashSet的底层是一个哈希表
TreeMap 和TreeSet的底层是一棵搜索树（红黑树）
涉及到一些搜索查找的场景可以调用Map和Set接口
一、搜索树 二叉搜素树 （ 二叉排序树 )
1.要么是空树
2.如果左子树不为空，则左子树上所有节点的值都小于根节点的值
3.如果右子树不为空，则右子树上所有节点的值都大于根节点的值" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/46c060ee84d6ddcbae27be13e76f4a09/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-15T14:23:19+08:00" />
<meta property="article:modified_time" content="2024-03-15T14:23:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【数据结构】 Map和Set万字总结（搜索树&#43;哈希桶&#43;使用方法&#43;实现方法）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#MapSet_4" rel="nofollow">Map和Set</a></li><li><ul><li><a href="#_11" rel="nofollow">一、搜索树</a></li><li><ul><li><a href="#1search_27" rel="nofollow">1.二叉搜索树的查找（search）</a></li><li><a href="#2_83" rel="nofollow">2.二叉搜索树的插入</a></li><li><a href="#3_142" rel="nofollow">3.二叉搜索树的删除</a></li><li><a href="#4_257" rel="nofollow">4.性能分析</a></li></ul> 
   </li><li><a href="#_275" rel="nofollow">二、搜索方法</a></li><li><ul><li><a href="#1_277" rel="nofollow">1.概念</a></li></ul> 
   </li><li><a href="#Map_300" rel="nofollow">三、Map的使用</a></li><li><ul><li><a href="#1_302" rel="nofollow">1.概念：</a></li><li><a href="#2Map_310" rel="nofollow">2.Map的常用方法：</a></li><li><ul><li><ul><li><ul><li><a href="#1V_putK_Key_V_Value__312" rel="nofollow">1.V put(K Key ,V Value )</a></li><li><a href="#2V_getObject_key_332" rel="nofollow">2.V get(Object key)</a></li><li><a href="#3V_getOrDefaultObject_key_V_defaultValue_343" rel="nofollow">3.V getOrDefault(Object key, V defaultValue)</a></li><li><a href="#4V_removeObject_key_355" rel="nofollow">4.V remove(Object key)</a></li><li><a href="#5SetK_keySet_370" rel="nofollow">5.Set&lt;K&gt; keySet()</a></li><li><a href="#6CollectionV_values_379" rel="nofollow">6.Collection&lt;V&gt; values()</a></li><li><a href="#7SetMapEntryK_V_entrySet_388" rel="nofollow">7.Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet()</a></li><li><a href="#8boolean_containsKeyObject_key_408" rel="nofollow">8.boolean containsKey(Object key)</a></li><li><a href="#9boolean_containsValueObject_value_418" rel="nofollow">9.boolean containsValue(Object value)</a></li></ul> 
     </li></ul> 
    </li></ul> 
    </li><li><a href="#3Map_428" rel="nofollow">3.Map的注意事项</a></li></ul> 
   </li><li><a href="#Set_454" rel="nofollow">四、Set的使用</a></li><li><ul><li><a href="#1Set_460" rel="nofollow">1.Set的常用方法：</a></li><li><ul><li><ul><li><ul><li><a href="#1boolean_addE_e_462" rel="nofollow">1.boolean add(E e)</a></li><li><a href="#2void_clear_477" rel="nofollow">2.void clear()</a></li><li><a href="#3boolean_containsObject_o_485" rel="nofollow">3.boolean contains(Object o)</a></li><li><a href="#4boolean_removeObject_o_494" rel="nofollow">4.boolean remove(Object o)</a></li><li><a href="#5int_size_503" rel="nofollow">5.int size()</a></li><li><a href="#6boolean_isEmpty_511" rel="nofollow">6.boolean isEmpty()</a></li><li><a href="#7Object_toArray_519" rel="nofollow">7.Object[] toArray()</a></li><li><a href="#8boolean_containsAllCollection_c_528" rel="nofollow">8.boolean containsAll(Collection&lt;?&gt; c)</a></li><li><a href="#9boolean_addAllCollection_extends_E_c_541" rel="nofollow">9.boolean addAll(Collection&lt;? extends E&gt; c)</a></li><li><a href="#10IteratorE_iterator_555" rel="nofollow">10.Iterator&lt;E&gt; iterator()</a></li></ul> 
     </li></ul> 
    </li></ul> 
    </li><li><a href="#2Set_572" rel="nofollow">2.Set的注意事项：</a></li></ul> 
   </li><li><a href="#_596" rel="nofollow">五、哈希表</a></li><li><ul><li><a href="#1_598" rel="nofollow">1.概念</a></li><li><a href="#2_606" rel="nofollow">2.哈希函数</a></li><li><ul><li><a href="#1_621" rel="nofollow">1.设计哈希函数：</a></li><li><a href="#2_629" rel="nofollow">2.常见的哈希函数</a></li><li><ul><li><a href="#1_631" rel="nofollow">1.直接定址法（常用）：</a></li><li><a href="#2_639" rel="nofollow">2.除留余数法（常用）</a></li></ul> 
     </li><li><a href="#3_643" rel="nofollow">3.负载因子</a></li><li><a href="#4_650" rel="nofollow">4.解决冲突</a></li><li><ul><li><a href="#1_652" rel="nofollow">1.闭散列法（开放地址法）</a></li><li><ul><li><a href="#1_654" rel="nofollow">1.线性探测法：冲突的时候，放到下一个空的位置</a></li><li><a href="#2_661" rel="nofollow">2.二次探测：</a></li></ul> 
      </li><li><a href="#2_669" rel="nofollow">2.开散列法（哈希桶）</a></li></ul> 
     </li><li><a href="#5HashBunk_686" rel="nofollow">5.HashBunk（哈希桶的实现）</a></li><li><a href="#6HashCode_825" rel="nofollow">6.HashCode方法</a></li><li><ul><li><a href="#HashBunkKV_873" rel="nofollow">HashBunk(K,V)实现</a></li></ul> 
    </li></ul> 
    </li><li><a href="#3TreeMap__HashMap__941" rel="nofollow">3.TreeMap 和 HashMap 的区别：</a></li><li><a href="#4TreeSet__HashSet__957" rel="nofollow">4.TreeSet 和 HashSet 的区别：</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="MapSet_4"></a>Map和Set</h2> 
<ul><li> <p>HashMap和HashSet的底层是一个哈希表</p> </li><li> <p>TreeMap 和TreeSet的底层是一棵搜索树（红黑树）</p> </li><li> <p>涉及到一些搜索查找的场景可以调用Map和Set接口</p> </li></ul> 
<h3><a id="_11"></a>一、搜索树</h3> 
<p>二叉搜素树 （ 二叉排序树 )</p> 
<blockquote> 
 <p>1.要么是空树</p> 
 <p>2.如果左子树不为空，则左子树上所有节点的值都小于根节点的值</p> 
 <p>3.如果右子树不为空，则右子树上所有节点的值都大于根节点的值</p> 
 <p>4.它的左右子树也是二叉搜索树</p> 
 <p>5.对二叉搜索树进行中序遍历，就能得到一个有序的数组</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/db/8b/FA44HvaI_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="1search_27"></a>1.二叉搜索树的查找（search）</h4> 
<ul><li> <p>将要查找的值，和根节点比较</p> </li><li> <p>比根节点小的在左树找，比根节点大的在右树找</p> </li></ul> 
<blockquote> 
 <p>最坏情况：按单分支树找，时间复杂度为树的高度 N</p> 
 <p>最好情况：完全二叉树、满二叉树，时间复杂度为树的高度：log<sub>2</sub>N，效率最高</p> 
</blockquote> 
<p>为了解决单分支树的问题，采用AVL树解决。</p> 
<ul><li>AVL树：高度平衡的二叉搜索树，保证高度一直平衡（左右高度差不超过1），需要不断进行旋转(左旋、右旋、先左在右、先右再左)，来保持平衡</li><li>红黑树：加入了颜色，减少了旋转</li></ul> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BinarySearchTree</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">TreeNode</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//静态内部类</span>
        <span class="token keyword">public</span> <span class="token keyword">int</span> val<span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token class-name">TreeNode</span> left<span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token class-name">TreeNode</span> right<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">TreeNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">=</span> val<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">TreeNode</span> root <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * 查找二叉搜索树中指定的val值
     *
     * @param val
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">TreeNode</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">TreeNode</span> cur <span class="token operator">=</span> root<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>val <span class="token operator">==</span> val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> cur<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<ul><li>1.设cur结点为root位置</li><li>2.cur的val如果小于目标val，cur移动到左子树</li><li>3.cur 的val如果大于目标val，cur移动到右子树</li></ul> 
<h4><a id="2_83"></a>2.二叉搜索树的插入</h4> 
<p><img src="https://images2.imgbox.com/a5/82/GBi3GTKN_o.png" alt=""></p> 
<ul><li>1.如果是空树（root==null），直接插入根的位置</li><li>2.如果不是空树，按照查找的逻辑找到要插入的位置，插入新结点</li><li>3.都插入到了叶子结点，也就是cur为空时的位置</li><li>4.所以要记录一个cur的双亲结点，来和val比较，决定cur==null时，插入的方向</li></ul> 
<pre><code class="prism language-java">
    <span class="token comment">/**
     * 插入一个数据
     *
     * @param val
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//root为空</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNode</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//root不为空</span>
        <span class="token class-name">TreeNode</span> cur <span class="token operator">=</span> root<span class="token punctuation">;</span>
        <span class="token class-name">TreeNode</span> parent <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token comment">//找到cur为空的位置</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
                cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>val <span class="token operator">&gt;</span> val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
                cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//根据判断双亲结点的值来决定插入那个叶子结点</span>
        <span class="token class-name">TreeNode</span> node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNode</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">&lt;</span> parent<span class="token punctuation">.</span>val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            parent<span class="token punctuation">.</span>left <span class="token operator">=</span> node<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            parent<span class="token punctuation">.</span>right <span class="token operator">=</span> node<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">inorder</span><span class="token punctuation">(</span><span class="token class-name">TreeNode</span> root<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">inorder</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val <span class="token operator">+</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">inorder</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre> 
<h4><a id="3_142"></a>3.二叉搜索树的删除</h4> 
<p>要删除的位置为cur,它的双亲结点为parent</p> 
<ul><li> <p>1.cur左结点为空：cur.left == null</p> 
  <blockquote> 
   <p>1.cur为根节点，cur没有左树，根节点移动到它的右树上</p> 
   <p>2.cur不是根节点，此时cur为双亲结点的左结点，cur没有左树，双亲结点的左结点连上cur的右结点 parent.left = cur.right</p> 
   <p>3.cur不是根节点，此时cur为双亲结点的右结点，cur没有左树，双亲结点的右结点连上cur的右结点 parent.right = cur.right</p> 
  </blockquote> </li></ul> 
<p><img src="https://images2.imgbox.com/51/93/WegaASLi_o.png" alt="在这里插入图片描述"></p> 
<ul><li>2.cur右结点为空：cur.right == null</li></ul> 
<blockquote> 
 <p>1.cur为根节点，cur没有右子树，根节点移动到cur的左子树上</p> 
 <p>2.cur不是根节点，cur是双亲结点的左结点，cur没有右结点，双亲结点的左结点连上cur的左结点</p> 
 <p>3.cur不是根节点，cur是双亲结点的右结点，cur没有右结点，双亲结点的右结点连上cur的左结点</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/cc/97/OnPhrAOu_o.png" alt="在这里插入图片描述"></p> 
<p>3.左右结点都不为空：cur.left != null &amp;&amp; cur.right != null</p> 
<blockquote> 
 <p>1.替换法进行删除，在cur的右子树中，找到该子树的最小值，和要删除的值交换</p> 
 <p>2.最后删除那个替换的结点，维护了二叉搜索树</p> 
 <p>3.替换的结点在它双亲结点的左边，没有左子树，target.left== nulll，如果有右子树，target双亲结点的左结点连接target的右结点（target的右结点都比target大），没有右子树，连接的是空值</p> 
 <p>4.替换的结点在它双亲结点的右边(双亲结点没有左结点)，target双 亲结点的右结点连接target的右结点</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/29/26/xCGmOJ8L_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-java">
    <span class="token comment">/**
     * 删除值为val的结点
     *
     * @param val
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">TreeNode</span> cur <span class="token operator">=</span> root<span class="token punctuation">;</span>
        <span class="token class-name">TreeNode</span> parent <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token comment">//找到cur结点的位置</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>val <span class="token operator">==</span> val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">removeNode</span><span class="token punctuation">(</span>cur<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">&lt;</span> cur<span class="token punctuation">.</span>val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
                cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
                cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 删除结点的分类情况
     *
     * @param cur
     * @param parent
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">removeNode</span><span class="token punctuation">(</span><span class="token class-name">TreeNode</span> cur<span class="token punctuation">,</span> <span class="token class-name">TreeNode</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//cur的左结点为空</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">==</span> root<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                root <span class="token operator">=</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">==</span> parent<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                parent<span class="token punctuation">.</span>left <span class="token operator">=</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                parent<span class="token punctuation">.</span>right <span class="token operator">=</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//cur的右结点为空</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">==</span> root<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                root <span class="token operator">=</span> cur<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">==</span> parent<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                parent<span class="token punctuation">.</span>left <span class="token operator">=</span> cur<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                parent<span class="token punctuation">.</span>right <span class="token operator">=</span> cur<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//cur的左右结点都不为空</span>
            <span class="token class-name">TreeNode</span> target <span class="token operator">=</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">;</span><span class="token comment">//在右树中找最小值</span>
            <span class="token class-name">TreeNode</span> targetParent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                targetParent <span class="token operator">=</span> target<span class="token punctuation">;</span>
                target <span class="token operator">=</span> target<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token comment">//找最小值</span>
            cur<span class="token punctuation">.</span>val <span class="token operator">=</span> target<span class="token punctuation">.</span>val<span class="token punctuation">;</span><span class="token comment">//替换</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>target <span class="token operator">==</span> targetParent<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                targetParent<span class="token punctuation">.</span>left <span class="token operator">=</span> target<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
                <span class="token comment">//目标值在双亲结点的左边</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                targetParent<span class="token punctuation">.</span>right <span class="token operator">=</span> target<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
                <span class="token comment">//目标值在双亲结点的右边</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

</code></pre> 
<h4><a id="4_257"></a>4.性能分析</h4> 
<p>插入和删除操作都必须先查找，查找效率代表了二叉搜索树中各个操作的性能</p> 
<ul><li>即结点越深，则比较次数越多</li><li>插入的次序不同，可能得到不同结构的二叉搜索树</li></ul> 
<p>最好情况：二叉搜索树为完全二叉树，平均计较次数：log<sub>2</sub>N</p> 
<p>最坏情况：二叉树退化成单分支树，平均比较次数为 N/2</p> 
<ul><li>因为TreeSet和TreeMap的底层是红黑树，所以每次存储元素时，都得进行大小比较。</li><li>所以存放到这两个集合类的数据，一定是可以比较的</li></ul> 
<h3><a id="_275"></a>二、搜索方法</h3> 
<h4><a id="1_277"></a>1.概念</h4> 
<ul><li> <p>1.Map和Set是一种专门用来进行搜索的容器/数据结构，搜索的效率和具体实例化的子类有关。</p> 
  <blockquote> 
   <p>分别实例化TreeMap、HashMap，两者存在效率上的差别。</p> 
   <pre><code class="prism language-java">        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span>map1 <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//查找的复杂度为o（logN）</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span>map2 <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//查找的复杂度为o（1）</span>
        <span class="token comment">// TreeMap的底层是搜索树</span>
        <span class="token comment">// HashMap的底层是哈希表：数组+链表+红黑树组成</span>
</code></pre> 
  </blockquote> </li><li> <p>2.常见的搜索方法为 静态查找，一般不进行插入、删除。</p> 
  <blockquote> 
   <p>1,直接遍历: 时间复杂度为 o（N），元素越多，效率越慢。</p> 
   <p>2.二分查找：时间复杂度为 o（log<sub>2</sub>N）,要求搜索前必须是有序的。</p> 
  </blockquote> </li><li> <p>3.而Map和Set是可以进行 动态查找 的集合容器。</p> </li><li> <p>4.只有关键字的叫纯Key模型（Set），由关键字和其对应的值形成的键值对，叫Key-Value模型(Map)</p> </li></ul> 
<h3><a id="Map_300"></a>三、Map的使用</h3> 
<h4><a id="1_302"></a>1.概念：</h4> 
<p><img src="https://images2.imgbox.com/0e/4e/u2ebdCUY_o.png" alt="在这里插入图片描述"></p> 
<ul><li>Map是一个接口类，没有继承于Collection。</li><li>存储的形式是 Key-Value 键值对，并且Key是唯一的，不能重复。</li></ul> 
<h4><a id="2Map_310"></a>2.Map的常用方法：</h4> 
<h6><a id="1V_putK_Key_V_Value__312"></a>1.V put(K Key ,V Value )</h6> 
<p>设置Key对应的Value,将元素对应的值进行存储</p> 
<p><img src="https://images2.imgbox.com/af/7c/FTJhTb2C_o.png" alt="在这里插入图片描述"></p> 
<ul><li>Map的底层是一棵搜索树，在放进搜索树的时候要进行比较，比较的对象是关键字Key</li></ul> 
<pre><code class="prism language-java">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span>map1 <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//查找的复杂度为o（logN）</span>
        map1<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"Math"</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map1<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"Chinese"</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map1<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"English"</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token comment">//{Chinese=2, English=4, Math=3}</span>
</code></pre> 
<h6><a id="2V_getObject_key_332"></a>2.V get(Object key)</h6> 
<ul><li>返回对应的value，通过Key得到对应的值</li></ul> 
<pre><code class="prism language-java">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"Math"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"Art"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//null</span>
</code></pre> 
<blockquote> 
 <p>如果get传进的Key不存在，则返回的Value值为null</p> 
</blockquote> 
<h6><a id="3V_getOrDefaultObject_key_V_defaultValue_343"></a>3.V getOrDefault(Object key, V defaultValue)</h6> 
<ul><li> <p>返回 key 对应的 value，key 不存在，返回默认值</p> <pre><code class="prism language-java">         map1<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"Math"</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map1<span class="token punctuation">.</span><span class="token function">getOrDefault</span><span class="token punctuation">(</span><span class="token string">"Science"</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//7</span>
         <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map1<span class="token punctuation">.</span><span class="token function">getOrDefault</span><span class="token punctuation">(</span><span class="token string">"Math"</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//3</span>
</code></pre> 
  <blockquote> 
   <p>如果给的Key值在Map中存在，返回原本的Value,忽视自己填的默认值</p> 
  </blockquote> </li></ul> 
<h6><a id="4V_removeObject_key_355"></a>4.V remove(Object key)</h6> 
<ul><li>根据Key来删除K-V的映射关系</li></ul> 
<pre><code class="prism language-java">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map1<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"English"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//4</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"++++++"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map1<span class="token punctuation">.</span><span class="token function">containsValue</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//false</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map1<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token string">"English"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
</code></pre> 
<blockquote> 
 <p>再remove()中传入Key, key和其对应的Value均删除</p> 
 <p>remove（）返回删除的Value</p> 
</blockquote> 
<h6><a id="5SetK_keySet_370"></a>5.Set keySet()</h6> 
<ul><li>返回所有 key 的不重复集合 ,返回的是一个set</li></ul> 
<pre><code class="prism language-java">        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span>set <span class="token operator">=</span> map1<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[Chinese, English, Math]</span>
</code></pre> 
<h6><a id="6CollectionV_values_379"></a>6.Collection values()</h6> 
<ul><li>返回所有 value 的可重复集合</li></ul> 
<pre><code class="prism language-java">        <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> values <span class="token operator">=</span> map1<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[2, 4, 3]</span>
</code></pre> 
<h6><a id="7SetMapEntryK_V_entrySet_388"></a>7.Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet()</h6> 
<ul><li> <p>返回所有的 key-value 映射关系</p> </li><li> <p>将map的Key和Value看作一个整体（Entry）,Set中存放不同的Entry</p> </li></ul> 
<pre><code class="prism language-java">        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> entrySet <span class="token operator">=</span> map1<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> entry <span class="token operator">:</span> entrySet<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Key:"</span><span class="token operator">+</span>entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" Value:"</span><span class="token operator">+</span>entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

<span class="token comment">//Key:Chinese Value:2</span>
<span class="token comment">//Key:English Value:4</span>
<span class="token comment">//Key:Math Value:3</span>

</code></pre> 
<h6><a id="8boolean_containsKeyObject_key_408"></a>8.boolean containsKey(Object key)</h6> 
<ul><li>判断是否包含 key</li></ul> 
<pre><code class="prism language-java">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map1<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token string">"Chinese"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
</code></pre> 
<h6><a id="9boolean_containsValueObject_value_418"></a>9.boolean containsValue(Object value)</h6> 
<ul><li>判断是否包含Value</li></ul> 
<pre><code class="prism language-java">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map1<span class="token punctuation">.</span><span class="token function">containsValue</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">true</span>
</code></pre> 
<h4><a id="3Map_428"></a>3.Map的注意事项</h4> 
<ul><li>1.Map是一个接口，不能直接实例化对象。只能实例化它的实现类TreeMap和HashMap</li><li>2.Map中存放键值对中的Key是唯一的，Value不唯一</li></ul> 
<blockquote> 
 <pre><code class="prism language-java">        map1<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"English"</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map1<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"English"</span><span class="token punctuation">,</span><span class="token number">44</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
 <p>如果存储相同的Key,会覆盖掉之前的Value.</p> 
</blockquote> 
<ul><li> <p>3.在TreeMap中插入键值对时，Key不能为空，否则会抛出空指针异常，</p> <p>​ Value可以为空。HashMap的Key和Value都可以为空</p> </li><li> <p>4.Map中的Key因为不能重复，可以全部用keySet分离出来，存进Set中。Value也可以分离出来，存在Collection的任何一个子集合中（可以重复）</p> </li><li> <p>5.Map中的键值对，Key不能直接修改，Value可以直接修改。如皋要修改Key，需要先删除Key，再重新插入</p> </li></ul> 
<h3><a id="Set_454"></a>四、Set的使用</h3> 
<ul><li>和Map不同的是，Set继承于Collection。Set中只存储了Key</li></ul> 
<h4><a id="1Set_460"></a>1.Set的常用方法：</h4> 
<h6><a id="1boolean_addE_e_462"></a>1.boolean add(E e)</h6> 
<ul><li>添加元素，如果存在则无法添加。</li></ul> 
<pre><code class="prism language-java">        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span>set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> happy <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Happy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> hello <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[Happy, Hello, World]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>happy<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hello<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
</code></pre> 
<h6><a id="2void_clear_477"></a>2.void clear()</h6> 
<pre><code class="prism language-java">   set<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>清空集合</li></ul> 
<h6><a id="3boolean_containsObject_o_485"></a>3.boolean contains(Object o)</h6> 
<pre><code class="prism language-java">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
</code></pre> 
<ul><li>判断元素在集合中是否存在</li></ul> 
<h6><a id="4boolean_removeObject_o_494"></a>4.boolean remove(Object o)</h6> 
<pre><code class="prism language-java">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
</code></pre> 
<ul><li>删除集合中的元素，返回值为布尔类型</li></ul> 
<h6><a id="5int_size_503"></a>5.int size()</h6> 
<pre><code class="prism language-java">      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>
</code></pre> 
<ul><li>返回集合的大小</li></ul> 
<h6><a id="6boolean_isEmpty_511"></a>6.boolean isEmpty()</h6> 
<pre><code class="prism language-java">       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
</code></pre> 
<ul><li>判断集合是否为空</li></ul> 
<h6><a id="7Object_toArray_519"></a>7.Object[] toArray()</h6> 
<pre><code class="prism language-java">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[Happy, World]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[Ljava.lang.Object;@4554617c</span>
</code></pre> 
<ul><li>将Set中的元素转化为数组返回</li></ul> 
<h6><a id="8boolean_containsAllCollection_c_528"></a>8.boolean containsAll(Collection&lt;?&gt; c)</h6> 
<pre><code class="prism language-java">        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> deque <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        deque<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Happy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        deque<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">containsAll</span><span class="token punctuation">(</span>deque<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
</code></pre> 
<ul><li> <p>判断集合c中的元素是否在set中全部存在，是返回true，否则返回 false</p> 
  <blockquote> 
   <p>只要继承了Collection的类都可以比较</p> 
  </blockquote> </li></ul> 
<h6><a id="9boolean_addAllCollection_extends_E_c_541"></a>9.boolean addAll(Collection&lt;? extends E&gt; c)</h6> 
<pre><code class="prism language-java">        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> deque <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        deque<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Happy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        deque<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        deque<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"adddadd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">containsAll</span><span class="token punctuation">(</span>deque<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>deque<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[Happy, World, adddadd]</span>
</code></pre> 
<ul><li>将集合c中的元素添加到set中，可以达到去重的效果</li></ul> 
<h6><a id="10IteratorE_iterator_555"></a>10.Iterator iterator()</h6> 
<ul><li>返回迭代器</li><li>继承自iterable的类都可以使用，HashMap和TreeMap不支持使用迭代器遍历，只能把map转化成Set</li></ul> 
<pre><code class="prism language-java">        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token comment">//Happy</span>
         <span class="token comment">//World</span>
</code></pre> 
<blockquote> 
 <p>如果有下一个，打印下一个</p> 
</blockquote> 
<h4><a id="2Set_572"></a>2.Set的注意事项：</h4> 
<p>1.Set是继承自Collection的一个借口类</p> 
<p>2.Set中只存有Key,且Key唯一.Key不能修改，修改要先删除，再重新插入</p> 
<p>3.TreeSet的底层是用Map实现的</p> 
<p><img src="https://images2.imgbox.com/27/ce/1vfQIDvI_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>new 的TreeSet,实际上new的是一个TreeMap对象。这个TreeMap的Value都是一个Object对象</p> 
 <p>TreeSet不能插入为null的Key,HashSet可以，因为TreeSet是需要比较的</p> 
</blockquote> 
<p>4.Set的最大功能是对集合进行去重。</p> 
<blockquote> 
 <p>Key不能重复且唯一</p> 
</blockquote> 
<p>5.Set的常用接口的TreeSet和HashSet,</p> 
<p>LinkedHashSet在HashSet的基础上，维护了双向链表，来记录元素的插入顺序</p> 
<h3><a id="_596"></a>五、哈希表</h3> 
<h4><a id="1_598"></a>1.概念</h4> 
<ul><li>查找的时间复杂度：二分查找为 o（N）,搜索树为o(log<sub>2</sub>N) 哈希表为 o(1)</li><li>通过关键字Key来快速找到对应的值，不比较，直接找到。</li><li>通过一个函数将关键字和存储位置直接建立一一对应的关系，从而避免了不断的比较查找</li></ul> 
<p>这种映射的方法叫哈希（散列）方法，函数叫哈希函数，构造的结构叫哈希表（HashTable）</p> 
<h4><a id="2_606"></a>2.哈希函数</h4> 
<p><strong>hash(key) = key % capacity</strong></p> 
<p>capacity是存储空间的大小</p> 
<p><img src="https://images2.imgbox.com/df/2a/dyKSPNus_o.png" alt="在这里插入图片描述"></p> 
<ul><li>哈希冲突：当两个不同的值，经过哈希函数，得到相同的地址时，发生哈希碰撞</li><li>发生冲突的原因：1.存储的容量小于要存储的数量。2.哈希函数的设计不合理</li><li>哈希冲突无法解决，只能尽量降低冲突率</li></ul> 
<h5><a id="1_621"></a>1.设计哈希函数：</h5> 
<p>1.要足够简单</p> 
<p>2.计算的地址在空间中均匀分布</p> 
<p>3.有m个地址，值域为0到m-1</p> 
<h5><a id="2_629"></a>2.常见的哈希函数</h5> 
<h6><a id="1_631"></a>1.直接定址法（常用）：</h6> 
<p><strong>Hash</strong>（<strong>Key</strong>）<strong>= A*Key + B</strong> 关键字的线性函数</p> 
<ul><li>优点：简单、均匀</li><li>缺点：需要事先知道关键字的分布情况</li><li>场景：查找比较小且连续的数</li></ul> 
<h6><a id="2_639"></a>2.除留余数法（常用）</h6> 
<p><strong>Hash(key) = key% p(p&lt;=m)</strong></p> 
<h5><a id="3_643"></a>3.负载因子</h5> 
<p>负载因子 a = 填进表中的元素个数 / 哈希表的长度</p> 
<p><img src="https://images2.imgbox.com/f2/0a/rfLlSFtV_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="4_650"></a>4.解决冲突</h5> 
<h6><a id="1_652"></a>1.闭散列法（开放地址法）</h6> 
<h6><a id="1_654"></a>1.线性探测法：冲突的时候，放到下一个空的位置</h6> 
<ul><li>缺点：将冲突的元素放在了一起</li></ul> 
<p><img src="https://images2.imgbox.com/69/08/AzuKxoYu_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="2_661"></a>2.二次探测：</h6> 
<p><img src="https://images2.imgbox.com/07/05/y52FC38b_o.png" alt="在这里插入图片描述"></p> 
<ul><li>缺点：空间利用率低</li><li>解决了线性探测聚到一起的问题</li><li>超过0.5要扩容</li></ul> 
<h6><a id="2_669"></a>2.开散列法（哈希桶）</h6> 
<ul><li>也叫链地址法、开链法</li><li>数组+链表 ：数组的每个元素就是链表的头结点</li><li>数组+链表+红黑树（当数组长度&gt;=64 &amp;&amp; 链表长度 &gt;=8 以后，把链表变成红黑树，小于又变回去【树化、解树化】）</li></ul> 
<p><img src="https://images2.imgbox.com/66/f9/oa028bDf_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>JDK7以前：用头插法存进数组中的链表</p> 
 <p>JDK8以后：采用尾插法</p> 
</blockquote> 
<p>​</p> 
<h5><a id="5HashBunk_686"></a>5.HashBunk（哈希桶的实现）</h5> 
<p>哈希桶的结构</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HashBunk</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> key<span class="token punctuation">;</span>
        <span class="token keyword">int</span> val<span class="token punctuation">;</span>
        <span class="token class-name">Node</span> next<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">=</span> val<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Node</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> usedSize<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">float</span> <span class="token constant">DEFAULT_LOAD_FACTOR</span> <span class="token operator">=</span> <span class="token number">0.75f</span><span class="token punctuation">;</span><span class="token comment">//负载因子</span>

    <span class="token keyword">public</span> <span class="token class-name">HashBunk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>哈希桶的插入：采用尾插法实现</p> 
<pre><code class="prism language-java"> <span class="token comment">/**
     * 哈希桶的插入
     *
     * @param key
     * @param val
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token keyword">int</span> index <span class="token operator">=</span> key <span class="token operator">%</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token comment">//找到要插入的链表所在数组的下标标</span>

        <span class="token class-name">Node</span> cur <span class="token operator">=</span> array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//遍历index处的链表，看是否存在Key,</span>
        <span class="token comment">// 存在，跟新val</span>
        <span class="token comment">//不存在，进行尾插法</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>key <span class="token operator">==</span> key<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                cur<span class="token punctuation">.</span>val <span class="token operator">=</span> val<span class="token punctuation">;</span><span class="token comment">//key存在，更新val</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">Node</span> node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
            array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token operator">=</span>node<span class="token punctuation">;</span>
            usedSize<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            cur <span class="token operator">=</span> array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>next<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//进行尾插法</span>
            <span class="token class-name">Node</span> node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
            cur<span class="token punctuation">.</span>next <span class="token operator">=</span> node<span class="token punctuation">;</span>
            node<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            usedSize<span class="token operator">++</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>
        <span class="token comment">//计算当前负载因子</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">doLoadFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token constant">DEFAULT_LOAD_FACTOR</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//进行扩容，不光要改变数组的大小，还要重新确定链表的首地址</span>
            <span class="token comment">//因为之前的首地址是按照之前的容量大小计算出来的。</span>
            <span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

</code></pre> 
<p>数组大小的扩容，同时要重新确定链表中每个结点的位置</p> 
<pre><code class="prism language-java">    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Node</span><span class="token punctuation">[</span><span class="token punctuation">]</span> newArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">*</span> array<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//遍历原来的数组</span>
            <span class="token class-name">Node</span> cur <span class="token operator">=</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">//得到原来数组的首结点</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//遍历链表</span>
                <span class="token keyword">int</span> newIndex <span class="token operator">=</span> cur<span class="token punctuation">.</span>key <span class="token operator">%</span> newArray<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
                <span class="token class-name">Node</span> tmp <span class="token operator">=</span> cur<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
                <span class="token class-name">Node</span> node <span class="token operator">=</span> cur<span class="token punctuation">;</span>
                node<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>newArray<span class="token punctuation">[</span>newIndex<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    newArray<span class="token punctuation">[</span>newIndex<span class="token punctuation">]</span> <span class="token operator">=</span> node<span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">Node</span> lastNode <span class="token operator">=</span> <span class="token function">getLastNode</span><span class="token punctuation">(</span>newArray<span class="token punctuation">[</span>newIndex<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    lastNode<span class="token punctuation">.</span>next <span class="token operator">=</span> node<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                cur <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        array <span class="token operator">=</span> newArray<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">Node</span> <span class="token function">getLastNode</span><span class="token punctuation">(</span><span class="token class-name">Node</span> cur<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>next <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> cur<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">float</span> <span class="token function">doLoadFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> usedSize <span class="token operator">*</span> <span class="token number">1.0f</span> <span class="token operator">/</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> index <span class="token operator">=</span> key<span class="token operator">%</span>array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token class-name">Node</span> cur <span class="token operator">=</span> array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>key<span class="token operator">==</span>key<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> cur<span class="token punctuation">.</span>val<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre> 
<h5><a id="6HashCode_825"></a>6.HashCode方法</h5> 
<ul><li>当传入对象，转化成整数进行比较</li><li>HashCode在Object的类中（是一个native方法，看不到）</li><li>所以要对HashCode进行重写</li></ul> 
<pre><code class="prism language-java">        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span>map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Student</span> student1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"小王"</span><span class="token punctuation">,</span><span class="token number">001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Student</span> student2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"小王"</span><span class="token punctuation">,</span><span class="token number">001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>student1<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1163157884</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>student2<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1956725890</span>
</code></pre> 
<ul><li>当没有重写HashCode方法，而是采用默认的，此时，HashCode的值不同</li></ul> 
<pre><code class="prism language-java">    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> o<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>o <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> o<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token class-name">Student</span> student <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">)</span> o<span class="token punctuation">;</span>
        <span class="token keyword">return</span> id <span class="token operator">==</span> student<span class="token punctuation">.</span>id <span class="token operator">&amp;&amp;</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> student<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">hash</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<ul><li>当重写了HashCode方法（equals顺便一起生成），此时，HashCode的值一样</li></ul> 
<pre><code class="prism language-java">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>student1<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1163157884</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>student2<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1956725890</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>student1<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>student2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>
        <span class="token comment">//23565798</span>
        <span class="token comment">//23565798</span>
</code></pre> 
<ul><li>由于两个对象的id和name相同，同时重写了HashCode方法。因此两个的HashCode值相同，所以get student2 得到的val就是student1的val。</li></ul> 
<h6><a id="HashBunkKV_873"></a>HashBunk(K,V)实现</h6> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HashBunk2</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">public</span> <span class="token class-name">K</span> key<span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token class-name">V</span> val<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> next<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token class-name">K</span> key<span class="token punctuation">,</span> <span class="token class-name">V</span> val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">=</span> val<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> array<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> usedSize<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">float</span> <span class="token constant">DEFAULT_LOAD_FACTOR</span> <span class="token operator">=</span> <span class="token number">0.75f</span><span class="token punctuation">;</span>


    <span class="token keyword">public</span> <span class="token class-name">HashBunk2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        array <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">K</span> key<span class="token punctuation">,</span> <span class="token class-name">V</span> val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> hash <span class="token operator">=</span> key<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> index <span class="token operator">=</span> hash <span class="token operator">%</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> cur <span class="token operator">=</span> array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>key <span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                cur<span class="token punctuation">.</span>val <span class="token operator">=</span> val<span class="token punctuation">;</span>
                <span class="token comment">//更新Val</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
        node<span class="token punctuation">.</span>next <span class="token operator">=</span> array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
        array<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> node<span class="token punctuation">;</span>
        usedSize<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">V</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token class-name">K</span> key<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> hash <span class="token operator">=</span> key<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> index <span class="token operator">=</span> hash <span class="token operator">%</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> cur <span class="token operator">=</span> array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>key<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> cur<span class="token punctuation">.</span>val<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre> 
<ul><li> <p>HashCode方法是为了在数组中找到对应的位置</p> </li><li> <p>equals方法是用来判断该位置链表中的元素是否有目标元素</p> </li><li> <p>类似于查字典，先找到哪一页，再找到具体的字</p> </li><li> <p>以后在写自定义对象时，要先验证一下equals和HashCode</p> </li></ul> 
<h4><a id="3TreeMap__HashMap__941"></a>3.TreeMap 和 HashMap 的区别：</h4> 
<table><thead><tr><th>Map</th><th>TreeMap</th><th>HashMap</th></tr></thead><tbody><tr><td>底层结构</td><td>红黑树</td><td>哈希桶</td></tr><tr><td>插、删、查找的时间复杂度</td><td>o(log<sub>2</sub>N)</td><td>o(1)</td></tr><tr><td>是否有序</td><td>Key有序</td><td>无序</td></tr><tr><td>线程安全</td><td>不安全</td><td>不安全</td></tr><tr><td>插、删、查找区别</td><td>进行元素比较</td><td>哈希函数计数哈希地址</td></tr><tr><td>比较与覆写</td><td>Key必须可以比较</td><td>自定义类型要重写equals和HashCode</td></tr><tr><td>应用场景</td><td>需要Key有序</td><td>需要更高的时间性能</td></tr></tbody></table> 
<h4><a id="4TreeSet__HashSet__957"></a>4.TreeSet 和 HashSet 的区别：</h4> 
<table><thead><tr><th>Set</th><th>TreeSet</th><th>HashSet</th></tr></thead><tbody><tr><td>底层结构</td><td>红黑树</td><td>哈希桶</td></tr><tr><td>插、删、查找的时间复杂度</td><td>o(log<sub>2</sub>N)</td><td>o(1)</td></tr><tr><td>是否有序</td><td>Key有序</td><td>不一定有序</td></tr><tr><td>线程安全</td><td>不安全</td><td>不安全</td></tr><tr><td>插、删、查找区别</td><td>按红黑树的特性</td><td>计算哈希地址</td></tr><tr><td>比较与覆写</td><td>Key必须可以比较</td><td>自定义类型要重写equals和HashCode</td></tr><tr><td>应用场景</td><td>需要Key有序</td><td>需要更高的时间性能</td></tr></tbody></table> 
<p><a href="https://blog.csdn.net/m0_64003319?spm=1000.2115.3001.5343">点击移步博客主页，欢迎光临~</a></p> 
<p><img src="https://images2.imgbox.com/32/c1/I9rCm0zZ_o.gif" alt="偷cyk的图"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ca08a850927566bb9385c3710e460ea1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">牛客网 MYSQL进阶挑战 详细知识点总结（二）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/aab1ebdfd3bc409281e3d55ffac0f7a6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">android 怎么自定义view</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>