<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mysql myisam 存储结构_【MySQL】MySQL中MyISAM与InnoDB中都是使用什么数据结构存储表数据，有什么区别呢？... - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="mysql myisam 存储结构_【MySQL】MySQL中MyISAM与InnoDB中都是使用什么数据结构存储表数据，有什么区别呢？..." />
<meta property="og:description" content="我们可以先给出答案，两种存储引擎都是基于B&#43;树数据结构存储表数据的，但是区别在于InnoDB存储引擎中的B&#43;树即存储了索引又存储了所有数据，而MyISAM中的B&#43;树中只存储了索引的Key值地址，实际的数据存储在其他地方。
我们分别创建两张表，一张user表使用InnoDB存储引擎，一张配置表config使用MyISAM存储引擎，我们会发现两张表的存储文件格式不一样，user表有两个文件，对应如下：user.frm：表结构文件
user.ibd：索引和数据文件(InnoDB Data)
而config表有三个文件，对应如下：config.frm：表结构文件
config.MYD：数据文件(MyISAM Data)
config.MYI：索引文件(MyISAM Index)
通过以上文件，我们可以获知，InnoDB存储引擎的索引和数据都存储在一个文件中，而MyISAM存储引擎的索引和数据存储是分开的。
MyISAM
我们先来看看MyISAM存储引擎是如何使用B&#43;树存储索引以及数据的。MyISAM引擎使用B&#43;树作为索引结构，叶节点的data域存放的是数据记录的地址。下图是MyISAM索引的原理图：
在MyISAM中，主索引和辅助索引在结构上没有任何区别，只是主索引要求key是唯一的，而辅助索引的key可以重复。如果我们在Col2上建立一个辅助索引，则此索引的结构如下 图所示：
InnoDB
虽然InnoDB也使用B&#43;Tree作为索引结构，但具体实现方式却与MyISAM截然不同。InnoDB的数据文件本身就是索引文件，表的主键索引这棵树的非叶子节点存储的是主键的key值，而叶节点data域保存了完整的数据记录：
InnoDB的辅助索引与主键的聚集索引类似，但是data域存储相应记录主键的值而不是地址。例如，下图为定义在Col2上的一个辅助索引：
小结
总结以上，MyISAM和InnoDB都是以B&#43;树数据结构存储数据的，但MyISAM的数据文件和索引文件是分开的，InnoDB的数据文件就是索引文件。
MyISAM主索引中的B&#43;树中，叶节点的data域存放的是数据记录的地址，而InnoDB中的叶子节点叶节点data域保存了完整的数据记录。
MyISAM辅助索引中的B&#43;树中，叶节点的data域存放的是数据记录的地址，而InnoDB中的叶子节点叶节点data域保存的是主键的值。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/b7cb3441dc1ee1a23e5e19190bdf702f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-28T09:57:50+08:00" />
<meta property="article:modified_time" content="2021-01-28T09:57:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mysql myisam 存储结构_【MySQL】MySQL中MyISAM与InnoDB中都是使用什么数据结构存储表数据，有什么区别呢？...</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>我们可以先给出答案，两种存储引擎都是基于B+树数据结构存储表数据的，但是区别在于InnoDB存储引擎中的B+树即存储了索引又存储了所有数据，而MyISAM中的B+树中只存储了索引的Key值地址，实际的数据存储在其他地方。</p> 
 <p>我们分别创建两张表，一张user表使用InnoDB存储引擎，一张配置表config使用MyISAM存储引擎，我们会发现两张表的存储文件格式不一样，user表有两个文件，对应如下：user.frm：表结构文件</p> 
 <p>user.ibd：索引和数据文件(InnoDB Data)</p> 
 <p>而config表有三个文件，对应如下：config.frm：表结构文件</p> 
 <p>config.MYD：数据文件(MyISAM Data)</p> 
 <p>config.MYI：索引文件(MyISAM Index)</p> 
 <p>通过以上文件，我们可以获知，InnoDB存储引擎的索引和数据都存储在一个文件中，而MyISAM存储引擎的索引和数据存储是分开的。</p> 
 <p>MyISAM</p> 
 <p align="center">我们先来看看MyISAM存储引擎是如何使用B+树存储索引以及数据的。MyISAM引擎使用B+树作为索引结构，叶节点的data域存放的是数据记录的地址。下图是MyISAM索引的原理图：</p> 
 <p align="center">在MyISAM中，主索引和辅助索引在结构上没有任何区别，只是主索引要求key是唯一的，而辅助索引的key可以重复。如果我们在Col2上建立一个辅助索引，则此索引的结构如下 图所示：</p> 
 <p>InnoDB</p> 
 <p align="center">虽然InnoDB也使用B+Tree作为索引结构，但具体实现方式却与MyISAM截然不同。InnoDB的数据文件本身就是索引文件，表的主键索引这棵树的非叶子节点存储的是主键的key值，而叶节点data域保存了完整的数据记录：</p> 
 <p align="center">InnoDB的辅助索引与主键的聚集索引类似，但是data域存储相应记录主键的值而不是地址。例如，下图为定义在Col2上的一个辅助索引：</p> 
 <p>小结</p> 
 <p>总结以上，MyISAM和InnoDB都是以B+树数据结构存储数据的，但MyISAM的数据文件和索引文件是分开的，InnoDB的数据文件就是索引文件。</p> 
 <p>MyISAM主索引中的B+树中，叶节点的data域存放的是数据记录的地址，而InnoDB中的叶子节点叶节点data域保存了完整的数据记录。</p> 
 <p>MyISAM辅助索引中的B+树中，叶节点的data域存放的是数据记录的地址，而InnoDB中的叶子节点叶节点data域保存的是主键的值。</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1c43896176c373a93f3fb3c6ad797b0b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">window.location.Reload()和window.location.href 区别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b70f861cd83d58e6c306a710a2526ddd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">强制修改分辨率软件_Win7系统电脑屏幕分辨率无法调节更改的解决方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>