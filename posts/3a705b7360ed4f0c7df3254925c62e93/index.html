<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>FPGA学习笔记(七): DSB调制解调的仿真 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="FPGA学习笔记(七): DSB调制解调的仿真" />
<meta property="og:description" content="笔记七是DSB调制解调的仿真实现。 DSB调制解调的实现原理:首先使用DDS产生低频正弦波信号作为调制信号，再用DDS产生高频信号作为载波信号，然后使用乘法器将两者相乘产生DSB信号，DSB信号与载波信号相乘之后，再经过FIR低通滤波器解调出原调制信号。 1. 打开VIVADO，点击IP Catalog
2. 搜索DDS，点击DDS Complier
3. DDS参数配置 依照之前配置两个DDS IP核
依照上述步骤，加另外一个DDS IP核
4. 点击IP Catalog，搜索mult，选择Multiplier
5. 参数配置 同样配置另外一个Multiplier 6. 点击IP Catalog，搜索fir，选择FIR Complier
7. 配置参数
(1) 选择coe文件格式，将FIR 的coe文件加载进去
FIR的COE文件生成参考FPGA学习笔记(六): FIR IP核的使用_qq_47598782的博客-CSDN博客
(2) 采样频率 4MHz，时钟频率 50MHz
(3) 输入信号位宽为16bit，选择Symmetric
8. 调制模块文件 module DSB_modulation( input clk,	// 输入clk output [15:0] dds_out1,	// 输出正弦信号1 output [15:0] dds_out2, // 输出正弦信号2 output [31:0] dout	// 输出混频信号，即DSB信号 ); wire clk; wire [15:0] dds_out1; wire [15:0] dds_out2; // 例化 dds_compiler_0 U0_dds_compiler ( ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/3a705b7360ed4f0c7df3254925c62e93/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-18T00:18:53+08:00" />
<meta property="article:modified_time" content="2022-11-18T00:18:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">FPGA学习笔记(七): DSB调制解调的仿真</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <h3>笔记七是DSB调制解调的仿真实现。</h3> 
 <h3>DSB调制解调的实现原理:首先使用DDS产生低频正弦波信号作为调制信号，再用DDS产生高频信号作为载波信号，然后使用乘法器将两者相乘产生DSB信号，DSB信号与载波信号相乘之后，再经过FIR低通滤波器解调出原调制信号。</h3> 
</blockquote> 
<blockquote> 
 <p> 1. 打开VIVADO，点击IP Catalog</p> 
</blockquote> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/27/6f/YqndM4r5_o.png"></p> 
<blockquote> 
 <p style="margin-left:0;text-align:justify;">2. 搜索DDS，点击DDS Complier</p> 
</blockquote> 
<p style="text-align:center;"> <img alt="" src="https://images2.imgbox.com/88/b2/iiIwcfGo_o.png"></p> 
<blockquote> 
 <p> 3. DDS参数配置 依照之前配置两个DDS IP核</p> 
</blockquote> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/55/59/FJUIztCP_o.png"></p> 
<p style="text-align:center;"> <img alt="" src="https://images2.imgbox.com/49/5f/IOOGyBv7_o.png"></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/d2/62/D1gvLWjh_o.png"></p> 
<p><img alt="" src="https://images2.imgbox.com/64/cd/E8WhZOpQ_o.png"> <img alt="" src="https://images2.imgbox.com/e9/ef/hj94Ihs8_o.png"></p> 
<blockquote> 
 <p> 依照上述步骤，加另外一个DDS IP核</p> 
</blockquote> 
<p style="text-align:center;"> <img alt="" src="https://images2.imgbox.com/a8/9d/nhOyX2Yt_o.png"></p> 
<blockquote> 
 <p> 4. 点击IP Catalog，搜索mult，选择Multiplier</p> 
</blockquote> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/d4/3e/z56cvREi_o.png"></p> 
<blockquote> 
 <p>5. 参数配置 </p> 
</blockquote> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/73/3e/GawKJLA8_o.png"></p> 
<blockquote> 
 <p>同样配置另外一个Multiplier </p> 
</blockquote> 
<p style="text-align:center;"> <img alt="" src="https://images2.imgbox.com/af/48/gyxhDamg_o.png"></p> 
<blockquote> 
 <p> 6. 点击IP Catalog，搜索fir，选择FIR Complier</p> 
</blockquote> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/10/ee/LDOVJn7t_o.png"></p> 
<blockquote> 
 <p style="margin-left:0;text-align:justify;">7. 配置参数</p> 
 <p style="margin-left:0;text-align:justify;">(1) 选择coe文件格式，将FIR 的coe文件加载进去</p> 
 <p> FIR的COE文件生成参考<a href="https://blog.csdn.net/qq_47598782/article/details/127909563?spm=1001.2014.3001.5501" title="FPGA学习笔记(六): FIR IP核的使用_qq_47598782的博客-CSDN博客">FPGA学习笔记(六): FIR IP核的使用_qq_47598782的博客-CSDN博客</a></p> 
</blockquote> 
<p style="text-align:center;"> <img alt="" src="https://images2.imgbox.com/08/3a/GVOS1Zw7_o.png"></p> 
<blockquote> 
 <p> (2) 采样频率 4MHz，时钟频率 50MHz</p> 
</blockquote> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/4d/a4/AQ4fPc3o_o.png"></p> 
<blockquote> 
 <p>(3) 输入信号位宽为16bit，选择Symmetric</p> 
</blockquote> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/e2/04/2WdawhJg_o.png"></p> 
<blockquote> 
 <p>8. 调制模块文件 </p> 
</blockquote> 
<pre><code>module DSB_modulation(
    input clk,					// 输入clk
    output [15:0] dds_out1,		// 输出正弦信号1
    output [15:0] dds_out2,     // 输出正弦信号2
    output [31:0] dout			// 输出混频信号，即DSB信号
    );
wire clk;
wire [15:0] dds_out1;
wire [15:0] dds_out2;
// 例化
dds_compiler_0 U0_dds_compiler (
  .aclk(clk),                              // input wire aclk
  .m_axis_data_tvalid(m_axis_data_tvalid),  // output wire m_axis_data_tvalid
  .m_axis_data_tdata(dds_out1)    // output wire [15 : 0] m_axis_data_tdata
);
// 例化
dds_compiler_1 U1_dds_compiler (
  .aclk(clk),                              // input wire aclk
  .m_axis_data_tvalid(m_axis_data_tvalid),  // output wire m_axis_data_tvalid
  .m_axis_data_tdata(dds_out2)    // output wire [15 : 0] m_axis_data_tdata
);

// 例化
mult_gen_0 U0_mult (
  .CLK(clk),  // input wire CLK
  .A(dds_out1),      // input wire [15 : 0] A
  .B(dds_out2),      // input wire [15 : 0] B
  .P(dout)      // output wire [31 : 0] P
);
endmodule</code></pre> 
<blockquote> 
 <p> 9. 解调模块文件</p> 
</blockquote> 
<pre><code>module DSB_demodulation(
    input clk,					// 输入clk
    output dout,				// 输出DSB信号
    output dds_out1,			// 输出正弦信号1
    output dds_out2,			// 输出正弦信号2
    output sin_demodulation		// 输出DSB与载波相乘信号
    );
    wire clk;
    wire [32:0] dout;
    wire [15:0] dds_out1;
    wire [15:0] dds_out2;
    wire [31:0] sin_demodulation;
    // DSB_modulation的例化
    DSB_modulation DSB_modulation_inst(
        .clk(clk),
        .dds_out1(dds_out1),
        .dds_out2(dds_out2),
        .dout(dout)
    );
    
    
   // 乘法器的例化
    mult_gen_1 U1_mult_gen (
  .CLK(clk),  // input wire CLK
  .A(dds_out1),      // input wire [15 : 0] A
  .B(dout[31:16]),      // input wire [15 : 0] B
  .P(sin_demodulation)      // output wire [31 : 0] P
);
endmodule</code></pre> 
<blockquote> 
 <p> 10. 顶层文件</p> 
</blockquote> 
<pre><code>module top_dds_fir(
    input clk,					// 输入clk
    output dout,				// 输出DSB信号
    output dds_out1,			// 输出正弦信号1
    output dds_out2,			// 输出正弦信号2
    output sin_demodulation,	// 输出DSB信号与载波信号相乘
    output fir_din,				// 输出DSB信号与载波信号相乘的截断
    output fir_dout,			// 输出经过滤波器的信号
    output finall_out			// 输出经过滤波器的信号的截断信号
    );
    wire clk;
    wire [31:0] dout,sin_demodulation;
    wire [15:0] dds_out1,dds_out2,fir_din;
    //DSB_demodulation的例化
    DSB_demodulation U_DSB_demodulation(
        .clk(clk),
        .dout(dout),
        .dds_out1(dds_out1),
        .dds_out2(dds_out2),
        .sin_demodulation(sin_demodulation)
    );
	// DSB信号与载波信号相乘的截断
     assign fir_din = sin_demodulation[31:16];
     
     wire [39:0] fir_dout;
     
     wire  [15:0] finall_out;
     wire t_valid;
     assign t_valid = 1'b1;
	 //  fir_compiler_0 的例化
fir_compiler_0 U1_fir_compiler_0 (
  .aclk(clk),                              // input wire aclk
  .s_axis_data_tvalid(t_valid),  // input wire s_axis_data_tvalid
  .s_axis_data_tready(),  // output wire s_axis_data_tready
  .s_axis_data_tdata(fir_din),    // input wire [15 : 0] s_axis_data_tdata
  .m_axis_data_tvalid(),  // output wire m_axis_data_tvalid
  .m_axis_data_tdata(fir_dout)    // output wire [39 : 0] m_axis_data_tdata
);
// 经过滤波器的信号的截断信号
    assign finall_out = fir_dout[39:24];
endmodule</code></pre> 
<blockquote> 
 <p> 11. 测试文件</p> 
</blockquote> 
<pre><code>module DSB_modulation_tb();

reg clk;						// 输入clk
wire [15:0] dds_out1;			
wire [15:0] dds_out2;			
wire [31:0] dout;
wire [31:0] sin_demodulation;
wire [15:0] fir_din;
wire [39:0] fir_dout;
wire [15:0] finall_out;

// 例化
top_dds_fir top_dds_fir_inst(
     .clk(clk),
     .dout(dout),
     .dds_out1(dds_out1),
     .dds_out2(dds_out2),
     .sin_demodulation(sin_demodulation),
     .fir_din(fir_din),
     .fir_dout(fir_dout),
     .finall_out(finall_out)
);

//fir filter
initial begin
    clk = 0;
    end
    always #10 clk = ~clk;
endmodule</code></pre> 
<blockquote> 
 <p> 12. 结果显示</p> 
</blockquote> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/82/32/tUsOSg7Y_o.png">  </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/68135f11b6421d0bfd3e6d269816858a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Mybatis源码详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6e1c86e796681799be6a65757faaa177/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">clickhouse安装详细教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>