<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>键盘中断的处理过程 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="键盘中断的处理过程" />
<meta property="og:description" content="键盘中断的处理过程 当用户按键时，键盘接口会得到一个代表该按键的键盘扫描码，同时产生一个中断请求。键盘中断服务程序先从键盘接口取得按键的扫描码，然后根据其扫描码判断用户所按的键并作相应的处理，最后通知中断控制器本次中断结束并实现中断返回。 若用户按下双态键(如：Caps Lock、Num Lock和Scroll Lock等)，则在键盘上相应LED指示灯的状态将发生改变； 若用户按下控制键(如：Ctrl、Alt和Shift等)，则在键盘标志字中设置其标志位； 若用户按下功能键(如：F1、F2、…等)，再根据当前是否又按下控制键来确定其系统扫描码，并把其系统扫描码和一个值为0的字节存入键盘缓冲区； 若用户按下字符键(如：A、1、&#43;、…等)，此时，再根据当前是否又按下控制键来确定其系统扫描码，并得到该按键所对应的ASCII码，然后把其系统扫描码和ASCII码一起存入键盘缓冲区； 若用户按下功能请求键(如：Print Screen等)，则系统直接产生一个具体的动作。
（注：当按下“普通键”时，它的低8位数存放该字符的ASCII码。对于特殊键，低8位为0。特殊键包括箭头键、功能键等。高8位字节存放该键的扫描码（感觉此处扫描码应该指的是特殊键所对应的扩充的ASCII码）。
扫描码 键
0x011b ESC
0x3b00 F1
0x3c00 F2
0x3d00 F3
0x3e00 F4
0x3f00 F5
0x4000 F6
0x4100 F7
0x4200 F8
0x4300 F9
0x4400 F10
主键盘区:
0x2960 ~
0x0231 1
0x0332 2
0x0433 3
0x0534 4
0x0635 5
0x0736 6
0x0837 7
0x0938 8
0x0a39 9
0x0b30 0
0x0c2d -
0x0d3d =
0x2b5c &#34;
0x0e08 退格键
0x0f09 Tab" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/ac949827aaa01fcb83f77c43487fbf76/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2011-11-13T09:40:59+08:00" />
<meta property="article:modified_time" content="2011-11-13T09:40:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">键盘中断的处理过程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    键盘中断的处理过程 
<br> 当用户按键时，键盘接口会得到一个代表该按键的键盘扫描码，同时产生一个中断请求。键盘中断服务程序先从键盘接口取得按键的扫描码，然后根据其扫描码判断用户所按的键并作相应的处理，最后通知中断控制器本次中断结束并实现中断返回。 
<br> 若用户按下双态键(如：Caps Lock、Num Lock和Scroll Lock等)，则在键盘上相应LED指示灯的状态将发生改变； 
<br> 若用户按下控制键(如：Ctrl、Alt和Shift等)，则在键盘标志字中设置其标志位； 
<br> 若用户按下功能键(如：F1、F2、…等)，再根据当前是否又按下控制键来确定其系统扫描码，并把其系统扫描码和一个值为0的字节存入键盘缓冲区； 
<br> 若用户按下字符键(如：A、1、+、…等)，此时，再根据当前是否又按下控制键来确定其系统扫描码，并得到该按键所对应的ASCII码，然后把其系统扫描码和ASCII码一起存入键盘缓冲区； 
<br> 
<p>若用户按下功能请求键(如：Print Screen等)，则系统直接产生一个具体的动作。</p> 
<p><br> </p> 
<p><span style="color:rgb(123,125,98); font-family:verdana,Arial,helvetica,sans-seriff,����; font-size:13px; line-height:19px"></span></p> 
<div id="text"> 
 <p style="margin-top:5px; margin-right:auto; margin-bottom:5px; margin-left:auto; text-indent:0px"> （注：当按下“普通键”时，它的低8位数存放该字符的ASCII码。对于特殊键，低8位为0。特殊键包括箭头键、功能键等。高8位字节存放该键的扫描码（感觉此处扫描码应该指的是特殊键所对应的扩充的ASCII码）。</p> 
 <p style="margin-top:5px; margin-right:auto; margin-bottom:5px; margin-left:auto; text-indent:0px"> 扫描码          键<br> 0x011b          ESC<br> 0x3b00          F1<br> 0x3c00          F2<br> 0x3d00          F3<br> 0x3e00          F4<br> 0x3f00          F5<br> 0x4000          F6<br> 0x4100          F7<br> 0x4200          F8<br> 0x4300          F9<br> 0x4400          F10<br> 主键盘区:</p> 
 <p style="margin-top:5px; margin-right:auto; margin-bottom:5px; margin-left:auto; text-indent:0px"> 0x2960          ~<br> 0x0231          1<br> 0x0332          2<br> 0x0433          3<br> 0x0534          4<br> 0x0635          5<br> 0x0736          6<br> 0x0837          7<br> 0x0938          8<br> 0x0a39          9<br> 0x0b30          0<br> 0x0c2d          -<br> 0x0d3d          =<br> 0x2b5c          "<br> 0x0e08          退格键<br> 0x0f09          Tab<br> 0x1071          q<br> 0x1177          w<br> 0x1265          e<br> 0x1372          r<br> 0x1474          t<br> 0x1579          y<br> 0x1675          u<br> 0x1769          i<br> 0x186f          o<br> 0x1970          p<br> 0x1a5b          [<br> 0x1b5d          ]<br> 0x1e61          a<br> 0x1f73          s<br> 0x2064          d<br> 0x2166          f<br> 0x2267          g<br> 0x2368          h<br> 0x246a          j<br> 0x256b          k<br> 0x266c          l<br> 0x273b          ;<br> 0x2827          '<br> 0x1c0d          回车<br> 0x2c7a          z<br> 0x2d78          x<br> 0x2e63          c<br> 0x2f76          v<br> 0x3062          b<br> 0x316e          n<br> 0x326d          m<br> 0x332c          ,<br> 0x342e          .<br> 0x352f          /<br> 0x3920          空格键<br> 右边数字键盘:</p> 
 <p style="margin-top:5px; margin-right:auto; margin-bottom:5px; margin-left:auto; text-indent:0px"> 0x5200          Insert<br> 0x4700          Home<br> 0x4900          Page UP<br> 0x5300          Delete<br> 0x4f00          End<br> 0x5100          PageDown<br> 0x4800          上箭头<br> 0x4b00          左箭头<br> 0x5000          下箭头<br> 0x4d00          右箭头<br> 0x352f          /<br> 0x372a          *<br> 0x4a2d          - (注意,这是数字键盘的)<br> 0x4737          7<br> 0x4838          8<br> 0x4939          9<br> 0x4b34          4<br> 0x4c35          5<br> 0x4d36          6<br> 0x4e2b          +<br> 0x4f31          1<br> 0x5032          2<br> 0x5133          3<br> 0x5230          0<br> 0x532e          Del</p> 
 <p style="margin-top:5px; margin-right:auto; margin-bottom:5px; margin-left:auto; text-indent:0px"> </p> 
 <p align="left" style="margin-top:5px; margin-right:auto; margin-bottom:5px; margin-left:auto; text-indent:0px; line-height:16.5pt"> <span style="color:black">/************</span><span style="color:black; font-family:宋体">键盘上各键的扫描码以及组合键的扫描码</span><span style="color:black">***************/<br> #define KEY_L1 0x4F  /*</span><span style="color:black; font-family:宋体">小写键盘上的键</span><span style="color:black">*/<br> #define KEY_L2 0x50<br> #define KEY_L3 0x51<br> #define KEY_L4 0x4B<br> #define KEY_L6 0x4D<br> #define KEY_L7 0x47<br> #define KEY_L8 0x48<br> #define KEY_L9 0x49<br> #define KEY_ADD 0x2B<br> #define KEY_SUB 0x2D<br> #define KEY_LEFT 75      /*</span><span style="color:black; font-family:宋体">左箭头</span><span style="color:black">*/<br> #define KEY_RIGHT 77     /*</span><span style="color:black; font-family:宋体">右箭头</span><span style="color:black">*/<br> #define KEY_UP 72        /*</span><span style="color:black; font-family:宋体">上箭头</span><span style="color:black">*/ <br> #define KEY_DOWN 80      /*</span><span style="color:black; font-family:宋体">下箭头</span><span style="color:black">*/<br> #define KEY_F1 59<br> #define KEY_F2 60<br> #define KEY_F3 61<br> #define KEY_F4 62<br> #define KEY_F5 63<br> #define KEY_F6 64<br> #define KEY_F7 65<br> #define KEY_F8 66<br> #define KEY_F9 67<br> #define KEY_F10 68<br> #define KEY_INSERT 82<br> #define KEY_HOME 71<br> #define KEY_PAGEUP 73<br> #define KEY_PAGEDOWN 81<br> #define KEY_DEL 83<br> #define KEY_END 79</span></p> 
 <p align="left" style="margin-top:5px; margin-right:auto; margin-bottom:5px; margin-left:auto; text-indent:0px; line-height:16.5pt"> <span style="color:black">#define KEY_DASH 12 /* _- */<br> #define KEY_EQUAL 13 /* += */<br> #define KEY_LBRACKET 26 /* {[ */<br> #define KEY_RBRACKET 27 /* }] */<br> #define KEY_SEMICOLON 39 /* :; */<br> #define KEY_RQUOTE 40 /* ' */<br> #define KEY_LQUOTE 41 /* ~` */<br> #define KEY_PERIOD 52 /* &gt;. */<br> #define KEY_COMMA 51 /* &lt;, */<br> #define KEY_SLASH 53 /* ?/ */<br> #define KEY_BACKSLASH 43 /* |" */ <br> #define KEY_ENTER 28         /*</span><span style="color:black; font-family:宋体">回车键</span><span style="color:black">*/<br> #define KEY_BACKSPACE 14     /*</span><span style="color:black; font-family:宋体">退格键</span><span style="color:black">*/<br> #define KEY_SPACE 57         /*</span><span style="color:black; font-family:宋体">空格键</span><span style="color:black">*/<br> #define KEY_TAB 15<br> #define KEY_ESC 1<br> #define KEY_Q 16<br> #define KEY_W 17<br> #define KEY_E 18<br> #define KEY_R 19<br> #define KEY_T 20<br> #define KEY_Y 21<br> #define KEY_U 22<br> #define KEY_I 23<br> #define KEY_O 24<br> #define KEY_P 25<br> #define KEY_A 30<br> #define KEY_S 31<br> #define KEY_D 32<br> #define KEY_F 33<br> #define KEY_G 34<br> #define KEY_H 35<br> #define KEY_J 36<br> #define KEY_K 37<br> #define KEY_L 38<br> #define KEY_Z 44<br> #define KEY_X 45<br> #define KEY_C 46<br> #define KEY_V 47<br> #define KEY_B 48<br> #define KEY_N 49<br> #define KEY_M 50<br> #define KEY_1 2 <br> #define KEY_2 3<br> #define KEY_3 4<br> #define KEY_4 5<br> #define KEY_5 6<br> #define KEY_6 7<br> #define KEY_7 8<br> #define KEY_8 9<br> #define KEY_9 10<br> #define KEY_0 11</span></p> 
 <p align="left" style="margin-top:5px; margin-right:auto; margin-bottom:5px; margin-left:auto; text-indent:0px; line-height:16.5pt"> <span style="color:black">/+++++++++++++++++++++++++CTR+</span><span style="color:black; font-family:宋体">各键扫描码</span><span style="color:black">+++++++++++++++++++++++++/<br> #define KEY_F1 0x5E<br> #define KEY_F2 0x5F<br> #define KEY_F3 0x60<br> #define KEY_F4 0x61<br> #define KEY_F5 0x62<br> #define KEY_F6 0x63<br> #define KEY_F7 0x64<br> #define KEY_F8 0x65<br> #define KEY_F9 0x66<br> #define KEY_F10 0x67<br> #define KEY_2 0x03<br> #define KEY_6 0x1E<br> #define KEY_Q 0x11<br> #define KEY_W 0x17<br> #define KEY_E 0x05<br> #define KEY_R 0x12<br> #define KEY_T 0x14<br> #define KEY_Y 0x19<br> #define KEY_U 0x15<br> #define KEY_I 0x09<br> #define KEY_O 0x0F<br> #define KEY_P 0x10<br> #define KEY_LBRACKET 0x1B   /* {[ */<br> #define KEY_RBRACKET 0x1D   /* }] */<br> #define KEY_A 0x01<br> #define KEY_S 0x13<br> #define KEY_D 0x04<br> #define KEY_F 0x06<br> #define KEY_G 0x07<br> #define KEY_H 0x08<br> #define KEY_J 0x0A<br> #define KEY_K 0x0B<br> #define KEY_L 0x0C<br> #define KEY_Z 0x1A<br> #define KEY_X 0x18<br> #define KEY_C 0x03<br> #define KEY_V 0x16<br> #define KEY_B 0x02<br> #define KEY_N 0x0E<br> #define KEY_M 0x0D<br> #define KEY_SPACE 0x20<br> #define KEY_BACKSPACE 0x7F<br> #define KEY_ENTER 0x0A<br> #define KEY_BACKSLASH 0x1C  /* |" */<br> #define KEY_L1 0x75  /*</span><span style="color:black; font-family:宋体">小写键盘上的键</span><span style="color:black">*/<br> #define KEY_L3 0x76<br> #define KEY_L4 0x73<br> #define KEY_L6 0x74<br> #define KEY_L7 0x77<br> #define KEY_L9 0x84</span></p> 
 <p align="left" style="margin-top:5px; margin-right:auto; margin-bottom:5px; margin-left:auto; text-indent:0px; line-height:16.5pt"> <span style="color:black">/+++++++++++++++++++++++++SHIFT+</span><span style="color:black; font-family:宋体">各键扫描码</span><span style="color:black">+++++++++++++++++++++++++/<br> #define KEY_LQUOTE 0x7E   /* ~` */<br> #define KEY_1 0x21<br> #define KEY_2 0x40<br> #define KEY_3 0x23<br> #define KEY_4 0x24<br> #define KEY_5 0x25<br> #define KEY_6 0x5E<br> #define KEY_7 0x26<br> #define KEY_8 0x2A<br> #define KEY_9 0x28<br> #define KEY_0 0x29<br> #define KEY_DASH 0x5F   /* _- */<br> #define KEY_EQUAL 0x2B  /* += */<br> #define KEY_BACKSPACE 0x08<br> #define KEY_Q 0x51<br> #define KEY_W 0x57<br> #define KEY_E 0x45<br> #define KEY_R 0x52<br> #define KEY_T 0x54<br> #define KEY_Y 0x59<br> #define KEY_U 0x55<br> #define KEY_I 0x49<br> #define KEY_O 0x4F<br> #define KEY_P 0x50<br> #define KEY_LBRACKET 0x7B  /* {[ */<br> #define KEY_RBRACKET 0x7D  /* }] */<br> #define KEY_ENTER 0x0D<br> #define KEY_A 0x41<br> #define KEY_S 0x53<br> #define KEY_D 0x44<br> #define KEY_F 0x46<br> #define KEY_G 0x47<br> #define KEY_H 0x48<br> #define KEY_J 0x4A</span></p> 
</div> #define KEY_ENTER 0x1c 
<br> #define KEY_SPACE 0x39 
<br> #define KEY_UP 0x48 
<br> #define KEY_LEFT 0x4b 
<br> #define KEY_RIGHT 0x4d 
<br> #define KEY_DOWN 0x50 
<br> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1e9bc69c89d9d23cca16006243332d7c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MII/MDIO接口详解(转)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d94ac5fab658ba348eb5970cac25d2fa/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Data和DataFormat</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>