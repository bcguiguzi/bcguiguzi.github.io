<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>跟着李沐学AI（动手学深度学习 PyTorch版）学习笔记——03安装（环境配置d2l、pytorch）（python3.7版本&#43;Windows&#43;各种问题解决措施） - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="跟着李沐学AI（动手学深度学习 PyTorch版）学习笔记——03安装（环境配置d2l、pytorch）（python3.7版本&#43;Windows&#43;各种问题解决措施）" />
<meta property="og:description" content="第一步：根据操作系统下载并安装Miniconda 1.下载Miniconda下载地址
2.在安装过程中需要勾选“Add Anaconda to the system PATH environment variable”选项
3.检验win&#43;R，输入cmd，在文本框输入conda --version
第二步:下载包含本书全部代码的压缩包。 1.点击该链接&#43;点击jupyter记事本下载压缩包
2.解压该压缩包
3.在解压后的文件夹地址栏输入cmd回车进入命令模式。
第三步：使⽤conda创建虚拟环境并激活 1.conda和pip默认使⽤国外站点来下载软件，我们可以配置国内镜像来加速下载。
配置清华PyPI镜像：
pip config set global.index-url http://pypi.tuna.tsinghua.edu.cn/simple
输入之后回车是这样
2.接下来使⽤conda创建虚拟环境并激活
conda env remove d2l-zh
conda create -n d2l-zh -y python=3.8 pip
（这个输入之后会噼里啪啦一堆东西，且稍微需要点时间，我网慢）
conda activate d2l-zh
第四步：安装需要的包（这步错的较多） 主要是d2l、torch 、torchvision
d2l可以用豆瓣源
pip install -i https://pypi.douban.com/simple/ d2l
（这个输入之后会噼里啪啦一堆东西，且稍微需要点时间，我网慢）
这一步运行之后出现一些红字错误，应该是没安装成功
pip install d2l -i http://pypi.douban.com/simple/ --trusted-host pypi.douban.com（这个应该是正确的输入）（还是没成功出现类似下图）
用阿里云的源安装pytorch
pip install torch torch vision -i http://mirrors.aliyun.com/pypi/simple/ --trusted-host mirrors.aliyun.com" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/39aa985a88d846529627b8eecd34f6cb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-09T15:45:39+08:00" />
<meta property="article:modified_time" content="2023-10-09T15:45:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">跟着李沐学AI（动手学深度学习 PyTorch版）学习笔记——03安装（环境配置d2l、pytorch）（python3.7版本&#43;Windows&#43;各种问题解决措施）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="Miniconda_0"></a>第一步：根据操作系统下载并安装Miniconda</h3> 
<p>1.下载<a href="https://conda.io/en/master/miniconda.html" rel="nofollow">Miniconda下载地址</a><br> 2.在安装过程中需要勾选“Add Anaconda to the system PATH environment variable”选项<br> <img src="https://images2.imgbox.com/a9/68/arOYpHDN_o.png" alt="在这里插入图片描述"><br> 3.检验win+R，输入cmd，在文本框输入conda --version<br> <img src="https://images2.imgbox.com/4a/06/2VqDjCWY_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_6"></a>第二步:下载包含本书全部代码的压缩包。</h3> 
<p>1.<a href="https://zh-v2.d2l.ai/" rel="nofollow">点击该链接+点击jupyter记事本下载压缩包</a><br> <img src="https://images2.imgbox.com/9a/3c/mxuNeygY_o.png" alt="![在这里插入图片描述](https://img-blog.csdnimg.cn/1772456e31c9441489373ecac5525d6d.png"><br> 2.解压该压缩包<br> <img src="https://images2.imgbox.com/03/4e/a1xBDJ0o_o.png" alt="在这里插入图片描述"><br> 3.在解压后的文件夹地址栏输入cmd回车进入命令模式。<br> <img src="https://images2.imgbox.com/1b/c7/f6xBrUL9_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d6/90/KJkQNAYH_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="conda_15"></a>第三步：使⽤conda创建虚拟环境并激活</h3> 
<p>1.conda和pip默认使⽤国外站点来下载软件，我们可以配置国内镜像来加速下载。</p> 
<p>配置清华PyPI镜像：</p> 
<blockquote> 
 <p>pip config set global.index-url http://pypi.tuna.tsinghua.edu.cn/simple</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/7d/c3/q0pv9PHA_o.png" alt="在这里插入图片描述"><br> 输入之后回车是这样<br> <img src="https://images2.imgbox.com/8f/a5/dEwXGS6t_o.png" alt="在这里插入图片描述"><br> 2.接下来使⽤conda创建虚拟环境并激活</p> 
<blockquote> 
 <p>conda env remove d2l-zh</p> 
</blockquote> 
<blockquote> 
 <p>conda create -n d2l-zh -y python=3.8 pip<br> （这个输入之后会噼里啪啦一堆东西，且稍微需要点时间，我网慢）</p> 
</blockquote> 
<blockquote> 
 <p>conda activate d2l-zh</p> 
</blockquote> 
<h3><a id="_36"></a>第四步：安装需要的包（这步错的较多）</h3> 
<p>主要是d2l、torch 、torchvision<br> d2l可以用豆瓣源</p> 
<blockquote> 
 <p>pip install -i https://pypi.douban.com/simple/ d2l<br> （这个输入之后会噼里啪啦一堆东西，且稍微需要点时间，我网慢）<br> 这一步运行之后出现一些红字错误，应该是没安装成功<br> pip install d2l -i http://pypi.douban.com/simple/ --trusted-host pypi.douban.com（这个应该是正确的输入）（还是没成功出现类似下图）</p> 
</blockquote> 
<p>用阿里云的源安装pytorch</p> 
<blockquote> 
 <p>pip install torch torch vision -i http://mirrors.aliyun.com/pypi/simple/ --trusted-host mirrors.aliyun.com<br> （这个我也没安装成功，环境问题+响应版本问题）</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/c7/6d/B0Ye7uqY_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_53"></a>问题一：于是升级版本：</h4> 
<ol><li>点击开始-搜索命令提示符-点以管理员身份运行</li><li>输入</li></ol> 
<blockquote> 
 <p>（1） pip install --user --upgrade pip（错误）<br> （2） pip install --user --upgrade pip–trusted-hostpypi.tuna.tsinghua.edu.cn （错误）<br> （3）python -m pip install --upgrade pip（警告但是没出现错误尝试继续安装d2l包，虽然我知道肯定不成功，但是我还是尝试再次安装这个包了，对，结果还是错误的）</p> 
 <p>（4）python -m pip install --upgrade pip --trusted-host pypi.tuna.tsinghua.edu.cn（这里pip -V显示成果升级版本了，家人们,谁懂我现在的心情啊！！！终于成功了啦！！！虽然是版本升级成功了，但是包能不能下好，只能再尝试了，于是我们继续安装包，希望成功！——家人们虽然没出现上面这个问题了，也没出现大片红色的了，但是有一小部分是黄色，警告了，不管了，我继续下载下一个包了）</p> 
</blockquote> 
<p>3.输入pip -V命令去查看，如下就成功了<br> <img src="https://images2.imgbox.com/78/44/4jnzg7qI_o.png" alt="在这里插入图片描述"><br> 总结：这里尝试到第四个才版本升级成功啊！！！别放弃！</p> 
<p>版本升级之后再次下载这两个包</p> 
<pre><code class="prism language-csharp"> pip install d2l <span class="token operator">-</span><span class="token class-name">i</span> http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>pypi<span class="token punctuation">.</span>douban<span class="token punctuation">.</span>com<span class="token operator">/</span>simple<span class="token operator">/</span> <span class="token operator">--</span>trusted<span class="token operator">-</span>host pypi<span class="token punctuation">.</span>douban<span class="token punctuation">.</span>com
</code></pre> 
<p>（虽然没出现上面这个问题了，也没出现大片红色的了，但是有一小部分是黄色，警告了，不管了，我继续下载下一个包了）</p> 
<pre><code class="prism language-csharp">pip install torch torch vision <span class="token operator">-</span><span class="token class-name">i</span> http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>pypi<span class="token operator">/</span>simple<span class="token operator">/</span> <span class="token operator">--</span>trusted<span class="token operator">-</span>host mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com
</code></pre> 
<p>（其实我这里也没出现大片红，只是黄色警告了，我没有管，但是我进行最一步，运行jupyter notebook出错了，所以我不得不再次回来谨慎这个黄色警告）</p> 
<h4><a id="__WARNING_The_scripts_convertcaffe2toonnxexe_convertonnxtocaffe2exe_and_torchrunexe_are_installed_inCUsersDELLAppDataRoamingPythonPython37Scripts_which_is_not_on_PATH___Consider_adding_this_directory_to_PATH_or_if_you_prefer_to_suppress_this_warning_use_nowarnscriptlocation_78"></a>问题二：添加环境变量：&gt; （ WARNING: The scripts convert-caffe2-to-onnx.exe, convert-onnx-to-caffe2.exe and torchrun.exe are installed in’C:\Users\DELL\AppData\Roaming\Python\Python37\Scripts’ which is not on PATH. Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.）</h4> 
<p>1.打开电脑的 控制面板 --&gt; 系统与安全 --&gt; 系统 --&gt; 高级系统设置 --&gt;环境变量，在系统变量里找到 path ，双击 --&gt; 点击新建，把“Jupyter notebook”的路径依次添加进去。<br> <img src="https://images2.imgbox.com/8d/d0/7fPqCd1x_o.png" alt="在这里插入图片描述"><br> 2.找jupyter notebook的路径：<br> （1）cmd打开，输入</p> 
<blockquote> 
 <p>pip install jupyter</p> 
</blockquote> 
<p>（某博主的）<br> <img src="https://images2.imgbox.com/70/5f/g47zPirC_o.png" alt="在这里插入图片描述">（我的）<img src="https://images2.imgbox.com/24/06/vceF20A8_o.png" alt="在这里插入图片描述"></p> 
<p>（2）复制这个路径，找到它，然后退回上一级目录，点击Scripts:<br> <img src="https://images2.imgbox.com/74/04/mJfUSpFe_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/e6/89/VlknrQ34_o.png" alt="在这里插入图片描述"><br> （3）如果能找到“jupyter-notebook.exe”则说明jupyter已经安装，将该路径（到scripts）复制进环境变量即可。<br> <img src="https://images2.imgbox.com/9b/da/Pvc0DisV_o.png" alt="在这里插入图片描述"><br> 添加完环境变量之后我就又继续下载这两个包了</p> 
<blockquote> 
 <p>pip install d2l -i http://pypi.douban.com/simple/ --trusted-host pypi.douban.com</p> 
 <p>pip install torch torch vision -i http://mirrors.aliyun.com/pypi/simple/ --trusted-host mirrors.aliyun.com<br> （这次下载非常快，还是没安装成功，出现下列错误 Getting requirements to build wheel … error<br> error: subprocess-exited-with-error）</p> 
</blockquote> 
<h4><a id="error_subprocessexitedwitherror_106"></a>问题三：报错error: subprocess-exited-with-error</h4> 
<p><img src="https://images2.imgbox.com/dd/28/VgVIzTfj_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/fe/a0/s6AiQg1u_o.png" alt="在这里插入图片描述"><br> <a href="https://download.pytorch.org/whl/torch_stable.html" rel="nofollow">下载torch</a></p> 
<blockquote> 
 <p>pip install E:\研究生阶段下载\torch-1.2.0+cpu-cp37-cp37m-win_amd64.wh</p> 
</blockquote> 
<h4><a id="ERROR_pips_dependency_resolver_does_not_currently_take_into_account_all_the_packages_that_are_installed_This_behaviour_is_the_source_of_the_following_dependency_conflictstorchvision_0141_requires_torch1131_but_you_have_torch_120cpu_which_is_incompatible_115"></a>问题四：报错ERROR: pip’s dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.torchvision 0.14.1 requires torch==1.13.1, but you have torch 1.2.0+cpu which is incompatible.</h4> 
<p><img src="https://images2.imgbox.com/1b/b1/Z6GQjN2w_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>再下载一个版本再<br> pip install E:\研究生阶段下载\torch-1.13.1+cpu-cp37-cp37m-win_amd64.whl</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/09/24/Gm6QB95Q_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>python<br> import torch<br> <code>torch.__version__</code>（两个下划线）</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/c7/e3/haheZTJj_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="torchimportpycharmjupyterNo_module_named_torch_128"></a>问题五：关于下载torch时，命令行import成功，但是pycharm和jupyter显示“No module named torch”问题（暂未解决）</h4> 
<p><a href="https://blog.csdn.net/weixin_43291573/article/details/125519695">明明安装了torch,还显示没改模块</a><br> (<strong>这个我不知道怎么回事，就是我没有动任何东西，但是pytorch能用了，比如以下例子</strong>)<br> <img src="https://images2.imgbox.com/30/a2/dHyT7iO0_o.png" alt="在这里插入图片描述"></p> 
<p><em>另外见另一个博主安装如下（我未安装，仅提供参考</em>）</p> 
<blockquote> 
 <p>pip install mxnet==1.5.0</p> 
 <p>pip install d2lzh==1.0.0</p> 
 <p>pip install jupyter==1.0.0</p> 
 <p>pip install matplotlib==2.2.2</p> 
 <p>pip install pandas==0.23.4</p> 
</blockquote> 
<h3><a id="jupyter_notebook_146"></a>第五步：安装完成之后运行jupyter notebook（直接输入）</h3> 
<p>（1）(没问题直接看下一步)咱上一步其实已经添加过环境变量了，要是没添加这里会出现</p> 
<blockquote> 
 <p>‘jupyter’ 不是内部或外部命令,也不是可运行的程序 或批处理文件。<br> 要是遇见这个问题请参考上一步中的问题二环境变量的添加，添加完，再运行就好了~</p> 
</blockquote> 
<p>（2）这里我直接输入jupyter notebook运行，就会跳出<a href="http://localhost:8888/tree" rel="nofollow">这个网页</a>：（http://localhost:8888/tree）就可以看和运⾏书中每⼀节的代码啦<br> <img src="https://images2.imgbox.com/b8/33/H5GwNuaN_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/c9/f2/PbyNIW5X_o.png" alt="在这里插入图片描述"><br> （3）（没问题的人，这步省略）有的人可能会遇到需要输入Token，将下图的输入进去就行：<br> <img src="https://images2.imgbox.com/cb/06/qT4KcXWH_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_157"></a>第六步：前面五步适合第一次安装，后续再次打开可以输入以下命令</h3> 
<ol><li></ol> 
<blockquote> 
 <p>activate base<br> jupyter notebook</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/7e/a6/S5JRPvkT_o.png" alt="在这里插入图片描述"><br> 这时也会自动弹出这个网页：<br> <img src="https://images2.imgbox.com/ae/22/M1sQfKjS_o.png" alt="在这里插入图片描述"><br> （但是这个我后续需要用时，发现没有我需要的文件）<br> 2.后续按照原始的方法（以下这个，里面有）<br> （1）<br> <img src="https://images2.imgbox.com/d0/29/mybREo7L_o.png" alt="在这里插入图片描述"><br> （2）<br> <img src="https://images2.imgbox.com/d2/d9/hvsFUy8N_o.png" alt="在这里插入图片描述"></p> 
<p>总结：这个过程我安装很长时间（9-4,1-2），同时也遇见了各种各样的问题：版本没升级，没添加环境变量等，但是主要是这两个，虽然耗时长，问题频出，但是也没想放弃不搞了，反而更兴奋，一起床，脸都没洗，就继续解决问题了，很开心终于算是安装成功了！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9697bee2a020908ad9927783cd6a6d58/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">眼图的形成原理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6858858c87bf89884d88b3d3ac9e4264/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于aarch64分析kernel源码 五：idle进程(0号进程)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>