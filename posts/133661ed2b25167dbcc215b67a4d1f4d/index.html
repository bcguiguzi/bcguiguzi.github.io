<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>rand()和RAND_MAX - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="rand()和RAND_MAX" />
<meta property="og:description" content=" RAND_MAX是C中stdlib.h中宏定义的一个字符常量： #define RAND_MAX Ox7FFF 其值最小为32767,最大为2147483647 通常在产生随机小数时可以使用RAND_MAX。 一、C&#43;&#43;中不能使用random()函数 random函数不是ANSI C标准，不能在gcc,vc等编译器下编译通过。但在C语言中int random(num)可以这样使用，它返回的是0至num-1的一个随机数。 可改用C&#43;&#43;下的rand函数来实现。 1、C&#43;&#43;标准函数库提供一随机数生成器rand，返回0－RAND_MAX之间均匀分布的伪随机整数。 RAND_MAX必须至少为32767。rand()函数不接受参数，默认以1为种子（即起始值）。 随机数生成器总是以相同的种子开始，所以形成的伪随机数列也相同，失去了随机意义。（但这样便于程序调试） 2、C&#43;&#43;中另一函数srand（），可以指定不同的数（无符号整数变元）为种子。但是如果种子相同，伪随机数列也相同。一个办法是让用户输入种子，但是仍然不理想。 3、 比较理想的是用变化的数，比如时间来作为随机数生成器的种子。 time的值每时每刻都不同。所以种子不同，所以，产生的随机数也不同。 二、rand()的用法 rand()不需要参数，它会返回一个从0到最大随机数的任意整数，最大随机数的大小通常是固定的一个大整数。 #define RAND_MAX 0x7fffu 这个是bcc55中的定义，说明这个整数的最大数是0x7fffu，u代表unicode编码。 这样，如果你要产生0~10的10个整数，可以表达为： int N = rand() % 11; 这样，N的值就是一个0~10的随机数，如果要产生1~10，则是这样： int N = 1 &#43; rand() % 10; 总结来说，可以表示为： a &#43; rand() % n 其中的a是起始值，n是整数的范围。 a &#43; rand() % (b-a&#43;1) 就表示　ａ～ｂ之间的一个随机数 若要0~1的小数，则可以先取得0~10的整数，然后均除以10即可得到随机到十分位的10个随机小数，若要得到随机到百分位的随机小数，则需要先得到0~100的10个整数，然后均除以100，其它情况依 此类推。 通常rand()产生的随机数在每次运行的时候都是与上一次相同的，这是有意这样设计的，是为了便于程序的调试。若要产生每次不同的随机数，可以使用srand( seed )函数进行随机化，随着seed的不同，就能够产生不同的随机数。 如大家所说，还可以包含time.h头文件，然后使用srand(time(0))来使用当前时间使随机数发生器随机化，这样就可以保证每两次运行时可以得到不同的随机数序列(只要两次运行的间隔超过1秒)。 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/133661ed2b25167dbcc215b67a4d1f4d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-05-05T13:13:50+08:00" />
<meta property="article:modified_time" content="2014-05-05T13:13:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">rand()和RAND_MAX</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="sina_keyword_ad_area2" class="articalContent  "> 
 <div>
   RAND_MAX是C中stdlib.h中宏定义的一个字符常量： 
 </div> 
 <div>
   #define RAND_MAX Ox7FFF 
 </div> 
 <div>
   其值最小为32767,最大为2147483647 
 </div> 
 <div>
   通常在产生随机小数时可以使用RAND_MAX。 
  <br> 
  <br> 一、C++中不能使用random()函数 
  <br>   
  <wbr></wbr>  
  <wbr></wbr>  
  <wbr></wbr> random函数不是ANSI C标准，不能在gcc,vc等编译器下编译通过。但在C语言中int random(num)可以这样使用，它返回的是0至num-1的一个随机数。 可改用C++下的rand函数来实现。 
  <div>
      
   <wbr></wbr>   
   <wbr></wbr>   
   <wbr></wbr>1、C++标准函数库提供一随机数生成器rand，返回0－RAND_MAX之间均匀分布的伪随机整数。 RAND_MAX必须至少为32767。rand()函数不接受参数，默认以1为种子（即起始值）。 随机数生成器总是以相同的种子开始，所以形成的伪随机数列也相同，失去了随机意义。（但这样便于程序调试）  
   <wbr></wbr> 
  </div> 
  <div>
      
   <wbr></wbr>   
   <wbr></wbr>   
   <wbr></wbr> 2、C++中另一函数srand（），可以指定不同的数（无符号整数变元）为种子。但是如果种子相同，伪随机数列也相同。一个办法是让用户输入种子，但是仍然不理想。  
   <wbr></wbr> 
  </div> 
  <div>
      
   <wbr></wbr>   
   <wbr></wbr>   
   <wbr></wbr>3、 比较理想的是用变化的数，比如时间来作为随机数生成器的种子。 time的值每时每刻都不同。所以种子不同，所以，产生的随机数也不同。 
   <br> 
  </div> 
  <br> 
  <div>
    二、rand()的用法  
   <wbr></wbr> 
  </div> 
  <div>
      
   <wbr></wbr>   
   <wbr></wbr>   
   <wbr></wbr>rand()不需要参数，它会返回一个从0到最大随机数的任意整数，最大随机数的大小通常是固定的一个大整数。  
   <wbr></wbr> 
  </div> 
  <div>
      
   <wbr></wbr>  
   <wbr></wbr> 
  </div> 
  <div>
      
   <wbr></wbr> #define   
   <wbr></wbr> RAND_MAX   
   <wbr></wbr> 0x7fffu   
   <wbr></wbr>  
   <wbr></wbr> 
  </div> 
  <div>
      
   <wbr></wbr>   
   <wbr></wbr>  
   <wbr></wbr> 
  </div> 
  <div>
    这个是bcc55中的定义，说明这个整数的最大数是0x7fffu，u代表unicode编码。 
  </div> 
  <div>
      
   <wbr></wbr> 
  </div> 
  <div> 
   <br> 
  </div> 
  <div>
    这样，如果你要产生0~10的10个整数，可以表达为：  
   <wbr></wbr> 
  </div> 
  <div>
    int N = rand() % 11;  
   <wbr></wbr> 
  </div> 
  <div>
      
   <wbr></wbr>   
   <wbr></wbr>   
   <wbr></wbr>这样，N的值就是一个0~10的随机数，如果要产生1~10，则是这样：  
   <wbr></wbr> 
  </div> 
  <div>
    int N = 1 + rand() % 10;  
   <wbr></wbr> 
  </div> 
  <div>
    总结来说，可以表示为：  
   <wbr></wbr> 
  </div> 
  <div>
    a + rand() % n 
  </div> 
  <div>
      
   <wbr></wbr>   
   <wbr></wbr>   
   <wbr></wbr>其中的a是起始值，n是整数的范围。  
   <wbr></wbr> 
  </div> 
  <div>
    　　a + rand() % (b-a+1) 就表示　ａ～ｂ之间的一个随机数 
  </div> 
  <div>
    若要0~1的小数，则可以先取得0~10的整数，然后均除以10即可得到随机到十分位的10个随机小数，若要得到随机到百分位的随机小数，则需要先得到0~100的10个整数，然后均除以100，其它情况依 
  </div> 
  <div>
    此类推。  
   <wbr></wbr> 
  </div> 
  <div>
      
   <wbr></wbr>   
   <wbr></wbr>   
   <wbr></wbr>通常rand()产生的随机数在每次运行的时候都是与上一次相同的，这是有意这样设计的，是为了便于程序的调试。若要产生每次不同的随机数，可以使用srand( seed )函数进行随机化，随着seed的不同，就能够产生不同的随机数。  
   <wbr></wbr> 
  </div>   
  <wbr></wbr>   
  <wbr></wbr>   
  <wbr></wbr>如大家所说，还可以包含time.h头文件，然后使用srand(time(0))来使用当前时间使随机数发生器随机化，这样就可以保证每两次运行时可以得到不同的随机数序列(只要两次运行的间隔超过1秒)。 
  <br> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0217f108d7b4ee6593fc068c51232a98/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">udp检验和计算方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e5475f914f94f99519d613fac4f46680/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android横竖屏切换小结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>