<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java返回数据结果统一封装体AjaxResult - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java返回数据结果统一封装体AjaxResult" />
<meta property="og:description" content="一、方法返回数据结果的封装体分析 code：状态码msg：返回消息（内容）data：数据对象 二、AjaxResult实体类 AjaxResult实体类继承HashMap&lt;String,Object&gt;，方便其构造方法调用父类put()方法，将需要的内容封装在集合内，即super.put()。
/** * 数据结果封装体 AjaxResult * * @author LBF */ public class AjaxResult extends HashMap&lt;String, Object&gt; { private static final long serialVersionUID = 1L; /** 状态码 */ public static final String CODE_TAG = &#34;code&#34;; /** 返回内容 */ public static final String MSG_TAG = &#34;msg&#34;; /** 数据对象 */ public static final String DATA_TAG = &#34;data&#34;; /** * 初始化一个AjaxResult 对象 */ public AjaxResult() { } /** * 初始化一个AjaxResult 对象 * * @param code 状态码 * @param msg 返回内容 */ public AjaxResult(int code, String msg) { super." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/11041b6ebf48a8c8d8b456efb74b3108/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-24T14:15:22+08:00" />
<meta property="article:modified_time" content="2022-03-24T14:15:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java返回数据结果统一封装体AjaxResult</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>一、方法返回数据结果的封装体分析</h4> 
<blockquote> 
 <ul><li>code：状态码</li><li>msg：返回消息（内容）</li><li>data：数据对象</li></ul> 
</blockquote> 
<h4>二、AjaxResult实体类</h4> 
<blockquote> 
 <p>     AjaxResult实体类继承HashMap&lt;String,Object&gt;，方便其构造方法调用父类put()方法，将需要的内容封装在集合内，即super.put()。</p> 
</blockquote> 
<pre><code class="language-java">/**
 * 数据结果封装体 AjaxResult
 *
 * @author LBF
 */
public class AjaxResult extends HashMap&lt;String, Object&gt;
{
    private static final long serialVersionUID = 1L;

    /** 状态码 */
    public static final String CODE_TAG = "code";

    /** 返回内容 */
    public static final String MSG_TAG = "msg";

    /** 数据对象 */
    public static final String DATA_TAG = "data";

    /**
     * 初始化一个AjaxResult 对象
     */
    public AjaxResult()
    {
    }

    /**
     * 初始化一个AjaxResult 对象
     *
     * @param code 状态码
     * @param msg 返回内容
     */
    public AjaxResult(int code, String msg)
    {
        super.put(CODE_TAG, code);
        super.put(MSG_TAG, msg);
    }

    /**
     * 初始化一个AjaxResult 对象
     * 
     * @param code 状态码
     * @param msg 返回内容
     * @param data 数据对象
     */
    public AjaxResult(int code, String msg, Object data)
    {
        super.put(CODE_TAG, code);
        super.put(MSG_TAG, msg);
        if (!(data == null))
        {
            super.put(DATA_TAG, data);
        }
    }

    /**
     * 返回默认成功消息
     * 
     * @return 成功消息
     */
    public static AjaxResult success()
    {
        return AjaxResult.success("操作成功");
    }

    /**
     * 返回成功消息
     * 
     * @param msg 返回内容
     * @return 成功消息
     */
    public static AjaxResult success(String msg)
    {
        return AjaxResult.success(msg, null);
    }

    /**
     * 返回成功数据
     * @param data 数据对象
     * @return
     */
    public static AjaxResult success(Object data)
    {
        return AjaxResult.success("操作成功", data);
    }

    /**
     * 初始化一个返回成功消息AjaxResult对象
     *
     * @param msg 返回内容
     * @param data 数据对象
     * @return 成功消息
     */
    public static AjaxResult success(String msg, Object data)
    {
        return new AjaxResult(HttpStatus.SUCCESS, msg, data);
    }

    /**
     * 返回默认错误消息
     * 
     * @return
     */
    public static AjaxResult error()
    {
        return AjaxResult.error("操作失败");
    }

    /**
     * 返回错误消息
     * 
     * @param msg 返回内容
     * @return 警告消息
     */
    public static AjaxResult error(String msg)
    {
        return AjaxResult.error(msg, null);
    }

    /**
     * 返回错误数据
     * 
     * @param code 状态码
     * @param msg 返回内容
     * @return 警告消息
     */
    public static AjaxResult error(int code, String msg)
    {
        return new AjaxResult(code, msg, null);
    }

    /**
     * 初始化一个返回错误消息AjaxResult对象
     *
     * @param msg 返回内容
     * @param data 数据对象
     * @return 警告消息
     */
    public static AjaxResult error(String msg, Object data)
    {
        return new AjaxResult(HttpStatus.ERROR, msg, data);
    }

}</code></pre> 
<h4> 三、Code状态码实体类</h4> 
<blockquote> 
 <p>  定义一些常用的返回状态码</p> 
</blockquote> 
<pre><code class="language-java">/**
 * 返回HTTP状态码
 *
 * @author LBF
 */
public class HttpStatus
{
    /**
     * 操作成功
     */
    public static final int SUCCESS = 200;

    /**
     * 对象创建成功
     */
    public static final int CREATED = 201;

    /**
     * 请求已经被接受
     */
    public static final int ACCEPTED = 202;

    /**
     * 操作已经执行成功，但是没有返回数据
     */
    public static final int NO_CONTENT = 204;

    /**
     * 资源已被移除
     */
    public static final int MOVED_PERM = 301;

    /**
     * 重定向
     */
    public static final int SEE_OTHER = 303;

    /**
     * 资源未被修改
     */
    public static final int NOT_MODIFIED = 304;

    /**
     * 参数列表错误（缺少、格式不匹配）
     */
    public static final int BAD_REQUEST = 400;

    /**
     * 未授权
     */
    public static final int UNAUTHORIZED = 401;

    /**
     * 访问受限，授权过期
     */
    public static final int FORBIDDEN = 403;

    /**
     * 资源，服务未找到
     */
    public static final int NOT_FOUND = 404;

    /**
     * 未被允许http方法
     */
    public static final int BAD_METHOD = 405;

    /**
     * 资源冲突，或者资源被锁
     */
    public static final int CONFLICT = 409;

    /**
     * 不支持媒体类型数据
     */
    public static final int UNSUPPORTED_TYPE = 415;

    /**
     * 系统内部错误
     */
    public static final int ERROR = 500;

    /**
     * 未实现相应接口
     */
    public static final int NOT_IMPLEMENTED = 501;
}</code></pre> 
<h4>四、测试（以返回成功结果为例） </h4> 
<blockquote> 
 <p>1、返回结果封装体为空时，显示数据格式</p> 
</blockquote> 
<pre><code class="language-java">    /**
     * 返回数据结果封装体为空
     * @return
     */
    @GetMapping("/test")
    public AjaxResult test(){
        return new AjaxResult();
    }</code></pre> 
<p><img alt="" height="266" src="https://images2.imgbox.com/88/eb/HHmMeVoH_o.png" width="781"></p> 
<p></p> 
<blockquote> 
 <p> 2、返回结果封装体非空时，显示数据格式</p> 
</blockquote> 
<pre><code class="language-java">    /**
     * 返回数据结果封装体非空
     * @return
     */
    @GetMapping("/test")
    public AjaxResult test(){
        return AjaxResult.success("测试用例成功","数据对象");
    }</code></pre> 
<p><img alt="" height="253" src="https://images2.imgbox.com/c4/c4/J0iaAQ5W_o.png" width="777"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4a88384d43fbb12badeb98eceab11dd6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">简单计算器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8a1c91c4880ec09d9e26f45800f3be86/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Matplotlib绘图笔记</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>