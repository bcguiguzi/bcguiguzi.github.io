<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>wifidog android认证,wifidog&#43;authpuppy认证页面的配置 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="wifidog android认证,wifidog&#43;authpuppy认证页面的配置" />
<meta property="og:description" content="路由器上我们使用wifidog 网关协议，服务器后端管理用authpuppy。
首先，选择自己的操作系统，在http://www.authpuppy.org/doc/Main_Page网站里面，操作系统是Linux。
然后到这个网站http://www.authpuppy.org/doc/Getting_Started去下载check_configuration.php 这个文件是检测电脑安装authpuppy需要哪些环境，下面是配置好的环境
然后到这个http://launchpad.net/authpuppy 下载authpuppy的源码，然后把解压后的authpuppy目录放到apache2的站点目录，我的是ubuntu12.10，安装后的apache2目录是/etc/apache2/sites-available/default，
打开的内容是
ServerAdmin webmaster@localhost
DocumentRoot /var/www/
Options FollowSymLinks
AllowOverride All
Options Indexes FollowSymLinks MultiViews
AllowOverride All
Order allow,deny
allow from all
ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
AllowOverride None
Options &#43;ExecCGI -MultiViews &#43;SymLinksIfOwnerMatch
Order allow,deny
Allow from all
ErrorLog ${APACHE_LOG_DIR}/error.log
# Possible values include: debug, info, notice, warn, error, crit,
# alert, emerg.
LogLevel warn
CustomLog ${APACHE_LOG_DIR}/access.log combined
下面挑几个来说明下：
DocumentRoot /var/www 这个目录是apache2服务器的根目录，也就是说当你打开浏览器在地址栏输入127.0.0.1时，就是进入/var/www/这个目录里面
Options Indexes FollowSymLinks MultiViews" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/735f5e8cd1ada0d83dc366ddab10e695/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-30T20:16:32+08:00" />
<meta property="article:modified_time" content="2021-05-30T20:16:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">wifidog android认证,wifidog&#43;authpuppy认证页面的配置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>路由器上我们使用wifidog 网关协议，服务器后端管理用authpuppy。</p> 
 <p>首先，选择自己的操作系统，在http://www.authpuppy.org/doc/Main_Page网站里面，操作系统是Linux。</p> 
 <p>然后到这个网站http://www.authpuppy.org/doc/Getting_Started去下载check_configuration.php 这个文件是检测电脑安装authpuppy需要哪些环境，下面是配置好的环境</p> 
 <p align="center"><img src="https://images2.imgbox.com/cf/01/eacaJW4o_o.png" alt="4cbfa8dbf94af734b65d8b883caee517.png"></p> 
 <p>然后到这个http://launchpad.net/authpuppy 下载authpuppy的源码，然后把解压后的authpuppy目录放到apache2的站点目录，我的是ubuntu12.10，安装后的apache2目录是/etc/apache2/sites-available/default，</p> 
 <p>打开的内容是</p> 
 <p>ServerAdmin webmaster@localhost</p> 
 <p>DocumentRoot /var/www/</p> 
 <p>Options FollowSymLinks</p> 
 <p>AllowOverride All</p> 
 <p>Options Indexes FollowSymLinks MultiViews</p> 
 <p>AllowOverride All</p> 
 <p>Order allow,deny</p> 
 <p>allow from all</p> 
 <p>ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/</p> 
 <p>AllowOverride None</p> 
 <p>Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch</p> 
 <p>Order allow,deny</p> 
 <p>Allow from all</p> 
 <p>ErrorLog ${APACHE_LOG_DIR}/error.log</p> 
 <p># Possible values include: debug, info, notice, warn, error, crit,</p> 
 <p># alert, emerg.</p> 
 <p>LogLevel warn</p> 
 <p>CustomLog ${APACHE_LOG_DIR}/access.log combined</p> 
 <p>下面挑几个来说明下：</p> 
 <p>DocumentRoot /var/www 这个目录是apache2服务器的根目录，也就是说当你打开浏览器在地址栏输入127.0.0.1时，就是进入/var/www/这个目录里面</p> 
 <p>Options Indexes FollowSymLinks MultiViews</p> 
 <p>AllowOverride All</p> 
 <p>Order allow,deny</p> 
 <p>allow from all</p> 
 <p>这个是你在apache里面架设服务器的根目录，比如我架设的是authpuppy，当我一进入authpuppy是/var/www/authpuppy/web/这个目录下的文件，其他的也没什么好讲的。所以我们应该把authpuppy目录放在/var/www/这个目录下面。</p> 
 <p>接下来就是配置这个apache这个，这个是让我最头疼的地方，配置了好几天，才搞明白是怎么回事。</p> 
 <p>首先咱们来看下http://www.authpuppy.org/doc/Getting_Started这个里面的配置内容</p> 
 <p align="center"><img src="https://images2.imgbox.com/48/23/xb9BqQZ9_o.png" alt="ba17922c6b00cbb51a87b133e95c8ac3.png"></p> 
 <p>我一开始也没多想就直接复制和粘帖，结果安装到第三步就出错了。哦，忘了说怎么安装了，在浏览器的地址栏上输入127.0.0.1查看authpuppy的目录在哪，然后进入authpuppy里面web的目录，就会在网页上跳出安装页面。</p> 
 <p>再回过来说说apache怎么配置吧，先给大家看看我的配置文件</p> 
 <p>ServerAdmin webmaster@localhost</p> 
 <p>ServerName authpuppy.localhost</p> 
 <p>ServerAlias authpuppy.test</p> 
 <p>DocumentRoot /var/www/</p> 
 <p>DirectoryIndex index.php</p> 
 <p>Options Indexes FollowSymLinks MultiViews</p> 
 <p>AllowOverride All</p> 
 <p>Order allow,deny</p> 
 <p>allow from all</p> 
 <p>Alias /sf /var/www/authpuppy/lib/vendor/symfony/data/web/sf</p> 
 <p>AllowOverride All</p> 
 <p>Allow from All</p> 
 <p>ErrorLog ${APACHE_LOG_DIR}/error.log</p> 
 <p># Possible values include: debug, info, notice, warn, error, crit,</p> 
 <p># alert, emerg.</p> 
 <p>LogLevel warn</p> 
 <p>CustomLog ${APACHE_LOG_DIR}/access.log combined</p> 
 <p>不知道大家有没发现这两个目录不一样</p> 
 <p>ErrorLog /var/log/apache2/authpuppy/error.log</p> 
 <p>CustomLog /var/log/apache2/authpuppy/access.log</p> 
 <p>我在我的电脑里面发现/var/log/apache2/里面没有authpuppy这个目录，后来我就把这两个目录改了，最后安装成功。当你见到如下图片的时候就说明你已经安装成功，接下来尽管next就行了。</p> 
 <p align="center"><img src="https://images2.imgbox.com/7e/47/i10Zpttn_o.png" alt="1c6f786bd403425017d591766736af95.png"></p> 
 <p>现在authpuppy已经安装完了，先松一口气吧。</p> 
 <p>接下来我们就来配置wifidog.conf文件以实现和authpuppy相链接。</p> 
 <p>这是wifidog.conf文件</p> 
 <p>http://dev.wifidog.org/browser/trunk/wifidog/wifidog.conf</p> 
 <p>由于第一次接触路由，所以有几个地方先说明下，自己老是搞乱，给以后的新手留给经验。</p> 
 <p>最最重要的一点是，在这个配置文件里面第一格不能是空格，否则就会出错。</p> 
 <p>ExternalInterface br-lan 这个是lan口，这样才能连上路由，比如手机</p> 
 <p>GatewayInterface eth0.2 这个是wan口，通过这个与authpuppy server通信。所以主机的网卡要和wan同一网络，</p> 
 <p>我的wan口ip是192.168.2.200,要和Hostname同一网段，才能通信。</p> 
 <p>AuthServer {<!-- --></p> 
 <p>Hostname 192.168.2.2</p> 
 <p>SSLAvailable yes</p> 
 <p>Path /authpuppy/web/</p> 
 <p>}</p> 
 <p>还有这个Path，一开始我是设置成 / 根目录，结果不行，出现了这个问题：</p> 
 <p>HTTP Response from Server: [HTTP/1.1 404 Not Found</p> 
 <p>后来设置成这个目录才可以。还有一点要注意的是Path的目录两边都要加/，不然也会出错。</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ae19d14a5ad54ba3b68692c2d1ec4268/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">京东线报接口 全网一手线报全网（京东，淘宝，天猫）最全优惠信息</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fc693764191448c37efaaf26da2515e8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">html5中加入音乐怎么弄,如何在H5页面上添加音乐播放</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>