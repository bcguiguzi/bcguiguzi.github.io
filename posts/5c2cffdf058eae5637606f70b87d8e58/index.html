<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Docker Desktop】Neo4j - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Docker Desktop】Neo4j" />
<meta property="og:description" content="1、下载neo4j并启动
docker run --rm --name testneo4j -p 7474:7474 -p 7687:7687 -d -v C:/Users/ASUS/Desktop/neo4j/data:/data -v C:/Users/ASUS/Desktop/neo4j/logs:/logs -v C:/Users/ASUS/Desktop/neo4j/import:/var/lib/neo4j/import -v C:/Users/ASUS/Desktop/neo4j/plugins:/plugins --env NEO4J_AUTH=neo4j/test neo4j:latest 桌面的neo4j文件夹会被自动创建7474是neo4j默认http通信端口，使得可以用浏览器访问可视化界面7687是neo4j默认用于Bolt协议的端口，Bolt协议是neo4j的应用层协议–env指定了NEO4J_AUTH环境变量，该环境变量用于设置登录账号和密码：分别为neo4j和test 2、浏览器访问
http://localhost:7474 3、创建一个node
CREATE (ee:Person { name: &#34;Emil&#34;, from: &#34;Sweden&#34;, klout: 99 }) ee只是变量，可以为其他名称
4、查看刚创建的node
MATCH (ee:Person) WHERE ee.name = &#34;Emil&#34; RETURN ee; 5、另外创建四个node，并定义关系
MATCH (ee:Person) WHERE ee.name = &#34;Emil&#34; CREATE (js:Person { name: &#34;Johan&#34;, from: &#34;Sweden&#34;, learn: &#34;surfing&#34; }), (ir:Person { name: &#34;Ian&#34;, from: &#34;England&#34;, title: &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/5c2cffdf058eae5637606f70b87d8e58/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-05T08:51:45+08:00" />
<meta property="article:modified_time" content="2022-10-05T08:51:45+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Docker Desktop】Neo4j</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>1、下载neo4j并启动</p> 
<pre><code>docker run --rm --name testneo4j -p 7474:7474 -p 7687:7687 -d -v C:/Users/ASUS/Desktop/neo4j/data:/data -v C:/Users/ASUS/Desktop/neo4j/logs:/logs -v C:/Users/ASUS/Desktop/neo4j/import:/var/lib/neo4j/import -v C:/Users/ASUS/Desktop/neo4j/plugins:/plugins --env NEO4J_AUTH=neo4j/test neo4j:latest
</code></pre> 
<ul><li>桌面的neo4j文件夹会被自动创建</li><li>7474是neo4j默认http通信端口，使得可以用浏览器访问可视化界面</li><li>7687是neo4j默认用于Bolt协议的端口，Bolt协议是neo4j的应用层协议</li><li>–env指定了NEO4J_AUTH环境变量，该环境变量用于设置登录账号和密码：分别为neo4j和test</li></ul> 
<p>2、浏览器访问</p> 
<pre><code>http://localhost:7474
</code></pre> 
<p>3、创建一个node</p> 
<pre><code>CREATE (ee:Person { name: "Emil", from: "Sweden", klout: 99 })
</code></pre> 
<p>ee只是变量，可以为其他名称</p> 
<p>4、查看刚创建的node</p> 
<pre><code>MATCH (ee:Person) 
WHERE ee.name = "Emil" 
RETURN ee;
</code></pre> 
<p>5、另外创建四个node，并定义关系</p> 
<pre><code>MATCH (ee:Person) 
WHERE ee.name = "Emil"
CREATE (js:Person { name: "Johan", from: "Sweden", learn: "surfing" }),
(ir:Person { name: "Ian", from: "England", title: "author" }),
(rvb:Person { name: "Rik", from: "Belgium", pet: "Orval" }),
(ally:Person { name: "Allison", from: "California", hobby: "surfing" }),

(ee)-[:KNOWS {since: 2001}]-&gt;(js),
(ee)-[:KNOWS {rating: 5}]-&gt;(ir),
(js)-[:KNOWS]-&gt;(ir),(js)-[:KNOWS]-&gt;(rvb),
(ir)-[:KNOWS]-&gt;(js),(ir)-[:KNOWS]-&gt;(ally),
(rvb)-[:KNOWS]-&gt;(ally)
</code></pre> 
<p>6、查看emil的朋友</p> 
<pre><code>MATCH (ee:Person)-[:KNOWS]-(friends)
WHERE ee.name = "Emil" 
RETURN ee, friends
</code></pre> 
<p><img src="https://images2.imgbox.com/85/f6/6VwE49VR_o.png" alt="在这里插入图片描述"></p> 
<p>7、查看所有节点</p> 
<pre><code>MATCH (n) RETURN n
</code></pre> 
<p><img src="https://images2.imgbox.com/90/f0/ohe7iLzg_o.png" alt="在这里插入图片描述"></p> 
<p>8、删除所有nodes和他们的关系</p> 
<pre><code>MATCH (n) DETACH DELETE n
</code></pre> 
<p>9、最短路实战</p> 
<p>创建图</p> 
<pre><code>CREATE (LocationA:Location { name: "Location A" })
CREATE (LocationB:Location { name: "Location B" })
CREATE (LocationC:Location { name: "Location C" })
CREATE (LocationD:Location { name: "Location D" })
CREATE (LocationE:Location { name: "Location E" })
CREATE (LocationF:Location { name: "Location F" })
CREATE (LocationG:Location { name: "Location G" })
CREATE (LocationH:Location { name: "Location H" })
CREATE (LocationI:Location { name: "Location I" })

CREATE
 (LocationA)-[:CONNECTED_TO { distance: 5 }]-&gt;(LocationB),
 (LocationB)-[:CONNECTED_TO { distance: 6 }]-&gt;(LocationC),
 (LocationC)-[:CONNECTED_TO { distance: 4 }]-&gt;(LocationI),
 (LocationA)-[:CONNECTED_TO { distance: 3 }]-&gt;(LocationD),
 (LocationD)-[:CONNECTED_TO { distance: 4 }]-&gt;(LocationE),
 (LocationE)-[:CONNECTED_TO { distance: 5 }]-&gt;(LocationI),
 (LocationA)-[:CONNECTED_TO { distance: 2 }]-&gt;(LocationF),
 (LocationF)-[:CONNECTED_TO { distance: 3 }]-&gt;(LocationG),
 (LocationG)-[:CONNECTED_TO { distance: 2 }]-&gt;(LocationH),
(LocationH)-[:CONNECTED_TO { distance: 1 }]-&gt;(LocationI)
</code></pre> 
<p>查看：MATCH (n) RETURN n<br> <img src="https://images2.imgbox.com/9d/1d/Y9BnkaZa_o.png" alt="在这里插入图片描述"><br> 查找A到I的最短路</p> 
<pre><code>MATCH (from:Location { name:"Location A" }), 
    (to:Location { name: "Location I"}), 
    path = (from)-[:CONNECTED_TO*]-&gt;(to)
RETURN path AS shortestPath,
    reduce(distance = 0, r in relationships(path) | distance+r.distance) AS totalDistance
    ORDER BY totalDistance ASC
    LIMIT 1
</code></pre> 
<p><img src="https://images2.imgbox.com/3c/96/ETmQLaPF_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a78a2e32d537fff6da02877ac717b867/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python自己整理的笔记：将数字转换为列表&amp;将列表反向转换为数字</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/43b71fea91f889bcc1dc5aee79f67943/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MySQL——事务及事务日志篇</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>