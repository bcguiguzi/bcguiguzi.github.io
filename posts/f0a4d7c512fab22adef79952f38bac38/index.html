<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>关于 vue2 后台管理系统构建 vue2&#43;mock.js 的经典案例 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="关于 vue2 后台管理系统构建 vue2&#43;mock.js 的经典案例" />
<meta property="og:description" content="一，初识 Mock.js 1.什么是 mock.js: 主要是模拟数据生成器，可以生成随机数据，拦截器 Ajax 请求
2.为什么要使用 mock.js 由于很多学生在学习过程中，后端还没有做好接口，写好接口文档，有了mock.js 前端就不需要等待后端实现接口再写代码。前端可以通过 mock.js 参考接口文档自己先模拟数据 ，即可搭建后端管理系统
二，Mock.js 的安装
1，首先，在自己项目的终端中 实行这段代码
# 安装 npm install mockjs 2，在src文件在新建mock文件夹，再新建 mock.js文件，最后引入和使用 mock.js 如以下代码
// 使用 Mock var Mock = require(&#39;mockjs&#39;) var data = Mock.mock({ // 属性 list 的值是一个数组，其中含有 1 到 10 个元素 &#39;list|1-10&#39;: [{ // 属性 id 是一个自增数，起始值为 1，每次增 1 &#39;id|&#43;1&#39;: 1 }] }) // 输出结果 console.log(JSON.stringify(data, null, 4)) 3，mock.js导入
在main.js 文件里面添加一下内容: require(&#39;./mock/mock.js&#39;) 三，mock.js 经典的登录页面的案例" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/f0a4d7c512fab22adef79952f38bac38/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-15T10:56:35+08:00" />
<meta property="article:modified_time" content="2023-06-15T10:56:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">关于 vue2 后台管理系统构建 vue2&#43;mock.js 的经典案例</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>一，初识 <span style="color:#ed7976;">Mock.js </span></p> 
<p><span style="color:#0d0016;">1.什么是 mock.js: 主要是模拟数据生成器，可以生成随机数据，拦截器 Ajax 请求</span></p> 
<p><span style="color:#0d0016;">2.为什么要使用 mock.js  由于很多学生在学习过程中，后端还没有做好接口，写好接口文档，有了mock.js 前端就不需要等待后端实现接口再写代码。前端可以通过 mock.js 参考接口文档自己先模拟数据 ，即可搭建后端管理系统</span></p> 
<p><span style="color:#0d0016;">二，</span><span style="color:#ed7976;">Mock.js </span><span style="color:#0d0016;">的安装</span></p> 
<p>1，首先，在自己项目的终端中 实行这段代码</p> 
<pre><code class="language-javascript"># 安装
npm install mockjs</code></pre> 
<p>2，在src文件在新建mock文件夹，再新建<span style="color:#ed7976;"> mock.js</span>文件，最后引入和使用 <span style="color:#ed7976;">mock.js </span>如以下代码</p> 
<pre><code class="language-javascript">// 使用 Mock
var Mock = require('mockjs')
var data = Mock.mock({
    // 属性 list 的值是一个数组，其中含有 1 到 10 个元素
    'list|1-10': [{
        // 属性 id 是一个自增数，起始值为 1，每次增 1
        'id|+1': 1
    }]
})
// 输出结果
console.log(JSON.stringify(data, null, 4))</code></pre> 
<p> 3，<span style="color:#ed7976;">mock.js</span>导入</p> 
<pre><code class="language-javascript">在main.js 文件里面添加一下内容:
require('./mock/mock.js')</code></pre> 
<p>三，<span style="color:#ed7976;">mock.js</span> 经典的登录页面的案例</p> 
<p>1. 如图所示主要的项目结构文件分别是 api.js， login.vue ， mock.js</p> 
<p><img alt="" src="https://images2.imgbox.com/97/e0/LItSLEFQ_o.png"></p> 
<p> 2.首先，我们来看 login.vue 文件的内容：</p> 
<p>主要是先引入 login 的api文件，进行请求。</p> 
<pre><code class="language-javascript">&lt;template&gt;
    &lt;div class="bodyclass"&gt;
        &lt;div class="login"&gt;
            &lt;h2&gt;DBM System&lt;/h2&gt;
            &lt;el-form label-width="80px" :model="loginForm" ref="loginForm" :rules="rules"&gt;
                &lt;el-form-item label="用户名" prop="username"&gt;
                    &lt;el-input v-model="loginForm.username"&gt;&lt;/el-input&gt;
                &lt;/el-form-item&gt;
                &lt;el-form-item label="密码" prop="password"&gt;
                    &lt;el-input type="password" v-model="loginForm.password"&gt;&lt;/el-input&gt;
                &lt;/el-form-item&gt;
                &lt;el-button @click="confirm"&gt;登录&lt;/el-button&gt;
            &lt;/el-form&gt;

        &lt;/div&gt;
    &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import {login} from '@/api/api.js'  引入封装好的 login api 接口
import { setToken } from '@/utils/setToken.js'   //引入封装好的Token 方法
export default {
    data() {
        return {
            loginForm: {
                username: '',
                password: '',
                rules:{"自己写"}
            },
         }}，
methods: {
    // 登录后跳转到主页
  
            confirm() {
        this.$refs.loginForm.validate((valid) =&gt; {
            if (valid) {
                logindata({
                    username: this.loginForm.username,
                    password: this.loginForm.password
                }).then(res =&gt; {
                    console.log(res)
                    if (res.data.code === 200) {
                        setToken("username", res.data.username)   //应用 setToken
                        setToken('token', res.data.token)
                        this.$router.push("/home")                  
                        this.$message({ type: 'success', message: '登录成功！' })
                    } else {
                        this.$message({ type: 'error', message: res.data.message })

                    }
                })
            } else {
                this.$message({
                    type: 'error',
                    message: '请输入用户名和密码'
                })
            }
        });   }
}

}}}
&lt;/script&gt;</code></pre> 
<p>3. 其次 mock.js 文件：</p> 
<blockquote> 
 <p>Mock.mock(rurl? ,rtype?,template|function(options))</p> 
 <p>参数：</p> 
 <p>rurl: 表示需要拦截的 URL ，可见是URL  字符串或URL 正则</p> 
 <p>rtype: 表示需要拦截的Ajax 请求类型。 例如get,post,put,delete等</p> 
 <p>template: 表示数据模板，可以是对象或字符串。 例如： {'data|1-10':[{<!-- --></p> 
 <p>function(options) : 表示用于生成数据的函数</p> 
 <p>options: 指向本次请求的Ajax选项集</p> 
</blockquote> 
<pre><code class="language-javascript">//  登录页
let root = {
  username: 'admin',
  password: 'Admin123!'
}
const Mock = require('mockjs');
Mock.mock('/login', 'post', (req) =&gt; {
  //  获取用户名和密码
  let { username, password } = JSON.parse(req.body)
  let token = Mock.Random.guid()
  // 匹配用户名和密码
  if (username === root.username &amp;&amp; password == root.password) {
    // 接口成功转发 home 页面
    return {
      code: 200,
      message: 'login success',
      token: token,
      username: username,
      }}
   else {
    return ({
      code: 404,
      message: '用户名或密码有误'
    })
  } 
});</code></pre> 
<p>4， 最后是 api.js 文件即可</p> 
<pre><code class="language-javascript">import service from "@/service";
export function logindata(data) {
    return service({
        method: 'post',
        url: '/login',
        data
    })
}</code></pre> 
<p>5，效果图</p> 
<div class="csdn-video-box"> 
 <iframe id="BgmfbKTX-1686646321576" frameborder="0" src="https://live.csdn.net/v/embed/304273" allowfullscreen="true" data-mediaembed="csdn"></iframe> 
 <p></p> 
</div> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d5094e8b8444598fc505368a04f47ac5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">炼丹速度×7！你的Mac电脑也能在PyTorch训练中用GPU加速了</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/56a88210ad59019c13a6db75cd1c5dc0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">post请求下载文件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>