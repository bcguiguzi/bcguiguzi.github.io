<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java基础之正则表达式 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java基础之正则表达式" />
<meta property="og:description" content="Java 正则表达式 文章目录 Java 正则表达式意义特点Stringregex包Pattern类Matcher类用法捕获组用法URL反向引用 Matcher类方法索引方法查找方法替换方法 PatternSyntaxException 正则语法匹配格式单个字符匹配单个字符集单个简化字符集边界匹配数量表示逻辑表达式 正则格式列表 意义 正则表达式是对字符串操作的一种逻辑公式 事先定义好的特定字符、及特定字符的组合组成规则字符串表达对字符串的一种过滤逻辑 给定一个正则表达式和另一个字符串可以实现：
字符串是否符合正则表达式的过滤逻辑（“匹配”）
通过正则表达式从字符串中获取特定部分
特点 灵活性、逻辑性和功能性非常强
可以迅速地用极简单的方式达到字符串的复杂控制
对于刚接触的人来说，比较晦涩难懂
正则表达式写好后，没有错对之分，返回结果只是true和false
定义了字符串的模式，可以用来搜索、编辑或处理文本
并不局限某种语言，但在不同语言有细微差别 实例：一个字符串就是一个简单的正则表达式
Hello World 正则表达式匹配&#34;Hello World&#34;字符串. (点号)也是一个正则表达式，匹配任何一个字符：“a” 或 “1” 正则表达式描述this is text匹配字符串&#34;this is text&#34;this\s&#43;is\s&#43;text注意\s&#43;可以匹配多个空格，之后匹配is字符串，再之后\s&#43;匹配多个空格再跟上text字符串；例：this is text^\d&#43;(\.\d&#43;)?^ 定义了以什么开始 \d&#43; 匹配一个或多个数字 ? 设置括号内的选项是可选的 \. 匹配 “.” 可以匹配的实例：“5”, “1.5” 和 “2.21” String string 类型字符串可以转为其他任何类型，所以用户输入内容一般用 String 接收
转为其他类型数据为确保正确性需要复杂验证 正则表达式就可以对字符串内容进行拆分、验证通常用来进行通用内容格式验证，或内容的定向读取 //String 中可以直接使用正则表达式 //matcher(): 判断是否相同，返回布尔值 String s = &#34;456137900&#34;; System.out.println(s.matcher(&#34;\\d&#43;&#34;)); //结果为true，匹配所有数字 //split(): 分割字符串 String content = &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/3002c3d7cc1797cd346dd2965ae763e4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-29T20:58:41+08:00" />
<meta property="article:modified_time" content="2022-07-29T20:58:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java基础之正则表达式</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="Java__0"></a>Java 正则表达式</h3> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#Java__0" rel="nofollow">Java 正则表达式</a></li><li><ul><li><a href="#_2" rel="nofollow">意义</a></li><li><a href="#_14" rel="nofollow">特点</a></li><li><a href="#String_35" rel="nofollow">String</a></li><li><a href="#regex_66" rel="nofollow">regex包</a></li><li><ul><li><a href="#Pattern_68" rel="nofollow">Pattern类</a></li><li><a href="#Matcher_78" rel="nofollow">Matcher类</a></li><li><ul><li><a href="#_80" rel="nofollow">用法</a></li><li><a href="#_104" rel="nofollow">捕获组</a></li><li><ul><li><a href="#_106" rel="nofollow">用法</a></li><li><a href="#URL_167" rel="nofollow">URL</a></li><li><a href="#_217" rel="nofollow">反向引用</a></li></ul> 
      </li><li><a href="#Matcher_254" rel="nofollow">Matcher类方法</a></li><li><ul><li><a href="#_256" rel="nofollow">索引方法</a></li><li><a href="#_295" rel="nofollow">查找方法</a></li><li><a href="#_339" rel="nofollow">替换方法</a></li></ul> 
     </li></ul> 
     </li><li><a href="#PatternSyntaxException_409" rel="nofollow">PatternSyntaxException</a></li></ul> 
    </li><li><a href="#_420" rel="nofollow">正则语法</a></li><li><ul><li><a href="#_438" rel="nofollow">匹配格式</a></li><li><ul><li><a href="#_440" rel="nofollow">单个字符匹配</a></li><li><a href="#_449" rel="nofollow">单个字符集</a></li><li><a href="#_460" rel="nofollow">单个简化字符集</a></li><li><a href="#_472" rel="nofollow">边界匹配</a></li><li><a href="#_479" rel="nofollow">数量表示</a></li><li><a href="#_492" rel="nofollow">逻辑表达式</a></li></ul> 
     </li><li><a href="#_502" rel="nofollow">正则格式列表</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h4><a id="_2"></a>意义</h4> 
<ul><li>正则表达式是对字符串操作的一种逻辑公式 
  <ul><li>事先定义好的特定字符、及特定字符的组合组成规则字符串</li><li>表达对字符串的一种过滤逻辑</li></ul> </li></ul> 
<p>给定一个正则表达式和另一个字符串可以实现：</p> 
<ul><li> <p>字符串是否符合正则表达式的过滤逻辑（“匹配”）</p> </li><li> <p>通过正则表达式从字符串中获取特定部分</p> </li></ul> 
<h4><a id="_14"></a>特点</h4> 
<ul><li> <p>灵活性、逻辑性和功能性非常强</p> </li><li> <p>可以迅速地用极简单的方式达到字符串的复杂控制</p> </li><li> <p>对于刚接触的人来说，比较晦涩难懂</p> </li><li> <p>正则表达式写好后，没有错对之分，返回结果只是true和false</p> </li><li> <p>定义了字符串的模式，可以用来搜索、编辑或处理文本</p> 
  <ul><li>并不局限某种语言，但在不同语言有细微差别</li></ul> </li></ul> 
<p>实例：一个字符串就是一个简单的正则表达式</p> 
<ul><li>Hello World 正则表达式匹配"Hello World"字符串</li><li><code>.</code> (点号)也是一个正则表达式，匹配任何一个字符：“a” 或 “1”</li></ul> 
<table><thead><tr><th>正则表达式</th><th>描述</th></tr></thead><tbody><tr><td>this is text</td><td>匹配字符串"this is text"</td></tr><tr><td>this\s+is\s+text</td><td>注意<code>\s+</code>可以匹配多个空格，之后匹配is字符串，再之后\s+匹配多个空格再跟上text字符串；例：this is text</td></tr><tr><td><code>^\d+(\.\d+)?</code></td><td><code>^</code> 定义了以什么开始 <br> <code>\d+</code> 匹配一个或多个数字 <br><code>?</code> 设置括号内的选项是可选的 <br><code>\.</code> 匹配 “.” <br>可以匹配的实例：“5”, “1.5” 和 “2.21”</td></tr></tbody></table> 
<h4><a id="String_35"></a>String</h4> 
<p><code>string </code>类型字符串可以转为其他任何类型，所以用户输入内容一般用 <code>String </code>接收</p> 
<ul><li>转为其他类型数据为确保正确性需要复杂验证 
  <ul><li>正则表达式就可以对字符串内容进行拆分、验证</li><li>通常用来进行通用内容格式验证，或内容的定向读取</li></ul> </li></ul> 
<pre><code class="prism language-java"><span class="token comment">//String 中可以直接使用正则表达式 </span>
	<span class="token comment">//matcher(): 判断是否相同，返回布尔值</span>
<span class="token class-name">String</span>  s <span class="token operator">=</span> <span class="token string">"456137900"</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token string">"\\d+"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//结果为true，匹配所有数字</span>
	<span class="token comment">//split(): 分割字符串</span>
<span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token string">"hello,world!--你好啊？世界"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> split <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">",|!--|？"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s1 <span class="token operator">:</span> split<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token operator">++</span>i <span class="token operator">+</span> <span class="token string">": "</span> <span class="token operator">+</span> s1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
运行结果<span class="token operator">:</span>
<span class="token number">1</span><span class="token operator">:</span> hello
<span class="token number">2</span><span class="token operator">:</span> world
<span class="token number">3</span><span class="token operator">:</span> 你好啊
<span class="token number">4</span><span class="token operator">:</span> 世界
	<span class="token comment">//哑巴去重可写为下列代码</span>
<span class="token class-name">String</span> a <span class="token operator">=</span> <span class="token string">"我我...要要要....学学..java"</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"\\.*"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将所有的。 换成""</span>
a <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"(.)\\1*"</span><span class="token punctuation">,</span> <span class="token string">"$1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//将所有重复内容换为第一个</span>
</code></pre> 
<h4><a id="regex_66"></a>regex包</h4> 
<h5><a id="Pattern_68"></a>Pattern类</h5> 
<ul><li><code>Pattern</code>对象是正则表达式的编译表示 
  <ul><li>没有公共构造方法，调用其公共静态方法返回一个<code>Pattern</code>对象 
    <ul><li>该方法接受一个正则表达式作为它第一个参数</li><li>提供正则表达式编译处理 
      <ul><li><code>public static Patterm compile(String regex)</code></li></ul> </li><li>字符串拆分操作 
      <ul><li><code>public String[ split(CharSequence input)</code></li></ul> </li></ul> </li></ul> </li></ul> 
<h5><a id="Matcher_78"></a>Matcher类</h5> 
<h6><a id="_80"></a>用法</h6> 
<ul><li> <p>实现正则匹配的处理类</p> </li><li> <p>靠<code>Pattern</code>类实例化</p> 
  <ul><li><code>public Matcher matcher(CharSequence input)</code></li></ul> </li><li> <p>获取Matcher对象之后就可以进行该类方法进行正则操作</p> 
  <ul><li> <p>正则匹配：<code>public boolean matchers()</code></p> 
    <ul><li> <pre><code class="prism language-java"><span class="token class-name">String</span> connect <span class="token operator">=</span> <span class="token string">"I am noob"</span> <span class="token operator">+</span> <span class="token string">"from runoob.com"</span><span class="token punctuation">;</span>			<span class="token comment">// 字符串内容</span>
<span class="token class-name">String</span> pattern <span class="token operator">=</span> <span class="token string">".*runoob.*"</span><span class="token punctuation">;</span>								<span class="token comment">// 定义正则表达时</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> connect<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// 匹配内容中是否有符合要求的内容</span>
</code></pre> </li></ul> </li><li> <p>字符串替换：<code>public String replaceAll(String replacement)</code></p> </li></ul> </li><li> <p>以拆分，替换，匹配三种操作用不到 java.util.regex 开发包，只依靠 String 类可以实现</p> 
  <ul><li>但 mather 类里面提供有一种分组的功能，而这种分组的功能是 String 不具备的</li></ul> </li></ul> 
<h6><a id="_104"></a>捕获组</h6> 
<h6><a id="_106"></a>用法</h6> 
<p>捕获组是把多个字符当作一个单独单元进行处理的方法，通过对括号内字符分组来创建</p> 
<ul><li>例如：正则表达式(dog)创建了单一分组，包含"d",“o”,“g”</li></ul> 
<p>捕获组通过自左至右计算其开括号来编号,依次排序（从1开始）</p> 
<ul><li> <p>例如：表达式<code>((A)(B(C)))</code></p> 
  <ul><li> <p>有四个组<code>((A)(B(C)))</code>、<code>(A)</code>、<code>(B(C))</code>、<code>(C)</code></p> 
    <ul><li>用括号组成较复杂的匹配模式，一个括号部分看作一组（一个子表达式）</li></ul> </li><li> <p>正则表达式中分组（子表达式）匹配到的内容，保存到内存中以数字编号命名或显示命名的组里，方便后面引用</p> 
    <ul><li> <p>从左向右，以分组的左括号为标志，依次排序（从1开始）</p> 
      <ul><li>组 0 代表整个表达式</li></ul> </li><li> <p>显示命名</p> <pre><code class="prism language-java"><span class="token class-name">String</span> reg <span class="token operator">=</span> <span class="token string">"(?i)(?&lt;g&gt;Bi)"</span><span class="token punctuation">;</span>  
<span class="token comment">//	(?i)(要筛选的字符): 忽略大小写</span>
<span class="token comment">//	(?&lt;name&gt;正则式): 给分组命名</span>
</code></pre> </li></ul> </li><li> <p>调用<code>matcher</code>对象的<code>groupCount</code>方法来查看表达式分组数量</p> 
    <ul><li>返回 int 值表示 matcher 对象当前有多个捕获组</li></ul> </li><li> <p>特殊的组（group(0)）代表整个表达式，不在返回值内</p> </li></ul> </li><li> <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RegexMatches</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args <span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 按指定模式在字符串查找</span>
      <span class="token class-name">String</span> line <span class="token operator">=</span> <span class="token string">"This order was placed for QT3000! OK?"</span><span class="token punctuation">;</span>
      <span class="token class-name">String</span> pattern <span class="token operator">=</span> <span class="token string">"(\\D*)(\\d+)(.*)"</span><span class="token punctuation">;</span>      
      <span class="token class-name">Pattern</span> r <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>					<span class="token comment">// 创建 Pattern 对象    </span>
      <span class="token class-name">Matcher</span> m <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>							<span class="token comment">// 创建 matcher 对象</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>										<span class="token comment">// 找到匹配内容</span>
         <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"全部 : "</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>		  <span class="token comment">// 全部内容</span>
         <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\\D* : "</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// 第一组 \\D* 非数字 0个 ~ 无穷 </span>
         <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\\d+ : "</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// 第二组 \\d+ 数字 1个 ~ 无穷</span>
         <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">".*  : "</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> 		<span class="token comment">// 第三组 .* 任意内容到最后</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
         <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"NO MATCH"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
运行结果：
全部 ：This order was placed for QT3000! OK?
\\D* : This order was placed for QT
\\d+ : 3000
.*  : ! OK?
*/</span>
</code></pre> </li></ul> 
<h6><a id="URL_167"></a>URL</h6> 
<ul><li><code>(?&lt;name&gt;正则式)</code>: 给分组命名 
  <ul><li>可以通过分组名获取分组内容</li></ul> </li></ul> 
<pre><code class="prism language-java"><span class="token comment">//要查找的内容</span>
<span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">"https://www.bilibili.com/video/BV1fh411y7R8?p=894&amp;spm_id_from=pageDriver"</span><span class="token punctuation">;</span>
<span class="token comment">//正则表达式</span>
<span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"^((http|https)://)?([\\w-]+\\.)+[\\w-]+(\\/[\\w-?$&amp;%#=_/.]*)?$"</span><span class="token punctuation">;</span>
	<span class="token comment">/*
	^((http|https)://)?  		匹配  https://
	([\\w-]+\\.)+		 		匹配	www.bilibili.
	[\\w-]+			 	 		匹配	com
	(\\/[\\w-?$&amp;%#=_/.]*)?$  	匹配	/video/BV1fh411y7R8?p=894&amp;spm_id_from=pageDriver
	*/</span>
<span class="token comment">/*
String a = "BIBILIlibili";
String reg = "(?i)(?&lt;g&gt;Bi)";  
	//	(?i)(要筛选的字符): 忽略大小写
    //	(?&lt;name&gt;正则式): 给分组命名
while(matcher.find())  						//必须有判断是否有捕获组，否则报异常
System.out.println(matcher.group("g")); 	//用组名获取捕获组
*/</span>
<span class="token comment">//创建模板对象，将正则表达式传入</span>
<span class="token class-name">Pattern</span> compile <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//创建匹配器</span>
<span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> compile<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//输出有分组数量</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">groupCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//判断有没有捕获组（按括号分组），必须判断，否则报异常</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//遍历输出所有捕获组</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> matcher<span class="token punctuation">.</span><span class="token function">groupCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//matcher.group(0): 表示匹配到的所有内容</span>
        <span class="token comment">//mathcer.grou(i): i != 0 表示匹配到的group(0)中的子串（括号中匹配到的内容）</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
运行结果:
4				//捕获组数量（即括号数量）
https://www.bilibili.com/video/BV1fh411y7R8?p=894&amp;spm_id_from=pageDriver	//全部
https://		//第一组
https			//第二组
bilibili.		//第三组
/video/BV1fh411y7R8?p=894&amp;spm_id_from=pageDriver		//第四组
*/</span>
</code></pre> 
<h6><a id="_217"></a>反向引用</h6> 
<p>分组内容被捕获后可在这个括号之后使用，称为反向引用</p> 
<ul><li> <p>可以是在正则表达式内部，内部反向引用：<code>\\分组号</code></p> <pre><code class="prism language-java"><span class="token class-name">String</span> reg <span class="token operator">=</span> <span class="token string">"(abds)(?&lt;g&gt;Bi)\\1\\2"</span><span class="token punctuation">;</span>  <span class="token comment">//分为两组，第二组命名为 g</span>
	<span class="token comment">// \\1: 反向引用第一组，即(abds)(?&lt;g&gt;Bi)(abds)</span>
	<span class="token comment">// \\2: 反向引用第二组，不能使用命名引用</span>
	<span class="token comment">// 整个表达式等同于: (abds)(?&lt;g&gt;Bi)(abds)(Bi)</span>
</code></pre> </li><li> <p>也可用在外部，外部反向引用：<code>$分组号</code></p> </li><li> <pre><code class="prism language-java"> <span class="token comment">//结巴去重</span>
<span class="token class-name">String</span> a <span class="token operator">=</span> <span class="token string">"我我...要要要....学学..java"</span><span class="token punctuation">;</span>
<span class="token comment">//找出所有的.</span>
<span class="token class-name">String</span> reg <span class="token operator">=</span> <span class="token string">"\\.*"</span><span class="token punctuation">;</span>
<span class="token comment">//捕获所有的.</span>
<span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//将所有的.替换为空</span>
a <span class="token operator">=</span> matcher<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//表达式找到所有有重复的字段，使用内部反向引用得到有重复的内容</span>
reg <span class="token operator">=</span> <span class="token string">"(.)\\1*"</span><span class="token punctuation">;</span>
<span class="token comment">//外部反向引用将捕获的所有重复内容替换为第一组的内容（仅一个字）</span>
a <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"$1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
运行结果:
我我要要要学学java
我要学java
*/</span>
</code></pre> </li></ul> 
<h6><a id="Matcher_254"></a>Matcher类方法</h6> 
<h6><a id="_256"></a>索引方法</h6> 
<table><thead><tr><th align="left">方法</th><th>说明</th></tr></thead><tbody><tr><td align="left">public int start()</td><td>返回以前匹配的初始索引</td></tr><tr><td align="left">public int start(int group)</td><td>返回在以前的匹配操作期间，由给定组所捕获的子序列的初始索引</td></tr><tr><td align="left">public int end()</td><td>返回最后匹配字符之后的偏移量。</td></tr><tr><td align="left">public int end(int group)</td><td>返回在以前的匹配操作期间，由给定组所捕获子序列的最后字符之后的偏移量。</td></tr></tbody></table> 
<ul><li><strong>start 和 end</strong></li></ul> 
<pre><code class="prism language-java"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token class-name">A</span> <span class="token operator">=</span> <span class="token string">"\\bcat\\b"</span><span class="token punctuation">;</span>				<span class="token comment">// 匹配 c 开头 t 结尾的 cat</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token class-name">B</span><span class="token operator">=</span><span class="token string">"cat cat cat cattie"</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> 
    <span class="token class-name">Pattern</span> p <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token class-name">A</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token class-name">B</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//获取matcher对象  </span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  
    <span class="token keyword">while</span> <span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>  
        count<span class="token operator">++</span><span class="token punctuation">;</span>      
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Match number: "</span> <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"start():"</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	  
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"end():"</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
运行结果：
<span class="token class-name">Match</span> number<span class="token operator">:</span> <span class="token number">1</span>
<span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">0</span>
<span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">3</span>
<span class="token class-name">Match</span> number<span class="token operator">:</span> <span class="token number">2</span>
<span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">4</span>
<span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">7</span>
<span class="token class-name">Match</span> number<span class="token operator">:</span> <span class="token number">3</span>
<span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">8</span>
<span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">11</span>
<span class="token comment">// 使用单词边界，以确保字母 "c" "a" "t" 并非仅是一个较长的词的子串;</span>
<span class="token comment">// Start 方法返回给定组所捕获的子序列的初始索引，end 方法返回最后一个匹配字符的索引加 1</span>
</code></pre> 
<h6><a id="_295"></a>查找方法</h6> 
<table><thead><tr><th align="left">方法</th><th>说明</th></tr></thead><tbody><tr><td align="left">public boolean lookingAt()</td><td>尝试将从区域开头开始的输入序列与该模式匹配</td></tr><tr><td align="left">public boolean find()</td><td>尝试查找与该模式匹配的输入序列的下一个子序列</td></tr><tr><td align="left">public boolean find(int start）</td><td>重置此匹配器，然后尝试查找匹配该模式、从指定索引开始的输入序列的下一个子序列</td></tr><tr><td align="left">public boolean matches()</td><td>尝试将整个区域与模式匹配</td></tr></tbody></table> 
<ul><li> <p><strong>matches 和lookingAt</strong></p> 
  <ul><li> <p>matches 和 lookingAt 方法都用来尝试匹配一个输入序列模式，经常在输入字符串的开始使用</p> 
    <ul><li> <p>matches 要求整个序列都匹配</p> </li><li> <p>lookingAt 不要求，但 lookingAt 方法需要从第一个字符开始匹配</p> </li></ul> </li></ul> </li></ul> 
<pre><code class="prism language-java"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token class-name">A</span> <span class="token operator">=</span> <span class="token string">"foo"</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token class-name">B</span><span class="token operator">=</span><span class="token string">"fooooooooooooooooo"</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token class-name">C</span><span class="token operator">=</span><span class="token string">"ooooofoooooooooooo"</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Pattern</span> pattern<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Matcher</span> matcher1<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Matcher</span> matcher2<span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args <span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>  
    pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token class-name">A</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    matcher1 <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token class-name">B</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    matcher2 <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token class-name">C</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Current A is: "</span><span class="token operator">+</span> <span class="token class-name">A</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Current B is: "</span><span class="token operator">+</span> <span class="token class-name">B</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Current C is: "</span><span class="token operator">+</span> <span class="token class-name">C</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"lookingAt(): "</span><span class="token operator">+</span>matcher1<span class="token punctuation">.</span><span class="token function">lookingAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"matches(): "</span><span class="token operator">+</span>matcher1<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"lookingAt(): "</span><span class="token operator">+</span>matcher2<span class="token punctuation">.</span><span class="token function">lookingAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
运行结果：
<span class="token class-name">Current</span> <span class="token class-name">A</span> is<span class="token operator">:</span> foo
<span class="token class-name">Current</span> <span class="token class-name">B</span> is<span class="token operator">:</span> fooooooooooooooooo
<span class="token class-name">Current</span> <span class="token class-name">C</span> is<span class="token operator">:</span> ooooofoooooooooooo
<span class="token function">lookingAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token function">lookingAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token boolean">false</span>
</code></pre> 
<h6><a id="_339"></a>替换方法</h6> 
<table><thead><tr><th align="left">方法</th><th>说明</th></tr></thead><tbody><tr><td align="left">public Matcher appendReplacement (StringBuffer sb, String replacement)</td><td>实现非终端添加和替换步骤</td></tr><tr><td align="left">public StringBuffer appendTail (StringBuffer sb)</td><td>实现终端添加和替换步骤</td></tr><tr><td align="left">public String replaceAll(String replacement)</td><td>替换模式与给定替换字符串相匹配的输入序列的每个子序列</td></tr><tr><td align="left">public String replaceFirst(String replacement)</td><td>替换模式与给定替换字符串匹配的输入序列的第一个子序列</td></tr><tr><td align="left">public static String quoteReplacement (String s)</td><td>返回指定字符串的字面替换字符串。这个方法返回一个字符串，就像传递给 Matcher类 的appendReplacement 方法一个字面字符串一样工作</td></tr></tbody></table> 
<ol><li> <p>replaceFirst 和 replaceAll</p> 
  <ul><li> <p>replaceFirst 和 repalceAll 方法用来替换匹配正则表达式的文本</p> 
    <ul><li> <p>replaceFirst 替换首次匹配</p> </li><li> <p>replaceAll 替换所有匹配</p> </li></ul> </li><li> <pre><code class="prism language-java"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token class-name">A</span> <span class="token operator">=</span> <span class="token string">"dog"</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token class-name">B</span> <span class="token operator">=</span> <span class="token string">"The dog says meow. "</span> <span class="token operator">+</span> <span class="token string">"All dogs say meow."</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> REPLACE <span class="token operator">=</span> <span class="token string">"cat"</span><span class="token punctuation">;</span> 
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Pattern</span> p <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token class-name">A</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token class-name">B</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//得到matcher对象 </span>
    <span class="token class-name">B</span> <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span>REPLACE<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">B</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token class-name">Pattern</span> p1 <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>REPLACE<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token class-name">Matcher</span> m1 <span class="token operator">=</span> p1<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token class-name">B</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//得到matcher对象 </span>
    <span class="token class-name">B</span> <span class="token operator">=</span> m1<span class="token punctuation">.</span><span class="token function">replaceFirst</span><span class="token punctuation">(</span><span class="token class-name">A</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">B</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
运行结果：
<span class="token class-name">The</span> cat says <span class="token class-name"><span class="token namespace">meow<span class="token punctuation">.</span></span> All</span> cats say <span class="token class-name"><span class="token namespace">meow<span class="token punctuation">.</span></span>
The</span> dog says <span class="token class-name"><span class="token namespace">meow<span class="token punctuation">.</span></span> All</span> cats say meow<span class="token punctuation">.</span>
</code></pre> </li></ul> </li><li> <p><strong>appendReplacement 和 appendTail</strong></p> 
  <ul><li><code>appendReplacement(StringBuffer sb, String replacement)</code> 方法 
    <ul><li><code>sb </code> 是一个 <code>StringBuffer</code></li><li><code>replaceContext </code>是待替换的字符串</li><li>把匹配到的内容替换为 <code>replaceContext</code> 
      <ul><li>并把从上次替换的位置到这次替换位置之间的字符串拿到</li><li>加上本次替换后的结果一起追加到 <code>StringBuffer </code></li></ul> </li></ul> </li></ul> </li></ol> 
<ul><li> <p><code>appendTail </code>：把最后一次匹配到内容之后的字符串追加到 <code>StringBuffer </code></p> </li><li> <pre><code class="prism language-java"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token class-name">A</span> <span class="token operator">=</span> <span class="token string">"a*b"</span><span class="token punctuation">;</span>  						<span class="token comment">//匹配 0 ~ 无穷个 a 以 一个b 结尾</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token class-name">B</span> <span class="token operator">=</span> <span class="token string">"aabfooaabfooabfoobkkk"</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> REPLACE <span class="token operator">=</span> <span class="token string">"-"</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Pattern</span> p <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token class-name">A</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token class-name">B</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 获取 matcher 对象</span>
    <span class="token class-name">StringBuffer</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    
        m<span class="token punctuation">.</span><span class="token function">appendReplacement</span><span class="token punctuation">(</span>sb<span class="token punctuation">,</span> REPLACE<span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
    m<span class="token punctuation">.</span><span class="token function">appendTail</span><span class="token punctuation">(</span>sb<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//添加最后匹配到的内容之后的字符 </span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>					<span class="token comment">// -foo-foo-foo-kkk</span>
<span class="token punctuation">}</span>
运行结果：
<span class="token operator">-</span>
<span class="token operator">-</span>foo<span class="token operator">-</span>
<span class="token operator">-</span>foo<span class="token operator">-</span>foo<span class="token operator">-</span>
<span class="token operator">-</span>foo<span class="token operator">-</span>foo<span class="token operator">-</span>foo<span class="token operator">-</span>
<span class="token operator">-</span>foo<span class="token operator">-</span>foo<span class="token operator">-</span>foo<span class="token operator">-</span>kkk
</code></pre> </li></ul> 
<h5><a id="PatternSyntaxException_409"></a>PatternSyntaxException</h5> 
<ul><li><code>PatternSyntaxException</code>是一个非强制异常类，表示一个正则表达式模式中的语法错误</li></ul> 
<table><thead><tr><th align="left">方法</th><th>说明</th></tr></thead><tbody><tr><td align="left">public String getDescription()</td><td>获取错误的描述</td></tr><tr><td align="left">public int getIndex()</td><td>获取错误的索引</td></tr><tr><td align="left">public String getPattern()</td><td>获取错误的正则表达式模式</td></tr><tr><td align="left">public String getMessage()</td><td>返回多行字符串，包含语法错误及其索引的描述、错误的正则表达式模式和模式中错误索引的可视化指示</td></tr></tbody></table> 
<h4><a id="_420"></a>正则语法</h4> 
<ul><li> <p>其他语言中<code>\\</code> 表示<strong>在正则表达式中插入一个普通的（字面上的）反斜杠</strong></p> </li><li> <p>Java中 <code>\\</code>表示：<strong>要插入一个正则表达式的反斜线，其后的字符具有特殊的意义</strong></p> 
  <ul><li>其他的语言中一个反斜杠<code>\</code>就足以具有转义的作用</li><li>在 Java 中正则表达式需要两个反斜杠才被解析为转义作用</li></ul> </li></ul> 
<pre><code class="prism language-java"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"\\"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 输出为 \</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"\\\\"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出为 \\</span>
</code></pre> 
<ul><li>Java Language Specification 要求，Java 源代码的字符串中的反斜线被解释为 Unicode 转义或其他字符转义</li><li>因此必须使用两个反斜线，表示正则表达式受到保护不被 Java 字节码编译器解释 
  <ul><li>例如，当解释为正则表达式时，字符串字面值 <code>\b</code> 与单个退格字符匹配，而 “<code>\\b</code>” 与单词边界匹配</li><li>字符串字面值<code>\(hello\)</code>是非法的，将导致编译错误；要与字符串 (hello) 匹配，必须使用字符串字面值<code>\\(hello\\)</code></li></ul> </li></ul> 
<h5><a id="_438"></a>匹配格式</h5> 
<h6><a id="_440"></a>单个字符匹配</h6> 
<pre><code class="prism language-java">任意字符  <span class="token comment">//表示由任意字符组成</span>
\\		 <span class="token comment">//匹配 \</span>
\n		 <span class="token comment">//匹配换行</span>
\t		 <span class="token comment">//匹配制表符</span>
</code></pre> 
<h6><a id="_449"></a>单个字符集</h6> 
<ul><li>可以从里面任选一个字符</li></ul> 
<pre><code class="prism language-java"><span class="token punctuation">[</span>abc<span class="token punctuation">]</span> 	<span class="token comment">//表示可能是字母 a、b、c中的任意一个;</span>
<span class="token punctuation">[</span><span class="token operator">^</span>abc<span class="token punctuation">]</span>	<span class="token comment">//表示不是由字母 a、b、C中的任意-一个;</span>
<span class="token punctuation">[</span>a<span class="token operator">-</span>zA<span class="token operator">-</span><span class="token class-name">Z</span><span class="token punctuation">]</span>	<span class="token comment">//表示由一个任意字母所组成，不区分大小写;</span>
<span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span>		<span class="token comment">//表示由一位数字所组成;</span>
</code></pre> 
<h6><a id="_460"></a>单个简化字符集</h6> 
<pre><code class="prism language-java"><span class="token punctuation">.</span>		<span class="token comment">//表示任意的一个字符;</span>
\\d		<span class="token comment">//等价于 [0-9] 范围;</span>
\\<span class="token class-name">D</span>		<span class="token comment">//等价于“[^0-9]”范围;</span>
\\s		<span class="token comment">//匹配任意的一位空格，可能是一个空格、换行、制表符;</span>
\\<span class="token class-name">S</span>		<span class="token comment">//匹配任意的非空格数据;</span>
\\w		<span class="token comment">//匹配字母、 数字、下划线， 等价于 [a-zA-Z0-9_]</span>
\\<span class="token class-name">W</span> 	<span class="token comment">//匹配非字母、数字、下划线，等价于“[^a-zA-Z0-9_]”;</span>
</code></pre> 
<h6><a id="_472"></a>边界匹配</h6> 
<pre><code class="prism language-java"><span class="token operator">^</span>	<span class="token comment">//匹配边界开始</span>
$	<span class="token comment">//匹配边界结束</span>
</code></pre> 
<h6><a id="_479"></a>数量表示</h6> 
<p>默认情况下只有添加上了数量单位才可以匹配多位字符;</p> 
<pre><code class="prism language-java">表达式<span class="token operator">?</span> 	<span class="token comment">//该正则可以出现 0 次或 1 次;</span>
表达式<span class="token operator">*</span>	<span class="token comment">//该正则可以出现 0 次、1 次或多次;</span>
表达式<span class="token operator">+</span>	<span class="token comment">//该正则可以出现 1 次或多次;</span>
表达式<span class="token punctuation">{<!-- --></span>n<span class="token punctuation">}</span>	<span class="token comment">//表达式的长度正好为 n 次;</span>
表达式<span class="token punctuation">{<!-- --></span>n<span class="token punctuation">,</span> <span class="token punctuation">}</span>	<span class="token comment">//表达式的长度为 n 次或以上</span>
表达式<span class="token punctuation">{<!-- --></span>n<span class="token punctuation">,</span>m<span class="token punctuation">}</span>	<span class="token comment">//表达式的长度在 n~m 次；优先匹配多次，贪心匹配</span>
</code></pre> 
<h6><a id="_492"></a>逻辑表达式</h6> 
<ul><li>可以连接多个正则</li></ul> 
<pre><code class="prism language-java">表达式 <span class="token class-name">X</span> 表达式 <span class="token class-name">Y</span> 	<span class="token comment">// X 表达式之后紧跟上 Y 表达式;</span>
表达式 <span class="token class-name">X</span> <span class="token operator">|</span> 表达式 <span class="token class-name">Y</span> 	<span class="token comment">//有一个表达式满足即可;</span>
<span class="token punctuation">(</span>表达式<span class="token punctuation">)</span>			 <span class="token comment">//为表达式设置-个整体描述，可以为整体描述设置数量单位</span>
</code></pre> 
<h5><a id="_502"></a>正则格式列表</h5> 
<table><thead><tr><th align="left">字符</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left"><code>\\</code></td><td align="left">将下一字符标记为特殊字符、文本、反向引用或八进制转义符<br>例如： n匹配字符 n；<code>\n</code> 匹配换行符；序列 <code>\\\\</code> 匹配 <code>\\</code> ，<code>\\(匹配 (</code></td></tr><tr><td align="left">^</td><td align="left">匹配输入字符串开始的位置，如果设置了 RegExp 对象的 Multiline 属性，^ 还会与<code>\n</code>或<code>\r</code>之后的位置匹配</td></tr><tr><td align="left">$</td><td align="left">匹配输入字符串结束的位置，如果设置了 RegExp 对象的 Multiline 属性，^ 还会与<code>\n</code>或<code>\r</code>之后的位置匹配</td></tr><tr><td align="left">*</td><td align="left">零次或多次匹配前面的字符或子表达式，例如：<code>zo*</code> 匹配 z 和 zoo；<code>*</code> 等效于 {0,}</td></tr><tr><td align="left">+</td><td align="left">一次或多次匹配前面的字符或子表达式， 如：<code>zo+</code>与 zo 和 zoo 匹配，但与 z 不匹配；<code>+</code> 等效于 {1,}</td></tr><tr><td align="left">?</td><td align="left">零次或一次匹配前面的字符或子表达式，例如：<code>do(es)?</code>匹配 do 或 does 中的 do；<code>?</code> 等效于 {0,1}</td></tr><tr><td align="left">{<!-- --><em>n</em>}</td><td align="left"><em>n</em> 是非负整数。正好匹配 <em>n</em> 次；例如：<code>o{2}</code>与 Bob 中的 o 不匹配，但与 food 中的两个 o 匹配</td></tr><tr><td align="left">{<!-- --><em>n</em>,}</td><td align="left"><em>n</em> 是非负整数。至少匹配 <em>n</em> 次；例如：<code>o{2,}</code>不匹配 Bob 中的 o ，而匹配 foooood 中的所有 o。<code>o{1,}</code>等效于<code>o+</code>；<code>o{0,}</code>等效于<code>o*</code></td></tr><tr><td align="left">{<!-- --><em>n</em>,<em>m</em>}</td><td align="left"><em>m</em> 和 <em>n</em> 是非负整数，其中 <em>n</em> &lt;= <em>m</em>：匹配至少 n 次，至多 m 次<br>例如：<code>o{1,3}</code>匹配 fooooood 中的头三个 o；o{0,1}<code>等效于 </code>o?`；注意：不能将空格插入逗号和数字之间</td></tr><tr><td align="left">?</td><td align="left">当此字符紧随任何其他限定符（<code>*、+、?、{n}、{n,}、{n,m}</code>）之后时，匹配模式是<strong>非贪心的</strong><br>"非贪心的"模式匹配搜索到的、尽可能短的字符串；<br>默认的"贪心的"模式匹配搜索到的、尽可能长的字符串；例如：字符串 oooo 中，<code>o+?</code>只匹配单个 o ，而<code>o+</code>匹配所有 o</td></tr><tr><td align="left"><code>.</code></td><td align="left">匹配除<code>\r\n</code>之外的任何单个字符<br>若要匹配包括<code>\r\n</code>在内的任意字符，请使用诸如<code>[\s\S]</code>之类的模式</td></tr><tr><td align="left">(<em>pattern</em>)</td><td align="left">匹配 <em>pattern</em> 并捕获该匹配的子表达式；可以使用 0 ~ 9 属性从结果"匹配"集合中检索捕获的匹配<br>若要匹配括号字符 ( )，请使用<code>\(</code>或者<code>\)</code></td></tr><tr><td align="left">(?:<em>pattern</em>)</td><td align="left">匹配 <em>pattern</em> 但不捕获该匹配的子表达式，即是一个非捕获匹配，不存储供以后使用的匹配<br>这对于用 or 字符 ( | ) 组合模式部件的情况有用；例如：`industr(?:y</td></tr><tr><td align="left">(?=<em>pattern</em>)</td><td align="left">执行正向预测先行搜索的子表达式，该表达式匹配处于匹配 <em>pattern</em> 的字符串的起始点的字符串<br>是一个非捕获匹配，不能捕获供以后使用的匹配<br> 例如：`Windows (?=95</td></tr><tr><td align="left">(?!<em>pattern</em>)</td><td align="left">执行反向预测先行搜索的子表达式，该表达式匹配不处于匹配 <em>pattern</em> 的字符串的起始点的搜索字符串<br>非捕获匹配，即不能捕获供以后使用的匹配<br> 例如：`Windows (?!95</td></tr><tr><td align="left"><em>x</em>|<em>y</em></td><td align="left">匹配 <em>x</em> 或 <em>y</em>；例如：`z</td></tr><tr><td align="left">[<em>xyz</em>]</td><td align="left">字符集，匹配包含的任一字符；例如：<code>[abc]</code>匹配 plain 中的 a</td></tr><tr><td align="left">[^<em>xyz</em>]</td><td align="left">反向字符集，匹配未包含的任何字符；例如：<code>[^abc]</code>匹配 plain 中 p l i n</td></tr><tr><td align="left">[<em>a-z</em>]</td><td align="left">字符范围，匹配指定范围内的任何字符；例如：<code>[a-z]</code>匹配 a 到 z 范围内的任何小写字母</td></tr><tr><td align="left">[^<em>a-z</em>]</td><td align="left">反向范围字符，匹配不在指定的范围内的任何字符；例如：<code>[^a-z]</code>匹配任何不在 a 到 z 范围内的任何字符</td></tr><tr><td align="left"><code>\\b</code></td><td align="left">匹配一个字边界，即字与空格间的位置；例如：<code>er\\b</code>匹配 never 中的 er ，但不匹 verb 中的 er</td></tr><tr><td align="left"><code>\\B</code></td><td align="left">非字边界匹配；例如：<code>er\\B</code>匹配 verb 中的 er ，但不匹配 never 中的 e</td></tr><tr><td align="left"><code>\\cx</code></td><td align="left">匹配 <em>x</em> 指示的控制字符；例如：<code>\\cM</code> 匹配 <code>Control-M</code> 或回车符<br><em>x</em> 的值必须在 A-Z 或 a-z 之间；如果不是这样，则假定 c 就是 c 字符本身</td></tr><tr><td align="left"><code>\\d</code></td><td align="left">数字字符匹配；等效于 <code>[0-9]</code></td></tr><tr><td align="left"><code>\\D</code></td><td align="left">非数字字符匹配；等效于 <code>[^0-9]</code></td></tr><tr><td align="left"><code>\\s</code></td><td align="left">匹配任何空白字符，包括单个空格、换行、回车、制表符、换页符等；与<code>[ \\n\\r\\t\\v\\f]</code> 等效</td></tr><tr><td align="left"><code>\\S</code></td><td align="left">匹配任何非空白字符；与 [<code>^\\f\\n\\r\\t\\v ]</code> 等效。</td></tr><tr><td align="left"><code>\\f</code></td><td align="left">换页符匹配；等效于 <code>\\x0c</code> 和 <code>\\cL</code></td></tr><tr><td align="left"><code>\\n</code></td><td align="left">换行符匹配；等效于 <code>\\x0a</code> 和 <code>\\cJ</code></td></tr><tr><td align="left"><code>\\r</code></td><td align="left">匹配一个回车符；等效于 <code>\\x0d</code> 和 <code>\\cM</code></td></tr><tr><td align="left"><code>\\t</code></td><td align="left">制表符匹配；与 <code>\\x09</code> 和 <code>\\cI</code> 等效</td></tr><tr><td align="left"><code>\\v</code></td><td align="left">垂直制表符匹配；与 <code>\\x0b</code> 和 <code>\\cK</code> 等效</td></tr><tr><td align="left"><code>\\w</code></td><td align="left">匹配任何字类字符，包括下划线；与<code>[A-Za-z0-9_]</code>等效</td></tr><tr><td align="left"><code>\\W</code></td><td align="left">与任何非单词字符匹配；与<code>[^A-Za-z0-9_]</code>等效</td></tr><tr><td align="left"><code>\\xn</code></td><td align="left">匹配 <em>n</em>，此处的 <em>n</em> 是一个十六进制转义码<br>十六进制转义码必须正好是两位数长；例如：<code>\\x41</code>匹配 A；<code>\\x041</code>与<code>\\x04&amp;1</code>等效。<br>允许在正则表达式中使用 ASCII 代码</td></tr><tr><td align="left"><code>\\num</code></td><td align="left">匹配 <em>num</em>，此处的 <em>num</em> 是一个正整数<br>到捕获匹配的反向引用；例如：<code>(.)\\1</code>匹配两个连续的相同字符</td></tr><tr><td align="left"><code>\\n</code></td><td align="left">标识一个八进制转义码 或 反向引用；<br> 如果 <code>\\n</code>前面至少有 <em>n</em> 个捕获子表达式，那么 n 是反向引用；<br> 否则，如果 n 是八进制数 (0-7)，那么 <em>n</em> 是八进制转义码</td></tr><tr><td align="left"><code>\\nm</code></td><td align="left">标识一个八进制转义码或反向引用<br> 如果 <code>\\nm</code> 前面至少有 nm 个捕获子表达式，那么 nm 是反向引用<br> 如果 <code>\\nm</code> 前面至少有 n 个捕获，则 n 是反向引用，后面跟有字符 m<br>如果两种前面的情况都不存在，则 <code>\\nm</code> 匹配八进制值 nm，其中 n 和 m 是八进制数字 (0-7)</td></tr><tr><td align="left"><code>\\nml</code></td><td align="left">当 <em>n</em> 是八进制数 (0-3)，m 和 l 是八进制数 (0-7) 时，匹配八进制转义码 nml</td></tr><tr><td align="left"><code>\\un</code></td><td align="left">匹配 n，其中 n 是以四位十六进制数表示的 Unicode 字符。例如，<code>\\u00A9</code> 匹配版权符号 (©)</td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3da3e5dac873c2c40d131fb40f61b387/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C&#43;&#43; static关键字</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b37f63cf346b324e0bf13df4788994a8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">printf格式化输出</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>