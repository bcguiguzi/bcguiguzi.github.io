<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>牛牛的背包 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="牛牛的背包" />
<meta property="og:description" content="链接：https://www.nowcoder.com/questionTerminal/bf877f837467488692be703735db84e6 来源：牛客网
牛牛准备参加学校组织的春游, 出发前牛牛准备往背包里装入一些零食, 牛牛的背包容量为w。 牛牛家里一共有n袋零食, 第i袋零食体积为v[i]。 牛牛想知道在总体积不超过背包容量的情况下,他一共有多少种零食放法(总体积为0也算一种放法)。
输入描述: 输入包括两行 第一行为两个正整数n和w(1 &lt;= n &lt;= 30, 1 &lt;= w &lt;= 2 * 10^9),表示零食的数量和背包的容量。 第二行n个正整数v[i](0 &lt;= v[i] &lt;= 10^9),表示每袋零食的体积。
输出描述: 输出一个正整数, 表示牛牛一共有多少种零食放法。 示例1 输入 3 10 1 2 4
输出 8
说明 三种零食总体积小于10,于是每种零食有放入和不放入两种情况，一共有2*2*2 = 8种情况。
思路： 类似从第一个数开始，选第一个数判断是否选取,依次第二个，第三个，第四个…；从第二个开始，判断是否选第三个，第四个…等等 这就用到深搜算法,一直向下递归，当前节点不满足，回退到上一节点相邻接点继续递归。 此题不同的是，对数据进行排序后，优化深搜深度。从第一个数开始，判断当前数字是否符合，然后向后面的数字累加判断是否超出背包容量大小，符合则让方法数&#43;1；不符合后，当前递归结束，从第二数开始新一轮判断。直到把数组元素遍历完毕。
C&#43;&#43;代码 #include&lt;iostream&gt; #include&lt;algorithm&gt; using namespace std; int methodCount = 1; void DFS(long long v[], int size, long long w,long long curSum, int pos) { if (curSum &lt;= w) { &#43;&#43;methodCount; for (int i = pos &#43; 1; i &lt; size; &#43;&#43;i) DFS(v, size, w, curSum&#43;v[i], i); } else return; } int main() { int n; long long w; long long v[30]; long long sum = 0; cin &gt;&gt; n &gt;&gt; w; for (int i = 0; i &lt; n; &#43;&#43;i) { cin &gt;&gt; v[i]; sum &#43;= v[i]; } //深度优先遍历，访问每个节点的下面的节点是否也符合条件 //符合条件继续向下，不符合，回到上一层 if (sum &lt;= w) methodCount = 1 &lt;&lt; n; else//对每个零食体积进行深搜 { sort(v, v &#43; n); for (int i = 0; i &lt; n; &#43;&#43;i) DFS(v, n, w,v[i],i); } cout &lt;&lt; methodCount &lt;&lt; endl; } 缺点：毕竟用的是递归，时间复杂度O(n^n)。 如果数字过多且物品体积总和大于背包容量，可能花费和长时间。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/c23aebf882bbd62cb922b678405eaf32/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-09-03T17:25:39+08:00" />
<meta property="article:modified_time" content="2018-09-03T17:25:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">牛牛的背包</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>链接：<a href="https://www.nowcoder.com/questionTerminal/bf877f837467488692be703735db84e6" rel="nofollow">https://www.nowcoder.com/questionTerminal/bf877f837467488692be703735db84e6</a> <br> 来源：牛客网</p> 
<p>牛牛准备参加学校组织的春游, 出发前牛牛准备往背包里装入一些零食, 牛牛的背包容量为w。 <br> 牛牛家里一共有n袋零食, 第i袋零食体积为v[i]。 <br> 牛牛想知道在总体积不超过背包容量的情况下,他一共有多少种零食放法(总体积为0也算一种放法)。</p> 
<h5 id="输入描述">输入描述:</h5> 
<p>输入包括两行 <br> 第一行为两个正整数n和w(1 &lt;= n &lt;= 30, 1 &lt;= w &lt;= 2 * 10^9),表示零食的数量和背包的容量。 <br> 第二行n个正整数v[i](0 &lt;= v[i] &lt;= 10^9),表示每袋零食的体积。</p> 
<h5 id="输出描述">输出描述:</h5> 
<p>输出一个正整数, 表示牛牛一共有多少种零食放法。 </p> 
<h5 id="示例1">示例1</h5> 
<blockquote> 
 <p>输入 <br> 3 10 <br> 1 2 4</p> 
 <p>输出 <br> 8</p> 
</blockquote> 
<h5 id="说明">说明</h5> 
<p>三种零食总体积小于10,于是每种零食有放入和不放入两种情况，一共有2*2*2 = 8种情况。</p> 
<h5 id="思路">思路：</h5> 
<blockquote> 
 <p>类似从第一个数开始，选第一个数判断是否选取,依次第二个，第三个，第四个…；从第二个开始，判断是否选第三个，第四个…等等 <br> 这就用到深搜算法,一直向下递归，当前节点不满足，回退到上一节点相邻接点继续递归。 <br> 此题不同的是，对数据进行排序后，优化深搜深度。从第一个数开始，判断当前数字是否符合，然后向后面的数字累加判断是否超出背包容量大小，符合则让方法数+1；不符合后，当前递归结束，从第二数开始新一轮判断。直到把数组元素遍历完毕。</p> 
</blockquote> 
<h5 id="c代码">C++代码</h5> 
<pre class="prettyprint"><code class=" hljs cpp"><span class="hljs-preprocessor">#include&lt;iostream&gt;</span>
<span class="hljs-preprocessor">#include&lt;algorithm&gt;</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;
<span class="hljs-keyword">int</span> methodCount = <span class="hljs-number">1</span>;

<span class="hljs-keyword">void</span> DFS(<span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> v[], <span class="hljs-keyword">int</span> size, <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> w,<span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> curSum, <span class="hljs-keyword">int</span> pos)
{
    <span class="hljs-keyword">if</span> (curSum &lt;= w)
    {
        ++methodCount;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = pos + <span class="hljs-number">1</span>; i &lt; size; ++i)
            DFS(v, size, w, curSum+v[i], i);
    }
    <span class="hljs-keyword">else</span>
        <span class="hljs-keyword">return</span>;
}

<span class="hljs-keyword">int</span> main()
{
    <span class="hljs-keyword">int</span> n;
    <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> w;
    <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> v[<span class="hljs-number">30</span>];
    <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> sum = <span class="hljs-number">0</span>;
    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; w;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)
    {
        <span class="hljs-built_in">cin</span> &gt;&gt; v[i];
        sum += v[i];
    }
    <span class="hljs-comment">//深度优先遍历，访问每个节点的下面的节点是否也符合条件</span>
    <span class="hljs-comment">//符合条件继续向下，不符合，回到上一层</span>
    <span class="hljs-keyword">if</span> (sum &lt;= w)
        methodCount = <span class="hljs-number">1</span> &lt;&lt; n;
    <span class="hljs-keyword">else</span><span class="hljs-comment">//对每个零食体积进行深搜</span>
    {
        sort(v, v + n);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)
            DFS(v, n, w,v[i],i);
    }
        <span class="hljs-built_in">cout</span> &lt;&lt; methodCount &lt;&lt; endl;
}</code></pre> 
<p>缺点：毕竟用的是递归，时间复杂度O(n^n)。 <br> 如果数字过多且物品体积总和大于背包容量，可能花费和长时间。</p> 
<h5 id="有什么不懂的或建议欢迎提问或指出谢谢">有什么不懂的或建议欢迎提问或指出，谢谢</h5>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/395ad52c1d79653d085ca123efe85780/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">栅格擦除(反向裁剪)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fef96c280bdec4e4a5313a954ab22364/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C&#43;&#43; Primer Plus中文版-------------免费下载</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>