<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>codeforces 913C Party Lemonade - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="codeforces 913C Party Lemonade" />
<meta property="og:description" content="http://www.elijahqi.win/2018/01/09/codeforces-913c-party-lemonade/ ‎
C. Party Lemonade time limit per test 1 second memory limit per test 256 megabytes input standard input output standard output
A New Year party is not a New Year party without lemonade! As usual, you are expecting a lot of guests, and buying lemonade has already become a pleasant necessity.
Your favorite store sells lemonade in bottles of n different volumes at different costs. A single bottle of type i has volume 2i - 1 liters and costs ci roubles." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/9abd0de1f7853450a12a9b0f0294d95b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-01-09T08:46:53+08:00" />
<meta property="article:modified_time" content="2018-01-09T08:46:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">codeforces 913C Party Lemonade</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><a href="http://www.elijahqi.win/2018/01/09/codeforces-913c-party-lemonade/" rel="nofollow">http://www.elijahqi.win/2018/01/09/codeforces-913c-party-lemonade/</a> ‎</p> 
<p>C. Party Lemonade <br> time limit per test <br> 1 second <br> memory limit per test <br> 256 megabytes <br> input <br> standard input <br> output <br> standard output</p> 
<p>A New Year party is not a New Year party without lemonade! As usual, you are expecting a lot of guests, and buying lemonade has already become a pleasant necessity.</p> 
<p>Your favorite store sells lemonade in bottles of n different volumes at different costs. A single bottle of type i has volume 2i - 1 liters and costs ci roubles. The number of bottles of each type in the store can be considered infinite.</p> 
<p>You want to buy at least L liters of lemonade. How many roubles do you have to spend? <br> Input</p> 
<p>The first line contains two integers n and L (1 ≤ n ≤ 30; 1 ≤ L ≤ 109) — the number of types of bottles in the store and the required amount of lemonade in liters, respectively.</p> 
<p>The second line contains n integers c1, c2, …, cn (1 ≤ ci ≤ 109) — the costs of bottles of different types. <br> Output</p> 
<p>Output a single integer — the smallest number of roubles you have to pay in order to buy at least L liters of lemonade. <br> Examples <br> Input</p> 
<p>4 12 <br> 20 30 70 90</p> 
<p>Output</p> 
<p>150</p> 
<p>Input</p> 
<p>4 3 <br> 10000 1000 100 10</p> 
<p>Output</p> 
<p>10</p> 
<p>Input</p> 
<p>4 3 <br> 10 100 1000 10000</p> 
<p>Output</p> 
<p>30</p> 
<p>Input</p> 
<p>5 787787787 <br> 123456789 234567890 345678901 456789012 987654321</p> 
<p>Output</p> 
<p>44981600785557577</p> 
<p>Note</p> 
<p>In the first example you should buy one 8-liter bottle for 90 roubles and two 2-liter bottles for 30 roubles each. In total you’ll get 12 liters of lemonade for just 150 roubles.</p> 
<p>In the second example, even though you need only 3 liters, it’s cheaper to buy a single 8-liter bottle for 10 roubles.</p> 
<p>In the third example it’s best to buy three 1-liter bottles for 10 roubles each, getting three liters for 30 roubles.</p> 
<p>还是icefox巨佬强啊orz %%我好菜啊 细节太多我还是fail system test了</p> 
<p>题意：给定2^0~2^n-1L的汽水 的花费 最后至少L的汽水的最小花费是多少</p> 
<p>那么首先我们把他给的数都读进来 然后倒着dp一下 设dp[i]表示买2^i的最小花费是多少</p> 
<p>然后得到每个正确的花费 然后针对每一位贪心考虑即可 为什么这题可以贪心考虑 因为这个都是2的次幂 所以我 确信我如果小的次幂多选了 一定不会影响我大的次幂</p> 
<p>所以可以这么来搞 我把L转换成二进制 单独考虑每一个二进制位上的数怎么去搞</p> 
<p>假设我这个二进制是1010110001 那么 首先有1的位置我可以认为一定买2^i最优 比如处理其中一个子问题110001的时候 在处理最高位1的时候 我有可能选两个这个一位置上的数 有可能就是按部就班的选一个 然后比我最高位小的地方我再递归下去去搞 这里得注意一些细节 就是比如我选了最后一个1010110001的最后一个1 但是我发现 它到上一个1的位置中的某个0的位置我选了反而会更好 那么我就需要去选一下这个位置的0 然后后面原本算出来的代价直接被替换就好</p> 
<p>还有个小细节 我这样算出来 比如8的费用是1000 但是我发现我买1000的费用只需要10即可 我最后还需要扫一遍 把这种情况做掉即可</p> 
<pre class="prettyprint"><code class=" hljs cpp"><span class="hljs-preprocessor">#include&lt;cmath&gt;</span>
<span class="hljs-preprocessor">#include&lt;cstdio&gt;</span>
<span class="hljs-preprocessor">#include&lt;algorithm&gt;</span>
<span class="hljs-preprocessor">#define ll long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;
<span class="hljs-keyword">int</span> n,L;<span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> cost[<span class="hljs-number">33</span>];
<span class="hljs-keyword">inline</span> ll dfs(<span class="hljs-keyword">int</span> v){
    <span class="hljs-keyword">double</span> len=log2(v);<span class="hljs-keyword">int</span> len1=len;
    <span class="hljs-keyword">if</span>(len==len1) <span class="hljs-keyword">return</span> cost[len1];
    ll left=v-(<span class="hljs-number">1</span>&lt;&lt;len1);ll tmp=dfs(left);<span class="hljs-keyword">int</span> len2=log2(left);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=len2+<span class="hljs-number">1</span>;i&lt;=len1;++i) tmp=min(tmp,cost[i]);
    <span class="hljs-keyword">return</span> cost[len1]*<span class="hljs-number">2</span>&lt;cost[len1]+tmp?cost[len1]*<span class="hljs-number">2</span>:cost[len1]+tmp;
}
<span class="hljs-keyword">int</span> main(){
    freopen(<span class="hljs-string">"cf.in"</span>,<span class="hljs-string">"r"</span>,stdin);
    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>,&amp;n,&amp;L);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=<span class="hljs-number">32</span>;++i) cost[i]=<span class="hljs-number">1L</span>L&lt;&lt;<span class="hljs-number">62</span>; 
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;++i) <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%lld"</span>,&amp;cost[i]);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=<span class="hljs-number">32</span>;++i) cost[i]=min(cost[i],cost[i-<span class="hljs-number">1</span>]*<span class="hljs-number">2</span>);
    <span class="hljs-comment">//for (int i=0;i&lt;30;++i) printf("%lld ",cost[i]);puts("");</span>
    <span class="hljs-keyword">int</span> len=log2(L);ll ans=dfs(L);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=len+<span class="hljs-number">1</span>;i&lt;=<span class="hljs-number">32</span>;++i) ans=min(ans,cost[i]);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%I64d"</span>,ans);
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b03c0709cb18bed4c1be39380ad3d5b1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Android性能优化（一）App启动原理分析及启动时间优化</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5b24683e5faaa710ce7dcbd80568eff1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">next.js、nuxt.js等服务端渲染框架构建的项目部署到服务器，并用PM2守护程序</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>