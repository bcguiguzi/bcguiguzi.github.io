<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Codeforces Round #702 (Div. 3) A—G - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Codeforces Round #702 (Div. 3) A—G" />
<meta property="og:description" content="A. Dense Array 直接模拟即可。
#include &lt;bits/stdc&#43;&#43;.h&gt; #define inf 0x3f3f3f3f #define INF 0x3f3f3f3f3f3f3f3f #define ll long long #define ull unsigned long long #define PII pair&lt;int, int&gt; #define PLL pair&lt;ll, ll&gt; #define PIL pair&lt;int, ll&gt; #define endl &#39;\n&#39; #define lson l, m, rt &lt;&lt; 1 #define rson m &#43; 1, r, rt &lt;&lt; 1 | 1 #define IOS std::ios::sync_with_stdio(false), cin.tie(0), cout.tie(0) #define debug(x) cerr &lt;&lt; #x &lt;&lt; &#34; = &#34; &lt;&lt; x &lt;&lt; endl #define debug2(x, y) cerr &lt;&lt; #x &lt;&lt; &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/4c07305ef61fe4582e69e09c763e35f0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-02-22T12:45:40+08:00" />
<meta property="article:modified_time" content="2021-02-22T12:45:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Codeforces Round #702 (Div. 3) A—G</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="A_Dense_Array_0"></a>A. Dense Array</h2> 
<p>直接模拟即可。</p> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">define</span> inf 0x3f3f3f3f</span>
<span class="token macro property">#<span class="token directive keyword">define</span> INF 0x3f3f3f3f3f3f3f3f</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ll long long</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ull unsigned long long</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PII pair&lt;int, int&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PLL pair&lt;ll, ll&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PIL pair&lt;int, ll&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> endl '\n'</span>
<span class="token macro property">#<span class="token directive keyword">define</span> lson l, m, rt &lt;&lt; 1</span>
<span class="token macro property">#<span class="token directive keyword">define</span> rson m + 1, r, rt &lt;&lt; 1 | 1</span>
<span class="token macro property">#<span class="token directive keyword">define</span> IOS std::ios::sync_with_stdio(false), cin.tie(0), cout.tie(0)</span>
<span class="token macro property">#<span class="token directive keyword">define</span> debug(x) cerr &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; endl</span>
<span class="token macro property">#<span class="token directive keyword">define</span> debug2(x, y) cerr &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; " and " &lt;&lt; #y &lt;&lt; " = " &lt;&lt; y &lt;&lt; endl</span>
<span class="token macro property">#<span class="token directive keyword">define</span> Pi acos(-1)</span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">3e5</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> a<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">&gt;</span> b<span class="token punctuation">)</span> <span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>a <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">&lt;</span> b<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        res <span class="token operator">++</span><span class="token punctuation">;</span>
        a <span class="token operator">*</span><span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> t<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> t<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>t <span class="token operator">--</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> n<span class="token punctuation">;</span>
        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> cin <span class="token operator">&gt;&gt;</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> 
            ans <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cout <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="B_Balanced_Remainders_54"></a>B. Balanced Remainders</h2> 
<p>可以把模 3 为0 ，1 ， 2 看成三个箱子，很容易发现只要对任意一个箱子里的数加1，就可以将这个数移动到它右边的箱子里（2的右边是0），所以我们只用先求出 总数 / 3 —— 每个箱子里应有得个数，然后从左向右推一遍，再从右向左推一边就可以将所有箱子里得个数都变为3 / n，每移动一个数字，ans 就 + 1。</p> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">define</span> inf 0x3f3f3f3f</span>
<span class="token macro property">#<span class="token directive keyword">define</span> INF 0x3f3f3f3f3f3f3f3f</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ll long long</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ull unsigned long long</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PII pair&lt;int, int&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PLL pair&lt;ll, ll&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PIL pair&lt;int, ll&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> endl '\n'</span>
<span class="token macro property">#<span class="token directive keyword">define</span> lson l, m, rt &lt;&lt; 1</span>
<span class="token macro property">#<span class="token directive keyword">define</span> rson m + 1, r, rt &lt;&lt; 1 | 1</span>
<span class="token macro property">#<span class="token directive keyword">define</span> IOS std::ios::sync_with_stdio(false), cin.tie(0), cout.tie(0)</span>
<span class="token macro property">#<span class="token directive keyword">define</span> debug(x) cerr &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; endl</span>
<span class="token macro property">#<span class="token directive keyword">define</span> debug2(x, y) cerr &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; " and " &lt;&lt; #y &lt;&lt; " = " &lt;&lt; y &lt;&lt; endl</span>
<span class="token macro property">#<span class="token directive keyword">define</span> Pi acos(-1)</span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">3e5</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> c<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> t<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> t<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>t <span class="token operator">--</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">memset</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n<span class="token punctuation">,</span> num<span class="token punctuation">;</span>
        ll ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> mid<span class="token punctuation">;</span>
        cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>
        mid <span class="token operator">=</span> n <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> cin <span class="token operator">&gt;&gt;</span> num<span class="token punctuation">,</span> c<span class="token punctuation">[</span>num <span class="token operator">%</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> mid<span class="token punctuation">)</span> ans <span class="token operator">+</span><span class="token operator">=</span> c<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> mid<span class="token punctuation">,</span> c<span class="token punctuation">[</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> c<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> mid<span class="token punctuation">,</span> c<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> mid<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">--</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> mid<span class="token punctuation">)</span> ans <span class="token operator">+</span><span class="token operator">=</span> c<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> mid<span class="token punctuation">,</span> c<span class="token punctuation">[</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> c<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> mid<span class="token punctuation">,</span> c<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> mid<span class="token punctuation">;</span>
        cout <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="C_Sum_of_Cubes_102"></a>C. Sum of Cubes</h2> 
<p>假设 x 是 y 的三次方，因为 1 ≤ x ≤ 10<sup>12</sup>，所以y的范围实际上也就是1到10<sup>4</sup>。我们不妨将1到10<sup>4</sup>所有数的三次方存入set，然后枚举y，对于每个y来说，如果x - y<sup>3</sup>在set中存在，说明YES，否则NO。</p> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">define</span> inf 0x3f3f3f3f</span>
<span class="token macro property">#<span class="token directive keyword">define</span> INF 0x3f3f3f3f3f3f3f3f</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ll long long</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ull unsigned long long</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PII pair&lt;int, int&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PLL pair&lt;ll, ll&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PIL pair&lt;int, ll&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> endl '\n'</span>
<span class="token macro property">#<span class="token directive keyword">define</span> lson l, m, rt &lt;&lt; 1</span>
<span class="token macro property">#<span class="token directive keyword">define</span> rson m + 1, r, rt &lt;&lt; 1 | 1</span>
<span class="token macro property">#<span class="token directive keyword">define</span> IOS std::ios::sync_with_stdio(false), cin.tie(0), cout.tie(0)</span>
<span class="token macro property">#<span class="token directive keyword">define</span> debug(x) cerr &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; endl</span>
<span class="token macro property">#<span class="token directive keyword">define</span> debug2(x, y) cerr &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; " and " &lt;&lt; #y &lt;&lt; " = " &lt;&lt; y &lt;&lt; endl</span>
<span class="token macro property">#<span class="token directive keyword">define</span> Pi acos(-1)</span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">3e5</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    set<span class="token operator">&lt;</span>ll<span class="token operator">&gt;</span> S<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>ll i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10000</span><span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span>
        S<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">*</span> i <span class="token operator">*</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> t<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> t<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>t <span class="token operator">--</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> bj <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        ll x<span class="token punctuation">;</span>
        cin <span class="token operator">&gt;&gt;</span> x<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>ll i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10000</span><span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>S<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>x <span class="token operator">-</span> i <span class="token operator">*</span> i <span class="token operator">*</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span> 
            <span class="token punctuation">{<!-- --></span>
                bj <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
                cout <span class="token operator">&lt;&lt;</span> <span class="token string">"YES"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>bj<span class="token punctuation">)</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"NO"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="D_Permutation_Transformation_153"></a>D. Permutation Transformation</h2> 
<p>这种二叉树其实有一个名字，叫做笛卡尔树，详情见<a href="https://baike.baidu.com/item/%E7%AC%9B%E5%8D%A1%E5%B0%94%E6%A0%91/7579802?fr=aladdin" rel="nofollow">笛卡尔树</a>。</p> 
<p>我们可以通过递归建树，每次找到最大值所在的位置，并记录此位置的深度。本题数据范围很小，我们可以用暴力的方法找到某个分段区间中最大值所在的位置，总时间复杂度为O(n<sup>2</sup>)。</p> 
<p>当然我们可以用线段树或者<a href="https://blog.csdn.net/weixin_45925735/article/details/112980044?spm=1001.2014.3001.5501">ST表</a>来优化此过程，总时间复杂度为O(nlogn)。</p> 
<p>当然也有更优秀的建树方法，只需要O(n)的时间复杂度，详情见——<a href="https://www.cnblogs.com/LiuRunky/p/Cartesian_Tree.html" rel="nofollow">　ACM算法日常 - 算法合集 | 神奇的笛卡尔树</a>。</p> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">define</span> inf 0x3f3f3f3f</span>
<span class="token macro property">#<span class="token directive keyword">define</span> INF 0x3f3f3f3f3f3f3f3f</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ll long long</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ull unsigned long long</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PII pair&lt;int, int&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PLL pair&lt;ll, ll&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PIL pair&lt;int, ll&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> endl '\n'</span>
<span class="token macro property">#<span class="token directive keyword">define</span> lson l, m, rt &lt;&lt; 1</span>
<span class="token macro property">#<span class="token directive keyword">define</span> rson m + 1, r, rt &lt;&lt; 1 | 1</span>
<span class="token macro property">#<span class="token directive keyword">define</span> IOS std::ios::sync_with_stdio(false), cin.tie(0), cout.tie(0)</span>
<span class="token macro property">#<span class="token directive keyword">define</span> debug(x) cerr &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; endl</span>
<span class="token macro property">#<span class="token directive keyword">define</span> debug2(x, y) cerr &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; " and " &lt;&lt; #y &lt;&lt; " = " &lt;&lt; y &lt;&lt; endl</span>
<span class="token macro property">#<span class="token directive keyword">define</span> Pi acos(-1)</span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">3e5</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> deep<span class="token punctuation">[</span><span class="token number">150</span><span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span><span class="token number">150</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">creat</span><span class="token punctuation">(</span><span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">,</span> <span class="token keyword">int</span> d<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>r <span class="token operator">&lt;</span> l<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>l <span class="token operator">==</span> r<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        deep<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">=</span> d<span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> m <span class="token operator">=</span> l<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> l<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> r<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> a<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">)</span> m <span class="token operator">=</span> i<span class="token punctuation">;</span>

    deep<span class="token punctuation">[</span>m<span class="token punctuation">]</span> <span class="token operator">=</span> d<span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>l <span class="token operator">&lt;</span> m<span class="token punctuation">)</span>
        <span class="token function">creat</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> d <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>m <span class="token operator">&lt;</span> r<span class="token punctuation">)</span>
        <span class="token function">creat</span><span class="token punctuation">(</span>m <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> d <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> n<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> cin <span class="token operator">&gt;&gt;</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>deep<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span> deep<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">creat</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> cout <span class="token operator">&lt;&lt;</span> deep<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> t<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> t<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>t <span class="token operator">--</span><span class="token punctuation">)</span>
        <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="E_Accidental_Victory_225"></a>E. Accidental Victory</h2> 
<p>题意：<br>       有<code>n</code>个人，每个人有自己的价值<code>ai</code>，现有<code>n - 1</code>次比赛，比赛规则是：如果双方价值不相等，价值高的那方赢；如果价值相等的话，随机让一个人赢。每次比赛赢的那方会夺走输的那方的所有价值，输的那方将不能再参加比赛比赛，当最后只剩下一个人价值不为0的时候，比赛结束。<br>       询问这<code>n</code>个人里有哪些人有机会可以赢得比赛，并输出这些人的编号， 编号需要排序。</p> 
<hr> 
<p>题解：<br>       因为每个人只能现对比自己小的下手，我们不妨对<code>n</code>个人的价值排序，然后到每个人位置的价值前缀和就是每个人能够从所有不超过它的人得到的价值总和（包括自身），然后向后遍历，只要当前的总和 ≥ 下一个人价值（这里有等于是因为我们贪心的考虑比赛，只要相等，随机赢的一定是“ 挑战者 ”），但是这样得话实际上我们需要对每一个人都进行一次循环判断是否能赢到最后，复杂度很高，接近n<sup>2</sup>。<br>       我们来可以看看能不能进行什么优化，能发现其实对于一个 <code>i</code> 来说，只要 <code>i</code> 能够赢，那么对于 <code>i + 1</code> 来说，也进行同样的策略也能够赢，所以我们只需要找到第一个能够赢得比赛的 <code>i</code> ，那么 <code>i + 1</code> 一直到 <code>n</code>都是 必赢的。所以就变成了一个二分的问题，排序完过后，然后对下标进行二分，找到能够赢得比赛的第一个下标，将 <code>i</code> 到 <code>n</code> 的 人的编号存下来排序输出就可以。</p> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">define</span> inf 0x3f3f3f3f</span>
<span class="token macro property">#<span class="token directive keyword">define</span> INF 0x3f3f3f3f3f3f3f3f</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ll long long</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ull unsigned long long</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PII pair&lt;int, int&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PLL pair&lt;ll, ll&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PIL pair&lt;int, ll&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> endl '\n'</span>
<span class="token macro property">#<span class="token directive keyword">define</span> lson l, m, rt &lt;&lt; 1</span>
<span class="token macro property">#<span class="token directive keyword">define</span> rson m + 1, r, rt &lt;&lt; 1 | 1</span>
<span class="token macro property">#<span class="token directive keyword">define</span> IOS std::ios::sync_with_stdio(false), cin.tie(0), cout.tie(0)</span>
<span class="token macro property">#<span class="token directive keyword">define</span> debug(x) cerr &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; endl</span>
<span class="token macro property">#<span class="token directive keyword">define</span> debug2(x, y) cerr &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; " and " &lt;&lt; #y &lt;&lt; " = " &lt;&lt; y &lt;&lt; endl</span>
<span class="token macro property">#<span class="token directive keyword">define</span> Pi acos(-1)</span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">2e5</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">;</span>
PIL a<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> n<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> cin <span class="token operator">&gt;&gt;</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>second<span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>first <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token function">sort</span><span class="token punctuation">(</span>a <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> a <span class="token operator">+</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span>PIL a<span class="token punctuation">,</span> PIL b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token keyword">return</span> a<span class="token punctuation">.</span>second <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>second<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> r <span class="token operator">=</span> n<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> m <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>

        ll now <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> now <span class="token operator">+</span><span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>second<span class="token punctuation">;</span>
        <span class="token keyword">int</span> f <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> m <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>now <span class="token operator">&lt;</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>second<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                f <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            now <span class="token operator">+</span><span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>second<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>f<span class="token punctuation">)</span> r <span class="token operator">=</span> m<span class="token punctuation">;</span>
        <span class="token keyword">else</span> l <span class="token operator">=</span> m <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> V<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> l<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> V<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> V<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> i <span class="token operator">=</span> V<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">!=</span> V<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>i <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
    IOS<span class="token punctuation">;</span>
    <span class="token keyword">int</span> t<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> t<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>t <span class="token operator">--</span><span class="token punctuation">)</span>
        <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="F_Equalize_the_Array_303"></a>F. Equalize the Array</h2> 
<p>题意：<br>       现有一个n个数的序列，问最少删除多少个数字之后，剩下的序列中的所有数都出现C次，原序列中的某些数可以全部删除。<br> 比如：1 3 2 1 4 2，可以删除3 和 4， 留下 1 1 2 2，满足题意。</p> 
<hr> 
<p>题解：<br>       目删除的最小个数，但是好像并不能贪心的删除，那么我们能不能换一个方向想呢？既然最后每个数字要么剩余C个，要么剩余0个，那么我们不妨枚举所有的数字初始存在的个数X，如果当前数字的可以在新序列中留下X个（即初始个数大于等于C），那么我们就将这个数字的个数 - X，放入ans里;如果当前的数字的初始个数不足X，那么我们就不将这个数字放入新序列中了，ans里加上这个数字的初始个数。最后得到一个新序列，每次更新ans的最小值。<br> 记得离散化。</p> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">define</span> inf 0x3f3f3f3f</span>
<span class="token macro property">#<span class="token directive keyword">define</span> INF 0x3f3f3f3f3f3f3f3f</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ll long long</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ull unsigned long long</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PII pair&lt;int, int&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PLL pair&lt;ll, ll&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PIL pair&lt;int, ll&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> endl '\n'</span>
<span class="token macro property">#<span class="token directive keyword">define</span> lson l, m, rt &lt;&lt; 1</span>
<span class="token macro property">#<span class="token directive keyword">define</span> rson m + 1, r, rt &lt;&lt; 1 | 1</span>
<span class="token macro property">#<span class="token directive keyword">define</span> IOS std::ios::sync_with_stdio(false), cin.tie(0), cout.tie(0)</span>
<span class="token macro property">#<span class="token directive keyword">define</span> debug(x) cerr &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; endl</span>
<span class="token macro property">#<span class="token directive keyword">define</span> debug2(x, y) cerr &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; " and " &lt;&lt; #y &lt;&lt; " = " &lt;&lt; y &lt;&lt; endl</span>
<span class="token macro property">#<span class="token directive keyword">define</span> Pi acos(-1)</span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">2e5</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> MP<span class="token punctuation">;</span>
    <span class="token keyword">int</span> ans <span class="token operator">=</span> inf<span class="token punctuation">;</span>
    <span class="token keyword">int</span> n<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> num<span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
        MP<span class="token punctuation">[</span>num<span class="token punctuation">]</span> <span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">//离散化</span>
    <span class="token punctuation">}</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> d<span class="token punctuation">;</span>
    set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> S<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> i <span class="token operator">=</span> MP<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">!=</span> MP<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> d<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token operator">-</span><span class="token operator">&gt;</span>second<span class="token punctuation">)</span><span class="token punctuation">,</span> S<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>i<span class="token operator">-</span><span class="token operator">&gt;</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">sort</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将出现次数排序</span>
    <span class="token function">reverse</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> i <span class="token operator">=</span> S<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">!=</span> S<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span>  <span class="token comment">//出现次数只需要枚举初始已有的，枚举不存在的出现次数是没有意义的</span>
                                                <span class="token comment">//比如 1 1 2 2 2 2 ，枚举最后出现 3 次的情况和最后出现 4 次相比，</span>
                                                <span class="token comment">//只会让删除的值变多，不满足尽量少删的题意</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// sum为需要删除的数的个数。</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> d<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j <span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token operator">*</span>i<span class="token punctuation">)</span> sum <span class="token operator">+</span><span class="token operator">=</span> d<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token operator">*</span>i<span class="token punctuation">;</span> <span class="token comment">//如果出现次数够，最后会留下部分或全部</span>
            <span class="token keyword">else</span> sum <span class="token operator">+</span><span class="token operator">=</span> d<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>               <span class="token comment">//出现次数不够，最后会全部删除</span>
        <span class="token punctuation">}</span>
        ans <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> t<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>t <span class="token operator">--</span><span class="token punctuation">)</span>
        <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="G_Old_Floppy_Drive_375"></a>G. Old Floppy Drive</h2> 
<p>题意：<br>       有一个循环数组，周期为n，有m次询问，每次询问给出一个x，需要输出第一个前缀和 ≥ x 的 位置。</p> 
<hr> 
<p>题解：<br>       先不考虑循环，我们考虑对于一个前缀和数组pre来说，只有pre[i] &gt; ma(设ma为 0 到 i - 1 中 最大的pre）时，a[i] 才有可能 ≥ x，因为如果pre[i] ≤ ma的话，实际上答案并不会后移。</p> 
<p>      所以我们可以先找出所有满足这个条件的位置，然后将其值和位置放入vector中，同时记录下这些位置中最大的值是多少。然后二分找到第一个 ≥ x 的 位置， 如果二分返回的x的位置等于了vector的size的话，就说明 x 不存在当前的循环节中，需要向后面的循环节找，怎么找呢？</p> 
<p>      我们可以发现pre的每向后一个循环节的每个位置上都会增加d，这个d实际上就等于pre[n - 1]（下标从0开始）。所以我们就可以根据这个d，来确定当前的x应该处于哪一个循环节中。</p> 
<p>      首先如果d ≤ 0的话，说明如果在第一段里不存在，之后的每一段都不可能存在，也就是说答案为-1;</p> 
<p>      而如果d &gt; 0的话，我们就可以通过round_num = (x - ma) / d 来判断，但是边界情况不是很清楚，这个时候我们就可以画一画来看看是需要 + 1 还是 - 1。比如：x = 7， ma = 4， d = 3， 那么其实pre会有这样的循环情况：……4     5 6 7     8 9 10 ……，也就是说，当x = 5，6，7的时候，d应该相同，但是我们发现x - ma 分别为 1， 2， 3，而d = 3，最后得到的循环节编号分别是 0， 0， 1，所以我们需要将其变为（x - ma - 1），然后我们定义的循环节是第0节，第1节 …… ，所以需要将（x - ma - 1) 最后得数再加上1，也就是说最终的 round_num = （x - ma - 1）+ 1。</p> 
<p>      之后依然对vector进行二分，但是需要查找的值改变了，变为了 x - d * round_num，需要注意的是我们找到的位置并不是最终位置，还需要加上 n * round_num！</p> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">define</span> inf 0x3f3f3f3f</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ll long long</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ull unsigned long long</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PII pair&lt;int, int&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PLL pair&lt;ll, ll&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PIL pair&lt;int, ll&gt;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> endl '\n'</span>
<span class="token macro property">#<span class="token directive keyword">define</span> lson l, m, rt &lt;&lt; 1</span>
<span class="token macro property">#<span class="token directive keyword">define</span> rson m + 1, r, rt &lt;&lt; 1 | 1</span>
<span class="token macro property">#<span class="token directive keyword">define</span> IOS std::ios::sync_with_stdio(false), cin.tie(0), cout.tie(0)</span>
<span class="token macro property">#<span class="token directive keyword">define</span> debug(x) cerr &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; endl</span>
<span class="token macro property">#<span class="token directive keyword">define</span> debug2(x, y) cerr &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; " and " &lt;&lt; #y &lt;&lt; " = " &lt;&lt; y &lt;&lt; endl</span>
<span class="token macro property">#<span class="token directive keyword">define</span> Pi acos(-1)</span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">2e5</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">;</span>
ll a<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span> pre_sum<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> INF <span class="token operator">=</span> <span class="token number">1e12</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>
    ll ma <span class="token operator">=</span> <span class="token operator">-</span>INF<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span>ll<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> K<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>i<span class="token punctuation">)</span> pre_sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span>  a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> pre_sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> pre_sum<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> 
        <span class="token keyword">if</span><span class="token punctuation">(</span>pre_sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> ma<span class="token punctuation">)</span> 
        <span class="token punctuation">{<!-- --></span>
            K<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>pre_sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ma <span class="token operator">=</span> pre_sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    ll d <span class="token operator">=</span> pre_sum<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span><span class="token punctuation">(</span>m <span class="token operator">--</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        ll x<span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> it <span class="token operator">=</span> <span class="token function">lower_bound</span><span class="token punctuation">(</span>K<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> K<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">make_pair</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> K<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>it <span class="token operator">&lt;</span> K<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> K<span class="token punctuation">[</span>it<span class="token punctuation">]</span><span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>d <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"-1 "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        ll round_n <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">-</span> ma <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> d <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        it <span class="token operator">=</span> <span class="token function">lower_bound</span><span class="token punctuation">(</span>K<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> K<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">make_pair</span><span class="token punctuation">(</span>x <span class="token operator">-</span> round_n <span class="token operator">*</span> d<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> K<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld "</span><span class="token punctuation">,</span> K<span class="token punctuation">[</span>it<span class="token punctuation">]</span><span class="token punctuation">.</span>second <span class="token operator">+</span> n <span class="token operator">*</span> round_n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">puts</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> t<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>t <span class="token operator">--</span><span class="token punctuation">)</span>
        <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d201e6c181beb3ca1f29d9b0de970198/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java maven清理打包运行</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f7a68c2cb9a463d4aa838eea327081d6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Boilsoft Video Joiner(视频无损拼接)V9.1.3开心版 全网独一</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>