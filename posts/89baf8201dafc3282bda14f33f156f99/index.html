<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Scala05：Scala面向对象 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Scala05：Scala面向对象" />
<meta property="og:description" content="一、Scala面向对象编程 在这里我们主要学习Scala中的类、对象和接口
注意：
Scala中类和java中的类基本是类似的
Scala中的对象时需要定义的，而java中的对象是通过class new出来的
Scala中的接口是trait，java中的接口是interface
二、类-class 首先看一下类
Scala中定义类和Java一样，都是使用 class 关键字
和Java一样，使用new关键字创建对象
那下面来看一个具体案例
定义Person类，创建对象并调用其方法
class Person{ var name = &#34;scala&#34; def sayHello(){ println(&#34;Hello,&#34;&#43;name) } def getName= name } 注意：如果在定义方法的时候指定了()，那么在调用的时候()可写可不写，如果在定义方法的时候没指定()，则调用方法时肯定不能带() 1、constructor 类创建好了，下面我们来看一下类中的构造函数，
Scala类中的构造函数可以分为主构造函数和辅助构造函数
这两种构造函数有什么区别呢？
主constructor：类似Java的默认构造函数 this()
辅助constructor：类似Java的重载构造函数 this(name,age)
2、主constructor 那先来看一下主构造函数
Scala的主constructor是与类名放在一起的，与Java不同，Java中的构造函数是写在类内部的
注意：在类中，没有定义在任何方法或者是代码块之中的代码就是主constructor的代码 上代码：
先定义一个Student类
class Student(val name:String,val age:Int){ println(&#34;your name is &#34; &#43; name &#43; &#34;, your age is &#34; &#43; age) } 创建对象
在创建对象的时候，类中的println语句执行了，说明这个语句属于主构造函数中的代码
主constructor中还可以通过使用默认参数，来给参数设置默认值
class Student(val name:String = &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/89baf8201dafc3282bda14f33f156f99/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-08T09:33:11+08:00" />
<meta property="article:modified_time" content="2022-03-08T09:33:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Scala05：Scala面向对象</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Scala_0"></a>一、Scala面向对象编程</h2> 
<p>在这里我们主要学习Scala中的类、对象和接口</p> 
<p>注意：<br> Scala中类和java中的类基本是类似的<br> Scala中的对象时需要定义的，而java中的对象是通过class new出来的<br> Scala中的接口是trait，java中的接口是interface</p> 
<h2><a id="class_7"></a>二、类-class</h2> 
<p>首先看一下类<br> Scala中定义类和Java一样，都是使用 class 关键字</p> 
<p>和Java一样，使用new关键字创建对象</p> 
<p>那下面来看一个具体案例<br> 定义Person类，创建对象并调用其方法<br> <img src="https://images2.imgbox.com/d7/cf/tbrtdNxY_o.png" alt="在这里插入图片描述"></p> 
<pre><code>class Person{
    var name = "scala"
    def sayHello(){
        println("Hello,"+name)
    }
    def getName= name
}

注意：如果在定义方法的时候指定了()，那么在调用的时候()可写可不写，如果在定义方法的时候没指定()，则调用方法时肯定不能带()
</code></pre> 
<p><img src="https://images2.imgbox.com/66/6f/1zr2BuIk_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="1constructor_29"></a>1、constructor</h3> 
<p>类创建好了，下面我们来看一下类中的构造函数，</p> 
<p>Scala类中的构造函数可以分为主构造函数和辅助构造函数<br> 这两种构造函数有什么区别呢？<br> 主constructor：类似Java的默认构造函数 this()<br> 辅助constructor：类似Java的重载构造函数 this(name,age)</p> 
<h3><a id="2constructor_38"></a>2、主constructor</h3> 
<p>那先来看一下主构造函数<br> Scala的主constructor是与类名放在一起的，与Java不同，Java中的构造函数是写在类内部的</p> 
<pre><code>注意：在类中，没有定义在任何方法或者是代码块之中的代码就是主constructor的代码
</code></pre> 
<p>上代码：<br> 先定义一个Student类<br> <img src="https://images2.imgbox.com/dd/a2/XW7ybpbE_o.png" alt="在这里插入图片描述"></p> 
<pre><code>class Student(val name:String,val age:Int){
    println("your name is " + name + ", your age is " + age)
}
</code></pre> 
<p>创建对象<br> <img src="https://images2.imgbox.com/fa/f6/DxMEJU8n_o.png" alt="在这里插入图片描述"><br> 在创建对象的时候，类中的println语句执行了，说明这个语句属于主构造函数中的代码</p> 
<p>主constructor中还可以通过使用默认参数，来给参数设置默认值<br> <img src="https://images2.imgbox.com/c7/46/7b33D2NN_o.png" alt="在这里插入图片描述"></p> 
<pre><code>class Student(val name:String = "jack",val age:Int = 20){
    println("your name is " + name + ", your age is " + age)
}
</code></pre> 
<p>创建对象</p> 
<p><img src="https://images2.imgbox.com/42/f1/psjNrBD6_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3constructor_66"></a>3、辅助constructor</h3> 
<p>Scala中，可以给类定义多个辅助constructor，类似于java中的构造函数重载<br> 辅助constructor之间可以互相调用，但是第一行必须调用主constructor</p> 
<p>来看一个案例：<br> 给学生指定姓名和年龄信息<br> <img src="https://images2.imgbox.com/14/f0/Oqk9KBuR_o.png" alt="在这里插入图片描述"></p> 
<pre><code>class Student {
  var name = "jack"
  var age = 10
  def this(name: String) {
    this()
    this.name = name
  }
  def this(name: String, age: Int) {
    this(name)
    this.age = age
  }
}
</code></pre> 
<p>执行<br> <img src="https://images2.imgbox.com/17/0a/Dy03Fh22_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="object_91"></a>三、对象-object</h2> 
<p>前面我们学习的scala中的class和java中的class是类似的，下面来看一个java中没有的内容，叫Object<br> 那大家可能有疑问了，Java中也有object，通过class就可以创建object<br> 但是注意了，在scala中，我们可以直接定义一个object，就像定义class一样。</p> 
<p>object：相当于class的单个实例，通常在里面放一些静态的field或者method<br> object不能定义带参数的constructor，只有空参的constructor<br> 第一次调用object的方法时，会执行object的constructor，也就是执行object内部不在任何方法中的代码，因为它只有空参的构造函数<br> 但是注意，object的constructor的代码只会在他第一次被调用时执行一次，以后再次调用就不会再执行了</p> 
<p>object通常用于作为单例模式的实现，或者放class的一些静态成员，比如工具方法</p> 
<p>object可以直接使用，不能new</p> 
<p>创建一个object，使用object关键字<br> <img src="https://images2.imgbox.com/fc/1a/Vc2ggeOX_o.png" alt="在这里插入图片描述"></p> 
<pre><code>object Person {
  var age = 1
  println("this Person object!")
  def getAge  = age 
}
</code></pre> 
<p>执行，直接通过Object的名称调用属性或者方法即可，类似于Java中的静态类。<br> <img src="https://images2.imgbox.com/3f/0f/mbWE1ifV_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="1_117"></a>1、伴生对象</h3> 
<p>前面学习了class和object，那下面再来看一个特殊的概念，伴生对象。<br> 如果有一个class，还有一个与class同名的object，那么就称这个object是class的 伴生对象 ，class是object的 伴生类。</p> 
<pre><code>注意：伴生类和伴生对象必须存放在一个.scala文件之中
伴生类和伴生对象最大特点在于可以互相访问private field
</code></pre> 
<p>创建一个Person object和Person class<br> <img src="https://images2.imgbox.com/19/a0/G2lLni8R_o.png" alt="在这里插入图片描述"></p> 
<pre><code>object Person {
  private val fdNum= 1
  def getFdNum = fdNum
}
class Person(val name: String, val age: Int) {
  def sayHello = println("Hi, " + name + ",you are " + age + " years old!" + ", and you  have " + Person.fdNum+ " friend.")
}
</code></pre> 
<p>执行</p> 
<p><img src="https://images2.imgbox.com/f3/37/McbDnN29_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2apply_139"></a>2、apply</h3> 
<p>apply是object中非常重要的一个特殊方法，通常在伴生对象中实现apply方法，并在其中实现构造伴生类对象的功能<br> 在创建对象的时候，就不需要使用new Class的方式，而是使用Class()的方式，隐式调用伴生对象的apply方法，这样会让对象创建更加简洁</p> 
<p>例如：Array的伴生对象的apply方法就实现了接收可变数量的参数，以及会创建一个Array对象<br> val a = Array(1, 2, 3, 4, 5)</p> 
<p>看一下文档</p> 
<p><img src="https://images2.imgbox.com/b0/94/Jwff8n1Y_o.png" alt="在这里插入图片描述"><br> 查看Array的源码<br> <img src="https://images2.imgbox.com/bb/a0/LzRdMrtt_o.png" alt="在这里插入图片描述"><br> 从Array object的源码中可以看出来，它里面就是在apply方法内部使用new Array创建的对象</p> 
<p>下面我们来自己定义一个伴生类和伴生对象<br> <img src="https://images2.imgbox.com/6a/06/Xao6Mm5F_o.png" alt="在这里插入图片描述"></p> 
<pre><code>class Person(val name: String){
  println("my name is,"+name)
}

object Person {
  def apply(name: String) = {
    println("apply exec...")
    new Person(name)
  }
}
</code></pre> 
<p>执行<br> <img src="https://images2.imgbox.com/d6/0a/2nbFMvQu_o.png" alt="在这里插入图片描述"></p> 
<pre><code>注意：在这里new Person(“zhang”) 等于 Person(“zhang”)，都是获取Person的对象
只不过Person(“zhang”)是用的object中apply方法
而new Person(“zhang”)是直接基于class创建的
</code></pre> 
<p>这两种方式肯定Person(“zhang”)这种方式使用起来更加方便简洁</p> 
<h3><a id="3main_176"></a>3、main方法</h3> 
<p>接下来看一下scala中的main方法<br> 和Java一样，在Scala中如果要运行一个应用程序，必须有一个main方法，作为入口</p> 
<p>Scala中的main方法必须定义在object中，格式为def main(args: Array[String])</p> 
<p>这就需要在编辑器中操作了，我们可以使用eclipse或者idea，但是eclipse对scala的支持不太好，所以建议使用idea</p> 
<p>首先确认一下idea中是否集成了scala语言插件<br> 打开idea，点击configure–&gt;plugins</p> 
<p><img src="https://images2.imgbox.com/7d/ee/YojY0FFt_o.png" alt="在这里插入图片描述"><br> 确认scala的插件是否已经安装</p> 
<p><img src="https://images2.imgbox.com/7b/e6/PLS8kyju_o.png" alt="在这里插入图片描述"><br> 接着创建maven项目</p> 
<p><img src="https://images2.imgbox.com/c6/76/fVLB6gib_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ce/e0/zpTYJZpt_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/92/51/V350DX7N_o.png" alt="在这里插入图片描述"><br> 点击开启自动引入依赖</p> 
<p><img src="https://images2.imgbox.com/b7/b8/qzrQygtR_o.png" alt="在这里插入图片描述"><br> 到这还没完，因为此时我们是无法创建scala代码的，这个项目中也没有集成scala的sdk，只有java的</p> 
<p><img src="https://images2.imgbox.com/2e/ac/GF4vFkbz_o.png" alt="在这里插入图片描述"><br> 接下来就需要给这个项目添加scala的sdk了</p> 
<p><img src="https://images2.imgbox.com/e3/5f/Ga0379Wa_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b9/73/husrYF4I_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/65/1a/8rvhKZzG_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/37/b6/vjs2ZOzk_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/e9/a7/6P3bvf5V_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d1/a5/CNNdHEHA_o.png" alt="在这里插入图片描述"><br> 添加成功以后是这样的</p> 
<p><img src="https://images2.imgbox.com/6d/80/YRraOLVa_o.png" alt="在这里插入图片描述"><br> 此时查看项目的依赖，发现scala的sdk已经添加进来了</p> 
<p><img src="https://images2.imgbox.com/18/f0/ytHw8zCN_o.png" alt="在这里插入图片描述"><br> 最终点击ok即可<br> <img src="https://images2.imgbox.com/f2/6e/fSXPrNmY_o.png" alt="在这里插入图片描述"><br> 以后再创建想要创建scala的maven项目，只需要进入到这个界面确认项目中是否有scala的依赖，没有的话直接点击右边的加号按钮添加即可</p> 
<p><img src="https://images2.imgbox.com/32/b3/HXBbdjAL_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ad/95/c1JTDi1i_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/3d/b8/V18O0sXD_o.png" alt="在这里插入图片描述"><br> 好，idea的scala开发环境配置好了，但是我一般还是喜欢再增加一些配置<br> 目前项目的src目录下有一个java目录，这个目录表示是放java代码的，当然了你在里面写scala代码肯定是没有问题的。<br> 只是针对我这种稍微有点强迫症的用起来就有点别扭了<br> 在实际工作中可能我们一个项目既需要使用到java代码，也需要使用到scala代码，所以最好还是建议把java代码和scala代码分开存放，这样比较清晰</p> 
<p>所以我们需要在这里比葫芦画瓢，增加一个scala目录</p> 
<p><img src="https://images2.imgbox.com/9b/61/snz5uKG3_o.png" alt="在这里插入图片描述"><br> 在弹出的框中输入scala<br> 最后就可以看到如下效果了<br> <img src="https://images2.imgbox.com/3e/f3/v0f4dNVJ_o.png" alt="在这里插入图片描述"></p> 
<p>但是注意了，这样创建的scala目录是有问题的，你有没有发现这个目录的颜色和java目录的颜色都不一样<br> 因为你在这直接创建的scala目录是一个普通的目录，而java那个目录是一个source根目录<br> 所以我们也需要把scala目录变为source根目录<br> 这样操作</p> 
<p><img src="https://images2.imgbox.com/eb/19/uWKTEW7w_o.png" alt="在这里插入图片描述"><br> 这样操作之后，就发现scala的目录颜色就正常了</p> 
<p><img src="https://images2.imgbox.com/66/9b/0xKALlOx_o.png" alt="在这里插入图片描述"><br> 好，那下面就可以正式开始写代码了，scala相关的代码就放到scala目录中</p> 
<p>现在scala目录下创建包：com.imooc.demo<br> 然后创建一个scala的object<br> 先选中Scala Class<br> <img src="https://images2.imgbox.com/0b/b4/KD6tGmMl_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/32/02/kEZlm6T5_o.png" alt="在这里插入图片描述"></p> 
<p>按回车即可创建成功</p> 
<p>在mainDemo这个scala object中定义main函数<br> 代码如下<br> <img src="https://images2.imgbox.com/7b/e8/4pJgRsz2_o.png" alt="在这里插入图片描述"></p> 
<pre><code>package com.imooc.demo

/**
 * 
 */
object mainDemo {

  def main(args: Array[String]): Unit = {
    println("hello scala!")
  }

}
</code></pre> 
<p>执行代码，右键run即可<br> 输出结果如下<br> <img src="https://images2.imgbox.com/a9/74/ejguYG95_o.png" alt="在这里插入图片描述"></p> 
<pre><code>hello scala!
</code></pre> 
<p>这就是Scala中main方法的用法，注意：main方法只能定义在object中，不能定义在class中。</p> 
<h2><a id="trait_283"></a>四、接口-trait</h2> 
<p>接下来看一个scala中的接口，这个接口也是比较特殊的</p> 
<p>Scala中的接口称为trait，trait类似于Java中的interface<br> 在triat中可以定义抽象方法</p> 
<p>类可以使用extends 关键字继承trait，无论继承类还是trait统一都是使用extends这个关键字<br> 类继承trait后，必须实现trait中的抽象方法，实现时不需要使用override关键字</p> 
<p>scala不支持对类进行多继承，但是支持对trait进行多重继承，使用with关键字即可</p> 
<p>下面我们就来看一个接口多继承的案例<br> <img src="https://images2.imgbox.com/6f/40/5gUNELRV_o.png" alt="在这里插入图片描述"></p> 
<pre><code>/**
 * 
 */
object PersonDemo {
  def main(args: Array[String]): Unit = {
    val p1 = new Person("tom")
    val p2 = new Person("jack")
    p1.sayHello(p2.name)
    p1.makeFriends(p2)
  }
}

trait HelloTrait { def sayHello(name: String)}
trait MakeFriendsTrait { def makeFriends(p: Person)}
class Person(val name: String) extends HelloTrait with MakeFriendsTrait {
  def sayHello(name: String) = println("Hello, " + name)
  def makeFriends(p: Person) = println("Hello, my name is " + name + ", your name is " + p.name)
}
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b1b2dd465cbf59bb22876bca4707ddf4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Docker使用docker compose实现 NextCloud私人网盘整合在线Offcie软件 onlyoffice安装部署</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ad56f1d7f8777e5cbc46b1ed54a9010f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Codeforces Round #775 (Div. 2, based on Moscow Open Olympiad in Informatics)A~C 题解(原来如此简单，超级详细入门必备)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>