<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>虚拟机怎样搭建服务器环境,使用虚拟机安装CentOS7并搭建LAMP服务器环境详细讲解... - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="虚拟机怎样搭建服务器环境,使用虚拟机安装CentOS7并搭建LAMP服务器环境详细讲解..." />
<meta property="og:description" content="很多时候为了方便，搭配wamp或者wnmp环境的时候，直接在windows系统搭建就好了，而且更方便的是直接用集成环境phpstudy，直接了当。这个对于初学者来说，可以这样子做，但是对于一些摸索php好久的同学，其实都没什么挑战性了，更多的是，linux都没去学着的话，更容易忘记。说到lamp或者lnmp，有些同学说我用一键安装就好了，确实，现在的确是很方便，有一键安装包，
地址：https://lnmp.org/，按照这个网站的安装步骤就可实现了。
但是我还是想体验一下CentOS7.0安装LAMP或者LNMP，最近又摸索了一下。根据个人的喜好，你们有需要的也可以学习学习的。
CentOS7的安装
1)通过VMware创建虚拟机(这一步不解释)
成功引导系统后，会出现下面的界面
界面说明：
Install CentOS 7 安装CentOS 7
Test this media &amp; install CentOS 7 测试安装文件并安装CentOS 7
Troubleshooting 修复故障
这里选择第一项，安装CentOS 7，回车，进入下面的界面
选择语言：中文-简体中文(中国) #正式生产服务器建议安装英文版本
继续
选择-系统-安装位置，进入磁盘分区界面
选择-其它存储选项-分区-我要配置分区，点左上角的“完成”，进入下面的界面
分区前先规划好
swap #交换分区，一般设置为内存的2倍
/ #剩余所有空间
备注：生产服务器建议单独再划分一个/data分区存放数据
点左下角的“&#43;”号
挂载点：swap
期望容量：2048
添加挂载点，如下图所示
点左上角的“完成”，进入下面的界面
接受更改，进入下面的界面
开始安装 #注意“软件”-“软件选择”，默认是最小安装，即不安装桌面环境，可以自己设置。
建议选择最小安装即可，最小安装方式安装完成后开机即为命令行模式
设置网络
点击，打开网络，注意，这里首先要设置虚拟机的网络为桥接模式。
进入下面的界面
选择-用户设置-ROOT密码，进入下面的界面
设置Root密码
如果密码长度少于8位，会提示要按“完成”两次来确认，安装继续
安装完成之后，会进入下面的界面
点重启
系统重新启动
进入登录界面
账号输入root 回车
再输入上面设置的root密码回车
系统登录成功
远程登录，这里我使用Xsell工具
输入命令ifconfig,出来以下信息，红框里的就是你要远程登录的ip地址
打开Xsell工具，打开新连接，输入主机地址
输入用户名
输入密码
到这里远程登录已经可以用了
接下来安装Apache,php,mysql,我这里安装的是lamp。
1)、安装Apache
Apache软件的软件包名称叫做httpd，因此，要安装Apache软件，就使用下述命令：[root@localhost ~]# yum install httpd" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/cf1656d89e0ad53b5610c8859a88d421/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-05T21:29:20+08:00" />
<meta property="article:modified_time" content="2021-08-05T21:29:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">虚拟机怎样搭建服务器环境,使用虚拟机安装CentOS7并搭建LAMP服务器环境详细讲解...</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>很多时候为了方便，搭配wamp或者wnmp环境的时候，直接在windows系统搭建就好了，而且更方便的是直接用集成环境phpstudy，直接了当。这个对于初学者来说，可以这样子做，但是对于一些摸索php好久的同学，其实都没什么挑战性了，更多的是，linux都没去学着的话，更容易忘记。说到lamp或者lnmp，有些同学说我用一键安装就好了，确实，现在的确是很方便，有一键安装包，</p> 
 <p>地址：https://lnmp.org/，按照这个网站的安装步骤就可实现了。</p> 
 <p>但是我还是想体验一下CentOS7.0安装LAMP或者LNMP，最近又摸索了一下。根据个人的喜好，你们有需要的也可以学习学习的。</p> 
 <p>CentOS7的安装</p> 
 <p>1)通过VMware创建虚拟机(这一步不解释)</p> 
 <p>成功引导系统后，会出现下面的界面</p> 
 <p align="center"><img src="https://images2.imgbox.com/13/25/ptHIOkOv_o.png" alt="f988e9fef72978fee81107fd4a6a794c.png"></p> 
 <p>界面说明：</p> 
 <p>Install CentOS 7 安装CentOS 7</p> 
 <p>Test this media &amp; install CentOS 7 测试安装文件并安装CentOS 7</p> 
 <p>Troubleshooting 修复故障</p> 
 <p>这里选择第一项，安装CentOS 7，回车，进入下面的界面</p> 
 <p align="center"><img src="https://images2.imgbox.com/d2/bf/GVjR11r8_o.png" alt="1445d4cf14d5d98a34af3e736e3e38fb.png"></p> 
 <p>选择语言：中文-简体中文(中国) #正式生产服务器建议安装英文版本</p> 
 <p align="center"><img src="https://images2.imgbox.com/11/e2/qqEHx4tN_o.png" alt="0469072cd5cf8567f5c1a77e8a95a280.png"></p> 
 <p>继续</p> 
 <p align="center"><img src="https://images2.imgbox.com/11/8b/vIsoWBT4_o.png" alt="e27777f082dc561e0cf531e6192e5a8c.png"></p> 
 <p>选择-系统-安装位置，进入磁盘分区界面</p> 
 <p align="center"><img src="https://images2.imgbox.com/8f/e4/J2g8XR43_o.png" alt="b7844e8ab41a9883892d6aacd25d71fd.png"></p> 
 <p>选择-其它存储选项-分区-我要配置分区，点左上角的“完成”，进入下面的界面</p> 
 <p align="center"><img src="https://images2.imgbox.com/4b/b5/bcOOWbGa_o.png" alt="b9a9ddcdf65664d476534bae75bc00ce.png"></p> 
 <p>分区前先规划好</p> 
 <p>swap #交换分区，一般设置为内存的2倍</p> 
 <p>/ #剩余所有空间</p> 
 <p>备注：生产服务器建议单独再划分一个/data分区存放数据</p> 
 <p align="center"><img src="https://images2.imgbox.com/32/7c/UTLWBBIw_o.png" alt="1adc43b342eee7f744b2690ac4bef1e1.png"></p> 
 <p>点左下角的“+”号</p> 
 <p>挂载点：swap</p> 
 <p>期望容量：2048</p> 
 <p>添加挂载点，如下图所示</p> 
 <p align="center"><img src="https://images2.imgbox.com/f7/a7/LPGRRudT_o.png" alt="96ca60a5d25e5b4b841b1124342e8e63.png"></p> 
 <p>点左上角的“完成”，进入下面的界面</p> 
 <p align="center"><img src="https://images2.imgbox.com/6d/b2/1kWKS2ng_o.png" alt="f52bee01c1345fe7850c2beaf5e11b49.png"></p> 
 <p>接受更改，进入下面的界面</p> 
 <p align="center"><img src="https://images2.imgbox.com/cc/e4/WbS7QFNo_o.png" alt="978a51ced6530dbee2634361670fb74b.png"></p> 
 <p>开始安装 #注意“软件”-“软件选择”，默认是最小安装，即不安装桌面环境，可以自己设置。</p> 
 <p>建议选择最小安装即可，最小安装方式安装完成后开机即为命令行模式</p> 
 <p>设置网络</p> 
 <p align="center"><img src="https://images2.imgbox.com/f7/da/bPJQybYX_o.png" alt="3aa3815d7bfd78bdc820fe656731fc25.png"></p> 
 <p>点击，打开网络，注意，这里首先要设置虚拟机的网络为桥接模式。</p> 
 <p>进入下面的界面</p> 
 <p align="center"><img src="https://images2.imgbox.com/38/9d/NkocsElY_o.png" alt="1a422c82120625c8785777e4ea162462.png"></p> 
 <p>选择-用户设置-ROOT密码，进入下面的界面</p> 
 <p align="center"><img src="https://images2.imgbox.com/d8/40/CY7AK6LL_o.png" alt="11c22ab3238a0b6701cbacc525650709.png"></p> 
 <p>设置Root密码</p> 
 <p>如果密码长度少于8位，会提示要按“完成”两次来确认，安装继续</p> 
 <p align="center"><img src="https://images2.imgbox.com/fa/df/K3pbsgGk_o.png" alt="70c9cb4cca9c8b6b7adf75c50a68b39d.png"></p> 
 <p>安装完成之后，会进入下面的界面</p> 
 <p align="center"><img src="https://images2.imgbox.com/17/5c/qXQUUq99_o.png" alt="6e2c7e3810c0d8569735614b8b0852a1.png"></p> 
 <p>点重启</p> 
 <p align="center"><img src="https://images2.imgbox.com/ee/8d/rHtqqli9_o.png" alt="3f7b163c1987ef786ff1f743ef74e096.png"></p> 
 <p>系统重新启动</p> 
 <p align="center"><img src="https://images2.imgbox.com/64/13/F72G4TMC_o.png" alt="2a69707d14f2748bcb659e51fb529458.png"></p> 
 <p>进入登录界面</p> 
 <p align="center"><img src="https://images2.imgbox.com/ff/2d/UVfEQm0c_o.png" alt="c0bda82e1a94fbafc6006f05fe50c0ee.png"></p> 
 <p>账号输入root 回车</p> 
 <p>再输入上面设置的root密码回车</p> 
 <p>系统登录成功</p> 
 <p>远程登录，这里我使用Xsell工具</p> 
 <p>输入命令ifconfig,出来以下信息，红框里的就是你要远程登录的ip地址</p> 
 <p align="center"><img src="https://images2.imgbox.com/41/92/W2RAlPo9_o.png" alt="e5a7aa25437c8b2576ca7ae0930f3df0.png"></p> 
 <p>打开Xsell工具，打开新连接，输入主机地址</p> 
 <p align="center"><img src="https://images2.imgbox.com/5c/66/IrwzdWvz_o.png" alt="da0e72cabcf41017f4d4cd4a56933576.png"></p> 
 <p>输入用户名</p> 
 <p align="center"><img src="https://images2.imgbox.com/a4/cd/2hUS45G5_o.png" alt="e1f03e8460588b18e310cfbb64b65f95.png">输入密码</p> 
 <p align="center"><img src="https://images2.imgbox.com/52/6f/joZCTDuL_o.png" alt="1e92a6f8fdb3453bb2830f37a3c3f34f.png"></p> 
 <p>到这里远程登录已经可以用了</p> 
 <p>接下来安装Apache,php,mysql,我这里安装的是lamp。</p> 
 <p>1)、安装Apache</p> 
 <p>Apache软件的软件包名称叫做httpd，因此，要安装Apache软件，就使用下述命令：[root@localhost ~]# yum install httpd</p> 
 <p>当出现提示的时候一路 y +回车就OK了</p> 
 <p align="center"><img src="https://images2.imgbox.com/58/8e/Mmkuo2g0_o.png" alt="cbfe18d422258424daca8f9c6c8dc3ed.png"></p> 
 <p>如上图所示，安装的Apache 软件版本为2.4版。根据红帽官方文档说明，RHEL 7 (或CentOS 7)上可用的Apache版本正是2.4版的。</p> 
 <p>安装完成后，Apache是以httpd服务的形式存在的。因此，要启动Apache并将其设置为开机启动，就使用命令：[root@localhost ~]# systemctl start httpd.service[root@localhost ~]# systemctl enable httpd.service</p> 
 <p>然后，检查httpd服务状态：[root@localhost ~]# systemctl status httpd.service</p> 
 <p align="center"><img src="https://images2.imgbox.com/c9/76/ZFHgKHgR_o.png" alt="92bd59716d0051834c2d4ceb9430c93f.png"></p> 
 <p>如上图所示，“enabled”表示httpd服务已设为开机启动，“active(running)”则表示httpd服务正在运行中。</p> 
 <p>这样的话，HTTP协议就已被启动起来了，由于HTTP协议使用到tcp端口80，因此防火墙要放通tcp端口80：[root@localhost ~]# firewall-cmd --zone=public --add-port=80/tcp --permanent</p> 
 <p>重启防火墙以让更改立刻生效：[root@localhost ~]# firewall-cmd --reload</p> 
 <p>使用以下命令检查配置是否成功：[root@localhost ~]# firewall-cmd --list-all</p> 
 <p align="center"><img src="https://images2.imgbox.com/b6/27/gRmvJUp2_o.png" alt="b1c267014623c978cd3289fc7350af22.png"></p> 
 <p>如上图所示，tcp端口80已放通。</p> 
 <p>然后这个时候，就可以在物理机上使用浏览器来访问刚刚搭建的web服务器了。不过，因为这个时候还未创建任何页面，所以它显示的是Apache软件自带的测试页面：</p> 
 <p>通过命令ip addr查询当前系统的ip地址，得到ip地址后再物理机浏览器地址栏输入该ip地址</p> 
 <p align="center"><img src="https://images2.imgbox.com/d7/26/M7AqzPg6_o.png" alt="c1c79e1d95353d3cc6d9263d9ff73ea6.png"></p> 
 <p>2)安装PHP</p> 
 <p>使用以下命令安装PHP软件：[root@localhost ~]# yum install php</p> 
 <p align="center"><img src="https://images2.imgbox.com/b1/ba/OVNEMeid_o.png" alt="70e799d5f4235a7167536450c2b9c66b.png"></p> 
 <p>从上图可以看到，安装的PHP版本为5.4版。这个是centOS7自带的版本，这里我把它升级到5.6版本，你们也可以升级为PHP7版本的。</p> 
 <p>进入终端后查看php版本</p> 
 <p>php -vPHP 5.4.16 (cli) (built: Apr 12 2018 19:02:01) Copyright (c) 1997-2013 The PHP GroupZend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies</p> 
 <p>执行下面的命令升级软件仓库rpm -Uvh https://mirror.webtatic.com/yum/el7/epel-release.rpmrpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm</p> 
 <p>执行下面的命令删除phpyum remove php-common</p> 
 <p>然后像安装那样问你是否继续的，输入yes即可</p> 
 <p>安装php 5.6版本(php56w-devel这个不是必需的)yum install -y php56w php56w-opcache php56w-xml php56w-mcrypt php56w-gd php56w-devel php56w-mysql php56w-intl php56w-mbstring</p> 
 <p>重启httpdservice httpd restart</p> 
 <p>查看最新的版本</p> 
 <p>php -v</p> 
 <p>现在应该是5.6了！</p> 
 <p>安装mysql</p> 
 <p>新开的云服务器，需要检测系统是否自带安装mysql# yum list installed | grep mysql</p> 
 <p>如果发现有系统自带mysql，果断这么干# yum -y remove mysql-libs.x86_64</p> 
 <p>随便在你存放文件的目录下执行，这里解释一下，由于这个mysql的yum源服务器在国外，所以下载速度会比较慢，还好mysql5.6只有79M大，而mysql5.7就有182M了，所以这是我不想安装mysql5.7的原因# wget http://repo.mysql.com/mysql-community-release-el6-5.noarch.rpm</p> 
 <p>接着执行这句,解释一下，这个rpm还不是mysql的安装文件，只是两个yum源文件，执行后，在/etc/yum.repos.d/ 这个目录下多出mysql-community-source.repo和mysql-community.repo# rpm -ivh mysql-community-release-el6-5.noarch.rpm</p> 
 <p>这个时候，可以用yum repolist mysql这个命令查看一下是否已经有mysql可安装文件#yum repolist all | grep mysql</p> 
 <p>安装mysql 服务器命令(一路yes)：# yum install mysql-community-server</p> 
 <p>安装成功后# service mysqld start</p> 
 <p>由于mysql刚刚安装完的时候，mysql的root用户的密码默认是空的，所以我们需要及时用mysql的root用户登录(第一次回车键，不用输入密码)，并修改密码# mysql -u root# use mysql;# update user set password=PASSWORD("这里输入root用户密码") where User='root';# flush privileges;</p> 
 <p>查看mysql是否自启动,并且设置开启自启动命令# chkconfig --list | grep mysqld# chkconfig mysqld on</p> 
 <p>mysql安全设置(系统会一路问你几个问题，看不懂复制之后翻译，基本上一路yes)：# mysql_secure_installation</p> 
 <p>以下是讲解授权远程登录，以Navicat工具为主[root@MiWiFi-R1CL-srv ~]# mysql -u root -pEnter password: ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES)[root@MiWiFi-R1CL-srv ~]# mysql -u root -pEnter password: Welcome to the MySQL monitor. Commands end with ; or \g.Your MySQL connection id is 3Server version: 5.6.40 MySQL Community Server (GPL)Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.</p> 
 <p>使用mysql数据库(真正的数据库，而非数据库软件)，将所有数据库的所有表(.)的所有权限(all privileges)，授予通过任何ip(%)访问的root用户，密码为123456，最后刷新(flush privileges)即可。</p> 
 <p>开放防火墙端口：</p> 
 <p>通过vim修改/etc/sysconfig/iptables，添加一行(这里是为了简单添加一行，更多防火墙知识请自行学习)：</p> 
 <p align="center"><img src="https://images2.imgbox.com/ac/fd/iLMvgIVq_o.png" alt="eb0d6710f57f549d27c87ff9fdd02aef.png"></p> 
 <p>重启防火墙：</p> 
 <p align="center"><img src="https://images2.imgbox.com/ba/77/10LJ3ZPY_o.png" alt="bb1abaf30bfb8b6c70495ee1f8517dd8.png"></p> 
 <p>在windows下，我用 navicat测试：</p> 
 <p align="center"><img src="https://images2.imgbox.com/a7/c8/EV4IFKCi_o.png" alt="b38ad0fcaeaacdf07cf45bd3d612d0f9.png"></p> 
 <p>远程连接成功。以上就是LAMP服务配置的详细信息。</p> 
 <p>更多相关资料请访问PHP中文网：linux视频教程</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/68bc0d297ff2ccde8f8b1a149c021a10/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ajax中加入if,如何添加if语句到Ajax</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3bb371a86d06f2f292521d2284802793/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ajax post 空格变加号,Ajax Post数据加号变空格详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>