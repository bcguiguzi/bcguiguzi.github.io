<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【C语言】产生一个随机数的方法的详解 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【C语言】产生一个随机数的方法的详解" />
<meta property="og:description" content="目录
rand()函数 RAND_MAX的解释
srand函数
time函数
time_t解析
小结：
具体实现代码：
在我们的日常敲代码的时候，偶尔会需要使用到产生一个随机数。
但是我们应该如何去生成一个随机数呢？
********在文章最后有随机数生成的具体代码，一个猜数字游戏。
rand()函数 其实，C的库函数中已经定义好了一个取随机数的函数。
那就是 int rand(void) 这个函数。
下面就是官方的解释：
我们从上往下看。
发现右上角有一个&lt;cstdlib&gt;这个符号，其实，这个就是在使用这个函数时需要引用的头文件。
不过这个是C&#43;&#43;使用时的语法，在C中，引用的头文件为&lt;stdlib.h&gt;就行。
接下来，我们呢就看到了这一段。
RAND_MAX的解释 那么RAND_MAX是什么呢？
这里我们可以看到，其实RAND_MAX也就是一个数字，不过它是库函数中定义好了的一个常量
也就是32767，并且在使用它的时候也需要调用&lt;cstdlib&gt;这个头文件。
噢，那我们就知道了，那生成一个随机数还确实蛮方便，只要引用下头文件，然后使用rand函数就行了。真的是这样的么？
但我们还没看完这个解释。
我们接着往下看，就可以看到这一句话了。
srand函数 没想到了，我们在使用rand函数之前还必须得先使用srand这个函数。
那好吧，我们接着来看看srand这个函数了。
从文档中我们可以知道，srand函数的声明是：
void srand(unsigned int seed )
说明这个函数是没有返回值的，调用就行，它的参数是一个无符号整形。
并且在它的右上角也有一个&lt;cstdlib&gt;，那么它和rand函数一样，也需要引用&lt;stdlib.h&gt;这个头文件了
关键，就是下面这一句让人摸不着头脑了。
就是这句话：
其实看起来这么长的一段话，大概意思就是：
你想使用我这个srand函数，得先在我的参数里传一个随机数进来。
我们最原本就是想要产生一个随机数，到了你这里你却找我要随机数。
那我调用你干什么？
time函数 这里，又得使用到库函数中当中的另一个函数了，也就是time函数。
其实也就是一个时间戳，它就是一个一直在变化的数字。
时间戳是指格林威治时间1970年01月01日00时00分00秒(北京时间1970年01月01日08时00分00秒)起至现在的总秒数。
这个函数的类型是time_t类型的，并且它的右上角有个&lt;ctime&gt;
在C中它需要引用的头文件也就是&lt;time.h&gt;这个头文件了。
它的返回值time_t也就是上面说到的时间戳了。
接着，我们看到这一段话：
具体意思就是：
这个函数将会返回一个时间戳。而且它里面的参数你可以也传一个时间戳函数进去，也可以啥都不传，只需要传一个NULL空指针就行。
注：最后，因为传回来的是一个时间戳，一般是一个很大的数字，如果你想产生一个指定范围内的数，可以利用 &#39;%&#39; 符号来实现。
如下：
小结： 在上面说了这么多，我们来简单总结一下，如何来使用rand函数来产生随机数。
需要使用到的函数：srand函数和time函数
需要引用的头文件：&lt;stdlib.h&gt;和&lt;time.h&gt;
最后，具体代码的实现： #define _CRT_SECURE_NO_WARNINGS #include &lt;stdio.h&gt; #include &lt;stdlib." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/d1f50b7ecb362df45b387b371e7cf3d3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-12T11:05:49+08:00" />
<meta property="article:modified_time" content="2023-03-12T11:05:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【C语言】产生一个随机数的方法的详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:0px;"></p> 
<p id="rand()%E5%87%BD%E6%95%B0-toc" style="margin-left:0px;"><a href="#rand%28%29%E5%87%BD%E6%95%B0" rel="nofollow">rand()函数</a><a href="#%C2%A0RAND_MAX" rel="nofollow"> </a></p> 
<p style="margin-left:40px;"></p> 
<p style="margin-left:40px;"><a href="#%C2%A0RAND_MAX" rel="nofollow">RAND_MAX的解释</a></p> 
<p style="margin-left:0px;"></p> 
<p id="srand%E5%87%BD%E6%95%B0-toc" style="margin-left:0px;"><a href="#srand%E5%87%BD%E6%95%B0" rel="nofollow">srand函数</a></p> 
<p style="margin-left:0px;"></p> 
<p style="margin-left:0px;"><a href="#time%E5%87%BD%E6%95%B0" rel="nofollow">time函数</a></p> 
<p style="margin-left:0px;">      <span style="color:#6eaad7;">   </span></p> 
<p style="margin-left:0px;"><span style="color:#6eaad7;">         time_t解析</span></p> 
<p style="margin-left:0px;"></p> 
<p id="%E5%B0%8F%E7%BB%93%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E5%B0%8F%E7%BB%93%EF%BC%9A" rel="nofollow">小结：</a></p> 
<p style="margin-left:0px;"></p> 
<p style="margin-left:0px;"><span style="color:#6eaad7;">具体实现代码：</span></p> 
<p style="margin-left:0px;"></p> 
<hr id="hr-toc"> 
<p></p> 
<p></p> 
<p><strong>在我们的日常敲代码的时候，偶尔会需要使用到产生一个随机数。</strong></p> 
<p><strong>但是我们应该如何去生成一个随机数呢？</strong></p> 
<p></p> 
<p><span style="color:#be191c;"><strong>********在文章最后有随机数生成的具体代码，一个猜数字游戏。</strong></span></p> 
<h3></h3> 
<h2 id="rand()%E5%87%BD%E6%95%B0">rand()函数</h2> 
<p><strong>其实，C的库函数中已经定义好了一个取随机数的函数。</strong></p> 
<p></p> 
<p></p> 
<p>那就是<strong> <span style="color:#fe2c24;">int  rand(void)</span> </strong>这个函数。</p> 
<p></p> 
<p><strong>下面就是官方的解释：</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/b5/69/qWk2XLer_o.png"></strong></p> 
<p> 我们从上往下看。</p> 
<p></p> 
<p><span style="color:#ed7976;">发现右上角有一个<strong>&lt;cstdlib&gt;</strong>这个符号，其实，这个就是在使用这个<strong>函数时需要引用的头文件。</strong></span></p> 
<p><span style="color:#ed7976;">不过这个是<strong>C++</strong>使用时的语法，在<strong>C</strong>中，引用的头文件为<strong>&lt;stdlib.h&gt;</strong>就行。</span></p> 
<p></p> 
<p></p> 
<p>接下来，我们呢就看到了这一段。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/09/4a/uOtuNGIU_o.png"></p> 
<h3></h3> 
<h3 id="%C2%A0RAND_MAX">RAND_MAX的解释</h3> 
<p></p> 
<p><strong>       那么RAND_MAX是什么呢？</strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/1d/b5/G7UBRgF0_o.png"></p> 
<p></p> 
<p><span style="background-color:#ed7976;"> 这里我们可以看到，其实</span><strong><span style="background-color:#ed7976;">RAND_MAX</span></strong><span style="background-color:#ed7976;">也就是一个</span><strong><span style="background-color:#ed7976;">数字</span></strong><span style="background-color:#ed7976;">，不过它是库函数中定义好了的一个常量</span></p> 
<p><span style="background-color:#ed7976;">也就是</span><strong><span style="color:#be191c;"><span style="background-color:#ed7976;">32767</span></span></strong><span style="background-color:#ed7976;">，并且在使用它的时候也需要调用</span><strong><span style="background-color:#ed7976;">&lt;cstdlib&gt;</span></strong><span style="background-color:#ed7976;">这个头文件。</span></p> 
<p></p> 
<p></p> 
<p><strong>噢，那我们就知道了，那生成一个随机数还确实蛮方便，只要引用下头文件，然后使用rand函数就行了。真的是这样的么？</strong></p> 
<p></p> 
<p></p> 
<p>但我们还没看完这个解释。</p> 
<p><strong>我们接着往下看，就可以看到这一句话了。</strong></p> 
<h3></h3> 
<h2 id="srand%E5%87%BD%E6%95%B0"><strong>srand函数</strong></h2> 
<h2 id="%E2%80%8B%E7%BC%96%E8%BE%91" style="text-align:center;"><img alt="" src="https://images2.imgbox.com/1c/dd/1x4qPRWV_o.png"></h2> 
<p></p> 
<p> 没想到了，我们在使用rand函数之前还必须得先使用<strong>srand这个函数。</strong></p> 
<p></p> 
<p><strong>那好吧，我们接着来看看srand这个函数了。</strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/77/d3/szfJ8e6d_o.png"></p> 
<p> 从文档中我们可以知道，srand函数的声明是：</p> 
<p></p> 
<p><strong>void srand(unsigned int seed )</strong></p> 
<p></p> 
<p><strong><span style="background-color:#ed7976;">说明这个函数是没有返回值的，调用就行，它的参数是一个无符号整形。</span></strong></p> 
<p><span style="background-color:#ed7976;">并且在它的右上角也有一个</span><strong><span style="background-color:#ed7976;">&lt;cstdlib&gt;</span></strong><span style="background-color:#ed7976;">，那么它和</span><strong><span style="background-color:#ed7976;">rand函数一样，也需要引用&lt;stdlib.h&gt;</span></strong><span style="background-color:#ed7976;">这个头文件了</span></p> 
<p></p> 
<p></p> 
<p><strong>关键，就是下面这一句让人摸不着头脑了。</strong></p> 
<p><strong>就是这句话：</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/c5/ac/0NPv3lAR_o.png"></strong></p> 
<p> 其实看起来这么长的一段话，大概意思就是：</p> 
<p><strong><span style="background-color:#faa572;">你想使用我这个srand函数，得先在我的参数里传一个随机数进来。</span></strong></p> 
<p></p> 
<p><strong>我们最原本就是想要产生一个随机数，到了你这里你却找我要随机数。</strong></p> 
<p><strong>那我调用你干什么？</strong></p> 
<p></p> 
<h3 id="time%E5%87%BD%E6%95%B0">time函数</h3> 
<p>这里，又得使用到库函数中当中的另一个函数了，<strong>也就是time函数。</strong></p> 
<p><strong>其实也就是一个<span style="color:#be191c;">时间戳，它就是一个一直在变化的数字。</span></strong></p> 
<p><span style="background-color:#4da8ee;">时间戳是指格林威治时间1970年01月01日00时00分00秒(北京时间1970年01月01日08时00分00秒)起至现在的总秒数。</span></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/4c/22/pge0X8CO_o.png"></strong></p> 
<p> 这个函数的类型是<strong>time_t</strong>类型的，并且它的右上角有个<strong>&lt;ctime&gt;</strong></p> 
<p></p> 
<p></p> 
<p><strong>在C中它需要引用的头文件也就是&lt;time.h&gt;这个头文件了。</strong></p> 
<p><strong>它的返回值time_t也就是上面说到的<span style="color:#be191c;">时间戳</span>了。</strong></p> 
<p></p> 
<p>接着，我们看到这一段话：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/28/95/0b2puhWX_o.png"></p> 
<p></p> 
<p> 具体意思就是：</p> 
<p><strong><span style="color:#ad720d;">这个函数将会返回一个时间戳。而且它里面的参数你可以也传一个时间戳函数进去，也可以啥都不传，只需要传一个NULL空指针就行。</span></strong></p> 
<p></p> 
<p><strong><span style="color:#ad720d;">注：最后，因为传回来的是一个时间戳，一般是一个很大的数字，如果你想产生一个指定范围内的数，可以利用 '%' 符号来实现。</span></strong></p> 
<p>如下：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/4a/67/n9tuiU2e_o.png"></p> 
<hr> 
<p> </p> 
<p> </p> 
<h2 id="%E5%B0%8F%E7%BB%93%EF%BC%9A">小结：</h2> 
<p><strong>在上面说了这么多，我们来简单总结一下，如何来使用rand函数来产生随机数。</strong></p> 
<p><span style="color:#1c7892;">需要使用到的函数：srand函数和time函数</span></p> 
<p><span style="color:#1c7892;">需要引用的头文件：&lt;stdlib.h&gt;和&lt;time.h&gt;</span></p> 
<p></p> 
<p></p> 
<h4>最后，具体代码的实现：</h4> 
<pre><code class="language-cpp">#define _CRT_SECURE_NO_WARNINGS
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;


int main() {

	srand((unsigned int)time(NULL));

	int guess = 0;
	int rand_num = 0;
	rand_num = rand() % 100 + 1;//随机产生一个1~100之间的数字。

	printf("%d", rand_num);
	do{

		printf("请输入一个1~100之间的数字\n");
		scanf("%d", &amp;guess);

		if (guess &gt; rand_num) {
			printf("猜大了！\n");
		}
		else if (guess &lt; rand_num) {
			printf("猜小了！\n");
		}
		else {
			printf("恭喜你，猜对了\n");
			break;
		}
	
	} while (guess);





	return 0;
}</code></pre> 
<p><strong> 代码实现效果：</strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/32/cc/4sRnfi8B_o.png"></p> 
<p><strong> 到这里，就写完了。</strong> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f7c08c7e5dc4775d378d14fef942758e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">2023荣耀校招机试（java&amp;python&amp;C&#43;&#43;）饭店楼层公共子序列</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a1119754b647ef363686e4c15593d2e3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">关于 ChatGPT 必看论文推荐【附论文链接】</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>