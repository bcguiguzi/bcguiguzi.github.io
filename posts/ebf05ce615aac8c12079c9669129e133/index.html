<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Android】UI设计师给的px尺寸单位，安卓如何换算成dp? - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Android】UI设计师给的px尺寸单位，安卓如何换算成dp?" />
<meta property="og:description" content="很多UI工程师为了适配iOS，常常拿iOS手机作用参考模型，设计出来的UI稿只有PX标注的。他们也不懂Android的dp和sp单位是怎么回事。这个时候我们Android工程师如果不注意怎么转换的话，就可能开发出很难看的界面。
那么如何才能正确的将UI稿的上的px转换成android的dp单位呢？这个取决于UI设计师的设计稿基于什么设备。
一般安卓开发者只要适配一款主流设备，比如Nexus5、Pixel 3，其它大部分手机都可以适配。如果要精确适配，就要针对不同分辨率进行单独适配。为了简单起见，我们只需要适配主流设备就可以了。
首先，我们要知道UI设计师的设计稿是基于什么设备设计的。知道了什么设备，这个设备的dpi也就知道了。那么px与dp之间换算就很简单：px=(dpi/160)dp。公式变形：dp=px*160/dpi
要注意的是这个公式中dpi并不是我们自己计算出来的(屏幕对角线的相素数除以对角线长度)，而是手机厂家ROM中设置density(density=dpi/160)，android通过java代码可以直接获取：
//以下是获取density，density=densityDpi/160 context.getResources().getDisplayMetrics().density; //以下是获取densityDpi,就是我们常说的dpi：像素密度 context.getResources().getDisplayMetrics().densityDpi; 而实际情况下，设计师常常并没有针对安卓设备单独做一套设计稿，而是选择了iphone手机作为参考机型。他们以为适配了IOS就等于适配了安卓。标注尺寸单位都是px。设计帅常常拿iphone6(s)或者是iphone6(s) plus作为参考机型，一个4.7寸一个5.5寸。比如是4.7英寸的iphone6，它的分辨率是1334x750(dpi是326)，而安卓设备最接近这个数值的分辨率是1280*720，对应这个分辨率的dpi一般是320，跟iphone 6(s)很接近，那么UI使用的iphone6(s)设计稿就对应安卓1280x720(dpi是320)的设备，所以我们就用320这个dpi进行换算。再比如是5.5英寸的iphone6 plus，它的分辨率是1920x1080(dpi是480)，而安卓设备刚好也有很多同等的分辨率，对应这个分辨率的dpi一般是480，而iphone6 plus的dpi也是480，所以我们用480的dpi进行换算。
举个例子，设计师基于iphone6的设计稿标注20px，换算成dp就是20*160/320=20*(1/2)=20/2=10，也就是除以2得到dp。如果设计师基于iphone6 plus的设计稿标注120px，那么dp就是120*160/480=120*(1/3)=120/3=40，也就是除以3得到dp。
那么如何知道设计稿是基于什么设备设计的呢？一般我们看UI稿的尺寸就可以推测出它的参考机型，比如UI稿的尺寸是1334x750，那肯定是iphone6(s)一类的机型，如果是1920x1080，那就是iphone6(s) plus一类的机型。如果UI稿的尺寸匹配不到一款主流的机型，那就是UI设计师不合格啦！
还有一种方法，程序员不需换算，UI设计师可以直接在设计工具中将px单位转换成dp单位，标注图上显示的就是dp单位，比如PxCook这个工具已经支持这个功能。
以上是一般性的适配方法，如果厂商生产的手机很奇葩，比如1280*720的分辨率dpi不是320，而是相差很大，比如是400，那么Android开发者就需要进行单独适配了。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/ebf05ce615aac8c12079c9669129e133/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-11-05T09:19:27+08:00" />
<meta property="article:modified_time" content="2018-11-05T09:19:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Android】UI设计师给的px尺寸单位，安卓如何换算成dp?</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>很多UI工程师为了适配iOS，常常拿iOS手机作用参考模型，设计出来的UI稿只有PX标注的。他们也不懂Android的dp和sp单位是怎么回事。这个时候我们Android工程师如果不注意怎么转换的话，就可能开发出很难看的界面。</p> 
<p>那么如何才能正确的将UI稿的上的px转换成android的dp单位呢？这个取决于UI设计师的设计稿基于什么设备。</p> 
<p>一般安卓开发者只要适配一款主流设备，比如Nexus5、Pixel 3，其它大部分手机都可以适配。如果要精确适配，就要针对不同分辨率进行单独适配。为了简单起见，我们只需要适配主流设备就可以了。</p> 
<p>首先，我们要知道UI设计师的设计稿是基于什么设备设计的。知道了什么设备，这个设备的dpi也就知道了。那么px与dp之间换算就很简单：px=(dpi/160)dp。公式变形：<strong>dp=px*160/dpi</strong></p> 
<p>要注意的是这个公式中dpi并不是我们自己计算出来的(屏幕对角线的相素数除以对角线长度)，而是手机厂家ROM中设置density(density=dpi/160)，android通过java代码可以直接获取：</p> 
<pre><code class="prism language-java"><span class="token comment">//以下是获取density，density=densityDpi/160</span>
 context<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDisplayMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>density<span class="token punctuation">;</span>
<span class="token comment">//以下是获取densityDpi,就是我们常说的dpi：像素密度</span>
 context<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDisplayMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>densityDpi<span class="token punctuation">;</span>
</code></pre> 
<p>而实际情况下，设计师常常并没有针对安卓设备单独做一套设计稿，而是选择了iphone手机作为参考机型。他们以为适配了IOS就等于适配了安卓。标注尺寸单位都是px。设计帅常常拿iphone6(s)或者是iphone6(s) plus作为参考机型，一个4.7寸一个5.5寸。比如是4.7英寸的iphone6，它的分辨率是1334x750(dpi是326)，而安卓设备最接近这个数值的分辨率是1280*720，对应这个分辨率的dpi一般是320，跟iphone 6(s)很接近，那么UI使用的iphone6(s)设计稿就对应安卓1280x720(dpi是320)的设备，所以我们就用320这个dpi进行换算。再比如是5.5英寸的iphone6 plus，它的分辨率是1920x1080(dpi是480)，而安卓设备刚好也有很多同等的分辨率，对应这个分辨率的dpi一般是480，而iphone6 plus的dpi也是480，所以我们用480的dpi进行换算。</p> 
<p>举个例子，设计师基于iphone6的设计稿标注20px，换算成dp就是20*160/320=20*(1/2)=20/2=10，<strong>也就是除以2得到dp</strong>。如果设计师基于iphone6 plus的设计稿标注120px，那么dp就是120*160/480=120*(1/3)=120/3=40，<strong>也就是除以3得到dp</strong>。</p> 
<p>那么如何知道设计稿是基于什么设备设计的呢？一般我们看UI稿的尺寸就可以推测出它的参考机型，比如UI稿的尺寸是1334x750，那肯定是iphone6(s)一类的机型，如果是1920x1080，那就是iphone6(s) plus一类的机型。如果UI稿的尺寸匹配不到一款主流的机型，那就是UI设计师不合格啦！</p> 
<p>还有一种方法，程序员不需换算，UI设计师可以直接在设计工具中将px单位转换成dp单位，标注图上显示的就是dp单位，比如PxCook这个工具已经支持这个功能。</p> 
<p>以上是一般性的适配方法，如果厂商生产的手机很奇葩，比如1280*720的分辨率dpi不是320，而是相差很大，比如是400，那么Android开发者就需要进行单独适配了。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5fb72ae7f87b7341ebf571a0e34db86c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">matplotlib绘制平滑的曲线</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/78302a962d52873b199c385117197ca1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ICPC2018 青岛站 赛后总结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>