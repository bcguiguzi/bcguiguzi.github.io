<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Lidar_imu自动标定 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Lidar_imu自动标定" />
<meta property="og:description" content="系统版本：Ubuntu20.04
ROS版本：Noetic
前提条件，安装以下内容：
Cmakeopencv 2.4eigen 3PCL 1.9Pangolin 执行以下命令，进行软件的编译：
这里给出程序的链接，自行下载：
SensorsCalibration/lidar2imu/auto_calib at master · PJLab-ADG/SensorsCalibration · GitHubOpenCalib: A Multi-sensor Calibration Toolbox for Autonomous Driving - SensorsCalibration/lidar2imu/auto_calib at master · PJLab-ADG/SensorsCalibrationhttps://github.com/PJLab-ADG/SensorsCalibration/tree/master/lidar2imu/auto_calib下载成功后，执行以下命令：
cd ~/auto_lib # mkdir build mkdir -p build &amp;&amp; cd build # build cmake .. &amp;&amp; make 小技巧：根据自己电脑的线程可选择编译的速度 ，make时可选择
make make -j4 make -j12
当自己进行编译时，出现以下错误：
第一个错误：
解决方法：
需要找到报错对应功能包，在功能包的CMakeList.txt文档里加入下面语句：
set(CMAKE_CXX_STANDARD 14)
第二个错误：
解决方法：
首先检查一下有没有这个文件；如果有，则应该是文件路径不对，通过链接建立关系；如果没有，则下载该相关文件。
sudo apt-get install libjsoncpp-dev sudo ln -s /usr/include/jsoncpp/json/ /usr/include/json #include &lt;json/json." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/53ab78ed5d8cd31f7cb7203704152256/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-15T12:22:55+08:00" />
<meta property="article:modified_time" content="2022-08-15T12:22:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Lidar_imu自动标定</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>系统版本：Ubuntu20.04</p> 
<p>ROS版本：Noetic</p> 
<p>前提条件，安装以下内容：</p> 
<ul><li>Cmake</li><li>opencv 2.4</li><li>eigen 3</li><li>PCL 1.9</li><li>Pangolin</li></ul> 
<p>执行以下命令，进行软件的编译：</p> 
<p>这里给出程序的链接，自行下载：</p> 
<p><a class="has-card" href="https://github.com/PJLab-ADG/SensorsCalibration/tree/master/lidar2imu/auto_calib" title="SensorsCalibration/lidar2imu/auto_calib at master · PJLab-ADG/SensorsCalibration · GitHub"><span class="link-card-box"><span class="link-title">SensorsCalibration/lidar2imu/auto_calib at master · PJLab-ADG/SensorsCalibration · GitHub</span><span class="link-desc">OpenCalib: A Multi-sensor Calibration Toolbox for Autonomous Driving - SensorsCalibration/lidar2imu/auto_calib at master · PJLab-ADG/SensorsCalibration</span><span class="link-link"><img alt="" class="link-link-icon" src="https://images2.imgbox.com/aa/e3/nsHtZqFI_o.png">https://github.com/PJLab-ADG/SensorsCalibration/tree/master/lidar2imu/auto_calib</span></span></a>下载成功后，执行以下命令：</p> 
<pre><code>cd ~/auto_lib
# mkdir build
mkdir -p build &amp;&amp; cd build
# build
cmake .. &amp;&amp; make</code></pre> 
<p>小技巧：根据自己电脑的线程可选择编译的速度 ，make时可选择</p> 
<p>make make -j4 make -j12</p> 
<p>当自己进行编译时，出现以下错误：</p> 
<p>第一个错误：</p> 
<p style="text-align:center;"><img src="https://images2.imgbox.com/8a/2a/G9ok2D1n_o.png" alt="4341f10e2d774a1a99290c5a53ff7220.png"></p> 
<p> 解决方法：</p> 
<p>需要找到报错对应功能包，在功能包的CMakeList.txt文档里加入下面语句：<br> set(CMAKE_CXX_STANDARD 14)</p> 
<p>第二个错误：</p> 
<p style="text-align:center;"><img src="https://images2.imgbox.com/f2/04/cxtmK0E3_o.png" alt="b09427791be7485f8ce873a7101cb94e.png"></p> 
<p>解决方法：</p> 
<p>首先检查一下有没有这个文件；如果有，则应该是文件路径不对，通过链接建立关系；如果没有，则下载该相关文件。</p> 
<pre><code>sudo apt-get install libjsoncpp-dev
sudo ln -s /usr/include/jsoncpp/json/ /usr/include/json</code></pre> 
<p><br> #include &lt;json/json.h&gt;代表/usr/include/json/json.h。include就是/usr/include/文件夹</p> 
<p>解决上述两个问题后，编译成功，如下图所示。</p> 
<p style="text-align:center;"><img src="https://images2.imgbox.com/e3/4f/eW5PPZVx_o.png" alt="385f3ffef31f4e60b0d7cda5f7c812aa.png"></p> 
<p> 然后就可以运行程序，需注意在运行程序前须将数据集换为官方提供的数据集。</p> 
<p>官方提供的数据集百度网盘链接：</p> 
<p>Link (链接): https://pan.baidu.com/s/1AODTuqhmgwbRWxGGCmo0iA<br> Extraction code (提取码): 94id</p> 
<p>然后执行命令：</p> 
<pre><code>cd ~./auto_calib/
./bin/run_lidar2imu data/top_center_lidar/ data/NovAtel-pose-lidar-time.txt data/gnss-to-top_center_lidar-extrinsic.json</code></pre> 
<p>就可以得到lidar和imu间的外参变化：</p> 
<p style="text-align:center;"><img src="https://images2.imgbox.com/fe/29/6VUKt2bS_o.png" alt="de8872cddd5a4b89b307911c5311e340.png"></p> 
<p> 在运行过程中，我们可以看到迭代了34次，并将得到的结果放在auto_calib目录下的refined_calib_imu_to_lidar.txt文件中。</p> 
<p>文件的内容如下：</p> 
<blockquote> 
 <p>refined calib:<br> R: 0.0043972 0.999914 0.0124048 -0.999829 0.00417381 0.0179774 0.0179241 -0.0124817 0.999761<br> t: -1.20788 -0.0180692 -1.37356<br> deltaTrans:<br>     0.999988   0.00380849  -0.00308101  -0.00422593<br>  -0.00381098     0.999992 -0.000801757  -0.00940856<br>   0.00307793  0.000813489     0.999995            0<br>            0            0            0            1<br> delta roll, pitch, yaw, tx, ty, tz:<br> 0.000807626 -0.00307948 -0.00380975 -0.00422593 -0.00940856 0<br> delta roll, pitch, yaw, tx, ty, tz from begin:<br> 1.0008 -0.00688495 -0.000581471 -0.00422593 -0.00560535 0.999993</p> 
</blockquote> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/be797158f09781e20b215028a99e5171/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java中的四种引用详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1cbb965950a0a97103cbafb2214fc0c3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">VUE页面表格数据多卡顿用虚拟表单</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>