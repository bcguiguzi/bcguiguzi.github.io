<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>wordpress常用代替插件的代码 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="wordpress常用代替插件的代码" />
<meta property="og:description" content="wordpress常用代替插件的代码 1:WordPress搭建内部链接，不需要插件，随机文章函数 &lt;?php $rand_posts = get_posts(&#39;numberposts=10&amp;orderby=rand&#39;);foreach($rand_posts as $post) : ?&gt;
&lt;li&gt;&lt;a href=&#34;&lt;?php the_permalink(); ?&gt;&#34;&gt;&lt;?php the_title(); ?&gt;&lt;/a&gt;&lt;/li&gt;
&lt;?php endforeach;?&gt;
这里的数字10是随机显示10条随机的文章
2:Wordpress面包屑导航代码 1.在wordpress博客当前主题的php文件（没有就创建一个）中添加以下代码：
function get_breadcrumbs()
{
global $wp_query;
if ( !is_home() )
{
// Start the UL
echo &#39;&lt;ul class=&#34;breadcrumbs&#34;&gt;&#39;;
// Add the Home link
echo &#39;&lt;li&gt;&lt;a href=&#34;&#39;. get_settings(&#39;home&#39;) .&#39;&#34;&gt;&#39;. get_bloginfo(&#39;name&#39;) .&#39;&lt;/a&gt;&lt;/li&gt;&#39;;
if ( is_category() )
{
$catTitle = single_cat_title( &#34;&#34;, false );
$cat = get_cat_ID( $catTitle );
echo &#34;&lt;li&gt; &gt; &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/0719f0aaec5017873b03b73d65d700c8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-15T15:07:24+08:00" />
<meta property="article:modified_time" content="2024-03-15T15:07:24+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">wordpress常用代替插件的代码</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 style="margin-left:0pt;text-align:center;"><strong>wordpress常用代替插件的代码</strong></h2> 
<h3 style="text-align:justify;"><strong>1:</strong><strong>WordPress搭建内部链接，不需要插件，随机文章函数</strong></h3> 
<p style="margin-left:.0001pt;text-align:left;">&lt;?php $rand_posts = get_posts('numberposts=10&amp;orderby=rand');foreach($rand_posts as $post) : ?&gt;<br>   &lt;li&gt;&lt;a href="&lt;?php the_permalink(); ?&gt;"&gt;&lt;?php the_title(); ?&gt;&lt;/a&gt;&lt;/li&gt;<br> &lt;?php endforeach;?&gt;<br> 这里的数字10是随机显示10条随机的文章</p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<h3 style="text-align:justify;"><strong>2:</strong><strong>Wordpress面包屑导航代码</strong></h3> 
<p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#ff0000;"><strong>1.</strong></span></strong><strong><span style="color:#ff0000;"><strong>在wordpress博客当前主题的php文件（没有就创建一个）中添加以下代码：</strong></span></strong><br><br><span style="color:#000000;">function get_breadcrumbs()</span><br><span style="color:#000000;">{<!-- --></span><br><span style="color:#000000;">    global $wp_query;</span><br><span style="color:#000000;">    if ( !is_home() )</span><br><span style="color:#000000;">    {<!-- --></span><br><span style="color:#000000;">        // Start the UL</span><br><span style="color:#000000;">        echo '&lt;ul class="breadcrumbs"&gt;';</span><br><span style="color:#000000;">        // Add the Home link</span><br><span style="color:#000000;">        echo '&lt;li&gt;&lt;a href="'. get_settings('home') .'"&gt;'. get_bloginfo('name') .'&lt;/a&gt;&lt;/li&gt;';</span><br><span style="color:#000000;">        if ( is_category() )</span><br><span style="color:#000000;">        {<!-- --></span><br><span style="color:#000000;">            $catTitle = single_cat_title( "", false );</span><br><span style="color:#000000;">            $cat = get_cat_ID( $catTitle );</span><br><span style="color:#000000;">            echo "&lt;li&gt; &gt; ". get_category_parents( $cat, TRUE, " &gt; " ) ."&lt;/li&gt;";</span><br><span style="color:#000000;">        }</span><br><span style="color:#000000;">        elseif ( is_archive() &amp;&amp; !is_category() )</span><br><span style="color:#000000;">        {<!-- --></span><br><span style="color:#000000;">            echo "&lt;li&gt; &gt; Archives&lt;/li&gt;";</span><br><span style="color:#000000;">        }</span><br><span style="color:#000000;">        elseif ( is_search() )</span><br><span style="color:#000000;">        {<!-- --></span><br><span style="color:#000000;">            echo "&lt;li&gt; &gt; Search Results&lt;/li&gt;";</span><br><span style="color:#000000;">        }</span><br><span style="color:#000000;">        elseif ( is_404() )</span><br><span style="color:#000000;">        {<!-- --></span><br><span style="color:#000000;">            echo "&lt;li&gt; &gt; 404 Not Found&lt;/li&gt;";</span><br><span style="color:#000000;">        }</span><br><span style="color:#000000;">        elseif ( is_single() )</span><br><span style="color:#000000;">        {<!-- --></span><br><span style="color:#000000;">            $category = get_the_category();</span><br><span style="color:#000000;">            $category_id = get_cat_ID( $category[0]-&gt;cat_name );</span><br><span style="color:#000000;">            echo '&lt;li&gt; &gt; '. get_category_parents( $category_id, TRUE, " &gt; " );</span><br><span style="color:#000000;">            echo the_title('', '', FALSE) ."&lt;/li&gt;";</span><br><span style="color:#000000;">        }</span><br><span style="color:#000000;">        elseif ( is_page() )</span><br><span style="color:#000000;">        {<!-- --></span><br><span style="color:#000000;">            $post = $wp_query-&gt;get_queried_object();</span><br><span style="color:#000000;">            if ( $post-&gt;post_parent == 0 )</span><br><span style="color:#000000;">            {<!-- --></span><br><span style="color:#000000;">                echo "&lt;li&gt; &gt; ".the_title('', '', FALSE)."&lt;/li&gt;";</span><br><span style="color:#000000;">            }</span><br><span style="color:#000000;">            else</span><br><span style="color:#000000;">            {<!-- --></span><br><span style="color:#000000;">                $title = the_title('', '', FALSE);</span><br><span style="color:#000000;">                $ancestors = array_reverse( get_post_ancestors( $post-&gt;ID ) );</span><br><span style="color:#000000;">                array_push($ancestors, $post-&gt;ID);</span><br><span style="color:#000000;">                foreach ( $ancestors as $ancestor )</span><br><span style="color:#000000;">                {<!-- --></span><br><span style="color:#000000;">                    if( $ancestor != end($ancestors) )</span><br><span style="color:#000000;">                    {<!-- --></span><br><span style="color:#000000;">                        echo '&lt;li&gt; &gt; &lt;a href="'. get_permalink($ancestor) .'"&gt;'. strip_tags( apply_filters( 'single_post_title', get_the_title( $ancestor ) ) ) .'&lt;/a&gt;&lt;/li&gt;';</span><br><span style="color:#000000;">                    }</span><br><span style="color:#000000;">                    else</span><br><span style="color:#000000;">                    {<!-- --></span><br><span style="color:#000000;">                        echo '&lt;li&gt; &gt; '. strip_tags( apply_filters( 'single_post_title', get_the_title( $ancestor ) ) ) .'&lt;/li&gt;';</span><br><span style="color:#000000;">                    }</span><br><span style="color:#000000;">                }</span><br><span style="color:#000000;">            }</span><br><span style="color:#000000;">        }</span><br><span style="color:#000000;">        // End the UL</span><br><span style="color:#000000;">        echo "&lt;/ul&gt;";</span><br><span style="color:#000000;">    }</span><br><span style="color:#000000;">}</span><br><br><strong><span style="color:#ff0000;"><strong>2.在显示面包屑导航的位置添加以下调用代码</strong></span></strong><br><br><span style="color:#000000;">&lt;? php</span><br><span style="color:#000000;">if (function_exists('get_breadcrumbs'))</span><br><span style="color:#000000;">{<!-- --></span><br><span style="color:#000000;">    get_breadcrumbs();</span><br><span style="color:#000000;">}</span><br><span style="color:#000000;">? &gt;</span><br><br><strong><span style="color:#ff0000;"><strong>3.在主题的css样式文件中添加以下样式代码</strong></span></strong><br><br><span style="color:#000000;">ul.breadcrumbs {list-style: none; font-size:12px;}</span><br><span style="color:#000000;">ul.breadcrumbs li {float: left; margin-right:5px;}</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<h3 style="text-align:justify;"><strong>3:</strong><strong>WordPress自动显示缩略图</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><span style="background-color:#ffffff;"><span style="color:#ff0000;"><strong>1</strong></span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#ff0000;"><strong>：找到使用的主题模板的functions.php文件在&lt;?php和?&gt;之间添加如下代码</strong></span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#ff0000;"><strong>:</strong></span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#a52a2a;">function</span></span> <strong><span style="background-color:#ffffff;"><span style="color:#000000;">thumb_img</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">($soContent){<!-- --></span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">$soImages = </span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">'~&lt;img [^\&gt;]*\ /&gt;~'</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">;</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><strong><span style="background-color:#ffffff;"><span style="color:#000000;">preg_match_all</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">( $soImages, $soContent, $thePics );</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">$allPics = </span></span><strong><span style="background-color:#ffffff;"><span style="color:#000000;">count</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">($thePics[</span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">0</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">]);</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#a52a2a;">if</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">( $allPics &gt; </span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">0</span></span><span style="background-color:#ffffff;"><span style="color:#000000;"> ){<!-- --></span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">echo </span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">"&lt;span id='thumb'&gt;"</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">;</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">echo $thePics[</span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">0</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">][</span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">0</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">];</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">echo </span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">'&lt;/span&gt;'</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">;</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">}</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#a52a2a;">else</span></span><span style="background-color:#ffffff;"><span style="color:#000000;"> {<!-- --></span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">echo </span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">"&lt;span id='thumb'&gt;"</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">;</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">echo </span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">"&lt;img src='"</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">;</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">echo </span></span><strong><span style="background-color:#ffffff;"><span style="color:#000000;">bloginfo</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">(</span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">'template_url'</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">);</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">echo </span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">"/images/thumb.gif'&gt;&lt;/span&gt;"</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">;</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">}</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">}</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><strong><span style="background-color:#ffffff;"><span style="color:#ff0000;"><strong>2:</strong></span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#ff0000;"><strong>找到index.php文件即首页文件，找到the_content();或相似的代码在它之前添加如下代码：</strong></span></span></strong></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><strong><span style="background-color:#ffffff;"><span style="color:#000000;">thumb_img</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">($post-&gt;post_content);</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><strong><span style="background-color:#ffffff;"><span style="color:#ff0000;"><strong>3:</strong></span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#ff0000;"><strong>添加缩略图样式CSS代码</strong></span></span></strong></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">#thumb{margin:5px 15px 5px 5px;width:145px;height:120px;border:3px solid #eee;float:left;overflow:hidden;}</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">#thumb img{max-height:186px;max-width:186px}</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h3 style="text-align:justify;"><strong>4:</strong><strong>实现wordpress文章页调用同分类上/下一篇文章</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><strong><span style="background-color:#ffffff;"><span style="color:#000000;">默认直接调用的代码</span></span></strong></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">&lt;?php </span></span><strong><span style="background-color:#ffffff;"><span style="color:#000000;">previous_post_link</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">(</span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">'上一篇: %link'</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">) ?&gt;</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">&lt;?php </span></span><strong><span style="background-color:#ffffff;"><span style="color:#000000;">next_post_link</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">(</span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">'下一篇: %link'</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">) ?&gt;</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><strong><span style="background-color:#ffffff;"><span style="color:#000000;"><strong>当文章处于首篇或末篇时，会显示空白，但可以通过增加判断还填补空白：</strong></span></span></strong></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">&lt;?php </span></span><span style="background-color:#ffffff;"><span style="color:#a52a2a;">if</span></span><span style="background-color:#ffffff;"><span style="color:#000000;"> (</span></span><strong><span style="background-color:#ffffff;"><span style="color:#000000;">get_previous_post</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">()) { </span></span><strong><span style="background-color:#ffffff;"><span style="color:#000000;">previous_post_link</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">(</span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">'上一篇: %link'</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">);} </span></span><span style="background-color:#ffffff;"><span style="color:#a52a2a;">else</span></span><span style="background-color:#ffffff;"><span style="color:#000000;"> {<!-- --></span></span><span style="background-color:#ffffff;"><span style="color:#a52a2a;">echo</span></span> <span style="background-color:#ffffff;"><span style="color:#ff00ff;">"已是最后文章"</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">;} ?&gt;</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">&lt;?php </span></span><span style="background-color:#ffffff;"><span style="color:#a52a2a;">if</span></span><span style="background-color:#ffffff;"><span style="color:#000000;"> (</span></span><strong><span style="background-color:#ffffff;"><span style="color:#000000;">get_next_post</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">()) { </span></span><strong><span style="background-color:#ffffff;"><span style="color:#000000;">next_post_link</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">(</span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">'下一篇: %link'</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">);} </span></span><span style="background-color:#ffffff;"><span style="color:#a52a2a;">else</span></span><span style="background-color:#ffffff;"><span style="color:#000000;"> {<!-- --></span></span><span style="background-color:#ffffff;"><span style="color:#a52a2a;">echo</span></span> <span style="background-color:#ffffff;"><span style="color:#ff00ff;">"已是最新文章"</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">;} ?&gt;</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><strong><span style="background-color:#ffffff;"><span style="color:#000000;"><strong>在get_previous_post()函数中指定一下文章所属分类ID便能使代码完全有效</strong></span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#000000;"><strong>:</strong></span></span></strong></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">&lt;?php</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#225f2d;">$categories</span></span><span style="background-color:#ffffff;"><span style="color:#000000;"> = </span></span><strong><span style="background-color:#ffffff;"><span style="color:#000000;">get_the_category</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">();</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">        <span style="background-color:#ffffff;"><span style="color:#225f2d;">$categoryIDS</span></span><span style="background-color:#ffffff;"><span style="color:#000000;"> = </span></span><span style="background-color:#ffffff;"><span style="color:#a52a2a;">array</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">();</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">        <span style="background-color:#ffffff;"><span style="color:#a52a2a;">foreach</span></span><span style="background-color:#ffffff;"><span style="color:#000000;"> (</span></span><span style="background-color:#ffffff;"><span style="color:#225f2d;">$categories</span></span> <span style="background-color:#ffffff;"><span style="color:#a52a2a;">as</span></span> <span style="background-color:#ffffff;"><span style="color:#225f2d;">$category</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">) {<!-- --></span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">            <strong><span style="background-color:#ffffff;"><span style="color:#000000;">array_push</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">(</span></span><span style="background-color:#ffffff;"><span style="color:#225f2d;">$categoryIDS</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">, </span></span><span style="background-color:#ffffff;"><span style="color:#225f2d;">$category</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">-&gt;term_id);</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">        }</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">        <span style="background-color:#ffffff;"><span style="color:#225f2d;">$categoryIDS</span></span><span style="background-color:#ffffff;"><span style="color:#000000;"> = </span></span><strong><span style="background-color:#ffffff;"><span style="color:#000000;">implode</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">(</span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">","</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">, </span></span><span style="background-color:#ffffff;"><span style="color:#225f2d;">$categoryIDS</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">);</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">?&gt;</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">&lt;?php </span></span><span style="background-color:#ffffff;"><span style="color:#a52a2a;">if</span></span><span style="background-color:#ffffff;"><span style="color:#000000;"> (</span></span><strong><span style="background-color:#ffffff;"><span style="color:#000000;">get_previous_post</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">(</span></span><span style="background-color:#ffffff;"><span style="color:#225f2d;">$categoryIDS</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">)) { </span></span><strong><span style="background-color:#ffffff;"><span style="color:#000000;">previous_post_link</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">(</span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">'上一篇: %link'</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">,</span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">'%title'</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">,true);} </span></span><span style="background-color:#ffffff;"><span style="color:#a52a2a;">else</span></span><span style="background-color:#ffffff;"><span style="color:#000000;"> { </span></span><span style="background-color:#ffffff;"><span style="color:#a52a2a;">echo</span></span> <span style="background-color:#ffffff;"><span style="color:#ff00ff;">"已是最后文章"</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">;} ?&gt;</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#000000;">&lt;?php </span></span><span style="background-color:#ffffff;"><span style="color:#a52a2a;">if</span></span><span style="background-color:#ffffff;"><span style="color:#000000;"> (</span></span><strong><span style="background-color:#ffffff;"><span style="color:#000000;">get_next_post</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">(</span></span><span style="background-color:#ffffff;"><span style="color:#225f2d;">$categoryIDS</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">)) { </span></span><strong><span style="background-color:#ffffff;"><span style="color:#000000;">next_post_link</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">(</span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">'上一篇: %link'</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">,</span></span><span style="background-color:#ffffff;"><span style="color:#ff00ff;">'%title'</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">,true);} </span></span><span style="background-color:#ffffff;"><span style="color:#a52a2a;">else</span></span><span style="background-color:#ffffff;"><span style="color:#000000;"> { </span></span><span style="background-color:#ffffff;"><span style="color:#a52a2a;">echo</span></span> <span style="background-color:#ffffff;"><span style="color:#ff00ff;">"已是最新文章"</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">;} ?&gt;</span></span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h3 style="text-align:justify;"><strong>5:wordpress截取字段的代码：</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;"> &lt;?php $post_query = new WP_Query('showposts=2');</p> 
<p style="margin-left:.0001pt;text-align:justify;">while ($post_query-&gt;have_posts()) : $post_query-&gt;the_post();</p> 
<p style="margin-left:.0001pt;text-align:justify;">$do_not_duplicate = $post-&gt;ID; ?&gt;</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">&lt;li&gt;&lt;a href="&lt;?php the_permalink(); ?&gt;"&gt;&lt;?php the_title(); ?&gt;&lt;/a&gt;&lt;/li&gt;</p> 
<p style="margin-left:.0001pt;text-align:justify;">&lt;p&gt;&lt;?php echo mb_strimwidth(strip_tags(apply_filters('the_content', $post-&gt;post_content)), 0, 200,"..."); ?&gt;&lt;a href="&lt;?php the_permalink(); ?&gt;"&gt;Read More&lt;/a&gt;&lt;/p&gt;</p> 
<h3 style="text-align:justify;">&lt;?php endwhile;?&gt;</h3> 
<h3 style="text-align:justify;"><strong>6:</strong><strong>更新文章</strong><strong>用到的sql命令</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><span style="color:#ff0000;"><strong>操作1本地mysql更新状态</strong></span></strong><br> UPDATE `wp_posts` SET `post_status` = 'pending' where id&gt; 1481<br><br><strong><span style="color:#ff0000;"><strong>操作2更新时间 分钟，秒钟不变</strong></span></strong><br> UPDATE `wp_posts` SET `post_date` = REPLACE(`post_date`, '2013-01-09', '2013-01-13'), `post_date_gmt` = REPLACE(`post_date_gmt`, '2013-01-09', '2013-01-13') WHERE id &gt; 1481<br><br><strong><span style="color:#ff0000;"><strong>操作3导出数据 以时间为条件内容不为空</strong></span></strong><br> SELECT  `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count` FROM `wp_posts` WHERE 1 = instr(`post_date`,'2013-01-13') and `post_content`&lt;&gt;""<br><br><strong><span style="color:#ff0000;"><strong>操作4执行 发布当天的文章</strong></span></strong><br> UPDATE `wp_posts` SET `post_status` = 'publish' where 1 = instr(`post_date`,'2013-01-13')</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h3 style="text-align:justify;"><strong>7:</strong><strong>更改wordpress数据表前缀</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;">例:将wp表前缀更改为es<br> 更改11个表，执下下列命令，多的其它插件表请注意<br><br> 操作1<br> RENAME table `wp_commentmeta` TO `es_commentmeta`;<br> RENAME table `wp_comments` TO `es_comments`;<br> RENAME table `wp_links` TO `es_links`;<br> RENAME table `wp_options` TO `es_options`;<br> RENAME table `wp_postmeta` TO `es_postmeta`;<br> RENAME table `wp_posts` TO `es_posts`;<br> RENAME table `wp_terms` TO `es_terms`;<br> RENAME table `wp_term_relationships` TO `es_term_relationships`;<br> RENAME table `wp_term_taxonomy` TO `es_term_taxonomy`;<br> RENAME table `wp_usermeta` TO `es_usermeta`;<br> RENAME table `wp_users` TO `es_users`;<br><br> 操作2执行下列命令<br> UPDATE `es_options` SET `option_name` = replace (`option_name`,'wp_user_roles','es_user_roles');<br> UPDATE `es_usermeta` SET `meta_key` = replace (`meta_key`,'wp_capabilities','es_capabilities');<br> UPDATE `es_usermeta` SET `meta_key` = replace (`meta_key`,'wp_user_level','es_user_level');<br> UPDATE `es_usermeta` SET `meta_key` = replace (`meta_key`,'wp_autosave_draft_ids','es_autosave_draft_ids');<br><br> 操作3需要在wp-config.php中找到<br> $table_prefix  = ‘wp_’;<br> 将它替换为<br> $table_prefix  = ‘es_’;</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h3 style="text-align:justify;"><strong>8:</strong><strong>预设</strong><strong>WordPress</strong><strong>的FTP信息</strong></h3> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#222222;">当添加，删除，升级 WordPress 插件或者直接升级 WordPress 的时候，WordPress 总是提示让你输入 FTP 帐号信息，非些烦人。其实我们可以在 wp-config.php 中定义下面这些常量来让 WordPress 自动获取 FTP 信息，而无需每次手动输入：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p><span style="background-color:#ffffff;"><span style="color:#222222;">//添加 FTP 信息，防止每次都提示输入</span></span></p> 
<p><span style="background-color:#ffffff;"><span style="color:#222222;">define('FTP_HOST', '</span><a href="http://ftp.yoursite.com/" rel="nofollow" title="ftp.yoursite.com">ftp.yoursite.com</a><span style="color:#222222;">');</span></span></p> 
<p><span style="background-color:#ffffff;"><span style="color:#222222;">define('FTP_USER', 'Your_FTP_Username');</span></span></p> 
<p><span style="background-color:#ffffff;"><span style="color:#222222;">define('FTP_PASS', 'Your_FTP_password');</span></span></p> 
<p><span style="background-color:#ffffff;"><span style="color:#222222;">//如果你的 FTP 可以使用 SSL 连接，把下面设置为 True</span></span></p> 
<p><span style="background-color:#ffffff;"><span style="color:#222222;">define('FTP_SSL', true);</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/413a4a5cb1630964d774039e08e60443/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">XML语言的学习记录1</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3ff898ccc4b42e9011c13f43a73f7224/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【微信小程序】原生组件的分层渲染 和 同层渲染</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>