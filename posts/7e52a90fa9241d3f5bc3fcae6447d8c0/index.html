<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>VS配置RTKLIB（卫星定位开源代码）环境 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="VS配置RTKLIB（卫星定位开源代码）环境" />
<meta property="og:description" content="@RTKlib代码调试教程-Visual Studio 2019
你好！ 这是你第一次使用 Markdown编辑器 所展示的欢迎页。如果你想学习如何使用Markdown编辑器, 可以仔细阅读这篇文章，了解一下Markdown的基本语法知识。
##RTKLIB-rtklib_2.4.3
提示：文章写完后，目录可以自动生成，如何生成可参考右边的帮助文档
@RTKlib代码调试教程-Visual Studio 2019
提示：这里可以添加本文要记录的大概内容：
例如：随着人工智能的不断发展，机器学习这门技术也越来越重要，很多人都开启了学习机器学习，本文就介绍了机器学习的基础内容。
提示：以下是本篇文章正文内容，下面案例可供参考
一、RTKlib是什么？ 由日本东京海洋大学开发（Tokyo University of Marine Science and Technology
），笔者查到最早的介绍是一篇日文的，《RTK-GPS用プログラムライブラリRTKLIBの開発?評価および応用》，其介绍的为RTKLIB ver.1.1。另有一篇论文《Development of the lowcost RTK GPS receiver with an open source program package RTKLIB》也可以看下。
其主要功能如下：
支持标准的GPS、GLONASS、QZSS和SBAS的为精确定位算法（目前此版本不支持Galileo系统）
支持多种动态、静态卫星定位方式（单点定位、DGPS、载波相位动态差分定位RTK、静态、移动基站、PPP）
支持全球定位导航系统的多种标准格式和协议
二、使用步骤 1.在Visual Studio 2019下新建项目，选择Windows控制台应用程序，项目所在路径自己选择，路径记为*\，项目命名为rtklib； 2.解压RTKLIB-rtklib_2.4.3安装包，将安装包下src文件夹复制到*\rtklib\rtklib\，并重命名为rtklibsrc； ![在这里插入图片描述](https://img-blog.csdnimg.cn/20200922210701822.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMjA5OTc3,size_16,color_FFFFFF,t_70#pic_center
3.在界面左侧右击rtklib项目，选择“添加”-“新建筛选器”，右击新建的筛选器并重命名为rtklibsrc；同样的，右击rtklibsrc，创建新的筛选器并命名为rcv； 4.右击rtklibsrc，选择“添加”-“现有项”，* \rtklib\rtklib\rtklibsrc\，全选所有的.c文件，点击“添加”，同样地，将* \rtklib\rtklib\rtklibsrc\rcv下所有的.c文件添加到（3）中新建的rcv下； 5.右击rtklib项目，选择“属性”，找到“预编译头”，在右侧选择“不使用预编译头”，点击确定； 6.Ctrl&#43;F5运行程序，程序报错，要么按照说明中将fopen等对应改成fopen_s等，要么右击rtklib项目，选择“属性”，找到“预处理器”-“预处理器定义”，点击编辑，加上“_CRT_SECURE_NO_WARNINGS”，点击“确定”退出； 7.Ctrl&#43;F5运行程序，程序报错：C1083 无法打开包括文件：rtklib.h: No such file or directory。此时，仍右击rtklib项目，选择“属性”-“常规”-“附加包含目录”，编辑选择*\rtklib\rtklib\rtklibsrc，例如笔者的路径为E:\PPP\program\RTKlib\rtklib\rtklib\rtklibsrc；点击确定退出。 8.Ctrl&#43;F5运行程序，程序报错：C4996 ‘inet_addr’:Use inet_pton() or InetPton() instead or define _WINSOCK_DEPRECATED_NO_WARNINGS to disable deprecated API warnings；类似（6），在“预处理器定义”中添加_WINSOCK_DEPRECATED_NO_WARNINGS，点击确定退出。 9." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/7e52a90fa9241d3f5bc3fcae6447d8c0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-09-22T21:40:20+08:00" />
<meta property="article:modified_time" content="2020-09-22T21:40:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">VS配置RTKLIB（卫星定位开源代码）环境</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>@RTKlib代码调试教程-Visual Studio 2019</p> 
<h2><a id="_2"></a></h2> 
<p>你好！ 这是你第一次使用 <strong>Markdown编辑器</strong> 所展示的欢迎页。如果你想学习如何使用Markdown编辑器, 可以仔细阅读这篇文章，了解一下Markdown的基本语法知识。</p> 
<p>##RTKLIB-rtklib_2.4.3<br> <font color="#999AAA">提示：文章写完后，目录可以自动生成，如何生成可参考右边的帮助文档</font></p> 
<p>@RTKlib代码调试教程-Visual Studio 2019</p> 
<hr color="#000000" size='1"'> 
<h2><a id="_15"></a></h2> 
<p><font color="#999AAA">提示：这里可以添加本文要记录的大概内容：<br> 例如：随着人工智能的不断发展，机器学习这门技术也越来越重要，很多人都开启了学习机器学习，本文就介绍了机器学习的基础内容。</font></p> 
<hr color="#000000" size='1"'> 
<p><font color="#999AAA">提示：以下是本篇文章正文内容，下面案例可供参考</font></p> 
<h2><a id="RTKlib_24"></a>一、RTKlib是什么？</h2> 
<p>由日本东京海洋大学开发（Tokyo University of Marine Science and Technology<br> ），笔者查到最早的介绍是一篇日文的，《RTK-GPS用プログラムライブラリRTKLIBの開発?評価および応用》，其介绍的为RTKLIB ver.1.1。另有一篇论文《Development of the lowcost RTK GPS receiver with an open source program package RTKLIB》也可以看下。</p> 
<p>其主要功能如下：</p> 
<p>支持标准的GPS、GLONASS、QZSS和SBAS的为精确定位算法（目前此版本不支持Galileo系统）<br> 支持多种动态、静态卫星定位方式（单点定位、DGPS、载波相位动态差分定位RTK、静态、移动基站、PPP）<br> 支持全球定位导航系统的多种标准格式和协议</p> 
<h2><a id="_37"></a>二、使用步骤</h2> 
<h3><a id="1Visual_Studio_2019Windowsrtklib_39"></a>1.在Visual Studio 2019下新建项目，选择Windows控制台应用程序，项目所在路径自己选择，路径记为*\，项目命名为rtklib；</h3> 
<p><img src="https://images2.imgbox.com/14/19/ZAe5vGyZ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2RTKLIBrtklib_243srcrtklibrtklibrtklibsrc_43"></a>2.解压RTKLIB-rtklib_2.4.3安装包，将安装包下src文件夹复制到*\rtklib\rtklib\，并重命名为rtklibsrc；</h3> 
<p><img src="https://images2.imgbox.com/4c/6b/YVjXeUSj_o.png" alt="在这里插入图片描述"><br> ![在这里插入图片描述](https://img-blog.csdnimg.cn/20200922210701822.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMjA5OTc3,size_16,color_FFFFFF,t_70#pic_center<img src="https://images2.imgbox.com/8c/2f/ZFjfQKHo_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3rtklibrtklibsrcrtklibsrcrcv_47"></a>3.在界面左侧右击rtklib项目，选择“添加”-“新建筛选器”，右击新建的筛选器并重命名为rtklibsrc；同样的，右击rtklibsrc，创建新的筛选器并命名为rcv；</h3> 
<p><img src="https://images2.imgbox.com/45/03/LJ0RYFLJ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4rtklibsrc_rtklibrtklibrtklibsrcc_rtklibrtklibrtklibsrcrcvc3rcv_50"></a>4.右击rtklibsrc，选择“添加”-“现有项”，* \rtklib\rtklib\rtklibsrc\，全选所有的.c文件，点击“添加”，同样地，将* \rtklib\rtklib\rtklibsrc\rcv下所有的.c文件添加到（3）中新建的rcv下；</h3> 
<p><img src="https://images2.imgbox.com/94/75/QVhRfnrJ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5rtklib_53"></a>5.右击rtklib项目，选择“属性”，找到“预编译头”，在右侧选择“不使用预编译头”，点击确定；</h3> 
<p><img src="https://images2.imgbox.com/f4/93/mChkNyZm_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="6CtrlF5fopenfopen_srtklib_CRT_SECURE_NO_WARNINGS_56"></a>6.Ctrl+F5运行程序，程序报错，要么按照说明中将fopen等对应改成fopen_s等，要么右击rtklib项目，选择“属性”，找到“预处理器”-“预处理器定义”，点击编辑，加上“_CRT_SECURE_NO_WARNINGS”，点击“确定”退出；</h3> 
<p><img src="https://images2.imgbox.com/5d/09/Al0sIEUt_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/18/bb/X1tBhlGE_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="7CtrlF5C1083_rtklibh_No_such_file_or_directoryrtklibrtklibrtklibrtklibsrcEPPPprogramRTKlibrtklibrtklibrtklibsrc_60"></a>7.Ctrl+F5运行程序，程序报错：C1083 无法打开包括文件：rtklib.h: No such file or directory。此时，仍右击rtklib项目，选择“属性”-“常规”-“附加包含目录”，编辑选择*\rtklib\rtklib\rtklibsrc，例如笔者的路径为E:\PPP\program\RTKlib\rtklib\rtklib\rtklibsrc；点击确定退出。</h3> 
<p><img src="https://images2.imgbox.com/ce/b5/M0FG3YdE_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d9/d7/wLhNR65H_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="8CtrlF5C4996_inet_addrUse_inet_pton_or_InetPton_instead_or_define__WINSOCK_DEPRECATED_NO_WARNINGS_to_disable_deprecated_API_warnings6_WINSOCK_DEPRECATED_NO_WARNINGS_64"></a>8.Ctrl+F5运行程序，程序报错：C4996 ‘inet_addr’:Use inet_pton() or InetPton() instead or define _WINSOCK_DEPRECATED_NO_WARNINGS to disable deprecated API warnings；类似（6），在“预处理器定义”中添加_WINSOCK_DEPRECATED_NO_WARNINGS，点击确定退出。</h3> 
<p><img src="https://images2.imgbox.com/e3/c8/F42uEiTP_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/21/27/rdl6KTPG_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="9CtrlF5C4703_sbsephemeriscconst_sbssatp_t_sbsNULLCCSDL_69"></a>9.Ctrl+F5，程序报错：C4703 使用了可能未初始化的本地指针变量”sbs”。有两种办法：一、在报错的ephemeris.c的文件中定义“const sbssatp_t *sbs=NULL;”；二、项目“属性”-“C/C++”-“所有选项”-“SDL检查”-“否”。</h3> 
<p><img src="https://images2.imgbox.com/ac/80/Gis7cZbB_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="10CtrlF5LNK2019__imp_timeGetTime0_tickgetwinmmlibws2_32librtklibcpp_72"></a>10.Ctrl+F5，程序报错：LNK2019 无法解析的外部符号_imp_timeGetTime@0，该符号在函数_tickget中被引用。有两种解决方案：一，“属性”-“链接器”-“输入”-“附加依赖项”，添加winmm.lib和ws2_32.lib；二，在rtklib.cpp的文件头部分加上：</h3> 
<p>#pragma comment (lib,“winmm.lib”)<br> #pragma comment (lib,“ws2_32.lib”)</p> 
<p><img src="https://images2.imgbox.com/3a/39/epd0H4Dk_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="11rtklibhrtklibcpp_78"></a>11.还有一个重要事项，必须要把rtklib.h头文件包含于rtklib.cpp中：</h3> 
<p>#include &lt;rtklib.h&gt;</p> 
<h3><a id="12Q__error_C2466__0_____xxxxxrtklibhelperrtklibsrcrinexc_81"></a>12.Q:接下来是一个这样的错误 error C2466: 不能分配常量大小为 0 的数组 x:\xxxx\rtklibhelper\rtklibsrc\rinex.c</h3> 
<p>这个常量为0，那么不能进行编译，我们想上面一样在预编译器里面加入 ENAGLO<br> <img src="https://images2.imgbox.com/75/ee/CYAaLGT0_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="13LNK2019__showmsg_convrnx_87"></a>13.最重要的，程序报错：LNK2019 无法解析的外部符号_showmsg，该符号在函数_convrnx中被引用；</h3> 
<p>本文使用的方法是去RTKLIB-rtklib_2.4.3复制rnx2rtkp.c放到工程文件夹rtklibsrc下，然后在VS 里面去调用它<br> <img src="https://images2.imgbox.com/99/82/VmvtZtbH_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/c0/f6/MxVDcwZy_o.png" alt="在这里插入图片描述"><br> 然后删去rnx2rtkp.c里面的main()函数，因为和rtklib.cpp里面的main冲突<br> <img src="https://images2.imgbox.com/53/94/u1R5X59M_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_95"></a>总结</h2> 
<p>头一回去搭建这个环境还是遇到很多问题，我主要是在大牛基础上，找到的方法。</p> 
<h3><a id="_98"></a>插入链接与图片</h3> 
<p>参考链接: https://blog.csdn.net/qq_35363018/article/details/101317869?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522160075807619725271712163%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=160075807619725271712163&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2<sub>all</sub>first_rank_ecpm_v3~pc_rank_v2-1-101317869.first_rank_ecpm_v3_pc_rank_v2&amp;utm_term=Visual+Studio%E4%B8%8B%E6%89%93%E5%BC%80rtklib&amp;spm=1018.2118.3001.4187</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9282dfbc375c643d54b3d3a6753f70cb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MySQL - json_search 小结</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4034721f3203610d62f2c75c04a398a2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">React 组件之间参数传递，正传props，逆传，同级传值，跨组件传值context</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>