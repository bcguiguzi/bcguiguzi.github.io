<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>uniapp条件编译 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="uniapp条件编译" />
<meta property="og:description" content="1.说明 条件编译是用特殊的注释作为标记，在编译时根据这些特殊的注释，将注释里面的代码编译到不同平台。
配置不同端协议的时候经常用到。
写法：以 #ifdef 或 #ifndef 加 %PLATFORM% 开头，以 #endif 结尾。
1 #ifdef：if defined 仅在某平台存在
2 #ifndef：if not defined 除了某平台均存在
3 %PLATFORM%：平台名称
写法说明#ifdef APP-PLUS
需条件编译的代码 #endif 仅出现在 App 平台下的代码 #ifndef H5 需条件编译的代码 #endif
除了 H5 平台，其它平台均存在的代码 #ifdef H5 || MP-WEIXIN 需条件编译的代码 #endif
在 H5 平台或微信小程序平台存在的代码
（这里只有||，不可能出现&amp;&amp;，因为没有交集）
2.常用值 值
平台
APP-PLUSAPPAPP-PLUS-NVUEAPP nvueH5H5MP-WEIXIN微信小程序MP-ALIPAY支付宝小程序MP-BAIDU百度小程序MP-TOUTIAO字节跳动小程序MP-QQQQ小程序MP-360360小程序MP 微信小程序/支付宝小程序/百度小程序/字节跳动小程序
/QQ小程序/360小程序
quickapp-webview快应用通用（联盟、华为）quickapp-webview-union快应用联盟quickapp-webview-huawei快应用华为 3.举例 1）CSS里面判断不同的端 APP：APP端
/*#ifdef APP-PLUS*/
top:0;
/*#endif*/
H5：H5端
/*#ifdef H5*/
top:88rpx;
/*#endif*/
MP：小程序
/*#ifdef MP*/" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/a355758ff53fa3b79facee71ed663b3c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-19T09:27:19+08:00" />
<meta property="article:modified_time" content="2024-02-19T09:27:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">uniapp条件编译</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>1.说明</h2> 
<p>条件编译是用特殊的注释作为标记，在编译时根据这些特殊的注释，将注释里面的代码编译到不同平台。</p> 
<blockquote> 
 <p>配置不同端协议的时候经常用到。</p> 
</blockquote> 
<p>写法：以 #ifdef 或 #ifndef 加 %PLATFORM% 开头，以 #endif 结尾。</p> 
<p>1  #ifdef：if defined 仅在某平台存在<br> 2  #ifndef：if not defined 除了某平台均存在<br> 3  %PLATFORM%：平台名称</p> 
<table align="center" border="1" cellpadding="1" cellspacing="1" style="width:600px;"><thead><tr><th style="text-align:center;">写法</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td>#ifdef APP-PLUS<br> 需条件编译的代码  <br> #endif</td><td>    仅出现在 App 平台下的代码</td></tr><tr><td> <p>#ifndef H5 <br> 需条件编译的代码       </p> <p>#endif</p> </td><td>除了 H5 平台，其它平台均存在的代码</td></tr><tr><td> <p>#ifdef H5 || MP-WEIXIN              <br> 需条件编译的代码     </p> <p>#endif</p> </td><td> <p>在 H5 平台或微信小程序平台存在的代码</p> <p>（这里只有||，不可能出现&amp;&amp;，因为没有交集）</p> </td></tr></tbody></table> 
<h2><strong>2.常用值</strong></h2> 
<table align="center" border="1" cellpadding="1" cellspacing="1" style="width:600px;"><thead><tr><th> <p>值</p> </th><th> <p>平台</p> </th></tr></thead><tbody><tr><td>APP-PLUS</td><td>APP</td></tr><tr><td>APP-PLUS-NVUE</td><td>APP nvue</td></tr><tr><td>H5</td><td>H5</td></tr><tr><td>MP-WEIXIN</td><td>微信小程序</td></tr><tr><td>MP-ALIPAY</td><td>支付宝小程序</td></tr><tr><td>MP-BAIDU</td><td>百度小程序</td></tr><tr><td>MP-TOUTIAO</td><td>字节跳动小程序</td></tr><tr><td>MP-QQ</td><td>QQ小程序</td></tr><tr><td>MP-360</td><td>360小程序</td></tr><tr><td>MP</td><td> <p>微信小程序/支付宝小程序/百度小程序/字节跳动小程序</p> <p>/QQ小程序/360小程序</p> </td></tr><tr><td>quickapp-webview</td><td>快应用通用（联盟、华为）</td></tr><tr><td>quickapp-webview-union</td><td>快应用联盟</td></tr><tr><td>quickapp-webview-huawei</td><td>快应用华为</td></tr></tbody></table> 
<h2>3.举例</h2> 
<h3>1）CSS里面判断不同的端</h3> 
<blockquote> 
 <p>APP：APP端<br>  <br>             /*#ifdef APP-PLUS*/<br>             top:0;<br>             /*#endif*/<br>  <br> H5：H5端<br>             /*#ifdef H5*/<br>             top:88rpx;<br>             /*#endif*/<br>  <br> MP：小程序<br>             /*#ifdef MP*/<br>             top:0;<br>             /*#endif*/</p> 
</blockquote> 
<h3>2）JS里面判断不同的端</h3> 
<blockquote> 
 <p>APP：APP端<br>  <br>             /*#ifdef APP-PLUS*/<br>             console.log('APP端')<br>             /*#endif*/<br>  <br> H5：H5端<br>             /*#ifdef H5*/<br>             console.log('H5端')<br>             /*#endif*/<br>  <br> MP：小程序<br>             /*#ifdef MP*/<br>             console.log('微信小程序端')<br>             /*#endif*/</p> 
</blockquote> 
<p></p> 
<h3>3）在页面上判断不同的端</h3> 
<blockquote> 
 <p>APP：APP端<br>  <br>             &lt;!-- #ifdef APP-PLUS --&gt;<br>             &lt;view&gt; APP端 &lt;/view&gt;<br>             &lt;!-- #endif --&gt;<br>  <br> H5：H5端<br>             &lt;!-- #ifdef H5 --&gt;<br>             &lt;view&gt; H5端 &lt;/view&gt;<br>             &lt;!-- #endif --&gt;<br>  <br> MP：小程序<br>            &lt;!-- #ifdef MP --&gt;<br>             &lt;view&gt; 小程序端 &lt;/view&gt;<br>             &lt;!-- #endif --&gt;</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/047cc466bbb59d0dadbd1614cae2a7cd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java数组的传递</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d9301d647967b4e19f92ed7160503dfb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Mysql事务细节研究（进阶篇）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>