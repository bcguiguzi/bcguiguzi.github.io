<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring MVC | Spring MVC 的“核心类” 和 “注解” - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Spring MVC | Spring MVC 的“核心类” 和 “注解”" />
<meta property="og:description" content="目录: Spring MVC 的“核心类” 和 “注解” ：1.DispatcherServlet (前端控制器)2.@Controller 注解3.RequestMapping 注解3.1 @RequestMapping 注解的 “使用”标注在 “方法” 上标注在 “类” 上 3.2 @RequestMapping 注解的 “属性” 4.组合注解4.1 请求处理方法的 “参数类型” 和 “返回值类型”请求处理方法中的 “参数类型”请求处理方法的 “返回值类型”通过返回值“String类型”进行 “重定向”通过返回值“String类型”进行 “请求forward转发” 5.ViewResolver(视图解析器) Spring MVC 的“核心类” 和 “注解” ： 在 Spring 2.5之前，只能使用实现Controller接口的方式来开发一个控制器，“SpringMVC的入门” 中例子的就是使用的此种方式。在 Spring 2.5之后，新增加了基于注解的控制器以及其他一些 常用注解 （即Spring2.5之后，可以通过注解来操作Spring），这些注解的使用极大地减少了程序员的开发工作。 1.DispatcherServlet (前端控制器) DispatcherServlet 的全名是 org.springframework.web.servlet.DispatcherServlet，它在程序中充当着 前端控制器 的角色。 在使用时，只需将其配置在项目的web.xml 文件 中。（在web.xml中配置 “前端控制器”）
在 web.xml 中 配置 DispatcherServlet (前端控制器) 的配置代码如下 ：
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;web-app xmlns=&#34;http://xmlns.jcp.org/xml/ns/javaee&#34; xmlns:xsi=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/05d4af6474647b4f8ca4a48462f69c32/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-10T00:36:36+08:00" />
<meta property="article:modified_time" content="2024-03-10T00:36:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring MVC | Spring MVC 的“核心类” 和 “注解”</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录:</h4> 
 <ul><li><a href="#Spring_MVC_____1" rel="nofollow">Spring MVC 的“核心类” 和 “注解” ：</a></li><li><ul><li><a href="#1DispatcherServlet__10" rel="nofollow">1.DispatcherServlet (前端控制器)</a></li><li><a href="#2Controller__68" rel="nofollow">2.@Controller 注解</a></li><li><a href="#3RequestMapping__128" rel="nofollow">3.RequestMapping 注解</a></li><li><ul><li><a href="#31_RequestMapping___132" rel="nofollow">3.1 @RequestMapping 注解的 “使用”</a></li><li><ul><li><a href="#___144" rel="nofollow">标注在 “方法” 上</a></li><li><a href="#___172" rel="nofollow">标注在 “类” 上</a></li></ul> 
    </li><li><a href="#32_RequestMapping___200" rel="nofollow">3.2 @RequestMapping 注解的 “属性”</a></li></ul> 
   </li><li><a href="#4_229" rel="nofollow">4.组合注解</a></li><li><ul><li><a href="#41_____271" rel="nofollow">4.1 请求处理方法的 “参数类型” 和 “返回值类型”</a></li><li><ul><li><a href="#__273" rel="nofollow">请求处理方法中的 “参数类型”</a></li><li><a href="#__311" rel="nofollow">请求处理方法的 “返回值类型”</a></li><li><ul><li><a href="#String__357" rel="nofollow">通过返回值“String类型”进行 “重定向”</a></li><li><a href="#String_forward_372" rel="nofollow">通过返回值“String类型”进行 “请求forward转发”</a></li></ul> 
    </li></ul> 
   </li></ul> 
   </li><li><a href="#5ViewResolver_388" rel="nofollow">5.ViewResolver(视图解析器)</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="Spring_MVC_____1"></a>Spring MVC 的“核心类” 和 “注解” ：</h2> 
<blockquote> 
 <ul><li>在 <mark><strong>Spring 2.5之前</strong></mark>，<strong>只能使用实现Controller接口</strong>的方式来<strong>开发一个控制器</strong>，<mark><strong>“SpringMVC的入门”</strong></mark> 中<strong>例子</strong>的就是使用的此种方式。</li><li>在 <mark><strong>Spring 2.5之后</strong></mark>，新增加了基于<strong>注解的控制器</strong>以及其他一些 <mark><strong>常用注解</strong></mark> （<mark>即<strong>Spring2.5之后</strong>，可以通过<strong>注解</strong>来<strong>操作Spring</strong></mark>），这些<strong>注解</strong>的使用<strong>极大地减少了程序员</strong>的<strong>开发工作</strong>。</li></ul> 
</blockquote> 
<h3><a id="1DispatcherServlet__10"></a>1.DispatcherServlet (前端控制器)</h3> 
<blockquote> 
 <ul><li> <p><mark><strong>DispatcherServlet</strong></mark> 的<strong>全名</strong>是 <strong>org</strong>.<strong>springframework</strong>.<strong>web</strong>.<strong>servlet</strong>.<mark><strong>DispatcherServlet</strong></mark>，它在程序中充当着 <mark><strong>前端控制器</strong></mark> 的角色。 <mark>在使用时，只需<strong>将其配置</strong>在<strong>项目的web.xml 文件</strong></mark> 中。（在<strong>web.xml</strong>中配置 “<strong>前端控制器</strong>”）</p> </li><li> <p>在 <mark><strong>web.xml</strong></mark> 中 配置 <mark><strong>DispatcherServlet</strong></mark> (<strong>前端控制器</strong>) 的<strong>配置代码</strong>如下 ：</p> <pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class="token punctuation">"</span></span>
         <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

     <span class="token comment">&lt;!--  在web.xml中配置“前端控制器” : DispatcherServlet --&gt;</span>
    <span class="token comment">&lt;!--  配置“前端过滤器” : DispatcherServlet --&gt;</span>
    <span class="token comment">&lt;!--  假如下面没有通过init-param元素来配置“springmvc配置的位置的话”，应用程序会自动在web-inf目录下找名字为 : SpringMvc-servlet.xml的文件来充当“springmvc配置文件” (此处的名字和 DispatcherServlet的名称(SpringMvc)有关系) --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>SpringMvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
            org.springframework.web.servlet.DispatcherServlet
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>

       <span class="token comment">&lt;!--   初始化时加载SpringMVC的“配置文件” : springmvc-config.xml    --&gt;</span>
        <span class="token comment">&lt;!--  如果配置“前端控制器”时，没有用&lt;init-param&gt;元素配置“Springmvc配置文件的位置”，应用程序会到web-inf目录下找名字为: "servletName-servlet.xml" 的文件来充当 “springmvc配置文件”   --&gt;</span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>classpath:springmvc-config.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!--    表示容器启动时立刻加载此Servlet    --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>SpringMvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--  会将所有的url进行拦截  --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre> <p>在<strong>上述代码</strong>中，<mark><strong>&lt;load-on-startup&gt;元素</strong><mark>和</mark><strong>&lt;init-param&gt;元素</strong><mark>都是</mark><strong>可选的</strong></mark>。如果 <strong>&lt;load-on-startup&gt;元素</strong>的 <mark><strong>值为 1</strong></mark>，则在<mark>应用程序<strong>启动时会立即加载该Servlet</strong></mark>；如果 <strong>&lt;load-on-startup&gt;元素不存在</strong>，则<strong>应用程序会</strong>在<strong>第一个Servlet请求</strong>时加载<strong>该Servlet</strong>。 如果 <strong>&lt;init-param&gt;元素存在</strong>并且通过<strong>其子元素</strong>配置了 <mark><strong>Spring MVC配置文件</strong></mark> ( <strong>Springmvc-config.xml</strong> )的<strong>路径</strong>，则应用程序在<strong>启动</strong>时会<strong>加载配置路径下</strong>的<strong>配置文件</strong>； <mark>如果<strong>没有通过&lt;init-param&gt;元素</strong>配置，则应用程序会<strong>默认</strong>到<strong>WEB-INF目录下</strong>寻找<strong>如下方式命名</strong> ( <strong>servletName-servlet.xml</strong> )的<strong>配置文件</strong></mark>。</p> <pre><code class="prism language-java"><span class="token comment">//如果配置“前端控制器”时，没有用&lt;init-param&gt;元素配置“Springmvc配置文件的位置”，应用程序会到web-inf目录下找名字为: "servletName-servlet.xml" 的文件来充当 “springmvc配置文件”</span>
<span class="token comment">//其中servletName的"泛指"，指的是在web.xml中的配置的DispatcherServlet的"名称",如上面中的DispatcherServlet的名字为: SpringMvc，则servletName则替换为SpringMvc</span>
<span class="token comment">//所以最后会在web-inf目录下找到"SpringMvc-servlet.xml"的文件来充当“springmvc配置文件”</span>
servletName<span class="token operator">-</span>servlet<span class="token punctuation">.</span>xml
</code></pre> <p>其中，<strong>servletName</strong> ( 是<strong>根据实际情况而定</strong>，<strong>不是固定的名字</strong> )指的是部署在<strong>web.xml</strong> 中的 <strong>DispatcherServlet</strong>的<strong>名称</strong>，在上面 <strong>web.xm中</strong>的<strong>配置代码中</strong>即为<strong>SpringMvc</strong>，而 <strong>-servlet.xml</strong>是配置<strong>文件名</strong>的<strong>固定写法</strong>，所以应用<strong>程序</strong>会在 <strong>WEB-INF</strong> 下寻找 “<strong>SpringMvc-servlet.xml</strong>” (来充当“<strong>springmvc</strong>的<strong>配置文件</strong>”)。</p> <p><mark><strong>注意点</strong></mark> ：<mark>（<strong>重点，重点，重点</strong> ）</mark><br> ( 如果在 <strong>web.xml</strong>中 配置“<strong>前端控制器</strong>”时，<mark><strong>没有通过&lt;init-param&gt;元素</strong></mark> 进行<strong>添加“Springmvc配置文件</strong> ：<strong>springmvc-config.xml</strong> ”的<strong>位置</strong>的话，应用程序会到<strong>web-inf目录</strong>下找名字为 ：“<strong>servletName-servlet.xml</strong>” 的<strong>文件</strong>来<strong>充当 “springmvc配置文件”</strong>。)</p> </li></ul> 
</blockquote> 
<h3><a id="2Controller__68"></a>2.@Controller 注解</h3> 
<blockquote> 
 <ul><li> <p>org.springframework.<strong>stereotype</strong>.<mark><strong>Controller 注解类型</strong></mark> ( <mark><strong>@Controller</strong></mark> )用于指示 <mark><strong>Spring 类</strong>的<strong>实例</strong><mark>是一个</mark><strong>控制器</strong></mark>，其<strong>注解形式</strong>为 <strong>@Controller</strong>。该 <mark><strong>注解在使用</strong>时<strong>不需要再实现Controller 接口</strong></mark> （通过将加 <strong>@Controller注解</strong>的方式来<strong>替代“实现controller接口”</strong>），只需要将 <strong>@Controller注解</strong>加入到<strong>控制器类</strong>上，然后通过<strong>Spring</strong>的<strong>扫描机制</strong>找到标注了该<strong>注解的控制器即可</strong>。</p> <pre><code class="prism language-java"><span class="token comment">/**
 * 控制器类
  可用实现“@Controller”接口来 替代implements Controller (两者都能实现相同的效果)
 */</span>
<span class="token comment">/**
 * ① 此处使用@Controller注解的方式来替代 实现“controller接口”，此时要通过设置    	   *@RequestMapping()注解来映射URL
 *  ②使用注解后，要配置&lt;context:component-scan&gt;元素来进行“指定要扫描的包”，让注解生效
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FirstController2</span> <span class="token keyword">implements</span> <span class="token class-name">Controller</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">//其中的方法要配合@RequestMapping注解一起使用</span>

<span class="token punctuation">}</span>
</code></pre> <p>为了保证 <mark><strong>Spring</strong>能够<strong>找到控制器类</strong></mark>，还需要在<strong>SpringMVC的配置文件</strong> ( <mark><strong>springmvc-config.xml</strong></mark> )中添加相应的 <mark><strong>扫描配置信息</strong> （用 <strong>&lt;context:component-scan&gt;元素</strong> ，来<strong>指定需要扫描的包</strong></mark>，来进行 “<strong>根包扫描</strong>”），( <strong>springmvc-config.xml</strong> ) <strong>具体配置信息</strong> 如下 :</p> <pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>mvc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/mvc<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/context<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>
	http://www.springframework.org/schema/beans
	http://www.springframework.org/schema/beans/spring-beans.xsd
	http://www.springframework.org/schema/mvc
	http://www.springframework.org/schema/mvc/spring-mvc.xsd
	http://www.springframework.org/schema/context
	http://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--  配置“根包扫描”，指定需要扫描的包  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.myh.controller<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre> <p><mark><strong>注意点1</strong> ：</mark> ① 与 <strong>实现controller接口</strong>不同，使用 <strong>@Controller注解</strong> 的类中的方法通常使用 <strong>@RequestMapping注解</strong>来<strong>映射URL</strong>，这样你可以<strong>更直观地映射请</strong>求到<strong>具体的方法</strong>。此外，<strong>@controller注解</strong>通常与 <strong>@Autowired等注解</strong>一起使用，以实现<strong>依赖注入</strong>，这使得控<strong>制器之间的解耦</strong><br> 更为方便。<br> ② 在使用@controller注解的类中，你可以使用 <strong>@ModelAttribute</strong>、<strong>@RequestParam等注解</strong>来自<strong>动绑定请求参</strong><br> <strong>数</strong>，也可以使用 <strong>@ResponseBody注解</strong>来直接将<strong>方法返回</strong>值写入<strong>响应体</strong>，这<strong>使得处理请求和响应更为简洁</strong>。</p> <p><mark><strong>注意点2</strong> ：</mark><br> 使用<strong>注解方式</strong>时，程序的运行 <mark><strong>需要依赖Spring的 AOP 包</strong></mark>，因此需要向 lib目录中添加<strong>spring-aop-.jar</strong>，<strong>否则程序运行时会报错</strong>。</p> <p><a href="https://pan.baidu.com/s/1szFK26CLahCszLxdXbaiew?pwd=6fp4" rel="nofollow"> spring-aop.jar </a></p> </li></ul> 
</blockquote> 
<h3><a id="3RequestMapping__128"></a>3.RequestMapping 注解</h3> 
<h4><a id="31_RequestMapping___132"></a>3.1 @RequestMapping 注解的 “使用”</h4> 
<blockquote> 
 <ul><li> <p><strong>Spring</strong> 通过 <mark><strong>@Controller 注解</strong><mark>找到相应的</mark><strong>控制器</strong>类</mark> 后，还需要知道<strong>控制器内部</strong>对<strong>每一个请求</strong>是如何处理的，这就需要使用org.springframework.web.bind.annotation.<strong>RequestMapping注解</strong>类型。</p> </li><li> <p><mark><strong>RequestMapping注解类型</strong>用于 <strong>映射一个请求</strong>或<strong>一个方法</strong></mark> ，其注解形式为 : <mark><strong>@RequestMapping</strong></mark>，可以使用该注解 <mark><strong>标注在</strong>一个<strong>方法</strong>或一个<strong>类上</strong></mark>。</p> <p>( 即通过 <strong>@Controller注解</strong>则用于 <strong>标记“控制器类</strong>”，<strong>@RequestMapping注解</strong>则用于 “<strong>映射一个方法或一个类”</strong> ：<mark>即前端发送的 <strong>“url请求”</strong> 通过 <strong>“@RequestMapping注解” 能找到对应</strong>的“<strong>类</strong>或<strong>方法</strong>”上，“<strong>类或方法</strong>”则对请求做出“<strong>响应</strong>”</mark>。）</p> <p>（<strong>前端url请求</strong> --找到“<strong>控制器</strong>” —再根据自身携带“<strong>url请求信息</strong>”，对比“<strong>@RequestMapping</strong>中的<strong>url信息</strong>”，<strong>找到能做出“响应”<strong>的</strong>类</strong>或<strong>方法</strong>。）</p> </li></ul> 
</blockquote> 
<h5><a id="___144"></a>标注在 “方法” 上</h5> 
<blockquote> 
 <ul><li> <p>当 <mark><strong>标注</strong>在一个<strong>方法</strong></mark> 上时，<mark>该<strong>方法</strong>将成为一个<strong>请求处理方法</strong></mark>，它会在程序接<strong>收到对应</strong>的 <strong>URL请求时被调用</strong> （即前端的<strong>url请求信息</strong> 和 该方法上的@RequestMapping( )注解的 <strong>url信息一致</strong>，<strong>该方法就会被调用</strong>）。</p> <pre><code class="prism language-java"><span class="token comment">/**
 * 控制器类
 */</span>
<span class="token annotation punctuation">@Controller</span> <span class="token comment">//比较该类为“控制器类”</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FirstController</span>  <span class="token punctuation">{<!-- --></span>

    <span class="token comment">/**
     * 为“前端的url请求” 和 该“方法”中的“/firstController” 设立URL映射关系 :
     * 只要是 /firstController 的前端url请求 就会请求到该方法上， 执行该方法，并作出响应。
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/firstController"</span><span class="token punctuation">)</span> 
    <span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
           <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
           <span class="token keyword">return</span> mav<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <p><mark>使用 <strong>@RequestMapping注解</strong></mark> 后，上述代码中的 <mark><strong>handleRequest( )方法</strong><mark>就可以通过</mark><strong>地址</strong></mark>:<br> http://localhost:8080/springMVC_Demo/firstController <mark><strong>进行访问</strong></mark>。</p> </li></ul> 
</blockquote> 
<h5><a id="___172"></a>标注在 “类” 上</h5> 
<blockquote> 
 <ul><li> <p>当 <mark><strong>@RequestMapping注解</strong> 标注在<strong>一个类</strong></mark> 上时，该<strong>类中的所有方法</strong>都将<strong>映射为相对于类级别</strong>的<strong>请求</strong>，表示该<strong>控制器</strong>所处理的<strong>所有请求</strong>都被<strong>映射到value属性</strong>值所<strong>指定的路径下</strong>。</p> <p>（<mark><strong>简而言之 ：</strong></mark><br> <strong>@RequestMapping</strong>用在<strong>类</strong>上，就表明<strong>前端能通过“url路径 / url请求”</strong> 找到被 <strong>@RequestMapping标记</strong>的“<strong>控制器类”<strong>上，将 “<strong>控制器类</strong>” 和 “<strong>前端url请求</strong>” 进行</strong>URL映射绑定</strong>。）</p> <pre><code class="prism language-java"><span class="token comment">/**
 * 控制器类
 */</span>
<span class="token annotation punctuation">@Controller</span> <span class="token comment">//比较该类为“控制器类”</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">)</span> <span class="token comment">//前端的“url请求”能找到该“控制器类”</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FirstController3</span>  <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/FirstController3"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
           <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
           <span class="token keyword">return</span> mav<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <p>由于在 <mark>“<strong>控制器类</strong>”上</mark> 添加了 <mark><strong>@RequestMapping 注解</strong></mark>，并且其value 属性<mark>值为“<strong>/hello</strong>”</mark>，所以上述<strong>代</strong><br> <strong>码中</strong>的 <mark><strong>handleRequest( )方法</strong> 的<strong>请求路径将</strong>变为</mark>:http://localhost:8080/springMVC_Demo/hello/firstController。如果该<strong>类中还包含其他方法</strong>，那么在<strong>其他方法的请求路径中</strong>也需要加入“<strong>/hello</strong>”。</p> </li></ul> 
</blockquote> 
<h4><a id="32_RequestMapping___200"></a>3.2 @RequestMapping 注解的 “属性”</h4> 
<blockquote> 
 <ul><li> <p><mark><strong>@RequestMapping注解</strong>中 “<strong>属性</strong>”</mark>-<strong>详解</strong> ：</p> 
   <table><thead><tr><th>属性</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td><strong>name</strong></td><td><strong>String</strong></td><td><strong>可选属性</strong>，<mark>用于为<strong>映射地址 指定别名</strong></mark>。</td></tr><tr><td><mark><strong>value</strong></mark> <br> (<strong>默认属性)</strong></td><td><strong>String[]</strong></td><td><strong>可选属性</strong>，同时也是 <mark><strong>默认属性</strong></mark>，<mark>用于<strong>映射一个请求</strong>和<strong>一种方法</strong></mark>，可以<strong>标注在</strong>一个<strong>方法</strong>或<strong>一个类上</strong>。<br><strong>ps</strong> ： <br>当 <strong>value</strong> 是<strong>其唯一属性</strong>时，<strong>可以省略属性名</strong>，<mark>即<strong>当注解中</strong>只有<strong>value</strong>这<strong>一个属性</strong>时，<strong>可省略不写value</strong> ( <strong>省略属性名</strong> )</mark></td></tr><tr><td><mark><strong>method</strong></mark></td><td><strong>RequestMethod[]</strong></td><td><strong>可选属性</strong>，用于 <mark><strong>指定</strong>该方法用于<strong>处理哪种类型</strong>的<strong>请求方式</strong></mark>，其请<strong>求方式</strong>包括 <strong>GET</strong>、<strong>POST</strong>、<strong>HEAD</strong>、<strong>OPTIONS</strong>、<strong>PUT</strong>、<strong>PATCH</strong>、<strong>DELETE</strong> 和 <strong>TRACE</strong>。<br>例如 <strong>method=RequestMethod.GET</strong> 表示<strong>只支持 GET 请求</strong>，如果需要<strong>支持多个请求方式</strong>则需要通过 <strong>{ }写成数组的形式</strong>，并且<strong>多个请求方式之间</strong>是有<strong>英文逗号分隔</strong>。</td></tr><tr><td><strong>params</strong></td><td><strong>String[]</strong></td><td><strong>可选属性</strong>，用于指定<strong>Request 中</strong>必须<strong>包含某些参数的值</strong>，才可以通过<strong>其标注的方法处理</strong>。</td></tr><tr><td><strong>headers</strong></td><td><strong>String[]</strong></td><td><strong>可选属性</strong>，<mark>用于指定<strong>Request</strong> 中<strong>必须包含</strong>某些<strong>指定的header的值</strong></mark>,才可以通过<strong>其标注的方法</strong>处理。</td></tr><tr><td><strong>consumes</strong></td><td><strong>String[]</strong></td><td><strong>可选属性</strong>，<mark>用于指定<strong>处理请求</strong>的<strong>提交内容类型</strong></mark>( <strong>Content-type</strong> )，比如 <mark><strong>application/json</strong>、<strong>text/html</strong></mark> 等。</td></tr><tr><td><strong>produces</strong></td><td><strong>String[]</strong></td><td><strong>可选属性</strong>，<mark>用于<strong>指定返回</strong>的<strong>内容类型</strong></mark>，<strong>返回的内容类型</strong>必须是<strong>request请求头</strong>( <strong>Accept</strong> )中<strong>所包含的类型</strong>。</td></tr></tbody></table><p>在上表中，<mark><strong>所有属性</strong>都是<strong>可选的</strong></mark>，但其 <mark><strong>默认属性</strong>是<strong>value</strong></mark>。当 <strong>value</strong> 是<strong>其唯一属性</strong>时，<strong>可以省略属性名</strong>，例如下面两种<strong>标注的含义</strong>相同 (因为<strong>只有value这个一个属性</strong> ) ：</p> <pre><code class="prism language-java"><span class="token comment">/**
 * 因为只有value这一个属性，所以value这个属性名可以省略不写。
 * (这两个注解含义相同)
 */</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">)</span> 
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span> 
</code></pre> </li></ul> 
</blockquote> 
<h3><a id="4_229"></a>4.组合注解</h3> 
<blockquote> 
 <ul><li> <p><mark>在<strong>Spring框架的4.3版本中</strong></mark>，<strong>引入</strong>了 <mark><strong>组合注解</strong></mark>，来帮助<strong>简化常用的HTTP 方法</strong>的<strong>映射</strong>，并更好地表达被<strong>注解方法</strong>的<strong>语义</strong>。其<strong>组合注解</strong>如下所示 ：</p> <p><mark><strong>@GetMapping</strong></mark> : 匹配 <mark><strong>GET 方式</strong></mark> 的<strong>请求</strong>。<br> <mark><strong>@PostMapping</strong></mark> : 匹配 <mark><strong>POST 方式</strong></mark> 的<strong>请求</strong>。<br> <mark><strong>@PutMapping</strong></mark> : 匹配 <mark><strong>PUT 方式</strong></mark> 的<strong>请求</strong>。<br> <mark><strong>@DeleteMapping</strong></mark> : 匹配 <mark><strong>DELETE 方式</strong></mark> 的<strong>请求</strong>。<br> <mark><strong>@PatchMapping</strong></mark> : 匹配 <mark><strong>PATCH方式</strong></mark> 的<strong>请求</strong>。</p> </li><li> <p>以 <mark><strong>@GetMapping 为例</strong></mark>，该 <mark><strong>组合注解</strong>是 <strong>@RequestMapping(method = RequestMethod.GET)</strong></mark><br> 的 <mark><strong>缩写</strong></mark>，它会将 <strong>HTTP GET映射</strong>到特定的处理<strong>方法</strong>上。</p> <p><strong>例子如下</strong> ：</p> <p><mark><strong>传统的@RequestMapping注解</strong>的<strong>使用方式</strong></mark> 如下 ：</p> <pre><code class="prism language-java"> <span class="token comment">//"传统"的@RequestMapping注解使用方式</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/user/{id}"</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">GET</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">selectUserById</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>
</code></pre> <p><mark><strong>新注解 : @GetMapping</strong> 的 <strong>使用方式</strong></mark> 如下 ：</p> <pre><code class="prism language-java">    <span class="token comment">//"新注解 :@GetMapping注解的使用</span>
    <span class="token comment">//新注解比“传统的注解方式” 使用起来更简单</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/user{id}"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">selectUserById</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
</code></pre> <p><strong>新注解</strong> ( <mark><strong>组合注解</strong></mark> )比“<strong>传统的注解方式</strong>” 使<strong>用起来更简单</strong>，可以<strong>省略method属性</strong>。</p> </li></ul> 
</blockquote> 
<h4><a id="41_____271"></a>4.1 请求处理方法的 “参数类型” 和 “返回值类型”</h4> 
<h5><a id="__273"></a>请求处理方法中的 “参数类型”</h5> 
<blockquote> 
 <ul><li> <p><mark>在<strong>控制器类</strong>中，每一个<strong>请求处理方法</strong>都可以有<strong>多个不同类型</strong>的<strong>参数</strong>，以及一个<strong>多种类型</strong>的<strong>返回结果</strong></mark>。例如在<strong>入门案例</strong>中，<strong>handleRequest()方法</strong>的 <mark><strong>参数</strong></mark> 就是对应请求的 <mark><strong>HttpServletRequest</strong>和 <strong>HttpServletResponse</strong> <strong>两种参数类型</strong></mark>。除此之外，还可以使用其他的参数类型，例如在请求处理方法中需要访问<strong>HttpSession</strong>对象，则可以添加 <mark><strong>HttpSession</strong></mark> 作为 <mark><strong>参数</strong></mark>，Spring<strong>会将对象正确地传递给方法</strong>，其使用示例如下 :</p> <pre><code class="prism language-java">    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/user{id}"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">selectUserById</span><span class="token punctuation">(</span><span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//该“请求处理方法”的参数为 : HttpSession</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
</code></pre> </li><li> <p>在 <mark><strong>请求处理方法</strong></mark> 中， <mark><strong>可以出现</strong>的<strong>参数类型</strong></mark> 如下：（注意： <mark>下面的“<strong>请求方法</strong>”中的“<strong>参数内容</strong>”</mark> ）</p> <p>.javax.servlet.<strong>ServletRequest</strong> / javax.servlet.http.<strong>HttpServletRequest</strong><br> javax.servlet.<strong>ServletResponse</strong> / javax.servlet.http.<strong>HttpServletResponse</strong><br> javax.servlet.http.<strong>HttpSession</strong><br> org.springframework.web.context.request.<strong>WebRequest</strong> 或<br> org.springframework.web.context.request.<strong>NativeWebRequest</strong><br> java.util.<strong>Locale</strong><br> java.util.<strong>TimeZone</strong> (Java 6+) / java.time.<strong>Zoneld</strong> (on Java 8)<br> java.io.<strong>InputStream</strong> / java.io.<strong>Reader</strong><br> java.io.<strong>OutputStream</strong> / java.io.<strong>Writer</strong><br> org.springframework.http.<strong>HttpMethod</strong><br> java.security.<strong>Principal</strong><br> <strong>@PathVariable</strong>、<strong>@MatrixVariable</strong>、<strong>@RequestParam</strong>、<strong>@RequestHeader</strong>、<strong>@RequestBody</strong><br> <strong>@RequestPart</strong>、<strong>@SessionAttribute</strong>、<strong>@RequestAttribute 注解</strong><br> <strong>HttpEntity&lt;?&gt;</strong><br> java.util.<strong>Map</strong> / org.springframework.ui.<mark><strong>Model</strong></mark> / org.springframework.ui.<strong>ModelMap</strong><br> .org.springframework.web.servlet.mvc.support.<strong>RedirectAttributes</strong><br> org.springframework.validation.Errors /org.springframework.validation.<strong>BindingResult</strong><br> org.springframework.web.bind.support.<strong>SessionStatus</strong><br> ·org.springframework.web.util.<strong>UriComponentsBuilder</strong></p> <p><mark><strong>ps ：</strong></mark><br> <strong>需要注意的是</strong>，org.springframework.ui.<mark><strong>Model类型不是一个Servlet API类型</strong></mark>，而是一个<mark>包含了 <strong>Map 对象</strong>的 <strong>Spring MVC 类型</strong></mark>。如果<strong>方法中添加</strong>了<strong>Model 参数</strong>，则每次调用<strong>该请求处理方法时</strong>，Spring MVC 都<strong>会创建Model对象</strong>，并将其作为<strong>参数传递给方法</strong>。</p> </li></ul> 
</blockquote> 
<h5><a id="__311"></a>请求处理方法的 “返回值类型”</h5> 
<blockquote> 
 <ul><li> <p>在上面代码案例中，<mark><strong>请求处理方法返回</strong><mark>的是一个</mark><strong>ModelAndView类型</strong>的<strong>数据</strong></mark> ( <mark><strong>请求处理方法</strong>的<strong>返回值类型</strong>为 ：<strong>ModelAndView类型</strong></mark> )。<strong>除了此种类型外</strong>，<strong>请求处理方法</strong>还可以<strong>返回其他类型的数据</strong>。</p> </li><li> <p><mark><strong>Spring MVC 所支持</strong>的<strong>常见方法返回类型</strong></mark> ( <mark><strong>返回值类型</strong></mark> )如下 :</p> 
   <table><thead><tr><th>返回值类型</th><th>描述</th></tr></thead><tbody><tr><td><mark><strong>ModelAndView</strong></mark> (<strong>常用</strong>)</td><td><strong>ModelAndView</strong>类型中可以 <mark>添加<strong>Model 数据</strong></mark>，并 <mark><strong>指定视图</strong></mark></td></tr><tr><td><mark><strong>Model</strong></mark> (<strong>常用</strong>)</td><td>———</td></tr><tr><td><strong>Map</strong></td><td>———</td></tr><tr><td><strong>View</strong></td><td></td></tr><tr><td><mark><strong>String</strong></mark> (<strong>常用</strong>)<br><strong>ps :</strong> <br>实际开发中通用<strong>String</strong>类型<strong>跳转“”视图“”</strong> + <strong>Model参数</strong>传递“<strong>属性值</strong>”。</td><td><strong>String类型</strong>的 <mark><strong>返回值</strong><mark>可以跳转</mark><strong>视图</strong></mark>，<mark>但<strong>不能携带数据</strong></mark>。<br>ps :<br> <strong>String</strong>类型<strong>除了可以跳转“视图</strong>”外，还能 <mark>“<strong>重定向</strong>” 和 “<strong>请求转发</strong>”</mark>。</td></tr><tr><td><mark><strong>void</strong></mark> (<strong>常用</strong>)</td><td><strong>void类型</strong>主要在 <mark><strong>异步请求时使用</strong></mark>，<mark>它<strong>只返回数据</strong>，而<strong>不会跳转视图</strong></mark>。</td></tr><tr><td><strong>HttpEntity&lt;?&gt;</strong> 或 <strong>ResponseEntity&lt;?&gt;</strong></td><td>———</td></tr><tr><td><strong>Callable&lt;?&gt;</strong></td><td>———</td></tr><tr><td><strong>DeferredResult&lt;?&gt;</strong></td><td>———</td></tr></tbody></table><p><mark><strong>注意点 ：</strong></mark><br> 由于==<strong>ModelAndView</strong>类型<strong>未能实现数据与视图之间</strong>的<strong>解耦</strong><mark>，所以在<strong>企业开发</strong>时，</mark><strong>方法</strong>的<strong>返回类型</strong>通常<strong>都会使用String</strong><mark>。既然 <strong>String 类型</strong>的<strong>返回值不能携带数据</strong>，那么在<strong>方法中</strong>是如何<strong>将数据带入视图页面</strong>的呢 ？这就</mark><strong>用到</strong>==了上面所讲解的 <mark><strong>Model 参数类型</strong></mark> ( <strong>Mode类型</strong> : 属于<strong>处理方法</strong>中的 <mark><strong>参数类型</strong></mark> )，<mark>通过<strong>该参数类型</strong>，即可<strong>添加需要在视图中显示</strong>的<strong>属性</strong></mark>。</p> <p>（<strong>实际开发</strong>中，<strong>常用</strong>的是 ：<br> <mark><strong>①</strong></mark> 通过<strong>String</strong>类型<strong>跳转“”视图“</strong>” <mark><strong>②</strong></mark> 通过<strong>Model参数</strong>类型<strong>传递“属性值”</strong>）</p> <pre><code class="prism language-java"><span class="token annotation punctuation">@Controller</span> <span class="token comment">//比较该类为“控制器类”</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/firstController"</span><span class="token punctuation">)</span> <span class="token comment">//前端的“url请求”能找到该“控制器类”</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FirstController3</span>  <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/firstController"</span><span class="token punctuation">)</span>
    <span class="token comment">//返回值类型为 : String : 可跳转“视图”。</span>
    <span class="token comment">//处理方法中的“参数类型” : Model(模型对象) : 可传递“属性”(给"视图")--通过Model向视图中添加传递数据</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">selectUserById</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span>
                                 <span class="token class-name">HttpServletResponse</span> response <span class="token punctuation">,</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span>  <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//向Model(模型对象)中添加数据 --进行数据的传递</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span> <span class="token string">"这是我的第一个Spring MVC程序。"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//通过String类型返回“视图“</span>
        <span class="token keyword">return</span> <span class="token string">"WEB-INF/jsp/first.jsp"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <p>在上述<strong>方法代码</strong>中，“<strong>处理方法</strong>”中<strong>参数</strong>的类型有 : <strong>Model</strong> (模型对象)，通过该<strong>参数实例</strong>的<strong>addAttribute( )<strong>方法即可</strong>添加所需数据</strong>。“<strong>处理方法</strong>”的<strong>返回值类型</strong>为 : <strong>String类型</strong>，<strong>String类型</strong>除了可以<strong>返回上述代码中</strong>的<strong>视图页面</strong>外，还可以进行 <mark><strong>重定向</strong>与<strong>请求转发</strong></mark>。</p> </li></ul> 
</blockquote> 
<h6><a id="String__357"></a>通过返回值“String类型”进行 “重定向”</h6> 
<blockquote> 
 <pre><code class="prism language-java"> <span class="token comment">//通过String类型进行“重定向”</span>
 <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/update"</span><span class="token punctuation">)</span>
 <span class="token comment">//返回值类型为 : String ，此处通过String来进行“重定向”</span>
 <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">selectUserById</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span>
                              <span class="token class-name">HttpServletResponse</span> response <span class="token punctuation">,</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span>  <span class="token punctuation">{<!-- --></span>
     <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
     <span class="token keyword">return</span> <span class="token string">"redirect:queryUser"</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre> 
</blockquote> 
<h6><a id="String_forward_372"></a>通过返回值“String类型”进行 “请求forward转发”</h6> 
<blockquote> 
 <pre><code class="prism language-java"><span class="token comment">//通过String类型进行“forward请求转发”</span>
 <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/toEdit"</span><span class="token punctuation">)</span>
 <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">selectUserById</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span>
                              <span class="token class-name">HttpServletResponse</span> response <span class="token punctuation">,</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span>  <span class="token punctuation">{<!-- --></span>
     <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
     <span class="token keyword">return</span> <span class="token string">"forward:editUser"</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre> 
</blockquote> 
<h3><a id="5ViewResolver_388"></a>5.ViewResolver(视图解析器)</h3> 
<blockquote> 
 <ul><li> <p><strong>Spring MVC</strong> 中的 <mark><strong>视图解析器</strong></mark> <mark><strong>负责解析视图</strong></mark>，可以通过在<strong>配置文件中</strong>定义一个<strong>ViewResolver</strong>来<strong>配置视图解析器</strong>，<strong>其配置示例</strong>如下 :</p> <pre><code class="prism language-xml">    <span class="token comment">&lt;!--   配置“视图解析器” : 在“处理方法”中可直接写要返回的“视图文件名”，不用写“该视图”对应的前后缀 --&gt;</span>
    <span class="token comment">&lt;!--  在视图解析器中配置要返回的视图的对应的“前后缀”  --&gt;</span>
	<span class="token comment">&lt;!--  配置视图解析器 : 可简化在“处理方法”中要填的“视图的路径”  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewResolver<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.springframework.web.servlet.view.InternalResourceViewResolver<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
       <span class="token comment">&lt;!--    设置返回的“视图”对应的“前缀”    --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>prefix<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/WEB-INF/jsp<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--    设置返回的“视图”对应的“后缀”    --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>suffix<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.jsp<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre> <p>在<strong>上述代码</strong>中，定义了一个<strong>id</strong> 为<strong>viewResolver</strong>的 <mark><strong>视图解析器</strong></mark>，并设置了 <mark><strong>视图的前缀</strong>和<strong>后缀</strong><mark>属性。这样设置后，<strong>方法中所定义</strong>的</mark><strong>view 路径</strong>将<strong>可以简化</strong></mark>。例如，<strong>上面例子</strong>中的<strong>逻辑视图名</strong>只需设置为“<strong>first</strong>”，而<strong>不再需要设置为“WEB-INF/jsp/first.jsp”</strong> (配置了前后置，现在只<strong>return “first”</strong> 就能<strong>返回一个视图</strong>)，在<strong>访问时视图解析器</strong>会<strong>自动地增加前缀</strong>和<strong>后缀</strong>。</p> </li></ul> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5b73966588f7b2dcbd921066cfaa1612/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">HTML 学习笔记(九)颜色值和长度单位</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/540409a61d313de2f2eba946a8190ee5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">retrofit2中，响应参数的int类型会被转为double小数点的解决办法。</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>