<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>matplotlib绘图的完善及美化 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="matplotlib绘图的完善及美化" />
<meta property="og:description" content="目录
matplotlib绘图的完善及美化
--0、导入基本库--
--1、完善标题--
--2、完善标签(图例标签设置)--
--3、轴标签说明设置--
--4、设置x与y轴的刻度范围--
--5、自定义每个刻度的显示标签--
--6、设置坐标轴的刻度间隔--
--7、网格设置--
--8、颜色，线型，点标记，透明度设置--
--9、添加注解--
--10、给图形上的坐标点添加注释--
--11、其他优化--
--12、图形样式的选择--
--13、绘制面板图、仪表板--
--14、案例--
matplotlib的绘图原理及流程详解，参考公众号上一文：matplotlib的绘图原理及流程详解
matplotlib绘图的完善及美化 --0、导入基本库-- import numpy as npimport pandas as pdimport matplotlib as mplimport matplotlib.pyplot as plt #最常用的绘图库 mpl.rcParams[&#34;font.family&#34;]=&#34;SimHei&#34; #使用支持的黑体中文字体mpl.rcParams[&#34;axes.unicode_minus&#34;]=False # 用来正常显示负数 &#34;-&#34;plt.rcParams[&#39;font.sans-serif&#39;]=[&#39;SimHei&#39;] # 用来正常显示中文标签# mpl.rcParams[&#34;font.style&#34;]=&#34;normal&#34; #设置标签风格，normal 常规（默认）/italic 斜体/oblique 倾斜# mpl.rcParams[&#34;font.size&#34;]=11 #font.size 字体的大小（默认10）# % matplotlib inline #jupyter中用于直接嵌入图表，不用plt.show()import warningswarnings.filterwarnings(&#34;ignore&#34;) #用于排除警告 #用于显示使用库的版本print(&#34;numpy_&#34; &#43; np.__version__)print(&#34;pandas_&#34; &#43; pd.__version__)print(&#34;matplotlib_&#34;&#43; mpl.__version__) --1、完善标题-- 在每个axes绘图后都应该添加一个title,使每个axes都有一个标题
默认添加一个title
plt.title(&#34;TitleName&#34;)
当然可以通过局部设置美化我们的标题
参数说明：
family=[&#39;SimHei&#39;,&#39;STSong&#39;,&#39;STXihei&#39;,&#39;NSimSun&#39;,&#39;STXihei&#39;,...]#字体
styles=[&#39;normal&#39;,&#39;italic&#39;,&#39;oblique&#39;]#字体的风格[&#34;常规(默认)&#34;,&#34;斜体字&#34;,&#34;倾斜自&#34;]" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/19597a22e1e415f858ed331b92b6f955/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-10-20T11:49:58+08:00" />
<meta property="article:modified_time" content="2020-10-20T11:49:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">matplotlib绘图的完善及美化</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="matplotlib%E7%BB%98%E5%9B%BE%E7%9A%84%E5%AE%8C%E5%96%84%E5%8F%8A%E7%BE%8E%E5%8C%96-toc" style="margin-left:0px;"><a href="#matplotlib%E7%BB%98%E5%9B%BE%E7%9A%84%E5%AE%8C%E5%96%84%E5%8F%8A%E7%BE%8E%E5%8C%96" rel="nofollow">matplotlib绘图的完善及美化</a></p> 
<p id="--0%E3%80%81%E5%AF%BC%E5%85%A5%E5%9F%BA%E6%9C%AC%E5%BA%93---toc" style="margin-left:40px;"><a href="#--0%E3%80%81%E5%AF%BC%E5%85%A5%E5%9F%BA%E6%9C%AC%E5%BA%93--" rel="nofollow">--0、导入基本库--</a></p> 
<p id="--1%E3%80%81%E5%AE%8C%E5%96%84%E6%A0%87%E9%A2%98---toc" style="margin-left:40px;"><a href="#--1%E3%80%81%E5%AE%8C%E5%96%84%E6%A0%87%E9%A2%98--" rel="nofollow">--1、完善标题--</a></p> 
<p id="--2%E3%80%81%E5%AE%8C%E5%96%84%E6%A0%87%E7%AD%BE(%E5%9B%BE%E4%BE%8B%E6%A0%87%E7%AD%BE%E8%AE%BE%E7%BD%AE)---toc" style="margin-left:40px;"><a href="#--2%E3%80%81%E5%AE%8C%E5%96%84%E6%A0%87%E7%AD%BE%28%E5%9B%BE%E4%BE%8B%E6%A0%87%E7%AD%BE%E8%AE%BE%E7%BD%AE%29--" rel="nofollow">--2、完善标签(图例标签设置)--</a></p> 
<p id="--3%E3%80%81%E8%BD%B4%E6%A0%87%E7%AD%BE%E8%AF%B4%E6%98%8E%E8%AE%BE%E7%BD%AE---toc" style="margin-left:40px;"><a href="#--3%E3%80%81%E8%BD%B4%E6%A0%87%E7%AD%BE%E8%AF%B4%E6%98%8E%E8%AE%BE%E7%BD%AE--" rel="nofollow">--3、轴标签说明设置--</a></p> 
<p id="--4%E3%80%81%E8%AE%BE%E7%BD%AEx%E4%B8%8Ey%E8%BD%B4%E7%9A%84%E5%88%BB%E5%BA%A6%E8%8C%83%E5%9B%B4---toc" style="margin-left:40px;"><a href="#--4%E3%80%81%E8%AE%BE%E7%BD%AEx%E4%B8%8Ey%E8%BD%B4%E7%9A%84%E5%88%BB%E5%BA%A6%E8%8C%83%E5%9B%B4--" rel="nofollow">--4、设置x与y轴的刻度范围--</a></p> 
<p id="--5%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E6%AF%8F%E4%B8%AA%E5%88%BB%E5%BA%A6%E7%9A%84%E6%98%BE%E7%A4%BA%E6%A0%87%E7%AD%BE---toc" style="margin-left:40px;"><a href="#--5%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E6%AF%8F%E4%B8%AA%E5%88%BB%E5%BA%A6%E7%9A%84%E6%98%BE%E7%A4%BA%E6%A0%87%E7%AD%BE--" rel="nofollow">--5、自定义每个刻度的显示标签--</a></p> 
<p id="--6%E3%80%81%E8%AE%BE%E7%BD%AE%E5%9D%90%E6%A0%87%E8%BD%B4%E7%9A%84%E5%88%BB%E5%BA%A6%E9%97%B4%E9%9A%94---toc" style="margin-left:40px;"><a href="#--6%E3%80%81%E8%AE%BE%E7%BD%AE%E5%9D%90%E6%A0%87%E8%BD%B4%E7%9A%84%E5%88%BB%E5%BA%A6%E9%97%B4%E9%9A%94--" rel="nofollow">--6、设置坐标轴的刻度间隔--</a></p> 
<p id="--7%E3%80%81%E7%BD%91%E6%A0%BC%E8%AE%BE%E7%BD%AE---toc" style="margin-left:40px;"><a href="#--7%E3%80%81%E7%BD%91%E6%A0%BC%E8%AE%BE%E7%BD%AE--" rel="nofollow">--7、网格设置--</a></p> 
<p id="--8%E3%80%81%E9%A2%9C%E8%89%B2%EF%BC%8C%E7%BA%BF%E5%9E%8B%EF%BC%8C%E7%82%B9%E6%A0%87%E8%AE%B0%EF%BC%8C%E9%80%8F%E6%98%8E%E5%BA%A6%E8%AE%BE%E7%BD%AE---toc" style="margin-left:40px;"><a href="#--8%E3%80%81%E9%A2%9C%E8%89%B2%EF%BC%8C%E7%BA%BF%E5%9E%8B%EF%BC%8C%E7%82%B9%E6%A0%87%E8%AE%B0%EF%BC%8C%E9%80%8F%E6%98%8E%E5%BA%A6%E8%AE%BE%E7%BD%AE--" rel="nofollow">--8、颜色，线型，点标记，透明度设置--</a></p> 
<p id="--9%E3%80%81%E6%B7%BB%E5%8A%A0%E6%B3%A8%E8%A7%A3---toc" style="margin-left:40px;"><a href="#--9%E3%80%81%E6%B7%BB%E5%8A%A0%E6%B3%A8%E8%A7%A3--" rel="nofollow">--9、添加注解--</a></p> 
<p id="--10%E3%80%81%E7%BB%99%E5%9B%BE%E5%BD%A2%E4%B8%8A%E7%9A%84%E5%9D%90%E6%A0%87%E7%82%B9%E6%B7%BB%E5%8A%A0%E6%B3%A8%E9%87%8A---toc" style="margin-left:40px;"><a href="#--10%E3%80%81%E7%BB%99%E5%9B%BE%E5%BD%A2%E4%B8%8A%E7%9A%84%E5%9D%90%E6%A0%87%E7%82%B9%E6%B7%BB%E5%8A%A0%E6%B3%A8%E9%87%8A--" rel="nofollow">--10、给图形上的坐标点添加注释--</a></p> 
<p id="--11%E3%80%81%E5%85%B6%E4%BB%96%E4%BC%98%E5%8C%96---toc" style="margin-left:40px;"><a href="#--11%E3%80%81%E5%85%B6%E4%BB%96%E4%BC%98%E5%8C%96--" rel="nofollow">--11、其他优化--</a></p> 
<p id="--12%E3%80%81%E5%9B%BE%E5%BD%A2%E6%A0%B7%E5%BC%8F%E7%9A%84%E9%80%89%E6%8B%A9---toc" style="margin-left:40px;"><a href="#--12%E3%80%81%E5%9B%BE%E5%BD%A2%E6%A0%B7%E5%BC%8F%E7%9A%84%E9%80%89%E6%8B%A9--" rel="nofollow">--12、图形样式的选择--</a></p> 
<p id="--13%E3%80%81%E7%BB%98%E5%88%B6%E9%9D%A2%E6%9D%BF%E5%9B%BE%E3%80%81%E4%BB%AA%E8%A1%A8%E6%9D%BF---toc" style="margin-left:40px;"><a href="#--13%E3%80%81%E7%BB%98%E5%88%B6%E9%9D%A2%E6%9D%BF%E5%9B%BE%E3%80%81%E4%BB%AA%E8%A1%A8%E6%9D%BF--" rel="nofollow">--13、绘制面板图、仪表板--</a></p> 
<p id="--14%E3%80%81%E6%A1%88%E4%BE%8B---toc" style="margin-left:40px;"><a href="#--14%E3%80%81%E6%A1%88%E4%BE%8B--" rel="nofollow">--14、案例--</a></p> 
<hr id="hr-toc"> 
<p>matplotlib的绘图原理及流程详解，参考公众号上一文：<a href="http://mp.weixin.qq.com/s?__biz=MzI1NTEyODAxOA==&amp;mid=2247484100&amp;idx=1&amp;sn=ddca2a2f7749c6bafbc1aa5c256e12fa&amp;chksm=ea3bfa79dd4c736f6d041ae3c2d13aa4b0612103a814bd602e4f2f6994fedb46e514989f8025&amp;scene=21#wechat_redirect" rel="nofollow">matplotlib的绘图原理及流程详解</a></p> 
<h2 id="matplotlib%E7%BB%98%E5%9B%BE%E7%9A%84%E5%AE%8C%E5%96%84%E5%8F%8A%E7%BE%8E%E5%8C%96"><strong>matplotlib绘图的完善及美化</strong></h2> 
<hr> 
<h3 id="--0%E3%80%81%E5%AF%BC%E5%85%A5%E5%9F%BA%E6%9C%AC%E5%BA%93--"><strong><strong>--0、导入基本库--</strong></strong></h3> 
<pre><code>import numpy as np</code><code>import pandas as pd</code><code>import matplotlib as mpl</code><code>import matplotlib.pyplot as plt  #最常用的绘图库</code>
<code>mpl.rcParams["font.family"]="SimHei"  #使用支持的黑体中文字体</code><code>mpl.rcParams["axes.unicode_minus"]=False # 用来正常显示负数  "-"</code><code>plt.rcParams['font.sans-serif']=['SimHei'] # 用来正常显示中文标签</code><code># mpl.rcParams["font.style"]="normal"   #设置标签风格，normal 常规（默认）/italic 斜体/oblique 倾斜</code><code># mpl.rcParams["font.size"]=11   #font.size 字体的大小（默认10）</code><code># % matplotlib inline  #jupyter中用于直接嵌入图表，不用plt.show()</code><code>import warnings</code><code>warnings.filterwarnings("ignore") #用于排除警告</code>
<code>#用于显示使用库的版本</code><code>print("numpy_" + np.__version__)</code><code>print("pandas_" + pd.__version__)</code><code>print("matplotlib_"+ mpl.__version__)</code></pre> 
<hr> 
<h3 id="--1%E3%80%81%E5%AE%8C%E5%96%84%E6%A0%87%E9%A2%98--"><strong>--1、完善标题--</strong></h3> 
<p>在每个axes绘图后都应该添加一个title,使每个axes都有一个标题</p> 
<p>默认添加一个title</p> 
<p>plt.title("TitleName")</p> 
<p>当然可以通过局部设置美化我们的标题</p> 
<p>参数说明：</p> 
<p>family=['SimHei','STSong','STXihei','NSimSun','STXihei',...]#字体</p> 
<p>styles=['normal','italic','oblique']#字体的风格["常规(默认)","斜体字","倾斜自"]</p> 
<p>weights=['light','normal','medium','semibold','bold','heavy','black']#字体粗细</p> 
<p>color=["white","black","red","blue","yellow","green",...]#字体颜色</p> 
<p>size=[10,12,14,15,16,18,22,24,....]#字体大小</p> 
<p>案例：</p> 
<p>font={"family":"SimHei","style":"normal","weight":"normal","color":"green","size":16}</p> 
<p>plt.title("TitleName",fontdict=font)#显示一个中文标题</p> 
<pre><code>x = range(1,11)</code><code>y = np.random.rand(10)</code><code>z = np.random.rand(10)*2</code><code>figure = plt.figure(num="案例1",figsize=(16,9),facecolor="red",edgecolor="blue",frameon=True)</code><code>font={"family":"SimHei","style":"normal","weight":"normal","color":"green","size":16}</code>
<code>axes1 = plt.subplot(2,2,1)</code><code>axes1.plot(x,z,label="折线图")</code><code>plt.legend(loc="best")</code><code>plt.title("图1",fontdict=font)</code>
<code>axes2 = plt.subplot(2,2,2)</code><code>axes2.bar(x,y,label="柱状图")</code><code>plt.legend(loc="best")</code><code>plt.title("图2",fontdict=font)</code>
<code>axes3 = plt.subplot(2,2,3)</code><code>axes3.scatter(x,y)</code><code>plt.legend(range(1,11),loc="right",frameon=False,title="散点图",ncol=1)</code><code>plt.title("图3",fontdict=font)</code>
<code>axes4 = plt.subplot(2,2,4)</code><code>axes4.pie(y)</code><code>plt.legend(range(1,11),loc="right",frameon=False,title="饼图",ncol=1)</code><code>plt.title("图4",fontdict=font)</code>
<code>plt.show()</code></pre> 
<p><img alt="" src="https://images2.imgbox.com/97/cb/ilR79eEV_o.png"></p> 
<p> </p> 
<hr> 
<h3 id="--2%E3%80%81%E5%AE%8C%E5%96%84%E6%A0%87%E7%AD%BE(%E5%9B%BE%E4%BE%8B%E6%A0%87%E7%AD%BE%E8%AE%BE%E7%BD%AE)--"><strong>--2、完善标签(图例标签设置</strong><strong>)--</strong></h3> 
<p>在做图的时候，尤其是一个axes中有多个图形对象的时候，必须加上标签，才能区分每个图形表示的是什么。</p> 
<p><strong>方法1：</strong>在绘图的时候就加上标签，label="标签名称"plt.legend(loc="best")调用生成标签</p> 
<pre><code>x,y=list(range(1,13)),np.random.randint(50,100,12)</code><code>plt.plot(x,y,label="2016年")</code><code>plt.plot(list(range(1,13)),np.random.randint(50,100,12),label="2017年")</code><code>plt.legend(loc="best")#调用生成标签</code><code>plt.show()</code></pre> 
<p><strong>方法2：</strong>绘制完图片后，再使用plt.legend()生成标签</p> 
<p>参数说明：</p> 
<ul><li> <p>["标签名2","标签名3","标签名3",...]#一个axes中有几个表示不用意义的图就有几个标签名</p> </li><li> <p>loc=["best","upper","down","left","right","upperleft","upperright","downleft"...]</p> </li><li> <p>#loc控制图例的显示位置，默认为best，即选择一个最好的位置。</p> </li><li> <p>frameon=[False,True]#是否显示边框</p> </li><li> <p>title="标签组的大标题"#给整个标签组起一个名</p> </li><li> <p>ncol=n#n是数字，表示标签组显示成多少个列</p> </li></ul> 
<p>案例：</p> 
<pre><code>x,y=list(range(1,13)),np.random.randint(50,100,12)</code><code>x,y=list(range(1,13)),np.random.randint(50,100,12)</code><code>plt.plot(x,y)</code><code>plt.plot(list(range(1,13)),np.random.randint(50,100,12))</code><code>plt.legend(["2018年","2019年"],loc="best",frameon=False,title="年降雨量",ncol=2)</code><code>plt.show()</code></pre> 
<hr> 
<h3 id="--3%E3%80%81%E8%BD%B4%E6%A0%87%E7%AD%BE%E8%AF%B4%E6%98%8E%E8%AE%BE%E7%BD%AE--"><strong>--3、轴标签说明设置--</strong></h3> 
<p>plt.xlabel()设置x轴的标签说明。</p> 
<p>plt.ylabel()设置y轴的标签说明。</p> 
<p>每个axes对象都应该设置轴标签。</p> 
<p>当然也可以通过局部设置美化我们的轴标签</p> 
<p>案例：</p> 
<pre><code>x,y=list(range(1,13)),np.random.randint(50,100,12)</code><code>plt.plot(x,y)</code><code>plt.plot(list(range(1,13)),np.random.randint(50,100,12))</code><code>plt.legend(["2018年","2019年"],loc="best",frameon=False,title="年降雨量",ncol=2)</code><code>font={"family":"SimHei","style":"normal","weight":"normal","color":"green","size":12}</code><code>plt.xlabel("月",fontdict=font)</code><code>plt.ylabel("降雨量",fontdict=font)</code><code>plt.show(</code></pre> 
<hr> 
<h3 id="--4%E3%80%81%E8%AE%BE%E7%BD%AEx%E4%B8%8Ey%E8%BD%B4%E7%9A%84%E5%88%BB%E5%BA%A6%E8%8C%83%E5%9B%B4--"><strong>--4、设置x与y轴的刻度范围--</strong></h3> 
<p>plt.xlim(xmin, xmax)</p> 
<p>plt.ylim(ymin, ymax)</p> 
<pre><code>x,y=list(range(1,13)),np.random.randint(50,100,12)</code><code>plt.plot(x,y)</code><code>plt.plot(list(range(1,13)),np.random.randint(50,100,12))</code><code>plt.legend(["2018年","2019年"],loc="best",frameon=False,title="年降雨量",ncol=2)</code><code>font={"family":"SimHei","style":"normal","weight":"normal","color":"green","size":12}</code><code>plt.xlabel("月",fontdict=font)</code><code>plt.ylabel("降雨量",fontdict=font)</code><code>plt.xlim(0,12)</code><code>plt.ylim(50,120)</code><code>plt.show()</code></pre> 
<p><img alt="" src="https://images2.imgbox.com/75/5d/Ptv6x2ud_o.png"></p> 
<h3 id="--5%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E6%AF%8F%E4%B8%AA%E5%88%BB%E5%BA%A6%E7%9A%84%E6%98%BE%E7%A4%BA%E6%A0%87%E7%AD%BE--"><strong>--5、自定义每个刻度的显示标签--</strong></h3> 
<p>plt.xlim([0,12])</p> 
<p>plt.xlim(0,12)</p> 
<p>plt.xticks([原刻度标签列表],[新的刻度标签列表])</p> 
<pre><code>x,y=list(range(1,13)),np.random.randint(50,100,12)</code><code>plt.plot(x,y)</code><code>plt.plot(list(range(1,13)),np.random.randint(50,100,12))</code><code>plt.legend(["2018年","2019年"],loc="best",frameon=False,title="年降雨量",ncol=2)</code><code>font={"family":"SimHei","style":"normal","weight":"normal","color":"green","size":12}</code><code>plt.xlabel("月",fontdict=font)</code><code>plt.ylabel("降雨量",fontdict=font)</code><code>plt.xlim(0,12)</code><code>plt.ylim(50,120)</code><code>plt.xticks([1,2,3,4,5,6,7,8,9,10,11,12],</code><code>["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"])</code><code>plt.show(</code></pre> 
<hr> 
<h3 id="--6%E3%80%81%E8%AE%BE%E7%BD%AE%E5%9D%90%E6%A0%87%E8%BD%B4%E7%9A%84%E5%88%BB%E5%BA%A6%E9%97%B4%E9%9A%94--"><strong>--6、设置坐标轴的刻度间隔--</strong></h3> 
<p>from matplotlib.pyplot import MultipleLocator</p> 
<p>#从pyplot导入MultipleLocator类，这个类用于设置刻度间隔</p> 
<p>x_major_locator=MultipleLocator(1)</p> 
<p>#把x轴的刻度间隔设置为1，并存在变量里</p> 
<p>y_major_locator=MultipleLocator(20)</p> 
<p>#把y轴的刻度间隔设置为10，并存在变量里</p> 
<p>ax=plt.gca()</p> 
<p>#ax为两条坐标轴的实例</p> 
<p>ax.xaxis.set_major_locator(x_major_locator)</p> 
<p>#把x轴的主刻度设置为1的倍数</p> 
<p>ax.yaxis.set_major_locator(y_major_locator)</p> 
<p>#把y轴的主刻度设置为10的倍数</p> 
<pre><code>x,y=list(range(1,13)),np.random.randint(50,100,12)plt.plot(x,y)</code><code>plt.plot(list(range(1,13)),np.random.randint(50,100,12))</code><code>plt.legend(["2018年","2019年"],loc="best",frameon=False,title="年降雨量",ncol=2)</code><code>font={"family":"SimHei","style":"normal","weight":"normal","color":"green","size":12}</code><code>plt.xlabel("月",fontdict=font)</code><code>plt.ylabel("降雨量",fontdict=font)</code><code>plt.xlim(1,12)</code><code>plt.ylim(50,110)</code>
<code>from matplotlib.pyplot import MultipleLocator</code><code>#从pyplot导入MultipleLocator类，这个类用于设置刻度间隔</code><code>x_major_locator=MultipleLocator(1)</code><code>#把x轴的刻度间隔设置为1，并存在变量里</code><code>y_major_locator=MultipleLocator(20)</code><code>#把y轴的刻度间隔设置为10，并存在变量里</code><code>ax=plt.gca()</code><code>#ax为两条坐标轴的实例</code><code>ax.xaxis.set_major_locator(x_major_locator)</code><code>#把x轴的主刻度设置为1的倍数</code><code>ax.yaxis.set_major_locator(y_major_locator)</code><code>#把y轴的主刻度设置为10的倍数</code>
<code>plt.show()</code></pre> 
<hr> 
<h3 id="--7%E3%80%81%E7%BD%91%E6%A0%BC%E8%AE%BE%E7%BD%AE--"><strong>--7、网格设置--</strong></h3> 
<p>plt.grid()：</p> 
<p>可以通过plt的grid方法来设置是否显示网格。</p> 
<p>True为显示，False不显示。ax.grid(color='r',linestyle='-',linewidth=2)</p> 
<ul><li> <p>color：设置网格线颜色</p> </li><li> <p>axis：设置网格线显示x，y或者全部显示（x，y，both）</p> </li><li> <p>linestyle：设置网格线形状</p> </li><li> <p>linewidth：设置网格线宽度</p> </li></ul> 
<p>案例：</p> 
<p>plt.grid(True,color="g",axis="both",ls="--",lw=0.5)#设置网格线</p> 
<p> </p> 
<p><img alt="" src="https://images2.imgbox.com/74/89/UyKyq6Da_o.png"></p> 
<hr> 
<h3 id="--8%E3%80%81%E9%A2%9C%E8%89%B2%EF%BC%8C%E7%BA%BF%E5%9E%8B%EF%BC%8C%E7%82%B9%E6%A0%87%E8%AE%B0%EF%BC%8C%E9%80%8F%E6%98%8E%E5%BA%A6%E8%AE%BE%E7%BD%AE--"><strong>--8、颜色，<strong>线型，</strong>点标记，透明度设置--</strong></h3> 
<p>我们可以在绘制图形时，显式指定图形的颜色，点标记或线条形状。具体设置可以查看帮助文档。</p> 
<ul><li> <p>color(c)：线条颜色。</p> </li><li> <p>linestyle(ls)：线条形状。</p> </li><li> <p>linewidth(lw)：线宽。</p> </li><li> <p>marker：点标记形状。</p> </li><li> <p>markersize(ms)：点标记的大小。</p> </li><li> <p>markeredgecolor(mec)：点边缘颜色。</p> </li><li> <p>markeredgewidth(mew)：点边缘宽度。</p> </li><li> <p>markerfacecolor(mfc)：点的颜色。</p> </li><li> <p>alpha：透明度（0-1之间）</p> </li></ul> 
<p>说明：</p> 
<ul><li> <p>颜色，点标记与线型可以使用一个组合参数进行设置。</p> </li><li> <p>颜色除了可以使用预设简写的字符之外，也可以使用全称（例如red）也可以使用RGB颜色表示。</p> </li><li> <p>颜色:[蓝色:'b'/绿色:'g'/红色:'r'/青色:'c'/品红:'m'/黄色:'y'/黑色:'k'/白色:'w']</p> </li><li> <p>线型:[直线:'-'/虚线:'--'/点线:':'/点划线:'-.']</p> </li><li> <p>点标记:[点:'.'/像素:','/圆:'o'/方形:'s'/三角形:'^']</p> </li><li> <p>关于这三种样式的设置有一种简写的方式：颜色，线条样式，点标记样式"颜色线条样式点标记样式"====&gt;</p> </li></ul> 
<p>案例：</p> 
<p>x,y = list(range(1,13)),np.random.randint(50,100,12)</p> 
<p>plt.plot(x,y,"b:o",alpha=0.5)</p> 
<p>plt.plot(x,y,c="g",ls="--",lw=5,marker="o",ms=8,mec="r",mew=3,mfc="y",alpha=0.5)<img alt="" height="1" src="https://images2.imgbox.com/8b/af/WMPTcVGM_o.gif" width="1"></p> 
<hr> 
<h3 id="--9%E3%80%81%E6%B7%BB%E5%8A%A0%E6%B3%A8%E8%A7%A3--"><strong>--9、添加注解--</strong></h3> 
<p>我们可以在图形上绘制文本等说明信息（注解）。</p> 
<p><strong>方法1：</strong>普通文本（当前位置）--常用</p> 
<p>plt.text()：显示文本（基于坐标）如：plt.text(6,0,"年中")</p> 
<p>plt.figtext()：显示文本（基于图片比例定位，左下角为原点）如：plt.figtext(0.5,0.5,"图片中央")</p> 
<pre><code>x,y = list(range(1,13)),np.random.randint(50,100,12)</code>
<code>plt.plot(x,y,"b:o",alpha=0.5)</code><code>plt.text(6,50,"年中")</code><code>plt.figtext(0.5,0.5,"图片中央")</code><code>plt.show()</code></pre> 
<p><img alt="" src="https://images2.imgbox.com/a0/9e/rgizXvIA_o.png"></p> 
<p><strong>方法2：</strong>连线位移（添加线条，在指定位置）--不常用</p> 
<p>plt.arrow根据起点坐标（x，y）与各自轴的长度（x+dx,y+dy）绘制箭头。</p> 
<p>width箭头尾部的宽度。</p> 
<p>head_width箭头的宽度。</p> 
<p>head_length箭头的长度。</p> 
<p>案例：</p> 
<p>plt.arrow(6,100,-2,+5,width=0.1,head_width=0.1,head_length=0.1,color="r")</p> 
<p>plt.text(4,105,"年中")</p> 
<pre><code>x,y = list(range(1,13)),np.random.randint(50,100,12)</code><code>plt.plot(x,y,"b:o",alpha=0.5)</code><code>plt.arrow(7,55,-1,-5,width=0.1,head_width=0.5,head_length=0.5,color="r")</code><code>plt.text(7,55,"年中")</code><code>plt.show(</code></pre> 
<p><strong>方法3：</strong>箭头与文本--常用</p> 
<p>plt.annotate():显示箭头与文本。</p> 
<ul><li> <p>xy箭头指向坐标</p> </li><li> <p>xytext文本起点坐标。（箭头尾部坐标）</p> </li><li> <p>arrowprops字典类型，可设置箭头的属性。</p> </li><li> <p>facecolor箭头的颜色</p> </li><li> <p>headwidth箭头的宽度</p> </li><li> <p>width箭尾的宽度</p> </li><li> <p>shrink收缩大小</p> </li><li> <p>headlength箭头的长度</p> </li><li> <p>arrowstyle一些预设的箭头样式。当含有该参数时，上述4项参数将不再有效。</p> </li></ul> 
<p>更多参数的使用方法自行搜索...</p> 
<p>案例：</p> 
<p>plt.annotate("年中",xy=(6,100),xytext=(4,105),</p> 
<p>color="g",size=16,bbox=dict(fc="b",ec="g"),</p> 
<p>arrowprops=dict(width=3,facecolor="r",headwidth=10,shrink=0.01,headlength=10))</p> 
<pre><code>x,y = list(range(1,13)),np.random.randint(50,100,12)</code><code>plt.plot(x,y,"b:o",alpha=0.5)</code><code>plt.annotate("年中",xy=(6,50),xytext=(4,80),color="g",size=16,bbox=dict(fc="b",ec="g"),</code><code>arrowprops=dict(width=3,facecolor="r",headwidth=10,shrink=0.01,headlength=10))</code><code>plt.show()</code></pre> 
<p><img alt="" src="https://images2.imgbox.com/54/f1/lsSA5OX5_o.png"></p> 
<hr> 
<h3 id="--10%E3%80%81%E7%BB%99%E5%9B%BE%E5%BD%A2%E4%B8%8A%E7%9A%84%E5%9D%90%E6%A0%87%E7%82%B9%E6%B7%BB%E5%8A%A0%E6%B3%A8%E9%87%8A--"><strong>--10、给图形上的坐标点添加注释--</strong></h3> 
<pre><code>x,y = list(range(1,13)),np.random.randint(50,100,12)</code><code>plt.plot(x,y,"b:o",alpha=0.5)</code><code>#添加xy</code><code>for xy in zip(x,y):</code><code>    plt.annotate("(%s,%s)" % xy, xy=xy, xytext=(-5, +5), textcoords='offset points')</code><code>plt.show()</code></pre> 
<pre><code>x,y = list(range(1,13)),np.random.randint(50,100,12)</code><code>plt.bar(x,y,alpha=0.5,color="c")</code><code>#只添加y</code><code>for x, y in zip(x, y):  # zip是将X，Y1分别传到x,y中，传两个</code><code>    plt.text(x, y + 0.5, '%.1f' % y, ha='center', va='bottom')  # ha,va规定坐标表示的点，默认左下</code><code>plt.show()</code></pre> 
<p><img alt="" src="https://images2.imgbox.com/7e/ae/8TxFeVJW_o.png"></p> 
<hr> 
<h3 id="--11%E3%80%81%E5%85%B6%E4%BB%96%E4%BC%98%E5%8C%96--"><strong>--11、其他优化--</strong></h3> 
<p>还有很多细节可以优化的，这些细节如图片的大小修改，绘图样式设置等，在作图的过程中根据实际需求查阅资料进行修改。</p> 
<hr> 
<h3 id="--12%E3%80%81%E5%9B%BE%E5%BD%A2%E6%A0%B7%E5%BC%8F%E7%9A%84%E9%80%89%E6%8B%A9--"><strong>--12、图形样式的选择--</strong></h3> 
<p>matplotlib可以绘制很多图形折线图、饼图、箱线图、散点图、柱状图等，更具业务需求选择不同图形对应的函数即可，</p> 
<p>每种图形的参数都大致相同，可以查看官网图例修改即可https://matplotlib.org/gallery.html</p> 
<hr> 
<h3 id="--13%E3%80%81%E7%BB%98%E5%88%B6%E9%9D%A2%E6%9D%BF%E5%9B%BE%E3%80%81%E4%BB%AA%E8%A1%A8%E6%9D%BF--"><strong>--13、绘制面板图、仪表板--</strong></h3> 
<p>综合型的多个图形的组合图。</p> 
<p>自定义创建figure，自定义创建多个axes（平铺式分布的axes，内嵌式分布的axes），去参考绘图流程的第2，3条。</p> 
<p>可视化仪表板，关注公众后续更新！！！</p> 
<hr> 
<h3 id="--14%E3%80%81%E6%A1%88%E4%BE%8B--"><strong>--14、案例--</strong></h3> 
<pre><code>a = range(1,11)</code><code>b = np.random.rand(10)</code><code>c = np.random.rand(10)*2</code><code>figure = plt.figure(num="案例1",figsize=(16,9),facecolor="grey",edgecolor="blue",frameon=True)</code><code>font={"family":"SimHei","style":"normal","weight":"normal","color":"black","size":16}</code><code>a</code><code>axes1 = plt.subplot(2,2,1)</code><code>axes1.plot(a,c,"r:o",alpha=0.5,label="折线图")</code><code>plt.legend(loc="best")</code><code>plt.title("图1",fontdict=font)</code><code>#只添加y</code><code>for x, y in zip(a, c):  # zip是将X，Y1分别传到x,y中，传两个</code><code>    axes1.text(x, y + 0.01, '%.1f' % y, ha='center', va='bottom')  # ha,va规定坐标表示的点，默认左下</code><code>    </code><code>axes2 = plt.subplot(2,2,2)</code><code>axes2.bar(a,b,alpha=0.5,color="c",label="柱状图")</code><code>plt.legend(loc="best")</code><code>plt.title("图2",fontdict=font)</code><code>#只添加y</code><code>for x, y in zip(a, b):  # zip是将X，Y1分别传到x,y中，传两个</code><code>    axes2.text(x, y + 0.01, '%.1f' % y, ha='center', va='bottom')  # ha,va规定坐标表示的点，默认左下</code><code>from matplotlib.pyplot import MultipleLocator</code><code>#从pyplot导入MultipleLocator类，这个类用于设置刻度间隔</code><code>x_major_locator=MultipleLocator(1)</code><code>#把x轴的刻度间隔设置为1，并存在变量里</code><code>y_major_locator=MultipleLocator(20)</code><code>#把y轴的刻度间隔设置为10，并存在变量里</code><code>ax=plt.gca()</code><code>#ax为两条坐标轴的实例</code><code>ax.xaxis.set_major_locator(x_major_locator)</code><code>#把x轴的主刻度设置为1的倍数</code><code>ax.yaxis.set_major_locator(y_major_locator)</code><code>#把y轴的主刻度设置为10的倍数</code>
<code>axes3 = plt.subplot(2,2,3)</code><code>axes3.scatter(a,b)</code><code>plt.legend(range(1,11),loc="right",frameon=False,title="散点图",ncol=1)</code><code>plt.title("图3",fontdict=font)</code><code>plt.grid(True,color="g",axis="both",ls="--",lw=0.5)#设置网格线</code>
<code>axes4 = plt.subplot(2,2,4)</code><code>axes4.pie(b,autopct='%1.1f%%')</code><code>plt.legend(range(1,11),loc="right",frameon=False,title="饼图",ncol=1)</code><code>plt.title("图4",fontdict=font)</code>
<code>plt.show()</code></pre> 
<p><img alt="" src="https://images2.imgbox.com/11/95/lWzk7roy_o.png"></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/8c/ea/h3IHgIUI_o.png"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/18b15f6b7a20520b633283fa66f3ff97/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">做后端开发需要学什么?标梵看到了一条小白的发展之路</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/190783e808418dd5d4b88d76acefffe9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">关于Ubuntu20.04下向日葵远程软件连接中断的解决方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>