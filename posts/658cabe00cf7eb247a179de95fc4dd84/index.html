<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>KubeSphere快速入门 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="KubeSphere快速入门" />
<meta property="og:description" content="简介 KubeSphere 是在 Kubernetes 之上构建的面向云原生应用的分布式操作系统，完全开源，支持多云与多集群管理，提供全栈的 IT 自动化运维能力，简化企业的 DevOps 工作流。它的架构可以非常方便地使第三方应用与云原生生态组件进行即插即用 (plug-and-play) 的集成。
作为全栈的多租户容器平台，KubeSphere 提供了运维友好的向导式操作界面，帮助企业快速构建一个强大和功能丰富的容器云平台。KubeSphere 为用户提供构建企业级 Kubernetes 环境所需的多项功能，例如多云与多集群管理、Kubernetes 资源管理、DevOps、应用生命周期管理、微服务治理（服务网格）、日志查询与收集、服务与网络、多租户管理、监控告警、事件与审计查询、存储管理、访问权限控制、GPU 支持、网络策略、镜像仓库管理以及安全管理等。
架构 核心组件主要有三个：
ks-console 前端服务组件ks-apiserver 后端服务组件ks-controller-manager 资源状态维护组件 前后端分离：
KubeSphere 将 前端 与 后端 分开，实现了面向云原生的设计，后端的各个功能组件可通过 REST API 对接外部系统。 可参考 API文档。 KubeSphere 无底层的基础设施依赖，可以运行在任何 Kubernetes、私有云、公有云、VM 或物理环境（BM）之上。 此外，它可以部署在任何 Kubernetes 发行版上。
架构 核心组件主要有三个：
ks-console 前端服务组件ks-apiserver 后端服务组件ks-controller-manager 资源状态维护组件 前后端分离：
KubeSphere 将 前端 与 后端 分开，实现了面向云原生的设计，后端的各个功能组件可通过 REST API 对接外部系统。 可参考 API文档。 KubeSphere 无底层的基础设施依赖，可以运行在任何 Kubernetes、私有云、公有云、VM 或物理环境（BM）之上。 此外，它可以部署在任何 Kubernetes 发行版上。
组件列表：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/658cabe00cf7eb247a179de95fc4dd84/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-15T11:23:25+08:00" />
<meta property="article:modified_time" content="2024-03-15T11:23:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">KubeSphere快速入门</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<h3><a id="_2"></a>简介</h3> 
<p>KubeSphere 是在 Kubernetes 之上构建的面向云原生应用的分布式操作系统，完全开源，支持多云与多集群管理，提供全栈的 IT 自动化运维能力，简化企业的 DevOps 工作流。它的架构可以非常方便地使第三方应用与云原生生态组件进行即插即用 (plug-and-play) 的集成。<br>作为全栈的多租户容器平台，KubeSphere 提供了运维友好的向导式操作界面，帮助企业快速构建一个强大和功能丰富的容器云平台。KubeSphere 为用户提供构建企业级 Kubernetes 环境所需的多项功能，例如多云与多集群管理、Kubernetes 资源管理、DevOps、应用生命周期管理、微服务治理（服务网格）、日志查询与收集、服务与网络、多租户管理、监控告警、事件与审计查询、存储管理、访问权限控制、GPU 支持、网络策略、镜像仓库管理以及安全管理等。<br><img src="https://images2.imgbox.com/63/7a/b3nn08E0_o.jpg" alt=""></p> 
<p></p> 
<h3><a id="_6"></a>架构</h3> 
<p><img src="https://images2.imgbox.com/3b/97/RYnRtPEZ_o.png" alt="image.png"><br><strong>核心组件主要有三个：</strong></p> 
<ul><li>ks-console 前端服务组件</li><li>ks-apiserver 后端服务组件</li><li>ks-controller-manager 资源状态维护组件</li></ul> 
<p><strong>前后端分离：</strong><br>KubeSphere 将 前端 与 后端 分开，实现了面向云原生的设计，后端的各个功能组件可通过 REST API 对接外部系统。 可参考 API文档。 KubeSphere 无底层的基础设施依赖，可以运行在任何 Kubernetes、私有云、公有云、VM 或物理环境（BM）之上。 此外，它可以部署在任何 Kubernetes 发行版上。<br> </p> 
<h3><a id="_15"></a>架构</h3> 
<p><img src="https://images2.imgbox.com/49/ba/cecaxA0D_o.png" alt="image.png"><br><strong>核心组件主要有三个：</strong></p> 
<ul><li>ks-console 前端服务组件</li><li>ks-apiserver 后端服务组件</li><li>ks-controller-manager 资源状态维护组件</li></ul> 
<p><strong>前后端分离：</strong><br>KubeSphere 将 前端 与 后端 分开，实现了面向云原生的设计，后端的各个功能组件可通过 REST API 对接外部系统。 可参考 API文档。 KubeSphere 无底层的基础设施依赖，可以运行在任何 Kubernetes、私有云、公有云、VM 或物理环境（BM）之上。 此外，它可以部署在任何 Kubernetes 发行版上。<br><strong>组件列表：</strong></p> 
<table><thead><tr><th><strong>后端组件</strong></th><th><strong>功能说明</strong></th></tr></thead><tbody><tr><td>ks-apiserver</td><td>整个集群管理的 API 接口和集群内部各个模块之间通信的枢纽，以及集群安全控制。</td></tr><tr><td>ks-console</td><td>提供 KubeSphere 的控制台服务。</td></tr><tr><td>ks-controller-manager</td><td>实现业务逻辑的，例如创建企业空间时，为其创建对应的权限；或创建服务策略时，生成对应的 Istio 配置等。</td></tr><tr><td>metrics-server</td><td>Kubernetes 的监控组件，从每个节点的 Kubelet 采集指标信息。</td></tr><tr><td>Prometheus</td><td>提供集群，节点，工作负载，API对象的监视指标和服务。</td></tr><tr><td>Elasticsearch</td><td>提供集群的日志索引、查询、数据管理等服务，在安装时也可对接您已有的 ES 减少资源消耗。</td></tr><tr><td>Fluent Bit</td><td>提供日志接收与转发，可将采集到的⽇志信息发送到 ElasticSearch、Kafka。</td></tr><tr><td>Jenkins</td><td>提供 CI/CD 流水线服务。</td></tr><tr><td>Source-to-Image</td><td>将源代码自动将编译并打包成 Docker 镜像，方便快速构建镜像。</td></tr><tr><td>Istio</td><td>提供微服务治理与流量管控，如灰度发布、金丝雀发布、熔断、流量镜像等。</td></tr><tr><td>Jaeger</td><td>收集 Sidecar 数据，提供分布式 Tracing 服务。</td></tr><tr><td>OpenPitrix</td><td>提供应用程序生命周期管理，例如应用模板、应用部署与管理的服务等。</td></tr><tr><td>Alert</td><td>提供集群、Workload、Pod、容器级别的自定义告警服务。</td></tr><tr><td>Notification</td><td>是一项综合通知服务； 它当前支持邮件传递方法。</td></tr><tr><td>Redis</td><td>将 ks-console 与 ks-account 的数据存储在内存中的存储系统。</td></tr><tr><td>OpenLDAP</td><td>负责集中存储和管理用户帐户信息与对接外部的 LDAP。</td></tr><tr><td>Storage</td><td>内置 CSI 插件对接云平台存储服务，可选安装开源的 NFS/Ceph/Gluster 的客户端。</td></tr><tr><td>Network</td><td>可选安装 Calico/Flannel 等开源的网络插件，支持对接云平台 SDN。</td></tr></tbody></table> 
<p><strong>服务组件：</strong><br>以上列表中每个功能组件下还有多个服务组件，关于服务组件的说明，可参考 服务组件说明。<br><img src="https://images2.imgbox.com/e5/b5/8aENhc6S_o.png" alt=""></p> 
<p></p> 
<h3><a id="1__48"></a>1. 创建企业空间、项目、用户和平台角色</h3> 
<p>KubeSphere 的多租户系统分三个层级，即集群、企业空间和项目。KubeSphere 中的项目等同于 Kubernetes 的命名空间。<br>您需要创建一个新的企业空间进行操作，而不是使用系统企业空间，系统企业空间中运行着系统资源，绝大部分仅供查看。出于安全考虑，强烈建议给不同的租户授予不同的权限在企业空间中进行协作。<br><strong>步骤 1：创建用户</strong><br><strong>步骤 2：创建企业空间</strong><br><strong>步骤 3：创建项目</strong><br><strong>步骤 4：创建角色</strong><br><strong>步骤 5：创建 DevOps 项目（可选）</strong></p> 
<p></p> 
<h3><a id="2__52"></a>2. 登录</h3> 
<p>登录地址：<a href="https://new.ks.easyj.top/login" rel="nofollow">https://new.ks.easyj.top/login</a><br>使用工号与密码登录。<br><img src="https://images2.imgbox.com/62/b3/NnA9oy6j_o.png" alt="image.png"></p> 
<p>第一次进入时，需要找对应的负责人添加企业和项目空间权限，得到授权后刷新页面或再次登录就会看到如下的页面。<br><img src="https://images2.imgbox.com/e4/6d/AJ20wJpk_o.png" alt="image.png"><br> </p> 
<h3><a id="3__57"></a>3. 新建</h3> 
<p></p> 
<h4><a id="31__59"></a>3.1 新建项目空间</h4> 
<p>进入ks后，如下图左侧所示菜单</p> 
<ul><li>进入“项目管理”</li><li>点击“创建”</li></ul> 
<p><img src="https://images2.imgbox.com/d7/c8/SzPl9ppD_o.png" alt="image.png"></p> 
<p>弹出下图中的窗口<br>按照要求填入名称，描述信息，然后点击创建，便完成了项目空间的创建。<br>项目空间名称：项目名称-环境名称。<br><img src="https://images2.imgbox.com/3e/43/EsGtFD9l_o.png" alt="image.png"></p> 
<p>点击项目名称即可进入到项目空间中。<br><img src="https://images2.imgbox.com/79/38/YZQtkxw1_o.png" alt="image.png"><br> </p> 
<h4><a id="32__71"></a>3.2 创建网关</h4> 
<p>进入到项目空间中后，需要设置网关，使应用路由可以被外部访问。<br>顺序点击“项目设置”—&gt;“高级设置”，进入下图所示的页面，点击“设置网关”。<br><img src="https://images2.imgbox.com/25/f0/qKk8C6CR_o.png" alt="image.png"></p> 
<p>弹出窗口，点击“保存”，即完成了网关的创建。<br><img src="https://images2.imgbox.com/f0/4b/0ht9esvE_o.png" alt="image.png"><br><img src="https://images2.imgbox.com/58/21/E41r5QaX_o.png" alt="image.png"><br> </p> 
<h4><a id="33__76"></a>3.3 新建密钥</h4> 
<p>在项目空间中，点击左侧菜单栏的“配置中心”—&gt;“密钥”，进入如下页面，点击“创建”。<br><img src="https://images2.imgbox.com/96/ae/SlNlAnlv_o.png" alt="image.png"></p> 
<p>填写“名称”和“描述信息”后，点击下一步。<br>在类型中有四种类型供我们选择，<br>在我们的使用中，目前仅需创建“镜像仓库密钥”类型。<br><img src="https://images2.imgbox.com/ec/2a/6ycEy0Lv_o.png" alt="image.png"></p> 
<p>输入镜像仓库地址，也就是镜像仓库的域名，例：harbor.ks.easyj.top<br>镜像仓库中所需项目权限的工号和密码，验证账户密码是否正确，点击创建即可。<br>刷新一下，即可看到创建成功！<br><img src="https://images2.imgbox.com/ca/08/JnWQvMc0_o.png" alt="image.png"><br> </p> 
<h4><a id="34__83"></a>3.4 新建配置</h4> 
<p>在项目空间，点击左侧菜单栏的“配置中心”—&gt;“配置”，进入如下页面，点击“创建”。<br><img src="https://images2.imgbox.com/fd/bf/TsvOaoef_o.png" alt="image.png"></p> 
<p>点击“创建”后，会弹出如下窗口，根据要求填写“名称”，“描述信息”，然后点击下一步。<br>配置名称为：对应应用的名称。<br><img src="https://images2.imgbox.com/36/58/QH0AzlWH_o.png" alt="image.png"></p> 
<p>点击“添加数据”。</p> 
<ul><li>填入“key”，需要挂载的文件名称（带格式）例：appConfig.js。</li><li>填入“value”，需要挂载的文件的内容。</li><li>点击“√”，如果还有数据可以继续添加。</li></ul> 
<p><img src="https://images2.imgbox.com/33/fd/j532LRkp_o.png" alt="image.png"></p> 
<p>点击创建，刷新下页面即可看到。<br><img src="https://images2.imgbox.com/c4/be/2CGAEcpi_o.png" alt="image.png"><br> </p> 
<h4><a id="35__98"></a>3.5 新建应用</h4> 
<p>创建应用前需要先创建好镜像仓库密钥，如果需要挂载配置，配置也需要提前创建好。<br>在左侧菜单栏，点击“应用负载”—&gt;“应用”，进入如下页面，点击“自制应用”—&gt;“构建自制应用”。<br><img src="https://images2.imgbox.com/f1/a5/q0kCHvMQ_o.png" alt="image.png"></p> 
<p>输入应用名称，描述信息，点击“下一步”。<br><img src="https://images2.imgbox.com/bd/c1/YeoF5Rle_o.png" alt="image.png"></p> 
<p>点击“添加服务”，选择无状态服务。<br><img src="https://images2.imgbox.com/88/bd/ouhjeQsK_o.png" alt="image.png"></p> 
<p>输入“名称”，“描述信息”，然后点击“下一步”。<br><img src="https://images2.imgbox.com/fd/39/CUXJelPY_o.png" alt="image.png"></p> 
<p>点击“添加容器镜像”。<br><img src="https://images2.imgbox.com/a4/b6/cK91hb48_o.png" alt="image.png"></p> 
<p>选择需要添加的镜像仓库地址。<br>例：harbor.ks.easyj.top/easyj-base/config-center:latest</p> 
<ul><li>harbor.ks.easyj.top是域名；</li><li>easyj-base是镜像仓库中的项目名称；</li><li>config-center是镜像名称；</li><li>latest是镜像版本；</li></ul> 
<p>这里输入了一个别的镜像做演示。<br><img src="https://images2.imgbox.com/a0/f0/qII4SQbg_o.png" alt="image.png"></p> 
<p>有内存限制的要求可根据实际使用情况进行更改。<br>选择TCP，容器端口号，前端默认是80，后端默认是8080；服务端口号，前端默认是80，后端默认是8080。<br>选择“尝试重新下载镜像”。<br>如果应用需要配置环境变量，就勾选中环境变量，然后输入key和value ，配置完成后，点击“√”。<br><img src="https://images2.imgbox.com/ec/9d/sIJ7uqPI_o.png" alt="image.png"></p> 
<p>点击“下一步”。<br><img src="https://images2.imgbox.com/ea/d1/leljYwdU_o.png" alt="image.png"></p> 
<p>如果有挂载需要，点击“挂载配置文件或密钥”，如果没有需要，直接点击“下一步”。<br><img src="https://images2.imgbox.com/eb/38/IoEFmndL_o.png" alt="image.png"></p> 
<p>选择需要挂载的类型（一般是配置挂载），选择我们事先创建好的配置或密钥。<br>选择“只读”， 填入容器挂载路径，就是文件需要放在容器的哪个路径下面，就填入该路径，点击“√”。<br><img src="https://images2.imgbox.com/d5/99/ekbnGnxE_o.png" alt="image.png"></p> 
<p>点击“下一步”，完成添加。<br><img src="https://images2.imgbox.com/63/27/E48a4peM_o.png" alt="image.png"></p> 
<p>继续点击“下一步”—&gt;“创建”。<br><img src="https://images2.imgbox.com/e4/e5/cKXqMxd8_o.png" alt="image.png"><br> </p> 
<h4><a id="36__130"></a>3.6 创建应用路由</h4> 
<p>正常一个项目空间中，只需创建一个应用路由。<br>点击左侧菜单栏的“应用负载”—&gt;“应用路由”，进入如下页面，点击“创建”。<br><img src="https://images2.imgbox.com/0f/84/eeEBJ6BV_o.png" alt="image.png"></p> 
<p>名称，项目名称-ingress，例：demo-ingress。<br>点击“下一步”。<br><img src="https://images2.imgbox.com/bd/31/ETFaRsLC_o.png" alt="image.png"></p> 
<p>点击“添加路由规则”。<br><img src="https://images2.imgbox.com/5b/db/YNMqUnxJ_o.png" alt="image.png"></p> 
<p>选择“指定域名”，填入域名，域名是：项目空间名称.zucc.easyj.top，例：demo.zucc.easyj.top。<br>填入访问程序的路径，选择访问路径对应的应用的服务（服务在创建应用时一同被创建出来），点击“√”。<br><img src="https://images2.imgbox.com/2d/56/bA4z0gh5_o.png" alt="image.png"></p> 
<p>点击“下一步”，完成“创建”，刷新一下页面即可看到了。<br><img src="https://images2.imgbox.com/64/c1/nIVcMPlp_o.png" alt="image.png"><br> </p> 
<h4><a id="37_DevOps_141"></a>3.7 新建DevOps工程</h4> 
<p>点击“工作台”进入下图页面。<br>在左侧菜单栏找到“DevOps工程”，点击创建。<br><img src="https://images2.imgbox.com/64/e0/ihUoT1Vp_o.png" alt="image.png"></p> 
<p>输入“名称”，“描述信息”，点击确定（Devops项目名称：项目名称）。<br><img src="https://images2.imgbox.com/44/5e/TTRCwhtA_o.png" alt="image.png"><br> </p> 
<h5><a id="371__146"></a>3.7.1 复制流水线模版</h5> 
<p>在DevOps工程中有一个名为“demo”的DevOps工程。<br>需要将“demo”DevOps工程中的前后端流水线模版复制到新建的DevOps工程中。<br>进入demo，会看到如下两个流水线，<a href="https://new.ks.easyj.top/devops-test/clusters/default/devops/demog7rnn/pipelines/demo-front" rel="nofollow">demo-front</a>是前端模版，<a href="https://new.ks.easyj.top/devops-test/clusters/default/devops/demog7rnn/pipelines/demo-jar" rel="nofollow">demo-jar</a>是后端模版。<br><img src="https://images2.imgbox.com/e8/56/MD6wNn8F_o.png" alt="image.png"></p> 
<p>在我们新建的DevOps工程中，点击“创建”流水线。<br>输入“名称”，“描述信息”，点击下一步。<br><img src="https://images2.imgbox.com/0c/c4/XmaAZy7K_o.png" alt="image.png"></p> 
<p>点击“添加参数”—&gt;“字符串参数（String）”，有多个参数，那么多次点击，进行添加。<br>在demo中，进入demo-front流水线具体配置页面，点击“更多操作”—&gt;“编辑配置”。<br><img src="https://images2.imgbox.com/10/48/GquXp5tP_o.png" alt="image.png"></p> 
<p>将“参数化构建”中的所有参数，粘贴复制到我们新建的DevOps工程的demo-front中。<br><img src="https://images2.imgbox.com/4a/bc/tdMUhQVm_o.png" alt="image.png"><br><img src="https://images2.imgbox.com/ce/b5/H6AphJGR_o.png" alt="image.png"></p> 
<p>创建后，我们新建的空间下就会出现名字为demo-front的流水线，进入demo-front流水线操作页面，点击“编辑Jenkinsfile”。<br><img src="https://images2.imgbox.com/31/0b/byEJRm7s_o.png" alt="image.png"></p> 
<p>在demo中，进入demo-front流水线具体配置页面，点击“编辑Jenkinsfile”，将里面的内容全部复制到我们新建的流水线中。<br><img src="https://images2.imgbox.com/2a/87/k5LTBxn3_o.png" alt="image.png"><br><img src="https://images2.imgbox.com/d8/80/pYViJJE7_o.png" alt="image.png"></p> 
<p>复制过来后点击“确定”。<br>至此，便将demo-front流水线从demo复制到我们新建的流水线中。demo-jar也进行同样的操作进行复制。<br><img src="https://images2.imgbox.com/16/7f/MO5NqiwR_o.png" alt="image.png"><br><img src="https://images2.imgbox.com/10/c8/ARENDL0P_o.png" alt="image.png"><br><img src="https://images2.imgbox.com/1a/00/qOMA40Nr_o.png" alt="image.png"></p> 
<p><strong>参数说明</strong></p> 
<table><thead><tr><th>参数名称</th><th>默认值</th><th>参数解释</th></tr></thead><tbody><tr><td>BRANCH</td><td>master</td><td>代码分支</td></tr><tr><td>TAG</td><td>dev</td><td>镜像版本</td></tr><tr><td>PRODUCTION</td><td>dev</td><td>所思前端用于区分环境的参数，可忽略</td></tr><tr><td>REGISTRY</td><td>harbor.ks.easyj.top/easyj-base</td><td>镜像位置，镜像仓库域名/项目名称（新DevOps工程需要将项目名称改成新DevOps工程需要推送到的镜像仓库项目名称）</td></tr></tbody></table> 
<p></p> 
<h4><a id="38__171"></a>3.8 新建凭证</h4> 
<p>进入具体DevOps工程后，点击左侧菜单栏的“凭证”，进入如下页面，点击“创建”。<br><img src="https://images2.imgbox.com/36/17/Gx5W0hFY_o.png" alt="image.png"></p> 
<ul><li>凭证的名称，代码仓库凭证名称：项目名称-gitee-工号</li><li>类型，直接选择“账户凭证”</li><li>代码仓库的账户</li><li>代码仓库账户对应的密码</li></ul> 
<p>点击确认<br><img src="https://images2.imgbox.com/ad/2d/eYCD2MWX_o.png" alt="image.png"><br> </p> 
<h4><a id="39__181"></a>3.9 新建流水线</h4> 
<p>点击流水线右侧的“┆”—&gt;“复制流水线”，前端复制demo-front，后端复制demo-jar。<br><img src="https://images2.imgbox.com/32/e2/HryghF5p_o.png" alt="image.png"></p> 
<ul><li>名称，流水线名称，输出最终镜像的流水线名称：deploy-应用名称。</li></ul> 
<p>其余依赖流水线名称：根据依赖工程命名。</p> 
<ul><li>描述信息，选填。</li></ul> 
<p>完成后，点击“确定”。<br><img src="https://images2.imgbox.com/0c/8f/btliZUG8_o.png" alt="image.png"></p> 
<p>此步骤之前，需要先将有此代码仓库的凭证创建好。<br>流水线复制完成后，进入流水线操作页面，点击“编辑流水线”。<br><img src="https://images2.imgbox.com/01/c7/M15CU2GT_o.png" alt="image.png"></p> 
<p>点击“git”，继续点击小扳手的图标。<br><img src="https://images2.imgbox.com/9b/a9/iNCautUM_o.png" alt="image.png"></p> 
<p>在弹出窗口中</p> 
<ul><li>将url修改成需要构建的代码的仓库地址</li><li>选择有此仓库权限的凭证</li><li>点击“确定”</li></ul> 
<p><img src="https://images2.imgbox.com/04/50/Al9btLCY_o.png" alt="image.png"></p> 
<p>按顺序点击小扳手的图标。<br><img src="https://images2.imgbox.com/61/74/Ss6gxPew_o.png" alt="image.png"></p> 
<p>在弹出的窗口中<br>选择对应的镜像仓库凭证。</p> 
<ul><li>“密码变量”输入：HARBOR_PASSWORD。</li><li>“用户名变量”输入：HARBOR_USERNAME。</li></ul> 
<p><img src="https://images2.imgbox.com/0f/ae/nhBkK82M_o.png" alt="image.png"></p> 
<p>点击“确认”，“保存”，至此就完成了流水线的新建。<br><img src="https://images2.imgbox.com/26/4d/iRFDYx8c_o.png" alt="image.png"><br><img src="https://images2.imgbox.com/2d/a9/Iwi9cBN8_o.png" alt="image.png"><br> </p> 
<h3><a id="4__215"></a>4. 变更</h3> 
<p></p> 
<h4><a id="41__217"></a>4.1 更新密钥</h4> 
<p>进入项目空间后，点击左侧菜单栏的“配置中心”—&gt;“密钥”，进入如下页面，点击需要更新的密钥右侧的“┆”，选择“编辑密钥”。<br><img src="https://images2.imgbox.com/fa/1e/yLmB2d9g_o.png" alt="image.png"></p> 
<p>更改需要更新的内容，点击“更新”即可。<br> </p> 
<h4><a id="imagepnghttpsimgblogcsdnimgcnimg_convertfcfff429d24728de28b824bfb6178df2png_222"></a><img src="https://images2.imgbox.com/19/f0/Q1Xn0yNu_o.png" alt="image.png"></h4> 
<p></p> 
<h4><a id="42__224"></a>4.2 更新配置</h4> 
<p>进入项目空间后，点击左侧菜单栏的“配置中心”—&gt;“配置”，进入如下页面，点击需要更新的配置右侧的“┆”，选择“修改配置”。<br><img src="https://images2.imgbox.com/31/51/T9XPQ1wf_o.png" alt="image.png"></p> 
<p>将鼠标放到弹出的窗口中，点击 / 图标。<br><img src="https://images2.imgbox.com/34/b7/eLxi5wn6_o.png" alt="image.png"></p> 
<p>进入如下页面，进行更新后，点击“√”。<br>点击“更新”，这样便完成了配置的更新。<br><img src="https://images2.imgbox.com/03/f2/iXp2kFpe_o.png" alt="image.png"><br> </p> 
<h4><a id="43__231"></a>4.3 变更应用</h4> 
<p>应用的变更需要在“工作负载”中完成。<br>在左侧菜单栏，点击“应用负载”—&gt;“工作负载”，点击需要更改的工作负载，进入具体工作负载的配置页面。<br><img src="https://images2.imgbox.com/1f/c7/RSXHXT1G_o.png" alt="image.png"><br> </p> 
<h5><a id="431__234"></a>4.3.1 更新应用</h5> 
<p>在具体工作负载的配置页面<br>点击“更多操作”—&gt;“编辑配置模版”。<br><img src="https://images2.imgbox.com/e0/bb/UXAQeQyA_o.png" alt="image.png"></p> 
<p>会弹出如下窗口，选择“容器组模版”。<br>鼠标悬浮在容器镜像上，点击 / 图标。<br><img src="https://images2.imgbox.com/43/67/zNkioKNS_o.png" alt="image.png"></p> 
<p>进入下图页面，在此页面对镜像版本，环境变量等参数进行更改，更改完成后点击“√”。<br> </p> 
<h3><a id="imagepnghttpsimgblogcsdnimgcnimg_convert400eab5cfa05593478907d49c45c395bpng_241"></a><img src="https://images2.imgbox.com/21/52/6fhsxnSg_o.png" alt="image.png"></h3> 
<p>点击“保存”。<br><img src="https://images2.imgbox.com/67/a3/FErZAQpA_o.png" alt="image.png"></p> 
<p>如需挂载配置，或更改，点击“存储卷”，进行配置。<br><img src="https://images2.imgbox.com/cb/2d/3ZQ4z7ZY_o.png" alt="image.png"></p> 
<p>点击“确认”，完成更新。<br><img src="https://images2.imgbox.com/bf/d9/FNYLn6wE_o.png" alt="image.png"><br> </p> 
<h5><a id="432__249"></a>4.3.2 重启应用</h5> 
<p>在具体工作负载的配置页面<br>点击“更多操作”—&gt;“重新部署”，即完成应用重启。<br><img src="https://images2.imgbox.com/ff/29/rEVCIAB4_o.png" alt="image.png"><br> </p> 
<h5><a id="433__252"></a>4.3.3 应用伸缩</h5> 
<p>在具体工作负载的配置页面。<br>在“副本运行状态”。<br>扩容：点击“︿”<br>缩容：点击“﹀”<br><img src="https://images2.imgbox.com/81/a0/CQ8KuTtf_o.png" alt="image.png"><br> </p> 
<h5><a id="434__255"></a>4.3.4 查看容器日志</h5> 
<p>在具体工作负载的配置页面<br>点击具体的容器，在弹出的小框里点击图标即可查看容器的日志。<br><img src="https://images2.imgbox.com/36/8b/RLZWTMDy_o.png" alt="image.png"><br> </p> 
<h5><a id="435__258"></a>4.3.5 进入容器内操作</h5> 
<p>在具体工作负载的配置页面<br>点击具体的容器，在弹出的小框里点击图标（只有在容器运行状态为正常时，才会出现），就可以进入容器内的终端了。<br><img src="https://images2.imgbox.com/5c/f3/OCRw1vLA_o.png" alt="image.png"></p> 
<p>在终端，先输入“bash”，然后回车，再进行其他操作。<br><img src="https://images2.imgbox.com/a7/0b/tnq6gCWI_o.png" alt="image.png"><br> </p> 
<h4><a id="44__263"></a>4.4 更新路由</h4> 
<p>进入项目空间后，点击左侧菜单栏的“应用负载”—&gt;“应用路由”，进入如下页面，点击需要更新的配置右侧的“┆”，选择“编辑规则”。<br><img src="https://images2.imgbox.com/94/c5/j7TfYpt1_o.png" alt=""></p> 
<p>鼠标悬放在路由规则上，点击下图圈中的图标。<br><img src="https://images2.imgbox.com/bc/ff/wDamm5z3_o.png" alt="image.png"></p> 
<p>进入设置路由规则页面，<br>在此页面进行添加或更改路径，完成后点击“保存”。<br><img src="https://images2.imgbox.com/ab/19/BmeX91UN_o.png" alt=""></p> 
<p>点击“更新”就可以了。<br><img src="https://images2.imgbox.com/3d/c3/J3pDA9gW_o.png" alt=""></p> 
<p></p> 
<h4><a id="br__273"></a><br></h4>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cdea18ba2e566bf41bd4289dcfa60163/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">10大超好用ai软件，2024办公学习必备！</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/59f59bbf200586785dbd568955a0ba98/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">javaweb-maven&#43;HTTP协议&#43;Tomcat&#43;SpringBoot入门&#43;请求&#43;响应&#43;分层解耦</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>