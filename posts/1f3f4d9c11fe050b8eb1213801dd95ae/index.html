<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>网页计数器 javabean session application 多种方法实现 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="网页计数器 javabean session application 多种方法实现" />
<meta property="og:description" content="运用session，javabean，servlet实现网页计数器 目录
一、运行结果
二、原理
1、session
2、Javabean
但是有个小问题
3、application
三、代码分享
count.jsp
Bean.java
一、运行结果 二、原理 1、session 运行网页，没有就创建一个session，有的话就访问一次就加一
但是session的作用域只是会话域，这个创建的对象对于参与与某客户端会话的所有组件有效（假如换一个浏览器，这个session不会参与另一个浏览器的计数）
2、Javabean 在jsp页面里
&lt;jsp:useBean&gt;创建Bean
&lt;jsp:setProperty&gt; 设置Bean属性
&lt;jsp:getProperty&gt;获取Bean属性
需要指定javaBean的生存范围，默认page。（生存范围有：page,request,session,application 依次作用域变大）
需要指定特定的类来进行逻辑运算，例如指定的Bean.java 类
还要注意的是如果有多个javabean，他们的命名不能一样
但是有个小问题 这块的application运行的结果是2，我在idea中调试时count的值是1，但是网页中显示出来的是2，希望知道原因的哥哥姐姐们能告诉我一下！还有就是下面用application实现的时候也是这个错误，我就把下面的else number=1 屏蔽掉了最后显示的是1，我也不知道对不对该不该屏蔽，希望有人可以告诉我为甚么？？？！
3、application 运行时判断有无application，没有就先创建一个
application的作用域咱对象在整个应用的生命周期里都有效（换个浏览器运行，这个里面的计数也会存在，会继续加一）
三、代码分享 count.jsp &lt;%@ page contentType=&#34;text/html;charset=UTF-8&#34; language=&#34;java&#34; %&gt; &lt;br&gt; &lt;head&gt; &lt;title&gt;Title&lt;/title&gt; &lt;/head&gt; &lt;br&gt; &lt;font color=&#34;red&#34;&gt;1、利用session实现网页计数器&lt;/font&gt; &lt;% int number1 = 0; HttpSession session1 = request.getSession(); Object counter = session1.getAttribute(&#34;COUNTER&#34;); if(counter ==null){ number1=1; }else { number1=((Integer)counter).intValue(); number1&#43;&#43;; } session1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/1f3f4d9c11fe050b8eb1213801dd95ae/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-14T13:04:12+08:00" />
<meta property="article:modified_time" content="2021-11-14T13:04:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">网页计数器 javabean session application 多种方法实现</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p><span style="color:#956fe7;"><strong>运用session，javabean，servlet实现网页计数器 </strong></span></p> 
</blockquote> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:0px;"></p> 
<p id="%E4%B8%80%E3%80%81%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C" rel="nofollow" title="一、运行结果">一、运行结果</a></p> 
<p id="%E4%BA%8C%E3%80%81%E5%8E%9F%E7%90%86-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E5%8E%9F%E7%90%86" rel="nofollow" title="二、原理">二、原理</a></p> 
<p id="1%E3%80%81session-toc" style="margin-left:40px;"><a href="#1%E3%80%81session" rel="nofollow" title="1、session">1、session</a></p> 
<p id="2%E3%80%81Javabean-toc" style="margin-left:40px;"><a href="#2%E3%80%81Javabean" rel="nofollow" title="2、Javabean">2、Javabean</a></p> 
<p id="%E4%BD%86%E6%98%AF%E6%9C%89%E4%B8%AA%E5%B0%8F%E9%97%AE%E9%A2%98-toc" style="margin-left:0px;"><a href="#%E4%BD%86%E6%98%AF%E6%9C%89%E4%B8%AA%E5%B0%8F%E9%97%AE%E9%A2%98" rel="nofollow" title="但是有个小问题">但是有个小问题</a></p> 
<p id="3%E3%80%81application-toc" style="margin-left:40px;"><a href="#3%E3%80%81application" rel="nofollow" title="3、application">3、application</a></p> 
<p id="%E4%B8%89%E3%80%81%E4%BB%A3%E7%A0%81%E5%88%86%E4%BA%AB-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E4%BB%A3%E7%A0%81%E5%88%86%E4%BA%AB" rel="nofollow" title="三、代码分享">三、代码分享</a></p> 
<p id="count.jsp-toc" style="margin-left:40px;"><a href="#count.jsp" rel="nofollow" title="count.jsp">count.jsp</a></p> 
<p id="Bean.java-toc" style="margin-left:40px;"><a href="#Bean.java" rel="nofollow" title="Bean.java">Bean.java</a></p> 
<hr id="hr-toc"> 
<h2 id="%E4%B8%80%E3%80%81%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C">一、运行结果</h2> 
<p><img alt="" height="268" src="https://images2.imgbox.com/bd/50/eBAD9Dj8_o.png" width="768"></p> 
<p> </p> 
<h2 id="%E4%BA%8C%E3%80%81%E5%8E%9F%E7%90%86">二、原理</h2> 
<h3 id="1%E3%80%81session">1、session</h3> 
<p>运行网页，没有就创建一个session，有的话就访问一次就加一</p> 
<p>但是session的作用域只是会话域，这个创建的对象对于参与与某客户端会话的所有组件有效（<span style="color:#fe2c24;">假如换一个浏览器，这个session不会参与另一个浏览器的计数</span>）</p> 
<h3 id="2%E3%80%81Javabean">2、Javabean</h3> 
<p>在jsp页面里</p> 
<blockquote> 
 <p>&lt;jsp:useBean&gt;创建Bean</p> 
 <p>&lt;jsp:setProperty&gt; 设置Bean属性</p> 
 <p>&lt;jsp:getProperty&gt;获取Bean属性</p> 
</blockquote> 
<p>需要指定javaBean的生存范围，默认page。（生存范围有：page,request,session,application 依次作用域变大）</p> 
<p>需要指定特定的类来进行逻辑运算，例如指定的Bean.java 类</p> 
<p>还要注意的是如果有多个javabean，<span style="color:#ff9900;">他们的命名不能一样</span></p> 
<h2 id="%E4%BD%86%E6%98%AF%E6%9C%89%E4%B8%AA%E5%B0%8F%E9%97%AE%E9%A2%98"><span style="color:#fe2c24;"><strong>但是有个小问题</strong></span></h2> 
<p><strong><span style="color:#fe2c24;">这块的application运行的结果是2，我在idea中调试时count的值是1，但是网页中显示出来的是2，希望知道原因的哥哥姐姐们能告诉我一下！还有就是下面用application实现的时候也是这个错误，我就把下面的else number=1 屏蔽掉了最后显示的是1，我也不知道对不对该不该屏蔽，希望有人可以告诉我为甚么？？？！</span></strong></p> 
<h3 id="3%E3%80%81application">3、application</h3> 
<p>运行时判断有无application，没有就先创建一个</p> 
<p>application的作用域咱对象在整个应用的生命周期里都有效（<span style="color:#fe2c24;">换个浏览器运行，这个里面的计数也会存在，会继续加一</span>）</p> 
<h2 id="%E4%B8%89%E3%80%81%E4%BB%A3%E7%A0%81%E5%88%86%E4%BA%AB">三、代码分享</h2> 
<h3 id="count.jsp">count.jsp</h3> 
<pre><code>&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;br&gt;
&lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;br&gt;

&lt;font color="red"&gt;1、利用session实现网页计数器&lt;/font&gt;
&lt;% int number1 = 0;
    HttpSession session1 = request.getSession();
    Object counter = session1.getAttribute("COUNTER");
    if(counter ==null){
        number1=1;
    }else {
        number1=((Integer)counter).intValue();
        number1++;
    }
    session1.setAttribute("COUNTER",new Integer(number1));
out.println("当前网页访问次数："+number1);
%&gt;
&lt;/br&gt;



    &lt;/br&gt;
&lt;font color="red"&gt;2.1、利用JavaBean实现 范围是request的网页计数器&lt;/font&gt;
&lt;jsp:useBean id="mybean" scope="request" class="Bean.CountBean" /&gt;
当前网页访问次数：
&lt;jsp:getProperty name="mybean" property="count"/&gt;&lt;/br&gt;
&lt;font color="red"&gt;2.2、利用JavaBean实现范围是session的网页计数器&lt;/font&gt;
&lt;jsp:useBean id="mybean1" scope="session" class="Bean.CountBean" /&gt;
当前网页访问次数：
&lt;jsp:getProperty name="mybean1" property="count"/&gt;
&lt;/br&gt;
&lt;font color="red"&gt;2.3、利用JavaBean实现范围是page的网页计数器&lt;/font&gt;
&lt;jsp:useBean id="mybean2" scope="page" class="Bean.CountBean" /&gt;
当前网页访问次数：
&lt;jsp:getProperty name="mybean2" property="count"/&gt;
&lt;/br&gt;
&lt;font color="red"&gt;2.4、利用JavaBean实现范围是application的网页计数器&lt;/font&gt;
&lt;jsp:useBean id="mybean3" scope="application" class="Bean.CountBean" /&gt;

当前网页访问次数：
&lt;jsp:getProperty name="mybean3" property="count"/&gt;
&lt;/br&gt;&lt;/br&gt;

&lt;font color="red"&gt;3、用application实现全局网页计数器&lt;/font&gt;
&lt;%
    int number=0;

    if(application.getAttribute("number")!=null){

        number = (Integer) application.getAttribute("number");
        number=number+1;
    }
//    else{
//        number=1;
//    }
    out.println("当前网页访问次数："+number);
    application.setAttribute("number",number);
%&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<h3 id="Bean.java">Bean.java</h3> 
<pre><code>public class CountBean {
    private int count=0;
    public int getCount(){
        count++;
        return count;
    }
    public void setCount(int count){
        this.count = count;
    }
}</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e7a1ebee833876095fd2d4a413022e70/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【2021-11-14】Android Studio 总是报错 Unresolved Class ‘MainActivity‘ 的解决办法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2176bb9f48a50dd13a79d24d745af4b3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">量化分析入门9：backtrader策略入门１（数据处理），读取数据，并将数据格式化为backtrader的数据格式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>