<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Hugo之 Home-Info&#43;Profile Mode主题 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Hugo之 Home-Info&#43;Profile Mode主题" />
<meta property="og:description" content="今天给大家分享Home-Info&#43;Profile Mode
安装 安装 Hugo：安装 Hugo 需要利用一个包管理工具。对于 MacOS 系统 Hugo 可以直接用 Homebrew 来安装，打开终端输入 brew install hugo 安装 PaperMod：根据 PaperMod 的 官方文档 配置。 文件夹管理 archetypes：不用管
asset：自定义的 CSS 和 JavaScript
content：用于放博客内容
data：不用管
layouts：自定义的 HTML
public：项目导出文件 - 用于静态网页部署
static：存放图片
themes：主题 - PaperMod
进入 themes/PaperMod 则是 PaperMod 的相关代码，比较主要的目录有：
assets：PaperMod 的 CSS 和 JavaScript 代码layouts：PaperMod 的 HTML 自定义博文目录 content 里每个文件夹内都可以添加一个 _index.md 文件，该文件里面可以加 Front Matter 自定义（多语言）标题，如：
--- hidemeta: true title: 博客 --- 初始项目文件夹结构如下：
. ├── config." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/995779632dcc058b931682122fb65c0a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-07T16:10:28+08:00" />
<meta property="article:modified_time" content="2024-03-07T16:10:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Hugo之 Home-Info&#43;Profile Mode主题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p>今天给大家分享Home-Info+Profile Mode</p> 
</blockquote> 
<h3 id="安装">安装</h3> 
<ol><li>安装 <code>Hugo</code>：安装 <code>Hugo</code> 需要利用一个包管理工具。对于 MacOS 系统 <code>Hugo</code> 可以直接用 <code>Homebrew</code> 来安装，打开终端输入</li></ol> 
<pre><code>brew install hugo
</code></pre> 
<ol><li>安装 <code>PaperMod</code>：根据 <code>PaperMod</code> 的 <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/Installation0" title="官方文档">官方文档</a> 配置。</li></ol> 
<h3 id="文件夹管理">文件夹管理</h3> 
<ul><li> <p><code>archetypes</code>：不用管</p> </li><li> <p><code>asset</code>：<a href="https://www.yunyitang.me/hugo-papermod-blog/#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80-htmlcss" rel="nofollow" title="自定义的 CSS 和 JavaScript">自定义的 CSS 和 JavaScript</a></p> </li><li> <p><code>content</code>：用于放博客内容</p> </li><li> <p><code>data</code>：不用管</p> </li><li> <p><code>layouts</code>：<a href="https://www.yunyitang.me/hugo-papermod-blog/#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80-htmlcss" rel="nofollow" title="自定义的 HTML">自定义的 HTML</a></p> </li><li> <p><code>public</code>：项目导出文件 - 用于静态网页部署</p> </li><li> <p><code>static</code>：存放图片</p> </li><li> <p><code>themes</code>：主题 - <a href="https://github.com/adityatelange/hugo-PaperMod/" title="PaperMod">PaperMod</a></p> </li></ul> 
<p>进入 <code>themes/PaperMod</code> 则是 <code>PaperMod</code> 的相关代码，比较主要的目录有：</p> 
<ul><li><code>assets</code>：<code>PaperMod</code> 的 CSS 和 JavaScript 代码</li><li><code>layouts</code>：<code>PaperMod</code> 的 HTML</li></ul> 
<h4 id="自定义博文目录">自定义博文目录</h4> 
<p><code>content</code> 里每个文件夹内都可以添加一个 <code>_index.md</code> 文件，该文件里面可以加 Front Matter 自定义（多语言）标题，如：</p> 
<pre><code>---
hidemeta: true
title: 博客
---
</code></pre> 
<p>初始项目文件夹结构如下：</p> 
<pre><code>.
├── config.yml
├── content/
│   ├── archives.md
│   ├── search.md
│   └── posts/
├── static/
│   ├── img/
│   └── ...
└── themes
    └── PaperMod
</code></pre> 
<h3 id="Config-yml">Config.yml</h3> 
<ul><li><a href="https://www.sulvblog.cn/posts/blog/build_hugo/" rel="nofollow" title="Sulv’s Blog ：hugo博客搭建 | PaperMod主题">Sulv’s Blog ：hugo博客搭建 | PaperMod主题</a></li><li><a href="https://github.com/adityatelange/hugo-PaperMod/wiki/Features#intro" title="PaperMod 官方文档">PaperMod 官方文档</a></li></ul> 
<h4 id="多语言-config-yml-设置">多语言 config.yml 设置</h4> 
<p>如果我们想要使用多语言（中英为例），就需要在 <code>content</code> 文件夹下准备两个文件夹，例如 <code>Chinese</code> 和 <code>English</code> ，一个放中文，另一个放英文。</p> 
<p>在 <code>config.yml</code> 中需要做以下修改：</p> 
<pre><code>defaultContentLanguage: en
defaultContentLanguageInSubdir: true

languages:
    en:
        languageName: "English"
        contentDir: content/English
    zh:
        languageName: "中文"
        contentDir: content/Chinese
</code></pre> 
<h4 id="双语双模式-config-yml-设置">双语双模式 config.yml 设置</h4> 
<p>一开始照本宣科做中英一式两份的个人网站，<a href="https://www.yunyitang.me/2023-review/" rel="nofollow" title="后来随着">后来随着</a> 扩展 <a href="https://www.yunyitang.me/friends/" rel="nofollow" title="友链">友链</a>、多读多看，加之自己在英工作，逐渐调整了个站中英页面的各自侧重。</p> 
<p><a href="https://www.yunyitang.me/about/" rel="nofollow" title="英文页面">英文页面</a> 有求职相关，主页保持 portfolio 的简洁，选用了 <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/Features#profile-mode" title="Profile Mode">Profile Mode</a>：</p> 
<pre><code>defaultContentLanguage: en # 默认语言
defaultContentLanguageInSubdir: true # 默认语言是否放在子目录中
languages:
  en:
    languageName: English
    languageCode: en
    contentDir: content/English
    menu:
      main:
        - identifier: about
          name: About
          url: /en/about/
          weight: 10
        - identifier: project
          name: Project
          url: /en/project/
          weight: 20
        - identifier: resume
          name: Resume
          url: /en/resume.pdf
          weight: 30
        - identifier: blog
          name: Blog
          url: /en/blog/
          weight: 40
        - identifier: tags
          name: 🕹️
          url: /en/tags/
          weight: 50
        - identifier: search
          name: Search
          url: /en/search/
          weight: 60
    params:
      profileMode:
        enabled: true
        title: Yunyi Tang
        subtitle: Little squirrel Hopping around
        imageUrl: 'img/Avatar.png'
        imageWidth: 150
        imageHeight: 150
        buttons:
          - name: Project
            url: /en/project/
          - name: Resume
            url: /en/resume.pdf
          - name: Log
            url: /en/blog/tech/log/
      socialIcons:
        - name: github
          url: 'https://github.com/yunyit'
        - name: linkedin
          url: 'https://www.linkedin.com/in/yunyitang820/'
        - name: instagram
          url: 'https://www.instagram.com/yunyi_cam/'
        - name: goodreads
          url: 'https://www.goodreads.com/user/show/161105203-yunyi-tang'
        - name: email
          url: 'mailto:yunyi.tang.820@gmail.com'
</code></pre> 
<p><a href="https://www.yunyitang.me/about/" rel="nofollow" title="中文页面">中文页面</a> 则更侧重博客输出，魔改了 <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/Features#home-info-mode" title="Home-Info Mode">Home-Info Mode</a>：</p> 
<pre><code>defaultContentLanguage: en # 默认语言
defaultContentLanguageInSubdir: true # 默认语言是否放在子目录中
languages:
  en: # 参照上节
  zh:
    languageName: 中文
    languageCode: zh
    contentDir: content/Chinese
    menu:
      main:
        - identifier: about
          name: 关于
          url: /zh/about/
          weight: 10
        - identifier: log
          name: 建站
          url: /zh/log/
          weight: 20
        - identifier: blog
          name: 博客
          url: /zh/blog/
          weight: 30
        - identifier: links
          name: 友链
          url: /zh/links/
          weight: 40
        - identifier: tags
          name: 🕹️
          url: /zh/tags/
          weight: 50
        - identifier: search
          name: 搜索
          url: /zh/search/
          weight: 60
        - identifier: travellings
          name: 开往
          url: https://www.travellings.cn/go.html
          weight: 70
    params:
      homeInfoParams:
        enabled: true
        Title: Yunyi's Blog
        Content: const desc = "Little squirrel Hopping around";
        imageUrl: 'img/Avatar.png'
        imageWidth: 110
        imageHeight: 110
      socialIcons:
        - name: github
          url: 'https://github.com/yunyit'
        - name: instagram
          url: 'https://www.instagram.com/yunyi_cam/'
        - name: goodreads
          url: 'https://www.goodreads.com/user/show/161105203-yunyi-tang'
        - name: email
          url: 'mailto:yunyi.tang.820@gmail.com'
</code></pre> 
<h3 id="创建文章">创建文章</h3> 
<ol><li>在终端输入 <code>hugo new 文章名称.md</code>，在 <code>content</code> 文件夹下创建 markdown 文件；</li><li>但我懒，直接在对应 <code>content</code> 文件夹下新建 <code>文章名称.md</code>；</li></ol> 
<h4 id="自定义文章-Front-Matter">自定义文章 Front Matter</h4> 
<p>文章头部信息可以修改这篇文章的属性，建议按照 <a href="https://www.sulvblog.cn/posts/blog/build_hugo/" rel="nofollow" title="Sulv’s Blog ：hugo博客搭建 | PaperMod主题">Sulv’s Blog ：hugo博客搭建 | PaperMod主题</a> 进行配置。</p> 
<p>我的 Front Matter 如下，在 <a href="https://github.com/adityatelange/hugo-PaperMod/" title="PaperMod">PaperMod</a> 默认基础上稍加修改，供参考:</p> 
<pre><code>---
Tags: # 标签数量丰俭由人
  - PaperMod
  - Hugo
  - 建站
TocOpen: true
author:
  - Yunyi
comments: true
cover:
  alt: ''
  caption: ''
  image: ''
  relative: false
date: '2024-01-15'
description: '' # 为页头简介，省略
disableShare: true
draft: false # 未发布时为 true
hidemeta: false
lastmod: '2024-01-15'
showToc: true
showbreadcrumbs: true
slug: ''
title: Hugo + PaperMod 自定义 Homeinfo 中英博客搭建
weight: null # 若置顶则为对应数字
---
</code></pre> 
<h3 id="本地预览">本地预览</h3> 
<ol><li>在终端输入 <code>hugo server -D</code> 启动。</li><li>启动服务器后，打开浏览器，本地预览网址为 <code>localhost:1313</code>。</li></ol> 
<h3 id="网站部署">网站部署</h3> 
<p><a href="https://pages.github.com/" rel="nofollow" title="Github Pages">Github Pages</a> 发布静态博客 -</p> 
<p>优点：</p> 
<ul><li>仅需一个 GitHub 账号和简单配置即可将静态博客发布到 GitHub Pages；</li><li>没有维护的时间成本, 可以将精力更多的放到博客内容本身上去；</li><li>无需备案；</li><li>无需 SSL 证书；</li></ul> 
<p>缺点：</p> 
<ul><li>访问速度较慢</li><li>访问速度较慢</li><li>访问速度较慢</li></ul> 
<h3 id="自定义页面布局-HTML-CSS">自定义页面布局 HTML/CSS</h3> 
<p>参考 <a href="https://adityatelange.github.io/hugo-PaperMod/posts/papermod/papermod-faq/#override-theme-template" rel="nofollow" title="PaperMod官方文档">PaperMod官方文档</a>：</p> 
<p>通过 <code>Hugo</code> 的查找顺序，您可以覆盖主题的任何部分。比如，自定义 <code>footer</code>，只需复制列表模板即可：</p> 
<pre><code>your-site/themes/papermod/layouts/partials/footer.html
</code></pre> 
<p>然后粘贴到自己的 <code>layout</code> 文件夹下：</p> 
<pre><code>your-site/layouts/partials/footer.html
</code></pre> 
<p>然后就可以对 <code>footer</code> 进行任何修改了。<code>Hugo</code> 创建网站时，将使用 <code>your-site/layouts/partials/</code> 里的 <code>footer.html</code>，而不是 <code>your-site/themes/papermod/layouts/partials/</code> 里的 <code>footer.html</code>。</p> 
<blockquote> 
 <p><code>git pull</code> 更新 <code>your-site/themes/papermod/</code> 之后，记得也更新对应的自定义 html css，眼瞎 debug 体会！</p> 
</blockquote> 
<h4 id="Home-Info-主页添加头像">Home-Info 主页添加头像</h4> 
<p>修改在 <code>layouts/partials/home_info.html</code>：</p> 
<pre><code>{<!-- -->{- with site.Params.homeInfoParams }}
&lt;article class="first-entry home-info"&gt;
    {<!-- -->{- with site.Params.homeInfoParams }}
    &lt;div class="profile_inner"&gt;
        {<!-- -->{- if .imageUrl -}}
        {<!-- -->{- $img := "" }}
        {<!-- -->{- if not (urls.Parse .imageUrl).IsAbs }}
        {<!-- -->{- $img = resources.Get .imageUrl }}
        {<!-- -->{- end }}
        {<!-- -->{- if $img }}
        {<!-- -->{- $processableFormats := (slice "jpg" "jpeg" "png" "tif" "bmp" "gif") -}}
        {<!-- -->{- if hugo.IsExtended -}}
        {<!-- -->{- $processableFormats = $processableFormats | append "webp" -}}
        {<!-- -->{- end -}}
        {<!-- -->{- $prod := (hugo.IsProduction | or (eq site.Params.env "production")) }}
        {<!-- -->{- if and (in $processableFormats $img.MediaType.SubType) (eq $prod true)}}
        {<!-- -->{- if (not (and (not .imageHeight) (not .imageWidth))) }}
        {<!-- -->{- $img = $img.Resize (printf "%dx%d" .imageWidth .imageHeight) }}
        {<!-- -->{- else if .imageHeight }}
        {<!-- -->{- $img = $img.Resize (printf "x%d" .imageHeight) }}
        {<!-- -->{ else if .imageWidth }}
        {<!-- -->{- $img = $img.Resize (printf "%dx" .imageWidth) }}
        {<!-- -->{ else }}
        {<!-- -->{- $img = $img.Resize "50x50" }}
        {<!-- -->{- end }}
        {<!-- -->{- end }}
        &lt;a href="https://www.yunyitang.me/img/Avatar.png" &gt;&lt;img id="home-info-avatar" draggable="false" src="{<!-- -->{ $img.Permalink }}" alt="{<!-- -->{ .imageTitle | default "profile image" }}" title="{<!-- -->{ .imageTitle }}"
        height="{<!-- -->{ .imageHeight | default 50 }}" width="{<!-- -->{ .imageWidth | default 100 }}" style="border-radius: 50%!important;
        background-color: #fff; padding: 2px;" /&gt;&lt;/a&gt;
        {<!-- -->{- else }}
        &lt;a href="https://www.yunyitang.me/img/Avatar.png" &gt;&lt;img id="home-info-avatar" draggable="false" src="{<!-- -->{ .imageUrl | absURL }}" alt="{<!-- -->{ .imageTitle | default "profile image" }}" title="{<!-- -->{ .imageTitle }}"
        height="{<!-- -->{ .imageHeight | default 50 }}" width="{<!-- -->{ .imageWidth | default 100 }}" style="border-radius: 50%!important;
        background-color: #fff; padding: 2px;" /&gt;&lt;/a&gt;
        {<!-- -->{- end }}
        {<!-- -->{- end }}
    &lt;/div&gt;
    {<!-- -->{- end }}
    &lt;!-- original codes --&gt;
&lt;/article&gt;
{<!-- -->{- end -}}
</code></pre> 
<h3 id="自定义-hover">自定义 hover</h3> 
<p>主要在 <code>assets/css/common/header.css</code> 中修改：</p> 
<h4 id="Home-主页键-hover">Home 主页键 hover</h4> 
<p>为页面左上角的 <code>Home</code> 添加 hover：</p> 
<pre><code>.logo a:hover {
  transition: 0.15s;
  color: grey;
}
</code></pre> 
<h4 id="社交媒体-hover">社交媒体 hover</h4> 
<p>以下为本人所标注的 5 个社交媒体标识的自定义颜色，选了各软件的主题色：</p> 
<pre><code>svg:hover {
  transition: 0.15s;
}

.social-icons a[href*='github']:hover svg {
  color: #333 !important;
}

.social-icons a[href*='linkedin']:hover svg {
  color: #0a66c2 !important;
}

.social-icons a[href*='instagram']:hover svg {
  color: #d62976 !important;
}

.social-icons a[href*='goodreads']:hover svg {
  color: #75420e !important;
}

.social-icons a[href^='mailto']:hover svg {
  color: #f2a60c !important;
}
</code></pre> 
<h4 id="黑夜模式和白天模式的-hover">黑夜模式和白天模式的 hover</h4> 
<pre><code>#moon:hover {
  transition: 0.15s;
  color: #1772b4;
}

#sun:hover {
  transition: 0.15s;
  color: #f4a83a;
}
</code></pre> 
<h4 id="主页-menu-中链接-hover">主页 menu 中链接 hover</h4> 
<pre><code>#menu a:hover {
  transition: 0.15s;
  color: grey;
}
</code></pre> 
<h4 id="Profile-mode-按钮-hover">Profile mode 按钮 hover</h4> 
<p>在 <code>/assets/css/common/profile-mode.css</code> 中修改：</p> 
<pre><code>.button:hover {
  -webkit-transform: scale(1.1);
  -moz-transform: scale(1.1);
  -ms-transform: scale(1.1);
  -o-transform: scale(1.1);
  /* box-shadow: 0 0 0 1px grey; */
  transform: scale(1.1) translateZ(0) translate3d(0, 0, 0) rotate(0.01deg);
}
</code></pre> 
<h3 id="目录栏目放侧边">目录栏目放侧边</h3> 
<p><a href="https://www.sulvblog.cn/posts/blog/hugo_toc_side/" rel="nofollow" title="Sulv’s Blog：Hugo博客目录放在侧边 | PaperMod主题">Sulv’s Blog：Hugo博客目录放在侧边 | PaperMod主题</a></p> 
<h3 id="修改字体">修改字体</h3> 
<p>按喜好修改字体如下：</p> 
<h4 id="修改全局字体">修改全局字体</h4> 
<p>在 <a href="https://fonts.google.com/" rel="nofollow" title="Google Fonts">Google Fonts</a> 中查询开源字体，我目前的文章字体为 <a href="https://www.jetbrains.com/lp/mono/" rel="nofollow" title="JetBrains Mono">JetBrains Mono</a>。Google Fonts 会生成 HTML 和 css ，将 HTML 插入到 <code>layouts/partials/extend_head.html</code> 中，将 CSS 插入到 <code>assets/css/extended/blank.css</code>：</p> 
<pre><code>body {
  font-family: 'JetBrains Mono', monospace;
  font-size: 1rem;
  line-height: 1.5;
  margin: 0;
}
</code></pre> 
<h4 id="修改代码字体">修改代码字体</h4> 
<p>与全局字体类似，区别为 CSS 代码插入 <code>assets/css/extended/blank.css</code> 的位置不同：</p> 
<pre><code>.post-content pre,
code {
  font-family: 'JetBrains Mono', monospace;
  font-size: 13;
  line-height: 1.2;
  max-height: 40rem;
}
</code></pre> 
<h3 id="代码外观自定义">代码外观自定义</h3> 
<p>按个人喜好配置如下：</p> 
<h4 id="代码高亮">代码高亮</h4> 
<p>最近一次 <a href="https://github.com/adityatelange/hugo-PaperMod/pull/1364" title="更新">更新</a>，改用 <code>Hugo</code> 内置的 <a href="https://xyproto.github.io/splash/docs/all.html" rel="nofollow" title="Chroma">Chroma</a>，CSS 文件位置更改为 <code>assets/css/includes/chroma-styles.css</code>。对应配置文件 <code>config.yml</code> 内容为：</p> 
<pre><code>markup:
  markup.highlight:
    noclasses: false
</code></pre> 
<p>配合本站的橙色系，我选择了 <a href="https://xyproto.github.io/splash/docs/trac.html" rel="nofollow" title="trac">trac</a>，并用 <code>Hugo</code> 安装：</p> 
<pre><code>hugo gen chromastyles --style=trac &gt; assets/css/includes/chroma-styles.css
</code></pre> 
<p>其中，所有 <code>#bb8844</code> 配色更换为 <a href="https://color-term.com/color/taocihong-e16723/" rel="nofollow" title="陶瓷红">陶瓷红</a> <code>#E16723</code>，配合本站的 <a href="https://www.yunyitang.me/hugo-papermod-blog/#%E4%BF%AE%E6%94%B9%E9%93%BE%E6%8E%A5%E9%A2%9C%E8%89%B2" rel="nofollow" title="超链接配色">超链接配色</a>。<code>assets/css/includes/chroma-mod.css</code> 文件保持原设定，记得在 <code>git pull</code> 之后更新对应的 <a href="https://www.yunyitang.me/hugo-papermod-blog/#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80-htmlcss" rel="nofollow" title="CSS 自定义">CSS 自定义</a>文件夹就好。</p> 
<p>目前在 <code>assets/css/extended/blank.css</code> 的配置为：</p> 
<pre><code>.post-content pre code,
.post-content .highlight:not(table),
.post-content .highlight table {
  background: unset !important;
  background-color: var(--code-bg) !important; /* 兼容日夜显示模式 */
  color: var(--secondary) !important; /* 兼容日夜显示模式 */
}
</code></pre> 
<p>此更新的进度具体看这个 <a href="https://github.com/adityatelange/hugo-PaperMod/issues/1386" title="issue">issue</a>。</p> 
<h4 id="代码边框圆角">代码边框圆角</h4> 
<p>在 <code>/assets/css/common/post-single.css</code> 中修改：</p> 
<pre><code>.post-content .highlight pre {
  background-color: var(--theme) !important;
  margin: 0;
}
</code></pre> 
<h3 id="修改链接颜色">修改链接颜色</h3> 
<p>参考 <a href="https://www.lvbibir.cn/posts/blog/hello-hugo/#%E4%BF%AE%E6%94%B9%E9%93%BE%E6%8E%A5%E9%A2%9C%E8%89%B2" rel="nofollow" title="lvbibir’s Blog：Hello, hugo!">lvbibir’s Blog：Hello, hugo!</a> ，我选择了 <a href="https://color-term.com/color/taocihong-e16723/" rel="nofollow" title="陶瓷红">陶瓷红</a> <code>#E16723</code> rgb(225, 103, 35)。</p> 
<pre><code>&lt;a href="{<!-- -->{ .Destination | safeURL }}"{<!-- -->{ with .Title}} title="{<!-- -->{ . }}"{<!-- -->{ end }}{<!-- -->{ if strings.HasPrefix .Destination "http" }} target="_blank" rel="noopener" style="color:#E16723";{<!-- -->{ end }}&gt;{<!-- -->{ .Text | safeHTML }}&lt;/a&gt;
</code></pre> 
<h3 id="添加评论">添加评论</h3> 
<p>一开始基于 <a href="https://www.mongodb.com/cloud/atlas/register" rel="nofollow" title="MongoDB">MongoDB</a> 和 <a href="https://vercel.com/signup" rel="nofollow" title="Vercel">Vercel</a> 部署 <a href="https://twikoo.js.org/en/intro.html" rel="nofollow" title="twikoo">twikoo</a> 评论系统，后来更换为 <a href="https://disqus.com/" rel="nofollow" title="Disqus">Disqus</a> 没调好，还是 <a href="https://giscus.app/" rel="nofollow" title="gitcus">gitcus</a> 吧！</p> 
<p>为适应日夜主题调整，在（chatgpt 帮助下）在 <code>layouts/partials/comments.html</code> 设置如下：</p> 
<pre><code>&lt;script&gt;
  function createGiscusScript(data) {
    const giscusScript = document.createElement('script');

    // 动态设置脚本属性
    Object.entries(data).forEach(([key, value]) =&gt; giscusScript.setAttribute(key, value));

    // 将脚本标签添加到 &lt;article&gt; 中
    document.querySelector('article').appendChild(giscusScript);

    // 切换主题时更新 giscus 主题
    const toggle = document.querySelector('label[for="switch_default"]');
    if (toggle) {
      toggle.addEventListener('click', function () {
        // 根据 body 类动态设置 giscus 主题
        const theme = document.body.classList.contains('dark') ? 'transparent_dark' : 'light';
        giscusScript.setAttribute('data-theme', theme);

        // 给 giscus iframe发送消息，更新主题
        sendMessage({ setConfig: { theme } });
      });
    }
  }

  function sendMessage(message) {
    const iframe = document.querySelector('iframe.giscus-frame');
    if (iframe) {
      iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
    }
  }

  document.addEventListener('DOMContentLoaded', function () {
    // 定义 Giscus 数据属性
    const giscusAttributes = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'yunyit/yunyit.github.io',
      'data-repo-id': 'R_kgDOKqkPYw',
      'data-category': 'Comments',
      'data-category-id': 'DIC_kwDOKqkPY84CceDi',
      'data-mapping': 'url',
      'data-strict': '0',
      'data-reactions-enabled': '1',
      'data-emit-metadata': '0',
      'data-input-position': 'top',
      'data-lang': 'en',
      crossorigin: 'anonymous',
      async: '',
    };

    // 根据 body 类设置初始 giscus 主题
    giscusAttributes['data-theme'] = document.body.classList.contains('dark')
      ? 'transparent_dark'
      : 'light';

    // 调用函数，使用属性创建 giscus 脚本
    createGiscusScript(giscusAttributes);

    // body 类变化时动态更新 giscus 主题
    const bodyObserver = new MutationObserver(() =&gt; {
      const theme = document.body.classList.contains('dark') ? 'transparent_dark' : 'light';
      sendMessage({ setConfig: { theme } });
    });

    bodyObserver.observe(document.body, { attributes: true, attributeFilter: ['class'] });
  });
&lt;/script&gt;
</code></pre> 
<p>在 <code>assets/css/extended/blank.css</code> 调整文末导航栏和评论区的距离：</p> 
<pre><code>.paginav {
  margin-bottom: 45px;
}
</code></pre> 
<h3 id="Shortcodes-扩展功能-插件">Shortcodes 扩展功能/插件</h3> 
<ul><li><a href="https://www.sulvblog.cn/posts/blog/shortcodes/" rel="nofollow" title="bilibili、YouTube、豆瓣阅读和电影卡片">bilibili、YouTube、豆瓣阅读和电影卡片</a></li><li><a href="https://gist.github.com/j-un/e7d0b3118556479392bd2269f7059242" rel="nofollow" title="Spotify">Spotify</a></li></ul> 
<h3 id="Tags-标签云">Tags 标签云</h3> 
<p><a href="https://www.sulvblog.cn/posts/blog/hugo_tag_cloud/" rel="nofollow" title="Sulv’s Blog：Hugo博客添加标签云">Sulv’s Blog：Hugo博客添加标签云</a></p> 
<h3 id="添加友链">添加友链</h3> 
<p><a href="https://www.sulvblog.cn/posts/blog/hugo_link/" rel="nofollow" title="Sulv’s Blog：Hugo博客添加友链">Sulv’s Blog：Hugo博客添加友链</a></p> 
<h3 id="流量统计">流量统计</h3> 
<p>我使用了 <a href="https://analytics.eu.umami.is/share/mNvu6TLrju52UZ97/Yunyi'%20rel=" title="umami">umami</a> 流量统计，并添加在页脚 <code>footer</code> 。</p> 
<p>在 <code>layouts/partials/footer.html</code> 中修改：</p> 
<pre><code>{<!-- -->{- if not (.Param "hideFooter") }}
&lt;footer class="footer"&gt;
  &lt;!-- other codes --&gt;
  &lt;span&gt;
    &lt;a
      href="https://analytics.eu.umami.is/share/mNvu6TLrju52UZ97/Yunyi's%20Blog"
      rel="noopener noreferrer"
      target="_blank"
      &gt;Analytics&lt;/a
    &gt;
  &lt;/span&gt;
&lt;/footer&gt;
{<!-- -->{- end }}
</code></pre> 
<h3 id="知识共享协议">知识共享协议</h3> 
<p>从 <a href="https://chooser-beta.creativecommons.org/" rel="nofollow" title="官方指南">官方指南</a> 选自适合自己的知识共享协议，并在 <code>layouts/partials/footer.html</code> 自定义 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" rel="nofollow" title="CC BY-NC-SA 4.0">CC BY-NC-SA 4.0</a> 页脚：</p> 
<pre><code>{<!-- -->{- if not (.Param "hideFooter") }}
&lt;footer class="footer"&gt;
  &lt;!-- other codes --&gt;
  &lt;span xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"&gt;
    Licensed under
    &lt;a
      href="http://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1"
      target="_blank"
      rel="license noopener noreferrer"
      style="display:inline-block;"
      &gt;CC BY-NC-SA 4.0 &gt;&lt;/a
    &gt;&lt;/span
  &gt;
  &lt;span&gt;
    &lt;a
      href="https://analytics.eu.umami.is/share/mNvu6TLrju52UZ97/Yunyi's%20Blog"
      rel="noopener noreferrer"
      target="_blank"
      &gt;Analytics&lt;/a
    &gt;
  &lt;/span&gt;
&lt;/footer&gt;
{<!-- -->{- end }}</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6e41434e69073563e180e23f5b6761c3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MOC3052SR2M/MOC3052M光电耦合器中文资料规格书PDF数据手册引脚图图片</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/acd28ca28fab8fb07a73a945b84e8125/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Vue.js&#43;SpringBoot开发海南旅游景点推荐系统</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>