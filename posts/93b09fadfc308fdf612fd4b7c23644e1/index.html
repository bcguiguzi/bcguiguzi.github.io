<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>arch linux2020年安装教程带图文 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="arch linux2020年安装教程带图文" />
<meta property="og:description" content="1.正文 我会尽量写的简单详细
2.我使用的镜像 当前版本： 2020.08.01
包含内核： 5.7.11
ISO大小： 671.0 MB
镜像地址
3.需要用到的工具 电脑一台
U盘一个
烧录软件
虚拟机（建议在虚拟机先尝试安装）
4.安装 4.1 启动 启动后选择第一项
联网 安装过程必须联网这里不多赘述，连接wifi和插网线
检查网络通畅
# ping baidu.com 同步时间
# timedatectl set-ntp true 选择源 2020.08.01版本选择源更为简单
用nano或者vim编辑源
# nano /etc/pacman.d/mirrorlist 根据自己需要更改的源，新版本貌似会自动就近的源地址，所以你们的可能和我的不一样，这里我就不做更改了
分区 磁盘若被系统识别到，就会被分配为一个块设备，如 /dev/sda, /dev/nvme0n1 或 /dev/mmcblk0。可以使用 lsblk 或者 fdisk 查看：
# lsblk BIOS 与 MBR分区示例
挂载点分区分区类型建议大小/mnt/dev/sdX1Linux剩余空间[SWAP]/dev/sdX2Linux swap (交换空间)大于 512 MiB UEFI 与 GPT分区示例
挂载点分区分区类型建议大小/mnt/boot 或 /mnt/efi/dev/sdX1EFI 系统分区260–512 MiB/mnt/dev/sdX2Linux x86-64 根目录 (/)剩余空间[SWAP]/dev/sdX3Linux swap (交换空间)大于 512 MiB 开始UEFI分区" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/93b09fadfc308fdf612fd4b7c23644e1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-08-23T11:12:45+08:00" />
<meta property="article:modified_time" content="2020-08-23T11:12:45+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">arch linux2020年安装教程带图文</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1_0"></a>1.正文</h3> 
<p>我会尽量写的简单详细</p> 
<h3><a id="2_2"></a>2.我使用的镜像</h3> 
<p>当前版本： 2020.08.01<br> 包含内核： 5.7.11<br> ISO大小： 671.0 MB<br> 镜像地址<br> </p> 
<h3><a id="3_8"></a>3.需要用到的工具</h3> 
<p>电脑一台<br> U盘一个<br> 烧录软件<br> 虚拟机（建议在虚拟机先尝试安装）</p> 
<h3><a id="4_13"></a>4.安装</h3> 
<h4><a id="41__14"></a>4.1 启动</h4> 
<p>启动后选择第一项<br> <img src="https://images2.imgbox.com/5b/52/vXpBU9KR_o.png" alt="archlinux"></p> 
<h4><a id="_17"></a>联网</h4> 
<p>安装过程必须联网这里不多赘述，连接wifi和插网线<br> 检查网络通畅</p> 
<pre><code class="prism language-bash"><span class="token comment"># ping baidu.com</span>
</code></pre> 
<p>同步时间</p> 
<pre><code class="prism language-bash"><span class="token comment">#  timedatectl set-ntp true</span>
</code></pre> 
<h4><a id="_28"></a>选择源</h4> 
<p>2020.08.01版本选择源更为简单<br> 用nano或者vim编辑源</p> 
<pre><code class="prism language-bash"><span class="token comment"># nano /etc/pacman.d/mirrorlist</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/3e/d2/EQc6oibF_o.png" alt="arch Linux"></p> 
<p>根据自己需要更改的源，新版本貌似会自动就近的源地址，所以你们的可能和我的不一样，这里我就不做更改了</p> 
<h4><a id="_39"></a>分区</h4> 
<p>磁盘若被系统识别到，就会被分配为一个块设备，如 /dev/sda, /dev/nvme0n1 或 /dev/mmcblk0。可以使用 lsblk 或者 fdisk 查看：</p> 
<pre><code class="prism language-bash"><span class="token comment"># lsblk</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/e9/09/88E8Tnhs_o.png" alt="arch Linux"><br> BIOS 与 MBR分区示例</p> 
<table><thead><tr><th>挂载点</th><th>分区</th><th>分区类型</th><th>建议大小</th></tr></thead><tbody><tr><td>/mnt</td><td>/dev/sdX1</td><td>Linux</td><td>剩余空间</td></tr><tr><td>[SWAP]</td><td>/dev/sdX2</td><td>Linux swap (交换空间)</td><td>大于 512 MiB</td></tr></tbody></table> 
<p>UEFI 与 GPT分区示例</p> 
<table><thead><tr><th>挂载点</th><th>分区</th><th>分区类型</th><th>建议大小</th></tr></thead><tbody><tr><td>/mnt/boot 或 /mnt/efi</td><td>/dev/sdX1</td><td>EFI 系统分区</td><td>260–512 MiB</td></tr><tr><td>/mnt</td><td>/dev/sdX2</td><td>Linux x86-64 根目录 (/)</td><td>剩余空间</td></tr><tr><td>[SWAP]</td><td>/dev/sdX3</td><td>Linux swap (交换空间)</td><td>大于 512 MiB</td></tr></tbody></table> 
<p>开始UEFI分区<br> 我建议新手朋友使用cfdisk工具，这样会简单一些</p> 
<p>选择第一个GPT<br> <img src="https://images2.imgbox.com/82/7a/bF95lRQx_o.png" alt="分区"><br> 我20G的磁盘，所以分成这样，可看以上示例图<br> <img src="https://images2.imgbox.com/48/e5/EurPpbwG_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-bash"><span class="token comment"># 展示三个分区初始状态</span>
lsblk
</code></pre> 
<p><img src="https://images2.imgbox.com/e4/28/SR7scw0L_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-bash"><span class="token comment"># 格式化四个分区</span>
mkfs.vfat -F32 /dev/sda1
mkswap /dev/sda2
mkfs.ext4 /dev/sda3
</code></pre> 
<pre><code class="prism language-bash"><span class="token comment"># 挂载三个分区</span>
<span class="token comment">## 创建boot文件夹,挂载boot分区</span>
<span class="token function">mkdir</span> /mnt/boot
<span class="token function">mount</span> /dev/sda1 /mnt/boot
<span class="token comment">## swap分区无需挂载, 但需要启用</span>
swapon /dev/sda2
<span class="token comment">## 挂载mnt分区(这里的mnt目录, 就是真实Arch的根目录)</span>
<span class="token function">mount</span> /dev/sda3 /mnt


</code></pre> 
<pre><code class="prism language-bash"><span class="token comment"># 展示挂载后的三个分区</span>
lsblk
</code></pre> 
<p>分区完成<br> <img src="https://images2.imgbox.com/60/b0/11TVsWGp_o.png" alt="分区完成"><br> 开始安装基本操作系统（一路回车）</p> 
<pre><code class="prism language-bash"><span class="token comment"># pacstrap -i /mnt base base-devel linux linux-firmware</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/14/93/bFrJuHFH_o.png" alt="在这里插入图片描述"></p> 
<p>安装引导工具</p> 
<pre><code class="prism language-bash"> pacman -Sy dosfstools grub efibootmgr
</code></pre> 
<p><img src="https://images2.imgbox.com/fe/9e/SVlQ3hBA_o.png" alt="安装引导工具"></p> 
<h4><a id="_120"></a>配置</h4> 
<p>配置基础系统<br> （1）Fstab<br> 用以下命令生成 fstab 文件 (用 -U 或 -L 选项设置UUID 或卷标)：</p> 
<pre><code class="prism language-bash"><span class="token comment"># genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span>
</code></pre> 
<p>强烈建议在执行完以上命令后，后检查一下生成的 /mnt/etc/fstab 文件是否正确。<br> 检查教程</p> 
<pre><code class="prism language-bash"><span class="token comment"># cat /mnt/etc/fstab</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/6f/2c/fpFRe0Ol_o.png" alt="在这里插入图片描述"></p> 
<p>（2）Chroot<br> Change root 到新安装的系统：</p> 
<pre><code class="prism language-bash"><span class="token comment"># arch-chroot /mnt</span>
</code></pre> 
<p>这时候很干净，爽！<br> 你需要安装的基本软件<br> 编辑器vim或nano</p> 
<pre><code class="prism language-bash"><span class="token comment"># pacman -Sy vim</span>
</code></pre> 
<p>时区</p> 
<pre><code class="prism language-bash"><span class="token comment"># ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a6/37/lfDqthJf_o.png" alt="在这里插入图片描述"><br> 运行 hwclock(8) 以生成 /etc/adjtime：<br> <code># hwclock --systohc</code><br> 可以看到现在的时区已经是cst时区了<br> <img src="https://images2.imgbox.com/3b/c0/JcIZJaG5_o.png" alt="时区"></p> 
<h4><a id="_161"></a>本地化</h4> 
<p>编辑/etc/locale.gen 然后移除需要的 地区 前的注释符号 #<br> <img src="https://images2.imgbox.com/0d/c3/EwCp27S0_o.png" alt="在这里插入图片描述"><br> 接着执行 locale-gen 以生成 locale 信息：</p> 
<pre><code class="prism language-bash"><span class="token comment"># locale-gen</span>
</code></pre> 
<p>编辑 /etc/locale.conf</p> 
<pre><code class="prism language-bash"><span class="token comment"># vim /etc/locale.conf</span>
LANG<span class="token operator">=</span>zh_CN.UTF-8
LANF<span class="token operator">=</span>en.US.UTF-8
LC_COLLATE<span class="token operator">=</span>C
LC_TIME<span class="token operator">=</span>zh_CN.UTF-8
</code></pre> 
<p><img src="https://images2.imgbox.com/ed/3a/Huu4EdHZ_o.png" alt="在这里插入图片描述"><br> 然后给自己取给主机名（这里我取的是Tom）<br> 我用vim，你可以用nano</p> 
<pre><code class="prism language-bash">vim /etc/hostname
</code></pre> 
<p><img src="https://images2.imgbox.com/8a/76/YNkY6xuA_o.png" alt="在这里插入图片描述"><br> 然后修改添加对应的信息到 hosts</p> 
<pre><code class="prism language-bash">vim /etc/hosts
</code></pre> 
<pre><code class="prism language-bash">127.0.0.1	localhost
::1		localhost
127.0.1.1	你的主机名.localdomain	你的主机名
</code></pre> 
<p><img src="https://images2.imgbox.com/22/9e/sp8bNNFX_o.png" alt="在这里插入图片描述"><br> 修改root密码</p> 
<pre><code class="prism language-bash"><span class="token comment"># passwd</span>
</code></pre> 
<p>选择性创建用户</p> 
<pre><code class="prism language-bash"><span class="token comment"># useradd 你的用户</span>
<span class="token comment"># passwd 给你的用户修改密码</span>
</code></pre> 
<h4><a id="_208"></a>重启</h4> 
<p>退出chroot并重启</p> 
<pre><code class="prism language-bash"><span class="token comment"># exit</span>
<span class="token comment"># reboot</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/279f794b828839033f7ea45bd6faac42/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">go语言实现屏幕截图</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fcd1f5330cccaac00de99dafeb267388/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">函数式接口&amp;Stream流.</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>