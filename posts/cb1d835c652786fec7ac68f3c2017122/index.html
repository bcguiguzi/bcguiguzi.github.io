<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Windows环境下搭建nexus私服 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Windows环境下搭建nexus私服" />
<meta property="og:description" content="1.背景 回顾下maven的构建流程，如果没有私服，我们所需的所有jar包都需要通过maven的中央仓库或者第三方的maven仓库下载到本地，当一个公司或者一个团队所有人都重复的从maven仓库下载jar包，这样就加大了中央仓库的负载和浪费了外网的带宽，如果网速慢的话还会影响项目的进程
2.简介 私服是在局域网的一种特殊的远程仓库，目的是代理远程仓库及部署第三方构件。有了私服之后，当 Maven 需要下载jar包时，先请求私服，私服上如果存在则下载到本地仓库。否则，私服直接请求外部的远程仓库，将jar包下载到私服，再提供给本地仓库下载。
3.安装 3.1 下载 Maven 仓库管理软件（我们这里使用的是2.x的版本）
https://help.sonatype.com/repomanager2/download
3.2 本地解压
3.3 启动
3.3.1 以管理员身份打开cmd，进入到bin目录，先执行nexus install命令，再执行nexus start。
3.3.2 打开浏览器，访问http://localhost:8081/nexus3.3.3 点击右上角Log in，使用用户名：admin，密码：admin123登录
4.介绍nexus服务器预置的仓库 hosted：是本地仓库，用户可以把自己的一些jar包，发布到hosted中，比如公司的第二方库
proxy，代理仓库，它们被用来代理远程的公共仓库，如maven中央仓库。不允许用户自己上传jar包，只能从中央仓库下载
group，仓库组，用来合并多个hosted/proxy仓库，当你的项目希望在多个repository使用资源时就不需要多次引用了，只需要引用一个group即可
virtual，虚拟仓库基本废弃了。
预置仓库
Central：该仓库代理Maven中央仓库，其策略为Release，因此只会下载和缓存中央仓库中的发布版本构件。
Releases：这是一个策略为Release的宿主类型仓库，用来部署正式发布版本构件
Snapshots：这是一个策略为Snapshot的宿主类型仓库，用来部署开发版本构件。
3rd party：这是一个策略为Release的宿主类型仓库，用来部署无法从maven中央仓库获得的第三方发布版本构件，比如IBM或者oracle的一些jar包（比如classe12.jar），由于受到商业版权的限制，不允许在中央仓库出现，如果想让这些包在私服上进行管理，就需要第三方的仓库。
Public Repositories：一个组合仓库
5.创建仓库 5.1点击add ------&gt;hosted repository
5.2填写仓库信息
5.3自己创建的仓库添加到group
5.3.1然后选择Public Repositories,打开configuration选项卡，将自己创建的仓库添加到group 5.4将项目发布到maven私服
5.4.1 首先配置maven的setting文件 //配置的是授权信息 id为仓库的id &lt;server&gt; &lt;id&gt;xiaoqiid&lt;/id&gt; &lt;username&gt;admin&lt;/username&gt; &lt;password&gt;admin123&lt;/password&gt; &lt;/server&gt; //配置maven公共仓库的地址 &lt;mirror&gt; &lt;id&gt;nexus&lt;/id&gt; &lt;mirrorOf&gt;*&lt;/mirrorOf&gt; &lt;url&gt;http://localhost:8081/nexus/content/groups/public/&lt;/url&gt; &lt;/mirror&gt; //配置profile &lt;profile&gt; &lt;id&gt;xiaoqiid&lt;/id&gt; // id随便写 和下面的activeProfile 对应 &lt;repositories&gt; &lt;repository&gt; &lt;id&gt;nexus&lt;/id&gt; //id随便写 &lt;name&gt;nexus private server&lt;/name&gt; &lt;layout&gt;default&lt;/layout&gt; &lt;url&gt;http://localhost:8081/nexus/content/groups/public/&lt;/url&gt; &lt;releases&gt; &lt;enabled&gt;true&lt;/enabled&gt; &lt;/releases&gt; &lt;snapshots&gt; &lt;enabled&gt;false&lt;/enabled&gt; &lt;/snapshots&gt; &lt;!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/cb1d835c652786fec7ac68f3c2017122/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-09T19:59:22+08:00" />
<meta property="article:modified_time" content="2022-05-09T19:59:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Windows环境下搭建nexus私服</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1_0"></a><strong>1.背景</strong></h3> 
<p>回顾下maven的构建流程，如果没有私服，我们所需的所有jar包都需要通过maven的中央仓库或者第三方的maven仓库下载到本地，当一个公司或者一个团队所有人都重复的从maven仓库下载jar包，这样就加大了中央仓库的负载和浪费了外网的带宽，如果网速慢的话还会影响项目的进程</p> 
<h3><a id="2_4"></a><strong>2.简介</strong></h3> 
<p>私服是在局域网的一种特殊的远程仓库，目的是代理远程仓库及部署第三方构件。有了私服之后，当 Maven 需要下载jar包时，先请求私服，私服上如果存在则下载到本地仓库。否则，私服直接请求外部的远程仓库，将jar包下载到私服，再提供给本地仓库下载。</p> 
<h3><a id="3_8"></a><strong>3.安装</strong></h3> 
<p><strong>3.1 下载 Maven 仓库管理软件（我们这里使用的是2.x的版本）</strong><br> <a href="https://help.sonatype.com/repomanager2/download" rel="nofollow">https://help.sonatype.com/repomanager2/download</a><br> <img src="https://images2.imgbox.com/95/29/OYhRrTSN_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/79/8f/RQjshjol_o.png" alt="在这里插入图片描述"><br> <strong>3.2 本地解压</strong><br> <strong>3.3 启动</strong></p> 
<ul><li>3.3.1 以管理员身份打开cmd，进入到bin目录，先执行nexus install命令，再执行nexus start。<br> <img src="https://images2.imgbox.com/b8/41/MLRYwb5L_o.png" alt="在这里插入图片描述"></li><li>3.3.2 打开浏览器，访问http://localhost:8081/nexus</li><li>3.3.3 点击右上角Log in，使用用户名：admin，密码：admin123登录<br> <img src="https://images2.imgbox.com/1b/df/gs5fWlcM_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="4nexus_22"></a><strong>4.介绍nexus服务器预置的仓库</strong></h3> 
<p>hosted：是本地仓库，用户可以把自己的一些jar包，发布到hosted中，比如公司的第二方库<br> proxy，代理仓库，它们被用来代理远程的公共仓库，如maven中央仓库。不允许用户自己上传jar包，只能从中央仓库下载<br> group，仓库组，用来合并多个hosted/proxy仓库，当你的项目希望在多个repository使用资源时就不需要多次引用了，只需要引用一个group即可<br> virtual，虚拟仓库基本废弃了。<br> 预置仓库<br> Central：该仓库代理Maven中央仓库，其策略为Release，因此只会下载和缓存中央仓库中的发布版本构件。<br> Releases：这是一个策略为Release的宿主类型仓库，用来部署正式发布版本构件<br> Snapshots：这是一个策略为Snapshot的宿主类型仓库，用来部署开发版本构件。<br> 3rd party：这是一个策略为Release的宿主类型仓库，用来部署无法从maven中央仓库获得的第三方发布版本构件，比如IBM或者oracle的一些jar包（比如classe12.jar），由于受到商业版权的限制，不允许在中央仓库出现，如果想让这些包在私服上进行管理，就需要第三方的仓库。<br> Public Repositories：一个组合仓库</p> 
<h3><a id="5_35"></a><strong>5.创建仓库</strong></h3> 
<p><strong>5.1点击add ------&gt;hosted repository</strong><br> <img src="https://images2.imgbox.com/2b/d1/U1ttIY50_o.png" alt="在这里插入图片描述"> <strong>5.2填写仓库信息</strong><br> <img src="https://images2.imgbox.com/c4/48/1BLYyNZp_o.png" alt="在这里插入图片描述"><br> <strong>5.3自己创建的仓库添加到group</strong></p> 
<ul><li>5.3.1然后选择Public Repositories,打开configuration选项卡，将自己创建的仓库添加到group</li></ul> 
<p><strong>5.4将项目发布到maven私服</strong></p> 
<ul><li>5.4.1 首先配置maven的setting文件</li></ul> 
<pre><code>	//配置的是授权信息   id为仓库的id
    		&lt;server&gt;
    			&lt;id&gt;xiaoqiid&lt;/id&gt;
    			&lt;username&gt;admin&lt;/username&gt;
    			&lt;password&gt;admin123&lt;/password&gt;
    		&lt;/server&gt;
</code></pre> 
<p><img src="https://images2.imgbox.com/cb/45/SAiH81rZ_o.png" alt="在这里插入图片描述"></p> 
<pre><code>//配置maven公共仓库的地址
	&lt;mirror&gt;
			&lt;id&gt;nexus&lt;/id&gt;
			&lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
			&lt;url&gt;http://localhost:8081/nexus/content/groups/public/&lt;/url&gt;
		&lt;/mirror&gt; 
</code></pre> 
<pre><code>//配置profile  
&lt;profile&gt;
			&lt;id&gt;xiaoqiid&lt;/id&gt;      // id随便写  和下面的activeProfile 对应
			&lt;repositories&gt;
				&lt;repository&gt;
					&lt;id&gt;nexus&lt;/id&gt;    //id随便写
					&lt;name&gt;nexus private server&lt;/name&gt;
					&lt;layout&gt;default&lt;/layout&gt;    
					&lt;url&gt;http://localhost:8081/nexus/content/groups/public/&lt;/url&gt;
					&lt;releases&gt;
					         &lt;enabled&gt;true&lt;/enabled&gt;
					&lt;/releases&gt;
					&lt;snapshots&gt;
						&lt;enabled&gt;false&lt;/enabled&gt;
					&lt;/snapshots&gt;
					&lt;!--
					&lt;snapshots&gt;
						&lt;enabled&gt;true&lt;/enabled&gt;
						&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;
					&lt;/snapshots&gt;
                 --&gt;
				&lt;/repository&gt;
			&lt;/repositories&gt;
		&lt;/profile&gt;
</code></pre> 
<pre><code>&lt;activeProfiles&gt;
		&lt;activeProfile&gt;xiaoqiid&lt;/activeProfile&gt;
	&lt;/activeProfiles&gt;
</code></pre> 
<ul><li>5.4.2pom文件添加</li></ul> 
<pre><code>&lt;distributionManagement&gt;
        &lt;repository&gt;
            &lt;id&gt;xiaoqiid&lt;/id&gt;
            &lt;url&gt;http://localhost:8081/nexus/content/repositories/xiaoqiid&lt;/url&gt;
        &lt;/repository&gt;
    &lt;/distributionManagement&gt;
</code></pre> 
<p>5.4.3 clean package deploy 打包之后 查看私服<br> <img src="https://images2.imgbox.com/6b/6d/9JbM2bUe_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="6_109"></a>6.完成</h3> 
<p>在开发阶段，可以将包打成快照的版本，这样同事就不需要一直的更改版本，此次没有写在上面，如有需要，下次更新</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6f80cd580f0f4fee7dc10dba4dbc4aba/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">两种方法修改CSV文件里数据的日期格式 python 和 excel</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/33b09b950c75f3322ccf5a3bcc1149b1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">二叉树的创建以及基础遍历算法（c&#43;&#43;）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>