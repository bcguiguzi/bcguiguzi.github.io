<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux搭建odoo开发环境,Linux odoo开发环境配置 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux搭建odoo开发环境,Linux odoo开发环境配置" />
<meta property="og:description" content="Linux odoo开发环境配置
安装postgresql9.6
第1步：添加RPM源(通过官网获取下载地址)
yum install https://download.postgresql.org/pub/repos/yum/9.6/redhat/rhel-7-x86_64/pgdg-centos96-9.6-3.noarch.rpm
PS：如果安装过程出现错误，或提示已加载，但是无法提示没有相关依赖包，则可以先清除yum缓存
清理yum缓存：
yum clean 的参数有headers, packages, metadata, dbcache, plugins, expire-cache, rpmdb, all 第2步：安装PostgreSQL 9.6服务端及相关第三方扩展
yum install postgresql96-server postgresql96-contrib postgresql96-devel
第3步：检查是否安装成功
rpm -aq| grep postgres
第4步：创建数据库存放路径位置
mkdir -p /data/pg/data #存放数据库的文件夹
chown -R postgres:postgres /data/pg #为新创建的pg文件夹分配数据库服务的操作权限
chown -R postgres:postgres /data/pg/data #为存放数据库的文件夹分配权限
chmod 750 /data/pg/data
第5步：设置环境变量
编辑/etc/profile文件
nano /etc/profile
在末尾添加如下的信息配置：
PGDATA=/data/pg/data
PGHOST=127.0.0.1
PGDATABASE=postgres
PGUSER=postgres
PGPORT=5432
PATH=/usr/pgsql-9.6/bin:$PATH
export PATH
export PGDATA PGHOST PGDATABASE PGUSER PGPORT
export TMOUT=1000" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/8b1616ebf67c9273e82a7d259a53d198/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-06T12:01:25+08:00" />
<meta property="article:modified_time" content="2021-05-06T12:01:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux搭建odoo开发环境,Linux odoo开发环境配置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>Linux odoo开发环境配置</p> 
 <p><a name="a2ac8339"></a></p> 
 <p>安装postgresql9.6</p> 
 <p><a name="d4831131"></a></p> 
 <p>第1步：添加RPM源(通过官网获取下载地址)</p> 
 <p>yum install https://download.postgresql.org/pub/repos/yum/9.6/redhat/rhel-7-x86_64/pgdg-centos96-9.6-3.noarch.rpm</p> 
 <p>PS：如果安装过程出现错误，或提示已加载，但是无法提示没有相关依赖包，则可以先清除yum缓存<br>清理yum缓存：<br>yum clean 的参数有headers, packages, metadata, dbcache, plugins, expire-cache, rpmdb, all <a name="8fce965d"></a></p> 
 <p>第2步：安装PostgreSQL 9.6服务端及相关第三方扩展</p> 
 <p>yum install postgresql96-server postgresql96-contrib postgresql96-devel</p> 
 <p><a name="a63497d0"></a></p> 
 <p>第3步：检查是否安装成功</p> 
 <p>rpm -aq| grep postgres</p> 
 <p align="center"><img src="https://images2.imgbox.com/9c/23/lUFzQ7Rf_o.png" alt="7d2a042a7608554d42fdd4b1d3bab9a5.png"><a name="39d382c1"></a> </p> 
 <p>第4步：创建数据库存放路径位置</p> 
 <p>mkdir -p /data/pg/data #存放数据库的文件夹</p> 
 <p>chown -R postgres:postgres /data/pg #为新创建的pg文件夹分配数据库服务的操作权限</p> 
 <p>chown -R postgres:postgres /data/pg/data #为存放数据库的文件夹分配权限</p> 
 <p>chmod 750 /data/pg/data</p> 
 <p><a name="abe7164b"></a></p> 
 <p>第5步：设置环境变量</p> 
 <p>编辑/etc/profile文件</p> 
 <p>nano /etc/profile</p> 
 <p>在末尾添加如下的信息配置：</p> 
 <p>PGDATA=/data/pg/data</p> 
 <p>PGHOST=127.0.0.1</p> 
 <p>PGDATABASE=postgres</p> 
 <p>PGUSER=postgres</p> 
 <p>PGPORT=5432</p> 
 <p>PATH=/usr/pgsql-9.6/bin:$PATH</p> 
 <p>export PATH</p> 
 <p>export PGDATA PGHOST PGDATABASE PGUSER PGPORT</p> 
 <p>export TMOUT=1000</p> 
 <p>然后为了让刚才修改生效</p> 
 <p>source /etc/profile</p> 
 <p>查看是否已添加成功：</p> 
 <p>export</p> 
 <p>设置环境变量(其他办法)：<br>export PATH=/usr/pgsql-9.6/bin:$PATH<br>export LD_LIBRARY_PATH=/usr/pgsql-9.6/lib<br>export PGDATA=/data/pg/data <a name="8a6312ff"></a></p> 
 <p>第6步：初始化数据库</p> 
 <p>进入到postgres用户下:</p> 
 <p>su postgres #切换到postgres用户</p> 
 <p>initdb -D /data/pg/data #初始化数据库</p> 
 <p>#或</p> 
 <p>/usr/pgsql-9.6/bin/postgresql96-setup initdb -D /data/pg/data</p> 
 <p>exit #退出当前postgres用户</p> 
 <p align="center"><img src="https://images2.imgbox.com/18/ac/rUwLeCGX_o.png" alt="eebb337e4b5b01cd480be1afab378b70.png"><br>image.png <a name="a09bf3e7"></a> </p> 
 <p>第7步：查看相关的安装</p> 
 <p>cd /data/pg/data</p> 
 <p align="center"><img src="https://images2.imgbox.com/81/c0/Tb1Nhcyk_o.png" alt="2666d9d531ef8232d41a53d43ba3f0df.png"><br>image.png <a name="c4948331"></a> </p> 
 <p>第8步：配置远程可访问</p> 
 <p>修改文件1 ： /data/pg/data/pg_hba.conf，添加可远程进行密码访问方式</p> 
 <p>nano /data/pg/data/pg_hba.conf</p> 
 <p>找到# IPv4 local connections: 在它的下面添加一行</p> 
 <p>host all all 0.0.0.0/0 md5</p> 
 <p>修改文件2 ： /data/pg/data/postgresql.conf配置文件<br>找到</p> 
 <p>#listen_addresses = 'localhost'</p> 
 <p>，将前面的#删掉，参数localhost表示只允许当前服务器能链接数据库，如果想指定地址可以访问，可以输入ip地址，多个地址时用逗号分隔，如果开放所有地址可以访问，由使用</p> 
 <p>listen_addresses = '*'</p> 
 <p>找到</p> 
 <p>#port = 5432</p> 
 <p>将前面的#删掉，这里可以指定访问数据库的端口 <a name="ae54b4ac"></a></p> 
 <p>第8步：修改配置开机启动前准备</p> 
 <p>修改文件： /usr/lib/systemd/system/postgresql-9.6.service</p> 
 <p>nano /usr/lib/systemd/system/postgresql-9.6.service</p> 
 <p>#把aLocation of database direcotry配置节里面没有指定正确的PGDATA。所以我们需要将下面的PGDATA设置成正确值</p> 
 <p>Environment=PGDATA=/data/pg/data/</p> 
 <p>PS：修改远程信息之后：<br>重启postgresql-9.6服务，使配置文件重效<br>service postgresql-9.6 restart <a name="3e9f93ed"></a></p> 
 <p>第9步：设置开机启动处理</p> 
 <p>systemctl enable postgresql-9.6.service</p> 
 <p><a name="6c78da39"></a></p> 
 <p>第10步：启动postgresql数据库</p> 
 <p>su postgres -c "/usr/pgsql-9.6/bin/pg_ctl start -D /data/pg/data"</p> 
 <p>ps -ef|grep postgres #查看相关进程</p> 
 <p><a name="8cec91ff"></a></p> 
 <p>第11步 修改密码：</p> 
 <p>使用postgres用户登录：</p> 
 <p>su postgres</p> 
 <p>连接数据库：</p> 
 <p>psql -U postgres</p> 
 <p>修改postgres用户密码：</p> 
 <p>Alter user postgres with password '123456';</p> 
 <p>退出数据库连接：</p> 
 <p>\q</p> 
 <p>----------------------------------2018年3月8日 16:48:43修改添加------------------------------------------------------------------<br>重启一下服务</p> 
 <p>bash-4.2$ pg_ctl restart</p> 
 <p>could not change directory to "/root": Permission denied</p> 
 <p>waiting for server to shut down.... done</p> 
 <p>server stopped</p> 
 <p>server starting</p> 
 <p>bash-4.2$ &lt; 2018-03-08 16:44:37.861 CST &gt; LOG: redirecting log output to logging collector process</p> 
 <p>&lt; 2018-03-08 16:44:37.861 CST &gt; HINT: Future log output will appear in directory "pg_log".</p> 
 <p><a name="5d05e9df"></a></p> 
 <p>第12步 防火墙处理(关闭或添加端口)：</p> 
 <p>PS：生产环境上一般不建议直接的关闭防火墙</p> 
 <p>systemctl stop firewalld #关闭防火墙</p> 
 <p>systemctl enable firewalld #开机启用防火墙</p> 
 <p>systemctl start firewalld #开启防火墙</p> 
 <p>firewall-cmd --add-service=postgresql --permanent #开放postgresql服务</p> 
 <p>firewall-cmd --zone=public --add-port=5432/tcp --permanent #或者可以直接添加端口</p> 
 <p>firewall-cmd --reload # 重载防火墙</p> 
 <p>firewall-cmd --list-ports #查看占用端口</p> 
 <p><a name="880ff64c"></a></p> 
 <p>第13步 使用Navicat Premium进行远程连接：</p> 
 <p align="center"><img src="https://images2.imgbox.com/a1/dc/yIIvooq5_o.png" alt="8c7f6ad4eca6a9b80bea21590469f58a.png"></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9cfb0f3be6c947d6b20c1f8606441b34/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux桌面图标锁定不让移动,桌面布局被锁定不能移动图标了怎么办？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/24e7d1e952e7448934500cedaaac66ee/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">稳定排序与不稳定排序的区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>