<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>0基础学MySQL数据库—从小白到大牛(18)Linux下MySQL的安装与使用 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="0基础学MySQL数据库—从小白到大牛(18)Linux下MySQL的安装与使用" />
<meta property="og:description" content="文章目录 进阶学习在Liunx安装MySQL1.卸载MySQL查看是否有MySQL开始卸载 2.安装MySQLMySQL的4大版本下载MySQL指定版本Linux系统下安装MySQL的几种方式Linux系统下安装软件的常用三种方式：方式1：rpm命令方式2：yum命令用yum安装MySQL8版本方式3：编译安装源码包 在Ubuntu安装安装MySQL APT配置包安装MySQL Server启动MySQL服务查看MySQL服务是否自启动 登录MySQL数据库卸载命令修改MySQL密码 3.MySQL登录关闭防火墙Linux下修改配置 4.MySQL8的密码强度评估4.1 MySQL不同版本设置密码4.2 MySQL不同版本设置密码MySQL8的安全策略修改安全策略4.3密码强度测试4.4 卸载插件、组件 进阶学习在Liunx安装MySQL 安装并启动好两台虚拟机： CentOS 7
掌握克隆虚拟机的操作
mac地址
主机名
vim /etc/hostname
修改i，退出Esc，然后：wq，表示保存并退出
修改完需要重启主机
reboot
ip地址和UUID
vim /etc/sysconfig/network-scripts/ifcfg-ens33
修改完需要网络重启 systemctl restart network
远程连接有 Xshell 和 Xftp 等访问CentOS系统的工具
通常要上传安装的软件放在opt文件夹下
CentOS6和CentOS7在MySQL的使用中的区别
防火墙：6是iptables，7是firewalld
启动服务的命令：6是service，7是systemctl
1.卸载MySQL 查看是否有MySQL 查看MySQL版本
mysqladmin --version ```sql 如果你是用rpm安装, 检查一下RPM PACKAGE： ```sql rpm -qa | grep -i mysql # -i 忽略大小写 不存在mysql-lib的版本： root@zzz-Latitude-3410:/# rpm -qa | grep -i mysql root@zzz-Latitude-3410:/# 开始卸载 关闭服务" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/ecb8686e4cca5f8fe59265b8cf705892/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-25T17:30:27+08:00" />
<meta property="article:modified_time" content="2022-07-25T17:30:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">0基础学MySQL数据库—从小白到大牛(18)Linux下MySQL的安装与使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#LiunxMySQL_7" rel="nofollow">进阶学习在Liunx安装MySQL</a></li><li><ul><li><a href="#1MySQL_38" rel="nofollow">1.卸载MySQL</a></li><li><ul><li><a href="#MySQL_39" rel="nofollow">查看是否有MySQL</a></li><li><a href="#_52" rel="nofollow">开始卸载</a></li></ul> 
   </li><li><a href="#2MySQL_89" rel="nofollow">2.安装MySQL</a></li><li><ul><li><a href="#MySQL4_90" rel="nofollow">MySQL的4大版本</a></li><li><a href="#MySQL_98" rel="nofollow">下载MySQL指定版本</a></li><li><a href="#LinuxMySQL_107" rel="nofollow">Linux系统下安装MySQL的几种方式</a></li><li><ul><li><a href="#Linux_109" rel="nofollow">Linux系统下安装软件的常用三种方式：</a></li><li><ul><li><a href="#1rpm_110" rel="nofollow">方式1：rpm命令</a></li><li><a href="#2yum_116" rel="nofollow">方式2：yum命令</a></li><li><a href="#yumMySQL8_141" rel="nofollow">用yum安装MySQL8版本</a></li><li><a href="#3_236" rel="nofollow">方式3：编译安装源码包</a></li></ul> 
    </li></ul> 
    </li><li><a href="#Ubuntu_250" rel="nofollow">在Ubuntu安装</a></li><li><ul><li><a href="#MySQL_APT_260" rel="nofollow">安装MySQL APT配置包</a></li><li><a href="#MySQL_Server_266" rel="nofollow">安装MySQL Server</a></li><li><a href="#MySQL_290" rel="nofollow">启动MySQL服务</a></li><li><a href="#MySQL_316" rel="nofollow">查看MySQL服务是否自启动</a></li></ul> 
    </li><li><a href="#MySQL_331" rel="nofollow">登录MySQL数据库</a></li><li><a href="#_335" rel="nofollow">卸载命令</a></li><li><a href="#MySQL_344" rel="nofollow">修改MySQL密码</a></li></ul> 
   </li><li><a href="#3MySQL_349" rel="nofollow">3.MySQL登录</a></li><li><ul><li><a href="#_363" rel="nofollow">关闭防火墙</a></li><li><a href="#Linux_375" rel="nofollow">Linux下修改配置</a></li></ul> 
   </li><li><a href="#4MySQL8_422" rel="nofollow">4.MySQL8的密码强度评估</a></li><li><ul><li><a href="#41_MySQL_423" rel="nofollow">4.1 MySQL不同版本设置密码</a></li><li><a href="#42_MySQLMySQL8_470" rel="nofollow">4.2 MySQL不同版本设置密码MySQL8的安全策略</a></li><li><a href="#_523" rel="nofollow">修改安全策略</a></li><li><a href="#43_546" rel="nofollow">4.3密码强度测试</a></li><li><a href="#44__574" rel="nofollow">4.4 卸载插件、组件</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="LiunxMySQL_7"></a>进阶学习在Liunx安装MySQL</h2> 
<p>安装并启动好两台虚拟机： CentOS 7<br> 掌握克隆虚拟机的操作<br> mac地址</p> 
<p>主机名</p> 
<ul><li> <p>vim /etc/hostname</p> </li><li> <p><img src="https://images2.imgbox.com/5e/cb/FDQI7HAN_o.png" alt="在这里插入图片描述"></p> </li><li> <p>修改i，退出Esc，然后：wq，表示保存并退出</p> </li><li> <p><img src="https://images2.imgbox.com/6c/ab/5mHQZH58_o.png" alt="在这里插入图片描述"></p> </li><li> <p>修改完需要重启主机</p> </li><li> <p>reboot</p> </li></ul> 
<p>ip地址和UUID</p> 
<ul><li> <p>vim /etc/sysconfig/network-scripts/ifcfg-ens33</p> </li><li> <p><img src="https://images2.imgbox.com/33/8c/OlU2BkV0_o.png" alt="在这里插入图片描述"></p> </li><li> <p>修改完需要网络重启 systemctl restart network</p> </li></ul> 
<p>远程连接有 Xshell 和 Xftp 等访问CentOS系统的工具</p> 
<p>通常要上传安装的软件放在opt文件夹下</p> 
<p>CentOS6和CentOS7在MySQL的使用中的区别</p> 
<ul><li> <p>防火墙：6是iptables，7是firewalld</p> </li><li> <p>启动服务的命令：6是service，7是systemctl</p> </li></ul> 
<h3><a id="1MySQL_38"></a>1.卸载MySQL</h3> 
<h4><a id="MySQL_39"></a>查看是否有MySQL</h4> 
<p>查看MySQL版本</p> 
<pre><code class="prism language-sql">mysqladmin <span class="token comment">--version</span>
<span class="token identifier"><span class="token punctuation">`</span><span class="token punctuation">`</span><span class="token punctuation">`</span>sql
如果你是用rpm安装, 检查一下RPM PACKAGE：
``<span class="token punctuation">`</span></span><span class="token keyword">sql</span>
rpm <span class="token operator">-</span>qa <span class="token operator">|</span> grep <span class="token operator">-</span>i mysql <span class="token comment"># -i 忽略大小写</span>

不存在mysql<span class="token operator">-</span>lib的版本：
root<span class="token variable">@zzz</span><span class="token operator">-</span>Latitude<span class="token operator">-</span><span class="token number">3410</span>:<span class="token operator">/</span><span class="token comment"># rpm -qa | grep -i mysql</span>
root<span class="token variable">@zzz</span><span class="token operator">-</span>Latitude<span class="token operator">-</span><span class="token number">3410</span>:<span class="token operator">/</span><span class="token comment"># </span>
</code></pre> 
<h4><a id="_52"></a>开始卸载</h4> 
<p>关闭服务</p> 
<pre><code class="prism language-sql">systemctl stop mysqld<span class="token punctuation">.</span>service
</code></pre> 
<p>查看当前 mysql 安装状况</p> 
<pre><code class="prism language-sql">rpm <span class="token operator">-</span>qa <span class="token operator">|</span> grep <span class="token operator">-</span>i mysql 

<span class="token comment"># 或 </span>

yum list installed <span class="token operator">|</span> grep mysql
</code></pre> 
<p>卸载上述命令查询出的已安装程序</p> 
<pre><code class="prism language-sql">yum remove mysql<span class="token operator">-</span>xxx mysql<span class="token operator">-</span>xxx mysql<span class="token operator">-</span>xxx mysqk<span class="token operator">-</span>xxxx
</code></pre> 
<p>务必卸载干净，反复执行<code>rpm -qa | grep -i mysql</code>确认是否有卸载残留</p> 
<p>删除 mysql 相关文件</p> 
<ul><li>查找相关文件</li></ul> 
<pre><code class="prism language-sql">find <span class="token operator">/</span> <span class="token operator">-</span>name mysql
</code></pre> 
<ul><li>删除上述命令查找出的相关文件</li></ul> 
<pre><code class="prism language-sql">find <span class="token operator">/</span>  <span class="token operator">-</span>name <span class="token string">"msyql"</span> <span class="token operator">-</span><span class="token keyword">exec</span> rm <span class="token operator">-</span>rf {} \<span class="token punctuation">;</span>
</code></pre> 
<ul><li>删除 my.cnf</li></ul> 
<pre><code class="prism language-sql">rm <span class="token operator">-</span>rf <span class="token operator">/</span>etc<span class="token operator">/</span>my<span class="token punctuation">.</span>cnf
</code></pre> 
<h3><a id="2MySQL_89"></a>2.安装MySQL</h3> 
<h4><a id="MySQL4_90"></a>MySQL的4大版本</h4> 
<blockquote> 
 <p><strong>MySQL Community Server 社区版本</strong>，开源免费，自由下载，但不提供官方技术支持，适用于大多数普通用户。<br> <strong>MySQL Enterprise Edition 企业版本</strong>，需付费，不能在线下载，可以试用30天。提供了更多的功能和更完备的技术支持，更适合于对数据库的功能和可靠性要求较高的企业客户。<br> <strong>MySQL Cluster 集群版</strong>，开源免费。用于架设集群服务器，可将几个MySQL Server封装成一个Server。需要在社区版或企业版的基础上使用。<br> <strong>MySQL Cluster CGE 高级集群版</strong>，需付费。</p> 
</blockquote> 
<p>此外，官方还提供了 <strong>MySQL Workbench （GUITOOL）一款专为MySQL设计的 ER/数据库建模工具</strong>它是著名的数据库设计工具DBDesigner4的继任者。MySQLWorkbench又分为两个版本，分别是 社区版 （MySQL Workbench OSS）、 商用版 （MySQL WorkbenchSE）。</p> 
<h4><a id="MySQL_98"></a>下载MySQL指定版本</h4> 
<p>下载地址<br> 官网：<a href="https://www.mysql.com" rel="nofollow">https://www.mysql.com</a><br> <img src="https://images2.imgbox.com/21/2b/AXLDBaOf_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/b4/26/mHvBQvm1_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/0f/e2/hM4zcm7u_o.png" alt="在这里插入图片描述"><br> 在General Availability(GA) Releases中选择适合的版本</p> 
<h4><a id="LinuxMySQL_107"></a>Linux系统下安装MySQL的几种方式</h4> 
<h5><a id="Linux_109"></a>Linux系统下安装软件的常用三种方式：</h5> 
<h6><a id="1rpm_110"></a>方式1：rpm命令</h6> 
<p>使用rpm命令安装扩展名为".rpm"的软件包。</p> 
<p>.rpm包的一般格式：<br> <img src="https://images2.imgbox.com/d5/7a/m7HJzzfQ_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="2yum_116"></a>方式2：yum命令</h6> 
<p>需联网，从互联网获取的yum源，直接使用yum命令安装。</p> 
<p><strong>Cetnos7 配置yum源</strong><br> <strong>阿里云源</strong></p> 
<p>备份，将 CentOS-Base.repo 为CentOS-Base.repo.backup</p> 
<pre><code class="prism language-sql"><span class="token punctuation">[</span>root<span class="token variable">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ mv <span class="token operator">/</span>etc<span class="token operator">/</span>yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token operator">/</span>CentOS<span class="token operator">-</span>Base<span class="token punctuation">.</span>repo <span class="token operator">/</span>etc<span class="token operator">/</span>yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token operator">/</span>CentOS<span class="token operator">-</span>Base<span class="token punctuation">.</span>repo<span class="token punctuation">.</span><span class="token keyword">backup</span>
</code></pre> 
<p>下载新的 http://mirrors.aliyun.com/repo/Centos-7.repo,并命名为CentOS-Base.repo</p> 
<pre><code class="prism language-sql"><span class="token punctuation">[</span>root<span class="token variable">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ wget <span class="token operator">-</span>O <span class="token operator">/</span>etc<span class="token operator">/</span>yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token operator">/</span>CentOS<span class="token operator">-</span>Base<span class="token punctuation">.</span>repo http:<span class="token comment">//mirrors.aliyun.com/repo/Centos-7.repo</span>
         或者
<span class="token punctuation">[</span>root<span class="token variable">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ curl <span class="token operator">-</span>o <span class="token operator">/</span>etc<span class="token operator">/</span>yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token operator">/</span>CentOS<span class="token operator">-</span>Base<span class="token punctuation">.</span>repo http:<span class="token comment">//mirrors.aliyun.com/repo/Centos-7.repo</span>
</code></pre> 
<p>清除缓存</p> 
<pre><code class="prism language-sql"><span class="token punctuation">[</span>root<span class="token variable">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ yum clean <span class="token keyword">all</span>     <span class="token comment"># 清除系统所有的yum缓存</span>
<span class="token punctuation">[</span>root<span class="token variable">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ yum makecache     <span class="token comment"># 生成yum缓存</span>
</code></pre> 
<blockquote> 
 <p>安装开始</p> 
</blockquote> 
<h6><a id="yumMySQL8_141"></a>用yum安装MySQL8版本</h6> 
<p>准备工作</p> 
<p>1．查看是否有安装过mysql</p> 
<pre><code class="prism language-sql">rpm <span class="token operator">-</span>qa <span class="token operator">|</span> grep <span class="token operator">-</span>i mysql
</code></pre> 
<p>2．删除mysql</p> 
<pre><code class="prism language-sql">yum <span class="token operator">-</span>y remove MySQL<span class="token operator">-</span><span class="token operator">*</span>
</code></pre> 
<p>3．把所有出现的目录统统删除</p> 
<pre><code class="prism language-sql">find <span class="token operator">/</span> <span class="token operator">-</span>name mysql
</code></pre> 
<p>4．删除配置文件</p> 
<pre><code class="prism language-sql">rm <span class="token operator">-</span>rf <span class="token operator">/</span>etc<span class="token operator">/</span>my<span class="token punctuation">.</span>cnf
</code></pre> 
<p>5．删除mysql的默认密码</p> 
<pre><code class="prism language-sql">rm <span class="token operator">-</span>rf <span class="token operator">/</span>root<span class="token operator">/</span><span class="token punctuation">.</span>mysql_sercret
</code></pre> 
<p>1．配置Mysql 8.0安装源</p> 
<pre><code class="prism language-sql">sudo rpm <span class="token operator">-</span>Uvh https:<span class="token comment">//dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm</span>
</code></pre> 
<p>2．安装Mysql 8.0</p> 
<pre><code class="prism language-sql">sudo yum <span class="token comment">--enablerepo=mysql80-community install mysql-community-server</span>
</code></pre> 
<p>提示下载插件选择：y。</p> 
<p>如果报错GDK，在yum install 版本后面加上 --nogpgcheck，即可绕过GPG验证成功安装。</p> 
<pre><code class="prism language-sql">sudo yum <span class="token comment">--enablerepo=mysql80-community install mysql-community-server --nogpgcheck</span>

</code></pre> 
<p>启动mysql服务</p> 
<p>sudo service mysqld start<br> <img src="https://images2.imgbox.com/f4/da/IbXttSyx_o.png" alt="在这里插入图片描述"></p> 
<p>查看mysql服务运行状态</p> 
<pre><code class="prism language-sql">service mysqld <span class="token keyword">status</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/14/03/MrECT3VU_o.png" alt="在这里插入图片描述"></p> 
<p>查看root临时密码<br> 安装完mysql之后，会生成一个临时的密码让root用户登录。</p> 
<pre><code class="prism language-sql">grep <span class="token string">"A temporary password"</span> <span class="token operator">/</span>var<span class="token operator">/</span>log<span class="token operator">/</span>mysqld<span class="token punctuation">.</span>log
</code></pre> 
<p><img src="https://images2.imgbox.com/e9/69/TY2HAgBK_o.png" alt="在这里插入图片描述"><br> 登录mysql</p> 
<pre><code class="prism language-sql">mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>p
</code></pre> 
<p><code>注意，登录完先改密码</code><br> <code>注意，登录完先改密码</code><br> <code>注意，登录完先改密码</code></p> 
<pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">'root'</span><span class="token variable">@'localhost'</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'new password'</span><span class="token punctuation">;</span>
</code></pre> 
<p>会提示：ERROR 1819 (HY000): Your password does not satisfy the current policy requirements(密码不符合当前策略)<br> 方案1: 设置符合策略的密码(大小写字母+数据+符号)<br> 方案2:密码策略改简单一点<br> 方案2设置方式：<br> 先更改密码，否则无法下一步操作</p> 
<pre><code class="prism language-sql">输入：<span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">'root'</span><span class="token variable">@'localhost'</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'83mJt20R#u_k'</span><span class="token punctuation">;</span>
</code></pre> 
<p>validate_password.length 是密码的最小长度，默认是8，我们把它改成4</p> 
<pre><code class="prism language-sql">输入：<span class="token keyword">set</span> <span class="token keyword">global</span> validate_password<span class="token punctuation">.</span>length<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span>
</code></pre> 
<p>validate_password.policy 验证密码的复杂程度，我们把它改成0</p> 
<pre><code class="prism language-sql">输入：<span class="token keyword">set</span> <span class="token keyword">global</span> validate_password<span class="token punctuation">.</span>policy<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
</code></pre> 
<p>validate_password.check_user_name 用户名检查，用户名和密码不能相同，我们也把它关掉</p> 
<pre><code class="prism language-sql">输入：<span class="token keyword">set</span> <span class="token keyword">global</span> validate_password<span class="token punctuation">.</span>check_user_name<span class="token operator">=</span><span class="token keyword">off</span><span class="token punctuation">;</span>
</code></pre> 
<p>再执行修改密码的命令</p> 
<pre><code class="prism language-sql">输入：<span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">'root'</span><span class="token variable">@'localhost'</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'root'</span><span class="token punctuation">;</span>
</code></pre> 
<p>密码设置成功，设为了root。</p> 
<h6><a id="3_236"></a>方式3：编译安装源码包</h6> 
<p>针对 tar.gz 这样的压缩格式，要用tar命令来解压；如果是其它压缩格式，就使用其它命令。</p> 
<p><strong>安装方式汇总及评价</strong></p> 
<table><thead><tr><th>安装方式</th><th>特点</th></tr></thead><tbody><tr><td>rpm</td><td>安装简单，灵活性差，无法灵活选择版本、升级</td></tr><tr><td>rpm repository</td><td>安装包极小，版本安装简单灵活，升级方便，需要联网安装</td></tr><tr><td>通用二进制包</td><td>安装比较复杂，灵活性高，平台通用性好</td></tr><tr><td>源码包</td><td>安装最复杂，时间长，参数设置灵活，性能好</td></tr></tbody></table> 
<h4><a id="Ubuntu_250"></a>在Ubuntu安装</h4> 
<p>下载MySQL APT安装配置包<br> 访问<a href="https://dev.mysql.com/downloads/repo/apt/" rel="nofollow">https://dev.mysql.com/downloads/repo/apt/</a>获取下载地址<br> ![在这里插入图片描述](https://img-blog.csdnimg.cn/6fff390fa1d64eff8b35ff679087e25d.png#pic_center<img src="https://images2.imgbox.com/2a/64/DU9lFHJL_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/7a/95/yvwjJvUQ_o.png" alt="在这里插入图片描述"><br> 然后进入Ubuntu系统，打开终端，并输入以下命令，进行下载MySQL APT配置包</p> 
<pre><code class="prism language-sql">wget https:<span class="token comment">//dev.mysql.com/get/mysql-apt-config_0.8.14-1_all.deb</span>
</code></pre> 
<h5><a id="MySQL_APT_260"></a>安装MySQL APT配置包</h5> 
<p>输入以下命令，进行安装：</p> 
<pre><code class="prism language-sql">sudo dpkg <span class="token operator">-</span>i mysql<span class="token operator">-</span>apt<span class="token operator">-</span>config_0<span class="token punctuation">.</span><span class="token number">8.14</span><span class="token operator">-</span><span class="token number">1</span>_all<span class="token punctuation">.</span>deb
</code></pre> 
<h5><a id="MySQL_Server_266"></a>安装MySQL Server</h5> 
<p>更新APT软件源：</p> 
<pre><code class="prism language-sql">sudo apt<span class="token operator">-</span>get <span class="token keyword">update</span>
</code></pre> 
<p>安装MySQL Server</p> 
<pre><code class="prism language-sql">sudo apt<span class="token operator">-</span>get install mysql<span class="token operator">-</span>server
</code></pre> 
<p>输入 y 继续执行，弹出MySQL 8安装对话框，按回车键确定，进入设置root密码的对话框</p> 
<p>下载速度可能有点慢请耐心等待，可以尝试更换APT数据源，国内的镜像网站有很多，比如阿里云、清华大学镜像等等，至于如何更换，请自行百度。</p> 
<p>设置 root 用户密码，这里密码暂时设为 123</p> 
<p>TAB+回车确定</p> 
<p>MySQL 8安装好之后，会创建如下目录:</p> 
<blockquote> 
 <p>数据库目录：/var/lib/mysql/。<br> 配置文件：/usr/share/mysql-8.0（命令及配置文件），/etc/mysql（如my.cnf）。<br> 相关命令：/usr/bin（mysqladmin、mysqldump等命令）和/usr/sbin。<br> 启动脚本：/etc/init.d/mysql（启动脚本文件mysql的目录）。</p> 
</blockquote> 
<h5><a id="MySQL_290"></a>启动MySQL服务</h5> 
<p>通过以上的APT方式安装好之后，所有的服务、环境变量都会启动和配置好，无须手动配置。<br> 服务器启动后端口查询</p> 
<pre><code class="prism language-sql">sudo netstat <span class="token operator">-</span>anp <span class="token operator">|</span> grep mysql
</code></pre> 
<p>查看服务状态</p> 
<pre><code class="prism language-sql">sudo service mysql <span class="token keyword">status</span>
</code></pre> 
<p>停止服务</p> 
<pre><code class="prism language-sql">sudo service mysql stop
</code></pre> 
<p>启动服务</p> 
<pre><code class="prism language-sql">sudo service mysql <span class="token keyword">start</span>
</code></pre> 
<p>重启服务</p> 
<pre><code class="prism language-sql">sudo service mysql restart
</code></pre> 
<h5><a id="MySQL_316"></a>查看MySQL服务是否自启动</h5> 
<p>查看是否自启</p> 
<pre><code class="prism language-sql">systemctl list<span class="token operator">-</span>unit<span class="token operator">-</span>files<span class="token operator">|</span>grep mysqld<span class="token punctuation">.</span>service
</code></pre> 
<p>默认是 enabled<br> 设置开机自启</p> 
<pre><code class="prism language-sql">systemctl <span class="token keyword">enable</span> mysqld<span class="token punctuation">.</span>service
</code></pre> 
<p>关闭开机自启</p> 
<pre><code class="prism language-sql">systemctl <span class="token keyword">disable</span> mysqld<span class="token punctuation">.</span>service
</code></pre> 
<h4><a id="MySQL_331"></a>登录MySQL数据库</h4> 
<pre><code class="prism language-sql">mysql <span class="token operator">-</span>u root <span class="token operator">-</span>p
</code></pre> 
<h4><a id="_335"></a>卸载命令</h4> 
<p>需要完全清理MySQL时，可以完全卸载。</p> 
<pre><code class="prism language-sql">sudo apt <span class="token keyword">purge</span> mysql<span class="token operator">-</span><span class="token operator">*</span>
sudo rm <span class="token operator">-</span>rf <span class="token operator">/</span>etc<span class="token operator">/</span>mysql<span class="token operator">/</span> <span class="token operator">/</span>var<span class="token operator">/</span>lib<span class="token operator">/</span>mysql
sudo apt autoremove
sudo apt autoclean
</code></pre> 
<h4><a id="MySQL_344"></a>修改MySQL密码</h4> 
<p>先输入：flush privileges;<br> 再输入：ALTER USER ‘root’@‘localhost’ IDENTIFIED BY ‘mysql’;<br> 其中<code>mysql</code>为密码</p> 
<h3><a id="3MySQL_349"></a>3.MySQL登录</h3> 
<p>通过<code>mysql -hlocalhost -P3306 -uroot -p</code>进行登录，在Enter password：录入初始化密码</p> 
<p>接着修改密码<br> 因为初始化密码默认是过期的，所以查看数据库会报错</p> 
<p>修改密码：</p> 
<pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">'root'</span><span class="token variable">@'localhost'</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'new_password'</span><span class="token punctuation">;</span>

<span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">'root'</span><span class="token variable">@'localhost'</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'root'</span><span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p>5.7版本之后（不含5.7），mysql加入了全新的密码安全机制。设置新密码太简单会报错。</p> 
</blockquote> 
<h4><a id="_363"></a>关闭防火墙</h4> 
<p>#查看防火墙状态<br> systemctl status firewalld.service</p> 
<p>#关闭防火墙<br> systemctl stop firewalld.service</p> 
<p>#设置开机启用防火墙<br> systemctl enable firewalld.service</p> 
<p>#设置开机禁用防火墙<br> systemctl disable firewalld.service</p> 
<h4><a id="Linux_375"></a>Linux下修改配置</h4> 
<pre><code class="prism language-sql"><span class="token keyword">use</span> mysql<span class="token punctuation">;</span> 

<span class="token keyword">select</span> Host<span class="token punctuation">,</span><span class="token keyword">User</span> <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span> 

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> Host<span class="token punctuation">,</span><span class="token keyword">User</span> <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span> 
<span class="token operator">+</span><span class="token comment">-----------+---------------+</span>
<span class="token operator">|</span> Host      <span class="token operator">|</span> <span class="token keyword">User</span>          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------------+</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> mysql<span class="token punctuation">.</span><span class="token keyword">session</span> <span class="token operator">|</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> mysql<span class="token punctuation">.</span>sys     <span class="token operator">|</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> root          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<p>可以看到root用户的当前主机配置信息为localhost</p> 
<p>修改Host为通配符%</p> 
<p>Host列指定了允许用户登录所使用的IP，比如user=root Host=192.168.1.1。这里的意思就是说root用户只能通过192.168.1.1的客户端去访问。 user=root Host=localhost，表示只能通过本机客户端去访问。<code>而 %是个通配符</code> 如果Host=192.168.1.%，那么就表示只要是IP地址前缀为“192.168.1.”的客户端都可以连接。如果 Host=% ，<code>表示所有IP都有连接权限</code></p> 
<pre><code class="prism language-sql"><span class="token keyword">update</span> <span class="token keyword">user</span> <span class="token keyword">set</span> host <span class="token operator">=</span> <span class="token string">'%'</span> <span class="token keyword">where</span> <span class="token keyword">user</span> <span class="token operator">=</span><span class="token string">'root'</span><span class="token punctuation">;</span>

<span class="token keyword">update</span> <span class="token keyword">user</span> <span class="token keyword">set</span> host <span class="token operator">=</span> <span class="token string">'192.168.1.%'</span> <span class="token keyword">where</span> <span class="token keyword">user</span> <span class="token operator">=</span><span class="token string">'root'</span><span class="token punctuation">;</span>
</code></pre> 
<p>Host设置了“%”后便可以允许远程访问。</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> Host<span class="token punctuation">,</span><span class="token keyword">User</span> <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span> 
<span class="token operator">+</span><span class="token comment">-----------+---------------+</span>
<span class="token operator">|</span> Host      <span class="token operator">|</span> <span class="token keyword">User</span>          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------------+</span>
<span class="token operator">|</span> <span class="token operator">%</span>         <span class="token operator">|</span> root          <span class="token operator">|</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> mysql<span class="token punctuation">.</span><span class="token keyword">session</span> <span class="token operator">|</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> mysql<span class="token punctuation">.</span>sys     <span class="token operator">|</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> root          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<p>执行成功以后要刷新权限</p> 
<pre><code class="prism language-sql">flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="4MySQL8_422"></a>4.MySQL8的密码强度评估</h3> 
<h4><a id="41_MySQL_423"></a>4.1 MySQL不同版本设置密码</h4> 
<p>MySQL5.7中：成功</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">user</span> <span class="token string">'root'</span> identified <span class="token keyword">by</span> <span class="token string">'abcd1234'</span><span class="token punctuation">;</span> 
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span> 
</code></pre> 
<p>MySQL8.0中：失败</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">user</span> <span class="token string">'root'</span> identified <span class="token keyword">by</span> <span class="token string">'abcd1234'</span><span class="token punctuation">;</span> <span class="token comment"># HelloWorld_123 </span>
ERROR <span class="token number">1819</span> <span class="token punctuation">(</span>HY000<span class="token punctuation">)</span>: Your password does <span class="token operator">not</span> satisfy the <span class="token keyword">current</span> policy requirements
</code></pre> 
<p>在MySQL 8.0之前，MySQL使用的是<code>validate_password</code>插件检测、验证账号密码强度，保障账号的安全性。<br> <strong>安装/启用插件方式1：在参数文件my.cnf中添加参数</strong></p> 
<pre><code class="prism language-sql">cat <span class="token operator">/</span>etc<span class="token operator">/</span>my<span class="token punctuation">.</span>cnf

<span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span> 
plugin<span class="token operator">-</span><span class="token keyword">load</span><span class="token operator">-</span><span class="token keyword">add</span><span class="token operator">=</span>validate_password<span class="token punctuation">.</span>so 
<span class="token comment">#ON/OFF/FORCE/FORCE_PLUS_PERMANENT: 是否使用该插件(及强制/永久强制使用) </span>
validate<span class="token operator">-</span>password<span class="token operator">=</span>FORCE_PLUS_PERMANENT
</code></pre> 
<blockquote> 
 <p><strong>说明1：</strong> plugin library中的validate_password文件名的后缀名根据平台不同有所差异。 对于Unix和 Unix-like系统而言，它的文件后缀名是.so，对于Windows系统而言，它的文件后缀名是.dll。<br> <strong>说明2：</strong> 修改参数后必须重启MySQL服务才能生效。<br> <strong>说明3：</strong> 参数FORCE_PLUS_PERMANENT是为了防止插件在MySQL运行时的时候被卸载。当你卸载插件时就会报错。如下所示。</p> 
</blockquote> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> PLUGIN_NAME<span class="token punctuation">,</span> PLUGIN_LIBRARY<span class="token punctuation">,</span> PLUGIN_STATUS<span class="token punctuation">,</span> LOAD_OPTION <span class="token keyword">FROM</span> INFORMATION_SCHEMA<span class="token punctuation">.</span>PLUGINS <span class="token keyword">WHERE</span> PLUGIN_NAME <span class="token operator">=</span> <span class="token string">'validate_password'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------------+----------------------+---------------+----------------------+</span>
<span class="token operator">|</span> PLUGIN_NAME       <span class="token operator">|</span> PLUGIN_LIBRARY       <span class="token operator">|</span> PLUGIN_STATUS <span class="token operator">|</span> LOAD_OPTION          <span class="token operator">|</span> 
<span class="token operator">+</span><span class="token comment">-------------------+----------------------+---------------+----------------------+</span>
<span class="token operator">|</span> validate_password <span class="token operator">|</span> validate_password<span class="token punctuation">.</span>so <span class="token operator">|</span> ACTIVE        <span class="token operator">|</span> FORCE_PLUS_PERMANENT <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------+----------------------+---------------+----------------------+</span>

<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> UNINSTALL PLUGIN validate_password<span class="token punctuation">;</span> 
ERROR <span class="token number">1702</span> <span class="token punctuation">(</span>HY000<span class="token punctuation">)</span>: Plugin <span class="token string">'validate_password'</span> <span class="token operator">is</span> force_plus_permanent <span class="token operator">and</span> can <span class="token operator">not</span> be unloaded
</code></pre> 
<p>安装/启用插件方式2：运行时命令安装（推荐）</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> INSTALL PLUGIN validate_password <span class="token keyword">SONAME</span> <span class="token string">'validate_password.so'</span><span class="token punctuation">;</span>

Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected<span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.11</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="42_MySQLMySQL8_470"></a>4.2 MySQL不同版本设置密码MySQL8的安全策略</h4> 
<ol><li>validate_password说明<br> MySQL 8.0，引入了服务器组件（Components）这个特性，validate_password插件已用服务器组件重新实现。8.0.25版本的数据库中，默认自动安装validate_password组件。</li></ol> 
<p>未安装插件前，执行如下两个指令 ，执行效果：</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> variables <span class="token operator">like</span> <span class="token string">'validate_password%'</span><span class="token punctuation">;</span> 
Empty <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.04</span> sec<span class="token punctuation">)</span> 

mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mysql<span class="token punctuation">.</span>component<span class="token punctuation">;</span> 
ERROR <span class="token number">1146</span> <span class="token punctuation">(</span><span class="token number">42</span>S02<span class="token punctuation">)</span>: <span class="token keyword">Table</span> <span class="token string">'mysql.component'</span> doesn't exist 
</code></pre> 
<p>安装插件后，执行如下两个指令 ，执行效果：</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mysql<span class="token punctuation">.</span>component<span class="token punctuation">;</span> 
<span class="token operator">+</span><span class="token comment">--------------+--------------------+------------------------------------+</span>
<span class="token operator">|</span> component_id <span class="token operator">|</span> component_group_id <span class="token operator">|</span> component_urn                      <span class="token operator">|</span> 
<span class="token operator">+</span><span class="token comment">--------------+--------------------+------------------------------------+</span>
<span class="token operator">|</span> <span class="token number">1</span>            <span class="token operator">|</span> <span class="token number">1</span>                  <span class="token operator">|</span> <span class="token keyword">file</span>:<span class="token comment">//component_validate_password | </span>
<span class="token operator">+</span><span class="token comment">--------------+--------------------+------------------------------------+</span>

<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span> 

mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> variables <span class="token operator">like</span> <span class="token string">'validate_password%'</span><span class="token punctuation">;</span> 
<span class="token operator">+</span><span class="token comment">--------------------------------------+--------+</span>
<span class="token operator">|</span> Variable_name                        <span class="token operator">|</span> <span class="token keyword">Value</span>  <span class="token operator">|</span> 
<span class="token operator">+</span><span class="token comment">--------------------------------------+--------+</span>
<span class="token operator">|</span> validate_password<span class="token punctuation">.</span>check_user_name    <span class="token operator">|</span> <span class="token keyword">ON</span>     <span class="token operator">|</span> 
<span class="token operator">|</span> validate_password<span class="token punctuation">.</span>dictionary_file    <span class="token operator">|</span>        <span class="token operator">|</span> 
<span class="token operator">|</span> validate_password<span class="token punctuation">.</span>length             <span class="token operator">|</span> <span class="token number">8</span>      <span class="token operator">|</span> 
<span class="token operator">|</span> validate_password<span class="token punctuation">.</span>mixed_case_count   <span class="token operator">|</span> <span class="token number">1</span>      <span class="token operator">|</span> 
<span class="token operator">|</span> validate_password<span class="token punctuation">.</span>number_count       <span class="token operator">|</span> <span class="token number">1</span>      <span class="token operator">|</span> 
<span class="token operator">|</span> validate_password<span class="token punctuation">.</span>policy             <span class="token operator">|</span> MEDIUM <span class="token operator">|</span> 
<span class="token operator">|</span> validate_password<span class="token punctuation">.</span>special_char_count <span class="token operator">|</span> <span class="token number">1</span>      <span class="token operator">|</span> 
<span class="token operator">+</span><span class="token comment">--------------------------------------+--------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

</code></pre> 
<p>关于 validate_password 组件对应的系统变量说明：</p> 
<table><thead><tr><th>选项</th><th>默认值</th><th>参数描述</th></tr></thead><tbody><tr><td>validate_password_check_user_name</td><td>ON</td><td>设置为ON的时候表示能将密码设置成当前用户名。</td></tr><tr><td>validate_password_dictionary_file</td><td></td><td>用于检查密码的字典文件的路径名，默认为空</td></tr><tr><td>**validate_password_length **</td><td>8</td><td>密码的最小长度，也就是说密码长度必须大于或等于8</td></tr><tr><td>validate_password_mixed_case_count</td><td>1</td><td>如果密码策略是中等或更强的，validate_password要求密码具有的小写和大写字符的最小数量。</td></tr><tr><td>validate_password_number_count</td><td>1</td><td>密码必须包含的数字个数</td></tr><tr><td>validate_password_policy</td><td>MEDIUM</td><td>密码强度检验等级，可以使用数值0、1、2或相应的符号值LOW、MEDIUM、STRONG来指定。</td></tr><tr><td>validate_password_special_char_count</td><td>1</td><td>密码必须包含的特殊字符个数</td></tr></tbody></table> 
<blockquote> 
 <p>组件和插件的默认值可能有所不同。例如，MySQL 5.7. validate_password_check_user_name的默认值为OFF。</p> 
</blockquote> 
<h4><a id="_523"></a>修改安全策略</h4> 
<pre><code class="prism language-sql"><span class="token keyword">SET</span> <span class="token keyword">GLOBAL</span> validate_password_policy<span class="token operator">=</span>LOW<span class="token punctuation">;</span> 

<span class="token keyword">SET</span> <span class="token keyword">GLOBAL</span> validate_password_policy<span class="token operator">=</span>MEDIUM<span class="token punctuation">;</span> 

<span class="token keyword">SET</span> <span class="token keyword">GLOBAL</span> validate_password_policy<span class="token operator">=</span>STRONG<span class="token punctuation">;</span> 

<span class="token keyword">SET</span> <span class="token keyword">GLOBAL</span> validate_password_policy<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment"># For LOW </span>

<span class="token keyword">SET</span> <span class="token keyword">GLOBAL</span> validate_password_policy<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment"># For MEDIUM </span>

<span class="token keyword">SET</span> <span class="token keyword">GLOBAL</span> validate_password_policy<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment"># For HIGH </span>

<span class="token comment">#注意，如果是插件的话,SQL为set global validate_password_policy=LOW </span>

</code></pre> 
<p>此外，还可以修改密码中字符的长度</p> 
<pre><code class="prism language-sql"><span class="token keyword">set</span> <span class="token keyword">global</span> validate_password_length<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="43_546"></a>4.3密码强度测试</h4> 
<p>如果你创建密码是遇到“Your password does not satisfy the current policy requirements”，可以通过函数组件去检测密码是否满足条件： 0-100。当评估在100时就是说明使用上了最基本的规则：大写+小写+特殊字符+数字组成的8位以上密码</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> VALIDATE_PASSWORD_STRENGTH<span class="token punctuation">(</span><span class="token string">'medium'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token operator">+</span><span class="token comment">--------------------------------------+</span>
<span class="token operator">|</span> VALIDATE_PASSWORD_STRENGTH<span class="token punctuation">(</span><span class="token string">'medium'</span><span class="token punctuation">)</span> <span class="token operator">|</span> 
<span class="token operator">+</span><span class="token comment">--------------------------------------+</span>
<span class="token operator">|</span>                                   <span class="token number">25</span> <span class="token operator">|</span> 
<span class="token operator">+</span><span class="token comment">--------------------------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> VALIDATE_PASSWORD_STRENGTH<span class="token punctuation">(</span><span class="token string">'K354*45jKd5'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token operator">+</span><span class="token comment">-------------------------------------------+</span>
<span class="token operator">|</span> VALIDATE_PASSWORD_STRENGTH<span class="token punctuation">(</span><span class="token string">'K354*45jKd5'</span><span class="token punctuation">)</span> <span class="token operator">|</span> 
<span class="token operator">+</span><span class="token comment">-------------------------------------------+</span>
<span class="token operator">|</span>                                       <span class="token number">100</span> <span class="token operator">|</span> 
<span class="token operator">+</span><span class="token comment">-------------------------------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span> 
</code></pre> 
<p>注意：如果没有安装validate_password组件或插件的话，那么这个函数永远都返回0。 关于密码复杂度对应的密码复杂度策略。如下表格所示：</p> 
<table><thead><tr><th>Password Test</th><th>Return Value</th></tr></thead><tbody><tr><td>Length &lt; 4</td><td>0</td></tr><tr><td>Length ≥ 4 and &lt; validate_password.length</td><td>25</td></tr><tr><td>Satisfies policy 1 (LOW)</td><td>50</td></tr><tr><td>Satisfies policy 2 (MEDIUM)</td><td>75</td></tr><tr><td>Satisfies policy 3 (STRONG)</td><td>100</td></tr></tbody></table> 
<h4><a id="44__574"></a>4.4 卸载插件、组件</h4> 
<p>卸载插件</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> UNINSTALL PLUGIN validate_password<span class="token punctuation">;</span> 
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected<span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span> 
</code></pre> 
<p>卸载组件</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> UNINSTALL COMPONENT <span class="token string">'file://component_validate_password'</span><span class="token punctuation">;</span> 
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.02</span> sec<span class="token punctuation">)</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/efd34904bbf70c516859c93cdc4ec0ce/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">全局事件的简单使用(vue-cli)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/24f35f61dd8d0c0b8cbc9594bed24008/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SSH原理与使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>