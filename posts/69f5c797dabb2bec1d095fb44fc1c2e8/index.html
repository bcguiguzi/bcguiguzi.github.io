<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python 2.7 linux cv2,【Linux】【Opencv】【Python】安装opencv以及无法使用cv2.imshow()解决办法（Ubuntu14.04）... - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python 2.7 linux cv2,【Linux】【Opencv】【Python】安装opencv以及无法使用cv2.imshow()解决办法（Ubuntu14.04）..." />
<meta property="og:description" content="------【2017.07.14 更新】-------------------------------------------------------
安装opencv3每次cmake都要下载3rdparty，下载很慢还总失败。附上自行下载链接及解决办法：
opencv3.2也可以去官网下载。
先解压缩opencv3.2
cd opencv-3.2.0/3rdparty/ippicv
mkdir unpack
然后解压缩ippicv_linux_20151201.tgz
将解压后的目录mv到unpack目录中
替换ippicv目录中downloader.cmake文件内容为：
#
# The script downloads ICV package
#
# On return this will define:
# OPENCV_ICV_PATH - path to unpacked downloaded package
#
function(_icv_downloader)
# Commit SHA in the opencv_3rdparty repo
set(IPPICV_BINARIES_COMMIT &#34;81a676001ca8075ada498583e4166079e5744668&#34;)
# Define actual ICV versions
if(APPLE)
set(OPENCV_ICV_PACKAGE_NAME &#34;ippicv_macosx_20151201.tgz&#34;)
set(OPENCV_ICV_PACKAGE_HASH &#34;4ff1fde9a7cfdfe7250bfcd8334e0f2f&#34;)
set(OPENCV_ICV_PLATFORM &#34;macosx&#34;)
set(OPENCV_ICV_PACKAGE_SUBDIR &#34;/ippicv_osx&#34;)
elseif(UNIX)
if(ANDROID AND NOT (ANDROID_ABI STREQUAL x86 OR ANDROID_ABI STREQUAL x86_64))" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/69f5c797dabb2bec1d095fb44fc1c2e8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-12T15:02:47+08:00" />
<meta property="article:modified_time" content="2021-05-12T15:02:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python 2.7 linux cv2,【Linux】【Opencv】【Python】安装opencv以及无法使用cv2.imshow()解决办法（Ubuntu14.04）...</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>------【2017.07.14 更新】-------------------------------------------------------</p> 
 <p>安装opencv3每次cmake都要下载3rdparty，下载很慢还总失败。附上自行下载链接及解决办法：</p> 
 <p>opencv3.2也可以去官网下载。</p> 
 <p>先解压缩opencv3.2</p> 
 <p>cd opencv-3.2.0/3rdparty/ippicv</p> 
 <p>mkdir unpack</p> 
 <p>然后解压缩ippicv_linux_20151201.tgz</p> 
 <p>将解压后的目录mv到unpack目录中</p> 
 <p>替换ippicv目录中downloader.cmake文件内容为：</p> 
 <p>#</p> 
 <p># The script downloads ICV package</p> 
 <p>#</p> 
 <p># On return this will define:</p> 
 <p># OPENCV_ICV_PATH - path to unpacked downloaded package</p> 
 <p>#</p> 
 <p>function(_icv_downloader)</p> 
 <p># Commit SHA in the opencv_3rdparty repo</p> 
 <p>set(IPPICV_BINARIES_COMMIT "81a676001ca8075ada498583e4166079e5744668")</p> 
 <p># Define actual ICV versions</p> 
 <p>if(APPLE)</p> 
 <p>set(OPENCV_ICV_PACKAGE_NAME "ippicv_macosx_20151201.tgz")</p> 
 <p>set(OPENCV_ICV_PACKAGE_HASH "4ff1fde9a7cfdfe7250bfcd8334e0f2f")</p> 
 <p>set(OPENCV_ICV_PLATFORM "macosx")</p> 
 <p>set(OPENCV_ICV_PACKAGE_SUBDIR "/ippicv_osx")</p> 
 <p>elseif(UNIX)</p> 
 <p>if(ANDROID AND NOT (ANDROID_ABI STREQUAL x86 OR ANDROID_ABI STREQUAL x86_64))</p> 
 <p>return()</p> 
 <p>endif()</p> 
 <p>set(OPENCV_ICV_PACKAGE_NAME "ippicv_linux_20151201.tgz")</p> 
 <p>set(OPENCV_ICV_PACKAGE_HASH "808b791a6eac9ed78d32a7666804320e")</p> 
 <p>set(OPENCV_ICV_PLATFORM "linux")</p> 
 <p>set(OPENCV_ICV_PACKAGE_SUBDIR "/ippicv_lnx")</p> 
 <p>elseif(WIN32 AND NOT ARM)</p> 
 <p>set(OPENCV_ICV_PACKAGE_NAME "ippicv_windows_20151201.zip")</p> 
 <p>set(OPENCV_ICV_PACKAGE_HASH "04e81ce5d0e329c3fbc606ae32cad44d")</p> 
 <p>set(OPENCV_ICV_PLATFORM "windows")</p> 
 <p>set(OPENCV_ICV_PACKAGE_SUBDIR "/ippicv_win")</p> 
 <p>else()</p> 
 <p>return() # Not supported</p> 
 <p>endif()</p> 
 <p>set(OPENCV_ICV_UNPACK_PATH "${CMAKE_CURRENT_LIST_DIR}/unpack")</p> 
 <p>set(OPENCV_ICV_PATH "${OPENCV_ICV_UNPACK_PATH}${OPENCV_ICV_PACKAGE_SUBDIR}")</p> 
 <p>message(STATUS "ICV: Package successfully downloaded")</p> 
 <p>set(OPENCV_ICV_PATH "${OPENCV_ICV_PATH}" PARENT_SCOPE)</p> 
 <p>endfunction()</p> 
 <p>_icv_downloader()</p> 
 <p>然后就可以正常cmake，make，make install 了</p> 
 <p>-----------------------------------------------------------------------------------------------------------------------------------------</p> 
 <p>提示错误：</p> 
 <p>cv2.error: /io/opencv/modules/highgui/src/window.cpp:583: error: (-2) The function is not implemented. Rebuild the library with Windows, GTK+ 2.x or Carbon support. If you are on Ubuntu or Debian, install libgtk2.0-dev and pkg-config, then re-run cmake or configure script in function cvShowImage</p> 
 <p>这个问题真是。。RLGL。。。</p> 
 <p>依赖包我就不说了，安装好就是了。特别是libgtk2.0-dev和pkg-config。</p> 
 <p>简单说一下怎么手动安装opencv2吧</p> 
 <p>先去官网http://opencv.org/</p> 
 <p>点release</p> 
 <p>下载opencv-2.4.13的source源码包</p> 
 <p>unzip opencv-2.4.13.zip</p> 
 <p>cd opencv-2.4.13/</p> 
 <p>cmake -D WITH_GTK=ON -D CMAKE_INSTALL_PREFIX=/usr/local .</p> 
 <p>make</p> 
 <p>sudo make install</p> 
 <p>新安装的opencv在/usr/local/include/目录里</p> 
 <p>这时候找cv2.so</p> 
 <p>可能在/usr/local/lib/python2.7/site-packages/ 目录里</p> 
 <p>也可能在/usr/local/lib/python2.7/dist-packages/ 目录里</p> 
 <p>第一种情况将cv2.so复制到/usr/lib/python2.7/site-packages/目录里</p> 
 <p>第二种情况复制到/usr/lib/python2.7/dist-packages/目录里</p> 
 <p>好了！！！最坑爹的来了，正常这样操作后就没问题了啊。</p> 
 <p>如果你运行代码不再提示错误可以无视下面的内容。</p> 
 <p>还出问题的小伙伴们看一看/usr/local/lib/python2.7/site-packages/或者/usr/local/lib/python2.7/dist-packages/目录下是不是有个名字为cv2的文件夹</p> 
 <p>删掉它！问题就解决了。</p> 
 <p>来来回回重新安装了一下午的opencv，崩溃的要死！</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/07ae8651707bb7ac49d41f75388c12b9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">依赖包版本号更新 warning package.json: “dependencies“ has dependency “eslint“ with range “^6.8.0“</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b942a1be8fd7d9e04d3b5af1efcd205d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Flutter崩溃时将rout堆栈上报到服务端</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>