<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>使用nexus在windows上搭建npm私服 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="使用nexus在windows上搭建npm私服" />
<meta property="og:description" content="一、下载安装 1、在官网下载：Nexus Repository Manager OSS 3.x, 解压至任意位置。（但是我在官网下载了几次都没成功）
百度云下载地址：
Nexus Repository Manager OSS 3.x
提取码：7w7w
2、管理员运行cmd, 切换到 nexus-3.17.0-01/bin 目录，
nexus.exe /install进行安装, 成功后会提示 Installed service &#39;nexus&#39;
注意： 如果提示 wrapper | OpenSCManager failed - 拒绝访问。 (0x5) 是因为没有使用管理员身份启动cmd
解决方式： 找到cmd.exe文件，右键点击 ----&gt; 以管理员身份运行 ，然后进入到nexus-3.17.0-01/bin 目录，就可以正常执行nexus install 和 nexus.exe /run 命令了
二、启动 1、nexus.exe /run 运行服务。这里注意：有的版本的启动命令是：nexus.exe /start
2、等待启动完毕后, 进入http://localhost:8081, 点击右上角 Sign In登陆。网上大部分博客都会讲默认的用户名和密码分别是admin和admin123。但是，如果你在3.x上面直接输入是进不去的。会有一个错误提示，如下图所示：
解决方案： 当nexus解压之后会有两个文件夹nexus3.x和sonatype-work, 默认的密码在sonatype-work文件夹下,会有一个admin.password的文件，里面就是默认的密码，复制即可，然后输入用户名：admin，密码：就是复制的那一串东西。进去之后会让你更改密码，改成你自己的密码即可。
3、修改默认的端口（可以不修改，看自己喜好）
在你的nexus路径下的etc文件夹下的nexus-default.properties里面修改，打开nexus-default.properties文件，如下图所示，修改默认端口8081为8092即可。
三、添加npm仓库 1、点击在左侧菜单Repositories，可以看到仓库类型列表，如下： npm(group)表示分组，npm(hosted)表示本机私有，npm(proxy)表示远程代理。
若registry配置为group(包括hosted和proxy)，首先会从hosted取，若无则从proxy取并缓存，下次则会从缓存取。
2、点击Create repository按钮创建仓库 第一种：代理 npm 仓库： npm(proxy) 将公共 npm 服务器的资源代理缓存，减少重复下载，加快开发人员和CI服务器的下载速度。创建时选择 npm(proxy) ，只需填写 Name 和 Remote storage （公有库域名）即可。https://registry." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/6aa3ddd59cfd6cc6c1e546a9a479c8de/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-10T20:10:49+08:00" />
<meta property="article:modified_time" content="2020-11-10T20:10:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">使用nexus在windows上搭建npm私服</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>一、下载安装</h3> 
<p>1、在官网下载：<a href="https://www.sonatype.com/download-oss-sonatype" rel="nofollow">Nexus Repository Manager OSS 3.x</a>, 解压至任意位置。（但是我在官网下载了几次都没成功）</p> 
<p>百度云下载地址：<br> <a href="https://pan.baidu.com/s/1M43i1cT8vGFQrdSHO8xzUQ" rel="nofollow">Nexus Repository Manager OSS 3.x</a><br> 提取码：7w7w</p> 
<p>2、管理员运行cmd, 切换到 nexus-3.17.0-01/bin 目录，<br> <code>nexus.exe /install</code>进行安装, 成功后会提示 <code>Installed service 'nexus'</code></p> 
<h6><a id="_10"></a>注意：</h6> 
<p>如果提示 <strong>wrapper | OpenSCManager failed - 拒绝访问。 (0x5)</strong> 是因为没有使用管理员身份启动cmd</p> 
<h6><a id="_13"></a>解决方式：</h6> 
<p>找到cmd.exe文件，右键点击 ----&gt; 以管理员身份运行 ，然后进入到nexus-3.17.0-01/bin 目录，就可以正常执行nexus install 和 nexus.exe /run 命令了</p> 
<h3><a id="_16"></a>二、启动</h3> 
<p>1、<code>nexus.exe /run</code> 运行服务。这里注意：有的版本的启动命令是：<code>nexus.exe /start</code></p> 
<p>2、等待启动完毕后, 进入<code>http://localhost:8081</code>, 点击右上角 <code>Sign In</code>登陆。网上大部分博客都会讲默认的用户名和密码分别是admin和admin123。但是，如果你在3.x上面直接输入是进不去的。会有一个错误提示，如下图所示：<br> <img src="https://images2.imgbox.com/f3/10/0FiVqWeg_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_21"></a>解决方案：</h6> 
<p>当nexus解压之后会有两个文件夹<code>nexus3.x</code>和<code>sonatype-work</code>, 默认的密码在<code>sonatype-work</code>文件夹下,会有一个<code>admin.password</code>的文件，里面就是默认的密码，复制即可，然后输入用户名：admin，密码：就是复制的那一串东西。进去之后会让你更改密码，改成你自己的密码即可。</p> 
<p>3、修改默认的端口（可以不修改，看自己喜好）<br> 在你的nexus路径下的<code>etc文件夹下</code>的<code>nexus-default.properties</code>里面修改，打开<code>nexus-default.properties</code>文件，如下图所示，修改默认端口8081为8092即可。</p> 
<p><img src="https://images2.imgbox.com/16/b9/aHBP90Yc_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a4/06/nUqozwxC_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="npm_30"></a>三、添加npm仓库</h3> 
<p><img src="https://images2.imgbox.com/d0/27/oVE2htQ1_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="1Repositories_33"></a>1、点击在左侧菜单Repositories，可以看到仓库类型列表，如下：</h5> 
<p><img src="https://images2.imgbox.com/d3/3a/QfJ3Lsex_o.png" alt="在这里插入图片描述"><br> <code>npm(group)</code>表示分组，<code>npm(hosted)</code>表示本机私有，<code>npm(proxy)</code>表示远程代理。<br> 若<code>registry</code>配置为<code>group(包括hosted和proxy)</code>，首先会从<code>hosted</code>取，若无则从<code>proxy</code>取并缓存，下次则会从缓存取。</p> 
<h5><a id="2Create_repository_38"></a>2、点击Create repository按钮创建仓库</h5> 
<h6><a id="_npm___npmproxy_40"></a>第一种：代理 npm 仓库： npm(proxy)</h6> 
<p>将公共 npm 服务器的资源代理缓存，减少重复下载，加快开发人员和CI服务器的下载速度。创建时选择 npm(proxy) ，只需填写 Name 和 Remote storage （公有库域名）即可。https://registry.npm.taobao.org 或 https://registry.npmjs.org. 用于将包情求代理到地址地址<br> <img src="https://images2.imgbox.com/58/93/Gw4f9QwW_o.png" alt="在这里插入图片描述"><br> 再点击最下面的Create repository按钮即可。</p> 
<h6><a id="_npm_npmhosted_44"></a>第二种：私有 npm 仓库：npm(hosted)</h6> 
<p>用于 上传自己的npm包 以及第三方npm包。同样的创建步骤，只不过选择的 仓库类型为 npm(hosted)。 只填写 Name 即可<br> <img src="https://images2.imgbox.com/f8/eb/4zzGuKBX_o.png" alt=""></p> 
<h6><a id="npm_npmgroup_47"></a>第三种：npm 仓库组：npm(group)</h6> 
<p>用于将多个内部或外部 npm 仓库统一为一个 npm仓库。被添加到 npm仓库组 中的 其他仓库内的包都能够通过该 npm仓库组 访问到。</p> 
<p>例如：可以新建一个npm仓库组将 上面两个刚刚创建的 npm 仓库都添加进去。这样可以通过这个 npm仓库组，既可以访问 公有npm仓库 又可以访问自己的 私有npm仓库。<br> 仓库类型为 npm(group)，起一个名字 Name，然后选择需要添加到组里的 其他 npm 仓库。此处我选择的是 npmjs 和 npm-hosted。<br> <img src="https://images2.imgbox.com/57/20/aQL4Y8vM_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_53"></a>四、安装包</h3> 
<p>然后随便安装一个 包 试试（日志级别设置为 info）</p> 
<pre><code>npm --loglevel info install jquery
</code></pre> 
<h5><a id="_59"></a>注意：</h5> 
<p>报错：<strong>报401 BASIC realm="Sonatype Nexus Repository Manager"</strong></p> 
<h6><a id="_61"></a>解决方案：</h6> 
<pre><code>npm login    
</code></pre> 
<p>输入nexus上创建的用户、密码和邮箱就可以了<br> 如果登录后还不能发，检查npm nexus的 Realms设置，把npm Bearer Token Reaim放入Active中，并保存。<br> <img src="https://images2.imgbox.com/63/c4/AxhqEXeJ_o.png" alt="在这里插入图片描述"><br> 再次试试，就成功了。<br> <img src="https://images2.imgbox.com/51/49/wtFRLuJW_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_npm__71"></a>五、发布到 npm 私服</h3> 
<pre><code>npm adduser -registry http://localhost:8081/repository/npm-hosted/ 
</code></pre> 
<p>在确保项目有 package.json 前提下，执行.<br> 在 package.json 中添加：</p> 
<pre><code>"publishConfig": {
    "registry": "http://localhost:8081/repository/npm-hosted/"
  },
</code></pre> 
<p>执行：</p> 
<pre><code>npm publish
</code></pre> 
<p><img src="https://images2.imgbox.com/1e/e1/DZvpMJZ5_o.png" alt="在这里插入图片描述"><br> 成功了！！</p> 
<p>参考：<br> <a href="https://www.jianshu.com/p/1674a6bc1c12" rel="nofollow">1、https://www.jianshu.com/p/1674a6bc1c12</a><br> <a href="https://www.xxlaila.cn/2019/08/23/nexus3%E6%90%AD%E5%BB%BAnpm%E7%A7%81%E6%9C%8D/" rel="nofollow">2、nexus3搭建npm私服</a><br> <a href="https://blog.csdn.net/lqh4188/article/details/107384465?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522159615891619724845063348%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=159615891619724845063348&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v3~pc_rank_v3-3-107384465.pc_ecpm_v3_pc_rank_v3&amp;utm_term=Unable%20to%20authenticate,%20need:%20&amp;spm=1018.2118.3001.4187">3、npm的nexus私服 E401 E500错误处理记录</a><br> <a href="https://www.jianshu.com/p/2a6a734bd76a" rel="nofollow">4、nexus 3.x私服配置（windows版）</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ace8059286a41fe202b884ee6eec1c3e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">202019 大战360弹窗广告</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6b2fc410bba413738d08f1d3d3afc749/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">cad快看_星期日来啦！分享5个珍藏已久的电影网站，各种大片免费看</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>