<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>flutter项目怎么判断是不是web平台？Unsupported operation: Platform._operatingSystem - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="flutter项目怎么判断是不是web平台？Unsupported operation: Platform._operatingSystem" />
<meta property="og:description" content="如果你使用Platform 这个工具来判断的时候，很有可能会报错： ======== Exception caught by widgets library =======================================================
The following UnsupportedError was thrown building MyApp(dirty):
Unsupported operation: Platform._operatingSystem
The relevant error-causing widget was: Platform判断的时候只能判断除了web平台的判断：
Flutter 的 Platform 类提供了一些属性和方法，用于获取关于当前平台的信息。以下是一些常用的 Platform 属性和方法： Platform.isAndroid：一个布尔值，用于检查当前平台是否为 Android。 Platform.isIOS：一个布尔值，用于检查当前平台是否为 iOS。 Platform.isFuchsia：一个布尔值，用于检查当前平台是否为 Fuchsia。 Platform.isLinux：一个布尔值，用于检查当前平台是否为 Linux。 Platform.isMacOS：一个布尔值，用于检查当前平台是否为 macOS。 Platform.isWindows：一个布尔值，用于检查当前平台是否为 Windows。 只能使用这种方式判断web平台：如果是web平台返回true，不是返回false
identical(0, 0.0) 所以如果你想判断是不是web平台，然后修改字体可以这样：
// 解决桌面端字体粗细不一致和繁体的情况 fontFamily: identical(0, 0.0) ? null : &#34;微软雅黑&#34;, 因为只有web平台下js判断0和0.0才判断为相等，其他语言都是false。
至于js为啥会将0和0.0判断为相等，是因为js使用弱类型判断的时候，会对右边的类型转成左边的类型，然后再进行判断，转换后的0.0其实就是0，所以才相等。
js问题 js中 0==‘0’、0==[] 为 true ，为什么 ‘0’==[] 为false
分析
== 是弱类型比较" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/3956deda5e3148cf25192d06d898bf43/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-21T17:38:09+08:00" />
<meta property="article:modified_time" content="2024-01-21T17:38:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">flutter项目怎么判断是不是web平台？Unsupported operation: Platform._operatingSystem</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><img alt="" height="381" src="https://images2.imgbox.com/f8/ec/K9Nv6m6o_o.png" width="1060"></p> 
<p>如果你使用Platform 这个工具来判断的时候，很有可能会报错： </p> 
<blockquote> 
 <p>======== Exception caught by widgets library =======================================================<br> The following UnsupportedError was thrown building MyApp(dirty):<br> Unsupported operation: Platform._operatingSystem</p> 
 <p>The relevant error-causing widget was: </p> 
</blockquote> 
<p>Platform判断的时候只能判断除了web平台的判断：</p> 
<pre><code class="hljs">Flutter 的 Platform 类提供了一些属性和方法，用于获取关于当前平台的信息。以下是一些常用的 Platform 属性和方法：

Platform.isAndroid：一个布尔值，用于检查当前平台是否为 Android。

Platform.isIOS：一个布尔值，用于检查当前平台是否为 iOS。

Platform.isFuchsia：一个布尔值，用于检查当前平台是否为 Fuchsia。

Platform.isLinux：一个布尔值，用于检查当前平台是否为 Linux。

Platform.isMacOS：一个布尔值，用于检查当前平台是否为 macOS。

Platform.isWindows：一个布尔值，用于检查当前平台是否为 Windows。</code></pre> 
<p> 只能使用这种方式判断web平台：如果是web平台返回true，不是返回false</p> 
<pre><code class="hljs">identical(0, 0.0)</code></pre> 
<p>所以如果你想判断是不是web平台，然后修改字体可以这样：</p> 
<pre><code class="hljs">          // 解决桌面端字体粗细不一致和繁体的情况
          fontFamily: identical(0, 0.0) ? null : "微软雅黑",</code></pre> 
<p> 因为只有web平台下js判断0和0.0才判断为相等，其他语言都是false。</p> 
<p>至于js为啥会将0和0.0判断为相等，是因为js使用弱类型判断的时候，会对右边的类型转成左边的类型，然后再进行判断，转换后的0.0其实就是0，所以才相等。</p> 
<p></p> 
<h2>js问题</h2> 
<p>js中 0==‘0’、0==[] 为 true ，为什么 ‘0’==[] 为false</p> 
<p><img alt="" height="154" src="https://images2.imgbox.com/d2/85/HwaRYif5_o.png" width="661"></p> 
<p>分析<br> == 是弱类型比较</p> 
<p>当两者类型不同时会发生类型转换<br> 0 == “0”：先把“0”转为number类型再比较；<br> 0 == []：有对象的话，先获取对象的原始值，如果原始值为number类型，直接与0比较；如果原始值为字符串类型，先转为number类型再比较；（在这里[]的原始值为“”，符合第二种情况）<br> “0” == []：首先获取[]的原始值，即空字符串“”，然后进行两个字符串“0”与“”之间的比较。字符串之间的比较遵循的是逐个字符使用基于标准字典的 Unicode 值来进行比较的规则，所以这俩字符串不同。<br> 前两者等式成立都是因为发生了一次类型转换，而后者如果要成立，就要发生两次类型转换，这应该是非法的。真正成立的等式是’’==[]，只发生一次类型转换其实你拿str=“0”，然后取str[0]就知道这个其实是有值的，这显然不符合空数组的定义。</p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/257d89a43976b3971a0746eb9981b3b9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">用大模型增强数据分析应用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8fe06630eec98f2b509a1cc0a959faee/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">HarmonyOS应用开发的工程目录结构</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>