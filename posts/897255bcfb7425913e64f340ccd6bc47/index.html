<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>生产环境weblogic 10.3.6安装部署 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="生产环境weblogic 10.3.6安装部署" />
<meta property="og:description" content="一、环境准备 1、创建weblogiic用户组：
groupadd weblogic useradd -d /app/ -g weblogic weblogic passwd weblogic 2、修改open file参数，方法如下：
vim /etc/security/limits.conf weblogic soft nofile 65536 weblogic hard nofile 65536 3、配置JDK环境变量：
[weblogic@localhost src]$ tar -zxf /usr/local/src/jdk-8u231-linux-x64.tar.gz -C /usr/local/java [weblogic@localhost app]$ vim .bash_profile export JAVA_HOME=/usr/local/java export PATH=$JAVA_HOME/bin:$PATH export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar [weblogic@localhost app]$ source .bash_profile [weblogic@localhost app]$ java -version java version &#34;1.8.0_231&#34; Java(TM) SE Runtime Environment (build 1.8.0_231-b11) Java HotSpot(TM) 64-Bit Server VM (build 25.231-b11,、 mixed mode) 二、安装主域 [weblogic@localhost src]$ java -jar wls1036_generic." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/897255bcfb7425913e64f340ccd6bc47/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-05T09:18:09+08:00" />
<meta property="article:modified_time" content="2023-08-05T09:18:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">生产环境weblogic 10.3.6安装部署</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>一、环境准备</h3> 
<p>1、创建weblogiic用户组：</p> 
<pre><code class="prism language-bash"><span class="token function">groupadd</span>  weblogic
<span class="token function">useradd</span> <span class="token parameter variable">-d</span> /app/ <span class="token parameter variable">-g</span> weblogic weblogic
<span class="token function">passwd</span> weblogic
</code></pre> 
<p>2、修改open file参数，方法如下：</p> 
<pre><code class="prism language-bash"><span class="token function">vim</span> /etc/security/limits.conf
weblogic soft nofile <span class="token number">65536</span>
weblogic hard nofile <span class="token number">65536</span>
</code></pre> 
<p>3、配置JDK环境变量：</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>weblogic@localhost src<span class="token punctuation">]</span>$ <span class="token function">tar</span> <span class="token parameter variable">-zxf</span> /usr/local/src/jdk-8u231-linux-x64.tar.gz <span class="token parameter variable">-C</span> /usr/local/java
<span class="token punctuation">[</span>weblogic@localhost app<span class="token punctuation">]</span>$ <span class="token function">vim</span> .bash_profile
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/usr/local/java 
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$JAVA_HOME</span>/bin:<span class="token environment constant">$PATH</span> 
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CLASSPATH</span><span class="token operator">=</span>.:<span class="token variable">$JAVA_HOME</span>/lib/dt.jar:<span class="token variable">$JAVA_HOME</span>/lib/tools.jar 
<span class="token punctuation">[</span>weblogic@localhost app<span class="token punctuation">]</span>$ <span class="token builtin class-name">source</span> .bash_profile
<span class="token punctuation">[</span>weblogic@localhost app<span class="token punctuation">]</span>$ <span class="token function">java</span> <span class="token parameter variable">-version</span>
<span class="token function">java</span> version <span class="token string">"1.8.0_231"</span>
Java<span class="token punctuation">(</span>TM<span class="token punctuation">)</span> SE Runtime Environment <span class="token punctuation">(</span>build <span class="token number">1.8</span>.0_231-b11<span class="token punctuation">)</span>
Java HotSpot<span class="token punctuation">(</span>TM<span class="token punctuation">)</span> <span class="token number">64</span>-Bit Server VM <span class="token punctuation">(</span>build <span class="token number">25.231</span>-b11,、 mixed mode<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_33"></a>二、安装主域</h3> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>weblogic@localhost src<span class="token punctuation">]</span>$ <span class="token function">java</span> <span class="token parameter variable">-jar</span> wls1036_generic.jar 
无法实例化 GUI, 默认进入控制台模式。
Extracting <span class="token number">0</span>%<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token number">100</span>%

<span class="token operator">&lt;</span>-------------------- Oracle Installer - WebLogic <span class="token number">10.3</span>.6.0 -------------------<span class="token operator">&gt;</span>

欢迎使用:
-------------

此安装程序将引导您完成 WebLogic <span class="token number">10.3</span>.6.0 的安装。键入 <span class="token string">"Next"</span> 或按 Enter 键继续下一个提示。如果您希望更改以前输入的数据, 
请键入 <span class="token string">"Previous"</span>。您可以随时通过键入 <span class="token string">"Exit"</span> 退出安装程序。

输入 <span class="token punctuation">[</span>退出<span class="token punctuation">]</span><span class="token punctuation">[</span>下一步<span class="token punctuation">]</span><span class="token operator">&gt;</span> 直接回车

<span class="token operator">&lt;</span>-------------------- Oracle Installer - WebLogic <span class="token number">10.3</span>.6.0 -------------------<span class="token operator">&gt;</span>

选择中间件主目录:
-------------------------

    <span class="token string">"中间件主目录"</span> <span class="token operator">=</span> <span class="token punctuation">[</span>/app/Oracle/Middleware<span class="token punctuation">]</span>

使用以上值或选择另一选项:
    <span class="token number">1</span> - 输入新值 中间件主目录
    <span class="token number">2</span> - 更改为默认值 <span class="token punctuation">[</span>/app//Oracle/Middleware<span class="token punctuation">]</span>

输入要选择的选项编号 或 <span class="token punctuation">[</span>退出<span class="token punctuation">]</span><span class="token punctuation">[</span>上一步<span class="token punctuation">]</span><span class="token punctuation">[</span>下一步<span class="token punctuation">]</span><span class="token operator">&gt;</span> 直接回车

<span class="token operator">&lt;</span>-------------------- Oracle Installer - WebLogic <span class="token number">10.3</span>.6.0 -------------------<span class="token operator">&gt;</span>

注册安全更新:
-------------------

请提供用于接收安全更新的电子邮件地址以及 以启动配置管理器。

   <span class="token number">1</span><span class="token operator">|</span>电子邮件:<span class="token punctuation">[</span><span class="token punctuation">]</span>
   <span class="token number">2</span><span class="token operator">|</span>My Oracle Support 口令:<span class="token punctuation">[</span><span class="token punctuation">]</span>
   <span class="token number">3</span><span class="token operator">|</span>接收安全更新:<span class="token punctuation">[</span>Yes<span class="token punctuation">]</span>

输入要选择的索引号 或 <span class="token punctuation">[</span>退出<span class="token punctuation">]</span><span class="token punctuation">[</span>上一步<span class="token punctuation">]</span><span class="token punctuation">[</span>下一步<span class="token punctuation">]</span><span class="token operator">&gt;</span>输入“3”，把接收安全更新取消掉

<span class="token operator">&lt;</span>-------------------- Oracle Installer - WebLogic <span class="token number">10.3</span>.6.0 -------------------<span class="token operator">&gt;</span>

注册安全更新:
-------------------

请提供用于接收安全更新的电子邮件地址以及 以启动配置管理器。

    <span class="token string">"接收安全更新:"</span> <span class="token operator">=</span> <span class="token punctuation">[</span>输入新值或使用默认值 <span class="token string">"Yes"</span><span class="token punctuation">]</span>

输入 <span class="token punctuation">[</span>Yes<span class="token punctuation">]</span><span class="token punctuation">[</span>No<span class="token punctuation">]</span>? 输入“No”，将接收安全更新的Yes改为No

<span class="token operator">&lt;</span>-------------------- Oracle Installer - WebLogic <span class="token number">10.3</span>.6.0 -------------------<span class="token operator">&gt;</span>

注册安全更新:
-------------------

请提供用于接收安全更新的电子邮件地址以及 以启动配置管理器。

    <span class="token string">"接收安全更新:"</span> <span class="token operator">=</span> <span class="token punctuation">[</span>输入新值或使用默认值 <span class="token string">"Yes"</span><span class="token punctuation">]</span>


    ** 是否希望绕过配置管理器的启动过程并且
    **  不接收配置中存在严重安全问题的通知?

输入 <span class="token punctuation">[</span>Yes<span class="token punctuation">]</span><span class="token punctuation">[</span>No<span class="token punctuation">]</span>? 输入“Yes“，确认不接收安全更新

<span class="token operator">&lt;</span>-------------------- Oracle Installer - WebLogic <span class="token number">10.3</span>.6.0 -------------------<span class="token operator">&gt;</span>

注册安全更新:
-------------------

请提供用于接收安全更新的电子邮件地址以及 以启动配置管理器。

   <span class="token number">1</span><span class="token operator">|</span>电子邮件:<span class="token punctuation">[</span><span class="token punctuation">]</span>
   <span class="token number">2</span><span class="token operator">|</span>My Oracle Support 口令:<span class="token punctuation">[</span><span class="token punctuation">]</span>
   <span class="token number">3</span><span class="token operator">|</span>接收安全更新:<span class="token punctuation">[</span>No<span class="token punctuation">]</span>

输入要选择的索引号 或 <span class="token punctuation">[</span>退出<span class="token punctuation">]</span><span class="token punctuation">[</span>上一步<span class="token punctuation">]</span><span class="token punctuation">[</span>下一步<span class="token punctuation">]</span><span class="token operator">&gt;</span> 直接回车

<span class="token operator">&lt;</span>-------------------- Oracle Installer - WebLogic <span class="token number">10.3</span>.6.0 -------------------<span class="token operator">&gt;</span>

注册安全更新:
-------------------

请提供用于接收安全更新的电子邮件地址以及 以启动配置管理器。

   <span class="token number">1</span><span class="token operator">|</span>电子邮件:<span class="token punctuation">[</span><span class="token punctuation">]</span>
   <span class="token number">2</span><span class="token operator">|</span>My Oracle Support 口令:<span class="token punctuation">[</span><span class="token punctuation">]</span>
   <span class="token number">3</span><span class="token operator">|</span>接收安全更新:<span class="token punctuation">[</span>No<span class="token punctuation">]</span>

输入要选择的索引号 或 <span class="token punctuation">[</span>退出<span class="token punctuation">]</span><span class="token punctuation">[</span>上一步<span class="token punctuation">]</span><span class="token punctuation">[</span>下一步<span class="token punctuation">]</span><span class="token operator">&gt;</span> 直接回车

<span class="token operator">&lt;</span>-------------------- Oracle Installer - WebLogic <span class="token number">10.3</span>.6.0 -------------------<span class="token operator">&gt;</span>

选择安装类型:
-------------------

选择您要执行的安装类型。 

 -<span class="token operator">&gt;</span><span class="token number">1</span><span class="token operator">|</span>典型
    <span class="token operator">|</span>  安装以下产品和组件:
    <span class="token operator">|</span> - WebLogic Server
    <span class="token operator">|</span> - Oracle Coherence

   <span class="token number">2</span><span class="token operator">|</span>定制
    <span class="token operator">|</span>  选择要安装的软件产品和组件并执行可选配置。

输入要选择的索引号 或 <span class="token punctuation">[</span>退出<span class="token punctuation">]</span><span class="token punctuation">[</span>上一步<span class="token punctuation">]</span><span class="token punctuation">[</span>下一步<span class="token punctuation">]</span><span class="token operator">&gt;</span> 直接回车

<span class="token operator">&lt;</span>-------------------- Oracle Installer - WebLogic <span class="token number">10.3</span>.6.0 -------------------<span class="token operator">&gt;</span>

JDK 选择 <span class="token punctuation">(</span>所有 * 都指示 Oracle 提供的 VM<span class="token punctuation">)</span>:
----------------------------------------------------

将安装所选 JDK。如果已安装, 默认值将 用于脚本字符串替换。

   <span class="token number">1</span><span class="token operator">|</span>添加本地 JDK
   <span class="token number">2</span><span class="token operator">|</span>/usr/local/java<span class="token punctuation">[</span>x<span class="token punctuation">]</span>

   *安装预计所需的大小: <span class="token number">690.2</span> MB

输入 <span class="token number">1</span> 以添加, 或者输入 <span class="token operator">&gt;=</span> <span class="token number">2</span> 可切换选定内容  或 <span class="token punctuation">[</span>退出<span class="token punctuation">]</span><span class="token punctuation">[</span>上一步<span class="token punctuation">]</span><span class="token punctuation">[</span>下一步<span class="token punctuation">]</span><span class="token operator">&gt;</span> 直接回车

<span class="token operator">&lt;</span>-------------------- Oracle Installer - WebLogic <span class="token number">10.3</span>.6.0 -------------------<span class="token operator">&gt;</span>

选择产品安装目录:
-------------------------

中间件主目录: <span class="token punctuation">[</span>/app/Oracle/Middleware<span class="token punctuation">]</span>

产品安装目录:


   <span class="token number">1</span><span class="token operator">|</span>WebLogic Server: <span class="token punctuation">[</span>/app/Oracle/Middleware/wlserver_10.3<span class="token punctuation">]</span>
   <span class="token number">2</span><span class="token operator">|</span>Oracle Coherence: <span class="token punctuation">[</span>/app/Oracle/Middleware/coherence_3.7<span class="token punctuation">]</span>

输入要选择的索引号 或 <span class="token punctuation">[</span>退出<span class="token punctuation">]</span><span class="token punctuation">[</span>上一步<span class="token punctuation">]</span><span class="token punctuation">[</span>下一步<span class="token punctuation">]</span><span class="token operator">&gt;</span> 直接回车

<span class="token operator">&lt;</span>-------------------- Oracle Installer - WebLogic <span class="token number">10.3</span>.6.0 -------------------<span class="token operator">&gt;</span>

将安装下列产品和 JDK:
-----------------------------

    WebLogic Platform <span class="token number">10.3</span>.6.0
    <span class="token operator">|</span>_____WebLogic Server
    <span class="token operator">|</span>    <span class="token operator">|</span>_____Core Application Server
    <span class="token operator">|</span>    <span class="token operator">|</span>_____Administration Console
    <span class="token operator">|</span>    <span class="token operator">|</span>_____Configuration Wizard and Upgrade Framework
    <span class="token operator">|</span>    <span class="token operator">|</span>_____Web <span class="token number">2.0</span> HTTP Pub-Sub Server
    <span class="token operator">|</span>    <span class="token operator">|</span>_____WebLogic SCA
    <span class="token operator">|</span>    <span class="token operator">|</span>_____WebLogic JDBC Drivers
    <span class="token operator">|</span>    <span class="token operator">|</span>_____Third Party JDBC Drivers
    <span class="token operator">|</span>    <span class="token operator">|</span>_____WebLogic Server Clients
    <span class="token operator">|</span>    <span class="token operator">|</span>_____WebLogic Web Server Plugins
    <span class="token operator">|</span>    <span class="token operator">|</span>_____UDDI and Xquery Support
    <span class="token operator">|</span>    <span class="token operator">|</span>_____Evaluation Database
    <span class="token operator">|</span>_____Oracle Coherence
         <span class="token operator">|</span>_____Coherence Product Files

    *安装预计所需的大小: <span class="token number">690.3</span> MB

输入 <span class="token punctuation">[</span>退出<span class="token punctuation">]</span><span class="token punctuation">[</span>上一步<span class="token punctuation">]</span><span class="token punctuation">[</span>下一步<span class="token punctuation">]</span><span class="token operator">&gt;</span> 直接回车
十二月 01, <span class="token number">2019</span> <span class="token number">2</span>:01:05 下午 java.util.prefs.FileSystemPreferences<span class="token variable">$1</span> run
信息: Created user preferences directory.

<span class="token operator">&lt;</span>-------------------- Oracle Installer - WebLogic <span class="token number">10.3</span>.6.0 -------------------<span class="token operator">&gt;</span>

正在安装文件<span class="token punctuation">..</span>.

<span class="token number">0</span>%          <span class="token number">25</span>%          <span class="token number">50</span>%          <span class="token number">75</span>%          <span class="token number">100</span>%
<span class="token punctuation">[</span>---------------------<span class="token operator">|</span>---------------------<span class="token operator">|</span>--------------------<span class="token operator">|</span>----------------------<span class="token punctuation">]</span>
<span class="token punctuation">[</span>******************************************************<span class="token punctuation">]</span>

正在执行字符串替换<span class="token punctuation">..</span>.

<span class="token operator">&lt;</span>-------------------- Oracle Installer - WebLogic <span class="token number">10.3</span>.6.0 -------------------<span class="token operator">&gt;</span>

正在配置 OCM<span class="token punctuation">..</span>.

<span class="token number">0</span>%          <span class="token number">25</span>%          <span class="token number">50</span>%          <span class="token number">75</span>%          <span class="token number">100</span>%
<span class="token punctuation">[</span>------------<span class="token operator">|</span>------------<span class="token operator">|</span>-------------<span class="token operator">|</span>-------------<span class="token punctuation">]</span> 
<span class="token punctuation">[</span>*****************************************************<span class="token punctuation">]</span>

正在创建域<span class="token punctuation">..</span>.

<span class="token operator">&lt;</span>-------------------- Oracle Installer - WebLogic <span class="token number">10.3</span>.6.0 -------------------<span class="token operator">&gt;</span>

安装完成

祝贺您<span class="token operator">!</span> 安装完成。

按 <span class="token punctuation">[</span>Enter<span class="token punctuation">]</span> 键继续或键入 <span class="token punctuation">[</span>退出<span class="token punctuation">]</span><span class="token operator">&gt;</span> 

<span class="token operator">&lt;</span>-------------------- Oracle Installer - WebLogic <span class="token number">10.3</span>.6.0 -------------------<span class="token operator">&gt;</span>

清除过程正在进行中<span class="token punctuation">..</span>.
</code></pre> 
<h3><a id="_234"></a>三、创建集群：</h3> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>weblogic@localhost app<span class="token punctuation">]</span>$ <span class="token builtin class-name">cd</span> /app/Oracle/Middleware/wlserver_10.3/common/bin
<span class="token punctuation">[</span>weblogic@localhost app<span class="token punctuation">]</span>$ ./config.sh
</code></pre> 
<p>第一步，选择创建新的Weblogic域，直接回车即可<br> <img src="https://images2.imgbox.com/9e/3d/PxjGSeGI_o.png" alt="在这里插入图片描述"></p> 
<p>第二步，选择默认组件，直接回车<br> <img src="https://images2.imgbox.com/63/04/f6JR17gL_o.png" alt="在这里插入图片描述"></p> 
<p>第三步，使用默认选项，直接回车</p> 
<p><img src="https://images2.imgbox.com/ad/89/Zi8aXLaf_o.png" alt="在这里插入图片描述"></p> 
<p>第四步，创建域信息，输入域名称domain，可以随便填写<br> <img src="https://images2.imgbox.com/2a/59/GKVosML9_o.png" alt="在这里插入图片描述"></p> 
<p>第五步，选择安装位置，使用默认即可，直接回车<br> <img src="https://images2.imgbox.com/79/d4/UfN4l88m_o.png" alt="在这里插入图片描述"></p> 
<p>第六步，设置管理员密码<br> <img src="https://images2.imgbox.com/06/e7/FeR3YFN0_o.png" alt="在这里插入图片描述"></p> 
<p>第七步，确认管理员密码<br> <img src="https://images2.imgbox.com/8d/d1/sgo3MLyi_o.png" alt="在这里插入图片描述"></p> 
<p>第八步，选择生产模式，输入2，按回车<br> <img src="https://images2.imgbox.com/2d/12/eSOwsB53_o.png" alt="在这里插入图片描述"></p> 
<p>第九步，选择Java组件，使用默认即可<br> <img src="https://images2.imgbox.com/01/3e/vl4E5k5V_o.png" alt="在这里插入图片描述"></p> 
<p>第十步，都不选，直接回车。受管服务器、集群和计算机我们进入控制台后再创建，此处不选。<br> <img src="https://images2.imgbox.com/73/27/3w3JHaYF_o.png" alt="在这里插入图片描述"></p> 
<p>最后，集群创建完成。<br> <img src="https://images2.imgbox.com/7a/5c/bThB17Ax_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_275"></a>四、修改配置文件：</h3> 
<p>1、内存配置：<br> （1）修改/app/Middleware/weblogic/user_projects/domains/domain/bin目录下的setDomainEnv.sh文件，找到如下部分：</p> 
<pre><code class="prism language-bash">……
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">${JAVA_VENDOR}</span>"</span> <span class="token operator">=</span> <span class="token string">"Sun"</span> <span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token keyword">then</span>
      <span class="token assign-left variable">WLS_MEM_ARGS_64BIT</span><span class="token operator">=</span><span class="token string">"-Xms256m -Xmx512m"</span>
      <span class="token builtin class-name">export</span> WLS_MEM_ARGS_64BIT
      <span class="token assign-left variable">WLS_MEM_ARGS_32BIT</span><span class="token operator">=</span><span class="token string">"-Xms256m -Xmx512m"</span>
      <span class="token builtin class-name">export</span> WLS_MEM_ARGS_32BIT
<span class="token keyword">else</span>
      <span class="token assign-left variable">WLS_MEM_ARGS_64BIT</span><span class="token operator">=</span><span class="token string">"-Xms512m -Xmx512m"</span>
      <span class="token builtin class-name">export</span> WLS_MEM_ARGS_64BIT
      <span class="token assign-left variable">WLS_MEM_ARGS_32BIT</span><span class="token operator">=</span><span class="token string">"-Xms512m -Xmx512m"</span>
      <span class="token builtin class-name">export</span> WLS_MEM_ARGS_32BIT
<span class="token keyword">fi</span>
</code></pre> 
<p>将 WLS_MEM_ARGS_64BIT="-Xms256m -Xmx512m"修改为：</p> 
<pre><code class="prism language-bash"><span class="token assign-left variable">WLS_MEM_ARGS_64BIT</span><span class="token operator">=</span><span class="token string">"-Xms2048m -Xmx2048m"</span>
</code></pre> 
<p>（2）添加内存溢出参数<br> 修改/app/Middleware/weblogic/user_projects/domains/domain/bin目录下的setDomainEnv.sh文件，找到第278行</p> 
<pre><code class="prism language-bash"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">${JAVA_VENDOR}</span>"</span> <span class="token operator">=</span> <span class="token string">"Sun"</span> <span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token keyword">then</span>
       <span class="token assign-left variable">MEM_ARGS</span><span class="token operator">=</span><span class="token string">"<span class="token variable">${MEM_ARGS}</span> <span class="token variable">${MEM_DEV_ARGS}</span> <span class="token variable">${MEM_MAX_PERM_SIZE}</span> "</span>
       <span class="token builtin class-name">export</span> MEM_ARGS
<span class="token keyword">fi</span>
</code></pre> 
<p>修改为：</p> 
<pre><code class="prism language-bash"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">${JAVA_VENDOR}</span>"</span> <span class="token operator">=</span> <span class="token string">"Sun"</span> <span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token keyword">then</span>
       <span class="token assign-left variable">MEM_ARGS</span><span class="token operator">=</span><span class="token string">"<span class="token variable">${MEM_ARGS}</span> <span class="token variable">${MEM_DEV_ARGS}</span> <span class="token variable">${MEM_MAX_PERM_SIZE}</span> -XX:+HeapDumpOnOutOfMemoryError"</span>
       <span class="token builtin class-name">export</span> MEM_ARGS
<span class="token keyword">fi</span>
</code></pre> 
<p>2、修改startManagedWebLogic.sh启动文件<br> 修改/app/Middleware/weblogic/user_projects/domains/domain/bin目录下的startManagedWebLogic.sh文件，修改为如下：</p> 
<pre><code class="prism language-bash"><span class="token function-name function">usage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
      <span class="token builtin class-name">echo</span> <span class="token string">"Need to set SERVER_NAME and ADMIN_URL environment variables or specify"</span>
      <span class="token builtin class-name">echo</span> <span class="token string">"them in command line:"</span>
      <span class="token builtin class-name">echo</span> <span class="token string">"Usage: <span class="token variable">$1</span> SERVER_NAME {ADMIN_URL}"</span>
      <span class="token builtin class-name">echo</span> <span class="token string">"for example:"</span>
      <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$1</span> managedserver1 http://10.1.1.6:7001"</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>确保managedserver1为我们上面设置的控制台地址和端口。<br>  <br> 5、初次启动控制台：<br> 进入/app/Middleware/weblogic/user_projects/domains/domain/bin目录，执行startWeblogic.sh，启动控制台：</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>weblogic@localhost bin<span class="token punctuation">]</span>$ ./startWebLogic.sh
</code></pre> 
<p>启动过程中可以看到需要输入用户名密码：<br> <img src="https://images2.imgbox.com/be/be/Siz0MLuL_o.png" alt="在这里插入图片描述"></p> 
<p>此时输入我们上面的创建domain时配置的用户名weblogic和密码weblogic11按回车即可。<br> 接下来可以看到domain状态转为RUNNING MODE：<br> <img src="https://images2.imgbox.com/73/44/tWlXeiDq_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/16/cf/C7B6eIFu_o.png" alt="在这里插入图片描述"></p> 
<p>输入用户名密码登入：</p> 
<p><img src="https://images2.imgbox.com/54/1c/vA53ji4A_o.png" alt="在这里插入图片描述"></p> 
<p>至此，我们的控制台就启动完成了。</p> 
<p>注：上面输入用户名和密码的地方我们可以省掉，将其写入认证文件中，启动过程中主动读取，这样就不用我们手动输入了。步骤如下：<br> 在进入/app/ /Oracle/Middleware/user_projects/domains/domain/servers/AdminServer目录，创建security文件夹，在security文件夹内创建boot.properties，内容为：</p> 
<pre><code class="prism language-bash"><span class="token assign-left variable">username</span><span class="token operator">=</span>weblogic
<span class="token assign-left variable">password</span><span class="token operator">=</span>weblogic11
</code></pre> 
<h3><a id="_362"></a>五、创建集群、服务器及部署项目</h3> 
<p>（1）创建集群<br> 进入控制台，点击“锁定并编辑”》左侧》domain》环境》集群，选择新建，输入集群名称，：</p> 
<p><img src="https://images2.imgbox.com/37/7f/1BFCViON_o.png" alt="在这里插入图片描述"></p> 
<p>点击确定即可，可以在集群列表看到我们刚创建的集群：<img src="https://images2.imgbox.com/30/4a/dLDk17yg_o.png" alt="在这里插入图片描述"></p> 
<p>（2）在新建的集群内添加服务器节点<br> 点击集群名称，配置》服务器》添加<br> <img src="https://images2.imgbox.com/78/ae/sLEHoeXG_o.png" alt="在这里插入图片描述"></p> 
<p>输入服务器名称，监听地址和端口，端口不能与控制台监听节点的7001端口冲突，所以我们这里使用7011端口：<img src="https://images2.imgbox.com/70/8b/cJ7taJ2W_o.png" alt="在这里插入图片描述"></p> 
<p>点击完成，可以看到新建的服务器：<br> <img src="https://images2.imgbox.com/4b/0e/73zgc5TZ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_380"></a>六、部署项目</h3> 
<p>左侧》部署》控制》安装》<br> <img src="https://images2.imgbox.com/42/87/wEOZ2d4b_o.png" alt="在这里插入图片描述"><br> 点击安装，选择web.war安装包<br> <img src="https://images2.imgbox.com/75/82/JOfcqR4d_o.png" alt="在这里插入图片描述"></p> 
<p>点击下一步，安装为应用程序<br> <img src="https://images2.imgbox.com/bd/25/G8UPctxG_o.png" alt="在这里插入图片描述"></p> 
<p>选择集群中的所有服务器<br> <img src="https://images2.imgbox.com/d0/9c/XGHHjShg_o.png" alt="在这里插入图片描述"></p> 
<p>安装应用程序辅助程序，直接下一步<br> <img src="https://images2.imgbox.com/b7/fe/ye1Mo3wu_o.png" alt="在这里插入图片描述"><br> 直接点击完成<br> <img src="https://images2.imgbox.com/41/20/R8a5muFc_o.png" alt="在这里插入图片描述"><br> 点击保存<br> <img src="https://images2.imgbox.com/04/d2/ZLBE5tli_o.png" alt="在这里插入图片描述"><br> 最后点击左上角“激活更改”即可。</p> 
<h3><a id="_401"></a>七、初次启动受管服务器节点</h3> 
<p>通过控制台刚创建好的服务器节点是无法通过控制台直接启动的，我们需要从后台使用命令行启动，过程如下：</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>weblogic@localhost app<span class="token punctuation">]</span>$ <span class="token builtin class-name">cd</span> /app/Oracle/Middleware/user_projects/domains/domain/bin/
<span class="token punctuation">[</span>weblogic@localhost bin<span class="token punctuation">]</span>$ ./startManagedWebLogic.sh Server-0 http://10.1.1.6:7011
</code></pre> 
<p>初次启动可能会失败，基本都是因为用户名和密码的问题，执行完上面的命令后，会发现在/app/Oracle/Middleware/user_projects/domains/domain/servers目录下多了个Server-0，这个文件夹必须在上面启动节点时自动创建的，这是我们创建的服务器节点的目录。下面我们需要在Server-0目录下创建boot.propertites文件：</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>weblogic@localhost Server-0<span class="token punctuation">]</span>$ <span class="token builtin class-name">pwd</span>
/app/Oracle/Middleware/user_projects/domains/domain/servers/Server-0
<span class="token punctuation">[</span>weblogic@localhost Server-0<span class="token punctuation">]</span>$ <span class="token function">mkdir</span> security
<span class="token punctuation">[</span>weblogic@localhost Server-0<span class="token punctuation">]</span>$ <span class="token builtin class-name">cd</span> security/
<span class="token punctuation">[</span>weblogic@localhost security<span class="token punctuation">]</span>$ <span class="token function">vim</span> boot.properties
<span class="token punctuation">[</span>weblogic@localhost security<span class="token punctuation">]</span>$ <span class="token function">cat</span> boot.properties 
<span class="token assign-left variable">username</span><span class="token operator">=</span>weblogic
<span class="token assign-left variable">password</span><span class="token operator">=</span>weblogic11
<span class="token punctuation">[</span>weblogic@localhost security<span class="token punctuation">]</span>$
</code></pre> 
<p>创建完成后，重启控制台：</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>weblogic@localhost app<span class="token punctuation">]</span>$ <span class="token function">ps</span> -ef<span class="token operator">|</span><span class="token function">grep</span> <span class="token function">java</span>
weblogic  <span class="token number">27778</span>  <span class="token number">27732</span>  <span class="token number">0</span> <span class="token number">17</span>:25 pts/2    00:00:38 /usr/local/java/bin/java <span class="token parameter variable">-server</span> <span class="token parameter variable">-Xms256m</span> <span class="token parameter variable">-Xmx512m</span> <span class="token parameter variable">-XX:MaxPermSize</span><span class="token operator">=</span>256m <span class="token parameter variable">-Dweblogic.Name</span><span class="token operator">=</span>AdminServer <span class="token parameter variable">-Djava.security.policy</span><span class="token operator">=</span>/app/Oracle/Middleware/wlserver_10.3/server/lib/weblogic.policy <span class="token parameter variable">-Dweblogic.ProductionModeEnabled</span><span class="token operator">=</span>true <span class="token parameter variable">-Djava.security.egd</span><span class="token operator">=</span>file:/dev/./urandom <span class="token parameter variable">-da</span> <span class="token parameter variable">-Dplatform.home</span><span class="token operator">=</span>/app/Oracle/Middleware/wlserver_10.3 <span class="token parameter variable">-Dwls.home</span><span class="token operator">=</span>/app/Oracle/Middleware/wlserver_10.3/server <span class="token parameter variable">-Dweblogic.home</span><span class="token operator">=</span>/app/Oracle/Middleware/wlserver_10.3/server <span class="token parameter variable">-Dweblogic.management.discover</span><span class="token operator">=</span>true <span class="token parameter variable">-Dwlw.iterativeDev</span><span class="token operator">=</span>false <span class="token parameter variable">-Dwlw.testConsole</span><span class="token operator">=</span>false <span class="token parameter variable">-Dwlw.logErrorsToConsole</span><span class="token operator">=</span>false <span class="token parameter variable">-Dweblogic.ext.dirs</span><span class="token operator">=</span>/app/Oracle/Middleware/patch_wls1036/profiles/default/sysext_manifest_classpath:/app/Oracle/Middleware/patch_ocp371/profiles/default/sysext_manifest_classpath weblogic.Server
weblogic  <span class="token number">28302</span>  <span class="token number">17521</span>  <span class="token number">0</span> <span class="token number">18</span>:33 pts/2    00:00:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto <span class="token function">java</span>
<span class="token punctuation">[</span>weblogic@localhost app<span class="token punctuation">]</span>$ <span class="token function">kill</span> <span class="token parameter variable">-9</span> <span class="token number">27778</span>
<span class="token punctuation">[</span>weblogic@localhost app<span class="token punctuation">]</span>$ <span class="token function">ps</span> -ef<span class="token operator">|</span><span class="token function">grep</span> <span class="token function">java</span>
weblogic  <span class="token number">28305</span>  <span class="token number">17521</span>  <span class="token number">0</span> <span class="token number">18</span>:33 pts/2    00:00:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto <span class="token function">java</span>
<span class="token punctuation">[</span>weblogic@localhost app<span class="token punctuation">]</span>$ ./admin.sh
</code></pre> 
<p>控制台启动完成后，启动该节点：</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>weblogic@localhost app<span class="token punctuation">]</span>$ /app/Oracle/Middleware/user_projects/domains/domain/bin/startManagedWebLogic.sh Server-0 http://10.1.1.6:7001 
</code></pre> 
<p>Server-0后面必须是控制台地址。<br> 现在登陆控制台可以看到Server-0节点是RUNNING状态：<br> <img src="https://images2.imgbox.com/b5/84/ILQ4Oqnz_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_446"></a>八、创建启停脚本：</h3> 
<p>（1）创建控制台启动脚本</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>weblogic@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /app/admin.sh </span>
<span class="token assign-left variable">SERVER_LOG</span><span class="token operator">=</span>/app/log/server.log
/app/Oracle/Middleware/user_projects/domains/ccdomain22/bin/startWebLogic.sh <span class="token operator">&gt;&gt;</span><span class="token variable">$SERVER_LOG</span> <span class="token operator">&amp;</span>
<span class="token function">tail</span> <span class="token parameter variable">-f</span> /app/log/server.log
</code></pre> 
<p>（2）创建Server-0节点重启脚本<br> 在weblogic用户的家目录创建Server-0_restart.sh文件，并写入以下内容：</p> 
<pre><code class="prism language-bash"><span class="token function">ps</span> -ef<span class="token operator">|</span><span class="token function">grep</span> weblogic<span class="token operator">|</span><span class="token function">grep</span> <span class="token parameter variable">-v</span> <span class="token function">grep</span><span class="token operator">|</span><span class="token function">grep</span> Server-0<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'{print $2}'</span><span class="token operator">|</span><span class="token function">xargs</span> <span class="token function">kill</span> <span class="token parameter variable">-9</span>
<span class="token builtin class-name">cd</span> /app/Oracle/Middleware/user_projects/domains/domain/servers/Server-0
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> cache  data  logs  stage  tmp
<span class="token assign-left variable">START_WL_LOG</span><span class="token operator">=</span>/app/log/Server-0_start.log
<span class="token function">nohup</span> /app/Oracle/Middleware/user_projects/domains/domain/bin/startManagedWebLogic.sh Server-0 http://10.1.1.6:7001 <span class="token operator">&gt;&gt;</span> <span class="token variable">$START_WL_LOG</span> <span class="token operator">&amp;</span>
<span class="token function">tail</span> <span class="token parameter variable">-f</span> <span class="token variable">$START_WL_LOG</span>
<span class="token builtin class-name">exit</span>
</code></pre> 
<p>（3）创建Server-0节点启动脚本</p> 
<pre><code class="prism language-bash"><span class="token assign-left variable">START_WL_LOG</span><span class="token operator">=</span>/app/log/Server-0_start.log
<span class="token function">nohup</span> /app/Oracle/Middleware/user_projects/domains/domain/bin/startManagedWebLogic.sh Server-0 http://10.1.1.6:7001 <span class="token operator">&gt;&gt;</span> <span class="token variable">$START_WL_LOG</span> <span class="token operator">&amp;</span>
<span class="token function">tail</span> <span class="token parameter variable">-f</span> <span class="token variable">$START_WL_LOG</span>
<span class="token builtin class-name">exit</span>
</code></pre> 
<p>（4）创建Server-0节点停止脚本</p> 
<pre><code class="prism language-bash"><span class="token function">ps</span> -ef<span class="token operator">|</span><span class="token function">grep</span> weblogic<span class="token operator">|</span><span class="token function">grep</span> <span class="token parameter variable">-v</span> <span class="token function">grep</span><span class="token operator">|</span><span class="token function">grep</span> callapp6-1<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'{print $2}'</span><span class="token operator">|</span><span class="token function">xargs</span> <span class="token function">kill</span> <span class="token parameter variable">-9</span>
<span class="token builtin class-name">exit</span>
</code></pre> 
<h3><a id="weblogic_486"></a>九、weblogic漏洞处置：</h3> 
<p>（1）Java反序列化漏洞<br> 进入weblogic安装目录：</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@bogon ~<span class="token punctuation">]</span><span class="token comment"># cd /app</span>
<span class="token punctuation">[</span>root@bogon app<span class="token punctuation">]</span><span class="token comment"># grep -R InvokerTransformer ./</span>
Binary <span class="token function">file</span> ./Oracle/Middleware/modules/com.bea.core.apache.commons.collections_3.2.0.jar
</code></pre> 
<p>使用文件管理器，打开该jar包，并将其中的org/apache/commons/collections/functors/InvokerTransformer.class文件删除，然后重启weblogic控制台和控制台上面的所有节点。</p> 
<p>（2）weblogic SSRF漏洞整改<br> 具体情况描述如下：<br> 访问如下地址<br> http://10.1.1.6:7011/uddiexplorer/SearchPublicRegistries.jsp?operator=http://10.1.1.6:7011&amp;rdoSearch=name&amp;txtSearchname=sdf&amp;txtSearchkey=&amp;txtSearchfor=&amp;selfor=Business+location&amp;btnSubmit=Search<br> <img src="https://images2.imgbox.com/29/45/BE3LmEHs_o.png" alt="在这里插入图片描述"><br> 删除uddiexplorer.war</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>weblogic@localhost app<span class="token punctuation">]</span>$ <span class="token builtin class-name">cd</span> /app/Oracle/Middleware/wlserver_10.3/server/
<span class="token punctuation">[</span>weblogic@localhost server<span class="token punctuation">]</span>$ <span class="token function">tar</span> <span class="token function">tar</span> –cvf lib_20191211.tar lib
<span class="token punctuation">[</span>weblogic@localhost server<span class="token punctuation">]</span>$ <span class="token builtin class-name">cd</span> lib
<span class="token punctuation">[</span>weblogic@localhost lib<span class="token punctuation">]</span>$ <span class="token function">rm</span> –rf uddiexplorer.war
</code></pre> 
<p>重启该weblogic下所有的应用服务。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b3d4065abe790cac3f944846909658fa/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">本地上传到服务器的视频不能在线播放怎么办？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8261f46e0419c895225a63cae701731a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Apache RocketMQ之集成RocketMQ_MQTT 安装部署协议</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>