<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java基础知识点笔记（一）：java中的取整与四舍五入 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java基础知识点笔记（一）：java中的取整与四舍五入" />
<meta property="og:description" content="今天编码时，需要对数据进行保留两位小数处理，结果卡壳了，百度了一下解决掉后，结果返回到前端的值不是预想值，特此整理，以备后续遗忘。
一.java中取整数的方式 1.直接使用强制转换 public static void roundOne(){ System.out.println(&#34;正数：(int)10.12 = &#34; &#43; (int)10.12); System.out.println(&#34;负数：(int)-10.12 = &#34; &#43; (int)-10.12); System.out.println(&#34;---------------------------------&#34;); System.out.println(&#34;正数：(int)1011111111111111111111.12 = &#34; &#43; (int)1011111111111111111111.12); System.out.println(&#34;负数：(int)-1011111111111111111111.12 = &#34; &#43; (int)-1011111111111111111111.12); } 直接用强制转换的方式将浮点型数据转换为整型时，直接去掉小数点后部分的精度，取整数部分；直接强制取整有精度风险，一方面是小数位损失，另一方面当浮点型数字超过整型数字最大值时，会发生溢出。实际工程中，如果这两种因素都不会对工程产生影响，可以使用，否则不建议使用。
2.java中提供的取整的函数
java中提供了三种取整的函数：
(1).Math.ceil(double num);
(2).Math.floor(double num);
(3).Math.round(double num);
public static void roundTwo(){ System.out.println(&#34;正数：Math.ceil(10.12) = &#34; &#43; Math.ceil(10.12)); System.out.println(&#34;负数：Math.ceil(-10.12) = &#34; &#43; Math.ceil(-10.12)); System.out.println(&#34;正数：Math.ceil(101111111111111111111.12) = &#34; &#43; Math.ceil(101111111111111111111.12)); System.out.println(&#34;负数：Math.ceil(-101111111111111111111.12) = &#34; &#43; Math.ceil(-101111111111111111111.12)); System.out.println(&#34;---------------------------------&#34;); System.out.println(&#34;正数：Math.floor(10.12) = &#34; &#43; Math.floor(10.12)); System.out.println(&#34;负数：Math.floor(-10.12) = &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/f30f97230ecbdf83044ab01cacd23f9f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-07-19T20:25:06+08:00" />
<meta property="article:modified_time" content="2017-07-19T20:25:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java基础知识点笔记（一）：java中的取整与四舍五入</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3><br> </h3> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px">    今天编码时，需要对数据进行保留两位小数处理，结果卡壳了，百度了一下解决掉后，结果返回到前端的值不是预想值，特此整理，以备后续遗忘。</span><br> </p> 
<h3><span style="font-family:KaiTi_GB2312; font-size:24px">一.java中取整数的方式</span></h3> 
<h4><span style="font-family:KaiTi_GB2312; font-size:18px">1.直接使用强制转换</span></h4> 
<p></p> 
<pre><code class="language-java">public static void roundOne(){
        System.out.println("正数：(int)10.12 = " + (int)10.12);   
        System.out.println("负数：(int)-10.12 = " + (int)-10.12);  
        System.out.println("---------------------------------");
        System.out.println("正数：(int)1011111111111111111111.12 = " + (int)1011111111111111111111.12);   
        System.out.println("负数：(int)-1011111111111111111111.12 = " + (int)-1011111111111111111111.12);  
    }</code></pre> 
<p></p> 
<span style="font-family:KaiTi_GB2312"></span> 
<p></p> 
<span style="font-family:KaiTi_GB2312"><img src="https://images2.imgbox.com/37/5d/fd02K4cu_o.png" alt=""><br> </span> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px">    直接用强制转换的方式将浮点型数据转换为整型时，直接去掉小数点后部分的精度，取整数部分；直接强制取整有精度风险，一方面是小数位损失，另一方面当浮点型数字超过整型数字最大值时，会发生溢出。实际工程中，如果这两种因素都不会对工程产生影响，可以使用，否则不建议使用。</span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><br> </span></p> 
<h4> </h4><p><span style="font-family:KaiTi_GB2312; font-size:18px">2.java中提供的取整的函数</span></p>  
<p><span style="font-family:KaiTi_GB2312; font-size:18px">  java中提供了三种取整的函数：<br>   (1).Math.ceil(double num);<br>   (2).Math.floor(double num);<br>   (3).Math.round(double num);</span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"></span></p> 
<pre><code class="language-java">   public static void roundTwo(){
        System.out.println("正数：Math.ceil(10.12) = " + Math.ceil(10.12));
        System.out.println("负数：Math.ceil(-10.12) = " + Math.ceil(-10.12));
        System.out.println("正数：Math.ceil(101111111111111111111.12) = " + Math.ceil(101111111111111111111.12));
        System.out.println("负数：Math.ceil(-101111111111111111111.12) = " + Math.ceil(-101111111111111111111.12));
        System.out.println("---------------------------------");
        System.out.println("正数：Math.floor(10.12) = " + Math.floor(10.12));
        System.out.println("负数：Math.floor(-10.12) = " + Math.floor(-10.12));
        System.out.println("正数：Math.floor(101111111111111111111.12) = " + Math.floor(101111111111111111111.12));
        System.out.println("负数：Math.floor(-101111111111111111111.12) = " + Math.floor(-101111111111111111111.12));
    }</code></pre> 
<br> 
<p></p> 
<span style="font-family:KaiTi_GB2312"><img src="https://images2.imgbox.com/ac/65/q7FfaioQ_o.png" alt=""><br> </span> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><br> </span></p> 
<p><span style="font-family:KaiTi_GB2312"><span style="font-size:18px"><span style="font-size:18px">    Math.ceil(double num)</span>;函数是取浮点数的天花板数，即不小于num的最小整数；<span style="font-size:18px">Math.floor(double num)函数是取地板数，即不大于num的最大整数。这两个函数的返回值均是double型（java中当其值大于<span style="font-size:14px"><span lang="EN-US">9999999.0</span></span>时，默认用科学记数法表示），如果超过没有特殊情况，或者说规则很明确，就一种规则。</span></span></span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><span style="font-size:18px"><br> </span></span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><span style="font-size:18px"></span></span></p> 
<pre><code class="language-java">public static void roundThree(){
        System.out.println("小数点后第一位=5");   
        System.out.println("正数：Math.round(10.5) = " + Math.round(10.5));   
        System.out.println("负数：Math.round(-10.5) = " + Math.round(-10.5));   
        System.out.println();   
  
        System.out.println("小数点后第一位&lt;5");   
        System.out.println("正数：Math.round(10.46) = " + Math.round(10.46));   
        System.out.println("负数：Math.round(-10.46) = " + Math.round(-10.46));   
        System.out.println();   
  
        System.out.println("小数点后第一位&gt;5");   
        System.out.println("正数：Math.round(10.68) = " + Math.round(10.68));   
        System.out.println("负数：Math.round(-10.68) = " + Math.round(-10.68));
    }</code></pre> 
<br> 
<p></p> 
<span style="font-family:KaiTi_GB2312"><img src="https://images2.imgbox.com/ec/c6/28yJo5mm_o.png" alt=""><br>  </span> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"> Math.round(double num)函数是取整函数，该函数只关注小数点后第一位小数值，具体规则如下：<br> (1).参数的小数点后第一位&lt;5，运算结果为参数整数部分。<br> (2).参数的小数点后第一位&gt;5，运算结果为参数整数部分绝对值+1，符号（即正负）不变。<br> (3).参数的小数点后第一位=5，正数运算结果为整数部分+1，负数运算结果为整数部分。<br> 总结：大于五全部加，等于五正数加，小于五全不加。</span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><br> </span></p> 
<h3><span style="font-family:KaiTi_GB2312; font-size:18px">二.Java中四舍五入的方法<br> </span></h3> 
<h4><span style="font-family:KaiTi_GB2312; font-size:18px">1.使用BigDecimal对象的方式</span></h4> 
<span style="font-family:KaiTi_GB2312; font-size:12px"></span> 
<pre><code class="language-java">public static void roundFour(){
        double f = 10.2345;
        BigDecimal b0 = new BigDecimal(f);
        BigDecimal b1 = new BigDecimal(f);
        BigDecimal b2 = new BigDecimal(f);
        BigDecimal b3 = new BigDecimal(f);
        BigDecimal b4 = new BigDecimal(f);
        BigDecimal b5 = new BigDecimal(f);
        BigDecimal b6 = new BigDecimal(f);
        BigDecimal b7 = new BigDecimal("10.2345");
        
        double f0 = b0.setScale(3, BigDecimal.ROUND_UP).doubleValue();
        double f1 = b1.setScale(3, BigDecimal.ROUND_DOWN).doubleValue();
        double f2 = b2.setScale(3, BigDecimal.ROUND_CEILING).doubleValue();
        double f3 = b3.setScale(3, BigDecimal.ROUND_FLOOR).doubleValue();
        double f4 = b4.setScale(3, BigDecimal.ROUND_HALF_UP).doubleValue();
        double f5 = b5.setScale(3, BigDecimal.ROUND_HALF_DOWN).doubleValue();
        double f6 = b6.setScale(3, BigDecimal.ROUND_HALF_EVEN).doubleValue();
        double f7 = b7.setScale(4, BigDecimal.ROUND_UNNECESSARY).doubleValue();
        
        System.out.println(f + "使用  远离零方向舍入（ROUND_UP）方式四舍五入结果为：" + f0);
        System.out.println(f + "使用  趋向零方向舍入（ROUND_DOWN）方式四舍五入结果为：" + f1);
        System.out.println(f + "使用  向正无穷方向舍入（ROUND_CEILING）方式四舍五入结果为：" + f2);
        System.out.println(f + "使用  向负无穷方向舍入（ROUND_FLOOR）方式四舍五入结果为：" + f3);
        System.out.println(f + "使用  最近数字舍入(5进)（ROUND_HALF_UP）方式四舍五入结果为：" + f4);
        System.out.println(f + "使用  最近数字舍入(5舍)（ROUND_HALF_DOWN）方式四舍五入结果为：" + f5);
        System.out.println(f + "使用  银行家舍入法（ROUND_HALF_EVEN）方式四舍五入结果为：" + f6);
        System.out.println(f + "使用  不需要舍入模式（ROUND_UNNECESSARY）方式结果为：" + f7);
    }</code></pre> 
<br> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><span style="font-size:12px"><img src="https://images2.imgbox.com/2e/84/1xqoM9td_o.png" alt=""><br> </span>    <br> </span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><span style="font-size:18px">BigDecimal</span>中有8中四舍五入设置方式：</span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px">(1).ROUND_UP:远离零方向舍入。向绝对值最大的方向舍入，只要舍弃位非0即进位。<br> </span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px">(2).ROUND_DOWN:趋向零方向舍入。向绝对值最小的方向输入，所有的位都要舍弃，不存在进位情况。<br> </span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px">(3).ROUND_CEILING:向正无穷方向舍入。向正最大方向靠拢。若是正数，舍入行为类似于ROUND_UP，若为负数，舍入行为类似于ROUND_DOWN。Math.round()方法就是使用的此模式。</span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><span style="font-size:18px">(4).ROUND_FLOOR:向负无穷方向舍入。向负无穷方向靠拢。若是正数，舍入行为类似于ROUND_DOWN；若为负数，舍入行为类似于ROUND_UP。</span><br> </span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><span style="font-size:18px">(5).ROUND_HALF_UP:最近数字舍入(5进)。这是我们最经典的四舍五入。</span><br> </span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><span style="font-size:18px">(6).ROUND_HALF_DOWN:最近数字舍入(5舍)。在这里5是要舍弃的。</span><br> </span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><span style="font-size:18px">(7).ROUND_HALF_EVEN:银行家舍入法。</span></span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><span style="font-size:18px">(8).ROUND_UNNECESSARY:计算结果是精确的，不需要舍入模式。</span><br> </span></p> 
<h5><span style="font-family:KaiTi_GB2312"><span style="font-size:18px">    a.<span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px">ROUND_HALF_DOWN</span></span></span>解释</span></span></h5> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px">    第(6)中四舍五入方式<span style="font-size:18px"><span style="font-size:18px">ROUND_HALF_DOWN</span></span>解释的是遇到5要舍弃，但10.2345保留3位小数后结果是10.235，并没有直接舍去精确位的5，还是进了1，为什么呢？</span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"></span></p> 
<pre><code class="language-java">public static void roundFive(){
        //通过double类型作为参数实例化BigDecimal对象
        double f = 10.2345;
        BigDecimal b5 = new BigDecimal(f);
        System.out.println("b5:" + b5);
        double f5 = b5.setScale(3, BigDecimal.ROUND_HALF_DOWN).doubleValue();
        System.out.println("ROUND_HALF_DOWN方式处理后：" + f5);
        System.out.println("----------------------------");
        //通过字符串类型作为参数实例化BigDecimal对象
        BigDecimal b5_1 = new BigDecimal("10.2345");
        System.out.println("b5_1:" + b5_1);
        double f5_1 = b5_1.setScale(3, BigDecimal.ROUND_HALF_DOWN).doubleValue();
        System.out.println("ROUND_HALF_DOWN方式处理后：" + f5_1);
        System.out.println("----------------------------");
        //遇到的5后面有小数位0，对数据大小无影响，直接舍弃5
        BigDecimal b5_2 = new BigDecimal("10.23450");
        System.out.println("b5_2:" + b5_2);
        double f5_2 = b5_2.setScale(3, BigDecimal.ROUND_HALF_DOWN).doubleValue();
        System.out.println("ROUND_HALF_DOWN方式处理后：" + f5_2);
        System.out.println("----------------------------");
        
      //遇到的5后面有非0小数位，对数据大小有影响，会进1
        BigDecimal b5_3 = new BigDecimal("10.234501");
        System.out.println("b5_3:" + b5_3);
        double f5_3 = b5_3.setScale(3, BigDecimal.ROUND_HALF_DOWN).doubleValue();
        System.out.println("ROUND_HALF_DOWN方式处理后：" + f5_3);
        System.out.println("----------------------------");
    }</code></pre> 
<br> 
<p></p> 
<span style="font-family:KaiTi_GB2312"><img src="https://images2.imgbox.com/ab/d8/u48g6zsS_o.png" alt=""><br>    <span style="font-size:18px"> 通过例子可以看出，10.2345通过ROUND_HALF_DOWN方式保留三位小数后结果为10.235原因是，使用的double类型初始化产生的BigDecimal对象的，实际上实例化后的数值并不是10.2345，而是10.234500000000000596855898038484156131744384765625，根据样例可知，当5后面还有其他小数时，依然会向前进1位。也就是说当使用<span style="font-size:18px">ROUND_HALF_DOWN</span>方式时，并不是所有的5都直接舍去，需要看5后面是否有其他非0位，如果没有，直接舍去，如果有，需要进1。</span><br> </span> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><br> </span></p> 
<h5><span style="font-family:KaiTi_GB2312; font-size:18px">    b.银行家算法</span></h5> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px">    四舍五入其实在金融方面运用的非常多，尤其是银行的利息。我们都知道银行的盈利渠道主要是利息差，它从储户手里收集资金，然后放贷出去，期间产生的利息差就是银行所获得的利润。如果我们采用平常四舍五入的规则话，这里采用每10笔存款利息计算作为模型，如下：<br> </span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px">四舍：0.000、0.001、0.002、0.003、0.004。这些舍的都是银行赚的钱。<br> 五入：0.005、0.006、0.007、0.008、0.009。这些入的都是银行亏的钱，</span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px">分别为：0.005、0.004、.003、0.002、0.001。</span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px">    所以对于银行来说它的盈利应该是0.000 + 0.001 + 0.002 + 0.003 + 0.004 - 0.005 - 0.004 - 0.003 - 0.002 - 0.001 = -0.005。从结果中可以看出每10笔的利息银行可能就会损失0.005元，千万别小看这个数字，这对于银行来说就是一笔非常大的损失。面对这个问题就产生了如下的银行家涉入法了。该算法是由美国银行家提出了，主要用于修正采用上面四舍五入规则而产生的误差。如下：<br> </span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px">(1).舍去位的数值小于5时，直接舍去。<br> (2).舍去位的数值大于5时，进位后舍去。<br> (3).当舍去位的数值等于5时，若5后面还有其他非0数值，则进位后舍去，若5后面是0时，则根据5前一位数的奇偶性来判断，奇数进位，偶数舍去。<br> </span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px">对于上面的规则我们举例说明<br> 11.556 = 11.56          ------六入<br> 11.554 = 11.55          -----四舍<br> 11.5551 = 11.56         -----五后有数进位<br> 11.545 = 11.54          -----五后无数，若前位为偶数应舍去<br> 11.555 = 11.56          -----五后无数，若前位为奇数应进位<br> </span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><br> </span></p> 
<h5><span style="font-family:KaiTi_GB2312"><span style="font-size:18px"><span style="font-size:18px">    c.<span style="font-size:18px"><span style="font-size:18px">ROUND_UNNECESSARY</span></span>解释</span></span></span></h5> 
<p><span style="font-family:KaiTi_GB2312"><span style="font-size:18px"><span style="font-size:18px">   <span style="font-size:18px"><span style="font-size:18px">ROUND_UNNECESSARY</span></span>方式表示计算结果是精确的，如果不是精确的，将会抛出java.lang.ArithmeticException异常。</span></span></span></p> 
<p><span style="font-family:KaiTi_GB2312"><span style="font-size:18px"><span style="font-size:18px"></span></span></span></p> 
<pre><code class="language-java">public static void roundSix(){
        BigDecimal b7 = new BigDecimal("10.23455");
        double f7 = b7.setScale(4, BigDecimal.ROUND_UNNECESSARY).doubleValue();
        System.out.println("ROUND_UNNECESSARY方式处理后：" + f7);
    }</code></pre> 
<p></p> 
<span style="font-family:KaiTi_GB2312"><img src="https://images2.imgbox.com/2b/a1/BmCVD6yW_o.png" alt=""><br> <span style="font-size:18px">如果将BigDecimal b7 = new BigDecimal("10.23455")中的数字改为10.2345或10.234500000;即可正常运行。也就是说，使用<span style="font-size:18px">ROUND_UNNECESSARY方式时，浮点数保留N位小数时，不能影响数字的精度，只要有舍弃掉数字导致精度受影响，都会抛出异常。</span></span></span> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px">注：这些枚举值有时候会用RoundingMode类中的枚举值，其实效果是一样的，<span style="font-size:18px"><span style="font-size:18px">RoundingMode</span></span>只是将BigDecimal中的枚举又封装了一层，简化了一下枚举名，无实质性差别。<span style="font-size:18px"><span style="font-size:18px">RoundingMode</span></span>枚举类中的枚举示例：UP(BigDecimal.ROUND_UP),</span></span></span></span></span></p> 
<p><span style="font-family:KaiTi_GB2312"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><br> </span></span></span></span></span></span></p> 
<h4><span style="font-family:KaiTi_GB2312; font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px">2.使用<span style="font-size:18px">DecimalFormat</span>对象的方式</span></span></span></span></span></span></h4> 
<p></p> 
<pre><code class="language-java">public static void roundSeven(){
        DecimalFormat df = new DecimalFormat("#.000");
        //df.setRoundingMode(RoundingMode.DOWN);
        System.out.println(df.format(new BigDecimal(10.2345)));//10.235
    }</code></pre> 
<br> 
<p></p> 
<span style="font-family:KaiTi_GB2312"><span style="font-size:18px">注：DecimalFormat默认采用了RoundingMode.HALF_EVEN这种类型,可以通过setRoundingMode方法进行设置四舍五入方式，而且format之后的结果是一个字符串类型String</span>。</span> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><br> </span></p> 
<h4><span style="font-family:KaiTi_GB2312; font-size:18px">3.<span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px">使用String.format方式</span></span></span></span></span></span></span></h4> 
<p></p> 
<pre><code class="language-java">public static void roundEight(){
        double d = 10.2345;
        String result = String.format("%.3f", d);
        System.out.println("result:" + result);
    }</code></pre> 
<br> 
<p></p> 
<span style="font-family:KaiTi_GB2312; font-size:18px">输出为10.235。String.format可以格式化很多类型的数据，包括整数、浮点数、字符串、日期等，具体对浮点数的格式化规则后续详细介绍，此处只需知道浮点数的四舍五入有这种方式。</span> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><br> </span></p> 
<h4><span style="font-family:KaiTi_GB2312; font-size:18px"><span style="font-size:18px">4.<span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px">使用<span style="font-size:18px">Math.round</span>方式</span></span></span></span></span></span></span></span></h4> 
<p></p> 
<pre><code class="language-java">public static void roundNine(){
        double d1 = Math.round(5.2644555*100)*0.01d;
        System.out.println("d1:" + d1);
        
        double d2 = Math.round(5.2654555*100)*0.01d;
        System.out.println("d2:" + d2);
    }</code></pre> 
<br> 
<p></p> 
<span style="font-family:KaiTi_GB2312"><img src="https://images2.imgbox.com/90/07/FqEEZg4T_o.png" alt=""><br> <span style="font-size:18px">Math.round()方式不建议使用，因为会有风险，如样例所示。</span></span> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><br> </span></p> 
<h4><span style="font-family:KaiTi_GB2312; font-size:18px">5.使用NumberFormat方式</span></h4> 
<p></p> 
<pre><code class="language-java">public static void roundTen(){
        double d = 10.2345;
        NumberFormat nf=NumberFormat.getNumberInstance() ;
        nf.setMaximumFractionDigits(2);
        String s= nf.format(d) ;
        System.out.println("s1:" + s);
        
        nf.setMaximumFractionDigits(3);
        s= nf.format(d) ;
        System.out.println("s2:" + s);
    }</code></pre> 
<br> 
<p></p> 
<span style="font-family:KaiTi_GB2312"><img src="https://images2.imgbox.com/4a/8d/y57Q0R98_o.png" alt=""><br> <br> </span> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><br> </span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px">本文参考了以下博客：</span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><span style="font-size:18px">http://blog.csdn.net/snn1410/article/details/36423873</span><br> </span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px">http://www.cnblogs.com/chenssy/p/3366632.html<br> </span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px">http://blog.csdn.net/jobjava/article/details/6764623<br> </span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><br> </span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><br> </span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><br> </span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><br> </span></p> 
<p><span style="font-family:KaiTi_GB2312; font-size:18px"><br> </span></p> 
<span style="font-family:KaiTi_GB2312"><br> </span>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3802c3c7e33e385356f4e39ab1ed3911/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">css3动画--小熊快跑</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8cb7ed08ff4c6720c95e31dc92ff41b9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android 使用RecyclerView实现（仿微信）的联系人A-Z字母排序和过滤搜索功能</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>