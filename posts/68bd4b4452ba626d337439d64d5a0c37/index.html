<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>常见的网络命令 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="常见的网络命令" />
<meta property="og:description" content="一. ipconfig:网络诊断命令
主要作用查看IP，以及DNS的一些配置
1. ipconfig/all 显示全部参数（显示IP地址，子网掩码，默认网关等详细信息）
2. ipconfig/renew 更新DHCP配置，重新获取IP（重新获取DHCP）
3. ipcongfig/release 释放DHCP获得的IP地址
4. ipconfig/flushdns 清除DNS缓存信息
5. ipconfig/displaydns 显示DNS缓存信息
下面是一些图片可以参考：
此时用了一个命令是ipconfig ,查看了一下它的IP地址：192.168.1.6
下面又用到一个命令是：ipconfig/release ,释放了IP地址，图片如下：
下面用到了ipconfig/displaydns命令，主要是想显示DNS缓存信息，图片如下：
最后我们就可以利用ipconfig/flushdns 命令来删除DNS缓存信息，图片如下：
二. ping命令：检查网络连通性
主要作用：1.用来检测网络的连通情况和分析网络速度
2.根据域名得到服务器IP
3.根据ping返回的TTL值来判断对方所使用的操作系统以及数据包经过路由器的数量
1.ping&#43; ip地址:（ping 后面直接带一个IP地址）是默认情况下使用的。默认情况下发送4个数据包，每个数据包占用32个字节
例子：ping 192.168.1.1
1.ping -t :不停的ping直到按ctrl&#43;c 才终止。
2. ping -a :它的作用是将域名解析为IP地址
ping baidu.com 和 ping -a baidu.com ping www.baidu.com
这种情况下,系统会自动帮我们解析域名对应的IP地址,然后再ping。
如果要显示解析出的IP地址,可以使用-a参数: ping -a www.baidu.com
这样ping命令会先显示解析出的IP地址:
Ping www.baidu.com [110.242.68.66] with 32 bytes of data:
我们可以清晰看到域名被解析的IP地址是110.242.68.66
可参考下面这张图：
如果只输入一个IP地址,使用-a参数将不会有效果: ping -a 110." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/68bd4b4452ba626d337439d64d5a0c37/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-27T16:52:32+08:00" />
<meta property="article:modified_time" content="2023-08-27T16:52:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">常见的网络命令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span style="color:#0d0016;">一.</span><span style="color:#fe2c24;"><strong>  ipconfig:</strong></span><span style="color:#0d0016;"><strong>网络诊断命令</strong></span></p> 
<p><span style="color:#494949;"><strong>主要作用查看IP，以及DNS的一些配置</strong></span></p> 
<p>1.<span style="color:#38d8f0;"><strong>  ipconfig/all   </strong></span><span style="color:#494949;"><strong>          显示全部参数（显示</strong></span><span style="color:#a2e043;"><strong>IP地址</strong></span><span style="color:#494949;"><strong>，</strong></span><span style="color:#a2e043;"><strong>子网掩码</strong></span><span style="color:#494949;"><strong>，</strong></span><span style="color:#a2e043;"><strong>默认网关</strong></span><span style="color:#494949;"><strong>等详细信息）</strong></span></p> 
<p><span style="color:#494949;"><strong>2. </strong></span><strong><span style="color:#ff9900;">ip</span></strong><strong><span style="color:#ff9900;">config/renew</span>      <span style="color:#fe2c24;">更新</span><span style="color:#494949;">DHCP配置</span><span style="color:#494949;">，重新获取IP（</span><span style="color:#ff9900;">重新获取DHCP</span><span style="color:#494949;">）</span></strong></p> 
<p><strong><span style="color:#494949;">3.   i</span><span style="color:#956fe7;">pcongfig/release  </span> <span style="color:#fe2c24;"> 释放</span>DHCP获得的IP地址</strong></p> 
<p><strong>4.   <span style="color:#4da8ee;">ipconfig/flushdns  </span>      <span style="color:#fe2c24;">清除</span>DNS缓存信息</strong></p> 
<p><strong>5.  <span style="color:#fe2c24;"> ipconfig/displaydns</span>   <span style="color:#fe2c24;">显示</span>DNS缓存信息</strong></p> 
<p><strong>下面是一些图片可以参考：</strong></p> 
<p><strong>此时用了一个命令是<span style="color:#fe2c24;">ipconfig ,</span><span style="color:#494949;">查看了一下它的IP地址：192.168.1.6</span></strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/a4/41/nd8VtNVu_o.png"></strong></p> 
<p style="text-align:center;"></p> 
<p style="text-align:center;">下面又用到一个命令是：<strong><span style="color:#956fe7;">ipconfig/release ,</span><span style="color:#494949;">释放了IP地址，图片如下：</span></strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/9e/ad/W5AiSSeq_o.png"></p> 
<p> 下面用到了<span style="color:#fe2c24;">ipconfig/displaydns</span><span style="color:#494949;">命令，主要是想显示DNS缓存信息，图片如下：</span></p> 
<p style="text-align:center;"><span style="color:#494949;"><img alt="" src="https://images2.imgbox.com/30/5e/VLbcqglY_o.png"></span></p> 
<p>最后我们就可以利用<span style="color:#38d8f0;"><strong>ipconfig/flushdns </strong></span><strong><span style="color:#494949;">命令来删除DNS缓存信息，图片如下：</span></strong></p> 
<p style="text-align:center;"><strong><span style="color:#494949;"><img alt="" src="https://images2.imgbox.com/a7/5f/RN32fION_o.png"></span></strong></p> 
<p></p> 
<p><span style="color:#0d0016;">二.</span><strong><span style="color:#fe2c24;">   ping</span></strong>命令：<span style="color:#0d0016;"><strong>检查网络连通性</strong></span></p> 
<p><span style="color:#0d0016;"><strong>主要作用：1.用来检测网络的连通情况和分析网络速度</strong></span></p> 
<p><span style="color:#0d0016;"><strong>                  2.根据域名得到服务器IP</strong></span></p> 
<p><span style="color:#0d0016;"><strong>                  3.根据ping返回的TTL值来判断对方所使用的操作系统以及数据包经过路由器的数量</strong></span></p> 
<p>1.ping+ ip地址:（ping 后面直接带一个IP地址）是默认情况下使用的。默认情况下发送4个数据包，每个数据包占用32个字节</p> 
<p>例子：ping 192.168.1.1</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/80/b0/d48fNXnw_o.png"></p> 
<p><span style="color:#0d0016;"><strong>1.ping -t :不停的ping直到按</strong></span><strong><span style="color:#fe2c24;">ctrl+c</span></strong><span style="color:#0d0016;"><strong> 才终止。</strong></span></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/3c/39/eFwbmmg5_o.png"></p> 
<p><span style="color:#0d0016;"><strong>2.  ping -a :它的作用是</strong></span><span style="color:#fe2c24;"><strong>将域名解析为IP地址</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>ping baidu.com  和 ping -a baidu.com  </strong></span></p> 
<p></p> 
<p>ping <a href="http://www.baidu.com/" rel="nofollow" title="www.baidu.com">www.baidu.com</a></p> 
<p>这种情况下,系统会自动帮我们解析域名对应的IP地址,然后再ping。</p> 
<ol><li>如果要显示解析出的IP地址,可以使用-a参数:</li></ol> 
<p>ping -a <a href="http://www.baidu.com/" rel="nofollow" title="www.baidu.com">www.baidu.com</a></p> 
<p>这样ping命令会先显示解析出的IP地址:</p> 
<p>Ping <a href="http://www.a.shifen.com/" rel="nofollow" title="www.baidu.com">www.baidu.com</a> [110.242.68.66] with 32 bytes of data:</p> 
<p>我们可以清晰看到域名被解析的IP地址是110.242.68.66</p> 
<p>可参考下面这张图：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/48/ca/wSLCKsjh_o.png"></p> 
<ol><li>如果只输入一个IP地址,使用-a参数将<span style="color:#38d8f0;">不会有效果</span>:</li></ol> 
<p>ping -a 110.242.68.66</p> 
<p>这种情况下,不会再次解析IP地址,因为已经是IP地址了。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/be/4c/otu1HAK2_o.png"></p> 
<p>另外-a参数也可以与-n结合使用:</p> 
<p>ping -n 3 -a <a href="http://www.baidu.com/" rel="nofollow" title="www.baidu.com">www.baidu.com</a></p> 
<p>这样可以解析域名并只ping 3次。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/79/c7/NL71bMAe_o.png"></p> 
<p>ping -l ：作用用来指定发送数据包的大小，也就是负载。</p> 
<p>作用：</p> 
<p>-l参数允许我们设置ping测试的<span style="color:#a2e043;">数据包大小</span>,<span style="color:#fe2c24;"><strong>默认是32字节</strong></span>。</p> 
<p>通过调整大小,可以用于测试网络在不同负载下的丢包率和延迟等性能指标。</p> 
<ol><li>常见数据包大小</li></ol> 
<ul><li>32字节:默认大小</li><li>64字节</li><li>128字节</li><li>256字节</li><li>512字节或更大</li></ul> 
<p>ping -l 包的大小 主机地址</p> 
<p>例子：ping -l 64 www.daidu.com</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/e6/0b/cMCIiMzu_o.png"></p> 
<p><span style="color:#0d0016;"><strong> 上述命令会生成64字节大小的ICMP数据包进行测试.</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>ICMP</strong></span><span style="color:#0d0016;"><strong>(Internet Control Message Protocol) 即</strong></span><span style="color:#fe2c24;"><strong>互联网控制报文协议</strong></span><span style="color:#0d0016;"><strong>,是TCP/IP协议族的一个子协议,用于在IP主机、路由器之间传递控制消息。</strong></span></p> 
<p><span style="color:#0d0016;"><strong>ping -n  参数     IP地址：</strong></span>这将向<span style="color:#fe2c24;">指定的主机</span>地址发送<span style="color:#fe2c24;">指定数目</span>的ICMP回显请求数据包。</p> 
<p><span style="color:#0d0016;"><strong>例子：ping -n 10 192.168.1.1</strong></span></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/ee/02/GoCbCmPU_o.png"></p> 
<p><span style="color:#0d0016;"><strong>上面这个命令将会向目标IP 192.168.1.1 发送10个ICMP回显请求数据包</strong></span>。</p> 
<p></p> 
<p><span style="color:#0d0016;">三 .  tracert命令的作用是跟踪数据包到目标主机的路由路径和通信时长。（简称路由跟踪）</span></p> 
<p><strong><span style="color:#38d8f0;">主要用于网络故障排查</span></strong></p> 
<p><span style="color:#0d0016;">使用方式：</span></p> 
<p><span style="color:#0d0016;">1.  tracert +目标主机地址/域名</span></p> 
<p><span style="color:#0d0016;">     例如：<strong>tracert   www.baidu.com </strong></span></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/3b/40/SyFTevkh_o.png"></p> 
<p> <span style="color:#0d0016;">说明在访问百度网站时途中经过了11个路由跳点</span></p> 
<p><span style="color:#0d0016;">2.   tracert  -d  www.baidu.com  （不将IP地址解析为域名）</span></p> 
<p style="text-align:center;"><span style="color:#0d0016;">      <img alt="" src="https://images2.imgbox.com/0b/bc/As61NDGu_o.png"></span></p> 
<p> teacert  -h maximum-hops (用来设置最大跃点数)</p> 
<p>3.   <span style="color:#0d0016;">例如：</span> <span style="color:#a2e043;"> <strong>tracert  -h 30 www.baidu .com      </strong>  </span></p> 
<p><span style="color:#0d0016;">这意味着tracert最多跟踪30个节点就会停止。如果不设置-h,默认情况下最大跃点数是30。</span></p> 
<p style="text-align:center;">    <img alt="" src="https://images2.imgbox.com/5c/4b/v7HIX77Z_o.png"></p> 
<p>设置较小跃点数的常见用途:</p> 
<ul><li>排查本地网络问题,只需要跟踪本地几跳</li><li>调整跃点数确定网络故障发生地点</li><li>缩短命令执行时间</li></ul> 
<p>tracert  -w timeout:等待每个回复的时间(毫秒)</p> 
<p>格式：tracert   -w   超时时间   目标地址</p> 
<p>例如：tracert   -w   20   www.baidu.com </p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/50/0e/WvZy2dcR_o.png"></p> 
<p><span style="color:#0d0016;"> 这意味tracert在发出每个ICMP回显请求后,等待最多200毫秒的回复时间。</span></p> 
<p><span style="color:#0d0016;">四.  nslookup :主要作用</span><span style="color:#fe2c24;"><strong>用于域名解析</strong></span></p> 
<p></p> 
<ol><li>进入交互模式,查询域名解析记录:</li></ol> 
<p>nslookup</p> 
<blockquote> 
 <p>域名</p> 
</blockquote> 
<p>例如:</p> 
<p>nslookup</p> 
<blockquote> 
 <p><a href="http://www.baidu.com/" rel="nofollow" title="www.baidu.com">www.baidu.com</a></p> 
</blockquote> 
<ol><li>直接指定域名解析</li></ol> 
<p>nslookup <a href="http://www.baidu.com/" rel="nofollow" title="www.baidu.com">www.baidu.com</a></p> 
<p></p> 
<p>五.  arp命令(正向地址解析)主要用于查看和管理系统的ARP缓存表,其常用功能和用法如下:</p> 
<ol><li>查看ARP表 使用arp -a可以查看当前系统的ARP缓存表。会显示IP地址和对应MAC地址的映射。</li><li>添加静态ARP表项<br> arp -s 192.168.1.1 00-11-22-33-44-55 会手动添加一个静态的IP-MAC映射关系。</li><li>删除ARP表项 arp -d 192.168.1.1 会删除ARP表中指定的IP地址项。</li><li>查看特定IP的MAC地址 arp 192.168.1.1 focused输出特定IP的ARP信息。</li><li>刷新ARP表 netsh interface ip delete arpcache 会清空并 refreshed ARP缓存表。</li><li>其他参数<br> -N网卡名称 -D显示物理地址 -v详细信息 等</li></ol> 
<p>需要注意的是,动态ARP表会自动更新,静态映射会永久保存。</p> 
<p>合理使用arp命令可以帮助查找和解决网络通信故障。</p> 
<p>六：rarp（逆向地址解析）</p> 
<p>arp(Reverse Address Resolution Protocol)逆地址解析协议,它的作用与ARP相反,主要用于客户端获取IP地址,用法如下:</p> 
<ol><li>客户端发送rarp请求数据包,包含自己的MAC地址</li><li>服务器收到请求后,根据MAC地址查找对应的IP地址</li><li>服务器组装一个rarp响应数据报,包含IP地址信息</li><li>客户端获取响应数据报,得到分配给它的IP地址</li></ol> 
<p>rarp请求使用硬件类型为1(以太网)的ARP数据报格式。</p> 
<p>常用rarp工具:</p> 
<ul><li>rarpd - Linux下rarp服务器守护进程</li><li>rarpc - 用于发送rarp请求的客户端程序</li><li>rarp - 查看当前rarp表的映射</li></ul> 
<p>rarp主要用于无盘工作站获取IP地址,现在应用较少,更多使用DHCP协议动态分配。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b8b26d86e8052515aee9800d2d6b891e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">大数据：AI大模型对数据分析领域的颠覆（文末送书）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/21fe6ed17aa19ae6e8c5c49f9e0d4732/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">AxGlyph学习笔记</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>