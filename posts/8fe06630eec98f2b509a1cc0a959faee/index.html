<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>HarmonyOS应用开发的工程目录结构 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="HarmonyOS应用开发的工程目录结构" />
<meta property="og:description" content="在介绍鸿蒙应用开发的细节，我们来了解工程目录结构，这样我们才知道我们能做什么。
我们现在来一一介绍这些目录都是用来做什么的。
AppScope &gt; app.json5 应用级的配置信息
AppScope &gt; resources 这个目录下的base&gt;element用于存放全局使用的基本元素，如字符串、颜色和布尔值。base&gt;media目录则存储媒体、动画和布局等资源文件。如果模块下的resources的有同样的资源，那么就会优先使用模块下的资源，否则就使用这里的资源。
hvigor：这个目录与android工程的gradle目录很像，行使的功能也类似。
oh_modules 这个目录用来存放第三方库依赖信息
build-profile.json5 这个文件位于根目录，它放置应用级配置信息，包括签名配置和产品配置，它的作用于android工程中的根目录下的build.gradle差不多。
hvigorfile.ts 应用的编译脚本
local.properties 这个与android工程的那个差不多
hvigorw： 这个与android工程的gradlew的作用相似。hvigorw.bat是对应在windows中使用的脚本。
entry 这个目录与android工程的app目录是同等作用，就是这个应用的入口，所以在鸿蒙干脆它的目录名也起成了入口（entry）。我们的写的应用的代码都是放在这个目录中，打包时，就会将这里的代码编译，生成HAP，即HarmonyOS Ability package鸿蒙能力包，对就android的apk（application package）包。
entry目录下的子目录及其作用 build-profile.json5这个是编译配置文件，它包含了当前模块的信息和编译配置选项等等，就像android工程中每个module（模块）下都有一个build.gradle来管理当前模块的编译。Note： 在鸿蒙应用工程的根目录也有一个这样的文件，那个是应用级的，全局的，这个是当前模块的局部的，android工程中的build.gradle也是一样，有一个应用级的，也有一个当前模块的。
hvigorfile.ts 这是一个模块级的编译脚本，在鸿蒙应用工程根目录也一个，那个是应用级的。在android工程倒是没有这样独立出来的编译脚本，它的编译脚本都放在了对应的build.gradle脚本中。
src &gt; main &gt; module.json5 这个文件描述了应用的全局配置信息，这个目录下的这份文件相当于android中app模块下的AndroidManifest.xml。
src &gt; main &gt; ets 放ArkTS源代码的地方，鸿蒙应用可以使用官方的开发语言ArkTS来开发。
src &gt; main &gt; ets &gt; entryability 这个目录就是用来放所那些应用或服务的入口的，其实就是那些继承了UIAbility类的类文件。相当于android应用中的activity类
src &gt; main &gt; ets &gt; pages 这个目录是专门用来放页面的，因为ArkTS采用了声明式UI，和android的Compose和iOS的SwiftUI都同样的产品。鸿蒙在这个目录里定义好页面，然后在src &gt; main &gt; ets &gt; entryability 对应的ability加载出来。
src &gt; main &gt; resources 这个目录相当于android工程的res目录，用来放置应用用到的资源文件，如图片、多媒体、文字等，国际化也是在这里定义的。资源目录分为base基目录、qualifiers限定符目录和rawfile目录。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/8fe06630eec98f2b509a1cc0a959faee/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-21T18:30:31+08:00" />
<meta property="article:modified_time" content="2024-01-21T18:30:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">HarmonyOS应用开发的工程目录结构</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在介绍鸿蒙应用开发的细节，我们来了解工程目录结构，这样我们才知道我们能做什么。<br> <img src="https://images2.imgbox.com/52/9d/pGQ6t4K8_o.png" alt="在这里插入图片描述"><br> 我们现在来一一介绍这些目录都是用来做什么的。</p> 
<ul><li> <p>AppScope &gt; app.json5 应用级的配置信息</p> </li><li> <p>AppScope &gt; resources 这个目录下的base&gt;element用于存放全局使用的基本元素，如字符串、颜色和布尔值。base&gt;media目录则存储媒体、动画和布局等资源文件。如果模块下的resources的有同样的资源，那么就会优先使用模块下的资源，否则就使用这里的资源。<br> <img src="https://images2.imgbox.com/60/5c/iCl5vdOt_o.png" alt="请添加图片描述"></p> </li><li> <p>hvigor：这个目录与android工程的gradle目录很像，行使的功能也类似。<br> <img src="https://images2.imgbox.com/2f/fd/IEEctLjq_o.png" alt="请添加图片描述"></p> </li><li> <p>oh_modules 这个目录用来存放第三方库依赖信息</p> </li><li> <p>build-profile.json5 这个文件位于根目录，它放置应用级配置信息，包括签名配置和产品配置，它的作用于android工程中的根目录下的build.gradle差不多。</p> </li><li> <p>hvigorfile.ts 应用的编译脚本</p> </li><li> <p>local.properties 这个与android工程的那个差不多</p> </li><li> <p>hvigorw： 这个与android工程的gradlew的作用相似。hvigorw.bat是对应在windows中使用的脚本。</p> </li><li> <p>entry 这个目录与android工程的app目录是同等作用，就是这个应用的入口，所以在鸿蒙干脆它的目录名也起成了入口（entry）。我们的写的应用的代码都是放在这个目录中，打包时，就会将这里的代码编译，生成HAP，即HarmonyOS Ability package鸿蒙能力包，对就android的apk（application package）包。</p> </li></ul> 
<h3><a id="entry_18"></a>entry目录下的子目录及其作用</h3> 
<ul><li> <p>build-profile.json5这个是编译配置文件，它包含了当前模块的信息和编译配置选项等等，就像android工程中每个module（模块）下都有一个build.gradle来管理当前模块的编译。<strong>Note：</strong> 在鸿蒙应用工程的根目录也有一个这样的文件，那个是应用级的，全局的，这个是当前模块的局部的，android工程中的build.gradle也是一样，有一个应用级的，也有一个当前模块的。</p> </li><li> <p>hvigorfile.ts 这是一个模块级的编译脚本，在鸿蒙应用工程根目录也一个，那个是应用级的。在android工程倒是没有这样独立出来的编译脚本，它的编译脚本都放在了对应的build.gradle脚本中。</p> </li><li> <p>src &gt; main &gt; module.json5 这个文件描述了应用的全局配置信息，这个目录下的这份文件相当于android中app模块下的AndroidManifest.xml。</p> </li><li> <p>src &gt; main &gt; ets 放ArkTS源代码的地方，鸿蒙应用可以使用官方的开发语言ArkTS来开发。</p> </li><li> <p>src &gt; main &gt; ets &gt; entryability 这个目录就是用来放所那些应用或服务的入口的，其实就是那些继承了UIAbility类的类文件。相当于android应用中的activity类</p> </li><li> <p>src &gt; main &gt; ets &gt; pages 这个目录是专门用来放页面的，因为ArkTS采用了声明式UI，和android的Compose和iOS的SwiftUI都同样的产品。鸿蒙在这个目录里定义好页面，然后在src &gt; main &gt; ets &gt; entryability 对应的ability加载出来。</p> </li><li> <p>src &gt; main &gt; resources 这个目录相当于android工程的res目录，用来放置应用用到的资源文件，如图片、多媒体、文字等，国际化也是在这里定义的。资源目录分为base基目录、qualifiers限定符目录和rawfile目录。</p> </li></ul> 
<p>base 目录是默认提供的。在这个目录下，element子目录存放了诸如文字、颜色、布尔值等。media 和 profile 子目录存放了诸如多媒体、动画、布局等。编译时，这些资源文件都会被编译成二进制文件，并分配相应的ID。<br> <img src="https://images2.imgbox.com/95/be/cdqqbSac_o.png" alt="请添加图片描述"><br> 这些资源因为是配置在entry中， 所以也是在entry中来使用，使用的方法也很简单，它们是基于资源类型和资源名来引用，如在entry模块下的module.json5引用它们。如element&gt;string.json有这样的配置：</p> 
<pre><code class="prism language-kotlin"><span class="token punctuation">{<!-- --></span>
  <span class="token string-literal singleline"><span class="token string">"string"</span></span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string-literal singleline"><span class="token string">"name"</span></span><span class="token operator">:</span> <span class="token string-literal singleline"><span class="token string">"EntryAbility_label"</span></span><span class="token punctuation">,</span>
      <span class="token string-literal singleline"><span class="token string">"value"</span></span><span class="token operator">:</span> <span class="token string-literal singleline"><span class="token string">"label"</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>引用这个资源方式就是<code>$string:EntryAbility_label</code>,下面是entry模块下module.json5 对一些资源的引用：</p> 
<p><img src="https://images2.imgbox.com/a9/c1/eeKAKHmH_o.png" alt="请添加图片描述"></p> 
<p>qualifiers限定符目录，en_US和zh_CN是默认的两个限定符目录，我们可以根据我们的需要来增加其它的限定符目录。 这些限定符目录其实存放的也是和base目录里的东西差不多，比如动画可以用一套，那么就直接用base基本目录里的就好，文字需要分开显示英语、简体中文、繁体中文，那么就需要在限定符目录里增加对应的文字资源，应用国际化就是这样一个好例子。英文、简体、繁体等文字、图片等资源都是不一样的，需要根据用户的选择来适配，那么等于我们有三份文字或图片来适配。图片有时也需要的，例如，图片上有一句话是产品做宣传用的，那么这张图片就应该有三张。下面是文字的例子：</p> 
<p><img src="https://images2.imgbox.com/74/3c/IiStz8Or_o.png" alt="请添加图片描述"></p> 
<p><img src="https://images2.imgbox.com/5d/bb/utSOplAc_o.png" alt="请添加图片描述"><br> 其实上面讲的base目录和限定符目录，和android工程中的values ， values-en-rUS，values-zh-rCN是一样。</p> 
<p>rawfile目录与android工程的raw目录是一样的。我们可以创建具有自定义名称的多级子目录来存储各种资源文件。 rawfile目录中的资源文件直接打包到应用程序中而不进行编译，并且不会为资源文件分配id。这里的资源的引用是通过指定的文件路径和文件名来引用。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3956deda5e3148cf25192d06d898bf43/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">flutter项目怎么判断是不是web平台？Unsupported operation: Platform._operatingSystem</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/69b9dd097946d8de6d62db47a59a522a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ubuntu 相关内容</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>