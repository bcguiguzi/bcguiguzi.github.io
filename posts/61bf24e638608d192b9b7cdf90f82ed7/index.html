<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>git实战技巧-本地刚做出的修改、暂存和提交如何进行撤销 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="git实战技巧-本地刚做出的修改、暂存和提交如何进行撤销" />
<meta property="og:description" content="1、解决思路
工作区和暂存区内容的撤销，直接按照对应命令或者IDEA界面完成操作就行。
对于已提交的撤销回滚建议如下：
1. 代码如果仅仅是回撤到指定版本，该版本之上的更新是不需要的，选择Hard模式。
2. 代码回撤到指定版本时，需要保存该版本之上的更新，可以选择Soft模式。
其他根据自己的需要选择即可。
2、动手实践
2.1、基于IDEA解决
1)撤销工作区内容
变更内容可以在Git工具窗口中直接撤销，如下图：
或者右键的文件，选择Git，然后选择Rollback也可以完成撤销。
2)撤销暂存区文件
IDEA中做代码更新后，可以不用额外的做暂存，直接提交就行了。所以可以不用考虑暂存撤销的问题。
3)已提交的撤销
IDEA中要撤销版本回到上一版本，或者回退到指定版本可以如下操作：
1. 打开Git工具窗口，点击Log 查看版本提交记录
2. 然后右键你需要回退的版本，选择Rest Current Branch to Here
3. 此时会弹出一个菜单，供我们选择，选择需要的操作模式，然后点击Reset即可
撤销模式说明：
四种模式在撤销回滚时，都会让HEAD指针改变指向到指定版本。
1. Soft：回滚代码到指定版本时，工作区文件不会做改变，相较于指定版本多出的更新将会被暂存等待提交
2. Mixed：回滚代码到指定版本时，工作区文件不会有改动，但是暂存会被清空
3. Hard：回滚到指定版本时，工作区内容会回滚到指定版本，暂存也会被清空(慎重，未提交的代码有丢失风险)
4. Keep：回滚到指定版本时，工作区内容会回滚到指定版本，暂存区未提交内容会保存
2.2、基于Git命令解决
1)工作区内容撤销
命令：`git checkout -- fileName`
例如，对readme.txt 进行内容修改，保存文件。此时在Git Bash 中执行 `git status`看效果。
上面有提示我们如何进行撤销，现在我们撤销readme.txt的修改：
2)已暂存撤销
命令：
`git reset HEAD file` 移除暂存区回到工作区，内容在工作区中还是存在的
例如，对readme.txt 进行内容修改并已经暂存。现在需要撤销
此时在Git Bash 中执行 `git status`看效果。
上面有提示我们如何进行撤销暂存，现在我们撤销readme.txt的暂存：
3)已提交撤销
当前知识点能够解决你在以后遇到的如下问题，
1. 想要查看历史提交版本信息" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/61bf24e638608d192b9b7cdf90f82ed7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-24T09:06:40+08:00" />
<meta property="article:modified_time" content="2023-02-24T09:06:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">git实战技巧-本地刚做出的修改、暂存和提交如何进行撤销</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <p style="text-align:null;">　1、解决思路</p> 
 <p style="text-align:null;">　　工作区和暂存区内容的撤销，直接按照对应命令或者IDEA界面完成操作就行。</p> 
 <p style="text-align:null;">　　对于已提交的撤销回滚建议如下：</p> 
 <p style="text-align:null;">　　1. 代码如果仅仅是回撤到指定版本，该版本之上的更新是不需要的，选择Hard模式。</p> 
 <p style="text-align:null;">　　2. 代码回撤到指定版本时，需要保存该版本之上的更新，可以选择Soft模式。</p> 
 <p style="text-align:null;">　　其他根据自己的需要选择即可。</p> 
 <p style="text-align:null;">　　2、动手实践</p> 
 <p style="text-align:null;">　　2.1、基于IDEA解决</p> 
 <p style="text-align:null;">　　1)撤销工作区内容</p> 
 <p style="text-align:null;">　　变更内容可以在Git工具窗口中直接撤销，如下图：</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:77.16216%;height:0;"> 
    <img src="https://images2.imgbox.com/32/68/hL7JuKD9_o.jpg" style="margin-left:;display:block;width:740px;margin-top:-77.16216%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">　　或者右键的文件，选择Git，然后选择Rollback也可以完成撤销。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:236px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:255.08475%;height:0;"> 
    <img src="https://images2.imgbox.com/ef/7c/YWz6B6GX_o.jpg" style="margin-left:;display:block;width:236px;margin-top:-255.08475%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">　　2)撤销暂存区文件</p> 
 <p style="text-align:null;">　　IDEA中做代码更新后，可以不用额外的做暂存，直接提交就行了。所以可以不用考虑暂存撤销的问题。</p> 
 <p style="text-align:null;">　　3)已提交的撤销</p> 
 <p style="text-align:null;">　　IDEA中要撤销版本回到上一版本，或者回退到指定版本可以如下操作：</p> 
 <p style="text-align:null;">　　1. 打开Git工具窗口，点击Log 查看版本提交记录</p> 
 <p style="text-align:null;">　　</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:42.432434%;height:0;"> 
    <img src="https://images2.imgbox.com/47/71/qlUhyh4R_o.jpg" style="margin-left:;display:block;width:740px;margin-top:-42.432434%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;"> 2. 然后右键你需要回退的版本，选择Rest Current Branch to Here</p> 
 <p style="text-align:null;">　　</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:429px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:138.69464%;height:0;"> 
    <img src="https://images2.imgbox.com/75/38/mj8HvWDg_o.jpg" style="margin-left:;display:block;width:429px;margin-top:-138.69464%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;"> </p> 
 <p style="text-align:null;"> 3. 此时会弹出一个菜单，供我们选择，选择需要的操作模式，然后点击Reset即可</p> 
 <p style="text-align:null;">　　</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:673px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:69.539375%;height:0;"> 
    <img src="https://images2.imgbox.com/4a/aa/TSRxGKkb_o.jpg" style="margin-left:;display:block;width:673px;margin-top:-69.539375%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;"> </p> 
 <p style="text-align:null;"> 撤销模式说明：</p> 
 <p style="text-align:null;">　　四种模式在撤销回滚时，都会让HEAD指针改变指向到指定版本。</p> 
 <p style="text-align:null;">　　1. Soft：回滚代码到指定版本时，工作区文件不会做改变，相较于指定版本多出的更新将会被暂存等待提交</p> 
 <p style="text-align:null;">　　2. Mixed：回滚代码到指定版本时，工作区文件不会有改动，但是暂存会被清空</p> 
 <p style="text-align:null;">　　3. Hard：回滚到指定版本时，工作区内容会回滚到指定版本，暂存也会被清空(慎重，未提交的代码有丢失风险)</p> 
 <p style="text-align:null;">　　4. Keep：回滚到指定版本时，工作区内容会回滚到指定版本，暂存区未提交内容会保存</p> 
 <p style="text-align:null;">　　2.2、基于Git命令解决</p> 
 <p style="text-align:null;">　　1)工作区内容撤销</p> 
 <p style="text-align:null;">　　命令：`git checkout -- fileName`</p> 
 <p style="text-align:null;">　　例如，对readme.txt 进行内容修改，保存文件。此时在Git Bash 中执行 `git status`看效果。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:717px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:26.220362%;height:0;"> 
    <img src="https://images2.imgbox.com/55/a7/YTfkZ9mX_o.jpg" style="margin-left:;display:block;width:717px;margin-top:-26.220362%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">　　上面有提示我们如何进行撤销，现在我们撤销readme.txt的修改：</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:725px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:8.413793%;height:0;"> 
    <img src="https://images2.imgbox.com/98/d1/Kwaa4FHs_o.jpg" style="margin-left:;display:block;width:725px;margin-top:-8.413793%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:20.54054%;height:0;"> 
    <img src="https://images2.imgbox.com/19/d0/Xv9Gck3W_o.jpg" style="margin-left:;display:block;width:740px;margin-top:-20.54054%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">　　2)已暂存撤销</p> 
 <p style="text-align:null;">　　命令：</p> 
 <p style="text-align:null;">　　`git reset HEAD file` 移除暂存区回到工作区，内容在工作区中还是存在的</p> 
 <p style="text-align:null;">　　例如，对readme.txt 进行内容修改并已经暂存。现在需要撤销</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:20.405405%;height:0;"> 
    <img src="https://images2.imgbox.com/5c/ef/Zvf15Cwy_o.jpg" style="margin-left:;display:block;width:740px;margin-top:-20.405405%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">　　此时在Git Bash 中执行 `git status`看效果。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:732px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:29.234972%;height:0;"> 
    <img src="https://images2.imgbox.com/87/97/LgeKIztq_o.jpg" style="margin-left:;display:block;width:732px;margin-top:-29.234972%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">　　上面有提示我们如何进行撤销暂存，现在我们撤销readme.txt的暂存：</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:725px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:13.241379%;height:0;"> 
    <img src="https://images2.imgbox.com/ac/ed/EovPi44p_o.jpg" style="margin-left:;display:block;width:725px;margin-top:-13.241379%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">　　3)已提交撤销</p> 
 <p style="text-align:null;">　　当前知识点能够解决你在以后遇到的如下问题，</p> 
 <p style="text-align:null;">　　1. 想要查看历史提交版本信息</p> 
 <p style="text-align:null;">　　2. 出于某些原因，想要将代码回撤重置到指定版本</p> 
 <p style="text-align:null;">　　我们可以使用 git reset 命令来进行版本回退，而且可以指定退回到之前某一次提交的版本</p> 
 <p style="text-align:null;">　　命令：</p> 
 <p style="text-align:null;">　　```</p> 
 <p style="text-align:null;">　　git reset [--soft | --mixed | --hard --keep] [HEAD|版本号]</p> 
 <p style="text-align:null;">　　```</p> 
 <p style="text-align:null;">　　下面要完成以下操作：</p> 
 <p style="text-align:null;">　　1)重置到上一个版本(当前提交撤销)</p> 
 <p style="text-align:null;">　　命令：`git reset --hard HEAD^`</p> 
 <p style="text-align:null;">　　HEAD参数说明：</p> 
 <p style="text-align:null;">　　- `git reset --hard HEAD` 撤销暂存内容</p> 
 <p style="text-align:null;">　　- `git reset --hard HEAD^` 撤回到上一个版本</p> 
 <p style="text-align:null;">　　- `git reset --hard HEAD^^` 撤回到上上个版本</p> 
 <p style="text-align:null;">　　- 以此类推</p> 
 <p style="text-align:null;">　　如果要回退到指定版本，建议用下面的方式。</p> 
 <p style="text-align:null;">　　2)重置指定版本</p> 
 <p style="text-align:null;">　　命令：</p> 
 <p style="text-align:null;">　　1. 查看版本号命令</p> 
 <p style="text-align:null;">　　`git reflog`</p> 
 <p style="text-align:null;">　　2. 按照版本号进行重置</p> 
 <p style="text-align:null;">　　`git reset --hard 版本编号`</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/14025eac937d796ed59a91ef7be4e5b6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">关于Cannot resolve symbol ‘servlet‘报错</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5d1e56364d2da0754834f535f3de60a8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">VSCode安装教程（超详细）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>