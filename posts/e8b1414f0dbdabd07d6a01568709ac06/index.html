<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>在Windows上搭建TensorFlow - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="在Windows上搭建TensorFlow" />
<meta property="og:description" content="在Windows上搭建TensorFlow
在本文中，我将详细介绍如何在Windows 10上搭建TensorFlow环境，话不多说，直接开始。
首先，需要Python环境和pip工具。
1、获取Python和pip
在Windows环境安装Python 3.x版本，通常安装包中集成了pip工具，安装会非常简单方便。具体见：https://www.python.org/downloads/windows/
完成安装后，可以打开命令提示符并键入python，以查看你正在使用的版本。这里可以看到，我下载了3.7.3版：
然后可以退出Python解释器环境：
然后在CMD中使用如下代码测试pip工具安装的情况：
pip –V
接下来，在安装TensorFlow之前，需要先检查主机的GPU是否支持，在命令提示符下，执行命令：
control /name Microsoft.DeviceManager
然后查看“显示适配器”设置，将其打开，然后阅读显示适配器的名称，看看是否支持TensorFlow的运行（一般都会支持）。
注意：下载python时一定要下载64bit的，否则会在安装TensorFlow时出现不兼容的问题。
2、安装CUDA驱动程序（若没有使用GPU，可先跳过）
要说明一点，目前TensorFlow的最高版本已经提供了对CUDA 10.1的支持，若你下载的TensorFlow版本 &gt;=1.13.0，则需要下载CUDA &gt;=10.0的版本，否则会出现版本不兼容的问题。访问CUDA的下载网站，传送门：https://developer.nvidia.com/cuda-toolkit ，请确保通过选择下面的“Legacy Releases”链接来下载正确版本的驱动程序，如下图所示：
选择legacy Releases后，选择你需要的版本，如图：
并记住要选择安装local版本（因为network版本运行时比较依赖网络，网络不好容易崩掉）：
然后下载并安装就OK啦（我使用的TensorFlow版本为1.14.0，故选择了10.0版本的CUDA进行下载安装）。
安装时可以直接选择精简版进行安装，等待一会儿就安装完成了。
附：如果在安装CUDA时出现问题或错误，这篇博客可以给你很大的帮助哦，传传传送门：https://blog.csdn.net/zzpong/article/details/80282814 。
但是，在运行TensorFlow之前，还需要一个与主机的CUDA版本相匹配的cuDNN版本（后面会介绍哦）。
3、安装TensorFlow
总有人说TensorFlow安装过程十分困难，但是其实细细想来这是其中比较简单的一个步骤了，具体操作如下。
直接在CMD命令行中输入：
pip install tensorflow
然后就会看到开始下载并安装一个版本的TensorFlow了，等待安装完成，在命令提示符窗口中输入：
python
打开Python编辑器，在其中输入：
import tensorflow as tf
若未提示错误，则说明TensorFlow下载安装成功啦，然后再输入：
print(tf.version)
就会输出当前安装的TensorFlow的版本号了。
注意：若提示错误缺少CUDA或NVIDIA，则说明你未完成安装CUDA和cuDNN，按照2、4步骤进行下载安装后即可。
若出现“OSError: [WinError 193] %1 不是有效的 Win32 应用程序”错误，则执行脚本：cscript %SYSTEMDRIVE%\inetpub\adminscripts\adsutil.vbs SET W3SVC/AppPools/Enable32bitAppOnWin64 1 。其中，%SYSTEMDRIVE%表示系统盘（一般为c:）。这个命令的意思是设置在IIS服务器上的32位应用程序可以在Windows64位的机器上运行。
4、安装cuDNN库（与CUDA呼应）
cuDNN库是CUDA针对深度神经网络的更新包，TensorFlow会使用它用于加速NVidia GPU上的深度学习。传送门：https://developer.nvidia.com/cudnn。
但比较麻烦的是这个网站需要登录才能下载，所以你必须首先要注册一个NVidia开发者账号，它是免费的。登录后，你便会看到各种CuDNN的下载。然后就是选择匹配的版本，由于之前使用了CUDA 10.0，所以确定为CUDA 10.0选择了cuDNN v7.6.2。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/e8b1414f0dbdabd07d6a01568709ac06/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-16T20:26:49+08:00" />
<meta property="article:modified_time" content="2021-05-16T20:26:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">在Windows上搭建TensorFlow</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在Windows上搭建TensorFlow</p> 
<p>在本文中，我将详细介绍如何在Windows 10上搭建TensorFlow环境，话不多说，直接开始。<br> 首先，需要Python环境和pip工具。</p> 
<p>1、获取Python和pip<br> 在Windows环境安装Python 3.x版本，通常安装包中集成了pip工具，安装会非常简单方便。具体见：https://www.python.org/downloads/windows/<br> 完成安装后，可以打开命令提示符并键入python，以查看你正在使用的版本。这里可以看到，我下载了3.7.3版：<br> <img src="https://images2.imgbox.com/fc/37/iAmxw4He_o.png" alt="在这里插入图片描述"></p> 
<p>然后可以退出Python解释器环境：<br> <img src="https://images2.imgbox.com/44/5b/BlEC3GVP_o.png" alt="在这里插入图片描述"></p> 
<p>然后在CMD中使用如下代码测试pip工具安装的情况：<br> <strong>pip –V</strong></p> 
<p>接下来，在安装TensorFlow之前，需要先检查主机的GPU是否支持，在命令提示符下，执行命令：<br> <strong>control /name Microsoft.DeviceManager</strong><br> 然后查看“显示适配器”设置，将其打开，然后阅读显示适配器的名称，看看是否支持TensorFlow的运行（一般都会支持）。<br> 注意：下载python时一定要下载64bit的，否则会在安装TensorFlow时出现不兼容的问题。</p> 
<p>2、安装CUDA驱动程序（若没有使用GPU，可先跳过）<br> 要说明一点，目前TensorFlow的最高版本已经提供了对CUDA 10.1的支持，若你下载的TensorFlow版本 &gt;=1.13.0，则需要下载CUDA &gt;=10.0的版本，否则会出现版本不兼容的问题。访问CUDA的下载网站，传送门：https://developer.nvidia.com/cuda-toolkit ，请确保通过选择下面的“Legacy Releases”链接来下载正确版本的驱动程序，如下图所示：<br> <img src="https://images2.imgbox.com/7f/4e/lcv7Ctav_o.png" alt="在这里插入图片描述"></p> 
<p>选择legacy Releases后，选择你需要的版本，如图：<br> <img src="https://images2.imgbox.com/ba/2e/QRwFMqjE_o.png" alt="在这里插入图片描述"></p> 
<p>并记住要选择安装local版本（因为network版本运行时比较依赖网络，网络不好容易崩掉）：<br> <img src="https://images2.imgbox.com/43/5d/XK9QJQ40_o.png" alt="在这里插入图片描述"></p> 
<p>然后下载并安装就OK啦（我使用的TensorFlow版本为1.14.0，故选择了10.0版本的CUDA进行下载安装）。<br> 安装时可以直接选择精简版进行安装，等待一会儿就安装完成了。<br> 附：如果在安装CUDA时出现问题或错误，这篇博客可以给你很大的帮助哦，传传传送门：https://blog.csdn.net/zzpong/article/details/80282814 。<br> 但是，在运行TensorFlow之前，还需要一个与主机的CUDA版本相匹配的cuDNN版本（后面会介绍哦）。</p> 
<p>3、安装TensorFlow<br> 总有人说TensorFlow安装过程十分困难，但是其实细细想来这是其中比较简单的一个步骤了，具体操作如下。<br> 直接在CMD命令行中输入：<br> <strong>pip install tensorflow</strong></p> 
<p>然后就会看到开始下载并安装一个版本的TensorFlow了，等待安装完成，在命令提示符窗口中输入：<br> <strong>python</strong></p> 
<p>打开Python编辑器，在其中输入：<br> <strong>import tensorflow as tf</strong></p> 
<p>若未提示错误，则说明TensorFlow下载安装成功啦，然后再输入：<br> <strong>print(tf.<strong>version</strong>)</strong><br> 就会输出当前安装的TensorFlow的版本号了。</p> 
<p>注意：若提示错误缺少CUDA或NVIDIA，则说明你未完成安装CUDA和cuDNN，按照2、4步骤进行下载安装后即可。<br> 若出现“OSError: [WinError 193] %1 不是有效的 Win32 应用程序”错误，则执行脚本：cscript %SYSTEMDRIVE%\inetpub\adminscripts\adsutil.vbs SET W3SVC/AppPools/Enable32bitAppOnWin64 1 。其中，%SYSTEMDRIVE%表示系统盘（一般为c:）。这个命令的意思是设置在IIS服务器上的32位应用程序可以在Windows64位的机器上运行。</p> 
<p>4、安装cuDNN库（与CUDA呼应）<br> cuDNN库是CUDA针对深度神经网络的更新包，TensorFlow会使用它用于加速NVidia GPU上的深度学习。传送门：https://developer.nvidia.com/cudnn。<br> <img src="https://images2.imgbox.com/4c/d3/Wydd8yEe_o.png" alt="在这里插入图片描述"></p> 
<p>但比较麻烦的是这个网站需要登录才能下载，所以你必须首先要注册一个NVidia开发者账号，它是免费的。登录后，你便会看到各种CuDNN的下载。然后就是选择匹配的版本，由于之前使用了CUDA 10.0，所以确定为CUDA 10.0选择了cuDNN v7.6.2。<br> <img src="https://images2.imgbox.com/23/06/GJa7pjgu_o.png" alt="在这里插入图片描述"></p> 
<p>下载下来的是一个包含了几个文件夹的ZIP文件，每个文件夹包含cuDNN文件（一个DLL，一个头文件和一个库文件）。然后找到你的CUDA安装目录，可以看到也有一个bin、一个include、一个lib文件夹。这么巧，太好了，那还等什么，赶紧将你的cuDNN的bin、include和lib文件夹里的文件全部粘贴到CUDA相关的目录中吧。</p> 
<p>以上就是在Windows环境下下载安装TensorFlow的全部内容了，下面给出一个TensorFlow验证程序：<br> <strong>import tensorflow as tf<br> hello = tf.constant(‘Hello, TensorFlow!’)<br> sess = tf.Session()<br> print(sess.run(hello))<br> sess.close()</strong><br> 若输出**b’Hello, TensorFlow!’**则说明TensorFlow运行正常啦。<br> 提问：为什么会输出b?<br> 解答：b为bytes的意思，是python3的语法，加‘b’表示按位字符串。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9b2276156b507596544b4b9ee8851a5a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">linux 声卡时钟,linux alsa音频中采样率fs、比特率BCLK 、主时钟MCLK关系</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/05f811afad03e6026183b35f742c8ee3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">c语言 对一个字节的某一位进行操作,位操作的实现与分析</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>