<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux--11.网络基础 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux--11.网络基础" />
<meta property="og:description" content="计算机网络背景 网络，是我们通信的重要媒介，在我们之前的学习当中，所有的操作都只是在局部单机进程进行通信，数据交流的，而网络则是可以完成计算机与计算机之间的通信
事实上在网络出现之前，计算机是用来计算导弹轨迹的，计算机可以提高我们的计算效率，但是随着计算量的增加，单一计算机已经不能满足计算需求了，需要计算机与计算机之间的通信，如果计算机与计算机通过人来进行通信的话效率太低了，且可能出错，所以我们由此出现了计算机网络，来实现计算机与计算机之间的通信
独立模式: 计算机之间相互独立 网络互联: 多台计算机连接在一起, 完成数据共享 局域网LAN: 计算机数量更多了, 通过交换机和路由器连接在一起 广域网WAN: 将远隔千里的计算机都连在一起 我们可以发现，网络的发展是随着距离越来越远的，在局域网内我们可以通过交换机来进行通信，距离更远时我们可以通过路由器来完成，随着一张路由器网遍布在我们所生活的世界中，我们便完成了远距离通信
注意：局域网与广域网只是相对的概念，地区与地区间可以看作广域网，而相对于更大的范围--国家之间，他们也就相当于局域网了
而我们不仅不同的主机之间需要有网络来传输数据，我们一台主机的内部，硬件与硬件之间，也是需要数据的传输的，同样也需要网络
协议 协议，其实就是一种约定
计算机之间的传输媒介是光信号和电信号 . 通过 &#34; 频率 &#34; 和 &#34; 强弱 &#34; 来表示 0 和 1 这样的信息 . 要想传递各种不同的信息, 就需要约定好双方的数据格式 . 我们举个通俗易懂的例子，四川人说话，陕西人听不懂，那么我们如果想让这两个人完成通信，他们之间就可以约定，都说普通话，这就是协议
计算机生产厂商有很多 ; 计算机操作系统 , 也有很多 ; 计算机网络硬件设备 , 还是有很多 ; 如何让这些不同厂商之间生产的计算机能够相互顺畅的通信 ? 就需要有人站出来 , 约定一个共同的标准 , 大家都来遵守 , 这就是 网络协议 网络协议 有了协议的基本认识，我们来看看在计算机内部，我们的数据是如何通过协议在两个主机之间进行传输的呢？
我们在操作系统中有各种各样的协议，需要进行管理，所以我们的操作系统通过结构体将这些协议组织起来，当一台主机需要发送数据到另一台主机时，需要将数据与协议进行合并，一同发送出去，所以我们真正进行数据传输时，大小会大一些，大的这部分就是协议，而后目标主机接收到数据，先对其按照特定的协议方式进行“拆包”，随后拿到数据传给上层
注意：两个主机之间需要进行协议的约定，都采用同一种方式对数据进行装包与拆包，若两个主机之间的协议不一致，则无法完成数据的传输，所以约定网络协议是很有必要的
网络里的协议就是一种数据格式，规定的相同的数据格式就是网络协议
协议分层 我们用一个经典的例子来对协议的分层进行形象化的描述，两个人需要交流，约定好都使用中文，这就是应用层的“协议”，电话机与电话机之间，约定好使用电话机协议进行数据的传输，这就是通信设备层的“协议”，再分别通过各自的接口来完成两个人的通信，那么我们如果想切换协议，两个人改成英文交流，此时我们只需要让应用层的用户改变说话的语言即可，对通信层没有影响，若想改变通信层的协议，改成使用手机而不是电话来进行通信，我们也只需要改变下层通信协议即可，不会对应用层造成影响
在这个例子中，其实我们就完成了对协议的分层，分为用户与通信方式之间，这样做的好处是完成了解耦，封装了层级之间的协议，当一层受影响时不会对其他层有影响
OSI七层模型 OSI （ Open System Interconnection ，开放系统互连）七层网络模型称为开放式系统互联参考模型，是一个逻辑上的定义和规范; 把网络从逻辑上分为了 7 层 ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/38424413a7feee778d42b49318b6ff29/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-22T13:18:10+08:00" />
<meta property="article:modified_time" content="2021-10-22T13:18:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux--11.网络基础</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><span style="color:#333333;"><strong>计算机网络背景</strong></span></h2> 
<p><span style="color:#333333;">网络，是我们通信的重要媒介，在我们之前的学习当中，所有的操作都只是在局部单机进程进行通信，数据交流的，而网络则是可以完成计算机与计算机之间的通信</span></p> 
<p><span style="color:#333333;">事实上在网络出现之前，计算机是用来计算导弹轨迹的，计算机可以提高我们的计算效率，但是随着计算量的增加，单一计算机已经不能满足计算需求了，需要计算机与计算机之间的通信，如果计算机与计算机通过人来进行通信的话效率太低了，且可能出错，所以我们由此出现了计算机网络，来实现计算机与计算机之间的通信</span></p> 
<h4><span style="color:#333333;">独立模式</span><span style="color:#333333;">: </span><span style="color:#333333;">计算机之间相互独立</span></h4> 
<p><img alt="" height="574" src="https://images2.imgbox.com/1c/95/Fh2APYyy_o.png" width="790"></p> 
<h4> <span style="color:#333333;">网络互联</span><span style="color:#333333;">: </span><span style="color:#333333;">多台计算机连接在一起</span><span style="color:#333333;">, </span><span style="color:#333333;">完成数据共享</span></h4> 
<p><img alt="" height="552" src="https://images2.imgbox.com/99/e7/ZNXOl57w_o.png" width="946"></p> 
<h4> <span style="color:#333333;">局域网</span><span style="color:#333333;">LAN: </span><span style="color:#333333;">计算机数量更多了</span><span style="color:#333333;">, </span><span style="color:#333333;">通过交换机和路由器连接在一起</span></h4> 
<p><img alt="" height="386" src="https://images2.imgbox.com/d2/c5/cVhxYKJ2_o.png" width="975"></p> 
<h4> <span style="color:#333333;">广域网</span><span style="color:#333333;">WAN: </span><span style="color:#333333;">将远隔千里的计算机都连在一起</span></h4> 
<p><img alt="" height="406" src="https://images2.imgbox.com/ee/f5/GurFxjqd_o.png" width="1016"></p> 
<p> 我们可以发现，网络的发展是随着距离越来越远的，在局域网内我们可以通过交换机来进行通信，距离更远时我们可以通过路由器来完成，随着一张路由器网遍布在我们所生活的世界中，我们便完成了远距离通信</p> 
<p>注意：局域网与广域网只是相对的概念，地区与地区间可以看作广域网，而相对于更大的范围--国家之间，他们也就相当于局域网了</p> 
<p>而我们不仅不同的主机之间需要有网络来传输数据，我们一台主机的内部，硬件与硬件之间，也是需要数据的传输的，同样也需要网络</p> 
<h2><span style="color:#333333;"><strong>协议</strong></span></h2> 
<p>协议，其实就是一种约定</p> 
<p><img alt="" height="274" src="https://images2.imgbox.com/91/16/4OyJRuDE_o.png" width="708"></p> 
<p> </p> 
<div> 
 <span style="color:#333333;">计算机之间的传输媒介是光信号和电信号</span> 
 <span style="color:#333333;">. </span> 
 <span style="color:#333333;">通过</span> 
 <span style="color:#333333;"> "</span> 
 <span style="color:#333333;">频率</span> 
 <span style="color:#333333;">" </span> 
 <span style="color:#333333;">和</span> 
 <span style="color:#333333;"> "</span> 
 <span style="color:#333333;">强弱</span> 
 <span style="color:#333333;">" </span> 
 <span style="color:#333333;">来表示</span> 
 <span style="color:#333333;"> 0 </span> 
 <span style="color:#333333;">和</span> 
 <span style="color:#333333;"> 1 </span> 
 <span style="color:#333333;">这样的信息</span> 
 <span style="color:#333333;">. </span> 
 <span style="color:#333333;">要想传递各种不同的信息, </span> 
 <span style="color:#333333;">就需要约定好双方的数据格式</span> 
 <span style="color:#333333;">.</span> 
</div> 
<p></p> 
<p>我们举个通俗易懂的例子，四川人说话，陕西人听不懂，那么我们如果想让这两个人完成通信，他们之间就可以约定，都说普通话，这就是协议</p> 
<blockquote> 
 <div> 
  <span style="color:#777777;">计算机生产厂商有很多</span> 
  <span style="color:#777777;">; </span> 
 </div> 
 <div> 
  <span style="color:#777777;">计算机操作系统</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">也有很多</span> 
  <span style="color:#777777;">; </span> 
 </div> 
 <div> 
  <span style="color:#777777;">计算机网络硬件设备</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">还是有很多</span> 
  <span style="color:#777777;">; </span> 
 </div> 
 <div> 
  <span style="color:#777777;">如何让这些不同厂商之间生产的计算机能够相互顺畅的通信</span> 
  <span style="color:#777777;">? </span> 
  <span style="color:#777777;">就需要有人站出来</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">约定一个共同的标准</span> 
  <span style="color:#777777;">, </span> 
 </div> 
 <div> 
  <span style="color:#777777;">大家都来遵守</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">这就是 </span> 
  <span style="color:#777777;"><strong>网络协议</strong></span> 
 </div> 
</blockquote> 
<h2><span style="color:#333333;"><strong>网络协议</strong></span></h2> 
<p>有了协议的基本认识，我们来看看在计算机内部，我们的数据是如何通过协议在两个主机之间进行传输的呢？</p> 
<blockquote> 
 <p>我们在操作系统中有各种各样的协议，需要进行管理，所以我们的操作系统通过结构体将这些协议组织起来，当一台主机需要发送数据到另一台主机时，需要将数据与协议进行合并，一同发送出去，所以我们真正进行数据传输时，大小会大一些，大的这部分就是协议，而后目标主机接收到数据，先对其按照特定的协议方式进行“拆包”，随后拿到数据传给上层</p> 
</blockquote> 
<p>注意：两个主机之间需要进行协议的约定，都采用同一种方式对数据进行装包与拆包，若两个主机之间的协议不一致，则无法完成数据的传输，所以约定网络协议是很有必要的</p> 
<p><strong>网络里的协议就是一种数据格式，规定的相同的数据格式就是网络协议</strong></p> 
<h3><span style="color:#333333;"><strong>协议分层</strong></span></h3> 
<p><img alt="" height="882" src="https://images2.imgbox.com/30/b9/84UKmL8g_o.png" width="938"></p> 
<p> 我们用一个经典的例子来对协议的分层进行形象化的描述，两个人需要交流，约定好都使用中文，这就是应用层的“协议”，电话机与电话机之间，约定好使用电话机协议进行数据的传输，这就是通信设备层的“协议”，再分别通过各自的接口来完成两个人的通信，那么我们如果想切换协议，两个人改成英文交流，此时我们只需要让应用层的用户改变说话的语言即可，对通信层没有影响，若想改变通信层的协议，改成使用手机而不是电话来进行通信，我们也只需要改变下层通信协议即可，不会对应用层造成影响</p> 
<p>在这个例子中，其实我们就完成了对协议的分层，分为用户与通信方式之间，这样做的好处是完成了解耦，封装了层级之间的协议，当一层受影响时不会对其他层有影响</p> 
<h2><span style="color:#333333;"><strong>OSI</strong></span><span style="color:#333333;"><strong>七层模型 </strong></span></h2> 
<blockquote> 
 <div> 
  <span style="color:#777777;"><strong>OSI</strong></span> 
  <span style="color:#777777;">（</span> 
  <span style="color:#777777;">Open System Interconnection</span> 
  <span style="color:#777777;">，开放系统互连）七层网络模型称为开放式系统互联参考模型，是一个逻辑上的定义和规范; </span> 
 </div> 
 <div> 
  <span style="color:#777777;">把网络从逻辑上分为了</span> 
  <span style="color:#777777;">7</span> 
  <span style="color:#777777;">层</span> 
  <span style="color:#777777;">. </span> 
  <span style="color:#777777;">每一层都有相关、相对应的物理设备，比如路由器，交换机</span> 
  <span style="color:#777777;">; </span> 
 </div> 
 <div> 
  <span style="color:#777777;">OSI </span> 
  <span style="color:#777777;">七层模型是一种框架性的设计方法，其最主要的功能使就是帮助不同类型的主机实现数据传输</span> 
  <span style="color:#777777;">; </span> 
 </div> 
 <div> 
  <span style="color:#777777;">它的最大优点是将服务、接口和协议这三个概念明确地区分开来，概念清楚，理论也比较完整</span> 
  <span style="color:#777777;">. </span> 
  <span style="color:#777777;">通过七个层次化的结构模型使不同的系统不同的网络之间实现可靠的通讯; </span> 
 </div> 
 <div> 
  <span style="color:#777777;">但是</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">它既复杂又不实用</span> 
  <span style="color:#777777;">; </span> 
  <span style="color:#777777;">所以我们按照</span> 
  <span style="color:#777777;">TCP/IP</span> 
  <span style="color:#777777;">四层模型来讲解</span> 
 </div> 
</blockquote> 
<p><img alt="" height="809" src="https://images2.imgbox.com/ee/ef/xQplMoAF_o.png" width="898"><img alt="" height="564" src="https://images2.imgbox.com/12/cb/hFyXu09w_o.png" width="900"></p> 
<h2> <span style="color:#333333;"><strong>TCP/IP</strong></span><span style="color:#333333;"><strong>五层</strong></span><span style="color:#333333;"><strong>(</strong></span><span style="color:#333333;"><strong>或四层</strong></span><span style="color:#333333;"><strong>)</strong></span><span style="color:#333333;"><strong>模型</strong></span></h2> 
<div> 
 <span style="color:#333333;">TCP/IP</span> 
 <span style="color:#333333;">是一组协议的代名词，它还包括许多协议，组成了</span> 
 <span style="color:#333333;">TCP/IP</span> 
 <span style="color:#333333;">协议簇</span> 
 <span style="color:#333333;">. </span> 
</div> 
<div> 
 <span style="color:#333333;">TCP/IP</span> 
 <span style="color:#333333;">通讯协议采用了</span> 
 <span style="color:#333333;">5</span> 
 <span style="color:#333333;">层的层级结构，每一层都呼叫它的下一层所提供的网络来完成自己的需求</span> 
</div> 
<p></p> 
<blockquote> 
 <div> 
  <span style="color:#777777;"><strong>物理层</strong></span> 
  <span style="color:#777777;">: </span> 
  <span style="color:#777777;">负责光</span> 
  <span style="color:#777777;">/</span> 
  <span style="color:#777777;">电信号的传递方式</span> 
  <span style="color:#777777;">. </span> 
  <span style="color:#777777;">比如现在以太网通用的网线</span> 
  <span style="color:#777777;">(</span> 
  <span style="color:#777777;">双绞 线</span> 
  <span style="color:#777777;">)</span> 
  <span style="color:#777777;">、早期以太网采用的的同轴电缆(现在主要用于有线电视</span> 
  <span style="color:#777777;">)</span> 
  <span style="color:#777777;">、光纤</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">现在的</span> 
  <span style="color:#777777;">wififi</span> 
  <span style="color:#777777;">无线网使用电磁波等都属于物理层的概念。物理层的能力决定了最大传输速率、传输距离、抗干扰性等. </span> 
  <span style="color:#777777;">集线器</span> 
  <span style="color:#777777;">(Hub)</span> 
  <span style="color:#777777;">工作在物理层</span> 
  <span style="color:#777777;">. </span> 
 </div> 
 <div> 
  <span style="color:#777777;"><strong>数据链路层</strong></span> 
  <span style="color:#777777;">: </span> 
  <span style="color:#777777;">负责设备之间的数据帧的传送和识别</span> 
  <span style="color:#777777;">. </span> 
  <span style="color:#777777;">例如网卡设备的驱动、帧同步</span> 
  <span style="color:#777777;">(</span> 
  <span style="color:#777777;">就是说从网线上检测到什么信号算作新帧的开始)</span> 
  <span style="color:#777777;">、冲突检测</span> 
  <span style="color:#777777;">(</span> 
  <span style="color:#777777;">如果检测到冲突就自动重发</span> 
  <span style="color:#777777;">)</span> 
  <span style="color:#777777;">、数据差错校验等工作</span> 
  <span style="color:#777777;">. </span> 
  <span style="color:#777777;">有以太网、令牌环网, </span> 
  <span style="color:#777777;">无线</span> 
  <span style="color:#777777;">LAN</span> 
  <span style="color:#777777;">等标准</span> 
  <span style="color:#777777;">. </span> 
  <span style="color:#777777;">交换机</span> 
  <span style="color:#777777;">(Switch)</span> 
  <span style="color:#777777;">工作在数据链路层</span> 
  <span style="color:#777777;">. </span> 
 </div> 
 <div> 
  <span style="color:#777777;"><strong>网络层</strong></span> 
  <span style="color:#777777;">: </span> 
  <span style="color:#777777;">负责地址管理和路由选择</span> 
  <span style="color:#777777;">. </span> 
  <span style="color:#777777;">例如在</span> 
  <span style="color:#777777;">IP</span> 
  <span style="color:#777777;">协议中</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">通过</span> 
  <span style="color:#777777;">IP</span> 
  <span style="color:#777777;">地址来标识一台主机</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">并通过路由表的方式规划出两台主机之间的数据传输的线路(</span> 
  <span style="color:#777777;">路由</span> 
  <span style="color:#777777;">). </span> 
  <span style="color:#777777;">路由器</span> 
  <span style="color:#777777;">(Router)</span> 
  <span style="color:#777777;">工作在网路层</span> 
  <span style="color:#777777;">. </span> 
 </div> 
 <div> 
  <span style="color:#777777;"><strong>传输层</strong></span> 
  <span style="color:#777777;">: </span> 
  <span style="color:#777777;">负责两台主机之间的数据传输</span> 
  <span style="color:#777777;">. </span> 
  <span style="color:#777777;">如传输控制协议</span> 
  <span style="color:#777777;"> (TCP), </span> 
  <span style="color:#777777;">能够确保数据可靠的从源主机发送到目标主机. </span> 
 </div> 
 <div> 
  <span style="color:#777777;"><strong>应用层</strong></span> 
  <span style="color:#777777;">: </span> 
  <span style="color:#777777;">负责应用程序间沟通，如简单电子邮件传输（</span> 
  <span style="color:#777777;">SMTP</span> 
  <span style="color:#777777;">）、文件传输协议（</span> 
  <span style="color:#777777;">FTP</span> 
  <span style="color:#777777;">）、网络远程访问协议（Telnet</span> 
  <span style="color:#777777;">）等</span> 
  <span style="color:#777777;">. </span> 
  <span style="color:#777777;">我们的网络编程主要就是针对应用层</span> 
 </div> 
</blockquote> 
<p><img alt="" height="611" src="https://images2.imgbox.com/96/38/jiy3cVH9_o.png" width="954"></p> 
<p> 我们的五层模型指得是去掉表示层与会话层剩下的部分</p> 
<p>我们的四层模型值得是去掉表示层，会话层与物理层剩下的部分</p> 
<blockquote> 
 <div> 
  <span style="color:#777777;">对于一台主机</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">它的操作系统内核实现了从传输层到物理层的内容</span> 
  <span style="color:#777777;">; </span> 
 </div> 
 <div> 
  <span style="color:#777777;">对于一台路由器</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">它实现了从网络层到物理层</span> 
  <span style="color:#777777;">; </span> 
 </div> 
 <div> 
  <span style="color:#777777;">对于一台交换机</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">它实现了从数据链路层到物理层</span> 
  <span style="color:#777777;">; </span> 
 </div> 
 <div> 
  <span style="color:#777777;">对于集线器</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">它只实现了物理层</span> 
 </div> 
</blockquote> 
<h2 id="%E4%B8%89.%20%E7%BD%91%E7%BB%9C%E4%BC%A0%E8%BE%93%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B">网络传输基本流程</h2> 
<h3><span style="color:#333333;"><strong>网络传输流程图</strong></span></h3> 
<h4><span style="color:#333333;">同一个网段内的两台主机进行文件传输</span></h4> 
<p><img alt="" height="1078" src="https://images2.imgbox.com/ca/c3/sG4fwI3i_o.png" width="1000"></p> 
<p> 我们的客户需要传递数据给服务器，先添加FTP协议，再通过TCP协议传递到传输层，再通过IP协议传递到网络层，再通过以太网协议到达链路层，通过以太网将数据与添加的三层协议报头传递给服务器的以太网程序，而后开始分离之前层层封装的报头与数据，最后传递给服务器</p> 
<h4><span style="color:#333333;">跨网段的主机的文件传输</span><span style="color:#333333;">. </span><span style="color:#333333;">数据从一台计算机到另一台计算机传输过程中要经过一个或多个路由器</span></h4> 
<p><img alt="" height="656" src="https://images2.imgbox.com/ea/13/v1OukYPV_o.png" width="1000"></p> 
<p>这种需要跨网段传输数据的形式需要加上一步路由器的传输</p> 
<h3> <span style="color:#333333;"><strong>数据包封装和分用</strong></span></h3> 
<blockquote> 
 <div> 
  <span style="color:#777777;">不同的协议层对数据包有不同的称谓</span> 
  <span style="color:#777777;">,</span> 
  <span style="color:#777777;">在传输层叫做段</span> 
  <span style="color:#777777;">(segment),</span> 
  <span style="color:#777777;">在网络层叫做数据报</span> 
  <span style="color:#777777;"> (datagram),</span> 
  <span style="color:#777777;">在链路层叫做帧(frame). </span> 
 </div> 
 <div> 
  <span style="color:#777777;">应用层数据通过协议栈发到网络上时</span> 
  <span style="color:#777777;">,</span> 
  <span style="color:#777777;">每层协议都要加上一个数据首部</span> 
  <span style="color:#777777;">(header),</span> 
  <span style="color:#777777;">称为封(Encapsulation). </span> 
 </div> 
 <div> 
  <span style="color:#777777;">首部信息中包含了一些类似于首部有多长</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">载荷</span> 
  <span style="color:#777777;">(payload)</span> 
  <span style="color:#777777;">有多长</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">上层协议是什么等信息</span> 
  <span style="color:#777777;">. </span> 
 </div> 
 <div> 
  <span style="color:#777777;">数据封装成帧后发到传输介质上</span> 
  <span style="color:#777777;">,</span> 
  <span style="color:#777777;">到达目的主机后每层协议再剥掉相应的首部</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">根据首部中的</span> 
  <span style="color:#777777;"> "</span> 
  <span style="color:#777777;">上层协议字段" </span> 
  <span style="color:#777777;">将数据交给对应的上层协议处理</span> 
 </div> 
</blockquote> 
<h4><span style="color:#333333;">下图为数据封装的过程</span></h4> 
<p><img alt="" height="720" src="https://images2.imgbox.com/fa/8e/EXTW9OeF_o.png" width="1032"></p> 
<h4> <span style="color:#333333;">下图为数据分用的过程</span></h4> 
<p><img alt="" height="620" src="https://images2.imgbox.com/83/e4/jEg2i5Fq_o.png" width="1004"></p> 
<p> 事实上，我们通过上面的逻辑其实可以发现，<strong>局域网中的一台主机发送数据，每台主机都能收到</strong></p> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.1.2%20%E5%B1%80%E5%9F%9F%E7%BD%91%E9%80%9A%E8%AE%AF%E5%8E%9F%E7%90%86">局域网通讯原理</h4> 
<blockquote> 
 <p>既然我们在局域网中所有主机都可以收到发送的数据，那么如何来标识是否接收呢？，其实我们所有的主机，在数据链路层都有一个mac地址，用来唯一标识一个网卡，而在链路层会将目标主机的mac地址添加到报头中，发送的数据每一台主机都能收到，在链路层会分析报头的mac地址，看是否与当前主机的mac地址匹配，不匹配则会直接丢弃，匹配的话才向上解包数据</p> 
 <p>广播：将mac地址设置为全f，所有的主机都可以收到数据</p> 
</blockquote> 
<h2><span style="color:#333333;"><strong>网络中的地址管理</strong></span></h2> 
<h3><span style="color:#333333;"><strong>认识</strong></span><span style="color:#333333;"><strong>IP</strong></span><span style="color:#333333;"><strong>地址</strong></span></h3> 
<div> 
 <span style="color:#333333;">IP</span> 
 <span style="color:#333333;">协议有两个版本</span> 
 <span style="color:#333333;">, IPv4</span> 
 <span style="color:#333333;">和</span> 
 <span style="color:#333333;">IPv6. </span> 
 <span style="color:#333333;">我们整个的课程</span> 
 <span style="color:#333333;">, </span> 
 <span style="color:#333333;">凡是提到</span> 
 <span style="color:#333333;">IP</span> 
 <span style="color:#333333;">协议</span> 
 <span style="color:#333333;">, </span> 
 <span style="color:#333333;">没有特殊说明的</span> 
 <span style="color:#333333;">, </span> 
 <span style="color:#333333;">默认都是指</span> 
 <span style="color:#333333;">IPv4</span> 
</div> 
<blockquote> 
 <div> 
  <span style="color:#777777;">IP</span> 
  <span style="color:#777777;">地址是在</span> 
  <span style="color:#777777;">IP</span> 
  <span style="color:#777777;">协议中</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">用来标识网络中不同主机的地址</span> 
  <span style="color:#777777;">; </span> 
 </div> 
 <div> 
  <span style="color:#777777;">对于</span> 
  <span style="color:#777777;">IPv4</span> 
  <span style="color:#777777;">来说</span> 
  <span style="color:#777777;">, IP</span> 
  <span style="color:#777777;">地址是一个</span> 
  <span style="color:#777777;">4</span> 
  <span style="color:#777777;">字节</span> 
  <span style="color:#777777;">, 32</span> 
  <span style="color:#777777;">位的整数</span> 
  <span style="color:#777777;">; </span> 
 </div> 
 <div> 
  <span style="color:#777777;">我们通常也使用</span> 
  <span style="color:#777777;"> "</span> 
  <span style="color:#777777;">点分十进制</span> 
  <span style="color:#777777;">" </span> 
  <span style="color:#777777;">的字符串表示</span> 
  <span style="color:#777777;">IP</span> 
  <span style="color:#777777;">地址</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">例如</span> 
  <span style="color:#777777;"> 192.168.0.1 ; </span> 
  <span style="color:#777777;">用点分割的每一个数字表示一个字节, </span> 
  <span style="color:#777777;">范围是</span> 
  <span style="color:#777777;"> 0 - 255; </span> 
 </div> 
</blockquote> 
<p>其实我们现在IPv4已经快不够用了，国家也在推崇IPv6，但是由于兼容性的问题发展缓慢</p> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%204.2%20%E8%AE%A4%E8%AF%86MAC%E5%9C%B0%E5%9D%80">认识MAC地址</h3> 
<blockquote> 
 <div> 
  <span style="color:#777777;">MAC</span> 
  <span style="color:#777777;">地址用来识别数据链路层中相连的节点</span> 
  <span style="color:#777777;">; </span> 
 </div> 
 <div> 
  <span style="color:#777777;">长度为</span> 
  <span style="color:#777777;">48</span> 
  <span style="color:#777777;">位</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">及</span> 
  <span style="color:#777777;">6</span> 
  <span style="color:#777777;">个字节</span> 
  <span style="color:#777777;">. </span> 
  <span style="color:#777777;">一般用</span> 
  <span style="color:#777777;">16</span> 
  <span style="color:#777777;">进制数字加上冒号的形式来表示</span> 
  <span style="color:#777777;">(</span> 
  <span style="color:#777777;">例如</span> 
  <span style="color:#777777;">: 08:00:27:03:fb:19) </span> 
 </div> 
 <div> 
  <span style="color:#777777;">在网卡出厂时就确定了</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">不能修改</span> 
  <span style="color:#777777;">. mac</span> 
  <span style="color:#777777;">地址通常是唯一的</span> 
  <span style="color:#777777;">(</span> 
  <span style="color:#777777;">虚拟机中的</span> 
  <span style="color:#777777;">mac</span> 
  <span style="color:#777777;">地址不是真实的</span> 
  <span style="color:#777777;">mac</span> 
  <span style="color:#777777;">地址</span> 
  <span style="color:#777777;">, </span> 
  <span style="color:#777777;">可能会冲突; </span> 
  <span style="color:#777777;">也有些网卡支持用户配置</span> 
  <span style="color:#777777;">mac</span> 
  <span style="color:#777777;">地址</span> 
  <span style="color:#777777;">)</span> 
 </div> 
</blockquote> 
<p><img alt="" height="276" src="https://images2.imgbox.com/5e/d9/1ZoHWKiG_o.png" width="512"></p> 
<p> 我们可以通过ifconfig来查询我们的mac地址</p> 
<p>inet:IP地址</p> 
<p>netmask：子网掩码</p> 
<p>broadcast：广播</p> 
<p>ether：以太网</p> 
<p>inet&amp;netmask=子网</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/30a7cd3d475d289cd7bdd52abf59a87e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">手写call、apply、bind函数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d18e7ae67cd457ab2da8cbb2ab831b26/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">AXI4协议学习：架构、信号定义、工作时序和握手机制</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>