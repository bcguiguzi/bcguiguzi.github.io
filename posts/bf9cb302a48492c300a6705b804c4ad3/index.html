<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PyTorch学习笔记之基础函数篇（十四） - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="PyTorch学习笔记之基础函数篇（十四）" />
<meta property="og:description" content="文章目录 7.14 torch.fmod() 函数7.15 torch.remainder() 函数7.16 torch.frac() 函数7.17 torch.round() 函数 7.14 torch.fmod() 函数 在PyTorch中，torch.fmod 函数用于计算张量（tensor）中每个元素除以另一个张量或标量后的浮点余数1。
函数签名如下：
torch.fmod(input, divisor, *, out=None) → Tensor 参数解释：
input (Tensor): 需要进行取余操作的输入张量。divisor (Tensor or float): 除数，可以是与张量 input 形状相同的张量，也可以是一个标量。out (Tensor, optional): 输出张量。如果提供，则结果将写入这个张量中，并且函数将返回这个张量。 torch.fmod 函数会返回一个新的张量，其中包含了输入张量 input 中每个元素除以 divisor 后的浮点余数。如果 divisor 是一个标量，那么它会被广播到与 input 相同的形状。如果 divisor 是一个张量，那么它必须具有与 input 相同的形状，或者可以广播到与 input 相同的形状。
以下是一个使用 torch.fmod 的例子：
import torch # 创建一个张量 x = torch.tensor([3.0, 5.0, 7.0]) # 使用标量进行取余操作 y = torch.fmod(x, 2.0) # 打印结果 print(y) 输出将会是：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/bf9cb302a48492c300a6705b804c4ad3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-16T21:03:26+08:00" />
<meta property="article:modified_time" content="2024-03-16T21:03:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">PyTorch学习笔记之基础函数篇（十四）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#714_torchfmod__2" rel="nofollow">7.14 torch.fmod() 函数</a></li><li><a href="#715_torchremainder__59" rel="nofollow">7.15 torch.remainder() 函数</a></li><li><a href="#716_torchfrac__111" rel="nofollow">7.16 torch.frac() 函数</a></li><li><a href="#717_torchround__146" rel="nofollow">7.17 torch.round() 函数</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="714_torchfmod__2"></a>7.14 torch.fmod() 函数</h3> 
<p>在PyTorch中，torch.fmod 函数用于计算张量（tensor）中每个元素除以另一个张量或标量后的浮点余数1。</p> 
<p>函数签名如下：</p> 
<pre><code class="prism language-python">torch<span class="token punctuation">.</span>fmod<span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">,</span> divisor<span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">,</span> out<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span> → Tensor
</code></pre> 
<p>参数解释：</p> 
<ul><li>input (Tensor): 需要进行取余操作的输入张量。</li><li>divisor (Tensor or float): 除数，可以是与张量 input 形状相同的张量，也可以是一个标量。</li><li>out (Tensor, optional): 输出张量。如果提供，则结果将写入这个张量中，并且函数将返回这个张量。</li></ul> 
<p>torch.fmod 函数会返回一个新的张量，其中包含了输入张量 input 中每个元素除以 divisor 后的浮点余数。如果 divisor 是一个标量，那么它会被广播到与 input 相同的形状。如果 divisor 是一个张量，那么它必须具有与 input 相同的形状，或者可以广播到与 input 相同的形状。</p> 
<p>以下是一个使用 torch.fmod 的例子：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> torch

<span class="token comment"># 创建一个张量</span>
x <span class="token operator">=</span> torch<span class="token punctuation">.</span>tensor<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3.0</span><span class="token punctuation">,</span> <span class="token number">5.0</span><span class="token punctuation">,</span> <span class="token number">7.0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 使用标量进行取余操作</span>
y <span class="token operator">=</span> torch<span class="token punctuation">.</span>fmod<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">)</span>

<span class="token comment"># 打印结果</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>
</code></pre> 
<p>输出将会是：</p> 
<pre><code class="prism language-python">tensor<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1.</span><span class="token punctuation">,</span> <span class="token number">1.</span><span class="token punctuation">,</span> <span class="token number">1.</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p>在这个例子中，torch.fmod 函数计算了张量 x 中每个元素除以标量 2.0 后的浮点余数，并将结果存储在 y 中。</p> 
<p>你也可以使用与张量形状相同的 divisor：</p> 
<pre><code class="prism language-python"><span class="token comment"># 创建一个张量</span>
x <span class="token operator">=</span> torch<span class="token punctuation">.</span>tensor<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3.0</span><span class="token punctuation">,</span> <span class="token number">5.0</span><span class="token punctuation">,</span> <span class="token number">7.0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 使用形状相同的张量进行取余操作</span>
divisor <span class="token operator">=</span> torch<span class="token punctuation">.</span>tensor<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token number">3.0</span><span class="token punctuation">,</span> <span class="token number">4.0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
y <span class="token operator">=</span> torch<span class="token punctuation">.</span>fmod<span class="token punctuation">(</span>x<span class="token punctuation">,</span> divisor<span class="token punctuation">)</span>

<span class="token comment"># 打印结果</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>
</code></pre> 
<p>输出将会是：</p> 
<pre><code class="prism language-python">tensor<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1.0000</span><span class="token punctuation">,</span> <span class="token number">2.0000</span><span class="token punctuation">,</span> <span class="token number">3.0000</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p>在这个例子中，divisor 是一个与张量 x 形状相同的张量，torch.fmod 函数分别计算了 x 中每个元素除以 divisor 中对应元素后的浮点余数。</p> 
<h3><a id="715_torchremainder__59"></a>7.15 torch.remainder() 函数</h3> 
<p>在 PyTorch 中，torch.remainder 函数用于计算张量（tensor）中每个元素除以另一个张量或标量后的余数。这个函数与 torch.fmod 类似，但两者在处理负数和零时的行为有所不同。</p> 
<p>函数签名如下：</p> 
<pre><code class="prism language-python">torch<span class="token punctuation">.</span>remainder<span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">,</span> divisor<span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">,</span> out<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span> → Tensor
</code></pre> 
<p>参数解释：</p> 
<ul><li>input (Tensor): 需要进行取余操作的输入张量。</li><li>divisor (Tensor or float): 除数，可以是与张量 input 形状相同的张量，也可以是一个标量。</li><li>out (Tensor, optional): 输出张量。如果提供，则结果将写入这个张量中，并且函数将返回这个张量。</li></ul> 
<p>torch.remainder 使用 Python 的 % 运算符来计算余数，这意味着它的行为符合 Python 的整数除法规则。具体来说，当 divisor 是正数时，torch.remainder 的行为类似于 torch.fmod。但是，当 divisor 是负数时，torch.remainder 会返回一个与 divisor 符号相同的余数，而 torch.fmod 则总是返回一个正余数。</p> 
<p>以下是一个使用 torch.remainder 的例子：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> torch

<span class="token comment"># 创建一个张量</span>
x <span class="token operator">=</span> torch<span class="token punctuation">.</span>tensor<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 使用标量进行取余操作</span>
y <span class="token operator">=</span> torch<span class="token punctuation">.</span>remainder<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment"># 打印结果</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>
</code></pre> 
<p>输出将会是：</p> 
<pre><code class="prism language-python">tensor<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p>在这个例子中，torch.remainder 函数计算了张量 x 中每个元素除以 2 后的余数。由于 divisor 是正数 2，所以结果和 torch.fmod 相同。</p> 
<p>然而，如果 divisor 是负数，torch.remainder 的行为将会有所不同：</p> 
<pre><code class="prism language-python"><span class="token comment"># 使用负数标量进行取余操作</span>
y <span class="token operator">=</span> torch<span class="token punctuation">.</span>remainder<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment"># 打印结果</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>
</code></pre> 
<p>输出将会是：</p> 
<pre><code class="prism language-python">tensor<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p>在这个例子中，由于 divisor 是负数 -2，torch.remainder 返回了一个与 divisor 符号相同的余数。</p> 
<p>需要注意的是，在处理可能包含零的除法时，torch.remainder 和 torch.fmod 的行为可能也有所不同，因为零不能作为除数。在这种情况下，你应该确保你的代码能够妥善处理这种情况，避免除以零的错误。</p> 
<h3><a id="716_torchfrac__111"></a>7.16 torch.frac() 函数</h3> 
<p>在PyTorch中，torch.frac 函数用于计算张量（tensor）中每个元素的分数部分，即每个元素减去其向下取整后的值。</p> 
<p>函数签名如下：</p> 
<pre><code class="prism language-python">torch<span class="token punctuation">.</span>frac<span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">,</span> out<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span> → Tensor
</code></pre> 
<p>参数解释：</p> 
<ul><li>input (Tensor): 需要计算分数部分的输入张量。</li><li>out (Tensor, optional): 输出张量。如果提供，则结果将写入这个张量中，并且函数将返回这个张量。</li></ul> 
<p>torch.frac 会返回一个新的张量，其中每个元素都是输入张量中对应元素的分数部分。</p> 
<p>以下是一个使用 torch.frac 的例子：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> torch

<span class="token comment"># 创建一个张量</span>
x <span class="token operator">=</span> torch<span class="token punctuation">.</span>tensor<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3.7</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2.2</span><span class="token punctuation">,</span> <span class="token number">5.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 计算张量中每个元素的分数部分</span>
y <span class="token operator">=</span> torch<span class="token punctuation">.</span>frac<span class="token punctuation">(</span>x<span class="token punctuation">)</span>

<span class="token comment"># 打印结果</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>
</code></pre> 
<p>输出将会是：</p> 
<pre><code class="prism language-python">tensor<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0.7000</span><span class="token punctuation">,</span> <span class="token number">0.7999</span><span class="token punctuation">,</span> <span class="token number">0.0000</span><span class="token punctuation">,</span> <span class="token number">0.0000</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p>在这个例子中，torch.frac 函数计算了张量 x 中每个元素的分数部分。可以看到，结果张量 y 中的每个元素都是 x 中对应元素减去其向下取整后的值。例如，3.7 的向下取整是 3，所以其分数部分是 3.7 - 3 = 0.7。同样地，-2.2 的向下取整是 -3，所以其分数部分是 -2.2 - (-3) = 0.8（注意这里由于向下取整，符号不会改变），以此类推</p> 
<h3><a id="717_torchround__146"></a>7.17 torch.round() 函数</h3> 
<p>在PyTorch中，torch.round() 函数用于将张量（tensor）中的每个元素四舍五入到最接近的整数。这意味着如果元素的值在两个整数之间，它将向上或向下取整，具体取决于它距离哪个整数更近。</p> 
<p>函数签名如下：</p> 
<pre><code class="prism language-python">torch<span class="token punctuation">.</span><span class="token builtin">round</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">,</span> out<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span> → Tensor
</code></pre> 
<p>参数解释：</p> 
<ul><li>input (Tensor): 需要进行四舍五入的输入张量。</li><li>out (Tensor, optional): 输出张量。如果提供，则结果将写入这个张量中，并且函数将返回这个张量。</li></ul> 
<p>torch.round() 返回一个新的张量，其中包含了输入张量中每个元素四舍五入后的结果。</p> 
<p>以下是一个使用 torch.round() 的例子：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> torch

<span class="token comment"># 创建一个张量</span>
x <span class="token operator">=</span> torch<span class="token punctuation">.</span>tensor<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2.7</span><span class="token punctuation">,</span> <span class="token number">3.5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4.4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 对张量进行四舍五入</span>
y <span class="token operator">=</span> torch<span class="token punctuation">.</span><span class="token builtin">round</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>

<span class="token comment"># 打印结果</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>
</code></pre> 
<p>输出将会是：</p> 
<pre><code>tensor([ 1., -3.,  4., -4.])
</code></pre> 
<p>在这个例子中，torch.round() 函数将张量 x 中的每个元素四舍五入到了最接近的整数，并将结果存储在 y 中。可以看到，1.2 四舍五入后变成了 1，-2.7 四舍五入后变成了 -3，3.5 四舍五入后变成了 4，而 -4.4 四舍五入后变成了 -4。</p> 
<p>需要注意的是，torch.round() 函数在处理浮点数时可能会引入一些微小的误差，因为浮点数的表示本身就不是完全精确的。然而，在大多数情况下，这些误差是可以忽略不计的。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6f4917a05449e5943cda3f375693dd05/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Maven基础</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/761daf713ca12c48aeaece5641629adc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">openCV实现拖拽虚拟方块</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>