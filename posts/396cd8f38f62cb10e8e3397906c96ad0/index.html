<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【OpenCV实战】简洁易懂的车牌号识别Python&#43;OpenCV实现“超详解”（含代码） - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【OpenCV实战】简洁易懂的车牌号识别Python&#43;OpenCV实现“超详解”（含代码）" />
<meta property="og:description" content="前面4篇博客介绍了OpenCV图像处理的基础知识，本篇博客利用前4篇的知识完成一个小项目——车牌号码识别。该篇博客的代码可以满足小区门禁车牌号的识别。本篇博客是前4篇博客知识的一个综合运用。感觉学会了这个可以实现一系列的图像识别任务。。。毕竟好多技巧都是共通的
首先要感谢 大佬的博客 ，在它的基础上完成了自己的识别任务。
简洁易懂的车牌号识别Python实现“超详解”（含代码） 1、整体思路2、代码详解2.1提取车牌位置2.2车牌字符的分割2.3模板匹配识别字符 3、总结4、参考 1、整体思路 首先附上本次识别的图片：（图片是我在百度上找的）
基于OpenCV车牌号识别总体分为四个步骤：
（1）提取车牌位置，将车牌从图中分割出来；
（2）车牌字符的分割；
（3）通过模版匹配识别字符；
（4）将结果绘制在图片上显示出来。
与深度学习相比，传统图像处理的识别有好处又有坏处：
好处：不需要大量的数据集训练模型，通过形态学、边缘检测等操作提取特征
坏处：基于传统图像处理的图像识别代码的泛化性较低，当图像的角度，光照不同时，识别效果有时会不尽人意。
2、代码详解 为了方便观察每一步图片的变化，本次代码在Jupyter Notebook上编写，全部代码以上传（可直接运行）。
本次项目中会多次使用到图片显示和图片去噪灰度处理，所以首先定义了显示函数和高斯滤波灰度处理函数，方便后面的调用：
# 导入所需模块 import cv2 from matplotlib import pyplot as plt import os import numpy as np # plt显示彩色图片 def plt_show0(img): #cv2与plt的图像通道不同：cv2为[b,g,r];plt为[r, g, b] b,g,r = cv2.split(img) img = cv2.merge([r, g, b]) plt.imshow(img) plt.show() # plt显示灰度图片 def plt_show(img): plt.imshow(img,cmap=&#39;gray&#39;) plt.show() # 图像去噪灰度处理 def gray_guss(image): image = cv2.GaussianBlur(image, (3, 3), 0) gray_image = cv2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/396cd8f38f62cb10e8e3397906c96ad0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-06T11:22:17+08:00" />
<meta property="article:modified_time" content="2023-08-06T11:22:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【OpenCV实战】简洁易懂的车牌号识别Python&#43;OpenCV实现“超详解”（含代码）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>前面4篇博客介绍了OpenCV图像处理的基础知识，本篇博客利用前4篇的知识完成一个小项目——车牌号码识别。该篇博客的代码可以满足小区门禁车牌号的识别。本篇博客是前4篇博客知识的一个综合运用。感觉学会了这个可以实现一系列的图像识别任务。。。毕竟好多技巧都是共通的<br> 首先要感谢 <a href="http://zengqiang.club" rel="nofollow">大佬的博客</a> ，在它的基础上完成了自己的识别任务。</p> 
<p></p> 
<div class="toc"> 
 <h4>简洁易懂的车牌号识别Python实现“超详解”（含代码）</h4> 
 <ul><li><a href="#1_4" rel="nofollow">1、整体思路</a></li><li><a href="#2_15" rel="nofollow">2、代码详解</a></li><li><ul><li><a href="#21_45" rel="nofollow">2.1提取车牌位置</a></li><li><a href="#22_102" rel="nofollow">2.2车牌字符的分割</a></li><li><a href="#23_155" rel="nofollow">2.3模板匹配识别字符</a></li></ul> 
  </li><li><a href="#3_310" rel="nofollow">3、总结</a></li><li><a href="#4_321" rel="nofollow">4、参考</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1_4"></a>1、整体思路</h2> 
<p>首先附上本次识别的图片：（图片是我在百度上找的）<br> <img src="https://images2.imgbox.com/fb/9d/10J3X6rn_o.jpg" alt="在这里插入图片描述"><br> <strong>基于OpenCV车牌号识别总体分为四个步骤</strong>：<br> （<strong>1</strong>）提取车牌位置，将车牌从图中分割出来；<br> （<strong>2</strong>）车牌字符的分割；<br> （<strong>3</strong>）通过模版匹配识别字符；<br> （<strong>4</strong>）将结果绘制在图片上显示出来。<br> <strong>与深度学习相比，传统图像处理的识别有好处又有坏处</strong>：<br> <strong>好处</strong>：不需要大量的数据集训练模型，通过形态学、边缘检测等操作提取特征<br> <strong>坏处</strong>：基于传统图像处理的图像识别代码的泛化性较低，当图像的角度，光照不同时，识别效果有时会不尽人意。</p> 
<h2><a id="2_15"></a>2、代码详解</h2> 
<p>为了方便观察每一步图片的变化，本次代码在Jupyter Notebook上编写，全部代码以上传（可直接运行）。<br> 本次项目中会多次使用到图片显示和图片去噪灰度处理，所以首先定义了<strong>显示函数</strong>和<strong>高斯滤波灰度处理函数</strong>，方便后面的调用：</p> 
<pre><code class="prism language-python"><span class="token comment"># 导入所需模块</span>
<span class="token keyword">import</span> cv2
<span class="token keyword">from</span> matplotlib <span class="token keyword">import</span> pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> os
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token comment"># plt显示彩色图片</span>
<span class="token keyword">def</span> <span class="token function">plt_show0</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token comment">#cv2与plt的图像通道不同：cv2为[b,g,r];plt为[r, g, b]</span>
    b<span class="token punctuation">,</span>g<span class="token punctuation">,</span>r <span class="token operator">=</span> cv2<span class="token punctuation">.</span>split<span class="token punctuation">(</span>img<span class="token punctuation">)</span>
    img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>merge<span class="token punctuation">(</span><span class="token punctuation">[</span>r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">]</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img<span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
<span class="token comment"># plt显示灰度图片</span>
<span class="token keyword">def</span> <span class="token function">plt_show</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">:</span>
    plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img<span class="token punctuation">,</span>cmap<span class="token operator">=</span><span class="token string">'gray'</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 图像去噪灰度处理</span>
<span class="token keyword">def</span> <span class="token function">gray_guss</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">:</span>
    image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>GaussianBlur<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    gray_image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>image<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_RGB2GRAY<span class="token punctuation">)</span>
    <span class="token keyword">return</span> gray_image
</code></pre> 
<h3><a id="21_45"></a>2.1提取车牌位置</h3> 
<p>对图片进行阈值化处理、边缘检测及形态学操作，根据得到的轮廓特征识别车牌的具体位置，将车牌分割出来。直接上代码及代码详解：</p> 
<pre><code class="prism language-python"><span class="token comment"># 读取待检测图片</span>
origin_image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'./image/car.jpg'</span><span class="token punctuation">)</span>
<span class="token comment"># 复制一张图片，在复制图上进行图像操作，保留原图</span>
image <span class="token operator">=</span> origin_image<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 图像去噪灰度处理</span>
gray_image <span class="token operator">=</span> gray_guss<span class="token punctuation">(</span>image<span class="token punctuation">)</span>
<span class="token comment"># x方向上的边缘检测（增强边缘信息）</span>
Sobel_x <span class="token operator">=</span> cv2<span class="token punctuation">.</span>Sobel<span class="token punctuation">(</span>gray_image<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>CV_16S<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
absX <span class="token operator">=</span> cv2<span class="token punctuation">.</span>convertScaleAbs<span class="token punctuation">(</span>Sobel_x<span class="token punctuation">)</span>
image <span class="token operator">=</span> absX

<span class="token comment"># 图像阈值化操作——获得二值化图</span>
ret<span class="token punctuation">,</span> image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>threshold<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>THRESH_OTSU<span class="token punctuation">)</span>
<span class="token comment"># 显示灰度图像</span>
plt_show<span class="token punctuation">(</span>image<span class="token punctuation">)</span>
<span class="token comment"># 形态学（从图像中提取对表达和描绘区域形状有意义的图像分量）——闭操作</span>
kernelX <span class="token operator">=</span> cv2<span class="token punctuation">.</span>getStructuringElement<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>MORPH_RECT<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>morphologyEx<span class="token punctuation">(</span>image<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>MORPH_CLOSE<span class="token punctuation">,</span> kernelX<span class="token punctuation">,</span>iterations <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># 显示灰度图像</span>
plt_show<span class="token punctuation">(</span>image<span class="token punctuation">)</span>
</code></pre> 
<p>二值化图以及闭操作（闭合细小的连接，抑制暗细节）的结果如图所示：</p> 
<p><img src="https://images2.imgbox.com/63/6e/9iILxIev_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python"><span class="token comment"># 腐蚀（erode）和膨胀（dilate）</span>
kernelX <span class="token operator">=</span> cv2<span class="token punctuation">.</span>getStructuringElement<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>MORPH_RECT<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
kernelY <span class="token operator">=</span> cv2<span class="token punctuation">.</span>getStructuringElement<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>MORPH_RECT<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#x方向进行闭操作（抑制暗细节）</span>
image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>dilate<span class="token punctuation">(</span>image<span class="token punctuation">,</span> kernelX<span class="token punctuation">)</span>
image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>erode<span class="token punctuation">(</span>image<span class="token punctuation">,</span> kernelX<span class="token punctuation">)</span>
<span class="token comment">#y方向的开操作</span>
image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>erode<span class="token punctuation">(</span>image<span class="token punctuation">,</span> kernelY<span class="token punctuation">)</span>
image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>dilate<span class="token punctuation">(</span>image<span class="token punctuation">,</span> kernelY<span class="token punctuation">)</span>
<span class="token comment"># 中值滤波（去噪）</span>
image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>medianBlur<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">)</span>
<span class="token comment"># 显示灰度图像</span>
plt_show<span class="token punctuation">(</span>image<span class="token punctuation">)</span>
<span class="token comment"># 获得轮廓</span>
contours<span class="token punctuation">,</span> hierarchy <span class="token operator">=</span> cv2<span class="token punctuation">.</span>findContours<span class="token punctuation">(</span>image<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>RETR_EXTERNAL<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>CHAIN_APPROX_SIMPLE<span class="token punctuation">)</span>

<span class="token keyword">for</span> item <span class="token keyword">in</span> contours<span class="token punctuation">:</span>
    rect <span class="token operator">=</span> cv2<span class="token punctuation">.</span>boundingRect<span class="token punctuation">(</span>item<span class="token punctuation">)</span>
    x <span class="token operator">=</span> rect<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    y <span class="token operator">=</span> rect<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    weight <span class="token operator">=</span> rect<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
    height <span class="token operator">=</span> rect<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
    <span class="token comment"># 根据轮廓的形状特点，确定车牌的轮廓位置并截取图像</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>weight <span class="token operator">&gt;</span> <span class="token punctuation">(</span>height <span class="token operator">*</span> <span class="token number">3.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>weight <span class="token operator">&lt;</span> <span class="token punctuation">(</span>height <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        image <span class="token operator">=</span> origin_image<span class="token punctuation">[</span>y<span class="token punctuation">:</span>y <span class="token operator">+</span> height<span class="token punctuation">,</span> x<span class="token punctuation">:</span>x <span class="token operator">+</span> weight<span class="token punctuation">]</span>
        plt_show0<span class="token punctuation">(</span>image<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d2/38/kKIP4sj7_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/3d/f4/I9TsjyZl_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="22_102"></a>2.2车牌字符的分割</h3> 
<pre><code class="prism language-python"><span class="token comment">#车牌字符分割</span>
<span class="token comment"># 图像去噪灰度处理</span>
gray_image <span class="token operator">=</span> gray_guss<span class="token punctuation">(</span>image<span class="token punctuation">)</span>
<span class="token comment"># 图像阈值化操作——获得二值化图   </span>
ret<span class="token punctuation">,</span> image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>threshold<span class="token punctuation">(</span>gray_image<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>THRESH_OTSU<span class="token punctuation">)</span>
plt_show<span class="token punctuation">(</span>image<span class="token punctuation">)</span>

<span class="token comment">#膨胀操作，使“苏”字膨胀为一个近似的整体，为分割做准备</span>
kernel <span class="token operator">=</span> cv2<span class="token punctuation">.</span>getStructuringElement<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>MORPH_RECT<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>dilate<span class="token punctuation">(</span>image<span class="token punctuation">,</span> kernel<span class="token punctuation">)</span>
plt_show<span class="token punctuation">(</span>image<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/e2/30/2eI5N02A_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python"><span class="token comment"># 查找轮廓</span>
contours<span class="token punctuation">,</span> hierarchy <span class="token operator">=</span> cv2<span class="token punctuation">.</span>findContours<span class="token punctuation">(</span>image<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>RETR_EXTERNAL<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>CHAIN_APPROX_SIMPLE<span class="token punctuation">)</span>
words <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
word_images <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token comment">#对所有轮廓逐一操作</span>
<span class="token keyword">for</span> item <span class="token keyword">in</span> contours<span class="token punctuation">:</span>
    word <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    rect <span class="token operator">=</span> cv2<span class="token punctuation">.</span>boundingRect<span class="token punctuation">(</span>item<span class="token punctuation">)</span>
    x <span class="token operator">=</span> rect<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    y <span class="token operator">=</span> rect<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    weight <span class="token operator">=</span> rect<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
    height <span class="token operator">=</span> rect<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
    word<span class="token punctuation">.</span>append<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    word<span class="token punctuation">.</span>append<span class="token punctuation">(</span>y<span class="token punctuation">)</span>
    word<span class="token punctuation">.</span>append<span class="token punctuation">(</span>weight<span class="token punctuation">)</span>
    word<span class="token punctuation">.</span>append<span class="token punctuation">(</span>height<span class="token punctuation">)</span>
    words<span class="token punctuation">.</span>append<span class="token punctuation">(</span>word<span class="token punctuation">)</span>
<span class="token comment"># 排序，车牌号有顺序。words是一个嵌套列表</span>
words <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>words<span class="token punctuation">,</span>key<span class="token operator">=</span><span class="token keyword">lambda</span> s<span class="token punctuation">:</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>reverse<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
i <span class="token operator">=</span> <span class="token number">0</span>
<span class="token comment">#word中存放轮廓的起始点和宽高</span>
<span class="token keyword">for</span> word <span class="token keyword">in</span> words<span class="token punctuation">:</span>
    <span class="token comment"># 筛选字符的轮廓</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>word<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token punctuation">(</span>word<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>word<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token punctuation">(</span>word<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>word<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        i <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span>
        splite_image <span class="token operator">=</span> image<span class="token punctuation">[</span>word<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>word<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> word<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> word<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>word<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> word<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
        word_images<span class="token punctuation">.</span>append<span class="token punctuation">(</span>splite_image<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span>

<span class="token keyword">for</span> i<span class="token punctuation">,</span>j <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>word_images<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>word_images<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>cmap<span class="token operator">=</span><span class="token string">'gray'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/3e/9b/Bg37HzSh_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="23_155"></a>2.3模板匹配识别字符</h3> 
<p>模板匹配是一个机械性的流程，所以把机械性的操作设定为函数。</p> 
<pre><code class="prism language-python"><span class="token comment">#模版匹配</span>
<span class="token comment"># 准备模板(template[0-9]为数字模板；)</span>
template <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'0'</span><span class="token punctuation">,</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token string">'3'</span><span class="token punctuation">,</span><span class="token string">'4'</span><span class="token punctuation">,</span><span class="token string">'5'</span><span class="token punctuation">,</span><span class="token string">'6'</span><span class="token punctuation">,</span><span class="token string">'7'</span><span class="token punctuation">,</span><span class="token string">'8'</span><span class="token punctuation">,</span><span class="token string">'9'</span><span class="token punctuation">,</span>
            <span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">,</span><span class="token string">'D'</span><span class="token punctuation">,</span><span class="token string">'E'</span><span class="token punctuation">,</span><span class="token string">'F'</span><span class="token punctuation">,</span><span class="token string">'G'</span><span class="token punctuation">,</span><span class="token string">'H'</span><span class="token punctuation">,</span><span class="token string">'J'</span><span class="token punctuation">,</span><span class="token string">'K'</span><span class="token punctuation">,</span><span class="token string">'L'</span><span class="token punctuation">,</span><span class="token string">'M'</span><span class="token punctuation">,</span><span class="token string">'N'</span><span class="token punctuation">,</span><span class="token string">'P'</span><span class="token punctuation">,</span><span class="token string">'Q'</span><span class="token punctuation">,</span><span class="token string">'R'</span><span class="token punctuation">,</span><span class="token string">'S'</span><span class="token punctuation">,</span><span class="token string">'T'</span><span class="token punctuation">,</span><span class="token string">'U'</span><span class="token punctuation">,</span><span class="token string">'V'</span><span class="token punctuation">,</span><span class="token string">'W'</span><span class="token punctuation">,</span><span class="token string">'X'</span><span class="token punctuation">,</span><span class="token string">'Y'</span><span class="token punctuation">,</span><span class="token string">'Z'</span><span class="token punctuation">,</span>
            <span class="token string">'藏'</span><span class="token punctuation">,</span><span class="token string">'川'</span><span class="token punctuation">,</span><span class="token string">'鄂'</span><span class="token punctuation">,</span><span class="token string">'甘'</span><span class="token punctuation">,</span><span class="token string">'赣'</span><span class="token punctuation">,</span><span class="token string">'贵'</span><span class="token punctuation">,</span><span class="token string">'桂'</span><span class="token punctuation">,</span><span class="token string">'黑'</span><span class="token punctuation">,</span><span class="token string">'沪'</span><span class="token punctuation">,</span><span class="token string">'吉'</span><span class="token punctuation">,</span><span class="token string">'冀'</span><span class="token punctuation">,</span><span class="token string">'津'</span><span class="token punctuation">,</span><span class="token string">'晋'</span><span class="token punctuation">,</span><span class="token string">'京'</span><span class="token punctuation">,</span><span class="token string">'辽'</span><span class="token punctuation">,</span><span class="token string">'鲁'</span><span class="token punctuation">,</span><span class="token string">'蒙'</span><span class="token punctuation">,</span><span class="token string">'闽'</span><span class="token punctuation">,</span><span class="token string">'宁'</span><span class="token punctuation">,</span>
            <span class="token string">'青'</span><span class="token punctuation">,</span><span class="token string">'琼'</span><span class="token punctuation">,</span><span class="token string">'陕'</span><span class="token punctuation">,</span><span class="token string">'苏'</span><span class="token punctuation">,</span><span class="token string">'皖'</span><span class="token punctuation">,</span><span class="token string">'湘'</span><span class="token punctuation">,</span><span class="token string">'新'</span><span class="token punctuation">,</span><span class="token string">'渝'</span><span class="token punctuation">,</span><span class="token string">'豫'</span><span class="token punctuation">,</span><span class="token string">'粤'</span><span class="token punctuation">,</span><span class="token string">'云'</span><span class="token punctuation">,</span><span class="token string">'浙'</span><span class="token punctuation">]</span>

<span class="token comment"># 读取一个文件夹下的所有图片，输入参数是文件名，返回模板文件地址列表</span>
<span class="token keyword">def</span> <span class="token function">read_directory</span><span class="token punctuation">(</span>directory_name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    referImg_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> filename <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>directory_name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        referImg_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>directory_name <span class="token operator">+</span> <span class="token string">"/"</span> <span class="token operator">+</span> filename<span class="token punctuation">)</span>
    <span class="token keyword">return</span> referImg_list

<span class="token comment"># 获得中文模板列表（只匹配车牌的第一个字符）</span>
<span class="token keyword">def</span> <span class="token function">get_chinese_words_list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    chinese_words_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">34</span><span class="token punctuation">,</span><span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">#将模板存放在字典中</span>
        c_word <span class="token operator">=</span> read_directory<span class="token punctuation">(</span><span class="token string">'./refer1/'</span><span class="token operator">+</span> template<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        chinese_words_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>c_word<span class="token punctuation">)</span>
    <span class="token keyword">return</span> chinese_words_list
chinese_words_list <span class="token operator">=</span> get_chinese_words_list<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token comment"># 获得英文模板列表（只匹配车牌的第二个字符）</span>
<span class="token keyword">def</span> <span class="token function">get_eng_words_list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    eng_words_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        e_word <span class="token operator">=</span> read_directory<span class="token punctuation">(</span><span class="token string">'./refer1/'</span><span class="token operator">+</span> template<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        eng_words_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>e_word<span class="token punctuation">)</span>
    <span class="token keyword">return</span> eng_words_list
eng_words_list <span class="token operator">=</span> get_eng_words_list<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token comment"># 获得英文和数字模板列表（匹配车牌后面的字符）</span>
<span class="token keyword">def</span> <span class="token function">get_eng_num_words_list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    eng_num_words_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        word <span class="token operator">=</span> read_directory<span class="token punctuation">(</span><span class="token string">'./refer1/'</span><span class="token operator">+</span> template<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        eng_num_words_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>word<span class="token punctuation">)</span>
    <span class="token keyword">return</span> eng_num_words_list
eng_num_words_list <span class="token operator">=</span> get_eng_num_words_list<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token comment"># 读取一个模板地址与图片进行匹配，返回得分</span>
<span class="token keyword">def</span> <span class="token function">template_score</span><span class="token punctuation">(</span>template<span class="token punctuation">,</span>image<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment">#将模板进行格式转换</span>
    template_img<span class="token operator">=</span>cv2<span class="token punctuation">.</span>imdecode<span class="token punctuation">(</span>np<span class="token punctuation">.</span>fromfile<span class="token punctuation">(</span>template<span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
    template_img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>template_img<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_RGB2GRAY<span class="token punctuation">)</span>
    <span class="token comment">#模板图像阈值化处理——获得黑白图</span>
    ret<span class="token punctuation">,</span> template_img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>threshold<span class="token punctuation">(</span>template_img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>THRESH_OTSU<span class="token punctuation">)</span>
<span class="token comment">#     height, width = template_img.shape</span>
<span class="token comment">#     image_ = image.copy()</span>
<span class="token comment">#     image_ = cv2.resize(image_, (width, height))</span>
    image_ <span class="token operator">=</span> image<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">#获得待检测图片的尺寸</span>
    height<span class="token punctuation">,</span> width <span class="token operator">=</span> image_<span class="token punctuation">.</span>shape
    <span class="token comment"># 将模板resize至与图像一样大小</span>
    template_img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>template_img<span class="token punctuation">,</span> <span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 模板匹配，返回匹配得分</span>
    result <span class="token operator">=</span> cv2<span class="token punctuation">.</span>matchTemplate<span class="token punctuation">(</span>image_<span class="token punctuation">,</span> template_img<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>TM_CCOEFF<span class="token punctuation">)</span>
    <span class="token keyword">return</span> result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>


<span class="token comment"># 对分割得到的字符逐一匹配</span>
<span class="token keyword">def</span> <span class="token function">template_matching</span><span class="token punctuation">(</span>word_images<span class="token punctuation">)</span><span class="token punctuation">:</span>
    results <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> index<span class="token punctuation">,</span>word_image <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>word_images<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> index<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">:</span>
            best_score <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token keyword">for</span> chinese_words <span class="token keyword">in</span> chinese_words_list<span class="token punctuation">:</span>
                score <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                <span class="token keyword">for</span> chinese_word <span class="token keyword">in</span> chinese_words<span class="token punctuation">:</span>
                    result <span class="token operator">=</span> template_score<span class="token punctuation">(</span>chinese_word<span class="token punctuation">,</span>word_image<span class="token punctuation">)</span>
                    score<span class="token punctuation">.</span>append<span class="token punctuation">(</span>result<span class="token punctuation">)</span>
                best_score<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">max</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">)</span>
            i <span class="token operator">=</span> best_score<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token builtin">max</span><span class="token punctuation">(</span>best_score<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token comment"># print(template[34+i])</span>
            r <span class="token operator">=</span> template<span class="token punctuation">[</span><span class="token number">34</span><span class="token operator">+</span>i<span class="token punctuation">]</span>
            results<span class="token punctuation">.</span>append<span class="token punctuation">(</span>r<span class="token punctuation">)</span>
            <span class="token keyword">continue</span>
        <span class="token keyword">if</span> index<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">:</span>
            best_score <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token keyword">for</span> eng_word_list <span class="token keyword">in</span> eng_words_list<span class="token punctuation">:</span>
                score <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                <span class="token keyword">for</span> eng_word <span class="token keyword">in</span> eng_word_list<span class="token punctuation">:</span>
                    result <span class="token operator">=</span> template_score<span class="token punctuation">(</span>eng_word<span class="token punctuation">,</span>word_image<span class="token punctuation">)</span>
                    score<span class="token punctuation">.</span>append<span class="token punctuation">(</span>result<span class="token punctuation">)</span>
                best_score<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">max</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">)</span>
            i <span class="token operator">=</span> best_score<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token builtin">max</span><span class="token punctuation">(</span>best_score<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token comment"># print(template[10+i])</span>
            r <span class="token operator">=</span> template<span class="token punctuation">[</span><span class="token number">10</span><span class="token operator">+</span>i<span class="token punctuation">]</span>
            results<span class="token punctuation">.</span>append<span class="token punctuation">(</span>r<span class="token punctuation">)</span>
            <span class="token keyword">continue</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            best_score <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token keyword">for</span> eng_num_word_list <span class="token keyword">in</span> eng_num_words_list<span class="token punctuation">:</span>
                score <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                <span class="token keyword">for</span> eng_num_word <span class="token keyword">in</span> eng_num_word_list<span class="token punctuation">:</span>
                    result <span class="token operator">=</span> template_score<span class="token punctuation">(</span>eng_num_word<span class="token punctuation">,</span>word_image<span class="token punctuation">)</span>
                    score<span class="token punctuation">.</span>append<span class="token punctuation">(</span>result<span class="token punctuation">)</span>
                best_score<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">max</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">)</span>
            i <span class="token operator">=</span> best_score<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token builtin">max</span><span class="token punctuation">(</span>best_score<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token comment"># print(template[i])</span>
            r <span class="token operator">=</span> template<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
            results<span class="token punctuation">.</span>append<span class="token punctuation">(</span>r<span class="token punctuation">)</span>
            <span class="token keyword">continue</span>
    <span class="token keyword">return</span> results


word_images_ <span class="token operator">=</span> word_images<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 调用函数获得结果</span>
result <span class="token operator">=</span> template_matching<span class="token punctuation">(</span>word_images_<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token comment"># "".join(result)函数将列表转换为拼接好的字符串，方便结果显示</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">Output<span class="token punctuation">:</span>
<span class="token punctuation">[</span><span class="token string">'苏'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'0'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'V'</span><span class="token punctuation">,</span> <span class="token string">'8'</span><span class="token punctuation">]</span>
苏E05EV8
</code></pre> 
<p>最后，利用PIL库将结果绘制在原图上，获得的最终输出图片如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> ImageFont<span class="token punctuation">,</span> ImageDraw<span class="token punctuation">,</span> Image

height<span class="token punctuation">,</span>weight <span class="token operator">=</span> origin_image<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>weight<span class="token punctuation">)</span>

image_1 <span class="token operator">=</span> origin_image<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>rectangle<span class="token punctuation">(</span>image_1<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token operator">*</span>weight<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token number">0.75</span><span class="token operator">*</span>height<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>weight<span class="token operator">*</span><span class="token number">0.9</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>height<span class="token operator">*</span><span class="token number">0.95</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>

<span class="token comment">#设置需要显示的字体</span>
fontpath <span class="token operator">=</span> <span class="token string">"font/simsun.ttc"</span>
font <span class="token operator">=</span> ImageFont<span class="token punctuation">.</span>truetype<span class="token punctuation">(</span>fontpath<span class="token punctuation">,</span><span class="token number">64</span><span class="token punctuation">)</span>
img_pil <span class="token operator">=</span> Image<span class="token punctuation">.</span>fromarray<span class="token punctuation">(</span>image_1<span class="token punctuation">)</span>
draw <span class="token operator">=</span> ImageDraw<span class="token punctuation">.</span>Draw<span class="token punctuation">(</span>img_pil<span class="token punctuation">)</span>
<span class="token comment">#绘制文字信息</span>
draw<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token operator">*</span>weight<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token number">0.75</span><span class="token operator">*</span>height<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">,</span> font <span class="token operator">=</span> font<span class="token punctuation">,</span> fill <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
bk_img <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>img_pil<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span>
plt_show0<span class="token punctuation">(</span>bk_img<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/57/a8/PGEB5BcI_o.png" alt="在这里插入图片描述"><br> 大功告成！！！！！</p> 
<h2><a id="3_310"></a>3、总结</h2> 
<p>（一） 、OpenCV的车牌号码识别一共分为四步走：<br> <strong>1</strong>–提取车牌位置，将车牌从图中分割出来；<br> <strong>2</strong>–车牌字符的分割；<br> <strong>3</strong>–通过模版匹配识别字符；<br> <strong>4</strong>–将结果绘制在图片上显示出来。<br> （二）、图像处理的识别泛化性较低，对图片的角度光照有要求，<strong>所以要理解图像处理每一步的作用，根据自己图像的特点调整参数，更改操作顺序等等</strong>，以达到最好的效果。<br> （三）、车牌号识别的模板连接如下，需要的可以下载，有了模板就可以识别自己的图片了<br> 链接：https://pan.baidu.com/s/1QBjy7c0klv_PBUwJjA8ynA<br> 提取码：v53d<br> （四）、完整代码已上传SCDN<a href="https://download.csdn.net/download/qq_40784418/12350176">点击查看</a></p> 
<h2><a id="4_321"></a>4、参考</h2> 
<p>http://zengqiang.club/blog/34</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/be332fe660f8bb7c905d82ee5b2abcc9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">RuntimeError: Background label not declared (remeber that this should be label 0!)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bc00704f46d71168f65ea760fb18c6c2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C# 使用gdi绘制自定义控件，自适应分辨率。</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>