<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>codeforces1312 D. Count the Arrays（推导 &#43; 组合数） - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="codeforces1312 D. Count the Arrays（推导 &#43; 组合数）" />
<meta property="og:description" content="D. Count the Arrays
time limit per test
2 seconds
memory limit per test
512 megabytes
input
standard input
output
standard output
Your task is to calculate the number of arrays such that:
each array contains nn elements;each element is an integer from 11 to mm;for each array, there is exactly one pair of equal elements;for each array aa, there exists an index ii such that the array is strictly ascending before the ii-th element and strictly descendingafter it (formally, it means that aj&lt;aj&#43;1aj&lt;aj&#43;1, if j&lt;ij&lt;i, and aj&gt;aj&#43;1aj&gt;aj&#43;1, if j≥ij≥i)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/a9a2735bb4a219383544d51e74904d50/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-03-10T13:07:00+08:00" />
<meta property="article:modified_time" content="2020-03-10T13:07:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">codeforces1312 D. Count the Arrays（推导 &#43; 组合数）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>D. Count the Arrays</p> 
<p>time limit per test</p> 
<p>2 seconds</p> 
<p>memory limit per test</p> 
<p>512 megabytes</p> 
<p>input</p> 
<p>standard input</p> 
<p>output</p> 
<p>standard output</p> 
<p>Your task is to calculate the number of arrays such that:</p> 
<ul><li>each array contains nn elements;</li><li>each element is an integer from 11 to mm;</li><li>for each array, there is exactly one pair of equal elements;</li><li>for each array aa, there exists an index ii such that the array is strictly ascending before the ii-th element and strictly descendingafter it (formally, it means that aj&lt;aj+1aj&lt;aj+1, if j&lt;ij&lt;i, and aj&gt;aj+1aj&gt;aj+1, if j≥ij≥i).</li></ul> 
<p>Input</p> 
<p>The first line contains two integers nn and mm (2≤n≤m≤2⋅1052≤n≤m≤2⋅105).</p> 
<p>Output</p> 
<p>Print one integer — the number of arrays that meet all of the aforementioned conditions, taken modulo 998244353998244353.</p> 
<p>Examples</p> 
<p>input</p> 
<p>Copy</p> 
<pre id="id0045200179109728245"><code class="language-html">3 4</code></pre> 
<p>output</p> 
<p>Copy</p> 
<pre id="id004747566466978843"><code class="language-html">6</code></pre> 
<p>input</p> 
<p>Copy</p> 
<pre id="id003546292616241744"><code class="language-html">3 5</code></pre> 
<p>output</p> 
<p>Copy</p> 
<pre id="id005253295701535676"><code class="language-html">10</code></pre> 
<p>input</p> 
<p>Copy</p> 
<pre id="id00621999195529068"><code class="language-html">42 1337</code></pre> 
<p>output</p> 
<p>Copy</p> 
<pre id="id0017035069946465908"><code class="language-html">806066790</code></pre> 
<p>input</p> 
<p>Copy</p> 
<pre id="id008423257389292593"><code class="language-html">100000 200000</code></pre> 
<p>output</p> 
<p>Copy</p> 
<pre id="id0014681867083342182"><code class="language-html">707899035</code></pre> 
<p>Note</p> 
<p>The arrays in the first example are:</p> 
<ul><li>[1,2,1][1,2,1];</li><li>[1,3,1][1,3,1];</li><li>[1,4,1][1,4,1];</li><li>[2,3,2][2,3,2];</li><li>[2,4,2][2,4,2];</li><li>[3,4,3][3,4,3].</li></ul> 
<p>题意：</p> 
<p>给定n, m，在1 ~ m 中取 n 个元素，有且只有两个元素相同，将它们排成在最大值左侧严格单增，在最大值右侧严格单减的序列。问这样的序列有多少个？答案对998244353取模</p> 
<p>思路：</p> 
<p>先选择n - 1个数排成递增序列，有 <img alt="C_{m}^{n - 1}" class="mathcode" src="https://images2.imgbox.com/82/85/jgk0Pb8l_o.gif"> 种</p> 
<p>然后从这n - 1个数中选择一个除最大值以外的元素，新加一个到最后，有 <img alt="C_{n - 2}^{1}" class="mathcode" src="https://images2.imgbox.com/cb/8b/tQEAQuiS_o.gif"> 种</p> 
<p>除去两个相同元素和最大元素，其余 n - 3 个元素选择若干个降序放到最大值后面，有<img alt="\large C_{n - 3}^{0} + C_{n - 3}^{1} + C_{n - 3}^{2} + ...... + C_{n - 3}^{n - 3} = 2^{n - 3}" class="mathcode" src="https://images2.imgbox.com/9e/f6/10naPPvE_o.gif"> 种</p> 
<p> </p> 
<p>注意 n = 2 时答案为0，减少无谓的运算</p> 
<pre><code class="language-cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
typedef long long ll;
const int inf = 0x3f3f3f3f;
const int mod = 998244353;
const int N = 1e5 + 10;

ll n, m;

ll inv(ll a)
{
    return a == 1 ? 1 : (ll)(mod - mod / a) * inv(mod % a) % mod;
}

ll comb(ll n, ll m)
{
    if(m &lt; 0 || n&lt; m)
        return 0;
    if(m &gt; n - m)
        m = n - m;
    ll up = 1, down = 1;
    for(ll i = 0; i &lt; m; ++i)
    {
        up = up * (n - i) % mod;
        down = down * (i + 1) % mod;
    }
    return up * inv(down) % mod;
}

ll qpow(ll a, ll b)
{
    ll ans = 1;
    a %= mod;
    while(b)
    {
        if(b &amp; 1)
        {
            ans = (ans * a) % mod;
        }
        a = (a * a) % mod;
        b &gt;&gt;= 1;
    }
    return ans % mod;
}

int main()
{
    while(~scanf("%lld%lld", &amp;n, &amp;m))
    {
        if(n == 2)
        {
            cout&lt;&lt;0&lt;&lt;'\n';
            continue;
        }
        ll a = comb(m, n - 1);
        ll b = (n - 2) % mod;
        ll c = qpow(2, n - 3);
        ll ans = (((a * b) % mod) * c) % mod;
        cout&lt;&lt;ans&lt;&lt;'\n';
    }
    return 0;
}
</code></pre> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b83ffa7d15cbfe5c7377cf2627e54007/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Codeforces 1312 D. Count the Arrays (组合数学)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9d6b04594001ce5d2007960eb84a7a2e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Educational Codeforces Round 83 (Rated for Div. 2) D.Count the Arrays</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>