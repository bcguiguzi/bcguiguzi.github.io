<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>flutter深入研究之GestureDetector - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="flutter深入研究之GestureDetector" />
<meta property="og:description" content="学习flutter 肯定是快乐的，实际做项目必然是充满挑战。为了迎接未来的挑战，我们需要对flutter有更深入的了解
GestureDetector 类深入研究 GestureDetetor 简介 GestureDetector 是检测手势的widget。如果GestureDetector 的child属性不空，GestureDetector将自己大小设置为child的大小。如果child属性为空，它将自己的大小设置为父组件的大小。（稍后通过代码测试一下）.
Flutter为了方便出来touch事件创建了InkWell和InkResponse组件（源码在container.dart 186行）。这类组件可以包裹包裹您自己的组件，让您自己的组件可以响应touch事件。简单来说，如果您打算让图片实现按钮的功能，那么就可以使用InkResponse让图片响应点击事件了。
demo 代码 GestureDetector( onTap: () { setState(() { _lights = true; }); }, child: Container( color: Colors.yellow, child: Text(&#39;TURN LIGHTS ON&#39;), ), ) 属性介绍 Property/CallbackDescriptiononTapDown OnTapDown is fired everytime the user makes contact with the screen.onTapUpWhen the user stops touching the screen, onTapUp is called.onTapWhen the screen is briefly touched, onTap is triggered.onTapCancelWhen a user touches the screen but does not complete the Tap, this event is fired." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/edb4aea8f60f242559ccb2d905ac6de6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-02-16T08:57:00+08:00" />
<meta property="article:modified_time" content="2019-02-16T08:57:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">flutter深入研究之GestureDetector</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="show-content-free"> 
 <blockquote> 
  <p>学习flutter 肯定是快乐的，实际做项目必然是充满挑战。为了迎接未来的挑战，我们需要对flutter有更深入的了解</p> 
 </blockquote> 
 <h2>GestureDetector 类深入研究</h2> 
 <h3>GestureDetetor 简介</h3> 
 <p>GestureDetector 是检测手势的widget。如果GestureDetector 的child属性不空，GestureDetector将自己大小设置为child的大小。如果child属性为空，它将自己的大小设置为父组件的大小。（稍后通过代码测试一下）.</p> 
 <p>Flutter为了方便出来touch事件创建了InkWell和InkResponse组件（源码在container.dart 186行）。这类组件可以包裹包裹您自己的组件，让您自己的组件可以响应touch事件。简单来说，如果您打算让图片实现按钮的功能，那么就可以使用InkResponse让图片响应点击事件了。</p> 
 <h6>demo 代码</h6> 
 <pre><code>GestureDetector(
  onTap: () {
    setState(() { _lights = true; });
  },
  child: Container(
    color: Colors.yellow,
    child: Text('TURN LIGHTS ON'),
  ),
)
</code></pre> 
 <h3>属性介绍</h3> 
 <table><thead><tr><th>Property/Callback</th><th>Description</th></tr></thead><tbody><tr><td><code>onTapDown</code></td><td> <code>OnTapDown</code> is fired everytime the user makes contact with the screen.</td></tr><tr><td><code>onTapUp</code></td><td>When the user stops touching the screen, <code>onTapUp</code> is called.</td></tr><tr><td><code>onTap</code></td><td>When the screen is briefly touched, <code>onTap</code> is triggered.</td></tr><tr><td><code>onTapCancel</code></td><td>When a user touches the screen but does not complete the <code>Tap</code>, this event is fired.</td></tr><tr><td><code>onDoubleTap</code></td><td> <code>onDoubleTap</code> is called when the screen is touched twice in quick succession.</td></tr><tr><td><code>onLongPress</code></td><td>The the user touches the screen for longer than <em>500 milliseconds</em>, <code>onLongPress</code> is fired.</td></tr><tr><td><code>onVerticalDragDown</code></td><td>When a pointer comes into contact with the screen and begin to move in a vertical direction, <code>onVerticalDown</code> is called.</td></tr><tr><td><code>onVerticalDragStart</code></td><td> <code>onVerticalDragStart</code> is called when the pointer <em>starts</em> moving in a vertical direction.</td></tr><tr><td><code>onVerticalDragUpdate</code></td><td>This is called every time there is a change in the position of the pointer on the screen.</td></tr><tr><td><code>onVerticalDragEnd</code></td><td>When the user stops moving, the drag is considered complete and this event is called.</td></tr><tr><td><code>onVerticalDragCancel</code></td><td>Called when the user abruptly stops dragging.</td></tr><tr><td><code>onHorizontalDragDown</code></td><td>Called when the user/pointer comes into contact with the screen and begin to move horizontally.</td></tr><tr><td><code>onHorizontalDragStart</code></td><td>The user/pointer has made contact with the screen and <em>started</em> moving in a horizontal direction.</td></tr><tr><td><code>onHorizontalDragUpdate</code></td><td>Called every time there is a change in the location of the pointer on the horizontal/x-axis.</td></tr><tr><td><code>onHorizontalDragEnd</code></td><td>At the end of a horizontal drag, this event is called.</td></tr><tr><td><code>onHorizontalDragCancel</code></td><td>Called when the pointer which triggered <code>onHorizontalDragDown</code> did not complete successfully.</td></tr><tr><td><code>onPanDown</code></td><td>Called when a pointer comes into contact with the screen.</td></tr><tr><td><code>onPanStart</code></td><td> <code>onPanStart</code> is fired when the pointer event begins to move.</td></tr><tr><td><code>onPanUpdate</code></td><td> <code>onPanUpdate</code> is called everytime the pointer changes location.</td></tr><tr><td><code>onPanEnd</code></td><td>When the pan is complete, this event is called.</td></tr><tr><td><code>onScaleStart</code></td><td>When a pointer comes in contact with the screen and establishes a focal point of 1.0, this event is called.</td></tr><tr><td><code>onScaleUpdate</code></td><td>The pointer which is in contact with the screen have indicated a new focal point</td></tr><tr><td><code>onScaleEnd</code></td><td>Called when the pointer is no longer in contact with the screen signalling the end of the gesture.</td></tr></tbody></table> 
 <h3>到源码里看看</h3> 
 <h6>GestureDetector 的属性定义</h6> 
 <pre><code>class GestureDetector extends StatelessWidget {
// GestureDetector 是个无状态的组件
  GestureDetector({
    Key key,
    this.child,
    this.onTapDown,
    this.onTapUp,
    this.onTap,
    this.onTapCancel,
    this.onDoubleTap,
    this.onLongPress,
    this.onLongPressUp,
    this.onVerticalDragDown,
    this.onVerticalDragStart,
    this.onVerticalDragUpdate,
    this.onVerticalDragEnd,
    this.onVerticalDragCancel,
    this.onHorizontalDragDown,
    this.onHorizontalDragStart,
    this.onHorizontalDragUpdate,
    this.onHorizontalDragEnd,
    this.onHorizontalDragCancel,
    this.onForcePressStart,
    this.onForcePressPeak,
    this.onForcePressUpdate,
    this.onForcePressEnd,
    this.onPanDown,
    this.onPanStart,
    this.onPanUpdate,
    this.onPanEnd,
    this.onPanCancel,
    this.onScaleStart,
    this.onScaleUpdate,
    this.onScaleEnd,
    this.behavior,
    this.excludeFromSemantics = false,
    this.dragStartBehavior = DragStartBehavior.down,
  }) 
  /// The widget below this widget in the tree.
  ///
  /// {@macro flutter.widgets.child}
  final Widget child;

  /// A pointer that might cause a tap has contacted the screen at a particular
  /// location.
  ///
  /// This is called after a short timeout, even if the winning gesture has not
  /// yet been selected. If the tap gesture wins, [onTapUp] will be called,
  /// otherwise [onTapCancel] will be called.
  final GestureTapDownCallback onTapDown;

  /// A pointer that will trigger a tap has stopped contacting the screen at a
  /// particular location.
  ///
  /// This triggers immediately before [onTap] in the case of the tap gesture
  /// winning. If the tap gesture did not win, [onTapCancel] is called instead.
  final GestureTapUpCallback onTapUp;

  /// A tap has occurred.
  ///
  /// This triggers when the tap gesture wins. If the tap gesture did not win,
  /// [onTapCancel] is called instead.
  ///
  /// See also:
  ///
  ///  * [onTapUp], which is called at the same time but includes details
  ///    regarding the pointer position.
  final GestureTapCallback onTap;

  /// The pointer that previously triggered [onTapDown] will not end up causing
  /// a tap.
  ///
  /// This is called after [onTapDown], and instead of [onTapUp] and [onTap], if
  /// the tap gesture did not win.
  final GestureTapCancelCallback onTapCancel;

  /// The user has tapped the screen at the same location twice in quick
  /// succession.
  final GestureTapCallback onDoubleTap;

  /// A pointer has remained in contact with the screen at the same location for
  /// a long period of time.
  final GestureLongPressCallback onLongPress;

  /// A pointer that has triggered a long-press has stopped contacting the screen.
  final GestureLongPressUpCallback onLongPressUp;

  /// A pointer has contacted the screen and might begin to move vertically.
  final GestureDragDownCallback onVerticalDragDown;

  /// A pointer has contacted the screen and has begun to move vertically.
  final GestureDragStartCallback onVerticalDragStart;

  /// A pointer that is in contact with the screen and moving vertically has
  /// moved in the vertical direction.
  final GestureDragUpdateCallback onVerticalDragUpdate;

  /// A pointer that was previously in contact with the screen and moving
  /// vertically is no longer in contact with the screen and was moving at a
  /// specific velocity when it stopped contacting the screen.
  final GestureDragEndCallback onVerticalDragEnd;

  /// The pointer that previously triggered [onVerticalDragDown] did not
  /// complete.
  final GestureDragCancelCallback onVerticalDragCancel;

  /// A pointer has contacted the screen and might begin to move horizontally.
  final GestureDragDownCallback onHorizontalDragDown;

  /// A pointer has contacted the screen and has begun to move horizontally.
  final GestureDragStartCallback onHorizontalDragStart;

  /// A pointer that is in contact with the screen and moving horizontally has
  /// moved in the horizontal direction.
  final GestureDragUpdateCallback onHorizontalDragUpdate;

  /// A pointer that was previously in contact with the screen and moving
  /// horizontally is no longer in contact with the screen and was moving at a
  /// specific velocity when it stopped contacting the screen.
  final GestureDragEndCallback onHorizontalDragEnd;

  /// The pointer that previously triggered [onHorizontalDragDown] did not
  /// complete.
  final GestureDragCancelCallback onHorizontalDragCancel;

  /// A pointer has contacted the screen and might begin to move.
  final GestureDragDownCallback onPanDown;

  /// A pointer has contacted the screen and has begun to move.
  final GestureDragStartCallback onPanStart;

  /// A pointer that is in contact with the screen and moving has moved again.
  final GestureDragUpdateCallback onPanUpdate;

  /// A pointer that was previously in contact with the screen and moving
  /// is no longer in contact with the screen and was moving at a specific
  /// velocity when it stopped contacting the screen.
  final GestureDragEndCallback onPanEnd;

  /// The pointer that previously triggered [onPanDown] did not complete.
  final GestureDragCancelCallback onPanCancel;

  /// The pointers in contact with the screen have established a focal point and
  /// initial scale of 1.0.
  final GestureScaleStartCallback onScaleStart;

  /// The pointers in contact with the screen have indicated a new focal point
  /// and/or scale.
  final GestureScaleUpdateCallback onScaleUpdate;

  /// The pointers are no longer in contact with the screen.
  final GestureScaleEndCallback onScaleEnd;

  /// The pointer is in contact with the screen and has pressed with sufficient
  /// force to initiate a force press. The amount of force is at least
  /// [ForcePressGestureRecognizer.startPressure].
  ///
  /// Note that this callback will only be fired on devices with pressure
  /// detecting screens.
  final GestureForcePressStartCallback onForcePressStart;

  /// The pointer is in contact with the screen and has pressed with the maximum
  /// force. The amount of force is at least
  /// [ForcePressGestureRecognizer.peakPressure].
  ///
  /// Note that this callback will only be fired on devices with pressure
  /// detecting screens.
  final GestureForcePressPeakCallback onForcePressPeak;

  /// A pointer is in contact with the screen, has previously passed the
  /// [ForcePressGestureRecognizer.startPressure] and is either moving on the
  /// plane of the screen, pressing the screen with varying forces or both
  /// simultaneously.
  ///
  /// Note that this callback will only be fired on devices with pressure
  /// detecting screens.
  final GestureForcePressUpdateCallback onForcePressUpdate;

  /// The pointer is no longer in contact with the screen.
  ///
  /// Note that this callback will only be fired on devices with pressure
  /// detecting screens.
  final GestureForcePressEndCallback onForcePressEnd;

  /// How this gesture detector should behave during hit testing.
  ///
  /// This defaults to [HitTestBehavior.deferToChild] if [child] is not null and
  /// [HitTestBehavior.translucent] if child is null.
  final HitTestBehavior behavior;

  /// Whether to exclude these gestures from the semantics tree. For
  /// example, the long-press gesture for showing a tooltip is
  /// excluded because the tooltip itself is included in the semantics
  /// tree directly and so having a gesture to show it would result in
  /// duplication of information.
  final bool excludeFromSemantics;

  // TODO(jslavitz): Set the DragStartBehavior default to be start across all widgets.
  /// Determines the way that drag start behavior is handled.
  ///
  /// If set to [DragStartBehavior.start], gesture drag behavior will
  /// begin upon the detection of a drag gesture. If set to
  /// [DragStartBehavior.down] it will begin when a down event is first detected.
  ///
  /// In general, setting this to [DragStartBehavior.start] will make drag
  /// animation smoother and setting it to [DragStartBehavior.down] will make
  /// drag behavior feel slightly more reactive.
  ///
  /// By default, the drag start behavior is [DragStartBehavior.down].
  ///
  /// Only the [onStart] callbacks for the [VerticalDragGestureRecognizer],
  /// [HorizontalDragGestureRecognizer] and [PanGestureRecognizer] are affected
  /// by this setting.
  ///
  /// See also:
  ///
  ///  * [DragGestureRecognizer.dragStartBehavior], which gives an example for the different behaviors.
  final DragStartBehavior dragStartBehavior;
```··</code></pre> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fa97ee79d06a9a84be8a5b31e54a56be/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python爬取51jobs之数据清洗(3)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/275fdb7ed5ad8c4a562cec943b34ddaa/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">IT资源分享</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>