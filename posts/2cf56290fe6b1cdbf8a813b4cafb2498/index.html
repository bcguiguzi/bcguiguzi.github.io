<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>疫情可视化part1 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="疫情可视化part1" />
<meta property="og:description" content="前言 此系列已完结，共3部分：
part1：https://blog.csdn.net/xi1213/article/details/126824752part2：https://blog.csdn.net/xi1213/article/details/127719364part3：https://blog.csdn.net/xi1213/article/details/128072446 自成都九月份以来疫情原因被封了一两周，居家着实无聊，每天都是盯着微信公众号发布的疫情数据看，那种页面，就我一个前端仔来说，看着是真的丑啊！(⊙_⊙)？既然丑，那就自己动手开整！项目是2022.9.5开始的，截止2022.9.12我完成了大概有八成。主要是想让数据更加直观，而且可离线下载(当然还有装逼！┑(￣Д ￣)┍)。
项目描述 为证明是有料的，先看效果图(提前装逼！┗|｀O′|┛ 嗷~~)：
项目我是公开了的(￣m￣）有兴趣的可以下下来玩玩，这是我第一次使用vue3&#43;ts构建项目，肯定还有不足的地方(比如ts中疯狂的:any，一直any一直爽^o^/)。
这里是浏览链接：http://xisite.top/original/bigScreen/28/index.html#/
这里是项目链接：https://gitee.com/xi1213/covid19-visualization
（欢迎star！欢迎star！欢迎star！(●’◡’●)嘿嘿嘿~）
项目中使用到的技术有：vue3、TypeScript、Three.js、Echarts、elementPlus。
项目目标 1、以为3D形式展示全球疫情分布。
2、显示实时疫情数值。
3、以图表形式分析疫情数据。
4、允许下载各地疫情excel表格。
5、自动获取用户位置。
6、分析当地疫情数据。
7、生成当地疫情word报告。
api说明 本项目数据来源：新浪公共疫情api(新浪的数据来源于国家卫健委、各省市区卫健委、各省市区政府、港澳台官方渠道等公开数据。这也是够权威官方了)。我主要使用了两个新浪的api和一个太平洋网络ip地址查询web接口。
1、https://news.sina.com.cn/project/fymap/ncp2020_full_data.json
get方式，无入参。该api可获取全球各国大致疫情数据，以及国内的详情疫情数据，这里就api中的字段做一下说明，字段是我自己推测出来的含义，不会100%全而准(→_→)：
{ &#34;add_daily(国内今日数据)&#34;: { &#34;addcon(今日确诊新增数)&#34;: &#34;&#34;, &#34;addcure(今日治愈新增)&#34;: &#34;&#34;, &#34;adddeath(今日死亡新增)&#34;: &#34;&#34;, &#34;addjwsr(今日境外输入新增)&#34;: &#34;&#34;, &#34;addlocIncrNum(今日本土新增)&#34; }, &#34;cachetime(数据缓存时间)&#34;: &#34;&#34;, &#34;curetotal(国内治愈总数)&#34;: &#34;&#34;, &#34;deathtotal(国内死亡总数)&#34;: &#34;&#34;, &#34;gntotal(国内确诊总数)&#34;: &#34;&#34;, &#34;highAndMiddle(中高风险地列表)&#34;: [ { &#34;allname(全名)&#34;: &#34;&#34;, &#34;list(城市列表)&#34;: &#34;&#34;, &#34;province(省名)&#34;: &#34;&#34;, &#34;province_high_areas(高风险区域)&#34;: &#34;&#34;, &#34;province_middle_areas(中风险区域)&#34;: &#34;&#34;, &#34;province_high_num(高风险区域数)&#34;: &#34;&#34;, &#34;province_middle_num(中风险区域数)&#34;: &#34;&#34;, &#34;province_total(风险地总数)&#34;: &#34;&#34; } ], &#34;historylist(国内疫情历史数据)&#34;: [ { &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/2cf56290fe6b1cdbf8a813b4cafb2498/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-31T23:17:59+08:00" />
<meta property="article:modified_time" content="2023-03-31T23:17:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">疫情可视化part1</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_1"></a>前言</h3> 
<p>此系列已完结，共3部分：</p> 
<ul><li>part1：https://blog.csdn.net/xi1213/article/details/126824752</li><li>part2：https://blog.csdn.net/xi1213/article/details/127719364</li><li>part3：https://blog.csdn.net/xi1213/article/details/128072446</li></ul> 
<p>自成都九月份以来疫情原因被封了一两周，居家着实无聊，每天都是盯着微信公众号发布的疫情数据看，那种页面，就我一个前端仔来说，看着是真的丑啊！(⊙_⊙)？既然丑，那就自己动手开整！项目是2022.9.5开始的，截止2022.9.12我完成了大概有八成。主要是想让数据更加直观，而且可离线下载(当然还有装逼！┑(￣Д ￣)┍)。</p> 
<h3><a id="_8"></a>项目描述</h3> 
<p>为证明是有料的，先看效果图(提前装逼！┗|｀O′|┛ 嗷~~)：</p> 
<p><img src="https://images2.imgbox.com/6a/3a/Rp8zz3FS_o.jpg" alt="请添加图片描述"><br> <img src="https://images2.imgbox.com/1e/cc/dL2xSFrY_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/fe/5f/QSzKSSLx_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/0f/67/N9BVH6ka_o.jpg" alt="在这里插入图片描述"><br> 项目我是公开了的(￣m￣）有兴趣的可以下下来玩玩，这是我第一次使用vue3+ts构建项目，肯定还有不足的地方(比如ts中疯狂的:any，一直any一直爽^o^/)。<br> 这里是浏览链接：http://xisite.top/original/bigScreen/28/index.html#/<br> 这里是项目链接：https://gitee.com/xi1213/covid19-visualization<br> （欢迎star！欢迎star！欢迎star！(●’◡’●)嘿嘿嘿~）<br> 项目中使用到的技术有：vue3、TypeScript、Three.js、Echarts、elementPlus。</p> 
<h3><a id="_22"></a>项目目标</h3> 
<p>1、以为3D形式展示全球疫情分布。<br> 2、显示实时疫情数值。<br> 3、以图表形式分析疫情数据。<br> 4、允许下载各地疫情excel表格。<br> 5、自动获取用户位置。<br> 6、分析当地疫情数据。<br> 7、生成当地疫情word报告。</p> 
<h3><a id="api_31"></a>api说明</h3> 
<p>本项目数据来源：新浪公共疫情api(新浪的数据来源于国家卫健委、各省市区卫健委、各省市区政府、港澳台官方渠道等公开数据。这也是够权威官方了)。我主要使用了两个新浪的api和一个太平洋网络ip地址查询web接口。<br> 1、https://news.sina.com.cn/project/fymap/ncp2020_full_data.json<br> get方式，无入参。该api可获取全球各国大致疫情数据，以及国内的详情疫情数据，这里就api中的字段做一下说明，字段是我自己推测出来的含义，不会100%全而准(→_→)：<br> <img src="https://images2.imgbox.com/01/17/cGXmHiTf_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"add_daily(国内今日数据)"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"addcon(今日确诊新增数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token string-property property">"addcure(今日治愈新增)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token string-property property">"adddeath(今日死亡新增)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token string-property property">"addjwsr(今日境外输入新增)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token string">"addlocIncrNum(今日本土新增)"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"cachetime(数据缓存时间)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token string-property property">"curetotal(国内治愈总数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token string-property property">"deathtotal(国内死亡总数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token string-property property">"gntotal(国内确诊总数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token string-property property">"highAndMiddle(中高风险地列表)"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string-property property">"allname(全名)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"list(城市列表)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"province(省名)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"province_high_areas(高风险区域)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"province_middle_areas(中风险区域)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"province_high_num(高风险区域数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"province_middle_num(中风险区域数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"province_total(风险地总数)"</span><span class="token operator">:</span> <span class="token string">""</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"historylist(国内疫情历史数据)"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string-property property">"cn_conNum(确诊总数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"cn_cureNum(治愈总数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"cn_deathNum(死亡数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"cn_jwsrNum(境外输入)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"ymd(当前时间)"</span><span class="token operator">:</span> <span class="token string">""</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"jwsrTop(境外数据前10列表)"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"list(全国各省疫情数据列表)"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string-property property">"asymptomNum(较昨日新增数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"city(城市列表)"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string-property property">"cureNum(治愈数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"deathNum(死亡数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"econNum(现存确诊数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"ename(英文省名)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"jwsrNum(境外输入数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"name(省名)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"value(累计数)"</span><span class="token operator">:</span> <span class="token string">""</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"locIncrProTop(本土新增前十列表)"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"othertotal(其他总数)"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"certain(全球现存确诊)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token string-property property">"certain_inc(今日确诊新增数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token string-property property">"die(全球死亡数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token string-property property">"die_inc(死亡新增数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token string-property property">"ecertain(全球治愈数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token string-property property">"ecertain_inc(治愈新增数)"</span><span class="token operator">:</span> <span class="token string">""</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"times(数据截止时间)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token string-property property">"worldlist(世界各国疫情列表)"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string-property property">"name(国名)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"value(累计数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"econNum(确诊数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"deathNum(死亡数)"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
            <span class="token string-property property">"cureNum(治愈数)"</span><span class="token operator">:</span> <span class="token string">""</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>2、https://gwpre.sina.cn/interface/news/ncp/data.d.json<br> get方式，入参：</p> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">mod</span><span class="token operator">:</span><span class="token string">"province"</span><span class="token punctuation">,</span>
	<span class="token function">province</span><span class="token punctuation">(</span>英文省名<span class="token punctuation">)</span><span class="token operator">:</span><span class="token string">""</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>该api可获取国内指定省份的疫情数据，字段我就不推断了，可自行根据上一个api和部分英文单词大概推断出来(没错！就是我不想打字了！太累了！ಥ_ಥ其实这还不算折磨人的，后面使用api的时候那才叫个曲折)。<br> 3、https://whois.pconline.com.cn/ipJson.jsp<br> get方式，无入参。该api可获取使用者ip地址、省份、城市。返回结果如下：<br> <img src="https://images2.imgbox.com/79/fe/cKqMRl5J_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_120"></a>数据使用</h3> 
<p>刚开始开发的时候，我跟以前项目开发一样，跨域嘛，直接整个vue代理(不会vue代理模式的看这儿：https://blog.csdn.net/xi1213/article/details/125950052)不就完事儿了，果然，数据一经过代理，回来是回来了，但汉字全是\n什么什么鬼?乱码？费了一番功夫查了下，不是乱码，是unicode解码的问题。然后我又整了个解码的方法：</p> 
<pre><code class="prism language-javascript"><span class="token comment">//解码返回的unicode</span>
<span class="token keyword">function</span> <span class="token function">decodingStr</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">str</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> <span class="token literal-property property">repStr</span><span class="token operator">:</span> any <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">"%"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//用%替换\</span>
  <span class="token keyword">let</span> str1 <span class="token operator">=</span> repStr<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"jsoncallback("</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token keyword">let</span> str2 <span class="token operator">=</span> str1<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">");"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token comment">//截取出需要的字符串</span>
  <span class="token keyword">let</span> unStr <span class="token operator">=</span> <span class="token function">unescape</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//解码出汉字</span>
  <span class="token keyword">let</span> jsonObj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>unStr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//转换成json对象</span>
  <span class="token keyword">return</span> jsonObj<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>这下应该可以了吧？一切很顺利，开发差不多了，npm run build、git add . 、git commit -m""、git push，行云流水！直接上gitee Pages部署发布，完成！打开页面一看？嗯？f12。404？直到后面我又在网上扒拉后才明白，vue的代理在打包成dist后会被抽离失效，在gitee Pages中是不能使用vue的代理模式获取数据的！接下来就是各种尝试跨域，直到看到跨域两个字人都麻了。最后发现不同域下，使用jsonp的方式来处理跨域最为简单，jsonp原理和使用方法在这里：https://blog.csdn.net/xi1213/article/details/126827525?spm=1001.2014.3001.5502</p> 
<h3><a id="_135"></a>项目开始</h3> 
<p>项目是vue3的，首先你得创建啊。这里建议使用vue脚手架的图形化界面创建项目，命令为：vue ui<br> 选择手动配置：<br> <img src="https://images2.imgbox.com/56/95/AqI2WvVD_o.png" alt="在这里插入图片描述"><br> 打开TypeScript支持:<br> <img src="https://images2.imgbox.com/fe/c3/2WL4j8P3_o.png" alt="在这里插入图片描述"><br> 选择vue3选项:<br> <img src="https://images2.imgbox.com/88/59/gvBlfytd_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_144"></a>安装依赖</h3> 
<p>1、npm install echarts@4.9.0（安装echarts的指定版本，因为项目中需要使用中国地图，在4.9.0之后echarts官方移除了地图支持，之后的版本需要下载chain.js，还得手动下载引入一遍，麻烦，这里直接用老版本）<br> 2、npm i element-plus（vue3对应的element-ui就是element-plus，这是官方使用文档：https://element-plus.gitee.io/zh-CN/guide/design.html ）<br> 3、npm i three（看见首页那个大地球了吧？没错，它就是three.js做的，感兴趣的可以看这儿，我以前做的太阳系：https://blog.csdn.net/xi1213/article/details/125726054?spm=1001.2014.3001.5502<br> 4、npm i xlsx（这个是下载excel表格的必备插件，具体使用方法看这里：https://blog.csdn.net/xi1213/article/details/126216054?spm=1001.2014.3001.5502 ）</p> 
<h3><a id="_151"></a>首页球体</h3> 
<p>1、创建宇宙(叼不叼！是不是感觉自己就是创世主！(￣_,￣ ))：初始化场景时一定记得设置alpha: true。这里创建宇宙我使用了我以前这篇文章创建背景的第三种方法：https://blog.csdn.net/xi1213/article/details/123244316?spm=1001.2014.3001.5502</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> <span class="token constant">THREE</span> <span class="token keyword">from</span> <span class="token string">"three"</span><span class="token punctuation">;</span>

<span class="token comment">//初始化球体</span>
<span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">data</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  dom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"sphereDiv"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取dom</span>
  <span class="token keyword">let</span> width <span class="token operator">=</span> dom<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
  <span class="token keyword">let</span> height <span class="token operator">=</span> dom<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
  scene <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Scene</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//场景场景</span>
  camera <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PerspectiveCamera</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">,</span> width <span class="token operator">/</span> height<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//创建透视相机(视场、长宽比、近面、远面)</span>
  camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">270</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置相机位置</span>
  camera<span class="token punctuation">.</span><span class="token function">lookAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//创建渲染器</span>
  renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>WebGLRenderer</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">antialias</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//抗锯齿</span>
    <span class="token literal-property property">alpha</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//透明</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  renderer<span class="token punctuation">.</span><span class="token function">setClearColor</span><span class="token punctuation">(</span><span class="token number">0x000000</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置场景透明度</span>
  renderer<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置渲染区域尺寸</span>
  dom<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>renderer<span class="token punctuation">.</span>domElement<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将渲染器添加到dom中形成canvas</span>
  <span class="token function">createUniverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//创建宇宙</span>
  <span class="token function">createStars</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//创建星辰</span>
  <span class="token function">createLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//创建光源</span>
  <span class="token function">createSphere</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//创建球体</span>
  <span class="token function">createOrbitControls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//创建宇宙(球形宇宙)</span>
<span class="token keyword">function</span> <span class="token function">createUniverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> universeGeometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>SphereGeometry</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> universeMaterial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshLambertMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">//高光材质</span>
    <span class="token literal-property property">map</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>TextureLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>universeImg<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">side</span><span class="token operator">:</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>DoubleSide<span class="token punctuation">,</span> <span class="token comment">//双面显示</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//宇宙网格</span>
  <span class="token keyword">let</span> universeMesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>universeGeometry<span class="token punctuation">,</span> universeMaterial<span class="token punctuation">)</span><span class="token punctuation">;</span>
  universeMesh<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"宇宙"</span><span class="token punctuation">;</span>
  scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>universeMesh<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> 
<p>2、创建光源：为了效果，我使用了环境光与平行光源，这两种光都会影响贴图原本颜色，建议光源颜色设置为白色。</p> 
<pre><code class="prism language-javascript"><span class="token comment">//创建光源</span>
<span class="token keyword">function</span> <span class="token function">createLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> lightColor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">0xffffff</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> ambient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>AmbientLight</span><span class="token punctuation">(</span>lightColor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//环境光</span>
  ambient<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"环境光"</span><span class="token punctuation">;</span>
  scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ambient<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> directionalLight1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>DirectionalLight</span><span class="token punctuation">(</span>lightColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
  directionalLight1<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>directionalLight1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//平行光源添加到场景中</span>
  <span class="token keyword">let</span> directionalLight2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>DirectionalLight</span><span class="token punctuation">(</span>lightColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
  directionalLight2<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>directionalLight2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//平行光源添加到场景中</span>
  <span class="token keyword">let</span> directionalLight3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>DirectionalLight</span><span class="token punctuation">(</span>lightColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
  directionalLight3<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>directionalLight3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//平行光源添加到场景中</span>
  <span class="token keyword">let</span> directionalLight4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>DirectionalLight</span><span class="token punctuation">(</span>lightColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
  directionalLight4<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>directionalLight4<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//平行光源添加到场景中</span>
  <span class="token keyword">let</span> directionalLight5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>DirectionalLight</span><span class="token punctuation">(</span>lightColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
  directionalLight5<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>directionalLight5<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//平行光源添加到场景中</span>
  <span class="token keyword">let</span> directionalLight6 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>DirectionalLight</span><span class="token punctuation">(</span>lightColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
  directionalLight6<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>directionalLight6<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//平行光源添加到场景中</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>3、创建球体：</p> 
<pre><code class="prism language-javascript"><span class="token comment">//创建球体</span>
<span class="token keyword">function</span> <span class="token function">createSphere</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">data</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> earthSize <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">//地球尺寸</span>
  <span class="token keyword">let</span> earthGroup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//地球的组</span>
  <span class="token keyword">let</span> earthGeometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>SphereGeometry</span><span class="token punctuation">(</span>earthSize<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//地球几何体</span>
  <span class="token keyword">let</span> nightColor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">0x999999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> dayColor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">0x444444</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//地球材质</span>
  <span class="token keyword">let</span> earthMaterial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshPhongMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">map</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>TextureLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>
      isDay <span class="token operator">?</span> earthImg <span class="token operator">:</span> earthNightImg <span class="token comment">//区分昼夜纹理</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> isDay <span class="token operator">?</span> dayColor <span class="token operator">:</span> nightColor<span class="token punctuation">,</span>
    <span class="token comment">// metalness: 1, //生锈的金属外观(MeshStandardMaterial材质时使用)</span>
    <span class="token comment">// roughness: 0.5, // 材料的粗糙程度(MeshStandardMaterial材质时使用)</span>
    <span class="token literal-property property">normalScale</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector2</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//凹凸深度</span>
    <span class="token literal-property property">normalMap</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>TextureLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>normalImg<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//法线贴图</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> earthMesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>earthGeometry<span class="token punctuation">,</span> earthMaterial<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//地球网格</span>
  earthMesh<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"地球"</span><span class="token punctuation">;</span>
  earthGroup<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>earthMesh<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将地球网格添加到地球组中</span>
  earthGroup<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"地球组"</span><span class="token punctuation">;</span>
  scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>earthGroup<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">createVirus</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> earthSize<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//创建球面病毒</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/48/21/HWU7yDXa_o.png" alt="在这里插入图片描述"><br> 放大项目中的地球你会发现球体表面是有凹凸而且反光的（就像稀泥巴一样≡(▔﹏▔)≡），这是因为使用了three中MeshPhongMaterial材质同时设置了属性normalScale与normalMap。<br> <img src="https://images2.imgbox.com/56/a6/7KJTzRGt_o.png" alt="在这里插入图片描述"><br> 4、渲染：创建完成后记得渲染，否则是不会生效的。</p> 
<pre><code class="prism language-javascript"><span class="token comment">//渲染</span>
<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  anId<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"sphereDiv"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
    document
      <span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"sphereDiv"</span><span class="token punctuation">)</span><span class="token operator">!</span>
      <span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"mousemove"</span><span class="token punctuation">,</span> onMousemove<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  orbitControls<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//鼠标控件实时更新</span>
  renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>scene<span class="token punctuation">,</span> camera<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_277"></a>控制球体</h3> 
<p>首页的3D球体是可以进行鼠标控制的。<br> <img src="https://images2.imgbox.com/12/62/9RxjCMNw_o.png" alt="在这里插入图片描述"><br> 这是使用的three.js自带的鼠标控件OrbitControls ，它的参数可以自己设置，这是鼠标控制的方法：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> OrbitControls <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"three/examples/jsm/controls/OrbitControls"</span><span class="token punctuation">;</span>

<span class="token comment">//创建鼠标控件</span>
<span class="token keyword">function</span> <span class="token function">createOrbitControls</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  orbitControls <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OrbitControls</span><span class="token punctuation">(</span>camera<span class="token punctuation">,</span> renderer<span class="token punctuation">.</span>domElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
  orbitControls<span class="token punctuation">.</span>enablePan <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//右键平移拖拽</span>
  orbitControls<span class="token punctuation">.</span>enableZoom <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//鼠标缩放</span>
  orbitControls<span class="token punctuation">.</span>enableDamping <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//滑动阻尼</span>
  orbitControls<span class="token punctuation">.</span>dampingFactor <span class="token operator">=</span> <span class="token number">0.05</span><span class="token punctuation">;</span> <span class="token comment">//(默认.25)</span>
  orbitControls<span class="token punctuation">.</span>minDistance <span class="token operator">=</span> <span class="token number">150</span><span class="token punctuation">;</span> <span class="token comment">//相机距离目标最小距离</span>
  orbitControls<span class="token punctuation">.</span>maxDistance <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">;</span> <span class="token comment">//相机距离目标最大距离</span>
  orbitControls<span class="token punctuation">.</span>autoRotate <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//自转(相机)</span>
  orbitControls<span class="token punctuation">.</span>autoRotateSpeed <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//自转速度</span>
  orbitControls<span class="token punctuation">.</span>enableRotate <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//鼠标左键控制旋转</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_300"></a>创建病毒</h3> 
<p>被瞎说！covid19可不是我创造的！（；´д｀）ゞ</p> 
<pre><code class="prism language-javascript"><span class="token comment">//创建病毒</span>
<span class="token keyword">function</span> <span class="token function">createVirus</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">data</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">earthSize</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">0xf9b8b8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">0xfe4242</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">0xff0000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//病毒颜色列表</span>
  <span class="token keyword">let</span> virSize <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//病毒大小</span>
  <span class="token keyword">let</span> pointsGroup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//点的组</span>
  <span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">e</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">value</span><span class="token operator">:</span> number<span class="token punctuation">;</span> color<span class="token operator">:</span> any<span class="token punctuation">;</span> position<span class="token operator">:</span> any<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    e<span class="token punctuation">.</span>value <span class="token operator">&gt;=</span> <span class="token number">10000000</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>color <span class="token operator">=</span> colors<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//根据病毒数赋予不同颜色</span>
    e<span class="token punctuation">.</span>value <span class="token operator">&gt;=</span> <span class="token number">500000</span> <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> <span class="token number">10000000</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>color <span class="token operator">=</span> colors<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    e<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> <span class="token number">500000</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>color <span class="token operator">=</span> colors<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>position<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">let</span> virusMaterial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>SpriteMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> e<span class="token punctuation">.</span>color<span class="token punctuation">,</span>
        <span class="token literal-property property">map</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>TextureLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>virusImg<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">side</span><span class="token operator">:</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>FrontSide<span class="token punctuation">,</span> <span class="token comment">//只显示前面</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//病毒材质</span>
      <span class="token keyword">let</span> Sprite <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Sprite</span><span class="token punctuation">(</span>virusMaterial<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//点精灵材质</span>
      Sprite<span class="token punctuation">.</span>scale<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>virSize<span class="token punctuation">,</span> virSize<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//点大小</span>
      <span class="token keyword">let</span> lat <span class="token operator">=</span> e<span class="token punctuation">.</span>position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//纬度</span>
      <span class="token keyword">let</span> lon <span class="token operator">=</span> e<span class="token punctuation">.</span>position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//经度</span>
      <span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">latLongToVector3</span><span class="token punctuation">(</span>lat<span class="token punctuation">,</span> lon<span class="token punctuation">,</span> earthSize<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//坐标转换</span>
      Sprite<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>x<span class="token punctuation">,</span> s<span class="token punctuation">.</span>y<span class="token punctuation">,</span> s<span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置点的位置</span>
      Sprite<span class="token punctuation">.</span>dotData <span class="token operator">=</span> e<span class="token punctuation">;</span> <span class="token comment">//将点的数据添加到dotData属性中</span>
      Sprite<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"病毒"</span><span class="token punctuation">;</span>
      pointsGroup<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>Sprite<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//添加进点的组中</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  pointsGroup<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"病毒组"</span><span class="token punctuation">;</span>
  scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>pointsGroup<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//点的组添加到旋转组中</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>球面上那些红的、粉的、白的玩意儿就是病毒。其实就是利用three的SpriteMaterial材质加入点精灵Sprite中，再遍历病毒的坐标列表数据，循环设置Sprite的position属性，最后再将创建好的病毒组添加到宇宙场景中，值得注意的是，你一般获取到的数据均为经纬度坐标，需要转换为three能用的三维向量坐标，这是坐标转换的方法：</p> 
<pre><code class="prism language-javascript"><span class="token comment">//经纬度坐标变换（传入e:纬度、a经度、t球半径、o球额外距离）</span>
<span class="token keyword">function</span> <span class="token function">latLongToVector3</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">e</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">a</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">t</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">o</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token punctuation">(</span>e <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">,</span>
    i <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token operator">-</span> <span class="token number">180</span><span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">,</span>
    n <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span>t <span class="token operator">+</span> o<span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span>
    s <span class="token operator">=</span> <span class="token punctuation">(</span>t <span class="token operator">+</span> o<span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">,</span>
    l <span class="token operator">=</span> <span class="token punctuation">(</span>t <span class="token operator">+</span> o<span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector3</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> s<span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//计算三维向量</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_353"></a>数值增加动画</h3> 
<p>在首页右侧和“国内分析”右侧，有一排数字，那个数字在加载时是有数值增加动画的。<br> <img src="https://images2.imgbox.com/57/6c/tWYbgK3Z_o.png" alt="在这里插入图片描述"></p> 
<p>本来想直接使用vue-count-to或者vue-countupjs的，但网上我扒拉了一下，发现原理好像不是很难，无非就是利用vue的数据响应式原理，但我看到的大多封装的组件都是vue2的，vue3好像没有。这里我就整一个vue3+ts的版本：</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>span <span class="token operator">:</span>data<span class="token operator">-</span>time<span class="token operator">=</span><span class="token string">"time"</span> <span class="token operator">:</span>data<span class="token operator">-</span>value<span class="token operator">=</span><span class="token string">"value"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>addNum<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">'ts'</span> setup<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ref<span class="token punctuation">,</span> computed<span class="token punctuation">,</span> watch<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">//动画时间</span>
    <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">2</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//停止时的值</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//千位的逗号</span>
    <span class="token literal-property property">thousandSign</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
        <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">oldValue</span><span class="token operator">:</span> any <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">addNum</span><span class="token operator">:</span> any <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//响应式的数值</span>

<span class="token function">watch</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">startAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//值改变时开始动画</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">startAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token literal-property property">value</span><span class="token operator">:</span> number <span class="token operator">=</span> props<span class="token punctuation">.</span>value <span class="token operator">-</span> oldValue<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">let</span> step <span class="token operator">=</span> <span class="token punctuation">(</span>value <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>time <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> start <span class="token operator">=</span> oldValue<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token comment">//定时器</span>
    <span class="token keyword">let</span> <span class="token literal-property property">t</span><span class="token operator">:</span> any <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        start <span class="token operator">+=</span> step<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">&gt;</span> value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">clearInterval</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
            start <span class="token operator">=</span> value<span class="token punctuation">;</span>
            t <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>current <span class="token operator">===</span> start<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        current <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//取整</span>
        oldValue<span class="token punctuation">.</span>value <span class="token operator">=</span> current<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>thousandSign<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            addNum<span class="token punctuation">.</span>value <span class="token operator">=</span> current<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\d)(?=(?:\d{3}[+]?)+$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'$1,'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//添加千位符</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            addNum<span class="token punctuation">.</span>value <span class="token operator">=</span> current<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//无千位符</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">startAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>value是动画终止时数值，time是动画时间，thousandSign表示是否添加千分位符，必须保证value与time类型为Number，这是使用方法：</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>addNumber <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"addcure-div"</span> <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"addcure"</span> <span class="token operator">:</span>time<span class="token operator">=</span><span class="token string">"10"</span> <span class="token operator">:</span>thousandSign<span class="token operator">=</span><span class="token string">"true"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> 
<h3><a id="_430"></a>表格展示</h3> 
<p>页面上的所有表格都是使用的element-plus的表格组件，这是具体使用方法：https://element-plus.gitee.io/zh-CN/component/table.html<br> 当表格做出来之后发现样式颜色之类的并不是自己想要的。其实可以更改css变量。注意，不是全局修改，是局部修改样式。比如你想让表格变成这样透明的：<br> <img src="https://images2.imgbox.com/eb/ea/Tp1uSAJb_o.png" alt="在这里插入图片描述"><br> 那么你可以这样做：</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>el<span class="token operator">-</span>table <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">"tabData"</span> style<span class="token operator">=</span>"width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>height<span class="token operator">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100vh <span class="token operator">-</span> 100px<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">--</span>el<span class="token operator">-</span>table<span class="token operator">-</span>bg<span class="token operator">-</span>color<span class="token operator">:</span><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">.8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">--</span>el<span class="token operator">-</span>table<span class="token operator">-</span>tr<span class="token operator">-</span>bg<span class="token operator">-</span>color<span class="token operator">:</span>transparent<span class="token punctuation">;</span>
            <span class="token operator">--</span>el<span class="token operator">-</span>table<span class="token operator">-</span>header<span class="token operator">-</span>bg<span class="token operator">-</span>color<span class="token operator">:</span>#<span class="token number">333</span><span class="token punctuation">;</span>
            <span class="token operator">--</span>el<span class="token operator">-</span>table<span class="token operator">-</span>header<span class="token operator">-</span>text<span class="token operator">-</span>color<span class="token operator">:</span>#fff<span class="token punctuation">;</span>
            <span class="token operator">--</span>el<span class="token operator">-</span>table<span class="token operator">-</span>text<span class="token operator">-</span>color<span class="token operator">:</span>#fff<span class="token punctuation">;</span>
            <span class="token operator">--</span>el<span class="token operator">-</span>table<span class="token operator">-</span>row<span class="token operator">-</span>hover<span class="token operator">-</span>bg<span class="token operator">-</span>color<span class="token operator">:</span>#<span class="token number">333</span><span class="token punctuation">;</span>
            <span class="token operator">--</span>el<span class="token operator">-</span>table<span class="token operator">-</span>border<span class="token operator">-</span>color<span class="token operator">:</span>#<span class="token number">333</span>"<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column type<span class="token operator">=</span><span class="token string">"index"</span> label<span class="token operator">=</span><span class="token string">"序号"</span> width<span class="token operator">=</span><span class="token string">"100"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column prop<span class="token operator">=</span><span class="token string">"name"</span> label<span class="token operator">=</span><span class="token string">"国家"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column prop<span class="token operator">=</span><span class="token string">"value"</span> label<span class="token operator">=</span><span class="token string">"累计数"</span> sortable <span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column prop<span class="token operator">=</span><span class="token string">"deathNum"</span> label<span class="token operator">=</span><span class="token string">"死亡数"</span> sortable <span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column prop<span class="token operator">=</span><span class="token string">"cureNum"</span> label<span class="token operator">=</span><span class="token string">"治愈数"</span> sortable <span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column prop<span class="token operator">=</span><span class="token string">"citycode"</span> label<span class="token operator">=</span><span class="token string">"地区代码"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column label<span class="token operator">=</span><span class="token string">"坐标"</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>template #<span class="token keyword">default</span><span class="token operator">=</span><span class="token string">"scope"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> scope<span class="token punctuation">.</span>row<span class="token punctuation">.</span>position <span class="token operator">?</span> scope<span class="token punctuation">.</span>row<span class="token punctuation">.</span>position <span class="token operator">:</span> <span class="token string">"-"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">&gt;</span>
</code></pre> 
<p>其中的css变量名，你可以f12获取到。</p> 
<h3><a id="_458"></a>横向柱状图</h3> 
<p>首页左侧和“国内分析”这样的横向柱状图。<br> <img src="https://images2.imgbox.com/d2/72/QRfb2UDB_o.png" alt="在这里插入图片描述"><br> 在echarts里面配置项是这样的：</p> 
<pre><code class="prism language-javascript"><span class="token comment">//柱状图数据</span>
  <span class="token keyword">let</span> <span class="token literal-property property">option</span><span class="token operator">:</span> any <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">text</span><span class="token operator">:</span> titName <span class="token operator">+</span> sliceNum<span class="token punctuation">,</span>
      <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token string">"center"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#fff"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">tooltip</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">"rgba(0,0,0,.5)"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">borderWidth</span><span class="token operator">:</span> <span class="token string">"0"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'axis'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#fff"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">fontWeight</span><span class="token operator">:</span> <span class="token string">"bolder"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">grid</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">"10%"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token string">"10%"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">right</span><span class="token operator">:</span> <span class="token string">"10%"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token string">"0%"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">xAxis</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">yAxis</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisLabel</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#fff"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">showBackground</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">backgroundStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'rgba(180, 180, 180, 0.2)'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">itemStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> color<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#fff"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">fontWeight</span><span class="token operator">:</span> <span class="token string">"bolder"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">"left"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">formatter</span><span class="token operator">:</span> <span class="token string">"{c}"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p>颜色、位置、标题可自己设置。</p> 
<h3><a id="_523"></a>中国地图</h3> 
<p>在“国内分析”中有一个中国地图，用来展示国内现存确诊分布，支持缩放拖拽。<br> <img src="https://images2.imgbox.com/d3/ee/Q94Re1zV_o.png" alt="在这里插入图片描述"></p> 
<p>如果你下载的最新的echarts的话，那么你得折腾下，自己另外单独找chain.js下载，然后引入项目，4.9.0是内置地图的，可以直接使用。这是地图的配置项：</p> 
<pre><code class="prism language-javascript">  <span class="token keyword">let</span> <span class="token literal-property property">option</span><span class="token operator">:</span> any <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'国内各省现存分布'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token string">"center"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">'1%'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#fff"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">visualMap</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
      <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token string">'5%'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token string">'5%'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'高'</span><span class="token punctuation">,</span> <span class="token string">'低'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#fff'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">calculable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">inRange</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'#fff'</span><span class="token punctuation">,</span> <span class="token string">'#f00'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//颜色范围</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">tooltip</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
      <span class="token literal-property property">enterable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">transitionDuration</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token comment">//动画时间</span>
      <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">"rgb(0,0,0,.8)"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">borderRadius</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
      <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#fff'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">formatter</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">params</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> tipString <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>params<span class="token punctuation">.</span>data<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          tipString <span class="token operator">=</span>
            <span class="token string">"&lt;div style='font-size:25px;font-weight:900;margin:10px 0px'&gt;"</span> <span class="token operator">+</span> params<span class="token punctuation">.</span>data<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"&lt;/div&gt;"</span> <span class="token operator">+</span>
            <span class="token string">"&lt;div style='color:#f00;font-weight:900;'&gt;现存："</span> <span class="token operator">+</span> params<span class="token punctuation">.</span>data<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token string">"&lt;/div&gt;"</span> <span class="token operator">+</span>
            <span class="token string">"&lt;div style='color:#888;font-weight:900;'&gt;累计："</span> <span class="token operator">+</span> params<span class="token punctuation">.</span>data<span class="token punctuation">.</span>allNum <span class="token operator">+</span> <span class="token string">"&lt;/div&gt;"</span> <span class="token operator">+</span>
            <span class="token string">"&lt;div style='color:#888;font-weight:900;'&gt;死亡："</span> <span class="token operator">+</span> params<span class="token punctuation">.</span>data<span class="token punctuation">.</span>deathNum <span class="token operator">+</span> <span class="token string">"&lt;/div&gt;"</span> <span class="token operator">+</span>
            <span class="token string">"&lt;div style='color:#888;font-weight:900;'&gt;治愈："</span> <span class="token operator">+</span> params<span class="token punctuation">.</span>data<span class="token punctuation">.</span>cureNum <span class="token operator">+</span> <span class="token string">"&lt;/div&gt;"</span> <span class="token operator">+</span>
            <span class="token string">"&lt;div style='color:#888;font-weight:900;'&gt;较昨日新增："</span> <span class="token operator">+</span> params<span class="token punctuation">.</span>data<span class="token punctuation">.</span>asymptomNum <span class="token operator">+</span> <span class="token string">"&lt;/div&gt;"</span> <span class="token operator">+</span>
            <span class="token string">"&lt;div style='color:#888;font-weight:900;'&gt;境外输入："</span> <span class="token operator">+</span> params<span class="token punctuation">.</span>data<span class="token punctuation">.</span>jwsrNum <span class="token operator">+</span> <span class="token string">"&lt;/div&gt;"</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> tipString<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'接入医院数量'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'map'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mapType</span><span class="token operator">:</span> <span class="token string">'china'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">1.2</span><span class="token punctuation">,</span><span class="token comment">//缩放</span>
      <span class="token literal-property property">roam</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">scaleLimit</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">1.2</span><span class="token punctuation">,</span><span class="token comment">//缩放限制</span>
        <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">2</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">itemStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">normal</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">emphasis</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token literal-property property">areaColor</span><span class="token operator">:</span> <span class="token string">'#6eb5ff'</span><span class="token punctuation">,</span><span class="token comment">//鼠标滑过区域颜色</span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">normal</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//静态的时候展示样式</span>
          <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//是否显示地图省份得名称</span>
          <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#000"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token number">12</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">emphasis</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//动态展示的样式</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#fff'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>formatter也就是hover出来的信息框，可以自定义。</p> 
<h3><a id="_620"></a>历史分析</h3> 
<p>“国内分析”是有个历史数据展示的折线图的，它是允许缩放调节的。<br> <img src="https://images2.imgbox.com/ec/98/3CngGQ3O_o.png" alt="在这里插入图片描述"><br> 这是它的echarts配置项：</p> 
<pre><code class="prism language-javascript">  <span class="token keyword">let</span> <span class="token literal-property property">option</span><span class="token operator">:</span> any <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// backgroundColor: "",</span>
    <span class="token literal-property property">grid</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// top: "15%",</span>
      <span class="token comment">// left: "5%",</span>
      <span class="token comment">// right: "5%",</span>
      <span class="token comment">// bottom: "10%",</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'国内历史数据'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token string">"center"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">'5%'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#fff"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">tooltip</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">"rgba(0,0,0,.5)"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">borderWidth</span><span class="token operator">:</span> <span class="token string">"0"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'axis'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#fff"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">fontWeight</span><span class="token operator">:</span> <span class="token string">"bolder"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisPointer</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'cross'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">legend</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'确诊数'</span><span class="token punctuation">,</span> <span class="token string">'治愈数'</span><span class="token punctuation">,</span> <span class="token string">'死亡数'</span><span class="token punctuation">,</span> <span class="token string">'境外输入'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#fff"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">orient</span><span class="token operator">:</span> <span class="token string">"vertical"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">"15%"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">right</span><span class="token operator">:</span> <span class="token string">"2%"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">xAxis</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">data</span><span class="token operator">:</span> lineData<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">item</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> item<span class="token punctuation">.</span>ymd<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#fff"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">yAxis</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#fff"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dataZoom</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">startValue</span><span class="token operator">:</span> <span class="token string">''</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'inside'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'确诊数'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">lineStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#f4c25e'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">itemStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#f4c25e'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> lineData<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">item</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">return</span> item<span class="token punctuation">.</span>cn_conNum<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zlevel</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'治愈数'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">lineStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#48c56b'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">itemStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#48c56b'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> lineData<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">item</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">return</span> item<span class="token punctuation">.</span>cn_cureNum<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zlevel</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'死亡数'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">lineStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#f00'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">itemStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#f00'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> lineData<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">item</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">return</span> item<span class="token punctuation">.</span>cn_deathNum<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zlevel</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'境外输入'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">lineStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#8903ba'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">itemStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#8903ba'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> lineData<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">item</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">return</span> item<span class="token punctuation">.</span>cn_jwsrNum<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zlevel</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_749"></a>表格下载</h3> 
<p>主要是利用xlsx插件，好用得很，直接传入数据就出表格了，这是我的使用方法：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> <span class="token constant">XLSX</span> <span class="token keyword">from</span> <span class="token string">"xlsx"</span><span class="token punctuation">;</span>

<span class="token comment">//入参示例</span>
<span class="token keyword">let</span> eg <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">fileName</span><span class="token operator">:</span> <span class="token string">"测试"</span><span class="token punctuation">,</span><span class="token comment">//文件名</span>
    <span class="token literal-property property">tabHead</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"国家"</span><span class="token punctuation">,</span> <span class="token string">"人口"</span><span class="token punctuation">,</span> <span class="token string">"测试"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//表头列表</span>
    <span class="token literal-property property">keyList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"population"</span><span class="token punctuation">,</span> <span class="token string">"test"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//表头对应的属性名,顺序必须与表头对应</span>
    <span class="token literal-property property">tabData</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"中国"</span><span class="token punctuation">,</span> <span class="token literal-property property">population</span><span class="token operator">:</span> <span class="token string">"11"</span><span class="token punctuation">,</span> <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token string">"t1"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"美国"</span><span class="token punctuation">,</span> <span class="token literal-property property">population</span><span class="token operator">:</span> <span class="token string">"22"</span><span class="token punctuation">,</span> <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token string">"t2"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"日本"</span><span class="token punctuation">,</span> <span class="token literal-property property">population</span><span class="token operator">:</span> <span class="token string">"35"</span><span class="token punctuation">,</span> <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token string">"t3"</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token comment">//对象数组</span>
<span class="token punctuation">}</span>

<span class="token comment">//导出数据表格</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">downloadXlsx</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">tabObj</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token literal-property property">aoaList</span><span class="token operator">:</span> any <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    aoaList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> tabObj<span class="token punctuation">.</span>tabHead<span class="token punctuation">;</span> <span class="token comment">//赋值表头列表</span>
    tabObj<span class="token punctuation">.</span>tabData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">tabItem</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">tabIndex</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        aoaList<span class="token punctuation">[</span>tabIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//该二维度数组必须多加一个元素，因为表头占第一个元素</span>
        tabObj<span class="token punctuation">.</span>keyList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">keyItem</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">keyIndex</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">let</span> val <span class="token operator">=</span> tabItem<span class="token punctuation">[</span>keyItem<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//获取表格属性的值</span>
            <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> val <span class="token operator">==</span> <span class="token string">"undefined"</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>val <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span>
                <span class="token punctuation">(</span>aoaList<span class="token punctuation">[</span>tabIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>keyIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"-"</span><span class="token punctuation">)</span> <span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>数据未定义或者为空则用<span class="token string">"-"</span><span class="token function">代替</span>
                <span class="token punctuation">(</span>aoaList<span class="token punctuation">[</span>tabIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>keyIndex<span class="token punctuation">]</span> <span class="token operator">=</span> val <span class="token operator">+</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//添加空字符串，防类型为非字符串</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> workSheet <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    workSheet <span class="token operator">=</span> <span class="token constant">XLSX</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">aoa_to_sheet</span><span class="token punctuation">(</span>aoaList<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将列表数据添加到工作表</span>
    <span class="token keyword">let</span> workBook <span class="token operator">=</span> <span class="token constant">XLSX</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">book_new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//创建一个工作薄</span>
    <span class="token constant">XLSX</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">book_append_sheet</span><span class="token punctuation">(</span>workBook<span class="token punctuation">,</span> workSheet<span class="token punctuation">,</span> <span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将工作表添加到工作薄中</span>
    <span class="token keyword">await</span> <span class="token constant">XLSX</span><span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>workBook<span class="token punctuation">,</span> tabObj<span class="token punctuation">.</span>fileName <span class="token operator">+</span> <span class="token string">".xlsx"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//写入文件，下载工作薄</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_788"></a>结语</h3> 
<p>我做这个其实还是学到了很多东西，主要是vue2与vue3的区别。以前的this算是可以彻底抛弃了，还有就是组合式api配合setup语法糖，爽啊！就连组件引入后都不用注册了，直接使用。不过也有注意点，用ref()声明的响应式变量使用时需要加.vaule。至于ts，我感觉自己还是很菜啊，一直any一直爽。。。。。。ts类型系统直接被我无视了，后面还得观摩观摩其他大佬咋写的。截止到现在2022.9.13成都疫情好转要复工了，项目其实都是没有完成的，主要还差“省内分析”和“下载当地疫情报告”，我做了alert提示，反正数据获取到了，后面在搞，我项目是完全开源了的，有牛逼的可以直接clone下来开发完成（我想要白嫖！(╯▔皿▔)╯）。<br> <img src="https://images2.imgbox.com/13/c6/fHb9otRb_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b8/98/OaV3DcZ7_o.png" alt="在这里插入图片描述"><br> 这篇文章我只在csdn和博客园发布过，最后还有句话，我知道某些人，某些网站，会直接把我文章扒过去，我不是不允许你们扒，你们至少得留个原作者和来源吧？！(ノ｀Д)ノ(ノ｀Д)ノ(ノ｀Д)ノ</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/43ae43e8cafbb4af64ac001db61bdbb7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于GPT-2实现图像文本生成</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e0b588f4ad424384e5852471ef094099/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">疫情可视化part2</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>