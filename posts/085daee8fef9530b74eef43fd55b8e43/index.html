<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SpringBoot使用Swagger编写接口文档 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SpringBoot使用Swagger编写接口文档" />
<meta property="og:description" content="一、导入坐标 &lt;dependency&gt; &lt;groupId&gt;io.springfox&lt;/groupId&gt; &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt; &lt;version&gt;2.7.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;io.springfox&lt;/groupId&gt; &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt; &lt;version&gt;2.7.0&lt;/version&gt; &lt;/dependency&gt; 二、编写配置类 命名自己定义
@Configuration // 配置类
@EnableSwagger2 // 开启 swagger2 的自动配置
public class SwaggerConfig{ }
具体代码如下
package com.example.demo.utils.config; import org.springframework.beans.factory.annotation.Value; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import springfox.documentation.builders.ApiInfoBuilder; import springfox.documentation.builders.ParameterBuilder; import springfox.documentation.builders.PathSelectors; import springfox.documentation.builders.RequestHandlerSelectors; import springfox.documentation.schema.ModelRef; import springfox.documentation.service.ApiInfo; import springfox.documentation.service.Parameter; import springfox.documentation.spi.DocumentationType; import springfox.documentation.spring.web.plugins.Docket; import springfox.documentation.swagger2.annotations.EnableSwagger2; import java.util.ArrayList; import java.util.List; @Configuration @EnableSwagger2 public class SwaggerConfig { @Value(value=&#34;true&#34;) private Boolean swaggerEnabled; @Bean public Docket productApi() { // 设置请求头 List&lt;Parameter&gt; parameters = new ArrayList&lt;&gt;(); parameters." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/085daee8fef9530b74eef43fd55b8e43/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-02T15:07:28+08:00" />
<meta property="article:modified_time" content="2023-12-02T15:07:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SpringBoot使用Swagger编写接口文档</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一、导入坐标</h2> 
<pre>&lt;dependency&gt;
    &lt;groupId&gt;io.springfox&lt;/groupId&gt;
    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;
    &lt;version&gt;2.7.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.springfox&lt;/groupId&gt;
    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;
    &lt;version&gt;2.7.0&lt;/version&gt;
&lt;/dependency&gt;</pre> 
<p><img alt="" height="596" src="https://images2.imgbox.com/e8/15/2lPPW1Xh_o.png" width="1200"></p> 
<h2>二、编写配置类</h2> 
<p>命名自己定义</p> 
<p><img alt="" height="419" src="https://images2.imgbox.com/9c/40/fsa0lCks_o.png" width="1200"></p> 
<p>@Configuration // 配置类</p> 
<p>@EnableSwagger2 // 开启 swagger2 的自动配置</p> 
<p>public class SwaggerConfig{ }</p> 
<p>具体代码如下</p> 
<pre><code class="language-java">package com.example.demo.utils.config;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import springfox.documentation.builders.ApiInfoBuilder;
import springfox.documentation.builders.ParameterBuilder;
import springfox.documentation.builders.PathSelectors;
import springfox.documentation.builders.RequestHandlerSelectors;
import springfox.documentation.schema.ModelRef;
import springfox.documentation.service.ApiInfo;
import springfox.documentation.service.Parameter;
import springfox.documentation.spi.DocumentationType;
import springfox.documentation.spring.web.plugins.Docket;
import springfox.documentation.swagger2.annotations.EnableSwagger2;

import java.util.ArrayList;
import java.util.List;

@Configuration
@EnableSwagger2
public class SwaggerConfig {

    @Value(value="true")
    private Boolean swaggerEnabled;

    @Bean
    public Docket productApi() {
        // 设置请求头
        List&lt;Parameter&gt; parameters = new ArrayList&lt;&gt;();
        parameters.add(new ParameterBuilder()
                .name("Authorization") // 字段名
                .description("Authorization") // 描述
                .modelRef(new ModelRef("string")) // 数据类型
                .parameterType("header") // 参数类型
                .defaultValue("") // 默认值：可自己设置
                .hidden(true) // 是否隐藏
                .required(false) // 是否必须
                .build());


        return new Docket(DocumentationType.SWAGGER_2)
//                .groupName("bookstore")
                .apiInfo(apiInfo())
                .enable(swaggerEnabled)
                .select()
                .apis(RequestHandlerSelectors.basePackage("com.example.demo.controller"))  //添加ApiOperiation注解的被扫描
                .paths(PathSelectors.any())
                .build()
                .globalOperationParameters(parameters);

    }

    private ApiInfo apiInfo() {
        return new ApiInfoBuilder()
                .title("bookstore接口文档")
                .description("bookstore")
                .termsOfServiceUrl("www.bookstore.com")
                .version("1.0")
                .build();
    }
}</code></pre> 
<p>我的用于前后端分离项目，需要配置请求头信息，如果你的没有可以去掉那段配置</p> 
<h2>三、在controller层类上配置</h2> 
<p><img alt="" height="622" src="https://images2.imgbox.com/3d/78/o1wXssb9_o.png" width="1200"></p> 
<pre>@Api(description = "书籍列表") 用于描述类的作用
@ApiOperation("获取所有书籍列表") 用于描述类的方法的作用
</pre> 
<p>运行之后是这样的, 打开地址 <a href="http://localhost:8090/swagger-ui.html#/" rel="nofollow" title="http://localhost:8090/swagger-ui.html#/">http://localhost:8090/swagger-ui.html#/</a></p> 
<p><img alt="" height="1025" src="https://images2.imgbox.com/ca/59/tjVGe8Cl_o.png" width="1200"></p> 
<p><span style="color:#be191c;">这里还需要注意一点的是，如果你的controller方法上使用的是@RequestMapping()的话，你的swagger界面将会是这样的。</span></p> 
<p><img alt="" height="403" src="https://images2.imgbox.com/13/fb/nFNy3rXw_o.png" width="578"></p> 
<p><img alt="" height="897" src="https://images2.imgbox.com/3d/a0/GYCxTDmC_o.png" width="1200"></p> 
<p>他会默认展示所有的接口信息，包括最基础的 <code>basic-error</code> 相关的接口，在我那个配置已经修改好了。</p> 
<p>所以你得使用明确的请求类型。例如@PostMapping,@GetMapping,@PutMapping,@DeleteMapping注解</p> 
<p><img alt="" height="645" src="https://images2.imgbox.com/a5/57/BqqATMsE_o.png" width="1200"></p> 
<pre>@PostMapping("/selectBookListAll")，这样swagger就只会显示你写的那些接口了</pre> 
<h2>四、其他注解用法</h2> 
<p>这可以标明你的每一个属性在swagger页面能看到对应的信息</p> 
<p><img alt="" height="761" src="https://images2.imgbox.com/4b/dc/qUnD7wry_o.png" width="1200"></p> 
<h5>@<a href="https://so.csdn.net/so/search?q=ApiModel&amp;spm=1001.2101.3001.7020" title="ApiModel">ApiModel</a></h5> 
<p>该注解是作用于实体类上面的，是用来描述实体类的一些基本信息的。</p> 
<p>相关属性：</p> 
<ul><li><code>value</code>：提供类的一个备用名，如果不设置，默认情况下将使用 class 类的名称</li><li>description：对于类，提供一个详细的描述信息</li><li>parent：这个属性用于描述的是类的一些父类信息</li><li>discriminator：这个属性解释起来比较麻烦，因为这个类主要体现在断言当中</li><li>subTypes：可以通过这个属性，指定我们想要使用的子类</li></ul> 
<h5>@<a href="https://so.csdn.net/so/search?q=ApiModelProperty&amp;spm=1001.2101.3001.7020" title="ApiModelProperty">ApiModelProperty</a></h5> 
<p>该注解是用在实体类的属性上的。它的作用是添加和操作属性模块的数据。</p> 
<pre><code class="language-java">@Data
@NoArgsConstructor
@AllArgsConstructor
@ApiModel(value = "Id请求体")
public class IdReq {
    @ApiModelProperty("主键id")
    private String id;
}</code></pre> 
<h5>@ApiOperation</h5> 
<p>该注解是用在Controller类中的方法上的。用来对某个方法/接口进行描述</p> 
<pre><code class="language-java"> @PostMapping(value = "/query-user-info")
    @ApiOperation(value = "根据id查询用户详情")
    public ResponseBean queryUserInfo(@RequestBody @Validated IdReq req) {
        return ResponseBean.success(userService.queryUserInfo(req));
    }</code></pre> 
<h5>@ApiParam</h5> 
<p>该注解是用在Controller类的方法上或者参数上，用来进行字段说明，表示对参数的添加元数据（说明或者是否必填等）</p> 
<p>相关属性：</p> 
<ul><li>name：参数名</li><li>value：参数说明</li><li>required：是否必填</li></ul> 
<pre><code class="language-java">@PostMapping(value = "/query-user-infos")

@ApiOperation(value = "条件查询用户信息")

public ResponseBean queryUserInfos(

   // name 用户名称 不必填 @ApiParam(value = "用户名称", required = false)                 
   @RequestParam(required = false) String name,

  // gender 用户性别 必填 @ApiParam(value = "用户性别", required = true) 
  @RequestParam(required = true) GenderEnum gender ){

    return ResponseBean.success(userService.queryUserInfos(name,gender));

}

</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/34564793722207b9854d4b0447143db8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">c&#43;&#43;以及golang基于protobuf进行简单通讯【c&#43;&#43;与golang】【项目研究】</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1f7a75922b4d89077f227b1ed9ab8e87/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">十六进制数列求和</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>