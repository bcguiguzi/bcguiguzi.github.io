<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CentOS7中yum命令详解，本地源，在线源，混合源 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CentOS7中yum命令详解，本地源，在线源，混合源" />
<meta property="og:description" content="目录
Linux系统中常用的软件包管理工具
yum详解
yum常见的目录
yum的本地源和在线源
本地源特点
安装本地源步骤
安装本地源具体演示
http方式安装本地源实验 ​编辑ftp方式安装本地源实验
在线源特点
安装在线源
混合源：本地源和在线源混合在一起，在一个配置文件
yum命令语法和常用用法
Linux系统中常用的软件包管理工具 apt-get：Debian和Ubuntu系统中常用的软件包管理工具，通过命令行进行软件包的安装、更新和卸载。
yum：适用于Red Hat、CentOS等RPM包管理系统的软件包管理工具，也是通过命令行进行软件包的安装、更新和卸载。
dnf：Fedora系统中的软件包管理工具，是yum的后续版本，提供更快的包管理速度和更好的依赖关系解决方案。
zypper：适用于openSUSE和SUSE Linux Enterprise系统的软件包管理工具，通过命令行进行软件包的安装、更新和卸载。
pacman：适用于Arch Linux系统的软件包管理工具，也是通过命令行进行软件包的安装、更新和卸载。
snap：一种跨发行版的软件打包和分发系统，它可以在不同的Linux发行版上安装相同的软件包，通过命令行进行软件包的安装、更新和卸载。
tar：是一种Linux系统中的归档工具，用于将多个文件或目录打包成一个单独的文件（通常是.tar文件）。tar可以压缩和解压缩文件，也可以在打包时指定压缩方法（例如gzip、bzip2等）。tar的命令格式为：tar [options] [file(s)]。
tar常用参数说明
-c：创建打包文件
-v：显示指令执行过程
-f：指定文件
-r：向已经存在的打包文件中添加文件
-x：还原文件
-t：列出备份文件的内容
tar常用用法
打包命令：tar -cvf [打包文件名] [待打包文件或目录]
解包命令：tar -xvf [打包文件名]
压缩命令：tar -czvf [压缩文件名] [待压缩文件或目录]
解压缩命令：tar -xzvf [压缩文件名]
添加文件命令：tar -rvf [打包文件名] [待添加文件或目录]
查看打包文件内容命令：tar -tvf [打包文件名]
8. rpm：一种Linux系统中的软件包管理工具，用于安装、升级和删除.rpm格式的软件包。
用rpm时需要先对rpm包所需的依赖包yum下载，需要手动下载 RPM 文件并提供给 RPM 工具进行操作。
错误示例
[root@master Packages]# rpm -ivh tomcat-lib-7." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/c9b1b8ca98d5f9bc22fd2c6fecb5a050/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-18T17:39:06+08:00" />
<meta property="article:modified_time" content="2024-01-18T17:39:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CentOS7中yum命令详解，本地源，在线源，混合源</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="Linux%E7%B3%BB%E7%BB%9F%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7-toc" style="margin-left:0px;"><a href="#Linux%E7%B3%BB%E7%BB%9F%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7" rel="nofollow">Linux系统中常用的软件包管理工具</a></p> 
<p id="yum%E8%AF%A6%E8%A7%A3-toc" style="margin-left:0px;"><a href="#yum%E8%AF%A6%E8%A7%A3" rel="nofollow">yum详解</a></p> 
<p id="yum%E5%B8%B8%E8%A7%81%E7%9A%84%E7%9B%AE%E5%BD%95-toc" style="margin-left:40px;"><a href="#yum%E5%B8%B8%E8%A7%81%E7%9A%84%E7%9B%AE%E5%BD%95" rel="nofollow">yum常见的目录</a></p> 
<p id="yum%E7%9A%84%E6%9C%AC%E5%9C%B0%E6%BA%90%E5%92%8C%E5%9C%A8%E7%BA%BF%E6%BA%90-toc" style="margin-left:40px;"><a href="#yum%E7%9A%84%E6%9C%AC%E5%9C%B0%E6%BA%90%E5%92%8C%E5%9C%A8%E7%BA%BF%E6%BA%90" rel="nofollow">yum的本地源和在线源</a></p> 
<p id="%E6%9C%AC%E5%9C%B0%E6%BA%90%E7%89%B9%E7%82%B9-toc" style="margin-left:40px;"><a href="#%E6%9C%AC%E5%9C%B0%E6%BA%90%E7%89%B9%E7%82%B9" rel="nofollow">本地源特点</a></p> 
<p id="%E5%AE%89%E8%A3%85%E6%9C%AC%E5%9C%B0%E6%BA%90%E6%AD%A5%E9%AA%A4-toc" style="margin-left:40px;"><a href="#%E5%AE%89%E8%A3%85%E6%9C%AC%E5%9C%B0%E6%BA%90%E6%AD%A5%E9%AA%A4" rel="nofollow">安装本地源步骤</a></p> 
<p id="%C2%A0%E5%AE%89%E8%A3%85%E6%9C%AC%E5%9C%B0%E6%BA%90%E5%85%B7%E4%BD%93%E6%BC%94%E7%A4%BA-toc" style="margin-left:40px;"><a href="#%C2%A0%E5%AE%89%E8%A3%85%E6%9C%AC%E5%9C%B0%E6%BA%90%E5%85%B7%E4%BD%93%E6%BC%94%E7%A4%BA" rel="nofollow">安装本地源具体演示</a></p> 
<p id="http%E6%96%B9%E5%BC%8F%E5%AE%89%E8%A3%85%E6%9C%AC%E5%9C%B0%E6%BA%90%C2%A0-toc" style="margin-left:40px;"><a href="#http%E6%96%B9%E5%BC%8F%E5%AE%89%E8%A3%85%E6%9C%AC%E5%9C%B0%E6%BA%90%C2%A0" rel="nofollow">http方式安装本地源实验 </a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%91%C2%A0ftp%E6%96%B9%E5%BC%8F%E5%AE%89%E8%A3%85%E6%9C%AC%E5%9C%B0%E6%BA%90-toc" style="margin-left:40px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%91%C2%A0ftp%E6%96%B9%E5%BC%8F%E5%AE%89%E8%A3%85%E6%9C%AC%E5%9C%B0%E6%BA%90" rel="nofollow">​编辑ftp方式安装本地源实验</a></p> 
<p id="%E5%9C%A8%E7%BA%BF%E6%BA%90%E7%89%B9%E7%82%B9-toc" style="margin-left:40px;"><a href="#%E5%9C%A8%E7%BA%BF%E6%BA%90%E7%89%B9%E7%82%B9" rel="nofollow">在线源特点</a></p> 
<p id="%E5%AE%89%E8%A3%85%E5%9C%A8%E7%BA%BF%E6%BA%90-toc" style="margin-left:40px;"><a href="#%E5%AE%89%E8%A3%85%E5%9C%A8%E7%BA%BF%E6%BA%90" rel="nofollow">安装在线源</a></p> 
<p id="%E6%B7%B7%E5%90%88%E6%BA%90%EF%BC%9A%E6%9C%AC%E5%9C%B0%E6%BA%90%E5%92%8C%E5%9C%A8%E7%BA%BF%E6%BA%90%E6%B7%B7%E5%90%88%E5%9C%A8%E4%B8%80%E8%B5%B7%EF%BC%8C%E5%9C%A8%E4%B8%80%E4%B8%AA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-toc" style="margin-left:40px;"><a href="#%E6%B7%B7%E5%90%88%E6%BA%90%EF%BC%9A%E6%9C%AC%E5%9C%B0%E6%BA%90%E5%92%8C%E5%9C%A8%E7%BA%BF%E6%BA%90%E6%B7%B7%E5%90%88%E5%9C%A8%E4%B8%80%E8%B5%B7%EF%BC%8C%E5%9C%A8%E4%B8%80%E4%B8%AA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" rel="nofollow">混合源：本地源和在线源混合在一起，在一个配置文件</a></p> 
<p id="yum%E5%91%BD%E4%BB%A4%E8%AF%AD%E6%B3%95%E5%92%8C%E5%B8%B8%E7%94%A8%E7%94%A8%E6%B3%95-toc" style="margin-left:40px;"><a href="#yum%E5%91%BD%E4%BB%A4%E8%AF%AD%E6%B3%95%E5%92%8C%E5%B8%B8%E7%94%A8%E7%94%A8%E6%B3%95" rel="nofollow">yum命令语法和常用用法</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="Linux%E7%B3%BB%E7%BB%9F%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7">Linux系统中常用的软件包管理工具</h2> 
<ol><li> <p>apt-get：Debian和Ubuntu系统中常用的软件包管理工具，通过命令行进行软件包的安装、更新和卸载。</p> </li><li> <p>yum：适用于Red Hat、CentOS等RPM包管理系统的软件包管理工具，也是通过命令行进行软件包的安装、更新和卸载。</p> </li><li> <p>dnf：Fedora系统中的软件包管理工具，是yum的后续版本，提供更快的包管理速度和更好的依赖关系解决方案。</p> </li><li> <p>zypper：适用于openSUSE和SUSE Linux Enterprise系统的软件包管理工具，通过命令行进行软件包的安装、更新和卸载。</p> </li><li> <p>pacman：适用于Arch Linux系统的软件包管理工具，也是通过命令行进行软件包的安装、更新和卸载。</p> </li><li> <p>snap：一种跨发行版的软件打包和分发系统，它可以在不同的Linux发行版上安装相同的软件包，通过命令行进行软件包的安装、更新和卸载。</p> </li><li> <p>tar：是一种Linux系统中的归档工具，用于将多个文件或目录打包成一个单独的文件（通常是.tar文件）。tar可以压缩和解压缩文件，也可以在打包时指定压缩方法（例如gzip、bzip2等）。tar的命令格式为：tar [options] [file(s)]。</p> </li></ol> 
<p>                <strong>tar常用参数说明</strong></p> 
<p>                        -c：创建打包文件</p> 
<p>                        -v：显示指令执行过程</p> 
<p>                        -f：指定文件</p> 
<p>                        -r：向已经存在的打包文件中添加文件</p> 
<p>                        -x：还原文件</p> 
<p>                        -t：列出备份文件的内容</p> 
<p>                <strong>tar常用用法</strong></p> 
<p>                        打包命令：tar -cvf [打包文件名] [待打包文件或目录]</p> 
<p>                        解包命令：tar -xvf [打包文件名]</p> 
<p>                        压缩命令：tar -czvf [压缩文件名] [待压缩文件或目录]</p> 
<p>                        解压缩命令：tar -xzvf [压缩文件名]</p> 
<p>                        添加文件命令：tar -rvf [打包文件名] [待添加文件或目录]</p> 
<p>                        查看打包文件内容命令：tar -tvf [打包文件名]</p> 
<p>        8. rpm：一种Linux系统中的软件包管理工具，用于安装、升级和删除.rpm格式的软件包。</p> 
<p>                用rpm时需要先对rpm包所需的依赖包yum下载，需要手动下载 RPM 文件并提供给 RPM 工具进行操作。</p> 
<blockquote> 
 <p>错误示例</p> 
 <p>[root@master Packages]# rpm -ivh tomcat-lib-7.0.76-7.el7_5.noarch.rpm<br> error: Failed dependencies:<br>         apache-commons-collections is needed by tomcat-lib-0:7.0.76-7.el7_5.noarch<br>         apache-commons-dbcp is needed by tomcat-lib-0:7.0.76-7.el7_5.noarch<br>         apache-commons-pool is needed by tomcat-lib-0:7.0.76-7.el7_5.noarch<br>         ecj &gt;= 1:4.2.1 is needed by tomcat-lib-0:7.0.76-7.el7_5.noarch<br>         tomcat-el-2.2-api = 0:7.0.76-7.el7_5 is needed by tomcat-lib-0:7.0.76-7.el7_5.noarch<br>         tomcat-jsp-2.2-api = 0:7.0.76-7.el7_5 is needed by tomcat-lib-0:7.0.76-7.el7_5.noarch<br>         tomcat-servlet-3.0-api = 0:7.0.76-7.el7_5 is needed by tomcat-lib-0:7.0.76-7.el7_5.noarch<br>  </p> 
</blockquote> 
<p>                rpm可以查询软件包的信息、检查软件包的完整性和签名。</p> 
<p></p> 
<p>                rpm的命令格式为：rpm [options] [command] [package]</p> 
<p>                <strong>rpm常见的参数说明</strong></p> 
<p>                        -i：安装软件包</p> 
<p>                        -U：升级系统中已安装的软件包</p> 
<p>                        -e：卸载/删除软件包</p> 
<p>                        -q：查询软件包的信息</p> 
<p>                                -qa：列出系统中所有已安装的软件包</p> 
<p>                                -qf：通过指定文件路径查询与之关联的软件包</p> 
<p>                                -qi：显示软件包的详细信息</p> 
<p>                                -ql：列出软件包安装的文件列表</p> 
<p>                                -qR：显示软件包的依赖关系</p> 
<p>                        -v：验证软件包</p> 
<p>                                -vf：验证指定文件是否属于某个软件包</p> 
<p>                                -va：验证系统中所有已安装的软件包</p> 
<p>                        --relocate：重新安装软件包到不同的目录</p> 
<p>                        --nodeps：在安装或卸载软件包时忽略依赖关系检查</p> 
<p>                        --force：强制执行操作，即使可能会导致问题</p> 
<p>                        --test：模拟操作，而不实际执行</p> 
<p>                        --help：获取更多详细的帮助信息</p> 
<p></p> 
<blockquote> 
 <p>简单来说yum用于从软件仓库中下载和安装软件包，tar用于打包和压缩文件，rpm用于管理.rpm格式的软件包。</p> 
</blockquote> 
<p></p> 
<h2 id="yum%E8%AF%A6%E8%A7%A3">yum详解</h2> 
<p>yum是一种Linux系统中的软件包管理工具，用于从指定的软件仓库中下载、安装、升级和删除软件包。</p> 
<p>yum可以<strong>自动处理软件包间的依赖关系</strong>，并在安装或升级软件包时自动下载并安装所需的依赖项。</p> 
<p>相当于rpm方式的升级。</p> 
<p>yum支持配置多个不同的软件仓库，并可以通过配置插件来扩展其功能。库的形式：本地仓库（光盘镜像）、在线仓库（第三方提供）</p> 
<blockquote> 
 <p>元数据：所有的安装包的位置以及安装之间的依赖关系，都保存在元数据当中。</p> 
</blockquote> 
<h3 id="yum%E5%B8%B8%E8%A7%81%E7%9A%84%E7%9B%AE%E5%BD%95">yum常见的目录</h3> 
<p>yum主配置文件：/etc/yum.conf</p> 
<p>yum日志文件：/var/log/yum.log</p> 
<p>yum仓库配置文件目录：/etc/yum.repos.d/</p> 
<p>yum缓存目录：/var/cache/yum/</p> 
<h3 id="yum%E7%9A%84%E6%9C%AC%E5%9C%B0%E6%BA%90%E5%92%8C%E5%9C%A8%E7%BA%BF%E6%BA%90">yum的本地源和在线源</h3> 
<p>        yum安装必须要有库，库里面的包都是rpm格式的包。配置文件在 /etc/yum.repos.d/ 目录下，每个rpeo配置文件代表一个yum软件源。本地源与在线源都在这里配置</p> 
<pre><code>[root@xxtg ~]# ls /etc/yum.repos.d/
CentOS-Base.repo  CentOS-Debuginfo.repo  CentOS-Media.repo    CentOS-Vault.repo
CentOS-CR.repo    CentOS-fasttrack.repo  CentOS-Sources.repo</code></pre> 
<p> 查看系统中可用的 yum 软件源：yum repollist </p> 
<p>yum repolist 会遍历 /etc/yum.repos.d/ 目录下的所有 .repo 文件，显示启用（enable)的软件源。</p> 
<pre><code>[root@xxtg ~]# yum repolist
Loaded plugins: fastestmirror, langpacks
Repodata is over 2 weeks old. Install yum-cron? Or run: yum makecache fast
Determining fastest mirrors
 * base: mirrors.aliyun.com
 * extras: ftp.sjtu.edu.cn
 * updates: mirrors.aliyun.com
repo id                                                    repo name                                                   status
!base/7/x86_64                                             CentOS-7 - Base                                             10,072
!extras/7/x86_64                                           CentOS-7 - Extras                                              518
!updates/7/x86_64                                          CentOS-7 - Updates                                           5,527
repolist: 16,117</code></pre> 
<p> 其中，Base 软件源提供了 CentOS 7 的基本软件包，而 Extras 软件源和 Updates 软件源分别提供了额外的软件包和安全更新。</p> 
<p>在上面的显示中，Base 软件源中有 10072 个软件包可用，而 Updates 软件源中则有 5527 个软件包可用，可用的软件包总数为 16117。</p> 
<h3 id="%E6%9C%AC%E5%9C%B0%E6%BA%90%E7%89%B9%E7%82%B9">本地源特点</h3> 
<p>本地源是指将软件包存储在本地服务器或计算机上，供系统使用。这些软件包可以是操作系统的安装介质、更新补丁或其他软件包。</p> 
<p>特点：本地源不需要互联网连接；安装软件包速度快；本地源可以通过验证和审查软件包的完整性和来源，提供更高的安全性保障；本地源需要手动更新软件包，可能相对更新延迟；需要足够的存储空间来存储软件包。</p> 
<h3 id="%E5%AE%89%E8%A3%85%E6%9C%AC%E5%9C%B0%E6%BA%90%E6%AD%A5%E9%AA%A4">安装本地源步骤</h3> 
<p>1、准备一个包含 CentOS 安装光盘或 ISO 镜像的目录</p> 
<p>2、创建一个新的 Yum 仓库配置文件。在终端中使用文本编辑器（如 vi 或 nano）打开一个新文件，命名为 "文件名.repo"</p> 
<p>3、在该repo文件中添加以下内容：</p> 
<blockquote> 
 <p>[local]</p> 
 <p>name=Local Yum Repository</p> 
 <p>baseurl=file:///path/to/your/directory</p> 
 <p>enabled=1</p> 
 <p>gpgcheck=0</p> 
</blockquote> 
<p>这个 /path/to/your/directory 为包含 CentOS 安装光盘或 ISO 镜像的目录的实际路径。</p> 
<p>这个配置文件指定了一个本地仓库，它使用 file:/// 协议指向本地目录，并且禁用了 GPG 校验（此处为演示目的，实际按情况考虑是否启用 GPG 校验来确保软件包的完整性）。</p> 
<p>4、运行以下命令以清除 Yum 缓存并重建仓库缓存：</p> 
<blockquote> 
 <p>sudo yum clean all &amp;&amp; yum makecache</p> 
</blockquote> 
<h3 id="%C2%A0%E5%AE%89%E8%A3%85%E6%9C%AC%E5%9C%B0%E6%BA%90%E5%85%B7%E4%BD%93%E6%BC%94%E7%A4%BA">安装本地源具体演示</h3> 
<pre><code>#将光盘驱动器的设备文件挂载到目录 /mnt 上，使得光盘中的内容在文件系统中可访问
[root@xxtg ~]# mount /dev/cdrom /mnt/

#为方便演示，将/etc/yum.repos.d/目录下的文件删除
[root@xxtg ~]# cd /etc/yum.repos.d
[root@xxtg yum.repos.d]# rm -rf *

#编写本地源
[root@xxtg yum.repos.d]# vim local.repo
[local]
#标签，必须和文件名一一对应
name=123
#描述文件信息，可以随便填
baseurl=file:///mnt
#指定镜像的目录，挂载光盘镜像的挂载点
gpgcheck=0
#不检查软件的序列号，加快寻找依赖关系和安装速度
enable=1
#开启此yum源，默认就是开启，可以不加

#清除 Yum 缓存并重建仓库缓存
[root@xxtg yum.repos.d]# yum clean all &amp;&amp; yum makecache

#测试一下，下载安装 tree
[root@xxtg yum.repos.d]# yum -y install tree
========================================================================================
 Package      Arch           Version              Repository             Size
========================================================================================
Installing:
 tree         x86_64         1.6.0-10.el7          local                  46 k

Transaction Summary
========================================================================================
#可以看到用的是本地源

</code></pre> 
<h3 id="http%E6%96%B9%E5%BC%8F%E5%AE%89%E8%A3%85%E6%9C%AC%E5%9C%B0%E6%BA%90%C2%A0">http方式安装本地源实验 </h3> 
<p>虚拟机1：172.16.80.12</p> 
<p>虚拟机2：172.16.80. 13</p> 
<pre><code>虚拟机1（172.16.80.12）：
[root@xxtg ~]# systemctl stop firewalld
[root@xxtg ~]# setenforce 0

#安装http，编写本地yum源
[root@xxtg ~]# yum -y install httpd
[root@xxtg ~]# systemctl start httpd.service
[root@xxtg ~]# cd /etc/yum.repos.d/
[root@xxtg yum.repos.d]# rm -rf *    #实验需要，删除其他repo
[root@xxtg yum.repos.d]# vim http.repo
[http]
name=321
baseurl=http://172.16.80.12/centos7
gpgcheck=0

#设置镜像
[root@xxtg yum.repos.d]# cd /var/www/html/
[root@xxtg html]# mkdir centos7
#如果/dev/cdrom和/mnt挂载了，解挂载：umount /dev/cdrom /mnt/
[root@xxtg html]# mount /dev/cdrom /var/www/html/centos7/
#在浏览器中访问172.16.80.12/centos7

#清除 Yum 缓存并重建仓库缓存
[root@xxtg html]# yum clean all &amp;&amp; yum makecache

虚拟机2（172.16.80.13）：
[root@localhost ~]# systemctl stop firewalld.service
[root@localhost ~]# setenforce 0
[root@localhost ~]# cd /etc/yum.repos.d/
[root@localhost yum.repos.d]# rm -rf *
[root@localhost yum.repos.d]# vim local.repo
[local]
name=111
baseurl=http://172.16.80.12/centos7
gpgcheck=0

[root@localhost yum.repos.d]# yum clean all &amp;&amp; yum makecache
[root@localhost yum.repos.d]# yum -y install httpd    #测试
========================================================================================
 Package             Arch           Version                     Repository          Size
========================================================================================
Installing:
 httpd               x86_64         2.4.6-88.el7.centos         local              2.7 M
Installing for dependencies:
 apr                 x86_64         1.4.8-3.el7_4.1             local              103 k
 apr-util            x86_64         1.5.2-6.el7                 local               92 k
 httpd-tools         x86_64         2.4.6-88.el7.centos         local               90 k
 mailcap             noarch         2.1.41-2.el7                local               31 k

Transaction Summary
========================================================================================

</code></pre> 
<p>在浏览器中访问172.16.80.12/centos7</p> 
<h3 id="%E2%80%8B%E7%BC%96%E8%BE%91%C2%A0ftp%E6%96%B9%E5%BC%8F%E5%AE%89%E8%A3%85%E6%9C%AC%E5%9C%B0%E6%BA%90"><img alt="" height="810" src="https://images2.imgbox.com/d2/d5/DClgPzTr_o.png" width="1200">ftp方式安装本地源实验</h3> 
<p> 虚拟机1：172.16.80.12</p> 
<p>虚拟机2：172.16.80. 13</p> 
<pre><code>虚拟机1：
[root@xxtg ~]# systemctl stop firewalld
[root@xxtg ~]# setenforce 0
[root@xxtg ~]# yum -y install vsftpd
[root@xxtg ~]# cd /var/ftp/
[root@xxtg ftp]# mkdir vsftpd
[root@xxtg yum.repos.d]# mount /dev/cdrom /var/ftp/vsftpd/
[root@xxtg ftp]# cd /etc/yum.repos.d/
[root@xxtg yum.repos.d]# rm -rf *
[root@xxtg yum.repos.d]# vim vsftpd.repo
[vsftpd]
name=123
baseurl=ftp://172.16.80.12/vsftpd
gpgcheck=0

[root@xxtg yum.repos.d]# systemctl restart vsftpd

虚拟机2：
[root@localhost ~]# systemctl stop firewalld.service
[root@localhost ~]# setenforce 0
[root@localhost ~]# cd /etc/yum.repos.d/
[root@localhost yum.repos.d]# rm -rf *
[root@localhost yum.repos.d]# vim local.repo
[local]
name=111
baseurl=ftp://172.16.80.12/vsftpd
gpgcheck=0

[root@localhost yum.repos.d]# yum clean all &amp;&amp; yum makecache
#测试
[root@localhost yum.repos.d]# yum -y install tree
========================================================================================
Package         Arch              Version                   Repository             Size
========================================================================================
Installing:
 tree            x86_64            1.6.0-10.el7              local                  46 k

Transaction Summary
========================================================================================
</code></pre> 
<h3 id="%E5%9C%A8%E7%BA%BF%E6%BA%90%E7%89%B9%E7%82%B9">在线源特点</h3> 
<p>在线源是指通过互联网从远程服务器获取软件包。常见的例子包括官方软件库和第三方软件库。</p> 
<p>特点：更新及时；使用方便；提供的软件包多样；依赖于互联网连接；需要注意源的可靠性和软件包的完整性，以避免下载到恶意软件或受损的软件。</p> 
<h3 id="%E5%AE%89%E8%A3%85%E5%9C%A8%E7%BA%BF%E6%BA%90">安装在线源</h3> 
<pre><code>[root@xxtg ~]# cd /etc/yum.repos.d/
[root@xxtg yum.repos.d]# ls
local.repo

#第一步骤：在 /etc/yum.repos.d/ 目录下载 aliyun yum源repo文件
[root@xxtg yum.repos.d]# wget http://mirrors.aliyun.com/repo/Centos-7.repo

[root@xxtg yum.repos.d]# ls
Centos-7.repo  local.repo

#第二步骤：
[root@xxtg yum.repos.d]# yum clean all &amp;&amp; yum makecache</code></pre> 
<h3 id="%E6%B7%B7%E5%90%88%E6%BA%90%EF%BC%9A%E6%9C%AC%E5%9C%B0%E6%BA%90%E5%92%8C%E5%9C%A8%E7%BA%BF%E6%BA%90%E6%B7%B7%E5%90%88%E5%9C%A8%E4%B8%80%E8%B5%B7%EF%BC%8C%E5%9C%A8%E4%B8%80%E4%B8%AA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">混合源：本地源和在线源混合在一起，在一个配置文件</h3> 
<pre><code>[root@xxtg ~]# systemctl stop firewalld
[root@xxtg ~]# setenforce 0
[root@xxtg ~]# mount /dev/cdrom /mnt/

[root@xxtg ~]# cd /etc/yum.repos.d/
[root@xxtg yum.repos.d]# rm -rf * 
[root@xxtg yum.repos.d]# vim fixed
[fixed]
#这个是本地的
name=123
baseurl=file:///mnt
gpgcheck=0
enabled=1
priority=1

[test]
#在线的
name=321
baseurl=https://mirrors.aliyun.com/epel/7Server/x86_64/
gpgcheck=0
enable=1
priority=2
#priority代表的是优先级。数字越小优先级越高


[root@xxtg yum.repos.d]# yum clean all &amp;&amp; yum makecache</code></pre> 
<h3 id="yum%E5%91%BD%E4%BB%A4%E8%AF%AD%E6%B3%95%E5%92%8C%E5%B8%B8%E7%94%A8%E7%94%A8%E6%B3%95">yum命令语法和常用用法</h3> 
<p>yum的命令格式为：yum [options] [command] [package]</p> 
<p><strong>常用选项</strong></p> 
<p>        -y：在执行操作时自动回答 "yes"，不需要用户确认。</p> 
<p>        -q：静默模式，只显示关键信息，不输出冗长的详细日志。</p> 
<p>        -v：显示详细的操作日志。</p> 
<p>        -h：显示帮助信息。</p> 
<p><strong>常用命令</strong></p> 
<pre><code>#常用命令
yum install &lt;package_name&gt;：安装指定的软件包。

yum update &lt;package_name&gt;：更新指定的软件包。

yum remove &lt;package_name&gt;：卸载指定的软件包。

yum info &lt;package_name&gt;：获取指定软件包的详细信息。

yum list &lt;package_name&gt;：列出所有或指定软件包的信息。

yum search &lt;keyword&gt;：搜索软件包名称、简介或描述中包含指定关键词的软件包。

yum groupinstall &lt;group_name&gt;：安装指定的软件组。

yum groupupdate &lt;group_name&gt;：更新指定的软件组。

yum grouplist：列出所有可用的软件组。

yum check-update：检查所有已安装软件包是否有可用更新。

yum clean all：清除yum缓存，以释放磁盘空间。

yum makecache：建立新的yum源的缓存，创建yum源的元数据。

yum history：查看yum命令执行历史记录。

yum provides &lt;filename&gt;：查找提供指定文件名的软件包。

yum repolist：列出yum源的列表。

yum-config-manager：配置yum源。</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/83555a66968f99a9eaaf5c57c6741982/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">图形化批量ping监视工具vmping</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/77fe2a79478d23c439bda444bc3a63bc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Ubuntu重启后进入initramfs导致无法开机</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>