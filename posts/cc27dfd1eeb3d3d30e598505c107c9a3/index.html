<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Zabbix vs Prometheus，监控系统哪家强？ - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Zabbix vs Prometheus，监控系统哪家强？" />
<meta property="og:description" content="关注公众号：“DevOps实战派”，获取更多DevOps和运维的精彩内容。
在监控系统的选择上，Zabbix与Prometheus是经常被比较的两个产品，其中Zabbix为知名的老牌监控系统，而Prometheus则是云原生时代的后起之秀。两款产品都具有丰富的功能，并有着广泛的使用群体，对于用户而言，在两者的选择上往往会感到困惑。
本文将详细比较两者之间的功能差异，为你在选择监控系统时提供重要的参考。 一. 功能架构 Zabbix
Zabbix是一款企业级的开源监控产品，基于C语言开发。它可以用于服务器、操作系统、网络、应用程序等目标对象监控。在监控和数据收集的方式上，可支持zabbix agent、SNMP、ping、端口监控等多种方式。
Zabbix属于大而全的系统，具有完善的Web界面，并且集成了可视化、告警等功能。用户可在界面上完成绝大部分的操作，这使得其上手难度低，可以被快速掌握。但与此同时，高度集成带来的缺点则是定制化的难度很大，无法很好地进行扩展。
Prometheus
Promehteus是一款近年来非常热门的监控系统，它使用go语言开发。在监控上除了支持传统的监控对象外，还天然具有对Kubernetes和Docker等云原生产品的支持，这使得其得以在云原生时代大放异彩。
相比于Zabbix大而全的理念，Prometheus则要简洁得多，产品只专注于监控的功能并提供简单Web界面供用户查询，而将可视化和告警这些功能交由Grafana和Alertmanager等第三方产品来实现。
功能上的简洁使得Prometheus变得小巧而灵活，可以非常方便地进行部署与升级，并与第三方开源产品搭配实现定制化。
二. 指标采集 Zabbix
Zabbix分为两大部分，server端和agent端。agent用于部署在目标机器上，并提供数据指标给到server，它们之间基于TCP协议进行通信。
agent支持被动轮询与主动推送模式，被动模式下由server定时向agent端发起请求，agent会处理请求并将值返回给到server端。而在主动推送下，则是由agent定时向server端发送结果。
Prometheus
Prometheus 基于HTTP进行通信，这使得与其他工具的集成变得简单，任何组件只要提供对应的HTTP接口就可以接入监控。
目前已有许多开源产品提供了对Prometheus的支持，可以按照其支持的格式提供指标，如Kubernetes、Harbor等。如果无法做到这一点，那么还有许多库可以帮忙导出现有指标，这些库被称为exporter，常用的有node exporter、mysql exporter、redis exporter等。
三. 数据存储 Zabbix
Zabbix使用外部数据库来存储数据，目前支持的数据库有MySQL、PostgreSQL、Oracle等。
在存储的数据类型上，Zabbix除key-value格式外，还支持文本、日志等格式。
Prometheus
Prometheus将数据存储在内置的时间序列数据库（TSDB)中，该数据库相比关系型数据库可以较大的节省存储空间，并且拥有更高的处理效率，能够快速搜索出复杂的结果。
不过，原生的TSDB对于大数据量的存储支持不太友好，所以默认情况下Pormetheus只会保存15天的数据。如果需要更长时间的数据存储，可以配置使用第三方存储介质保存数据指标。
需要注意的是，Prometheus只支持存储时间序列的值。
四. 查询 Zabbix
zabbix在查询方面功能较弱，只能通过Web界面做一些有限度的操作，或者直接到数据库使用SQL进行查询。
Prometheus
Prometheus在查询方面要比Zabbix强大得多。Prometheus提供了自带的查询语言PromQL，该语言非常灵活、简洁且功能强大，可以与函数和运算符配合，进行计算、过滤、分组等操作，同时支持正则表达式。
在Prometheus的Web界面可以执行表达式的查询，查询结果以图形或表格数据的形式展现。
五. 可视化 Zabbix
Zabbix自身带有完善的可视化功能，用户可以使用默认提供的图表，也可以自定义图表，但不支持导入外部仪表板。
Prometheus
Prometheus自带了一个简单的可视化界面，可以进行数据的查询和展示，但无法将其长久保存。Prometheus通常会与Grafana结合来实现完善的可视化功能。
Grafana具有非常强大的图形展示功能，并且原生支持Prometheus，可使用PromQL 来实现定制化的图表，并且有数量丰富的开源仪表盘可以导入使用。
六. 监控告警 Zabbix
与可视化情况一样，Zabbix内置了告警功能，并支持多种介质的发送。Zabbix 警报系统允许以不同的方式管理事件：发送消息、执行远程命令、根据服务级别升级问题等。
Promtheus
在告警上，Prometehus需要与Alertmanager结合使用。因为Prometheus的告警分为两部分，在Prometheus Server端定义告警规则，当触发规则时则会发送到Alertmanager，并由其发送给对应的接收人。
Alertmanager可对告警信息进行管理 ，具有静默、分组、聚合等功能，同时支持Email、IM等多种介质发送。
总结 从上面的分析可以看出，Zabbix与Prometehus都是非常优秀的监控产品，如何选择更多是看企业的需求来决定。
Zabbix上手难度要低很多，对于传统的服务器、系统、网络等都有优秀的监控能力，但是定制化程度低且对于云原生产品的支持也不太好，适合对于监控方面要求不高、整体技术能力较弱的传统企业使用。
Prometheus是云原生时代的监控工具，因此对于Kubernetes等容器产品的支持非常友好，且定制化程度高。但是上手难度也会更大，因此更适合具有较好技术能力、监控需求复杂的互联网企业使用。
公众号好文推荐：
Prometheus如何监控Nginx
基于docker快速搭建zabbix 6.2监控平台" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/cc27dfd1eeb3d3d30e598505c107c9a3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-28T22:40:38+08:00" />
<meta property="article:modified_time" content="2024-02-28T22:40:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Zabbix vs Prometheus，监控系统哪家强？</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p>关注公众号：“DevOps实战派”，获取更多DevOps和运维的精彩内容。</p> 
</blockquote> 
<p></p> 
<p>在监控系统的选择上，Zabbix与Prometheus是经常被比较的两个产品，其中Zabbix为知名的老牌监控系统，而Prometheus则是云原生时代的后起之秀。两款产品都具有丰富的功能，并有着广泛的使用群体，对于用户而言，在两者的选择上往往会感到困惑。</p> 
<p>本文将详细比较两者之间的功能差异，为你在选择监控系统时提供重要的参考。 </p> 
<h2>一. 功能架构</h2> 
<p><strong>Zabbix</strong></p> 
<p>Zabbix是一款企业级的开源监控产品，基于C语言开发。它可以用于服务器、操作系统、网络、应用程序等目标对象监控。在监控和数据收集的方式上，可支持zabbix agent、SNMP、ping、端口监控等多种方式。</p> 
<p></p> 
<p class="img-center"><img alt="图片" height="281" src="https://images2.imgbox.com/8d/92/CSZeHPZ3_o.png" width="1080"></p> 
<p>Zabbix属于大而全的系统，具有完善的Web界面，并且集成了可视化、告警等功能。用户可在界面上完成绝大部分的操作，这使得其上手难度低，可以被快速掌握。但与此同时，高度集成带来的缺点则是定制化的难度很大，无法很好地进行扩展。</p> 
<p></p> 
<p><strong>Prometheus</strong></p> 
<p>Promehteus是一款近年来非常热门的监控系统，它使用go语言开发。在监控上除了支持传统的监控对象外，还天然具有对Kubernetes和Docker等云原生产品的支持，这使得其得以在云原生时代大放异彩。</p> 
<p></p> 
<p class="img-center"><img alt="图片" height="272" src="https://images2.imgbox.com/e5/b7/wlRdOqk1_o.png" width="743"></p> 
<p>相比于Zabbix大而全的理念，Prometheus则要简洁得多，产品只专注于监控的功能并提供简单Web界面供用户查询，而将可视化和告警这些功能交由Grafana和Alertmanager等第三方产品来实现。</p> 
<p>功能上的简洁使得Prometheus变得小巧而灵活，可以非常方便地进行部署与升级，并与第三方开源产品搭配实现定制化。</p> 
<p></p> 
<h2>二. 指标采集</h2> 
<p><strong>Zabbix</strong></p> 
<p>Zabbix分为两大部分，server端和agent端。agent用于部署在目标机器上，并提供数据指标给到server，它们之间基于TCP协议进行通信。</p> 
<p>agent支持被动轮询与主动推送模式，被动模式下由server定时向agent端发起请求，agent会处理请求并将值返回给到server端。而在主动推送下，则是由agent定时向server端发送结果。</p> 
<p></p> 
<p><strong>Prometheus</strong></p> 
<p><strong>Prometheus 基于HTTP进行通信，这使得与其他工具的集成变得简单，任何组件只要提供对应的HTTP接口就可以接入监控。</strong></p> 
<p></p> 
<p class="img-center"><img alt="图片" height="433" src="https://images2.imgbox.com/06/3c/2jESNpG8_o.png" width="698"></p> 
<p>目前已有许多开源产品提供了对Prometheus的支持，可以按照其支持的格式提供指标，如Kubernetes、Harbor等。如果无法做到这一点，那么还有许多库可以帮忙导出现有指标，这些库被称为exporter，常用的有node exporter、mysql exporter、redis exporter等。</p> 
<p></p> 
<h2>三. 数据存储</h2> 
<p><strong>Zabbix</strong></p> 
<p>Zabbix使用外部数据库来存储数据，目前支持的数据库有MySQL、PostgreSQL、Oracle等。</p> 
<p>在存储的数据类型上，Zabbix除key-value格式外，还支持文本、日志等格式。</p> 
<p></p> 
<p><strong>Prometheus</strong></p> 
<p>Prometheus将数据存储在内置的时间序列数据库（TSDB)中，该数据库相比关系型数据库可以较大的节省存储空间，并且拥有更高的处理效率，能够快速搜索出复杂的结果。</p> 
<p>不过，原生的TSDB对于大数据量的存储支持不太友好，所以默认情况下Pormetheus只会保存15天的数据。如果需要更长时间的数据存储，可以配置使用第三方存储介质保存数据指标。</p> 
<p>需要注意的是，Prometheus只支持存储时间序列的值。</p> 
<p></p> 
<h2>四. 查询</h2> 
<p><strong>Zabbix</strong></p> 
<p>zabbix在查询方面功能较弱，只能通过Web界面做一些有限度的操作，或者直接到数据库使用SQL进行查询。</p> 
<p></p> 
<p class="img-center"><img alt="图片" height="422" src="https://images2.imgbox.com/81/ee/3PMCv0dd_o.png" width="1080"></p> 
<p></p> 
<p><strong>Prometheus</strong></p> 
<p>Prometheus在查询方面要比Zabbix强大得多。Prometheus提供了自带的查询语言PromQL，该语言非常灵活、简洁且功能强大，可以与函数和运算符配合，进行计算、过滤、分组等操作，同时支持正则表达式。</p> 
<p></p> 
<p class="img-center"><img alt="图片" height="345" src="https://images2.imgbox.com/37/65/fQ7egDqq_o.png" width="1080"></p> 
<p>在Prometheus的Web界面可以执行表达式的查询，查询结果以图形或表格数据的形式展现。</p> 
<p></p> 
<h2>五. 可视化</h2> 
<p><strong>Zabbix</strong></p> 
<p>Zabbix自身带有完善的可视化功能，用户可以使用默认提供的图表，也可以自定义图表，但不支持导入外部仪表板。</p> 
<p></p> 
<p class="img-center"><img alt="图片" height="612" src="https://images2.imgbox.com/dd/83/tFpYcpp5_o.png" width="1080"></p> 
<p></p> 
<p><strong>Prometheus</strong></p> 
<p>Prometheus自带了一个简单的可视化界面，可以进行数据的查询和展示，但无法将其长久保存。Prometheus通常会与Grafana结合来实现完善的可视化功能。</p> 
<p>Grafana具有非常强大的图形展示功能，并且原生支持Prometheus，可使用PromQL 来实现定制化的图表，并且有数量丰富的开源仪表盘可以导入使用。</p> 
<p></p> 
<p class="img-center"><img alt="图片" height="608" src="https://images2.imgbox.com/5c/68/3XqDiK8y_o.jpg" width="1080"></p> 
<p></p> 
<h2>六. 监控告警</h2> 
<p><strong>Zabbix</strong></p> 
<p>与可视化情况一样，Zabbix内置了告警功能，并支持多种介质的发送。Zabbix 警报系统允许以不同的方式管理事件：发送消息、执行远程命令、根据服务级别升级问题等。</p> 
<p></p> 
<p><strong>Promtheus</strong></p> 
<p>在告警上，Prometehus需要与Alertmanager结合使用。因为Prometheus的告警分为两部分，在Prometheus Server端定义告警规则，当触发规则时则会发送到Alertmanager，并由其发送给对应的接收人。</p> 
<p></p> 
<p class="img-center"><img alt="图片" height="431" src="https://images2.imgbox.com/19/91/il6Uz7it_o.jpg" width="1080"></p> 
<p>Alertmanager可对告警信息进行管理 ，具有静默、分组、聚合等功能，同时支持Email、IM等多种介质发送。</p> 
<p></p> 
<h2><strong>总结</strong></h2> 
<p>从上面的分析可以看出，Zabbix与Prometehus都是非常优秀的监控产品，如何选择更多是看企业的需求来决定。</p> 
<p>Zabbix上手难度要低很多，对于传统的服务器、系统、网络等都有优秀的监控能力，但是定制化程度低且对于云原生产品的支持也不太好，适合对于监控方面要求不高、整体技术能力较弱的传统企业使用。</p> 
<p>Prometheus是云原生时代的监控工具，因此对于Kubernetes等容器产品的支持非常友好，且定制化程度高。但是上手难度也会更大，因此更适合具有较好技术能力、监控需求复杂的互联网企业使用。</p> 
<p></p> 
<p><span style="color:#fe2c24;"><strong>公众号好文推荐：</strong></span></p> 
<p><a class="link-info" href="https://mp.weixin.qq.com/s?__biz=MzU2OTc4NDI2MQ==&amp;mid=2247485669&amp;idx=1&amp;sn=22fac83df11343dd3fbe7ac876a5cc7e&amp;chksm=fcf82a4fcb8fa359e5d2c0482ba5202e33a8fdb9746269bfa077ef70aa3876bac63751afee3f#rd" rel="nofollow" title="Prometheus如何监控Nginx"><strong>Prometheus如何监控Nginx</strong></a></p> 
<p><a href="https://mp.weixin.qq.com/s?__biz=MzU2OTc4NDI2MQ==&amp;mid=2247485185&amp;idx=1&amp;sn=7c994f4f6207fa43dacbdc7526caaee7&amp;chksm=fcf825abcb8facbdc44593add439c6bf020594bac123fdb6cbab6f605ad79ff196f61a6c53ac&amp;token=1561028919&amp;lang=zh_CN#rd" rel="nofollow" title="基于docker快速搭建zabbix 6.2监控平台"><strong>基于docker快速搭建zabbix 6.2监控平台</strong></a></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b0fd6816766ad8808a321953dc34cfb7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">mybatis源码分析</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f1245c613e07d26ed18bf9777ddad0e6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">K8S之使用Deployment实现滚动更新</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>