<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python打包exe与反编译exe文件与防止反编译方式生成exe - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python打包exe与反编译exe文件与防止反编译方式生成exe" />
<meta property="og:description" content="序 最近根据公司生产需求写了个小脚本，想打包成exe文件分发给其他人使用，但又担心代码本反编译而泄露信息，所以花了一整天时间，磕磕绊绊的，终于搞定了！来之不易的“成果”需要总结和记载（毕竟耗费了生命中一天之久的时长）。
目录 一、python如何打包成exe （常规打包方法）
二、反编译exe文件
三、防止反编译方式生成exe
正文 一、python如何打包成exe （常规打包方法） 1.1首先你要先把自己的程序写好，在pycharm中运行正常。我的程序文件目录结构如下图所示：
1.2直接控制台输入命令：pyinstaller -p C:\Users\Administrator\PycharmProjects\ExportCustomerInfo\venv\Lib\site-packages -i v6.ico -F main.py
此句解释如下：
这里输入自己的第三方引用包的路径（不懂的看我上一篇文章）；
这里是将要生成exe的图标设置（友情提示：非ico格式的图片会出错哦）
这里是你要发布的主程序文件
1.3运行结果如下：Building EXE from EXE-00.toc completed successfully.代表成功！
1.4新产生的文件及文件夹如下，请到dist文件夹里去找exe双击运行效果如下：
二、反编译exe文件 2.1先去网上下载一个pyinstxtractor.py的文件，将其和exe文件放到一个新文件夹里面如12345。
下载地址：https://download.csdn.net/download/hmy123cq3/16231988
2.2在电脑cmd命令行，切换到12345这个文件夹路径里并执行如下代码：
python pyinstxtractor.py main.exe 执行效果如下：
2.3可以到如下路径查找文件，可见很多pyc文件，其中我们的机密代码就在这些文件内，反编译pyc文件是很容易的可以借助工具或在线反编译，这里就不详细介绍了。
三、防止反编译方式生成exe 3.1首先，清理环境，将一、二两步产生的文件，全部删除掉。我删除的文件如下图所示：
3.2然后，创建一个py文件，命名为create_pyd.py，然后在此文件中敲入如下代码：
# -*- coding: utf-8 -*- &#34;&#34;&#34; Created on Wed Aug 29 13:33:20 2018 @author: Li Zeng hai python build_pyd.py build_ext --inplace &#34;&#34;&#34; from distutils.core import setup from Cython.Build import cythonize setup( name=&#39;any words." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/995348df3920acc246f5480fd37c39f6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-10T10:30:58+08:00" />
<meta property="article:modified_time" content="2023-11-10T10:30:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python打包exe与反编译exe文件与防止反编译方式生成exe</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><strong>序</strong></h2> 
<p>        最近根据公司生产需求写了个小脚本，想打包成exe文件分发给其他人使用，但又担心代码本反编译而泄露信息，所以花了一整天时间，磕磕绊绊的，终于搞定了！来之不易的“成果”需要总结和记载（毕竟耗费了生命中一天之久的时长）。</p> 
<h2>目录</h2> 
<p>一、python如何打包成exe （常规打包方法）</p> 
<p>二、反编译exe文件</p> 
<p>三、防止反编译方式生成exe</p> 
<h2>正文</h2> 
<h4><strong>一、python如何打包成exe （常规打包方法）</strong></h4> 
<p>1.1首先你要先把自己的程序写好，在pycharm中运行正常。我的程序文件目录结构如下图所示：</p> 
<p><img alt="" height="145" src="https://images2.imgbox.com/98/fb/YZ9CK4Ie_o.png" width="199"></p> 
<p>1.2直接控制台输入命令：pyinstaller -p C:\Users\Administrator\PycharmProjects\ExportCustomerInfo\venv\Lib\site-packages -i v6.ico -F main.py</p> 
<p>此句解释如下：</p> 
<p><img alt="" height="28" src="https://images2.imgbox.com/b3/81/CC8CQgoH_o.png" width="627">这里输入自己的第三方引用包的路径（不懂的看我上一篇文章）；</p> 
<p><img alt="" height="30" src="https://images2.imgbox.com/1b/d6/GJ50TYD5_o.png" width="62">这里是将要生成exe的图标设置（友情提示：非ico格式的图片会出错哦）</p> 
<p><img alt="" height="31" src="https://images2.imgbox.com/a8/6f/aOBuvt7x_o.png" width="90">这里是你要发布的主程序文件</p> 
<p>1.3运行结果如下：Building EXE from EXE-00.toc completed successfully.代表成功！</p> 
<p><img alt="" height="607" src="https://images2.imgbox.com/4f/f7/hcs6YNqK_o.png" width="674"></p> 
<p>1.4新产生的文件及文件夹如下，请到dist文件夹里去找exe双击运行效果如下：</p> 
<p><img alt="" height="381" src="https://images2.imgbox.com/25/62/9ki54yXj_o.png" width="828"></p> 
<p><img alt="" height="162" src="https://images2.imgbox.com/a0/50/1esUGmPW_o.png" width="709"></p> 
<p><img alt="" height="719" src="https://images2.imgbox.com/ef/b7/4K2QmCU4_o.png" width="1131"></p> 
<p></p> 
<p></p> 
<h3>二、反编译exe文件</h3> 
<p>2.1先去网上下载一个pyinstxtractor.py的文件，将其和exe文件放到一个新文件夹里面如12345。</p> 
<p>下载地址：<a href="https://download.csdn.net/download/hmy123cq3/16231988" title="https://download.csdn.net/download/hmy123cq3/16231988">https://download.csdn.net/download/hmy123cq3/16231988</a></p> 
<p><img alt="" height="239" src="https://images2.imgbox.com/c0/cb/ON34MqOa_o.png" width="550"></p> 
<p>2.2在电脑cmd命令行，切换到12345这个文件夹路径里并执行如下代码：</p> 
<pre><code class="language-python">python pyinstxtractor.py main.exe</code></pre> 
<p>执行效果如下：</p> 
<p><img alt="" height="517" src="https://images2.imgbox.com/f3/51/AbqGgqen_o.png" width="807"></p> 
<p>2.3可以到如下路径查找文件，可见很多pyc文件，其中我们的机密代码就在这些文件内，反编译pyc文件是很容易的可以借助工具或在线反编译，这里就不详细介绍了。</p> 
<p><img alt="" height="377" src="https://images2.imgbox.com/80/ef/m2KIyinf_o.png" width="606"></p> 
<p></p> 
<h3>三、防止反编译方式生成exe</h3> 
<p>3.1首先，清理环境，将一、二两步产生的文件，全部删除掉。我删除的文件如下图所示：</p> 
<p><img alt="" height="381" src="https://images2.imgbox.com/3d/94/g1ixWLOn_o.png" width="828"></p> 
<p>3.2然后，创建一个py文件，命名为create_pyd.py，然后在此文件中敲入如下代码：</p> 
<pre><code class="language-python"># -*- coding: utf-8 -*-
"""
Created on Wed Aug 29 13:33:20 2018
@author: Li Zeng hai

python build_pyd.py build_ext --inplace
"""

from distutils.core import setup
from Cython.Build import cythonize

setup(
    name='any words.....',
    ext_modules=cythonize(["jr_customer_excel.py", "send_mail.py"]), )</code></pre> 
<p>注意最后一行代码了吗，ext_modules=cythonize(["jr_customer_excel.py", "send_mail.py"])...，这里面的数组就是你想要编译成pyd格式的文件，有多少就添加多少。</p> 
<p>3.3然后在pycharm控制台执行如下代码：</p> 
<pre><code class="language-python">python create_pyd.py build_ext --inplace</code></pre> 
<p>如果执行以上代码出错提示没有Cython，执行如下命令进行安装：</p> 
<p>pip install Cython -i <a href="https://pypi.tuna.tsinghua.edu.cn/simple" rel="nofollow" title="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple</a></p> 
<p>结果如下图所示：</p> 
<p><img alt="" height="432" src="https://images2.imgbox.com/89/05/WfxrfsTI_o.png" width="811"></p> 
<p></p> 
<p>接着将这几个pyd后缀的文件名中的cp39-win_amd64部分去掉，去掉后如下图所示：</p> 
<p><img alt="" height="402" src="https://images2.imgbox.com/11/29/lWfnQrT7_o.png" width="1005"></p> 
<p>3.4执行步骤一中的打包exe（常规方法），即直接执行代码：</p> 
<pre><code class="language-python">pyinstaller -p C:\Users\Administrator\PycharmProjects\ExportCustomerInfo\venv\Lib\site-packages -i v6.ico -F main.py</code></pre> 
<p>执行结果如下图所示，Building EXE from EXE-00.toc completed successfully.代表成功了！</p> 
<p><img alt="" height="376" src="https://images2.imgbox.com/23/a0/HfCvyAWz_o.png" width="873"></p> 
<p>此步骤需要注意的一个坑就，main.py顶部的引用，已经要把其他py文件里的引用都加上，不然会提示找不到模块，什么原因我也不知道，我是按错误提示操作的，如下所示：</p> 
<p><img alt="" height="382" src="https://images2.imgbox.com/9c/fc/b47CTU8w_o.png" width="1002"></p> 
<p>3.5到dist文件夹里运行exe文件看看成果吧！</p> 
<p><img alt="" height="395" src="https://images2.imgbox.com/98/41/C7i00JQW_o.png" width="818"></p> 
<p><img alt="" height="572" src="https://images2.imgbox.com/19/53/9t839FBu_o.png" width="1068"></p> 
<p>3.5重复执行一下步骤二作为校验，结果如下所示：</p> 
<p>此时，已经找不到这里面的<img alt="" height="31" src="https://images2.imgbox.com/bb/da/i3pFCTjt_o.png" width="580">两个文件了。</p> 
<p>至此，本文全部完毕！</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6bdce217cddf6945c6366a6c2c386209/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">CSDN 个性化推荐的数据治理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/99f5ff470aa0ba0f8a55a928a240ca12/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">leetcode_2233. K 次增加后的最大乘积</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>