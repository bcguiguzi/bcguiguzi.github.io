<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>基于Selenium&#43;Python的web自动化测试框架（附框架源码&#43;项目实战） - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="基于Selenium&#43;Python的web自动化测试框架（附框架源码&#43;项目实战）" />
<meta property="og:description" content="🍅 视频学习：文末有免费的配套视频可观看
🍅 关注公众号【互联网杂货铺】，回复 1 ，免费获取软件测试全套资料，资料在手，涨薪更快
一、什么是Selenium？ Selenium是一个基于浏览器的自动化测试工具，它提供了一种跨平台、跨浏览器的端到端的web自动化解决方案。Selenium主要包括三部分：Selenium IDE、Selenium WebDriver 和Selenium Grid。
1.Selenium IDE：Firefox的一个扩展，它可以进行录制回放，并把录制的操作以多种语言（例如java、python等）的形式导出成测试用例。
2.Selenium WebDriver：提供Web自动化所需的API，主要用作浏览器控制、页面元素选择和调试。不同的浏览器需要不同的WebDriver。
3.Selenium Grid：提供了在不同机器的不同浏览器上运行selenium测试的能力。
本文将详细介绍如何运用Python结合Selenium WebDriver库搭建web自动化测试框架。
二、自动化测试框架 一个典型的自动化测试框架一般包括用例管理模块、自动化执行控制器、报表生成模块和log模块，这些模块相辅相成。
接下来介绍各模块的逻辑单元：
1、用例管理模块 用例管理模块包括新增、修改、删除等操作单元，这些单元又会涉及到用例书写模式，测试数据库的管理、可复用库等。
2、自动化控制器 控制器是自动化用例执行的组织模块，主要是负责以什么方法执行我们的测试用例.
3、报表生成模块 主要负责执行用例后的生成报告，一般以HTML格式居多，信息主要是用例执行情况。另外还可以配置发送邮件功能。
4、log模块 主要用来记录用例执行情况，以便于高效的调查用例失败信息以及追踪用例执行情况。
三、自动化框架的设计和实现 1、需求分析 首先我们的测试对象是一个web平台，基于此平台设计的框架要包含测试用例管理、测试执行控制器、测试报告以及测试日志的生成。
2、设计和实现 页面管理
假设测试web对象为一个典型单页面应用，所以我们采用页面模式。页面模式是页面与测试用例之间的纽带，它将每个页面抽象成一个单独的类，为测试用例提供页面元素的定位和操作。
BaseClass作为父类只包含driver成员变量，用来标识Selenium中的WebDriver，以便在子类中定位页面元素。LoginClass和PageClass作为子类，可以提供页面元素的定位和操作方法。比如登录页面。
从页面看，需要操作的元素分别为：登录用户名、密码、下次自动登录和登录按钮。具体实现代码如下：
页面父类BaseClass.py
LoginClass继承自BaseClass,并进行登录的元素定位以及操作实现。代码中定位了username和password，并添加了设置用户名和密码的操作。
公共库模块
公共库模块是为创建测试用例服务的，主要包括常量、公共函数、日志、报告等。
Common.py
测试用例信息类用来标识测试用例，并且包括执行用例、执行结果信息，主要包括以下字段。
日志主要用来记录测试用例执行步骤及产生的错误信息，不同的信息有不同的日志级别，比如Information、Warning、Critical和Debug。由于每个测试用例产生的日志条目比较少，所以在测试框架中只利用了最高级别的日志打印，即Debug级别，该级别也会将其他所有的日志级别的信息同样打印出来。在具体的实现中引用了Python标准库中的logging类库，以便更方便的控制日志输出。
测试用例仓库
用例仓库主要用来组织自动化测试用例。每条测试用例都被抽象成一个独立的类，并且均继承自unittest.TestCase类。 Python中的unittest库提供了丰富的测试框架支持，包括测试用例的setUp和tearDown方法，在实现用例的过程中可以重写。依托页面管理和公共库模块实现的页面方法和公共函数，每一个测试用例脚本的书写都会非常清晰简洁。
从这个测试用例中，我们可以看到
1.Setup中定义了执行测试用例前的一些实例化工作
2.tearDown对执行完测试做了清理和写日志文件工作
3.测试步骤、测试数据和测试检查点非常清晰，易修改（比如用户名密码）
4.日志级别仅有Debug，所以写日志仅需用同一Log方法
3、用例执行模块 执行模块主要用来控制测试用例脚本的批量执行，形成一个测试集。用例的执行引用了Python标准库中的subprocess来执行nosetests的shell命令，从而执行给定测试用例集中的用例。测试用例集是一个简单的纯文本文件，实现过程中利用了.txt文件testcases.txt。
用例前没有“#“标记的测试用例脚本会被执行，而有”#“标记的则会被忽略，这样可以很方便的控制测试集的执行，当然也可以创建不同的文件来执行不同的测试集。 四、需要改进的模块 对于现有实现的测试框架，已经可以满足web对象的自动化需求，但还是有些可以改进提高的地方，比如：
1.部分用例可以尝试数据驱动。
2.二次封装selenium的By函数，以便更高效定位元素。
3.没有进行持续化集成。
五、总结 基于Selenium实现的web自动化测试框架不仅轻量级而且灵活，可以快速地开发自动化测试用例，结合本篇的框架设计和一些好的实践，希望对大家以后的web自动化框架的设计和实现有所帮助。
同时，在这我也准备了一份软件测试视频教程（含接口、自动化、性能等），需要的可以直接在下方观看就行，希望对你有所帮助！
7天Python自动化测试速成课，小白也能快速上手（项目实战）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/3e9487f061f1e75cb2ee28dd6f6ac7db/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-14T15:40:44+08:00" />
<meta property="article:modified_time" content="2024-03-14T15:40:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">基于Selenium&#43;Python的web自动化测试框架（附框架源码&#43;项目实战）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p><strong>🍅 视频学习：</strong>文末有免费的配套视频可观看</p> 
 <p><strong>🍅 关注公众号【互联网杂货铺】，回复 1 ，</strong>免费获取软件测试全套资料，资料在手，涨薪更快</p> 
</blockquote> 
<h3 style="background-color:transparent;">一、什么是Selenium？</h3> 
<p>Selenium是一个基于浏览器的自动化测试工具，它提供了一种跨平台、跨浏览器的端到端的web自动化解决方案。Selenium主要包括三部分：Selenium IDE、Selenium WebDriver 和Selenium Grid。</p> 
<p>1.Selenium IDE：Firefox的一个扩展，它可以进行录制回放，并把录制的操作以多种语言（例如java、python等）的形式导出成测试用例。</p> 
<p>2.Selenium WebDriver：提供Web自动化所需的API，主要用作浏览器控制、页面元素选择和调试。不同的浏览器需要不同的WebDriver。</p> 
<p>3.Selenium Grid：提供了在不同机器的不同浏览器上运行selenium测试的能力。</p> 
<p>本文将详细介绍如何运用Python结合Selenium WebDriver库搭建web自动化测试框架。</p> 
<h3>二、自动化测试框架</h3> 
<p>一个典型的自动化测试框架一般包括用例管理模块、自动化执行控制器、报表生成模块和log模块，这些模块相辅相成。</p> 
<p><img alt="" src="https://images2.imgbox.com/a5/f6/Le9CG3G4_o.png"></p> 
<p><strong>接下来介绍各模块的逻辑单元：</strong></p> 
<h4>1、用例管理模块</h4> 
<p>用例管理模块包括新增、修改、删除等操作单元，这些单元又会涉及到用例书写模式，测试数据库的管理、可复用库等。</p> 
<h4>2、自动化控制器</h4> 
<p>控制器是自动化用例执行的组织模块，主要是负责以什么方法执行我们的测试用例.</p> 
<h4>3、报表生成模块</h4> 
<p>主要负责执行用例后的生成报告，一般以HTML格式居多，信息主要是用例执行情况。另外还可以配置发送邮件功能。</p> 
<h4>4、log模块</h4> 
<p>主要用来记录用例执行情况，以便于高效的调查用例失败信息以及追踪用例执行情况。</p> 
<h3>三、自动化框架的设计和实现</h3> 
<h4>1、需求分析</h4> 
<p>首先我们的测试对象是一个web平台，基于此平台设计的框架要包含测试用例管理、测试执行控制器、测试报告以及测试日志的生成。</p> 
<h4>2、设计和实现</h4> 
<p><strong>页面管理</strong></p> 
<p>假设测试web对象为一个典型单页面应用，所以我们采用页面模式。页面模式是页面与测试用例之间的纽带，它将每个页面抽象成一个单独的类，为测试用例提供页面元素的定位和操作。</p> 
<p>BaseClass作为父类只包含driver成员变量，用来标识Selenium中的WebDriver，以便在子类中定位页面元素。LoginClass和PageClass作为子类，可以提供页面元素的定位和操作方法。比如登录页面。</p> 
<p>从页面看，需要操作的元素分别为：登录用户名、密码、下次自动登录和登录按钮。具体实现代码如下：</p> 
<p>页面父类BaseClass.py</p> 
<p><img alt="" src="https://images2.imgbox.com/d8/16/aoUMt6QN_o.png"></p> 
<p>LoginClass继承自BaseClass,并进行登录的元素定位以及操作实现。代码中定位了username和password，并添加了设置用户名和密码的操作。</p> 
<p><img alt="" src="https://images2.imgbox.com/97/9b/DBardoXN_o.png"></p> 
<p><strong>公共库模块</strong></p> 
<p>公共库模块是为创建测试用例服务的，主要包括常量、公共函数、日志、报告等。</p> 
<p>Common.py</p> 
<p><img alt="" src="https://images2.imgbox.com/70/dc/ktNy3Y6k_o.png"></p> 
<p>测试用例信息类用来标识测试用例，并且包括执行用例、执行结果信息，主要包括以下字段。</p> 
<p><img alt="" src="https://images2.imgbox.com/25/ba/1MepML36_o.png"></p> 
<p>日志主要用来记录测试用例执行步骤及产生的错误信息，不同的信息有不同的日志级别，比如Information、Warning、Critical和Debug。由于每个测试用例产生的日志条目比较少，所以在测试框架中只利用了最高级别的日志打印，即Debug级别，该级别也会将其他所有的日志级别的信息同样打印出来。在具体的实现中引用了Python标准库中的logging类库，以便更方便的控制日志输出。</p> 
<p><strong>测试用例仓库</strong></p> 
<p>用例仓库主要用来组织自动化测试用例。每条测试用例都被抽象成一个独立的类，并且均继承自unittest.TestCase类。 Python中的unittest库提供了丰富的测试框架支持，包括测试用例的setUp和tearDown方法，在实现用例的过程中可以重写。依托页面管理和公共库模块实现的页面方法和公共函数，每一个测试用例脚本的书写都会非常清晰简洁。</p> 
<p><img alt="" src="https://images2.imgbox.com/67/ef/fUDZIJuN_o.png"></p> 
<p>从这个测试用例中，我们可以看到</p> 
<p>1.Setup中定义了执行测试用例前的一些实例化工作<br> 2.tearDown对执行完测试做了清理和写日志文件工作<br> 3.测试步骤、测试数据和测试检查点非常清晰，易修改（比如用户名密码）<br> 4.日志级别仅有Debug，所以写日志仅需用同一Log方法</p> 
<h4>3、用例执行模块</h4> 
<p>执行模块主要用来控制测试用例脚本的批量执行，形成一个测试集。用例的执行引用了Python标准库中的subprocess来执行nosetests的shell命令，从而执行给定测试用例集中的用例。测试用例集是一个简单的纯文本文件，实现过程中利用了.txt文件testcases.txt。</p> 
<p><img alt="" src="https://images2.imgbox.com/6b/78/y84PAvfj_o.png"></p> 
<p>用例前没有“#“标记的测试用例脚本会被执行，而有”#“标记的则会被忽略，这样可以很方便的控制测试集的执行，当然也可以创建不同的文件来执行不同的测试集。 </p> 
<h3>四、需要改进的模块</h3> 
<p>对于现有实现的测试框架，已经可以满足web对象的自动化需求，但还是有些可以改进提高的地方，比如：</p> 
<p>1.部分用例可以尝试数据驱动。<br> 2.二次封装selenium的By函数，以便更高效定位元素。<br> 3.没有进行持续化集成。</p> 
<h3 style="background-color:transparent;">五、总结</h3> 
<p>基于Selenium实现的web自动化测试框架不仅轻量级而且灵活，可以快速地开发自动化测试用例，结合本篇的框架设计和一些好的实践，希望对大家以后的web自动化框架的设计和实现有所帮助。</p> 
<p><strong>同时，在这我也准备了一份软件测试视频教程（含接口、自动化、性能等），</strong>需要的可以直接在下方观看就行，希望对你有所帮助！</p> 
<div class="csdn-video-box"> 
 <iframe id="W6oK9wg8-1709971284120" frameborder="0" src="https://player.bilibili.com/player.html?aid=1951445659" allowfullscreen="true" data-mediaembed="bilibili"></iframe> 
 <p>7天Python自动化测试速成课，小白也能快速上手（项目实战）</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f833b90f57ea53d1f667b71c998bc8c2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">海康威视相机SDK二次开发（JAVA语言）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a212775ba37bf3fcb59389b8bca1f85d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SSD固态硬盘@磁盘性能测试工具@基本参数</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>