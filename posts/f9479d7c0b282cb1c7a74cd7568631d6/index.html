<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JS中对于for循环中点击事件的理解（通俗版） - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="JS中对于for循环中点击事件的理解（通俗版）" />
<meta property="og:description" content="在学习JS时遇到了一个问题，就是如果有多个按钮时，我们可以通过document.getElementByTagName（“button”）的方式来获取事件数组，在获取后我们需要监听每一个按钮是否被点击。最简单的方式就是分开写，一个按钮对应一个点击事件函数，这样虽然通俗易懂，但是这样的代码量是十分大的，既然我们获得的是一个事件的数组，为什么不用一个for循环来解决呢，于是就有了下面这一种写法（本代码是通过点击按钮实现图片的切换）：
for(var i=0; i&lt;allLi.length; i&#43;&#43;){ var sLi = allLi[i]; sLi.index = i&#43;1; sLi.onclick = function () { box.style.background = &#39;url(&#34;images/0&#39;&#43; this.index &#43;&#39;big.jpg&#34;) no-repeat&#39;; } } 刚开始看到这个也是一脸懵逼，因为之前一直做的是ACM，对于程序执行过程十分敏感，感觉这不合常理啊，一直不知道他这是怎么执行的，for循环执行完了以后，应该再去点击的时候就没用了啊，但是这里依旧可以，说明在JS中，事件的监听的执行不是按照严格的执行先后顺序来的，而是随时点，随时执行，这种写法只是简化了上面所提到的最直接的书写方式，通过for循环去实现后，其实和把他们展开的写法是一模一样的，但是要确定你点的究竟是哪个按钮，就要通过this来实现。
另一个就是需要通过改变其背景属性来实现背景的切换，那就是要改名字，名字要更改一个数字，但是我们不能通过i去实现，因为在for循环执行完毕后，i就变成了5，那么就无法去改变了，所以我们可以通过改变它的index属性来实现。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/f9479d7c0b282cb1c7a74cd7568631d6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-11-18T16:05:17+08:00" />
<meta property="article:modified_time" content="2018-11-18T16:05:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JS中对于for循环中点击事件的理解（通俗版）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>在学习JS时遇到了一个问题，就是如果有多个按钮时，我们可以通过document.getElementByTagName（“button”）的方式来获取事件数组，在获取后我们需要监听每一个按钮是否被点击。最简单的方式就是分开写，一个按钮对应一个点击事件函数，这样虽然通俗易懂，但是这样的代码量是十分大的，既然我们获得的是一个事件的数组，为什么不用一个for循环来解决呢，于是就有了下面这一种写法（本代码是通过点击按钮实现图片的切换）：</p> 
<pre class="has"><code class="language-javascript">for(var i=0; i&lt;allLi.length; i++){
            var sLi = allLi[i];
            sLi.index = i+1;
            sLi.onclick = function () {
                box.style.background = 'url("images/0'+ this.index +'big.jpg") no-repeat';
            }
        }</code></pre> 
<p>刚开始看到这个也是一脸懵逼，因为之前一直做的是ACM，对于程序执行过程十分敏感，感觉这不合常理啊，一直不知道他这是怎么执行的，for循环执行完了以后，应该再去点击的时候就没用了啊，但是这里依旧可以，说明<span style="color:#f33b45;">在JS中，事件的监听的执行不是按照严格的执行先后顺序来的</span>，而是随时点，随时执行，这种写法只是简化了上面所提到的最直接的书写方式，通过for循环去实现后，其实和把他们展开的写法是一模一样的，但是要确定你点的究竟是哪个按钮，就要通过this来实现。</p> 
<p>另一个就是需要通过改变其背景属性来实现背景的切换，那就是要改名字，名字要更改一个数字，但是我们不能通过i去实现，因为在for循环执行完毕后，i就变成了5，那么就无法去改变了，所以我们可以通过改变它的index属性来实现。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/eed7686abc9182a7186be65a4856151d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Spark内核源码】SparkContext中的组件和初始化</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ac0ffef616629d78c7b70344a18337ac/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">利用FCN-32s,FCN-16s和FCN-8s训练自己制作的数据集</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>