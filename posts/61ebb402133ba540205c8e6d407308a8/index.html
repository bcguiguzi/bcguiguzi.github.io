<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>白话空间统计之九：方向分布（标准差椭圆）修正版 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="白话空间统计之九：方向分布（标准差椭圆）修正版" />
<meta property="og:description" content="文章用红色字体标记出来的内容是修正后的内容，感谢四川的杨同学对我以前的错误提出指正。
终于写到我最喜欢的一个的工具（算法）了，方向分布是虾神我接触的第一个空间统计工具，也是每次讲空间统计必须要讲的一个，也是对点数据分析中很有用的一个工具。
点模式的分析中，一般会考察如下五种内容：
1、点的疏密，包括点数据的分布探索，是否一致、均匀或者不均匀。
2、点的方位，包括点的分布和方向。
3、点的数量：多少（极值和均值）。
4、点的大小：代表的含义（如点一个点代表多少人口）。
5、其他，如点的一些动态变化等。
（关于点数据分析的其他详细的内容，请看虾神以前的文章，或者再公众号里面回复“点分析”）
其中，我们前面说的好几种算法，如中心要素、中位数中心和平均中心，都是关于点方位的分析，那么今天我们要讲的这个算法，就是同时对点的方向和分布进行分析的一种经典算法——标准差椭圆。
这算法最早是由美国南加州大学（Universityof Southern California）社会学教授韦尔蒂.利菲弗（D. Welty Lefever）在1926年提出，所以有的书里面，也把这个算法称为Lefever&#39;s &#34;Standard DeviationalEllipse&#34;（利菲弗方向性分布）（又到每天的历史起源科普时间……）。
这个算法最大的特点，就如同他的名词一样，是用来度量一组数据的方向和分布的，生成的结果又正如他的别名一样，会输出一个椭圆，如下：
红色的点是伤寒发病的案例，蓝色的河流是长江太湖流域段，从计算的结果来看，发病的数据方向与长江的流向方向基本一致，而范围较大。
从上图，我们基本上就可以看出方向分布工具的主要作用了，它可以识别一组数据的方向以及分布的趋势，并且了解到这份数据是否具有一些特性，至于有哪些特性，我们后面再说。
我们先来看看这个标准差椭圆的生成算法。
其实算法很简单，要画出一个椭圆，虽然比画圆麻烦点，但是也麻烦不了多少，关键的参数如下：
1、确定圆心。
2、确定旋转角度。
3、确定XY轴的长度。
首先是确定圆心，方向分布工具的圆心，直接利用的是算数平均中心来计算椭圆的圆心（算术平均中心请查看我在2015年8月17日写的《空间统计之八：平均中心和中位数中心》一文）
然后就确定椭圆的形式了，公式如下：
其中，Xi和Yi是每个要素的空间位置坐标，X和Y是算数平均中心。
SDEx和SDEy就是计算出来的椭圆的方差，总所周知，椭圆的大小取决于方差大小，长半轴表示最大方差，短半轴表示最小方差，在空间统计上面，用X、Y的方差进行计算，得到长短半轴。
然后确定椭圆的方向，以X轴为准，正北方（12点方向）为0度，顺时针旋转，计算公式如下：
最后确定XY轴的标准差，公式如下：
标准差的作用是确定椭圆的方程，一般椭圆方程如下：
S是置信度的值，可以根据数据量来查询卡方概率表（Table:Chi-Square Probabilities），这个大家有兴趣去百度一下就有了。
把所有的数据都带入到公式中，就很容易的把所有的参数都计算出来，接下去只需要再地图上画出结果就行。
那么这个椭圆揭示了一些什么意义呢？
使用ArcGIS的话，方向分布工具除了生成这样一个椭圆以外，还会给出如下结果：
其中，Shape_Leng和Shape_Area是生成的椭圆的周长和面积，单位与你数据的单位相同，这里我的数据是经纬度的，所以生成的结果只能作为相对参考结果。
CenterX和CenterY表示的是椭圆的中心点。
XstdDist和YStdDist表示的X轴的长度和Y轴的长度。
Rotation表示的是椭圆的方向角度。如下：
结果解读如下：
1、椭圆的长半轴表示的是数据分布的方向，短半轴表示的是数据分布的范围，长短半轴的值差距越大（扁率越大），表示数据的方向性越明显。反之，如果长短半轴越接近，表示方向性越不明显。如果长短半轴完全相等，就等于是一个圆了，圆的话就表示没有任何的方向特征。
2、短半轴表示数据分布的范围，短半轴越短，表示数据呈现的向心力越明显；反之，短半轴越长，表示数据的离散程度越大。同样，如果短半轴与长半轴完全相等了，就表示数据没有任何的分布特征。
3、中心点表示了整个数据的中心位置，一般来说，只要数据的变异程度不是很大的话，这个中心点的位置大约与算数平均数的位置基本上是一致的，至于数据变异是什么情况，请看下面第4点。
4、有的同学会很疑惑，为什么你画的这个椭圆，还有很多的点都在外面，没有把所有的点都包含进去？那么就是就是“标准差椭圆”这个名词里面的“标准差”的含义所在了。
在ArcGIS工具里面（其他的工具也都差不多），提供了“椭圆大小”（Ellipse_Size）这个参数，这个参数表示你生成的椭圆的级别，一共有三个，如下表：
三个级别的椭圆，分别表示了你生成的椭圆，能够包含68%，95%和99%三个级别的数据，我们通过可以指定要表示的标准差数（1、2 或 3）来决定你生成的椭圆包含的数据比例。
当要素具有空间正态分布时（即这些要素在中心处最为密集，而在接近外围时会逐渐变得稀疏），第一级标准差（默认值）范围可将约占总数 68%的输入要素的质心包含在内。第二级标准差范围会将约占总数 95%的要素包含在内，而第三级标准差范围则会覆盖约占总数 99%的要素的质心。
所以，当你选择不同标准差等级的时候，你发现你的中心点的位置也可能不同。
当然，作为空间分析工具，方向分布一样可以进行加权计算，这个计算主要还是与中心点的位置确定以及椭圆标准差等级生成的椭圆大小有关系。
下面我们来通过一个实例来了解方向分布工具的应用：
一共有两年的伤寒病数据，如下，红色的是2000年的，蓝色是2001年的：
使用1个标准差的结果，生成的椭圆如上，具体数据如下：
我们对关键性的两个指标进行对比：
生成面积表示范围，可以发现2000的伤寒病发病情况的范围要大于2001年的，扁率表示他的方向明确性和向心力的程度，2000年生成的椭圆扁率远高于2001年的，说明了2000的伤寒发病情况，比2001年的方向趋势更明显。
2000年生成的椭圆方向与长江的方向基本相相符，所以2000年的伤寒发病源与长江的关系较为密切。而2001年的发病情况虽然方向性并不如2000年的明显，但是长半轴几乎与长江垂直，可以基本确认，2001年伤寒发病源与长江关系不大，但是呈现向内陆爆发的趋势。
方向分布工具在空间统计中是综合能力最突出的工具之一，有着广泛的应用，在我们的分析和数据探索的时候，能够起到非常重大的作用。
最后，列出几个可能的应用：
1、可用来在地图上标示一组犯罪行为的分布趋势，并且能够确定该行为与特定要素（一系列酒吧或餐馆、某条特定街道等）的关系。
2、在地图上标示地下水井样本的特定污染，可以指示毒素的扩散方式，这在部署应急防灾策略时非常有用。
3、对各个物种所在区域的椭圆的大小、形状和重叠部分进行比较可以分析与物种入侵或者隔离相关的深入信息。
4、绘制一段时间内疾病爆发情况的椭圆可用于建立疾病传播的模型。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/61ebb402133ba540205c8e6d407308a8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-08-19T14:43:00+08:00" />
<meta property="article:modified_time" content="2015-08-19T14:43:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">白话空间统计之九：方向分布（标准差椭圆）修正版</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin:0in; font-family:SimSun; font-size:10.5pt"><span style="color:#FF6666">文章用红色字体标记出来的内容是修正后的内容，感谢四川的杨同学对我以前的错误提出指正。</span><br> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"><br> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">终于写到我最喜欢的一个的工具（算法）了，方向分布是虾神我接触的第一个空间统计工具，也是每次讲空间统计必须要讲的一个，也是对点数据分析中很有用的一个工具。</p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">点模式的分析中，一般会考察如下五种内容：</p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">1、点的疏密，包括点数据的分布探索，是否一致、均匀或者不均匀。</p> 
<p style="margin:0in; font-family:Calibri; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">2、点的方位，包括点的分布和方向。</p> 
<p style="margin:0in; font-family:Calibri; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">3、点的数量：多少（极值和均值）。</p> 
<p style="margin:0in; font-family:Calibri; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">4、点的大小：代表的含义（如点一个点代表多少人口）。</p> 
<p style="margin:0in; font-family:Calibri; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">5、其他，如点的一些动态变化等。</p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">（关于点数据分析的其他详细的内容，请看虾神以前的文章，或者再公众号里面回复“点分析”）</p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">其中，我们前面说的好几种算法，如中心要素、中位数中心和平均中心，都是关于点方位的分析，那么今天我们要讲的这个算法，就是同时对点的方向和分布进行分析的一种经典算法——标准差椭圆。</p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"><span lang="zh-CN">这算法最早是由美国南加州大学（Universityof Southern California）社会学教授韦尔蒂</span><span lang="en-US">.</span><span lang="zh-CN">利菲弗（D. Welty Lefever）在</span><span lang="en-US">1926</span><span lang="zh-CN">年提出，所以有的书里面，也把这个算法称为Lefever's "Standard DeviationalEllipse"（利菲弗方向性分布）（又到每天的历史起源科普时间……）。</span></p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">这个算法最大的特点，就如同他的名词一样，是用来度量一组数据的方向和分布的，生成的结果又正如他的别名一样，会输出一个椭圆，如下：</p> 
<p style="margin:0in"><img src="https://images2.imgbox.com/f6/1c/5dDX7CAs_o.png" alt=""><br> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">红色的点是伤寒发病的案例，蓝色的河流是长江太湖流域段，从计算的结果来看，发病的数据方向与长江的流向方向基本一致，而范围较大。</p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">从上图，我们基本上就可以看出方向分布工具的主要作用了，它可以识别一组数据的方向以及分布的趋势，并且了解到这份数据是否具有一些特性，至于有哪些特性，我们后面再说。</p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">我们先来看看这个标准差椭圆的生成算法。</p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">其实算法很简单，要画出一个椭圆，虽然比画圆麻烦点，但是也麻烦不了多少，关键的参数如下：</p> 
<p style="margin:0in; font-size:10.5pt"><span lang="en-US" style="font-family:Calibri">1</span><span lang="zh-CN" style="font-family:SimSun">、确定圆心。</span></p> 
<p style="margin:0in; font-size:10.5pt"><span lang="en-US" style="font-family:Calibri">2</span><span lang="zh-CN" style="font-family:SimSun">、确定旋转角度。</span></p> 
<p style="margin:0in; font-size:10.5pt"><span lang="en-US" style="font-family:Calibri">3</span><span lang="zh-CN" style="font-family:SimSun">、确定</span><span lang="en-US" style="font-family:Calibri">XY</span><span lang="zh-CN" style="font-family:SimSun">轴的长度。</span></p> 
<p lang="en-US" style="margin:0in; font-family:Calibri; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"></p> 
<p style="margin:0in; font-size:10.5pt"><span style="color:#FF0000"><strong><span lang="zh-CN" style="font-family:SimSun">首先是确定圆心，方向分布工具的圆心，直接利用的是算数平均中心来计算椭圆的圆心（算术平均中心请查看我在</span><span lang="en-US" style="font-family:Calibri">2015</span><span lang="zh-CN" style="font-family:SimSun">年</span><span lang="en-US" style="font-family:Calibri">8</span><span lang="zh-CN" style="font-family:SimSun">月</span><span lang="en-US" style="font-family:Calibri">17</span><span lang="zh-CN" style="font-family:SimSun">日写的《空间统计之八：平均中心和中位数中心》一文）</span></strong></span></p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"><span style="color:#FF0000"><strong> </strong></span></p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"><span style="color:#FF0000"><strong>然后就确定椭圆的形式了，公式如下：</strong></span></p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"></p> 
<p style="margin:0in"><img src="https://images2.imgbox.com/42/60/EomszpsU_o.png" alt=""><br> </p> 
<p style="margin:0in; font-size:10.5pt"><span lang="zh-CN" style="font-family:SimSun"></span></p> 
<p style="margin:0in; font-size:10.5pt"><span lang="zh-CN" style="font-family:SimSun">其中，</span><span lang="en-US" style="font-family:Calibri">Xi</span><span lang="zh-CN" style="font-family:SimSun">和</span><span lang="en-US" style="font-family:Calibri">Yi</span><span lang="zh-CN" style="font-family:SimSun">是每个要素的空间位置坐标，</span><span lang="en-US" style="font-family:Calibri">X</span><span lang="zh-CN" style="font-family:SimSun">和</span><span lang="en-US" style="font-family:Calibri">Y</span><span lang="zh-CN" style="font-family:SimSun">是算数平均中心。</span></p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-size:10.5pt"><span style="color:#FF0000"><strong><span lang="en-US" style="font-family:Calibri">SDEx</span><span lang="zh-CN" style="font-family:SimSun">和</span><span lang="en-US" style="font-family:Calibri">SDEy</span><span lang="zh-CN" style="font-family:SimSun">就是计算出来的椭圆的方差，总所周知，椭圆的大小取决于方差大小，长半轴表示最大方差，短半轴表示最小方差，在空间统计上面，用</span><span lang="en-US" style="font-family:Calibri">X</span><span lang="zh-CN" style="font-family:SimSun">、</span><span lang="en-US" style="font-family:Calibri">Y</span><span lang="zh-CN" style="font-family:SimSun">的方差进行计算，得到长短半轴。</span></strong></span></p> 
<p style="margin:0in; font-size:10.5pt"><span lang="zh-CN" style="font-family:SimSun"></span></p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-size:10.5pt"><span lang="zh-CN" style="font-family:SimSun">然后确定椭圆的方向，以</span><span lang="en-US" style="font-family:Calibri">X</span><span lang="zh-CN" style="font-family:SimSun">轴为准，正北方（</span><span lang="en-US" style="font-family:Calibri">12</span><span lang="zh-CN" style="font-family:SimSun">点方向）为</span><span lang="en-US" style="font-family:Calibri">0</span><span lang="zh-CN" style="font-family:SimSun">度，顺时针旋转，计算公式如下：</span></p> 
<p style="margin:0in"><img src="https://images2.imgbox.com/b7/e4/DC1AA4Mj_o.png" alt=""><br> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-size:10.5pt"><span lang="zh-CN" style="font-family:SimSun">最后确定</span><span lang="en-US" style="font-family:Calibri">XY</span><span lang="zh-CN" style="font-family:SimSun">轴的标准差，公式如下：</span></p> 
<p style="margin:0in"><img src="https://images2.imgbox.com/9f/81/11jTZddR_o.png" alt=""></p> 
<p style="margin:0in"><br> </p> 
<p style="margin:0in"></p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">标准差的作用是确定椭圆的方程，一般椭圆方程如下：</p> 
<img src="https://images2.imgbox.com/4c/43/Duarb1a2_o.jpg" alt=""> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"></p> 
<p style="margin:0in; font-size:10.5pt"><strong><span lang="en-US" style="font-family:Calibri; color:#FF6666">S</span><span lang="zh-CN" style="font-family:SimSun; color:#FF6666">是置信度的值，可以根据数据量来查询卡方概率表（Table:Chi-Square Probabilities），这个大家有兴趣去百度一下就有了。</span></strong></p>   
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">把所有的数据都带入到公式中，就很容易的把所有的参数都计算出来，接下去只需要再地图上画出结果就行。</p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">那么这个椭圆揭示了一些什么意义呢？</p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-size:10.5pt"><span lang="zh-CN" style="font-family:SimSun">使用</span><span lang="en-US" style="font-family:Calibri">ArcGIS</span><span lang="zh-CN" style="font-family:SimSun">的话，方向分布工具除了生成这样一个椭圆以外，还会给出如下结果：</span></p> 
<p style="margin:0in"><img src="https://images2.imgbox.com/8b/4d/40UnlvNu_o.png" alt=""><br> </p> 
<p style="margin:0in; font-size:10.5pt"><span lang="zh-CN" style="font-family:SimSun">其中，</span><span lang="en-US" style="font-family:Calibri">Shape_Leng</span><span lang="zh-CN" style="font-family:SimSun">和</span><span lang="en-US" style="font-family:Calibri">Shape_Area</span><span lang="zh-CN" style="font-family:SimSun">是生成的椭圆的周长和面积，单位与你数据的单位相同，这里我的数据是经纬度的，所以生成的结果只能作为相对参考结果。</span></p> 
<p style="margin:0in; font-size:10.5pt"><span lang="en-US" style="font-family:Calibri">CenterX</span><span lang="zh-CN" style="font-family:SimSun">和</span><span lang="en-US" style="font-family:Calibri">CenterY</span><span lang="zh-CN" style="font-family:SimSun">表示的是椭圆的中心点。</span></p> 
<p style="margin:0in; font-size:10.5pt"><span lang="en-US" style="font-family:Calibri">XstdDist</span><span lang="zh-CN" style="font-family:SimSun">和</span><span lang="en-US" style="font-family:Calibri">YStdDist</span><span lang="zh-CN" style="font-family:SimSun">表示的</span><span lang="en-US" style="font-family:Calibri">X</span><span lang="zh-CN" style="font-family:SimSun">轴的长度和</span><span lang="en-US" style="font-family:Calibri">Y</span><span lang="zh-CN" style="font-family:SimSun">轴的长度。</span></p> 
<p style="margin:0in; font-size:10.5pt"><span lang="en-US" style="font-family:Calibri">Rotation</span><span lang="zh-CN" style="font-family:SimSun">表示的是椭圆的方向角度。如下：</span></p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in"><img src="https://images2.imgbox.com/c6/f2/mOVjwd0E_o.png" alt=""><br> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">结果解读如下：</p> 
<p style="margin:0in; font-size:10.5pt"><span lang="en-US" style="font-family:Calibri">1</span><span lang="zh-CN" style="font-family:SimSun">、椭圆的<strong>长半轴</strong>表示的是数据分布的<strong>方向</strong>，<strong>短半轴</strong>表示的是数据分布的<strong>范围</strong>，长短半轴的值<strong>差距越大（扁率越大）</strong>，表示数据的<strong>方向性越明显</strong>。反之，如果长短半轴越接近，表示方向性越不明显。如果<strong>长短半轴完全相等</strong>，就等于是一个圆了，圆的话就表示<strong>没有任何的方向特征</strong>。</span></p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-size:10.5pt"><span lang="en-US" style="font-family:Calibri">2</span><span lang="zh-CN" style="font-family:SimSun">、<strong>短半轴</strong>表示数据分布的<strong>范围</strong>，短半轴越<strong>短</strong>，表示数据呈现的<strong>向心力越明显</strong>；反之，短半轴越<strong>长</strong>，表示数据的<strong>离散程度越大</strong>。同样，如果短半轴与长半轴<strong>完全相等</strong>了，就表示数据<strong>没有任何的分布特征</strong>。</span></p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-size:10.5pt"><span lang="en-US" style="font-family:Calibri">3</span><span lang="zh-CN" style="font-family:SimSun">、中心点表示了整个数据的中心位置，一般来说，只要数据的变异程度不是很大的话，这个中心点的位置大约与算数平均数的位置基本上是一致的，至于数据变异是什么情况，请看下面第</span><span lang="en-US" style="font-family:Calibri">4</span><span lang="zh-CN" style="font-family:SimSun">点。</span></p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-size:10.5pt"><span lang="en-US" style="font-family:Calibri">4</span><span lang="zh-CN" style="font-family:SimSun">、有的同学会很疑惑，为什么你画的这个椭圆，还有很多的点都在外面，没有把所有的点都包含进去？那么就是就是“标准差椭圆”这个名词里面的“标准差”的含义所在了。</span></p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-size:10.5pt"><span lang="zh-CN" style="font-family:SimSun">在</span><span lang="en-US" style="font-family:Calibri">ArcGIS</span><span lang="zh-CN" style="font-family:SimSun">工具里面（其他的工具也都差不多），提供了“椭圆大小”（Ellipse_Size）这个参数，这个参数表示你生成的椭圆的级别，一共有三个，如下表：</span></p> 
<p style="margin:0in"><img src="https://images2.imgbox.com/cb/1f/ALGX7Qwb_o.png" alt=""><br> </p> 
<p style="margin:0in; font-size:10.5pt"><span lang="zh-CN" style="font-family:SimSun">三个级别的椭圆，分别表示了你生成的椭圆，能够包含</span><span lang="en-US" style="font-family:Calibri">68%</span><span lang="zh-CN" style="font-family:SimSun">，</span><span lang="en-US" style="font-family:Calibri">95%</span><span lang="zh-CN" style="font-family:SimSun">和</span><span lang="en-US" style="font-family:Calibri">99%</span><span lang="zh-CN" style="font-family:SimSun">三个级别的数据，我们通过可以指定要表示的标准差数（</span><span lang="en-US" style="font-family:SimSun">1、2 或 3）</span><span lang="zh-CN" style="font-family:SimSun">来决定你生成的椭圆包含的数据比例</span><span lang="en-US" style="font-family:SimSun">。</span></p> 
<p lang="en-US" style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-size:10.5pt"><span lang="zh-CN" style="font-family:SimSun">当要素具有空间正态分布时（即这些要素在中心处最为密集，而在接近外围时会逐渐变得稀疏），第一级标准差（默认值）范围可将约占总数</span><span lang="en-US" style="font-family:Calibri"> 68%</span><span lang="en-US" style="font-family:SimSun">的输入要素的质心包含在内。</span><span lang="zh-CN" style="font-family:SimSun">第二级</span><span lang="en-US" style="font-family:SimSun">标准差范围会将约占总数</span><span lang="en-US" style="font-family:Calibri"> 95%</span><span lang="en-US" style="font-family:SimSun">的要素包含在内，而</span><span lang="zh-CN" style="font-family:SimSun">第三级</span><span lang="en-US" style="font-family:SimSun">标准差范围则会覆盖约占总数</span><span lang="en-US" style="font-family:Calibri"> 99%</span><span lang="en-US" style="font-family:SimSun">的要素的质心。</span></p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">所以，当你选择不同标准差等级的时候，你发现你的中心点的位置也可能不同。</p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">当然，作为空间分析工具，方向分布一样可以进行加权计算，这个计算主要还是与中心点的位置确定以及椭圆标准差等级生成的椭圆大小有关系。</p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">下面我们来通过一个实例来了解方向分布工具的应用：</p> 
<p style="margin:0in; font-size:10.5pt"><span lang="zh-CN" style="font-family:SimSun">一共有两年的伤寒病数据，如下，红色的是</span><span lang="en-US" style="font-family:Calibri">2000</span><span lang="zh-CN" style="font-family:SimSun">年的，蓝色是</span><span lang="en-US" style="font-family:Calibri">2001</span><span lang="zh-CN" style="font-family:SimSun">年的：</span></p> 
<p style="margin:0in"><img src="https://images2.imgbox.com/ad/18/bgorTeRB_o.png" alt=""><br> </p> 
<p style="margin:0in; font-size:10.5pt"><span lang="zh-CN" style="font-family:SimSun">使用</span><span lang="en-US" style="font-family:Calibri">1</span><span lang="zh-CN" style="font-family:SimSun">个标准差的结果，生成的椭圆如上，具体数据如下：</span></p> 
<p style="margin:0in"><img src="https://images2.imgbox.com/dc/91/Iu2YlMPo_o.png" alt=""><br> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">我们对关键性的两个指标进行对比：</p> 
<p style="margin:0in"><img src="https://images2.imgbox.com/03/57/oSYBEi58_o.png" alt=""><br> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-size:10.5pt"><span lang="zh-CN" style="font-family:SimSun">生成面积表示范围，可以发现</span><span lang="en-US" style="font-family:Calibri">2000</span><span lang="zh-CN" style="font-family:SimSun">的伤寒病发病情况的范围要大于</span><span lang="en-US" style="font-family:Calibri">2001</span><span lang="zh-CN" style="font-family:SimSun">年的，扁率表示他的方向明确性和向心力的程度，</span><span lang="en-US" style="font-family:Calibri">2000</span><span lang="zh-CN" style="font-family:SimSun">年生成的椭圆扁率远高于</span><span lang="en-US" style="font-family:Calibri">2001</span><span lang="zh-CN" style="font-family:SimSun">年的，说明了</span><span lang="en-US" style="font-family:Calibri">2000</span><span lang="zh-CN" style="font-family:SimSun">的伤寒发病情况，比</span><span lang="en-US" style="font-family:Calibri">2001</span><span lang="zh-CN" style="font-family:SimSun">年的方向趋势更明显。</span></p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-size:10.5pt"><span lang="en-US" style="font-family:Calibri">2000</span><span lang="zh-CN" style="font-family:SimSun">年生成的椭圆方向与长江的方向基本相相符，所以</span><span lang="en-US" style="font-family:Calibri">2000</span><span lang="zh-CN" style="font-family:SimSun">年的伤寒发病源与长江的关系较为密切。而</span><span lang="en-US" style="font-family:Calibri">2001</span><span lang="zh-CN" style="font-family:SimSun">年的发病情况虽然方向性并不如</span><span lang="en-US" style="font-family:Calibri">2000</span><span lang="zh-CN" style="font-family:SimSun">年的明显，但是长半轴几乎与长江垂直，可以基本确认，</span><span lang="en-US" style="font-family:Calibri">2001</span><span lang="zh-CN" style="font-family:SimSun">年伤寒发病源与长江关系不大，但是呈现向内陆爆发的趋势。</span></p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">方向分布工具在空间统计中是综合能力最突出的工具之一，有着广泛的应用，在我们的分析和数据探索的时候，能够起到非常重大的作用。</p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt">最后，列出几个可能的应用：</p> 
<p style="margin:0in; font-size:10.5pt"><span lang="en-US" style="font-family:Calibri">1</span><span lang="zh-CN" style="font-family:SimSun">、可用来在地图上标示一组犯罪行为的分布趋势，并且能够确定该行为与特定要素（一系列酒吧或餐馆、某条特定街道等）的关系。</span><span lang="en-US" style="font-family:SimSun"></span></p> 
<p lang="en-US" style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-size:10.5pt"><span lang="en-US" style="font-family:Calibri">2</span><span lang="zh-CN" style="font-family:SimSun">、在地图上标示地下水井样本的特定污染，可以指示毒素的扩散方式，这在部署应急防灾策略时非常有用。</span></p> 
<p lang="en-US" style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-size:10.5pt"><span lang="en-US" style="font-family:Calibri">3</span><span lang="zh-CN" style="font-family:SimSun">、对各个物种所在区域的椭圆的大小、形状和重叠部分进行比较可以分析与物种入侵或者隔离相关的深入信息。</span></p> 
<p lang="en-US" style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p> 
<p style="margin:0in; font-size:10.5pt"><span lang="en-US" style="font-family:Calibri">4</span><span lang="zh-CN" style="font-family:SimSun">、绘制一段时间内疾病爆发情况的椭圆可用于建立疾病传播的模型。</span></p> 
<p style="margin:0in; font-family:SimSun; font-size:10.5pt"> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/65a38f80a6b0ff344a1ae0e3e06dbd79/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Clean Project 作用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bcd56e24c29f111769c247bde6538859/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">解决XCODE配置LLVM环境出现的问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>