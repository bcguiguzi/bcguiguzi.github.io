<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux 下 安装多个mysql8.0 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux 下 安装多个mysql8.0" />
<meta property="og:description" content="1:下载mysql
wget https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-8.0.33-linux-glibc2.17-x86_64-minimal.tar
2：解压下载的mysql压缩包
解压mysql-8.0.33-linux-glibc2.17-x86_64-minimal.tar
tar -xf mysql-8.0.33-linux-glibc2.17-x86_64-minimal.tar
解压后生成3个压缩文件
继续解压mysql-8.0.33-linux-glibc2.17-x86_64-minimal.tar.xz
tar -xf mysql-8.0.33-linux-glibc2.17-x86_64-minimal.tar.xz
3：安装mysql
1：因为要安装多个mysql，所以要修改文件名称，修改文件所属的账户和权限
修改文件名称
mv mysql-8.0.33-linux-glibc2.17-x86_64-minimal mysql3310
mv mysql-8.0.33-linux-glibc2.17-x86_64-minimal mysql3309
修改文件所属的账户
先添加mysql用户组：groupadd mysql
在mysql用户组下添加mysql用户：useradd mysql -g mysql
修改文件所属账户：chown -R mysql:mysql /usr/local/soft/mysql*
修改文件的权限：chmod -R 755 usr/local/soft/mysql*
2：创建日志文件和存放数据文件，以及mysql的配置文件my.cnf
在mysql3310和mysql3309下创建
mkdir data mkdir log
vim my.cnf 这个文件的权限记得修改一下，因为它如果权限过大，在启动还是初始化的时候不行
3：修改my.cnf配置
[mysqld]
bind-address=0.0.0.0
port=3310
user=mysql
basedir=/usr/local/soft/mysql3310
datadir=/usr/local/soft/mysql3310/data
socket=/usr/local/soft/mysql3310/mysql3310.sock
log-error=/usr/local/soft/mysql3310/log/mysql.err
character_set_server=utf8mb4
symbolic-links=0
explicit_defaults_for_timestamp=true
general_log=1
general_log_file=/usr/local/soft/mysql3306/log/mysql_3306.log
lower_case_table_names=1
# 设置日期时间列的默认格式
sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION
default_time_zone = &#39;&#43;8:00&#39;
这5个表黄的也重要
mysqlx_port=33310" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/42d7b2dd38f424cf168e8ea80deae593/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-06T20:35:28+08:00" />
<meta property="article:modified_time" content="2023-05-06T20:35:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux 下 安装多个mysql8.0</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong><span style="color:#1a439c;">1:下载mysql</span></strong></p> 
<p>wget https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-8.0.33-linux-glibc2.17-x86_64-minimal.tar</p> 
<p><strong><span style="color:#1a439c;">2：解压下载的mysql压缩包</span></strong></p> 
<p><span style="color:#0d0016;">解压mysql-8.0.33-linux-glibc2.17-x86_64-minimal.tar</span></p> 
<p><span style="color:#ffd900;">tar -xf mysql-8.0.33-linux-glibc2.17-x86_64-minimal.tar</span></p> 
<p><span style="color:#0d0016;">解压后生成3个压缩文件</span></p> 
<p><img alt="" height="68" src="https://images2.imgbox.com/da/4a/27SzdRbJ_o.png" width="834"></p> 
<p>继续解压mysql-8.0.33-linux-glibc2.17-x86_64-minimal.tar.xz</p> 
<p><span style="color:#ffd900;">tar -xf mysql-8.0.33-linux-glibc2.17-x86_64-minimal.tar.xz</span></p> 
<p><span style="color:#1a439c;"><strong>3：安装mysql</strong></span></p> 
<p>1：因为要安装多个mysql，所以要修改文件名称，修改文件所属的账户和权限</p> 
<p><span style="color:#ffd900;">修改文件名称</span></p> 
<p>mv mysql-8.0.33-linux-glibc2.17-x86_64-minimal mysql3310</p> 
<p>mv mysql-8.0.33-linux-glibc2.17-x86_64-minimal mysql3309</p> 
<p><span style="color:#ffd900;">修改文件所属的账户</span></p> 
<p><span style="color:#0d0016;">先添加mysql用户组：groupadd mysql</span></p> 
<p>在mysql用户组下添加mysql用户：useradd mysql -g mysql</p> 
<p>修改文件所属账户：chown -R mysql:mysql /usr/local/soft/mysql*</p> 
<p>修改文件的权限：chmod -R 755 usr/local/soft/mysql*</p> 
<p><span style="color:#ffd900;">2：创建日志文件和存放数据文件，以及mysql的配置文件my.cnf</span></p> 
<p>在mysql3310和mysql3309下创建</p> 
<p>mkdir data </p> 
<p>mkdir log</p> 
<p>vim my.cnf   这个文件的权限记得修改一下，因为它如果权限过大，在启动还是初始化的时候不行</p> 
<p><span style="color:#ffd900;">3：修改my.cnf配置</span></p> 
<p>[mysqld]<br> bind-address=0.0.0.0<br> port=3310<br> user=mysql<br> basedir=/usr/local/soft/mysql3310<br> datadir=/usr/local/soft/mysql3310/data<br> socket=/usr/local/soft/mysql3310/mysql3310.sock<br> log-error=/usr/local/soft/mysql3310/log/mysql.err<br> character_set_server=utf8mb4<br> symbolic-links=0<br> explicit_defaults_for_timestamp=true</p> 
<p><span style="color:#ffd900;">general_log=1<br> general_log_file=/usr/local/soft/mysql3306/log/mysql_3306.log</span></p> 
<p><span style="color:#ffd900;">lower_case_table_names=1<br> # 设置日期时间列的默认格式<br> sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION<br> default_time_zone = '+8:00'</span><br> 这5个表黄的也重要</p> 
<p><br><span style="color:#fe2c24;">mysqlx_port=33310<br> mysqlx_bind_address=0.0.0.0<br> mysqlx_socket=/usr/local/soft/mysql3310/mysql3310.sock</span></p> 
<p><span style="color:#ffd900;">这三个标红的文件特别重要，这个是配置套字节，如果没有配置的话在连接的时候，会说找不到套字节</span><br>  <br> [mysqld_safe]<br> user=mysql<br> log-error=/usr/local/soft/mysql3310/log/mysqld3310.log<br> pid-file=/usr/local/soft/mysql3310/mysqld3310.pid<br> socket=/usr/local/soft/mysql3310/mysql3310.sock</p> 
<p>mysqlx_port=33310<br> mysqlx_bind_address=0.0.0.0<br> mysqlx_socket=/usr/local/soft/mysql3310/mysql3310.sock</p> 
<p><br> [client]<br> socket=/usr/local/soft/mysql3310/mysql3310.sock<br>  <br> [mysqldump]<br> socket=/usr/local/soft/mysql3310/mysql3310.sock<br>   <br> [mysqladmin]<br> socket=/usr/local/soft/mysql3310/mysql3310.sock</p> 
<p><br><span style="color:#1a439c;"><strong>4：初始化mysql</strong></span></p> 
<p>./mysqld --defaults-file=/usr/local/soft/mysql3309/my.cnf --initialize --basedir=/usr/local/soft/mysql3309 --datadir=/usr/local/soft/mysql3309/data/</p> 
<p><span style="color:#ffd900;">初始化完成后，会在data文件生成相关的信息，如果觉得不对的话，可以把date里面的内容删除掉，重新初始化。</span></p> 
<p><span style="color:#ffd900;">初始化的话，会在配置的日志文件里生成root账户的密码，用于第一次登录</span></p> 
<p><span style="color:#1a439c;"><strong>5：启动mysql</strong></span></p> 
<p><span style="color:#ffd900;">1：用mysqld_safe的方式启动</span></p> 
<p>/usr/local/soft/mysql3310/bin/mysqld_safe --defaults-file=/usr/local/soft/mysql3310/my.cnf &amp;</p> 
<p><span style="color:#ffd900;">2：或者用mysqld直接启动</span></p> 
<p>/usr/local/soft/mysql3310/bin/mysqld --defaults-file=/usr/local/soft/mysql3310/my.cnf -D</p> 
<p><span style="color:#1a439c;"><strong>6：登录：</strong></span></p> 
<p>/usr/local/soft/mysql3310/bin/mysql -uroot -p -h 127.0.0.1  --port=3310</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/905d19692d53ab51f5eae6c1b26c31bf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MPU6050详解（含源码）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/110e6c931ac13d4e4e4b21cae1f7d861/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">nvm如何变更npm版本</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>