<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Numpy数据类型对象（dtype） - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Numpy数据类型对象（dtype）" />
<meta property="og:description" content="常用方法 #记住引入numpy时要是用别名np，则所有的numpy字样都要替换 #查询数值类型 &gt;&gt;&gt;type(float) dtype(&#39;float64&#39;) # 查询字符代码 &gt;&gt;&gt; dtype(&#39;f&#39;) dtype(&#39;float32&#39;) &gt;&gt;&gt; dtype(&#39;d&#39;) dtype(&#39;float64&#39;) # 查询双字符代码 &gt;&gt;&gt; dtype(&#39;f8&#39;) dtype(&#39;float64&#39;) # 获取所有字符代码 &gt;&gt;&gt; sctypeDict.keys() [0, … &#39;i2&#39;, &#39;int0&#39;] # char 属性用来获取字符代码 &gt;&gt;&gt; t = dtype(&#39;Float64&#39;) &gt;&gt;&gt; t.char &#39;d&#39; # type 属性用来获取类型 &gt;&gt;&gt; t.type &lt;type &#39;numpy.float64&#39;&gt; # str 属性获取完整字符串表示 # 第一个字符是字节序，&lt; 表示小端，&gt; 表示大端，| 表示平台的字节序 &gt;&gt;&gt; t.str &#39;&lt;f8&#39; # 获取大小 &gt;&gt;&gt; t.itemsize 8 # 许多函数拥有 dtype 参数 # 传入数值类型、字符代码和 dtype 都可以 &gt;&gt;&gt; arange(7, dtype=uint16) array([0, 1, 2, 3, 4, 5, 6], dtype=uint16) 类型参数及缩写 类型字符代码bool?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/cab01415d051988317fa400bc28bf3a5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-01-30T17:37:00+08:00" />
<meta property="article:modified_time" content="2018-01-30T17:37:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Numpy数据类型对象（dtype）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>常用方法</h2> 
<pre class="has"><code>#记住引入numpy时要是用别名np，则所有的numpy字样都要替换
 #查询数值类型
&gt;&gt;&gt;type(float)
dtype('float64')
# 查询字符代码
&gt;&gt;&gt; dtype('f')
dtype('float32')
&gt;&gt;&gt; dtype('d')
dtype('float64')
# 查询双字符代码
&gt;&gt;&gt; dtype('f8')
dtype('float64')
# 获取所有字符代码
&gt;&gt;&gt; sctypeDict.keys()
[0, … 'i2', 'int0']

# char 属性用来获取字符代码
&gt;&gt;&gt; t = dtype('Float64')
&gt;&gt;&gt; t.char
'd'
# type 属性用来获取类型
&gt;&gt;&gt; t.type
&lt;type 'numpy.float64'&gt;

# str 属性获取完整字符串表示
# 第一个字符是字节序，&lt; 表示小端，&gt; 表示大端，| 表示平台的字节序
&gt;&gt;&gt; t.str
'&lt;f8'

# 获取大小
&gt;&gt;&gt; t.itemsize
8

# 许多函数拥有 dtype 参数
# 传入数值类型、字符代码和 dtype 都可以
&gt;&gt;&gt; arange(7, dtype=uint16)
array([0, 1, 2, 3, 4, 5, 6], dtype=uint16)
</code></pre> 
<h2>类型参数及缩写</h2> 
<table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:left;">字符代码</th></tr></thead><tbody><tr><td style="text-align:center;">bool</td><td style="text-align:left;">?, b1</td></tr><tr><td style="text-align:center;">int8</td><td style="text-align:left;">b, i1</td></tr><tr><td style="text-align:center;">uint8</td><td style="text-align:left;">B, u1</td></tr><tr><td style="text-align:center;">int16</td><td style="text-align:left;">h, i2</td></tr><tr><td style="text-align:center;">uint16</td><td style="text-align:left;">H, u2</td></tr><tr><td style="text-align:center;">int32</td><td style="text-align:left;">i, i4</td></tr><tr><td style="text-align:center;">uint32</td><td style="text-align:left;">I, u4</td></tr><tr><td style="text-align:center;">int64</td><td style="text-align:left;">q, i8</td></tr><tr><td style="text-align:center;">uint64</td><td style="text-align:left;">Q, u8</td></tr><tr><td style="text-align:center;">float16</td><td style="text-align:left;">f2, e</td></tr><tr><td style="text-align:center;">float32</td><td style="text-align:left;">f4, f</td></tr><tr><td style="text-align:center;">float64</td><td style="text-align:left;">f8, d</td></tr><tr><td style="text-align:center;">complex64</td><td style="text-align:left;">F4, F</td></tr><tr><td style="text-align:center;">complex128</td><td style="text-align:left;">F8, D</td></tr><tr><td style="text-align:center;">str</td><td style="text-align:left;">a, S（可以在S后面添加数字，表示字符串长度，比如S3表示长度为三的字符串，不写则为最大长度）</td></tr><tr><td style="text-align:center;">unicode</td><td style="text-align:left;">U</td></tr><tr><td style="text-align:center;">object</td><td style="text-align:left;">O</td></tr><tr><td style="text-align:center;">void</td><td style="text-align:left;">V</td></tr></tbody></table> 
<h2>自定义异构数据类型</h2> 
<p>基本书写格式</p> 
<pre class="has"><code>import numpy
#定义t的各个字段类型
&gt;&gt;&gt; t = dtype([('name', str, 40), ('numitems', numpy.int32), ('price',numpy.float32)])
&gt;&gt;&gt; t
dtype([('name', '|S40'), ('numitems', '&lt;i4'), ('price','&lt;f4')])

# 获取字段类型
&gt;&gt;&gt; t['name']
dtype('|S40')

# 使用记录类型创建数组
# 否则它会把记录拆开
&gt;&gt;&gt; itemz = array([('Meaning of life DVD', 42, 3.14), ('Butter', 13,2.72)], dtype=t)
&gt;&gt;&gt; itemz[1]
('Butter', 13, 2.7200000286102295)
#再举个例*
&gt;&gt;&gt;adt = np.dtype("a3, 3u8, (3,4)a10")  #3字节字符串、3个64位整型子数组、3*4的10字节字符串数组，注意8为字节
&gt;&gt;&gt;itemz = np.array([('Butter',[13,2,3],[['d','o','g','s'],['c','a','t','s'],['c','o','w','s']])],dtype=adt)
&gt;&gt;&gt;itemz
(b'But', [13,  2,  3], [[b'd', b'o', b'g', b's'], [b'c', b'a', b't', b's'], [b'c', b'o', b'w', b's']])
</code></pre> 
<p>其他书写格式</p> 
<pre class="has"><code>#(flexible_dtype, itemsize)第一个大小不固定的参数类型，第二传入大小：
&gt;&gt;&gt; dt = np.dtype((void, 10))  #10位
&gt;&gt;&gt; dt = np.dtype((str, 35))   # 35字符字符串
&gt;&gt;&gt; dt = np.dtype(('U', 10))   # 10字符unicode string

#(fixed_dtype, shape)第一个传入固定大小的类型参数，第二参数传入个数
&gt;&gt;&gt; dt = np.dtype((np.int32, (2,2)))          # 2*2int子数组
举例: &gt;&gt;&gt;item = np.array([([12,12],[55,56])], dtype=dt)
array([[12, 12], [55, 56]])
&gt;&gt;&gt; dt = np.dtype(('S10', 1))                 # 10字符字符串
&gt;&gt;&gt; dt = np.dtype(('i4, (2,3)f8, f4', (2,3))) # 2*3结构子数组

#[(field_name, field_dtype, field_shape), …]
&gt;&gt;&gt; dt = np.dtype([('big', '&gt;i4'), ('little', '&lt;i4')])
&gt;&gt;&gt; dt = np.dtype([('R','u1'), ('G','u1'), ('B','u1'), ('A','u1')])

#{‘names’: …, ‘formats’: …, ‘offsets’: …, ‘titles’: …, ‘itemsize’: …}：
&gt;&gt;&gt; dt= np.dtype（{'names':('Date','Close'),'formats':('S10','f8')}）
&gt;&gt;&gt; dt = np.dtype({'names': ['r','b'], 'formats': ['u1', 'u1'], 'offsets': [0, 2],'titles': ['Red pixel', 'Blue pixel']})

#(base_dtype, new_dtype)：
&gt;&gt;&gt;dt = np.dtype((np.int32, (np.int8, 4)))  //base_dtype被分成4个int8的子数组
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e01fc3720fb5eeb9b0dcf6b10429b8b6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">word2013多级列表自动编号与多样式配合排版</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b7c71176c7bbaae320c832d80ee5bcb2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">H5之元素与标签结构</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>