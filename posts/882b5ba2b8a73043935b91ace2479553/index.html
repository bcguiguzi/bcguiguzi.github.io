<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€å¤§æ•°æ®ã€‘Flink å†…å­˜ç®¡ç†ï¼ˆå››ï¼‰ï¼šTaskManager å†…å­˜åˆ†é…ï¼ˆå®æˆ˜ç¯‡ï¼‰ - ç¼–ç¨‹é¬¼è°·å­çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ã€å¤§æ•°æ®ã€‘Flink å†…å­˜ç®¡ç†ï¼ˆå››ï¼‰ï¼šTaskManager å†…å­˜åˆ†é…ï¼ˆå®æˆ˜ç¯‡ï¼‰" />
<meta property="og:description" content="ã€ŠFlink å†…å­˜ç®¡ç†ã€‹ç³»åˆ—ï¼ˆå·²å®Œç»“ï¼‰ï¼Œå…±åŒ…å«ä»¥ä¸‹ 4 ç¯‡æ–‡ç« ï¼š
Flink å†…å­˜ç®¡ç†ï¼ˆä¸€ï¼‰ï¼šè®¾ç½® Flink è¿›ç¨‹å†…å­˜Flink å†…å­˜ç®¡ç†ï¼ˆäºŒï¼‰ï¼šJobManager å†…å­˜åˆ†é…ï¼ˆå«å®é™…è®¡ç®—æ¡ˆä¾‹ï¼‰Flink å†…å­˜ç®¡ç†ï¼ˆä¸‰ï¼‰ï¼šTaskManager å†…å­˜åˆ†é…ï¼ˆç†è®ºç¯‡ï¼‰Flink å†…å­˜ç®¡ç†ï¼ˆå››ï¼‰ï¼šTaskManager å†…å­˜åˆ†é…ï¼ˆå®æˆ˜ç¯‡ï¼‰ ğŸ˜Š å¦‚æœæ‚¨è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰ç”¨ âœ”ï¸ çš„è¯ï¼Œè¯·ç»™åšä¸»ä¸€ä¸ªä¸€é”®ä¸‰è¿ ğŸš€ğŸš€ğŸš€ å§ ï¼ˆç‚¹èµ ğŸ§¡ã€å…³æ³¨ ğŸ’›ã€æ”¶è— ğŸ’šï¼‰ï¼ï¼ï¼æ‚¨çš„æ”¯æŒ ğŸ’–ğŸ’–ğŸ’– å°†æ¿€åŠ± ğŸ”¥ åšä¸»è¾“å‡ºæ›´å¤šä¼˜è´¨å†…å®¹ï¼ï¼ï¼
Flink å†…å­˜ç®¡ç†ï¼ˆå››ï¼‰ï¼šTaskManager å†…å­˜åˆ†é…ï¼ˆå®æˆ˜ç¯‡ï¼‰ 1.å•ç‹¬åˆ†é… Total Process Size2.å•ç‹¬åˆ†é… Total Flink Size3.å•ç‹¬åˆ†é… Heap Size &amp;&amp; Managed Memory4.åˆ†é… Total Process Size å’Œ Heap Size &amp;&amp; Managed Memory5.åˆ†é… Total Flink Size å’Œ Heap Size &amp;&amp; Managed Memory6.å†…å­˜åˆ†é…å°ç»“ åœ¨ ã€ŠFlink å†…å­˜ç®¡ç†ï¼ˆä¸€ï¼‰ï¼šè®¾ç½® Flink è¿›ç¨‹å†…å­˜ã€‹ä¸­æˆ‘ä»¬æåˆ°ï¼Œå¿…é¡»ä½¿ç”¨ä¸‹è¿°ä¸‰ç§æ–¹æ³•ä¹‹ä¸€é…ç½® Flink çš„å†…å­˜ï¼ˆæœ¬åœ°æ‰§è¡Œé™¤å¤–ï¼‰ï¼Œå¦åˆ™ Flink å¯åŠ¨å°†å¤±è´¥ã€‚è¿™æ„å‘³ç€å¿…é¡»æ˜ç¡®é…ç½®ä»¥ä¸‹é€‰é¡¹å­é›†ä¹‹ä¸€ï¼Œè¿™äº›å­é›†æ²¡æœ‰é»˜è®¤å€¼ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/882b5ba2b8a73043935b91ace2479553/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-25T12:08:38+08:00" />
<meta property="article:modified_time" content="2024-02-25T12:08:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹é¬¼è°·å­çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹é¬¼è°·å­çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€å¤§æ•°æ®ã€‘Flink å†…å­˜ç®¡ç†ï¼ˆå››ï¼‰ï¼šTaskManager å†…å­˜åˆ†é…ï¼ˆå®æˆ˜ç¯‡ï¼‰</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>ã€Š<font color="#e47542"><strong>Flink å†…å­˜ç®¡ç†</strong></font>ã€‹ç³»åˆ—ï¼ˆå·²å®Œç»“ï¼‰ï¼Œå…±åŒ…å«ä»¥ä¸‹ 4 ç¯‡æ–‡ç« ï¼š</p> 
<ul><li><a href="https://blog.csdn.net/Be_racle/article/details/136263713">Flink å†…å­˜ç®¡ç†ï¼ˆä¸€ï¼‰ï¼šè®¾ç½® Flink è¿›ç¨‹å†…å­˜</a></li><li><a href="https://blog.csdn.net/Be_racle/article/details/136265544">Flink å†…å­˜ç®¡ç†ï¼ˆäºŒï¼‰ï¼šJobManager å†…å­˜åˆ†é…ï¼ˆå«å®é™…è®¡ç®—æ¡ˆä¾‹ï¼‰</a></li><li><a href="https://blog.csdn.net/Be_racle/article/details/136270432">Flink å†…å­˜ç®¡ç†ï¼ˆä¸‰ï¼‰ï¼šTaskManager å†…å­˜åˆ†é…ï¼ˆç†è®ºç¯‡ï¼‰</a></li><li><a href="https://blog.csdn.net/Be_racle/article/details/136277369">Flink å†…å­˜ç®¡ç†ï¼ˆå››ï¼‰ï¼šTaskManager å†…å­˜åˆ†é…ï¼ˆå®æˆ˜ç¯‡ï¼‰</a></li></ul> 
<blockquote> 
 <p>ğŸ˜Š å¦‚æœæ‚¨è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰ç”¨ âœ”ï¸ çš„è¯ï¼Œè¯·ç»™åšä¸»ä¸€ä¸ªä¸€é”®ä¸‰è¿ ğŸš€ğŸš€ğŸš€ å§ ï¼ˆç‚¹èµ ğŸ§¡ã€å…³æ³¨ ğŸ’›ã€æ”¶è— ğŸ’šï¼‰ï¼ï¼ï¼æ‚¨çš„æ”¯æŒ ğŸ’–ğŸ’–ğŸ’– å°†æ¿€åŠ± ğŸ”¥ åšä¸»è¾“å‡ºæ›´å¤šä¼˜è´¨å†…å®¹ï¼ï¼ï¼</p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4> 
  <center>
    Flink å†…å­˜ç®¡ç†ï¼ˆå››ï¼‰ï¼šTaskManager å†…å­˜åˆ†é…ï¼ˆå®æˆ˜ç¯‡ï¼‰ 
  </center></h4> 
 <ul><li><a href="#1_Total_Process_Size_17" rel="nofollow">1.å•ç‹¬åˆ†é… Total Process Size</a></li><li><a href="#2_Total_Flink_Size_42" rel="nofollow">2.å•ç‹¬åˆ†é… Total Flink Size</a></li><li><a href="#3_Heap_Size__Managed_Memory_63" rel="nofollow">3.å•ç‹¬åˆ†é… Heap Size &amp;&amp; Managed Memory</a></li><li><a href="#4_Total_Process_Size__Heap_Size__Managed_Memory_83" rel="nofollow">4.åˆ†é… Total Process Size å’Œ Heap Size &amp;&amp; Managed Memory</a></li><li><a href="#5_Total_Flink_Size__Heap_Size__Managed_Memory_104" rel="nofollow">5.åˆ†é… Total Flink Size å’Œ Heap Size &amp;&amp; Managed Memory</a></li><li><a href="#6_126" rel="nofollow">6.å†…å­˜åˆ†é…å°ç»“</a></li></ul> 
</div> 
<p></p> 
<p>åœ¨ ã€Š<a href="https://blog.csdn.net/be_racle/article/details/136263713">Flink å†…å­˜ç®¡ç†ï¼ˆä¸€ï¼‰ï¼šè®¾ç½® Flink è¿›ç¨‹å†…å­˜</a>ã€‹ä¸­æˆ‘ä»¬æåˆ°ï¼Œå¿…é¡»ä½¿ç”¨ä¸‹è¿°ä¸‰ç§æ–¹æ³•ä¹‹ä¸€é…ç½® Flink çš„å†…å­˜ï¼ˆæœ¬åœ°æ‰§è¡Œé™¤å¤–ï¼‰ï¼Œå¦åˆ™ Flink å¯åŠ¨å°†å¤±è´¥ã€‚è¿™æ„å‘³ç€å¿…é¡»æ˜ç¡®é…ç½®ä»¥ä¸‹é€‰é¡¹å­é›†ä¹‹ä¸€ï¼Œè¿™äº›å­é›†æ²¡æœ‰é»˜è®¤å€¼ã€‚</p> 
<table><thead><tr><th>åºå·</th><th>for TaskManager</th><th>for JobManager</th></tr></thead><tbody><tr><td>1ï¸âƒ£</td><td><code>taskmanager.memory.flink.size</code></td><td><code>jobmanager.memory.flink.size</code></td></tr><tr><td>2ï¸âƒ£</td><td><code>taskmanager.memory.process.size</code></td><td><code>jobmanager.memory.process.size</code></td></tr><tr><td>3ï¸âƒ£</td><td><code>taskmanager.memory.task.heap.size</code> å’Œ <code>taskmanager.memory.managed.size</code></td><td><code>jobmanager.memory.heap.size</code></td></tr></tbody></table> 
<h2><a id="1_Total_Process_Size_17"></a>1.å•ç‹¬åˆ†é… Total Process Size</h2> 
<p>å•ç‹¬åˆ†é… <code>Total Process Size</code>ï¼Œå…¶å®ƒçš„ç»„ä»¶éƒ½ä¼šè‡ªåŠ¨åˆ†é…ã€‚</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">taskmanager.memory.process.size</span><span class="token punctuation">:</span> 2000m
</code></pre> 
<p><img src="https://images2.imgbox.com/cd/61/kquBdg5G_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>å†…å­˜åˆ†é…æ­¥éª¤å¦‚ä¸‹ï¼š</p> 
<ul><li>é¦–å…ˆ <code>Total Process Size</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          2000 
         
        
          M 
         
        
       
         = 2000M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">2000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li>å› ä¸ºæ²¡æœ‰æ˜¾ç¤ºåˆ†é…ç»„ä»¶ä¸­çš„ä»»ä½•å‚æ•°ï¼Œæ‰€ä»¥ <code>JVM Overhead</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          2000 
         
        
          M 
         
        
          Ã— 
         
        
          0.1 
         
        
          = 
         
        
          200 
         
        
          M 
         
        
       
         = 2000M Ã— 0.1 = 200M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">2000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">200</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>JVM Metaspace</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          256 
         
        
          M 
         
        
       
         = 256M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">256</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li>â­ æ‰€ä»¥ <code>Native Memory</code> = <code>JVM Overhead</code> + <code>JVM Metaspace</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          456 
         
        
          M 
         
        
       
         = 456M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">456</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>Total Flink Size</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          2000 
         
        
          M 
         
        
          âˆ’ 
         
        
          200 
         
        
          M 
         
        
          âˆ’ 
         
        
          256 
         
        
          M 
         
        
          = 
         
        
          1544 
         
        
          M 
         
        
          B 
         
        
          = 
         
        
          1.508 
         
        
          G 
         
        
          B 
         
        
       
         = 2000M - 200M - 256M = 1544MB = 1.508GB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">2000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">200</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">256</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1544</span><span class="mord mathnormal" style="margin-right: 0.0502em;">MB</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1.508</span><span class="mord mathnormal" style="margin-right: 0.0502em;">GB</span></span></span></span></span></li><li><code>Network Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          1544 
         
        
          Ã— 
         
        
          0.1 
         
        
          = 
         
        
          154.4 
         
        
          M 
         
        
       
         = 1544 Ã— 0.1 = 154.4M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">1544</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">154.4</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>Task Off-Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
       
         = 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span></span></span></span></span> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0 
         
        
          M 
         
        
          B 
         
        
       
         0MB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0</span><span class="mord mathnormal" style="margin-right: 0.0502em;">MB</span></span></span></span></span>ï¼ˆé»˜è®¤ï¼‰</li><li><code>Framework Off-Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
       
         = 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span></span></span></span></span> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          128 
         
        
          M 
         
        
       
         128M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼ˆé»˜è®¤ï¼‰</li><li>â­ æ‰€ä»¥ <code>Total Direct Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          154.4 
         
        
          M 
         
        
          + 
         
        
          0 
         
        
          + 
         
        
          128 
         
        
          M 
         
        
          = 
         
        
          282.4 
         
        
          M 
         
        
       
         = 154.4M + 0 + 128M = 282.4M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">154.4</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">282.4</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>Managed Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          1544 
         
        
          M 
         
        
          B 
         
        
          Ã— 
         
        
          0.4 
         
        
          = 
         
        
          617.6 
         
        
          M 
         
        
       
         = 1544MB Ã— 0.4 = 617.6M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">1544</span><span class="mord mathnormal" style="margin-right: 0.0502em;">MB</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.4</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">617.6</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>Total JVM Heap Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          1544 
         
        
          M 
         
        
          âˆ’ 
         
        
          282.4 
         
        
          M 
         
        
          âˆ’ 
         
        
          617.6 
         
        
          M 
         
        
          = 
         
        
          644 
         
        
          M 
         
        
          B 
         
        
       
         = 1544M - 282.4M - 617.6M = 644MB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">1544</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">282.4</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">617.6</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">644</span><span class="mord mathnormal" style="margin-right: 0.0502em;">MB</span></span></span></span></span></li><li><code>Framework Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          128 
         
        
          M 
         
        
       
         = 128M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>Task Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          644 
         
        
          M 
         
        
          âˆ’ 
         
        
          128 
         
        
          M 
         
        
          = 
         
        
          516 
         
        
          M 
         
        
       
         = 644M - 128M = 516M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">644</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">516</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li></ul> 
<p>å¯ä»¥ä¸ä»¥ä¸‹çš„æ—¥å¿—è¿›è¡Œå¯¹æ¯”ï¼Œå®Œå…¨èƒ½å¯¹ä¸Šï¼ŒğŸ˜ğŸ˜ğŸ˜ï¼</p> 
<p><img src="https://images2.imgbox.com/92/f4/qdbh8yx3_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="2_Total_Flink_Size_42"></a>2.å•ç‹¬åˆ†é… Total Flink Size</h2> 
<pre><code class="prism language-yaml"><span class="token key atrule">taskmanager.memory.flink.size</span><span class="token punctuation">:</span> 2000m
</code></pre> 
<p>å‡å¦‚ç›´æ¥åªåˆ†é… <code>taskmanager.memory.flink.size: 2000m</code></p> 
<ul><li><code>Total Flink Size</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          2000 
         
        
          M 
         
        
       
         = 2000M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">2000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>Managed Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          2000 
         
        
          M 
         
        
          Ã— 
         
        
          0.4 
         
        
          = 
         
        
          800 
         
        
          M 
         
        
       
         = 2000M Ã— 0.4 = 800M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">2000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.4</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">800</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>NetWork Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          2000 
         
        
          M 
         
        
          Ã— 
         
        
          0.1 
         
        
          = 
         
        
          200 
         
        
          M 
         
        
       
         = 2000M Ã— 0.1 = 200M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">2000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">200</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>Framework Off-Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          128 
         
        
          M 
         
        
       
         = 128M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>Task Off-Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          0 
         
        
          B 
         
        
          y 
         
        
          t 
         
        
          e 
         
        
          = 
         
        
          0 
         
        
          M 
         
        
       
         = 0Byte = 0M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8778em; vertical-align: -0.1944em;"></span><span class="mord">0</span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li>â­ æ‰€ä»¥ <code>Total Direct Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          200 
         
        
          M 
         
        
          + 
         
        
          128 
         
        
          M 
         
        
          + 
         
        
          0 
         
        
          M 
         
        
          = 
         
        
          328 
         
        
          M 
         
        
       
         = 200M + 128M + 0M= 328M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">200</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">328</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>Total Off-Heap Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          800 
         
        
          M 
         
        
          + 
         
        
          328 
         
        
          M 
         
        
          = 
         
        
          1128 
         
        
          M 
         
        
       
         = 800M + 328M = 1128M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">800</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">328</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>Total JVM Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          2000 
         
        
          M 
         
        
          âˆ’ 
         
        
          800 
         
        
          M 
         
        
          âˆ’ 
         
        
          328 
         
        
          M 
         
        
          = 
         
        
          872 
         
        
          M 
         
        
       
         = 2000M - 800M - 328M = 872M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">2000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">800</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">328</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">872</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>Framework Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          128 
         
        
          M 
         
        
       
         = 128M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>Task Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          872 
         
        
          M 
         
        
          âˆ’ 
         
        
          128 
         
        
          M 
         
        
          = 
         
        
          744 
         
        
          M 
         
        
       
         = 872M - 128M = 744M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">872</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">744</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>JVM MetaSpace</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          256 
         
        
          M 
         
        
       
         = 256M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">256</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼ˆé»˜è®¤ï¼‰</li><li><code>JVM Overhead</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          ( 
         
        
       
         = ( 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span></span></span></span></span><code>JVM Overhead</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          + 
         
        
          Â  
         
        
          256 
         
        
          M 
         
        
       
         +\ 256M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">+</span><span class="mspace">Â </span><span class="mord">256</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span> <code>Metaspace</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          + 
         
        
          Â  
         
        
          2000 
         
        
          M 
         
        
       
         +\ 2000M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">+</span><span class="mspace">Â </span><span class="mord">2000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span> <code>Total Flink Size</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          ) 
         
        
          Ã— 
         
        
          0.1 
         
        
       
         ) Ã— 0.1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.1</span></span></span></span></span>ï¼Œæ±‚è§£ <code>JVM Overhead</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          250.667 
         
        
          M 
         
        
       
         = 250.667M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">250.667</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span> åœ¨ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          192 
         
        
          M 
         
        
          B 
         
        
          ï½ 
         
        
          1 
         
        
          G 
         
        
          B 
         
        
       
         192MB ï½ 1GB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">192</span><span class="mord mathnormal" style="margin-right: 0.0502em;">MB</span><span class="mord cjk_fallback">ï½</span><span class="mord">1</span><span class="mord mathnormal" style="margin-right: 0.0502em;">GB</span></span></span></span></span>ï¼Œç”Ÿæ•ˆ</li><li><code>Total Process Size</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          2000 
         
        
          M 
         
        
          + 
         
        
          256 
         
        
          M 
         
        
          + 
         
        
          250.667 
         
        
          M 
         
        
          = 
         
        
          2506.667 
         
        
          M 
         
        
          = 
         
        
          2.448 
         
        
          G 
         
        
          B 
         
        
       
         = 2000M + 256M + 250.667M = 2506.667M = 2.448GB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">2000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">256</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">250.667</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">2506.667</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">2.448</span><span class="mord mathnormal" style="margin-right: 0.0502em;">GB</span></span></span></span></span></li></ul> 
<p><img src="https://images2.imgbox.com/e9/c7/wAG090KM_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="3_Heap_Size__Managed_Memory_63"></a>3.å•ç‹¬åˆ†é… Heap Size &amp;&amp; Managed Memory</h2> 
<pre><code class="prism language-yaml"><span class="token key atrule">taskmanager.memory.task.heap.size</span><span class="token punctuation">:</span> 1000m
<span class="token key atrule">taskmanager.memory.managed.size</span><span class="token punctuation">:</span> 1000m
</code></pre> 
<ul><li><code>Framework Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          128 
         
        
          M 
         
        
       
         = 128M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼ˆé»˜è®¤ï¼‰</li><li><code>Task Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          1000 
         
        
          M 
         
        
       
         = 1000M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼ˆé…ç½®ï¼‰</li><li><code>Total JVM Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          1000 
         
        
          M 
         
        
          + 
         
        
          128 
         
        
          M 
         
        
          = 
         
        
          1128 
         
        
          M 
         
        
          = 
         
        
          1.102 
         
        
          G 
         
        
          B 
         
        
       
         = 1000M + 128M = 1128M = 1.102GB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">1000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1.102</span><span class="mord mathnormal" style="margin-right: 0.0502em;">GB</span></span></span></span></span></li><li><code>Managed Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          1000 
         
        
          M 
         
        
       
         = 1000M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼ˆé…ç½®ï¼‰</li><li><code>Framework Off-Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          128 
         
        
          M 
         
        
       
         = 128M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>Task Off-Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          0 
         
        
          M 
         
        
       
         = 0M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>NetWork</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
       
         = 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span></span></span></span></span> <code>Total Flink Size</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          Ã— 
         
        
          Â  
         
        
          0.1 
         
        
       
         Ã—\ 0.1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">Ã—</span><span class="mspace">Â </span><span class="mord">0.1</span></span></span></span></span> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          ( 
         
        
       
         = ( 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span></span></span></span></span><code>NetWork</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          + 
         
        
          Â  
         
        
          1128 
         
        
          M 
         
        
          + 
         
        
          1000 
         
        
          M 
         
        
          + 
         
        
          128 
         
        
          M 
         
        
          + 
         
        
          0 
         
        
          M 
         
        
          ) 
         
        
          Ã— 
         
        
          0.1 
         
        
       
         +\ 1128M + 1000M + 128M + 0M) Ã— 0.1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">+</span><span class="mspace">Â </span><span class="mord">1128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">1000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">0</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.1</span></span></span></span></span>ï¼Œè®¡ç®—å¾—åˆ° <code>Network</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          250.667 
         
        
          M 
         
        
          B 
         
        
       
         = 250.667MB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">250.667</span><span class="mord mathnormal" style="margin-right: 0.0502em;">MB</span></span></span></span></span>ï¼Œå¤„äº <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          64 
         
        
          M 
         
        
          B 
         
        
          ï½ 
         
        
          1 
         
        
          G 
         
        
          B 
         
        
       
         64MB ï½ 1GB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">64</span><span class="mord mathnormal" style="margin-right: 0.0502em;">MB</span><span class="mord cjk_fallback">ï½</span><span class="mord">1</span><span class="mord mathnormal" style="margin-right: 0.0502em;">GB</span></span></span></span></span>ï¼Œæœ‰æ•ˆ</li><li>â­ æ‰€ä»¥ <code>Total Direct Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          128 
         
        
          M 
         
        
          + 
         
        
          250.667 
         
        
          M 
         
        
          = 
         
        
          378.667 
         
        
          M 
         
        
       
         = 128M + 250.667M = 378.667M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">250.667</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">378.667</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>Total Flink Size</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          1128 
         
        
          M 
         
        
          + 
         
        
          1378.667 
         
        
          M 
         
        
          = 
         
        
          2506.667 
         
        
          M 
         
        
          = 
         
        
          2.448 
         
        
          G 
         
        
          B 
         
        
       
         = 1128M + 1378.667M = 2506.667M = 2.448GB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">1128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1378.667</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">2506.667</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">2.448</span><span class="mord mathnormal" style="margin-right: 0.0502em;">GB</span></span></span></span></span></li><li><code>JVM Metaspace</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          256 
         
        
          M 
         
        
       
         = 256M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">256</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼ˆé»˜è®¤ï¼‰</li><li><code>JVM Overhead</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          ( 
         
        
       
         = ( 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span></span></span></span></span><code>JVM Overhead</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          + 
         
        
          Â  
         
        
          1128 
         
        
          M 
         
        
          + 
         
        
          1000 
         
        
          M 
         
        
          + 
         
        
          378.667 
         
        
          M 
         
        
          + 
         
        
          256 
         
        
          M 
         
        
          ) 
         
        
          Ã— 
         
        
          0.1 
         
        
          = 
         
        
          306.963 
         
        
          M 
         
        
       
         +\ 1128M + 1000M + 378.667M + 256M) Ã— 0.1 = 306.963M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">+</span><span class="mspace">Â </span><span class="mord">1128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">1000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">378.667</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">256</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">306.963</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼Œå¤„äº <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          192 
         
        
          M 
         
        
          ï½ 
         
        
          1 
         
        
          G 
         
        
          B 
         
        
       
         192M ï½ 1GB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">192</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mord cjk_fallback">ï½</span><span class="mord">1</span><span class="mord mathnormal" style="margin-right: 0.0502em;">GB</span></span></span></span></span>ï¼Œæœ‰æ•ˆ</li><li><code>Total Process Size</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          2506.667 
         
        
          M 
         
        
          + 
         
        
          256 
         
        
          M 
         
        
          + 
         
        
          306.963 
         
        
          M 
         
        
          = 
         
        
          3069.63 
         
        
          M 
         
        
          = 
         
        
          2.998 
         
        
          G 
         
        
       
         = 2506.667M + 256M + 306.963M = 3069.63M = 2.998G 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">2506.667</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">256</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">306.963</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">3069.63</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">2.998</span><span class="mord mathnormal">G</span></span></span></span></span></li></ul> 
<p><img src="https://images2.imgbox.com/da/8f/A1ZTwWyq_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="4_Total_Process_Size__Heap_Size__Managed_Memory_83"></a>4.åˆ†é… Total Process Size å’Œ Heap Size &amp;&amp; Managed Memory</h2> 
<p>æŒ‡å®š <code>Total Process Size</code>ï¼ŒåŒæ—¶æ˜¾å¼åˆ†é…ç»„ä»¶ <code>JVM Heap</code> å’Œ <code>Mamaged Memory</code>ã€‚</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">taskmanager.memory.process.size</span><span class="token punctuation">:</span> 3000m
<span class="token key atrule">taskmanager.memory.task.heap.size</span><span class="token punctuation">:</span> 1000m
<span class="token key atrule">taskmanager.memory.managed.size</span><span class="token punctuation">:</span> 1000m
</code></pre> 
<ul><li><code>Total Process Size</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          3000 
         
        
          M 
         
        
       
         = 3000M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">3000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>Framework Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          128 
         
        
          M 
         
        
       
         = 128M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼ˆé»˜è®¤ï¼‰</li><li><code>Task Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          1000 
         
        
          M 
         
        
       
         = 1000M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼ˆé…ç½®ï¼‰</li><li><code>Total JVM Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
       
         = 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span></span></span></span></span> <code>Framework Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          + 
         
        
       
         + 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord">+</span></span></span></span></span> <code>Task Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          128 
         
        
          M 
         
        
          + 
         
        
          1000 
         
        
          M 
         
        
          = 
         
        
          1128 
         
        
          M 
         
        
          = 
         
        
          1.102 
         
        
          G 
         
        
       
         = 128M + 1000M = 1128M = 1.102G 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1.102</span><span class="mord mathnormal">G</span></span></span></span></span></li><li><code>Managed Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          1000 
         
        
          M 
         
        
       
         = 1000M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼ˆé…ç½®ï¼‰</li><li><code>Framework Off-Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          128 
         
        
          M 
         
        
       
         = 128M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼ˆé»˜è®¤ï¼‰</li><li><code>Task Off-Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          0 
         
        
          M 
         
        
       
         = 0M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼ˆé»˜è®¤ï¼‰</li><li><code>Network Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          ( 
         
        
       
         = ( 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span></span></span></span></span><code>Network Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          + 
         
        
          Â  
         
        
          1128 
         
        
          M 
         
        
          + 
         
        
          1128 
         
        
          M 
         
        
          ) 
         
        
          Ã— 
         
        
          0.1 
         
        
          = 
         
        
          250.667 
         
        
          M 
         
        
       
         +\ 1128M + 1128M) Ã— 0.1 = 250.667M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">+</span><span class="mspace">Â </span><span class="mord">1128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">250.667</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼Œåœ¨ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          64 
         
        
          M 
         
        
          ï½ 
         
        
          1 
         
        
          G 
         
        
          B 
         
        
       
         64M ï½ 1GB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">64</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mord cjk_fallback">ï½</span><span class="mord">1</span><span class="mord mathnormal" style="margin-right: 0.0502em;">GB</span></span></span></span></span> ä¹‹é—´ï¼Œæ»¡è¶³è¦æ±‚</li><li><code>Total Off-Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          1000 
         
        
          M 
         
        
          + 
         
        
          128 
         
        
          M 
         
        
          + 
         
        
          250.667 
         
        
          M 
         
        
          + 
         
        
          0 
         
        
          M 
         
        
          = 
         
        
          1378.667 
         
        
          M 
         
        
          = 
         
        
          1.346 
         
        
          G 
         
        
          B 
         
        
       
         = 1000M + 128M + 250.667M + 0M = 1378.667M = 1.346GB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">1000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">250.667</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1378.667</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1.346</span><span class="mord mathnormal" style="margin-right: 0.0502em;">GB</span></span></span></span></span></li><li><code>Total Flink Size</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          1128 
         
        
          M 
         
        
          + 
         
        
          1378.667 
         
        
          M 
         
        
          = 
         
        
          2506.667 
         
        
          M 
         
        
          = 
         
        
          2.448 
         
        
          G 
         
        
          B 
         
        
       
         = 1128M + 1378.667M = 2506.667M = 2.448GB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">1128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1378.667</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">2506.667</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">2.448</span><span class="mord mathnormal" style="margin-right: 0.0502em;">GB</span></span></span></span></span></li><li><code>JVM Metaspace</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          256 
         
        
          M 
         
        
       
         = 256M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">256</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>JVM Overhead</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          3000 
         
        
          M 
         
        
          âˆ’ 
         
        
          2506.667 
         
        
          M 
         
        
          âˆ’ 
         
        
          256 
         
        
          M 
         
        
          = 
         
        
          237.333 
         
        
          M 
         
        
       
         = 3000M - 2506.667M - 256M = 237.333M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">3000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">2506.667</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">256</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">237.333</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼Œåœ¨ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          192 
         
        
          M 
         
        
          ï½ 
         
        
          1 
         
        
          G 
         
        
          B 
         
        
       
         192M ï½ 1GB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">192</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mord cjk_fallback">ï½</span><span class="mord">1</span><span class="mord mathnormal" style="margin-right: 0.0502em;">GB</span></span></span></span></span> ä¹‹é—´ï¼Œæ»¡è¶³è¦æ±‚</li></ul> 
<p><img src="https://images2.imgbox.com/72/03/j9WhHfhu_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="5_Total_Flink_Size__Heap_Size__Managed_Memory_104"></a>5.åˆ†é… Total Flink Size å’Œ Heap Size &amp;&amp; Managed Memory</h2> 
<p>æŒ‡å®š <code>Total Flink Size</code>ï¼ŒåŒæ—¶æ˜¾å¼åˆ†é…ç»„ä»¶ <code>JVM Heap</code> å’Œ <code>Mamaged Memory</code>ã€‚</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">taskmanager.memory.flink.size</span><span class="token punctuation">:</span> 3000m
<span class="token key atrule">taskmanager.memory.task.heap.size</span><span class="token punctuation">:</span> 1000m
<span class="token key atrule">taskmanager.memory.managed.size</span><span class="token punctuation">:</span> 1000m
</code></pre> 
<ul><li><code>Total Flink Size</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          3000 
         
        
          M 
         
        
          = 
         
        
          2.93 
         
        
          G 
         
        
          B 
         
        
       
         = 3000M = 2.93GB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">3000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">2.93</span><span class="mord mathnormal" style="margin-right: 0.0502em;">GB</span></span></span></span></span>ï¼ˆé…ç½®ï¼‰</li><li><code>Managed Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          1000 
         
        
          M 
         
        
       
         = 1000M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼ˆé…ç½®ï¼‰</li><li><code>Task Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          1000 
         
        
          M 
         
        
       
         = 1000M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼ˆé…ç½®ï¼‰</li><li><code>Framework Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          128 
         
        
          M 
         
        
       
         = 128M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼ˆé»˜è®¤ï¼‰</li><li><code>Total JVM Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
       
         = 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span></span></span></span></span> <code>Framework Heap</code> + <code>Task Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          128 
         
        
          M 
         
        
          + 
         
        
          1000 
         
        
          M 
         
        
          = 
         
        
          1128 
         
        
          M 
         
        
       
         = 128M + 1000M =1128M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>Total Off-Heap Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          3000 
         
        
          M 
         
        
          âˆ’ 
         
        
          1128 
         
        
          M 
         
        
          = 
         
        
          1872 
         
        
          M 
         
        
          = 
         
        
          1.828 
         
        
          G 
         
        
          B 
         
        
       
         = 3000M - 1128M = 1872M = 1.828GB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">3000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1872</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1.828</span><span class="mord mathnormal" style="margin-right: 0.0502em;">GB</span></span></span></span></span></li><li><code>Direct Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
       
         = 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span></span></span></span></span> <code>Total Off-Heap Memory</code> - <code>Managed Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          1872 
         
        
          M 
         
        
          âˆ’ 
         
        
          1000 
         
        
          M 
         
        
          = 
         
        
          872 
         
        
          M 
         
        
       
         = 1872M - 1000M = 872M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">1872</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">872</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>Task Off-Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          0 
         
        
          M 
         
        
       
         = 0M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼ˆé»˜è®¤ï¼‰</li><li><code>Framework Off-Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          128 
         
        
          M 
         
        
       
         = 128M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼ˆé»˜è®¤ï¼‰</li><li><code>Network Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
       
         = 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span></span></span></span></span> <code>Direct Memory</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          âˆ’ 
         
        
       
         - 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord">âˆ’</span></span></span></span></span> <code>Task Off-Heap</code> - <code>Framework Off-Heap</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          872 
         
        
          M 
         
        
          âˆ’ 
         
        
          0 
         
        
          M 
         
        
          âˆ’ 
         
        
          128 
         
        
          M 
         
        
          = 
         
        
          744 
         
        
          M 
         
        
       
         = 872M - 0M - 128M = 744M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">872</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">0</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">744</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span></li><li><code>JVM Metaspace</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          256 
         
        
          M 
         
        
       
         = 256M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">256</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼ˆé»˜è®¤ï¼‰</li><li><code>JVM Overhead</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          ( 
         
        
       
         = ( 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span></span></span></span></span><code>JVM Overhead</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          + 
         
        
          Â  
         
        
          3000 
         
        
          M 
         
        
          + 
         
        
          256 
         
        
          M 
         
        
          ) 
         
        
          Ã— 
         
        
          0.1 
         
        
       
         +\ 3000M + 256M) Ã— 0.1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">+</span><span class="mspace">Â </span><span class="mord">3000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">256</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.1</span></span></span></span></span>ï¼Œè®¡ç®—å¾—åˆ° <code>JVM Overhead</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          361.778 
         
        
          M 
         
        
       
         = 361.778M 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">361.778</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>ï¼Œå¤„äº <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          192 
         
        
          M 
         
        
          ï½ 
         
        
          1 
         
        
          G 
         
        
       
         192Mï½1G 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">192</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mord cjk_fallback">ï½</span><span class="mord">1</span><span class="mord mathnormal">G</span></span></span></span></span> ä¹‹é—´ï¼Œç¬¦åˆæ¡ä»¶</li><li><code>Total Process Size</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          = 
         
        
          3000 
         
        
          M 
         
        
          + 
         
        
          256 
         
        
          M 
         
        
          + 
         
        
          361.778 
         
        
          M 
         
        
          = 
         
        
          3617.778 
         
        
          M 
         
        
          = 
         
        
          3.533 
         
        
          G 
         
        
          B 
         
        
       
         = 3000M + 256M + 361.778M = 3617.778M = 3.533GB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">3000</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">256</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">361.778</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">3617.778</span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">3.533</span><span class="mord mathnormal" style="margin-right: 0.0502em;">GB</span></span></span></span></span></li></ul> 
<p><img src="https://images2.imgbox.com/83/1c/rC6AUERr_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="6_126"></a>6.å†…å­˜åˆ†é…å°ç»“</h2> 
<p>åœ¨ Flink çš„é›†ç¾¤å†…å­˜åˆ†é…çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¤§è‡´å¯ä»¥é€šè¿‡ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         3 
        
       
      
        3 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">3</span></span></span></span></span> ç§æ–¹å¼è¿›è¡Œåˆ†é…ã€‚</p> 
<ul><li>æŒ‡å®š <code>Total Process Size</code> æˆ– <code>Total Flink Size</code>ï¼Œå–å†³äºä½ ç”¨ä»€ä¹ˆæ–¹å¼éƒ¨ç½²ã€‚</li><li>å•ç‹¬æŒ‡å®šæŸä¸ªç»„ä»¶ï¼Œæ¯”å¦‚ <code>Task-Heap</code> çš„å¤§å°ï¼Œå…¶å®ƒçš„ç»„ä»¶éƒ½ä¼šè¢«æ¨å¯¼å‡ºæ¥ã€‚</li><li>æŒ‡å®š <code>Total Process / Flink Size</code> &amp;&amp; <code>Heap</code> or <code>Off-Heap</code> å…¶ä¸­ä¹‹ä¸€ï¼Œå…¶å®ƒçš„ç»„ä»¶é€šè¿‡é»˜è®¤å€¼è¿›è¡Œå¡«å……æˆ–è€…è¿›æ¨å¯¼ï¼Œå¦‚ï¼š 
  <ul><li><code>Total Flink Size</code> = <code>Total Heap Size</code> + <code>Total Off-Heap Size</code></li><li><code>Total Heap Size</code> = <code>Task Heap</code> + <code>Framework Heap</code></li><li><code>Total Off-Heap</code> = <code>Task Off-Heap</code> + <code>Framework Off-Heap</code> + <code>Network Memory</code> + <code>Managed Memory</code></li><li><code>Network</code> = <code>Total Flink Size</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            Ã— 
           
          
            Â  
           
          
            0.1 
           
          
         
           Ã—\ 0.1 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">Ã—</span><span class="mspace">Â </span><span class="mord">0.1</span></span></span></span></span>ï¼ˆæ²¡æœ‰æŒ‡å®šå…¶å®ƒç»„ä»¶æƒ…å†µä¸‹ï¼‰</li><li><code>JVM Overhead</code> = <code>Total Process Size</code> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            Ã— 
           
          
            Â  
           
          
            0.1 
           
          
         
           Ã—\ 0.1 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">Ã—</span><span class="mspace">Â </span><span class="mord">0.1</span></span></span></span></span>ï¼ˆæ²¡æœ‰æŒ‡å®šå…¶å®ƒç»„ä»¶æƒ…å†µä¸‹ï¼‰</li><li>â€¦ â€¦</li></ul> </li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f2c06045c4162b8e93a829516b48e36e/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">AveragePooling1Då±‚ å’Œ MaxPooling1D layer</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/79d04919bf8109b39cfebfc821738d45/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">å†™PPTå¿ƒå¾—</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹é¬¼è°·å­çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>