<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ubuntu下postgreSQL安装配置 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ubuntu下postgreSQL安装配置" />
<meta property="og:description" content="一、安装并配置，并设置远程登陆的用户名和密码
1、安装postgreSQL
sudo apt-get update
sudo apt-get install postgresql-9.4
在Ubuntu下安装Postgresql后，会自动注册为服务，并随操作系统自动启动。在Ubuntu下安装Postgresql后，会自动添加一个名为postgres的操作系统用户，密码是随机的。并且会自动生成一个名字为postgres的数据库，用户名也为postgres，密码也是随机的。 2、修改postgres数据库用户的密码为123456
打开客户端工具（psql）
sudo -u postgres psql
其中，sudo -u postgres 是使用postgres 用户登录的意思PostgreSQL数据默认会创建一个postgres的数据库用户作为数据库的管理员，密码是随机的 postgres=# ALTER USER postgres WITH PASSWORD &#39;123456&#39;; postgres=#为PostgreSQL下的命令提示符，--注意最后的分号； 3、退出PostgreSQL psql客户端
postgres=# \q
4、修改ubuntu操作系统的postgres用户的密码（密码要与数据库用户postgres的密码相同）
切换到root用户
su root
删除PostgreSQL用户密码
sudo passwd -d postgres
passwd -d 是清空指定用户密码的意思 设置PostgreSQL系统用户的密码
sudo -u postgres passwd
按照提示，输入两次新密码
输入新的 UNIX 密码重新输入新的 UNIX 密码passwd：已成功更新密码 5、修改PostgresSQL数据库配置实现远程访问
vi /etc/postgresql/9.4/main/postgresql.conf
1.监听任何地址访问，修改连接权限
#listen_addresses = &#39;localhost&#39; 改为 listen_addresses = &#39;*&#39;
2.启用密码验证
#password_encryption = on 改为 password_encryption = on" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/520dd2f61f6795197e6ddb1a566e794d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-05-06T10:15:00+08:00" />
<meta property="article:modified_time" content="2016-05-06T10:15:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ubuntu下postgreSQL安装配置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <p><span style="font-size:16px;"><strong>一、安装并配置，并设置远程登陆的用户名和密码</strong></span></p> 
 <p>1、安装postgreSQL</p> 
 <p lang="en-us"><strong>sudo apt-get update</strong></p> 
 <p><strong>sudo apt-get install postgresql-9.4</strong></p> 
 <ul><li>在Ubuntu下安装Postgresql后，会自动注册为服务，并随操作系统自动启动。</li><li>在Ubuntu下安装Postgresql后，会自动添加一个名为postgres的操作系统用户，密码是随机的。并且会自动生成一个名字为postgres的数据库，用户名也为postgres，密码也是随机的。</li></ul> 
 <p>2、修改postgres数据库用户的密码为123456</p> 
 <p>打开客户端工具（psql）</p> 
 <p><strong>sudo -u postgres psql</strong></p> 
 <ul><li>其中，sudo -u postgres 是使用postgres 用户登录的意思</li><li>PostgreSQL数据默认会创建一个postgres的数据库用户作为数据库的管理员，密码是随机的</li></ul> 
 <p><strong>postgres=# ALTER USER postgres WITH PASSWORD '123456'; </strong></p> 
 <ul><li>postgres=#为PostgreSQL下的命令提示符，--注意最后的分号；</li></ul> 
 <p lang="en-us">3、退出PostgreSQL psql客户端</p> 
 <p><strong>postgres=# \q</strong></p> 
 <p lang="en-us">4、修改ubuntu操作系统的postgres用户的密码（密码要与数据库用户postgres的密码相同）</p> 
 <p>切换到root用户</p> 
 <p lang="en-us">su root</p> 
 <p>删除PostgreSQL用户密码</p> 
 <p><strong>sudo passwd -d postgres</strong></p> 
 <ul><li>passwd -d 是清空指定用户密码的意思</li></ul> 
 <p>设置PostgreSQL系统用户的密码</p> 
 <p><strong>sudo -u postgres passwd</strong></p> 
 <p>按照提示，输入两次新密码</p> 
 <ul><li>输入新的 UNIX 密码</li><li>重新输入新的 UNIX 密码</li><li>passwd：已成功更新密码</li></ul> 
 <p lang="en-us">5、修改PostgresSQL数据库配置实现远程访问</p> 
 <p><strong>vi /etc/postgresql/9.4/main/postgresql.conf</strong></p> 
 <p>1.监听任何地址访问，修改连接权限</p> 
 <p><strong>#listen_addresses = 'localhost' 改为 listen_addresses = '*'</strong></p> 
 <p>2.启用密码验证</p> 
 <p><strong>#password_encryption = on 改为 password_encryption = on</strong></p> 
 <p><strong>vi /etc/postgresql/9.4/main/pg_hba.conf</strong></p> 
 <p>在文档末尾加上以下内容</p> 
 <p><strong>host all all 0.0.0.0 0.0.0.0 md5</strong></p> 
 <p>6、重启服务</p> 
 <p><strong>/etc/init.d/postgresql restart</strong></p> 
 <p>7、5432端口的防火墙设置</p> 
 <p>5432为postgreSQL默认的端口</p> 
 <p><strong>iptables -A INPUT -p tcp -m state --state NEW -m tcp --dport 5432 -j ACCEPT</strong></p> 
 <p><strong><span style="font-size:16px;">二、内部登录，管理数据库、新建数据库、用户和密码</span></strong></p> 
 <p lang="en-us">1、登录postgre SQL数据库</p> 
 <p><strong>psql -U postgres -h 127.0.0.1</strong></p> 
 <p lang="en-us">2、创建新用户zhangps，但不给建数据库的权限</p> 
 <p><strong>postgres=# create user "zhangps" with password '123456' nocreatedb;</strong></p> 
 <ul><li>用户名处是双引号</li></ul> 
 <p lang="en-us">3、建立数据库，并指定所有者</p> 
 <p><strong><strong>postgres=#</strong>create database "testdb" with owner = "zhangps";</strong></p> 
 <p><span style="font-size:16px;"><strong>三、外部登录，管理数据库、新建数据库、用户和密码</strong></span></p> 
 <p>1、在外部命令行的管理命令，创建用户pencil</p> 
 <p><strong>sudo -u postgres createuser -D -P pencil</strong></p> 
 <ul><li>输入新的密码:</li><li>再次输入新的密码:</li></ul> 
 <p>2、建立数据库(tempdb)，并指定所有者为（pencil）</p> 
 <p><strong>sudo -u postgres createdb -O pencil tempdb</strong></p> 
 <ul><li>-O设定所有者为pencil</li></ul> 
 <p>参考：http://blog.sina.com.cn/s/blog_6af33caa0100ypck.html</p> 
</div> 
<p>转载于:https://www.cnblogs.com/zhangpengshou/p/5464610.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1b1de01d67d92964e9d5f5c7923d8da2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">opengl版本更新和绘制方式</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6bca42b0ed09dc2fc76318668a82e8df/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">霍夫变换(Hough)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>