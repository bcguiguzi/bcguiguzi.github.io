<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SOC设计：关于reset的细节 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SOC设计：关于reset的细节" />
<meta property="og:description" content="有如下几个信号
1、时钟：clk_top
2、总的reset信号：rstn_top
3、scan的reset信号：scan_rstn
4、软件复位信号：rstn_soft_sub
5、scan模式信号：scan_mode
6、reset bypass 信号：scan_rstn_sel
功能：
一：在非test模式时，也就是test_mode=1&#39;d0时，如果rstn_soft_sub=1，则rstn_top直接透传过去给reset_soft_block里的rstn,然后rstn再经过2拍同步处理，然后产生rstn_sub。这里涉及到了异步复位，同步释放知识点。
二：正常功能仿真时，scan_mode = 1&#39;d0 和scan_rstn_sel=0，直观点讲，rstn_sub是由rstn_top同步处理2拍后产生。
reset_soft_block u0_sub_rstn_gen (/*autoinst*/
.clk (clk_top ), // input .rstn0 (rstn_top ), // input .rstn1 (scan_rstn ), // input .rstn_soft (rstn_soft_sub ), // input .test_mode (scan_mode ), // input .rst_bypass (scan_rstn_sel ), // input .rstn_out (rstn_sub ) // output
);
reset_soft_block功能
module reset_soft_block (
clk,
rstn0,
rstn1,
rstn_soft,
test_mode,
rst_bypass,
rstn_out
);
input clk;
input rstn0;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/905c272aef79428558a679bb3a0c347a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-06T16:51:09+08:00" />
<meta property="article:modified_time" content="2024-03-06T16:51:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SOC设计：关于reset的细节</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>有如下几个信号</p> 
<p>1、时钟：clk_top</p> 
<p>2、总的reset信号：rstn_top</p> 
<p>3、scan的reset信号：scan_rstn</p> 
<p>4、软件复位信号：rstn_soft_sub</p> 
<p>5、scan模式信号：scan_mode</p> 
<p>6、reset bypass 信号：scan_rstn_sel</p> 
<p>功能：</p> 
<p>一：在非test模式时，也就是test_mode=1'd0时，如果rstn_soft_sub=1，则rstn_top直接透传过去给reset_soft_block里的rstn,然后rstn再经过2拍同步处理，然后产生rstn_sub。这里涉及到了异步复位，同步释放知识点。</p> 
<p>二：正常功能仿真时，scan_mode = 1'd0 和scan_rstn_sel=0，直观点讲，rstn_sub是由rstn_top同步处理2拍后产生。</p> 
<p>reset_soft_block u0_sub_rstn_gen (/*autoinst*/<br>     .clk                            (clk_top                                     ), // input  <br>     .rstn0                          (rstn_top                                    ), // input  <br>     .rstn1                          (scan_rstn                                  ), // input  <br>     .rstn_soft                      (rstn_soft_sub                            ), // input  <br>     .test_mode                      (scan_mode                                  ), // input  <br>     .rst_bypass                     (scan_rstn_sel                              ), // input  <br>     .rstn_out                       (rstn_sub                                )  // output<br>                 );<br>  </p> 
<p>reset_soft_block功能</p> 
<p>module reset_soft_block (<br>                 clk,<br>                 rstn0,<br>                 rstn1,<br>                 rstn_soft,<br>                 test_mode,<br>         rst_bypass,<br>                 rstn_out<br>         );</p> 
<p>input        clk;<br> input        rstn0;<br> input        rstn1;<br> input        rstn_soft;<br> input        test_mode;<br> input        rst_bypass;<br> output        rstn_out;</p> 
<p>wire        rstn;<br> wire        rstnsync;</p> 
<p>//assign rstn = rstn0 &amp; (rstn_soft | test_mode);<br> macro_oa21 C1 ( .b0(rstn0), .a0(rstn_soft), .a1(test_mode), .o(rstn) );</p> 
<p>resetsync u_rstn_sync (.clk(clk), .rstn(rstn), .rstnsync(rstnsync));</p> 
<p>macro_mux C2 ( .d0(rstnsync), .d1(rstn1), .s(rst_bypass), .o(rstn_out) );<br>  <br> endmodule</p> 
<p>module resetsync ( clk, rstn, rstnsync);<br> input        clk;<br> input        rstn;<br> output        rstnsync;</p> 
<p>wire        rstnsync1;</p> 
<p>macro_sdfr u_rstnsync1(.CK(clk), .D(rstn), .RB(rstn), .Q(rstnsync1));<br> macro_sdfr u_rstnsync2(.CK(clk), .D(rstnsync1), .RB(rstn), .Q(rstnsync));</p> 
<p>endmodule<br>  </p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/792123cc61e8b789f5236475e7eb81c8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">以太坊 EVM内交易执行分析（二）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a4d500c5b7a745029ee9d045ac3bd81f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">以太坊 EVM虚拟机框架分析</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>