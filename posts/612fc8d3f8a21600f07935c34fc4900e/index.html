<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux 部署ftp服务 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux 部署ftp服务" />
<meta property="og:description" content="文件传输协议（file Transfer Protocol，FTP），它工作在应用层，由客户端软件和服务端软件两个部分共同实现文件传输功能，使用 TCP 传输而不是 UDP， 客户在和服务器建立连接前要经过一个“三次握手”的过程， 保证客户与服务器之间的连接是可靠的， 而且是面向连接，为数据传输提供可靠保证。
ftp 主要使用20和21端口
20端口传输数据；21端口建立连接
主动模式： 服务器主动连接客户端传输
被动模式： 服务器等待客户端连接。
部署ftp服务器
1.查看是否安装过vsftp，没有就下载vsftp
[root@ansible_nfs ~]# rpm -q vsftpd 未安装软件包 vsftpd [root@ansible_nfs ~]# yum install -y vsftpd 已加载插件：fastestmirror Loading mirror speeds from cached hostfile * base: mirrors.aliyun.com * epel: mirrors.cqu.edu.cn * extras: mirrors.huaweicloud.com * updates: mirrors.huaweicloud.com 正在解决依赖关系 --&gt; 正在检查事务 ---&gt; 软件包 vsftpd.x86_64.0.3.0.2-29.el7_9 将被 安装 --&gt; 解决依赖关系完成 2.查看vsftp软件的详细信息
[root@ansible_nfs 7-3]# rpm -qi vsftpd Name : vsftpd Version : 3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/612fc8d3f8a21600f07935c34fc4900e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-07T20:52:34+08:00" />
<meta property="article:modified_time" content="2023-07-07T20:52:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux 部署ftp服务</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>文件传输协议（file Transfer Protocol，FTP），它工作在应用层，由客户端软件和服务端软件两个部分共同实现文件传输功能，使用 TCP 传输而不是 UDP， 客户在和服务器建立连接前要经过一个“三次握手”的过程， 保证客户与服务器之间的连接是可靠的， 而且是面向连接，为数据传输提供可靠保证。</p> 
<p>ftp 主要使用20和21端口</p> 
<p>20端口传输数据；21端口建立连接</p> 
<p>主动模式： 服务器主动连接客户端传输<br> 被动模式： 服务器等待客户端连接。</p> 
<hr> 
<p>部署ftp服务器</p> 
<p>1.查看是否安装过vsftp，没有就下载vsftp</p> 
<pre><code class="language-bash">[root@ansible_nfs ~]# rpm -q vsftpd
未安装软件包 vsftpd 
[root@ansible_nfs ~]# yum install -y vsftpd
已加载插件：fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * epel: mirrors.cqu.edu.cn
 * extras: mirrors.huaweicloud.com
 * updates: mirrors.huaweicloud.com
正在解决依赖关系
--&gt; 正在检查事务
---&gt; 软件包 vsftpd.x86_64.0.3.0.2-29.el7_9 将被 安装
--&gt; 解决依赖关系完成</code></pre> 
<p>2.查看vsftp软件的详细信息</p> 
<pre><code class="language-bash">[root@ansible_nfs 7-3]# rpm -qi vsftpd
Name        : vsftpd
Version     : 3.0.2
Release     : 29.el7_9
Architecture: x86_64
Install Date: 2023年07月07日 星期五 11时42分23秒
Group       : System Environment/Daemons
Size        : 361349
License     : GPLv2 with exceptions
Signature   : RSA/SHA256, 2021年06月11日 星期五 23时06分15秒, Key ID 24c6a8a7f4a80eb5
Source RPM  : vsftpd-3.0.2-29.el7_9.src.rpm
Build Date  : 2021年06月10日 星期四 00时15分50秒
Build Host  : x86-02.bsys.centos.org
Relocations : (not relocatable)
Packager    : CentOS BuildSystem &lt;http://bugs.centos.org&gt;
Vendor      : CentOS
URL         : https://security.appspot.com/vsftpd.html
Summary     : Very Secure Ftp Daemon
Description :
vsftpd is a Very Secure FTP daemon. It was written completely from
scratch.</code></pre> 
<p>3.启动vsftp服务</p> 
<blockquote> 
 <p>[root@ansible_nfs 7-3]# service vsftpd start<br> Redirecting to /bin/systemctl start vsftpd.service</p> 
</blockquote> 
<p>vsftpd — Very Secure FTP Daemon</p> 
<p>4.判断ftp服务是否启动</p> 
<p>查看vsftpd进程</p> 
<blockquote> 
 <p>[root@ansible_nfs 7-3]# ps aux|grep vsftpd<br> root       1808  0.0  0.0  53292   576 ?        Ss   11:44   0:00 /usr/sbin/vsftpd /etc/vsftpd/vsftpd.conf<br> root       1810  0.0  0.0 112824   984 pts/0    S+   11:44   0:00 grep --color=auto vsftpd</p> 
</blockquote> 
<p>查看vsftpd端口</p> 
<blockquote> 
 <p>[root@ansible_nfs 7-3]# netstat -anplut|grep vsftpd<br> tcp6       0      0 :::21                   :::*                    LISTEN      1808/vsftpd  </p> 
</blockquote> 
<p>查看vsftpd服务状态</p> 
<blockquote> 
 <p>[root@ansible_nfs ~]# systemctl status vsftpd<br> ● vsftpd.service - Vsftpd ftp daemon<br>    Loaded: loaded (/usr/lib/systemd/system/vsftpd.service; disabled; vendor preset: disabled)<br>    Active: active (running) since 五 2023-07-07 11:44:10 CST; 58min ago<br>  Main PID: 1808 (vsftpd)<br>    CGroup: /system.slice/vsftpd.service<br>            └─1808 /usr/sbin/vsftpd /etc/vsftpd/vsftpd.conf</p> 
 <p>7月 07 11:44:10 ansible_nfs systemd[1]: Starting Vsftpd ftp daemon...<br> 7月 07 11:44:10 ansible_nfs systemd[1]: Started Vsftpd ftp daemon.</p> 
</blockquote> 
<p>5.登录ftp服务<br>   下载客户端工具 ftp和lftp</p> 
<blockquote> 
 <p>[root@ansible_nfs 7-3]# yum install ftp lftp -y</p> 
</blockquote> 
<p>默认情况下不允许root用户登录</p> 
<blockquote> 
 <p>[root@ansible_nfs vsftpd]# lftp 192.168.2.24<br> lftp 192.168.2.24:~&gt; ls<br> 中断                           <br> lftp 192.168.2.24:~&gt; exit</p> 
</blockquote> 
<p>6.新建用户sc测试ftp服务</p> 
<blockquote> 
 <p>[root@ansible_nfs 7-3]# useradd sc<br> [root@ansible_nfs 7-3]# id sc<br> uid=1042(sc) gid=1042(sc) 组=1042(sc)<br> [root@ansible_nfs 7-3]# echo "12345"|passwd sc --stdin<br> 更改用户 sc 的密码 。<br> passwd：所有的身份验证令牌已经成功更新。</p> 
</blockquote> 
<p>7.登录lftp：格式：lftp -u 用户名、密码 ip地址</p> 
<blockquote> 
 <p>[root@ansible_nfs ~]# lftp -u sc,12345 192.168.2.24<br> lftp sc@192.168.2.24:~&gt; ls<br> lftp sc@192.168.2.24:/&gt; pwd     <br> ftp://sc:12345@192.168.2.24/<br> lftp sc@192.168.2.24:/&gt; mkdir sanchuang<br> mkdir 成功, 建立 `sanchuang'<br> lftp sc@192.168.2.24:/&gt; ls<br> drwx------    2 1042     1042            6 Jul 07 05:28 sanchuang</p> 
</blockquote> 
<p>8.查看lftp常用命令</p> 
<pre><code class="language-bash">lftp sc@192.168.2.24:/&gt; help
    !&lt;shell-command&gt;                     (commands)                           alias [&lt;name&gt; [&lt;value&gt;]]             attach [PID]                         bookmark [SUBCMD]
    cache [SUBCMD]                       cat [-b] &lt;files&gt;                     cd &lt;rdir&gt;                            chmod [OPTS] mode file...            close [-a]
    [re]cls [opts] [path/][pattern]      debug [&lt;level&gt;|off] [-o &lt;file&gt;]      du [options] &lt;dirs&gt;                  exit [&lt;code&gt;|bg]                     get [OPTS] &lt;rfile&gt; [-o &lt;lfile&gt;]
    glob [OPTS] &lt;cmd&gt; &lt;args&gt;             help [&lt;cmd&gt;]                         history -w file|-r file|-c|-l [cnt]  jobs [-v] [&lt;job_no...&gt;]              kill all|&lt;job_no&gt;                    lcd &lt;ldir&gt;
    lftp [OPTS] &lt;site&gt;                   ln [-s] &lt;file1&gt; &lt;file2&gt;              ls [&lt;args&gt;]                          mget [OPTS] &lt;files&gt;                  mirror [OPTS] [remote [local]]
    mkdir [-p] &lt;dirs&gt;                    module name [args]                   more &lt;files&gt;                         mput [OPTS] &lt;files&gt;                  mrm &lt;files&gt;
    mv &lt;file1&gt; &lt;file2&gt;                   [re]nlist [&lt;args&gt;]                   open [OPTS] &lt;site&gt;                   pget [OPTS] &lt;rfile&gt; [-o &lt;lfile&gt;]     put [OPTS] &lt;lfile&gt; [-o &lt;rfile&gt;]      pwd [-p]
    queue [OPTS] [&lt;cmd&gt;]                 quote &lt;cmd&gt;                          repeat [OPTS] [delay] [command]      rm [-r] [-f] &lt;files&gt;                 rmdir [-f] &lt;dirs&gt;
    scache [&lt;session_no&gt;]                set [OPT] [&lt;var&gt; [&lt;val&gt;]]            site &lt;site-cmd&gt;                      source &lt;file&gt;                        torrent [-O &lt;dir&gt;] &lt;file|URL&gt;...
    user &lt;user|URL&gt; [&lt;pass&gt;]             wait [&lt;jobno&gt;]                       zcat &lt;files&gt;                         zmore &lt;files&gt;
lftp sc@192.168.2.24:/&gt;</code></pre> 
<pre><code class="language-bash">lcd命令 ： 在本地切换目录
！ls ： 查看本地目录内容
lftp sc@192.168.2.24:/&gt; lcd /tmp
lcd 成功, 本地目录=/tmp
lftp sc@192.168.2.24:/&gt; !ls
crontab.3jDKSH								 vmware-root_680-2689143817  vmware-root_687-4022112208  vmware-root_696-2722173465
file1									 vmware-root_683-4013919829  vmware-root_688-2688750615  vmware-root_698-2730496923
memlog_{mem_monitor.sh}.log						 vmware-root_684-2697598348  vmware-root_690-2697074069  vmware-root_701-3979708482
systemd-private-18d619f418854e2b9704e239e455cbe2-chronyd.service-SycrL7  vmware-root_685-4013788754  vmware-root_692-2696942994
systemd-private-3a8e0357f3fc4688834d7b8bed6eefe5-chronyd.service-CCZNvw  vmware-root_686-2689274894  vmware-root_694-2688619536

put命令 上传文件到ftp服务器
lftp sc@192.168.2.24:/&gt; put memlog_{mem_monitor.sh}.log 
180 bytes transferred                                         
lftp sc@192.168.2.24:/&gt; ls
-rw-------    1 1042     1042         1241 Jul 07 05:32 anaconda-ks.cfg
-rw-r--r--    1 1042     1042          180 Jul 07 06:48 memlog_{mem_monitor.sh}.log
drwx------    2 1042     1042            6 Jul 07 05:28 sanchuang
lftp sc@192.168.2.24:/&gt; rm -rf anaconda-ks.cfg 
rm 成功, 删除 `anaconda-ks.cfg'
lftp sc@192.168.2.24:/&gt; ls
-rw-r--r--    1 1042     1042          180 Jul 07 06:48 memlog_{mem_monitor.sh}.log
drwx------    2 1042     1042            6 Jul 07 05:28 sanchuang

mirror命令 下载文件夹到本地
lftp sc@192.168.2.24:/&gt; lcd 
lcd 成功, 本地目录=/root
lftp sc@192.168.2.24:/&gt; mirror sanchuang/
Total: 1 directory, 0 files, 0 symlinks
lftp sc@192.168.2.24:/&gt; !ls
anaconda-ks.cfg    sanchuang</code></pre> 
<p>9.进行备份ftp服务的主要配置文件</p> 
<blockquote> 
 <p>[root@ansible_nfs vsftpd]# rpm -qc vsftpd<br> /etc/logrotate.d/vsftpd<br> /etc/pam.d/vsftpd<br> /etc/vsftpd/ftpusers<br> /etc/vsftpd/user_list<br> /etc/vsftpd/vsftpd.conf</p> 
 <p>[root@ansible_nfs /]# cd /etc/vsftpd/<br> [root@ansible_nfs vsftpd]# cp vsftpd.conf vsftpd.conf.bak</p> 
</blockquote> 
<hr> 
<h3 id="1%E3%80%81%E5%8C%BF%E5%90%8D%E7%94%A8%E6%88%B7%E6%A1%88%E4%BE%8B">一、匿名用户</h3> 
<p id="1.3%E3%80%81%E4%BF%AE%E6%94%B9vsftpd%E6%9C%8D%E5%8A%A1%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%C2%A0">1.修改配置文件，vim /etc/vsftpd/vsftpd.conf</p> 
<blockquote> 
 <p>anon_upload_enable=YES            #允许匿名用户上传文件，取消注释<br> anon_mkdir_write_enable=YES     #允许匿名用户创建目录，需取消注释<br> anon_other_write_enable=YES      #允许匿名删除、重命名、覆盖等操作，需添加<br>  <br> anon_root=/var/ftp/pub       <br> #anon_root 针对匿名用户(如果不设置默认为此目录，可以进行修改，修改之后修改给它权限)</p> 
</blockquote> 
<pre><code class="language-bash">anonymous_enable=YES  #开启匿名用户访问（默认开启）

# Uncomment this to allow local users to log in.
# When SELinux is enforcing check for SE bool ftp_home_dir
local_enable=YES 	  #允许本地用户登录（默认开启）

# Uncomment this to enable any form of FTP write command.
write_enable=YES 	  #开放服务器的写权限（默认开启）
#
# Default umask for local users is 077. You may wish to change this to 022,
# if your users expect that (022 is used by most other ftpd's)
local_umask=022  	  #设置用户所上传数据的权限掩码
#
# Uncomment this to allow the anonymous FTP user to upload files. This only
# has an effect if the above global write enable is activated. Also, you will
# obviously need to create a directory writable by the FTP user.
# When SELinux is enforcing check for SE bool allow_ftpd_anon_write, allow_ftpd_full_access
anon_upload_enable=YES   #允许匿名用户上传文件（取消注释）
#
# Uncomment this if you want the anonymous FTP user to be able to create
# new directories.
anon_mkdir_write_enable=YES  #允许匿名用户创建目录（取消注释）
anon_other_write_enable=YES  #允许匿名删除、重命名、覆盖等操作（新增）

anon_root=/var/ftp/pub       
#anon_root 针对匿名用户(如果不设置默认为此目录，可以进行修改，修改之后修改给它权限)</code></pre> 
<p>2.修改文件 /var/ftp/pub 权限为777</p> 
<p>            -R : 对目前目录下的所有档案与子目录进行相同的权限变更(即以递回的方式逐个变更)</p> 
<blockquote> 
 <p>[root@ansible_nfs pub]# pwd<br> /var/ftp/pub<br> [root@ansible_nfs ftp]# ll<br> 总用量 0<br> drwxr-xr-x 2 root root 6 6月  10 2021 pub<br> [root@ansible_nfs ftp]# chmod -R 777 /var/ftp/pub/<br> [root@ansible_nfs ftp]# ll<br> 总用量 0<br> drwxrwxrwx 2 root root 6 6月  10 2021 pub</p> 
</blockquote> 
<p> 3.重启vsftpd服务</p> 
<blockquote> 
 <p>[root@ansible_nfs vsftpd]# systemctl restart vsftpd</p> 
</blockquote> 
<p id="1.4%E3%80%81%E5%8C%BF%E5%90%8D%E8%AE%BF%E9%97%AE%E6%B5%8B%E8%AF%95">4.windows匿名访问测试</p> 
<p>首先确保Linux和windows是同一网段，Linux虚拟机网络可以选择为桥接模式，并且都需要关闭防火墙。</p> 
<p>windows的ip地址</p> 
<p><img alt="" height="50" src="https://images2.imgbox.com/1b/e0/UgH07miX_o.png" width="247"></p> 
<p>Linux里ip地址</p> 
<blockquote> 
 <p>[root@ansible_nfs vsftpd]# ip a<br> 1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000<br>     link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br>     inet 127.0.0.1/8 scope host lo<br>        valid_lft forever preferred_lft forever<br>     inet6 ::1/128 scope host <br>        valid_lft forever preferred_lft forever<br> 2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000<br>     link/ether 00:0c:29:cc:31:b9 brd ff:ff:ff:ff:ff:ff<br>     inet 192.168.2.24/24 brd 192.168.2.255 scope global noprefixroute dynamic ens33<br>        valid_lft 80909sec preferred_lft 80909sec<br>     inet6 fe80::20c:29ff:fecc:31b9/64 scope link <br>        valid_lft forever preferred_lft forever</p> 
</blockquote> 
<p>Linux里关闭防火墙和selinux</p> 
<blockquote> 
 <p>[root@ansible_nfs vsftpd]# vim vsftpd.conf<br> [root@ansible_nfs vsftpd]# service firewalld stop<br> Redirecting to /bin/systemctl stop firewalld.service<br> [root@ansible_nfs vsftpd]# getenforce<br> Disabled</p> 
</blockquote> 
<p>windows里关闭防火墙</p> 
<p><img alt="" height="497" src="https://images2.imgbox.com/d9/e0/GuTYWo0X_o.png" width="242"></p> 
<hr> 
<p>win+r 进入cmd；ftp  ftp服务器ip地址</p> 
<p><img alt="" height="211" src="https://images2.imgbox.com/78/87/NCTgSeYG_o.png" width="353"></p> 
<p>或者用之前创建的用户sc登录</p> 
<p> <img alt="" height="242" src="https://images2.imgbox.com/c0/aa/bstxbDc0_o.png" width="308"></p> 
<p> <strong> </strong>在FTP服务器中的共享目录中创建一个文件 ，在windows里查看是否可查看文件</p> 
<blockquote> 
 <p>[root@ansible_nfs vsftpd]# cd /var/ftp/pub<br> [root@ansible_nfs vsftpd]# mkdir sanchuang.txt run.sh<br> [root@ansible_nfs pub]# ls<br> sanchuang.txt   run.sh</p> 
</blockquote> 
<p><img alt="" height="261" src="https://images2.imgbox.com/b9/f7/vAuoneVW_o.png" width="694"></p> 
<p>可以将文件下载到windows里并查看</p> 
<p><img alt="" height="30" src="https://images2.imgbox.com/43/fc/NhMpHGkO_o.png" width="605"></p> 
<p>在windows中创建文件上传后去ftp服务器查看<br> 在windows桌面创建文本changsha.txt  <br> 使用 put changsha.txt 上传</p> 
<p><img alt="" height="23" src="https://images2.imgbox.com/43/9b/XqfF1N8N_o.png" width="560"></p> 
<p><img alt="" height="86" src="https://images2.imgbox.com/8c/da/BqfvfOgq_o.png" width="498"></p> 
<blockquote> 
 <p> [root@ansible_nfs pub]# ls<br> changsha.txt  run.sh  sanchuang.txt</p> 
</blockquote> 
<hr> 
<h3>二、用户登录</h3> 
<p>1.修改配置文件vsftpd.conf</p> 
<blockquote> 
 <p>anonymous_enable=NO           #关闭匿名用户访问</p> 
 <p></p> 
 <p>local_umask=077                       #修改为077</p> 
 <p>新增3行<br> chroot_local_user=YES            #将访问禁锢在用户的宿主目录中<br> allow_writeable_chroot=YES    #允许被限制的用户主目录具有写权限<br> local_root=/var/www/data          #上传默认位置  可以更改及注释<br>  <br> #anon_mkdir_write_enable=YES  注释    <br> #anon_other_write_enable=YES  注释</p> 
</blockquote> 
<pre><code class="language-bash">[root@ansible_nfs vsftpd]# vim vsftpd.conf

anonymous_enable=NO   #关闭匿名用户访问
#
# Uncomment this to allow local users to log in.
# When SELinux is enforcing check for SE bool ftp_home_dir
local_enable=YES   	  #启用本地用户
#
# Uncomment this to enable any form of FTP write command.
write_enable=YES  	  #开放服务器的写权限
#
# Default umask for local users is 077. You may wish to change this to 022,
# if your users expect that (022 is used by most other ftpd's)
local_umask=077  	   #可设置仅宿主用户拥有被上传的文件的权限为077
#
# Uncomment this to allow the anonymous FTP user to upload files. This only
# has an effect if the above global write enable is activated. Also, you will
# obviously need to create a directory writable by the FTP user.
# When SELinux is enforcing check for SE bool allow_ftpd_anon_write, allow_ftpd_full_access
anon_upload_enable=YES  
#
# Uncomment this if you want the anonymous FTP user to be able to create
# new directories.

# anon_mkdir_write_enable=YES   #注释
# anon_other_write_enable=YES   #注释

chroot_local_user=YES  			#将访问禁锢在用户的宿主目录中
allow_writeable_chroot=YES 		#允许被限制的用户主目录具有写权限
local_root=/var/www/data 		#上传默认位置  可以更改及注释

重启vsftpd服务
[root@ansible_nfs vsftpd]# systemctl restart vsftpd
[root@ansible_nfs vsftpd]# 
</code></pre> 
<p>2.创建一个目录作为FTP的共享目录，创建一个用户，把此目录作为此用户的属主目录</p> 
<pre><code class="language-bash">[root@ansible_nfs vsftpd]# cd /var/ftp/
[root@ansible_nfs vsftpd]# mkdir data
[root@ansible_nfs ftp]# ls
data  pub
[root@ansible_nfs ftp]# useradd yy
[root@ansible_nfs ftp]# echo 123|passwd yy --stdin
更改用户 yy 的密码 。
passwd：所有的身份验证令牌已经成功更新。

递归更改属主
[root@ansible_nfs ftp]# chown -R yy:root data
[root@ansible_nfs ftp]# ll
总用量 0
drwxr-xr-x 2 yy   root  6 7月   7 13:04 data
drwxrwxrwx 2 root root 61 7月   7 16:34 pub</code></pre> 
<p>3.创建文件并且授予权限，然后重启服务</p> 
<blockquote> 
 <p>[root@ansible_nfs www]# mkdir -p /var/www/data/<br> [root@ansible_nfs www]# chmod 777 /var/www/data/<br> [root@ansible_nfs www]# ll<br> 总用量 0<br> drwxrwxrwx 4 root root 82 7月   7 16:14 data<br> [root@ansible_nfs www]# systemctl restart vsftpd</p> 
</blockquote> 
<p>4.在windows浏览器里直接输入 ftp://192.168.2.24(需要输入用户和密码)</p> 
<p><img alt="" height="457" src="https://images2.imgbox.com/8f/91/6ZuYEUkw_o.png" width="1200"></p> 
<p><img alt="" height="424" src="https://images2.imgbox.com/74/b4/8Gu3L7Kw_o.png" width="711"></p> 
<p><img alt="" height="366" src="https://images2.imgbox.com/b7/22/P7HAyezN_o.png" width="1200"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3b0a60e4b5c6fe924c98807f67080519/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Golang实现图片与视频的缩略图生成</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e2a7f5a49bc262973ea1e5f0e716bce9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Debian 11 x64 安装 MySQL 8.0.33</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>