<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>云服务器ECS入门及云上网站部署 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="云服务器ECS入门及云上网站部署" />
<meta property="og:description" content="云服务器ECS入门及云上网站部署 一、什么是云服务器ECS 云服务器ECS (Elastic Compute Service) 是阿里云提供的性能卓越、稳定可靠、弹性扩展的laaS(Infrastructure as a Service) 级别云计算服务
云服务器ECS免去了您采购IT硬件的前期准备，让您像使用水、电、天然气等公共资源一样便捷、高效地使用服务器，实现计算资源的即开即用和弹性伸缩。阿里云ECS持续提供创新型服务器，解决多种业务需求，助力您的业务发展。
一台云服务器ECS的创建过程
一张图看懂云服务器ECS产品架构
云服务器ECS基础概念科普
云服务器ECS的产品优势
阿里云弹性计算十余年深厚技术积淀，技术领先、性能优异、 稳如磐石。
云服务器ECS丰富的应用场景
不止是云服务器，完善的自动化运维能力
自动化运维（ CloudOps ）： More Than Just ECS，通过自动化能力降低用云门槛和摩擦力，推进系统管理与运维云化。
二、如何获取一台云服务器ECS 获取云服务器ECS的两种方式
飞天加速计划免费领取步骤
飞天加速计划是阿里云推出的技术普惠项目，面向学生、教师、开发者和中小企业提供算力和
云产品等资源，助力开发者全生命周期成长，培育数字时代的创新人才。
学生用户免费领取关键步骤：完成学生认证
云服务器ECS产品详情页付费购买
三、5分钟学会管理云服务器ECS 新手入门：5分钟学会管理ECS
Step1：重置ECS密码/重启ECS
操作路径：概览—实例ID&gt;实例详情&gt;重置密码
Step2：远程连接ECS
操作路径：概览—实例ID&gt;远程连接
连接方式：Workbench 或 VNC均可，推荐使用Workbench
Step3：配置安全组规则
操作路径：概览-实例ID&gt;实例详情&gt;配置安全组&gt;配置规则
端口设置：常用端口已默认开放，即22（可远程登录Linux ）、3389（可远程登录windows ）、
ICMP（可以ping通网络）；
特殊端口，如80、25等端口，请评估业务需要及安全性后再开通
Step4：学习变更ECS配置操作
操作路径：概览—实例ID&gt;实例详情&gt;操作，区分包年包月、按量付费
Step4：学习变更ECS配置操作
配置操作：按量ECS使用模式需要变更规格，只需2步：①快照备份数据；②先释放ECS再创建新
ECS
释放：快速变更按量ECS，需要先释放当前ECS，再创建新ECS，如有重要数据，建议先打快照做备
份，新ECS创建后备份可及时删除。
创建：释放后，快速创建ECS，如打快照可以恢复后删除。
Step5：学习使用数据监控
a.数据监控有什么用：通过监控，能够实时可视化掌握ECS运
行状态，一旦出现安全隐患，可及时预警，避免影响业务正常
运转。
b. 操作路径：概览—实例ID&gt;安装插件
c. 监控维度：
■ 资源：CPU、内存、带宽、云盘使用率、系统负载、连接数等
■ 时间：1小时、6小时、1天、7天、自定义" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/c6953c332233cd4ee3f8a574c725d3ab/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-25T16:56:03+08:00" />
<meta property="article:modified_time" content="2022-12-25T16:56:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">云服务器ECS入门及云上网站部署</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="ECS_0"></a>云服务器ECS入门及云上网站部署</h2> 
<h3><a id="ECS_2"></a>一、什么是云服务器ECS</h3> 
<p>云服务器ECS (Elastic Compute Service) 是阿里云提供的性能卓越、稳定可靠、弹性扩展的laaS(Infrastructure as a Service) 级别云计算服务<br> 云服务器ECS免去了您采购IT硬件的前期准备，让您像使用水、电、天然气等公共资源一样便捷、高效地使用服务器，实现计算资源的即开即用和弹性伸缩。阿里云ECS持续提供创新型服务器，解决多种业务需求，助力您的业务发展。</p> 
<p><img src="https://images2.imgbox.com/5c/0b/kAFWSOku_o.png" alt="image-20221224124112680"></p> 
<p><strong>一台云服务器ECS的创建过程</strong></p> 
<p><img src="https://images2.imgbox.com/1d/47/CGmcfaLk_o.png" alt="image-20221224124151778"></p> 
<p><strong>一张图看懂云服务器ECS产品架构</strong></p> 
<p><img src="https://images2.imgbox.com/92/19/hd5Ckonb_o.png" alt="image-20221224124219385"></p> 
<p><strong>云服务器ECS基础概念科普</strong></p> 
<p><img src="https://images2.imgbox.com/fe/f3/oMH8wgrj_o.png" alt="image-20221224124250169"></p> 
<p><strong>云服务器ECS的产品优势</strong><br> 阿里云弹性计算十余年深厚技术积淀，技术领先、性能优异、 稳如磐石。</p> 
<p><img src="https://images2.imgbox.com/6f/f0/sT1BHysN_o.png" alt="image-20221224124337706"></p> 
<p><strong>云服务器ECS丰富的应用场景</strong></p> 
<p><img src="https://images2.imgbox.com/a1/c0/WwvPKsmF_o.png" alt="image-20221224124358817"></p> 
<p><strong>不止是云服务器，完善的自动化运维能力</strong><br> 自动化运维（ CloudOps ）： More Than Just ECS，通过自动化能力降低用云门槛和摩擦力，推进系统管理与运维云化。</p> 
<p><img src="https://images2.imgbox.com/ac/eb/4TkBxKwD_o.png" alt="image-20221224124417838"></p> 
<h3><a id="ECS_35"></a>二、如何获取一台云服务器ECS</h3> 
<p>获取云服务器ECS的两种方式</p> 
<p><img src="https://images2.imgbox.com/bd/ae/4MfEWtyV_o.png" alt="image-20221224124538963"></p> 
<p>飞天加速计划免费领取步骤<br> 飞天加速计划是阿里云推出的技术普惠项目，面向学生、教师、开发者和中小企业提供算力和<br> 云产品等资源，助力开发者全生命周期成长，培育数字时代的创新人才。</p> 
<p><img src="https://images2.imgbox.com/ce/5a/C7gSgoYO_o.png" alt="image-20221224124604837"></p> 
<p>学生用户免费领取关键步骤：完成学生认证</p> 
<p><img src="https://images2.imgbox.com/d2/9f/Vl4cLkgl_o.png" alt="image-20221224124628700"></p> 
<p>云服务器ECS产品详情页付费购买</p> 
<p><img src="https://images2.imgbox.com/bd/65/s16fYiXe_o.png" alt="image-20221224124652422"></p> 
<h3><a id="5ECS_55"></a>三、5分钟学会管理云服务器ECS</h3> 
<p>新手入门：5分钟学会管理ECS</p> 
<p><img src="https://images2.imgbox.com/cd/72/0YqREKc9_o.png" alt="image-20221224124752174"></p> 
<p>Step1：重置ECS密码/重启ECS<br> 操作路径：概览—实例ID&gt;实例详情&gt;重置密码</p> 
<p><img src="https://images2.imgbox.com/d9/ef/T2lreAnj_o.png" alt="image-20221224124817283"></p> 
<p>Step2：远程连接ECS<br> 操作路径：概览—实例ID&gt;远程连接<br> 连接方式：Workbench 或 VNC均可，推荐使用Workbench</p> 
<p><img src="https://images2.imgbox.com/d6/96/yBZ7oGvn_o.png" alt="image-20221224124845864"></p> 
<p>Step3：配置安全组规则<br> 操作路径：概览-实例ID&gt;实例详情&gt;配置安全组&gt;配置规则<br> 端口设置：常用端口已默认开放，即22（可远程登录Linux ）、3389（可远程登录windows ）、<br> ICMP（可以ping通网络）；<br> 特殊端口，如80、25等端口，请评估业务需要及安全性后再开通</p> 
<p><img src="https://images2.imgbox.com/72/86/jrt4q8NA_o.png" alt="image-20221224124909047"></p> 
<p>Step4：学习变更ECS配置操作<br> 操作路径：概览—实例ID&gt;实例详情&gt;操作，区分包年包月、按量付费</p> 
<p><img src="https://images2.imgbox.com/25/93/AP0bD0j6_o.png" alt="image-20221224124929366"></p> 
<p>Step4：学习变更ECS配置操作<br> 配置操作：按量ECS使用模式需要变更规格，只需2步：①快照备份数据；②先释放ECS再创建新<br> ECS<br> 释放：快速变更按量ECS，需要先释放当前ECS，再创建新ECS，如有重要数据，建议先打快照做备<br> 份，新ECS创建后备份可及时删除。<br> 创建：释放后，快速创建ECS，如打快照可以恢复后删除。</p> 
<p><img src="https://images2.imgbox.com/85/e2/YjbfSIng_o.png" alt="image-20221224124947653"></p> 
<p>Step5：学习使用数据监控<br> a.数据监控有什么用：通过监控，能够实时可视化掌握ECS运<br> 行状态，一旦出现安全隐患，可及时预警，避免影响业务正常<br> 运转。<br> b. 操作路径：概览—实例ID&gt;安装插件<br> c. 监控维度：<br> ■ 资源：CPU、内存、带宽、云盘使用率、系统负载、连接数等<br> ■ 时间：1小时、6小时、1天、7天、自定义<br> d. 监控特色功能：<br> ⅰ. 报警规则：支持按阈值或事件设置报警<br> ⅱ. 报警通知：支持电话、短信、邮件、钉钉机器人</p> 
<p><img src="https://images2.imgbox.com/c9/dd/WKSQf6Wp_o.png" alt="image-20221224125012613"></p> 
<h3><a id="_ECS_107"></a>四、 【实验】ECS云服务器新手上路</h3> 
<p>https://developer.aliyun.com/adc/scenario/410e5b6a852f4b4b88bf74bf4c197a57?spm=5176.10731542.0.0.4fa0114fJJzGat</p> 
<p><strong>本实验会自动创建一台ECS实例。首先，远程登陆ECS实例，并部署应用。然后，登陆管理控制台，并对这台ECS实例进行管理操作。</strong></p> 
<p><strong>体验此场景后完，你可以掌握的能力有：</strong></p> 
<ol><li> <p>ECS的基本概念</p> </li><li> <p>远程访问ECS实例，部署应用。</p> </li><li> <p>使用管理控制台对ECS进行基本操作：重置ECS实例登陆密码并重启ECS实例。</p> </li></ol> 
<p><strong>背景知识</strong></p> 
<p><strong>云服务器（Elastic Compute Service, 简称ECS）</strong>，是一种简单高效，处理能力可以弹性伸缩的计算服务。ECS的相关术语说明如下：</p> 
<p>实例（Instance）：是一个虚拟的计算环境，由CPU、内存、系统盘和运行的操作系统组成；ECS实例作为云服务器最为核心的概念，其他资源，比如磁盘、IP、镜像、快照等，只有与ECS结合后才具有使用意义。</p> 
<p>地域（Region）：指ECS实例所在的物理位置。地域内的ECS实例内网是互通的，不同的地域之间ECS实例内网不互通。</p> 
<p>可用区（Zone）：指在同一地域内，电力和网络互相独立的物理区域。</p> 
<p>磁盘（Disk）：是为ECS实例提供数据块级别的数据存储。可以分为4类： 普通云盘、SSD云盘、高效云盘和本地SSD磁盘</p> 
<p>快照（Snapshot）：是某一个时间点上某个磁盘的数据拷贝。</p> 
<p>镜像（Image）：是ECS实例运行环境的模板，一般包括操作系统和预装的软件。</p> 
<p>安全组（Security Group）：是一种虚拟防火墙，具备状态检测包过滤功能。每个实例至少属于一个安全组。同一个安全组内的实例之间网络互通，不同安全组的实例之间默认内网不通，但是可以授权两个安全组之间互访。</p> 
<h3><a id="ECS_139"></a>五、【实验】基于ECS搭建云上博客</h3> 
<p>https://developer.aliyun.com/adc/scenario/fdecd528be6145dcbe747f0206e361f3?spm=5176.10731542.0.0.620d114feAKl8b</p> 
<p>本场景将提供一台配置了CentOS 7.7操作系统的ECS实例（云服务器）。通过本教程的操作，您可以在一台CentOS 7.7操作系统的ECS实例上安装和部署LAMP环境，然后安装 WordPress，帮助您快速搭建自己的博客。</p> 
<h3><a id="_145"></a>六、服务器购买</h3> 
<p>阿里云服务器：</p> 
<pre><code>实例名称：xxx
密码：xxx
</code></pre> 
<p><img src="https://images2.imgbox.com/1f/9a/ZLOrFdQB_o.png" alt="image-20221224140743830"></p> 
<p>宝塔面板安装：</p> 
<pre><code>yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh ed8484bec
</code></pre> 
<p>出现以下代码</p> 
<pre><code>外网面板地址: https://公网IP:端口号/随机生成的8位id
内网面板地址: https://内网IP:端口号/随机生成的8位id
username: zz1um7qx
password: c4aefdd4
If you cannot access the panel,
release the following panel port [31357] in the security group
若无法访问面板，请检查防火墙/安全组是否有放行面板[31357]端口
因已开启面板自签证书，访问面板会提示不匹配证书，请参考以下链接配置证书
https://www.bt.cn/bbs/thread-105443-1-1.html
</code></pre> 
<p>宝塔账号密码</p> 
<p>原来的：</p> 
<pre><code>username: zz1um7qx
password: c4aefdd4
</code></pre> 
<p>修改后：</p> 
<pre><code>账号：xxx
密码：xxx
</code></pre> 
<p>宝塔终端使用，点击加号，输入对应IP密码即可：<br> <img src="https://images2.imgbox.com/58/93/o5cEKeiy_o.png" alt="image-20221225143039553"></p> 
<p>私钥登录</p> 
<pre><code>-----BEGIN OPENSSH PRIVATE KEY-----
xxx
-----END OPENSSH PRIVATE KEY-----
</code></pre> 
<p><img src="https://images2.imgbox.com/34/a9/dhtb0Gb0_o.png" alt="image-20221225143810179"></p> 
<h3><a id="_203"></a>七、快速搭建网站</h3> 
<h4><a id="71_Linuxjdk_205"></a>7.1 Linux下安装jdk</h4> 
<ol><li>下载jdk：https://www.oracle.com/java/technologies/downloads/</li></ol> 
<p><img src="https://images2.imgbox.com/9d/72/wxF6TLXq_o.png" alt="image-20221224225111389"></p> 
<ol start="2"><li> <p>上传jdk文件</p> <p><img src="https://images2.imgbox.com/65/92/Z4bP7uK3_o.png" alt="image-20221224225309678"></p> </li><li> <p>使用命令解压： tar -xvf jdk-19_linux-x64_bin.tar.gz</p> <p><img src="https://images2.imgbox.com/bf/c4/4jgAIpbq_o.png" alt="image-20221224225614892"></p> </li><li> <p>用 vim /etc/profile 进入编辑状态，加入下边这段配置</p> 
  <blockquote> 
   <p>vim使用：</p> 
   <p>按 i 进行代码编写</p> 
   <p>编写完成之后按 Esc 结束编辑</p> 
   <p>输入</p> 
   <p>:qa!</p> 
   <p>即可保存退出（强制保存退出命令——&gt; :qa!）</p> 
  </blockquote> <pre><code>export JAVA_HOME=/opt/jdk-19.0.1
export PATH=$JAVA_HOME/bin:$PATH
export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
</code></pre> <p><img src="https://images2.imgbox.com/d6/56/9MGNxHae_o.png" alt="image-20221224225810182"></p> </li><li> <p>重新加载配置，输入：source /etc/profile</p> </li><li> <p>进行测试 java -version</p> <p><img src="https://images2.imgbox.com/bd/59/jIP7QNvn_o.png" alt="image-20221224230409020"></p> </li><li> <p>javac</p> <p><img src="https://images2.imgbox.com/e5/44/SkJ9fDWa_o.png" alt="image-20221224230822696"></p> </li><li> <p>jps</p> <p><img src="https://images2.imgbox.com/ff/44/vSxzC5CV_o.png" alt="image-20221224230541499"></p> </li><li> <p>添加jdk</p> <p><img src="https://images2.imgbox.com/12/1a/fBZ0iJ8o_o.png" alt="image-20221224235142460"></p> </li><li> <p>jdk到这里就安装好了</p> </li></ol> 
<h4><a id="72__261"></a>7.2 官方教程</h4> 
<p><strong>准备工作：使用ssh远程连接云服务器</strong></p> 
<ol><li> <p>在ECS实例列表页面，复制ECS实例的公网IP地址。</p> </li><li> <p>打开个人电脑上的命令行终端工具。</p> </li></ol> 
<ul><li>Windows：Powershell。</li><li>MAC：Terminal。</li></ul> 
<p>Windows用户请检查系统中是否安装有SSH工具。检查方法：</p> 
<p>a. 在终端中输入命令ssh -V。</p> 
<pre><code>ssh -V
</code></pre> 
<p>如果显示SSH版本则表示已安装，如下图所示。</p> 
<p><img src="https://images2.imgbox.com/a4/94/v1H1Owij_o.png" alt="image-20221224143901913"></p> 
<p>b. 如果未安装，请下载安装<a href="https://www.mls-software.com/files/setupssh-8.2p1-1.exe?spm=a2c6h.13858378.0.0.31035950NqmJWD&amp;file=setupssh-8.2p1-1.exe" rel="nofollow">OpenSSH</a>工具。</p> 
<ol start="3"><li>在终端中输入连接命令ssh root@[ipaddress]。</li></ol> 
<p>您需要将其中的 ipaddress 替换为您的ECS服务器的公网IP地址。例如。</p> 
<pre><code>ssh root@123.123.123.123
密码：xxx
</code></pre> 
<ol start="4"><li>输入yes，然后输入云服务器的登录密码并登录，成功后会显示如下信息。</li></ol> 
<p><img src="https://images2.imgbox.com/ae/c4/0Fj0QCK6_o.png" alt="image-20221224144328010"></p> 
<p><strong>部署环境</strong></p> 
<p>本教程使用Apache作为后端服务器，并在云服务器上创建一个MySQL数据库用来存储数据。</p> 
<ol><li>在ECS服务器上，执行以下命令安装Apache及其扩展包。</li></ol> 
<pre><code>yum -y install httpd httpd-manual mod_ssl mod_perl mod_auth_mysql
</code></pre> 
<ol start="2"><li> <p>参考以下操作在ECS服务器上搭建一个MySQL数据库。</p> <p>a. 执行以下命令下载并安装MySQL。</p> <pre><code>wget http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm
yum -y install mysql57-community-release-el7-10.noarch.rpm
yum -y install mysql-community-server
</code></pre> </li></ol> 
<p>b. 执行以下命令启动MySQL数据库。</p> 
<pre><code>systemctl start mysqld
</code></pre> 
<p>c. 执行以下命令查看MySQL初始密码。</p> 
<pre><code>grep 'password' /var/log/mysqld.log
</code></pre> 
<p>d. 执行以下命令，登录数据库。</p> 
<pre><code>mysql -uroot -p
</code></pre> 
<p>e. 执行以下命令修改MySQL默认密码。</p> 
<p><strong>说明：</strong></p> 
<p>新密码必须同时包含大小写英文字母、数字和特殊符号中的三类字符。请妥善保存数据库密码。</p> 
<pre><code>ALTER USER 'root'@'localhost' IDENTIFIED BY 'NewPassWord1.';
</code></pre> 
<p>f. 执行以下命令创建数据库。</p> 
<pre><code>create database pbootcms; 
</code></pre> 
<p>g. 输入<code>exit</code>退出数据库。</p> 
<pre><code>exit
</code></pre> 
<p>PbootCMS是使用PHP语言开发的CMS系统。参考以下操作安装PHP环境。</p> 
<p>执行以下命令，安装PHP。</p> 
<pre><code>yum -y install php php-mysql gd php-gd gd-devel php-xml ph
</code></pre> 
<p><strong>搭建企业网站</strong></p> 
<p>在完成环境部署后，参考以下操作搭建企业网站。</p> 
<ol><li>在ECS服务器上，执行以下命令，安装Git。</li></ol> 
<pre><code>yum -y install git
</code></pre> 
<ol start="2"><li>执行以下命令下载PbootCMS源码文件。</li></ol> 
<pre><code>cd ~ &amp;&amp; git clone https://gitee.com/hnaoyun/PbootCMS.git
</code></pre> 
<ol start="3"><li>执行以下命令将安装包拷贝到Apache的wwwroot目录下。</li></ol> 
<pre><code>cp -r PbootCMS/* /var/www/html/
</code></pre> 
<ol start="4"><li>执行以下命令修改站点根目录文件权限。</li></ol> 
<pre><code>chmod -R a+w /var/www/html
</code></pre> 
<ol start="5"><li>执行以下命令向MySQL数据库中导入CMS的初始数据。</li></ol> 
<p>**说明：<strong>在执行命令前，请将命令中的</strong>NewPassWord1.**替换为您设置的数据库密码。</p> 
<pre><code>sql_file="/var/www/html/static/backup/sql/"$(ls /var/www/html/static/backup/sql/) &amp;&amp;
mysql -uroot -pNewPassWord1. pbootcms &lt; $sql_file
</code></pre> 
<ol start="6"><li>执行以下命令修改CMS系统数据库配置。</li></ol> 
<p>**说明：**在执行命令前，请根据参数说明替换您的数据库配置。默认您只需要更改数据库密码即可。</p> 
<pre><code>cat &gt; /var/www/html/config/database.php &lt;&lt; EOF
&lt;?php
return array(
    'database' =&gt; array(
        'type' =&gt; 'mysqli', // 数据库连接驱动类型: mysqli,sqlite,pdo_mysql,pdo_sqlite
        'host' =&gt; '127.0.0.1', // 数据库服务器
        'user' =&gt; 'root', // 数据库连接用户名
        'passwd' =&gt; 'NewPassWord1.', // 数据库连接密码
        'port' =&gt; '3306', // 数据库端口
        'dbname' =&gt; 'pbootcms' //数据库名称
    )
);
EOF
</code></pre> 
<ol start="7"><li>执行以下命令启动Apache HTTP服务。</li></ol> 
<pre><code>systemctl start httpd
</code></pre> 
<ol start="8"><li>返回ECS控制台，在ECS实例列表页面，单击已创建的ECS实例ID链接进入ECS详情页。在左侧导航栏，单击 【本实例安全组】，然后单击安全组的ID链接查看安全组配置。</li></ol> 
<p><img src="https://images2.imgbox.com/f1/64/IwHNqwSY_o.png" alt="img"></p> 
<ol start="9"><li>在浏览器地址栏输入云服务器的公网IP地址，进入CMS系统首页。</li></ol> 
<p>系统后台默认访问路径为http://&lt;ECS公网IP地址&gt;/admin.php。默认账号为admin，密码为123456。</p> 
<p>至此您已完成企业网站的搭建，您可以根据公司的需求自定义企业网站的内容。</p> 
<p><strong>创建环境副本（可选）</strong></p> 
<p>企业网站搭建完成后，您可以将配置环境通过自定义镜像制作成环境副本保存下来。方便您将已搭建好的企业网站通过自定义镜像的方式快速部署到其他云服务器上。</p> 
<p>**说明：**使用快照服务会产生少量费用，详情请参见 快照计费方式 。</p> 
<ol><li> <p>登录<a href="https://ecs.console.aliyun.com/" rel="nofollow">ECS管理控制台</a>。</p> </li><li> <p>如果您是初次使用快照，参考以下操作开通快照服务。</p> </li></ol> 
<p>a. 在左侧导航栏，单击**【<strong>存储与快照</strong>】** &gt; <strong>【<strong>快照</strong>】</strong>。</p> 
<p>b. 在弹出的通知对话框中，阅读开通声明，然后单击**【<strong>确定</strong>】**开通快照。</p> 
<ol start="3"><li>在ECS实例列表页，单击目标实例的管理链接，进入实例详情页。</li></ol> 
<p><img src="https://images2.imgbox.com/11/e2/C4ZFHVTs_o.png" alt="img"></p> 
<ol start="4"><li>在【本实例云盘】页面，单击【创建快照】。</li></ol> 
<p><img src="https://images2.imgbox.com/7c/44/IVr9dXeu_o.png" alt="img"></p> 
<ol start="5"><li> <p>填写 快照名称，然后单击【创建】。</p> </li><li> <p>在本实例快照页面，等待快照创建完成，然后单击【创建自定义镜像】。</p> </li></ol> 
<p><img src="https://images2.imgbox.com/e9/e3/oCM7pVs8_o.png" alt="img"></p> 
<ol start="7"><li> <p>填写自定义镜像名称和自定义镜像描述，然后单击【创建】。</p> </li><li> <p>在【镜像列表】页可以看到刚才创建的自定义镜像。</p> </li></ol> 
<p><img src="https://images2.imgbox.com/c0/ec/YzzAYqXO_o.png" alt="img"></p> 
<h4><a id="73__474"></a>7.3 使用宝塔面板进行操作</h4> 
<h5><a id="731_php_476"></a>7.3.1 使用宝塔面板进行官方教程操作（未能成功运行该php项目）</h5> 
<p><strong>部署环境</strong></p> 
<ol><li> <p>直接点击数据库，点击安装即可</p> <p><img src="https://images2.imgbox.com/f4/35/c9rg6Os2_o.png" alt="image-20221224162231995"></p> </li><li> <p>点击橘黄色的1可查看安装进度</p> <p><img src="https://images2.imgbox.com/25/84/W7F9eToF_o.png" alt="image-20221224162322707"></p> </li><li> <p>安装完成之后点击root密码可直接修改数据库密码</p> <p><img src="https://images2.imgbox.com/ca/2e/U4qC3vxV_o.png" alt="image-20221224171227555"></p> </li><li> <p>使用终端登录mysql，输入以下代码后输出设置的数据库密码即可进入数据库</p> <pre><code> mysql -uroot -p
</code></pre> <p><img src="https://images2.imgbox.com/fa/2c/iS8dKE6O_o.png" alt="image-20221224171327630"></p> </li><li> <p>创建数据库</p> <pre><code>create database pbootcms; 
</code></pre> </li><li> <p>执行exit退出数据库</p> <pre><code>exit
</code></pre> <p><img src="https://images2.imgbox.com/d2/d5/qjiwaB7S_o.png" alt="image-20221224171706849"></p> </li></ol> 
<p><strong>搭建企业网站</strong></p> 
<p>在完成环境部署后，参考以下操作搭建企业网站。</p> 
<pre><code>  1. 在ECS服务器上，执行以下命令，安装Git。
</code></pre> 
<pre><code>yum -y install git
</code></pre> 
<p><img src="https://images2.imgbox.com/37/8f/oacIHKgk_o.png" alt="image-20221224171954199"></p> 
<pre><code>  2. 执行以下命令下载PbootCMS源码文件。
</code></pre> 
<pre><code>cd ~ &amp;&amp; git clone https://gitee.com/hnaoyun/PbootCMS.git
</code></pre> 
<pre><code>  3. 执行以下命令将安装包拷贝到wwwroot目录下。
</code></pre> 
<pre><code>cp -r PbootCMS/* /www/wwwroot/html
</code></pre> 
<pre><code>  4. 执行以下命令修改站点根目录文件权限。
</code></pre> 
<pre><code>chmod -R a+w /www/wwwroot/html
</code></pre> 
<pre><code>  5. 执行以下命令向MySQL数据库中导入CMS的初始数据。
</code></pre> 
<pre><code>//登录数据库
[root@iZf8z5pcq1lf8zoizwzgufZ ~]# mysql -uroot -p
Enter password: 
//登录成功
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 16
Server version: 5.7.40-log Source distribution

Copyright (c) 2000, 2022, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.
//显示所有数据库
mysql&gt; show database;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'database' at line 1
mysql&gt; show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| pbootcms           |
| performance_schema |
| sys                |
+--------------------+
5 rows in set (0.00 sec)
//使用pbootcms数据库；说白了，就是进入指定的数据库
mysql&gt; use pbootcms
Database changed
//进入指定的数据库就可以执行数据库文件了
//格式：source sql路径
mysql&gt; source /www/wwwroot/html/static/backup/sql/pbootcms_v322.sql
Query OK, 0 rows affected (0.00 sec)

Query OK, 0 rows affected (0.00 sec)
...
//出现这个mysql&gt;就表示执行成功了，再次查看数据库
mysql&gt; SHOW DATABASES; 
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| pbootcms           |
| performance_schema |
| sys                |
+--------------------+
5 rows in set (0.00 sec)
//进入数据库
mysql&gt; use pbootcms
Database changed
//显示所有数据库表，看到如下表说明sql脚本已经执行成功了
mysql&gt; show tables;
+--------------------+
| Tables_in_pbootcms |
+--------------------+
| ay_area            |
| ay_company         |
| ay_config          |
| ay_content         |
| ay_content_ext     |
| ay_content_sort    |
| ay_diy_telephone   |
| ay_extfield        |
| ay_form            |
| ay_form_field      |
| ay_label           |
| ay_link            |
| ay_member          |
| ay_member_comment  |
| ay_member_field    |
| ay_member_group    |
| ay_menu            |
| ay_menu_action     |
| ay_message         |
| ay_model           |
| ay_role            |
| ay_role_area       |
| ay_role_level      |
| ay_site            |
| ay_slide           |
| ay_syslog          |
| ay_tags            |
| ay_type            |
| ay_user            |
| ay_user_role       |
+--------------------+
30 rows in set (0.00 sec)

mysql&gt; 
</code></pre> 
<pre><code>  6. 执行以下命令修改CMS系统数据库配置。
</code></pre> 
<p>**说明：**在执行命令前，请根据参数说明替换您的数据库配置。默认您只需要更改数据库密码即可。</p> 
<pre><code>cat &gt; /www/wwwroot/html/config/database.php &lt;&lt; EOF
&lt;?php
return array(
 'database' =&gt; array(
     'type' =&gt; 'mysqli', // 数据库连接驱动类型: mysqli,sqlite,pdo_mysql,pdo_sqlite
     'host' =&gt; '127.0.0.1', // 数据库服务器
     'user' =&gt; 'root', // 数据库连接用户名
     'passwd' =&gt; 'xxx', // 数据库连接密码
     'port' =&gt; '3306', // 数据库端口
     'dbname' =&gt; 'pbootcms' //数据库名称
 )
);
EOF
</code></pre> 
<pre><code>  7. 执行以下命令启动Apache HTTP服务。
</code></pre> 
<pre><code>systemctl start httpd
</code></pre> 
<pre><code>  8. 返回ECS控制台，在ECS实例列表页面，单击已创建的ECS实例ID链接进入ECS详情页。在左侧导航栏，单击 【本实例安全组】，然后单击安全组的ID链接查看安全组配置。
</code></pre> 
<p><img src="https://images2.imgbox.com/1a/8e/onEkRCgF_o.png" alt="img"></p> 
<pre><code>  9.  在浏览器地址栏输入云服务器的公网IP地址，进入CMS系统首页。
</code></pre> 
<p>系统后台默认访问路径为http://&lt;ECS公网IP地址&gt;/admin.php。默认账号为admin，密码为123456。</p> 
<p>至此您已完成企业网站的搭建，您可以根据公司的需求自定义企业网站的内容。</p> 
<h5><a id="732_SpringBoot_677"></a>7.3.2 使用宝塔面板部署SpringBoot项目</h5> 
<p><strong>一、简介</strong></p> 
<p>Spring boot 项目只需要JDK 环境即可部署成功<br> Tomcat 内置项目是需要安装Tomcat 才能部署成功<br> Tomcat 独立项目是需要安装Tomcat 才能部署成功。一个项目一个Tomcat独立运行互相不会影响其他的tomcat项目</p> 
<p><strong>二、部署Springboot 项目 【前提是需要系统存在JDK】</strong></p> 
<ol><li> <p>用IDEA打开SpringBoot项目</p> <p><img src="https://images2.imgbox.com/cc/5c/iu7GziuI_o.png" alt="image-20221225151753914"></p> </li><li> <p>使用Xftp，将jar包上传到云服务器的 /www/wwwroot 路径下</p> <p><img src="https://images2.imgbox.com/f8/d2/0lgF6u87_o.png" alt="image-20221225151931862"></p> </li><li> <p>初始化数据库文件到ECS</p> <p><img src="https://images2.imgbox.com/3a/be/E3U04Ax1_o.png" alt="image-20221225152643881"></p> </li><li> <p>导入数据库文件</p> <p><img src="https://images2.imgbox.com/42/9e/mfwFvCOL_o.png" alt="image-20221225152849946"></p> </li><li> <p>导入后即可查看到数据库中的表，这样子就说明导入成功了</p> <p><img src="https://images2.imgbox.com/dc/fe/2ePXz1Zg_o.png" alt="image-20221225152959566"></p> </li><li> <p>在宝塔上部署项目</p> <p><img src="https://images2.imgbox.com/20/77/t0gAWyZX_o.png" alt="image-20221225152153806"></p> </li><li> <p>才开始的时候可能不会显示端口号，需要项目完全运行起来才会显示端口号</p> <p><img src="https://images2.imgbox.com/0e/04/NEdXu6XB_o.png" alt="image-20221225152742402"></p> </li><li> <p>在ECS控制台中的安全组例添加8002（网站端口），3306（mysql端口）端口号</p> <p><img src="https://images2.imgbox.com/cf/1f/rUHSs7RP_o.png" alt="image-20221225153123425"></p> </li><li> <p>在宝塔面板中的安全的系统防火墙处，也将8002端口开放</p> <p><img src="https://images2.imgbox.com/f5/60/3isnTLvT_o.png" alt="image-20221225153225284"></p> </li><li> <p>使用本地电脑访问网站：http://47.113.216.255:8002/login/login.html</p> <p><img src="https://images2.imgbox.com/08/85/18NyeDsq_o.png" alt="image-20221225153344565"></p> </li><li> <p>登录成功</p> <p><img src="https://images2.imgbox.com/e6/ba/GDu9jXAh_o.png" alt="image-20221225153437852"></p> </li><li> <p>使用手机访问也可以：http://47.113.216.255:8002/login/login.html</p> <p><img src="https://images2.imgbox.com/e5/e8/VWMNMQwJ_o.jpg" alt="8f9a9a9df8bc59b63fe0f43f034317b"></p> <p><img src="https://images2.imgbox.com/a0/ed/MBSNVlXU_o.jpg" alt="dde9d3d09df6eb645f55ec0b84d381d"></p> </li><li> <p>这样子就部署成功啦！</p> </li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2b4c6be094a2eff0e187091dd50721be/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">数独生成算法的简单实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1324eca3dbc704f204b7f62d70e1a89d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">全局路由拦截、局部路由拦截</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>