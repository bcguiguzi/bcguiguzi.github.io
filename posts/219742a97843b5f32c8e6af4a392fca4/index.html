<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Stable diffusion教程】AutoDL云部署超详细步骤说明【外婆都会】 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Stable diffusion教程】AutoDL云部署超详细步骤说明【外婆都会】" />
<meta property="og:description" content="1 AutoDL云端部署操作流程 1.1 登录/注册 官网：https://www.autodl.com/home，点击右上角登录/注册。此处我已经注册了
如果你是学生的话，注册完之后，进入控制台，在右上角点一下学生认证，然后你就可以享受炼丹会员折扣啦。
1.2 账号充值 登录后在控制台页面，因为抢主机的时候余额不足就没法提交，所以先得给账户充点钱才行，先充3-5块试试水。充值还可以开发票。
1.3 创建实例 充值完成后，点击数字进入容器实例列表页面。进入容器实例页后，点击左上角租用新实例，进入实例创建页。
介绍一下每个模块的功能说明：
1、计费方式：按量计费（按照使用时长扣费）、包日（租用24小时）、包周（租用一周）、包月（租用一个月），一般炼丹选手选择按量计费就行。
2、选择地区：GPU对应的地区，一般选择距离自己最近的区，整体区别不大。
3、GPU型号：对应不同的显卡核心，不同的GPU型号的收费价格不同，越好的GPU收费越贵，看个人经济实力选择。
4、GPU数量：不同的GPU数量（通常情况下不需要筛选）。
5、数据盘：默认不扩容。
镜像：这里选择社区镜像，搜索输入stable-diffusion-webui，选择AUTOMATIC1111/stable-diffusion-webui/NovelAI-Consolidation-Package-3.1:v6这个镜像文件，其他同类型文件多数也可以用，目前这个镜像是测试使用下来最简单方便使用的。
从上往下，我们依次选择计费方式、选好主机、选择合适的社区镜像，最后点击“立即创建”就可以了。创建成功后会直接跳到实例列表页面，会在右上角弹出一个错误提示，需要重新刷新选择主机。
1.4 运行WebUI 实例创建完成后，我们回到容器实例列表页面，可以看到我们刚才创建的实例的状态变化：创建中 → 开机中 → 运行中，第一次拉取镜像较慢，等待大概1分钟左右的时间。当状态成为运行中，这个时候我们点击“快捷工具】- JupyterLab”。
点击JupyterLab后会打开一个新页面，左侧是文件区域，右侧是代码区域，如下图：
这个镜像操作页面非常简单，作者已经集合好代码，不需要额外的代码调整。上面红色文字部分就是作者写的操作说明。我这里也大家简单标注一下操作步骤：
第1步：选中第一行代码(左侧有蓝色条/底色从灰色变成白色代表选中)
第2步：点击三角符号运行代码
前两步骤完成后会出现这样的结果的
第3步：运行完成后，第一行代码会显示“移动完成”。然后浏览器/F5刷新(重新加载)一下页面(重要！！！重要！！！一定要刷新！！！)
第4步：页面刷新完成后，右上角点击python 3(ipykernel),然后弹出选择内核的弹窗，选择“xL_env”（没有刷新就没有这个选项）。
第5步：选中第二行代码，点击上面的三角符号运行代码(跟第一行代码操作一样)，然后运行完成后如下图：
这里也选中运行一下
结果如下图所示的：
上图的三个按钮，依次点击，每步操作等前一步运行完成后再进行下一步，三个按钮都运行按成后如下图，然后切换tab到“启动WebUi”，
1.5 启动Stable diffusion的WebUI页 这里简单介绍一下“启动WebUi”里面的功能模块：
1、用户名和密码：后续访问WebUi时，需要输入用户名和密码，不是必填项。不填写到时候会随机生成一个用户名跟密码，到时候登录直接复制系统生成的就行。也可以填写一个简单易记的用户名和密码(比如用户名abcd，密码123456).
2、运行目录：默认数据盘即可。
3、运行方式：默认正常版即可。
4、开启参数：这里默认是勾选3个。建议同时勾选上“图片反推文本”、“xformers极大改善内存消耗和速度”、“允许WebUI使用安装扩展功能”。
以上设置完成后，点击下面“运行WebUi”的按钮，代码就会自动运行起来：
等待运行大概1分钟左右，代码里出现下方截图里的 URL: http://127.0.0.1:6006，就说明运行成功了。这里我们不需要进行其他任何操作，当前页面也不要关闭，点击网页切换到容器实例的页面。
切换到容器实例列表页的时候，找到你新建的这条实例，点击“自定义服务”
点击“访问”，没有实名认证的话，你的弹窗这里是“实名认证”，需要先去认证一下才行。
点击访问，会自动打开WebUI的页面，这里输入用户名和密码(如果之前没有填写，就去前面那个网页复制一下)。输入用户名和密码后，点击Login。
登录成功后，就会跳到stable-diffusion-webui的界面了。你就可以愉快的开始炼丹啦~~
Ps：有时候跳转的页面有问题，可能关一下学术上网就好了，我是这么解决的！
Stable diffusion的模型决定画风以及图片质量，云部署完成后，只有一个基础模型，生成出来的图质量一般。如果想要更多风格或高质量图像，就需要安装其他模型。
1.6 部署自己的主模型和 LoRA 模型 由于默认的镜像没有附带很多主模型和 LoRA 模型，所以这里我们部署一下自己的模型或者其余的模型（模型网站）。
模型网站（需要科学上网）：https://civitai.com/
我们回到服务器终端页面，进入『autodl-tmp』目录，点击『上传按钮』就可以把模型上传到该目录下。如图：
上传模型" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/219742a97843b5f32c8e6af4a392fca4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-17T19:45:43+08:00" />
<meta property="article:modified_time" content="2023-07-17T19:45:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Stable diffusion教程】AutoDL云部署超详细步骤说明【外婆都会】</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1_AutoDL_0"></a>1 AutoDL云端部署操作流程</h3> 
<h4><a id="11__2"></a>1.1 登录/注册</h4> 
<p>官网：<a href="https://www.autodl.com/home" rel="nofollow">https://www.autodl.com/home</a>，点击右上角<strong>登录/注册</strong>。此处我已经注册了<br> <img src="https://images2.imgbox.com/ec/4c/frMPbCjF_o.png" alt="在这里插入图片描述"><br> 如果你是学生的话，注册完之后，进入控制台，在右上角点一下学生认证，然后你就可以享受炼丹会员折扣啦。</p> 
<h4><a id="12__6"></a>1.2 账号充值</h4> 
<p>登录后在控制台页面，因为抢主机的时候余额不足就没法提交，所以先得给账户充点钱才行，先充3-5块试试水。充值还可以开发票。<br> <img src="https://images2.imgbox.com/26/64/8I89ghd2_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="13__9"></a>1.3 创建实例</h4> 
<p>充值完成后，点击数字进入<strong>容器实例</strong>列表页面。进入容器实例页后，点击<strong>左上角租用新实例，进入实例创建页</strong>。<br> <img src="https://images2.imgbox.com/75/b8/rxHwCWyC_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a2/e0/ijRU2UKQ_o.png" alt="在这里插入图片描述"><br> 介绍一下每个模块的功能说明：</p> 
<p>1、计费方式：按量计费（按照使用时长扣费）、包日（租用24小时）、包周（租用一周）、包月（租用一个月），一般炼丹选手选择按量计费就行。</p> 
<p>2、选择地区：GPU对应的地区，一般选择距离自己最近的区，整体区别不大。</p> 
<p>3、GPU型号：对应不同的显卡核心，不同的GPU型号的收费价格不同，越好的GPU收费越贵，看个人经济实力选择。</p> 
<p>4、GPU数量：不同的GPU数量（通常情况下不需要筛选）。</p> 
<p>5、数据盘：默认不扩容。</p> 
<p><img src="https://images2.imgbox.com/ef/2b/Od8JZyAq_o.png" alt="在这里插入图片描述"><br> <strong>镜像</strong>：这里选择社区镜像，搜索输入stable-diffusion-webui，选择AUTOMATIC1111/stable-diffusion-webui/NovelAI-Consolidation-Package-3.1:v6这个镜像文件，其他同类型文件多数也可以用，目前这个镜像是测试使用下来最简单方便使用的。<br> <img src="https://images2.imgbox.com/35/69/tBuCCTdp_o.png" alt="在这里插入图片描述"><br> 从上往下，我们依次选择计费方式、选好主机、选择合适的社区镜像，最后点击“立即创建”就可以了。创建成功后会直接跳到实例列表页面，<strong>会在右上角弹出一个错误提示，需要重新刷新选择主机</strong>。<br> <img src="https://images2.imgbox.com/ab/3d/lLYfLFVV_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="14_WebUI_30"></a>1.4 运行WebUI</h4> 
<p>实例创建完成后，我们回到容器实例列表页面，可以看到我们刚才创建的实例的状态变化：<strong>创建中 → 开机中 → 运行中</strong>，第一次拉取镜像较慢，等待大概1分钟左右的时间。当状态成为运行中，这个时候我们点击“快捷工具】- JupyterLab”。</p> 
<p><img src="https://images2.imgbox.com/a3/d9/Gjcdmks8_o.png" alt="在这里插入图片描述"><br> 点击JupyterLab后会打开一个新页面，左侧是文件区域，右侧是代码区域，如下图：</p> 
<p><img src="https://images2.imgbox.com/be/0a/RRXnTNBC_o.png" alt="在这里插入图片描述"><br> 这个镜像操作页面非常简单，作者已经集合好代码，不需要额外的代码调整。上面红色文字部分就是作者写的操作说明。我这里也大家简单标注一下操作步骤：<br> 第1步：选中第一行代码(左侧有蓝色条/底色从灰色变成白色代表选中)<br> 第2步：点击三角符号运行代码<br> <img src="https://images2.imgbox.com/9e/d8/WkTGmkLf_o.png" alt="在这里插入图片描述"><br> 前两步骤完成后会出现这样的结果的<br> <img src="https://images2.imgbox.com/96/0f/JEkWEPjl_o.png" alt="在这里插入图片描述"></p> 
<p>第3步：运行完成后，第一行代码会显示“移动完成”。<strong>然后浏览器/F5刷新(重新加载)一下页面(重要！！！重要！！！一定要刷新！！！)</strong></p> 
<p><img src="https://images2.imgbox.com/01/71/g6EHBibx_o.png" alt="在这里插入图片描述"><br> 第4步：页面刷新完成后，右上角点击<strong>python 3(ipykernel)</strong>,然后弹出选择内核的弹窗，<strong>选择“xL_env”（没有刷新就没有这个选项）</strong>。<br> <img src="https://images2.imgbox.com/9f/92/9O9f9Vea_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a7/5c/kEKV4eD0_o.png" alt="在这里插入图片描述"></p> 
<p>第5步：选中第二行代码，点击上面的三角符号运行代码(跟第一行代码操作一样)，然后运行完成后如下图：<br> <img src="https://images2.imgbox.com/d1/b7/rvhRIfFD_o.png" alt="在这里插入图片描述"><br> 这里也选中运行一下<br> <img src="https://images2.imgbox.com/55/33/SvlDjmtS_o.png" alt="在这里插入图片描述"><br> 结果如下图所示的：<br> <img src="https://images2.imgbox.com/e9/3e/5ZUQiaL6_o.png" alt="在这里插入图片描述"><br> 上图的三个按钮，依次点击，<strong>每步操作等前一步运行完成后再进行下一步</strong>，三个按钮都运行按成后如下图，然后切换tab到“<strong>启动WebUi</strong>”，<br> <img src="https://images2.imgbox.com/75/0d/uI5r8UMt_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="15_Stable_diffusionWebUI_60"></a>1.5 启动Stable diffusion的WebUI页</h4> 
<p>这里简单介绍一下“启动WebUi”里面的功能模块：</p> 
<p>1、用户名和密码：<strong>后续访问WebUi时，需要输入用户名和密码，不是必填项</strong>。不填写到时候会随机生成一个用户名跟密码，到时候登录直接复制系统生成的就行。也可以填写一个简单易记的用户名和密码(比如用户名abcd，密码123456).</p> 
<p>2、运行目录：默认数据盘即可。</p> 
<p>3、运行方式：默认正常版即可。</p> 
<p>4、开启参数：这里默认是勾选3个。<strong>建议同时勾选上“图片反推文本”、“xformers极大改善内存消耗和速度”、“允许WebUI使用安装扩展功能”。</strong><br> <img src="https://images2.imgbox.com/ca/0a/W7C0lK89_o.png" alt="在这里插入图片描述"><br> 以上设置完成后，点击下面“运行WebUi”的按钮，代码就会自动运行起来：<br> <img src="https://images2.imgbox.com/a3/0e/gwQ3CWuT_o.png" alt="在这里插入图片描述"><br> 等待运行大概1分钟左右，代码里出现下方截图里的 <strong>URL: http://127.0.0.1:6006</strong>，就说明运行成功了。这里我们不需要进行其他任何操作，当前页面也不要关闭，点击网页切换到容器实例的页面。</p> 
<p><img src="https://images2.imgbox.com/0f/15/8AdVtv4z_o.png" alt="在这里插入图片描述"><br> 切换到容器实例列表页的时候，找到你新建的这条实例，点击“自定义服务”</p> 
<p><img src="https://images2.imgbox.com/c0/13/nq7r3KPx_o.png" alt="在这里插入图片描述"><br> 点击“访问”，没有实名认证的话，你的弹窗这里是“实名认证”，需要先去认证一下才行。</p> 
<p>点击访问，会自动打开WebUI的页面，这里输入用户名和密码(如果之前没有填写，就去前面那个网页复制一下)。输入用户名和密码后，点击Login。</p> 
<p><img src="https://images2.imgbox.com/66/39/czktPRLe_o.png" alt="在这里插入图片描述"></p> 
<p>登录成功后，就会跳到stable-diffusion-webui的界面了。你就可以愉快的开始炼丹啦~~</p> 
<p><img src="https://images2.imgbox.com/c6/81/JhSRHNHk_o.png" alt="在这里插入图片描述"><br> Ps：有时候跳转的页面有问题，可能关一下学术上网就好了，我是这么解决的！</p> 
<p>Stable diffusion的模型决定画风以及图片质量，云部署完成后，只有一个基础模型，生成出来的图质量一般。如果想要更多风格或高质量图像，就需要安装其他模型。</p> 
<h4><a id="16__LoRA__94"></a>1.6 部署自己的主模型和 LoRA 模型</h4> 
<p>由于默认的镜像没有附带很多主模型和 LoRA 模型，所以这里我们部署一下自己的模型或者其余的模型（模型网站）。<br> 模型网站（需要科学上网）：<a href="https://civitai.com/" rel="nofollow">https://civitai.com/</a></p> 
<p>我们回到服务器终端页面，进入『autodl-tmp』目录，点击『上传按钮』就可以把模型上传到该目录下。如图：<br> <img src="https://images2.imgbox.com/7c/8e/U7oEBoXL_o.png" alt="在这里插入图片描述"></p> 
<p>上传模型</p> 
<p>上传完成后，我们还需要把模型部署到正确的目录下。其中：</p> 
<p>主模型移动到 <strong>/root/autodl-tmp/stable-diffusion-webui/models/Stable-diffucion/</strong> 目录下。如图：<br> <img src="https://images2.imgbox.com/68/55/CPo6FlVv_o.png" alt="在这里插入图片描述"><br> 部署主模型</p> 
<p>LoRA 模型移动到 /root/autodl-tmp/stable-diffusion-webui/models/Lora 目录下。如图：</p> 
<p>部署 LoRA 模型</p> 
<p>这样就部署好了我们自己的主模型和 LoRA 模型了。随后执行步骤1.5即可，可以切换模型，如下图所示。<br> <img src="https://images2.imgbox.com/a2/20/MJvZAud1_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c146a2444dd98d19506e6aa1f2718ba1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">企业内网失陷后应急响应</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fccc544f199b67685f46c0b786b1c919/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">八股文总结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>