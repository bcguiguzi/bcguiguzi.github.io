<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Neo4j基础理论、Linux安装与Windows安装以及CQL语法（增删改查、排序、分页、去重） - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Neo4j基础理论、Linux安装与Windows安装以及CQL语法（增删改查、排序、分页、去重）" />
<meta property="og:description" content="一、什么是Neo4j？ Neo4j是一个开源的 无Shcema的 基于java开发的 图形数据库，它将结构化数据存储在图中而不是表中。它是一个嵌入式的、基于磁盘的、具备完全的事务特性的Java持久化引擎。程序数据是在一个面向对象的、灵活的网络结构下，而不是严格、静态的表中,但可以享受到具备完全的事务特性、企业级的数据库的所有好处。
数据库排名
二、Neo4j 模块构建 1、Neo4j 主要构建块 节点属性关系标签数据浏览器 节点
节点是图表的基本单位。 它包含具有键值对的属性
属性
属性是用于描述图节点和关系的键值对
Key =值
其中Key是一个字符串 值可以通过使用任何Neo4j数据类型来表示
关系
关系是图形数据库的另一个主要构建块。 它连接两个节点，如下所示
这里Emp和Dept是两个不同的节点。 “WORKS_FOR”是Emp和Dept节点之间的关系。
因为它表示从Emp到Dept的箭头标记，那么这种关系描述的一样
Emp WORKS_FOR Dept
每个关系包含一个起始节点和一个结束节点。
这里“Emp”是一个起始节点。
“Dept”是端节点。
由于该关系箭头标记表示从“Emp”节点到“Dept”节点的关系，该关系被称为“进入关系”到“Dept”节点。并且“外向关系”到“Emp”节点。
像节点一样，关系也可以包含属性作为键值对。
标签
Label将一个公共名称与一组节点或关系相关联。 节点或关系可以包含一个或多个标签。 我们可以为现有节点或关系创建新标签。 我们可以从现有节点或关系中删除现有标签。
从前面的图中，我们可以观察到有两个节点。
左侧节点都有一个标签：“EMP”，而右侧节点都有一个标签：“Dept”。
这两个节点之间的关系，也有一个标签：“WORKS_FOR”
注： -Neo4j将数据存储在节点或关系的属性中。
2、Neo4j的主要应用场景 社交媒体和社交网络
当使用图形数据库为社交网络应用程序提供动力时，可以轻松利用社交关系或根据活动推断关系。查询社区聚类分析，朋友的朋友推荐，影响者分析，共享和协作关系分析等推荐引擎和产品推荐系统
图形驱动的推荐引擎通过实时利用多种连接，帮助公司个性化产品，内容和服务。内容和媒体推荐，图形辅助搜索引擎，产品推荐，专业网络，社会推荐。身份和访问管理
使用图形数据库进行身份和访问管理时，可以快速有效地跟踪用户，资产，关系和授权。查询访问管理，资产来源，数据所有权，身份管理，互连组织，主数据，资源授权金融反欺诈多维关联分析场景
通过图分析可以清楚地知道洗钱网络及相关嫌疑，例如对用户所使用的帐号、发生交易时的IP地址、MAC地址、手机IMEI号等进行关联分析。 3、Neo4j环境搭建 Neo4j环境Linux下搭建
(1).切换到Linux下 到安装目录neo4j 上传安装包 或者 下载安装包
使用 ftp 工具上传neo4j-community-3.5.17.tar 到 liunx 下或者 wget https://neo4j.com/artifact.php?name=neo4j-community-3.5.17-unix.tar.gz
(2). 解压
tar -xvf neo4j-community-3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/2be259d74a4ed2b483a181c9d66023d4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-14T11:24:57+08:00" />
<meta property="article:modified_time" content="2022-03-14T11:24:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Neo4j基础理论、Linux安装与Windows安装以及CQL语法（增删改查、排序、分页、去重）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="Neo4j_0"></a>一、什么是Neo4j？</h3> 
<p>Neo4j是一个开源的 无Shcema的 基于java开发的 图形数据库，它将结构化数据存储在图中而不是表中。它是一个嵌入式的、基于磁盘的、具备完全的事务特性的Java持久化引擎。程序数据是在一个面向对象的、灵活的网络结构下，而不是严格、静态的表中,但可以享受到具备完全的事务特性、企业级的数据库的所有好处。<br> <a href="https://db-engines.com/en/ranking" rel="nofollow">数据库排名</a></p> 
<h3><a id="Neo4j__3"></a>二、Neo4j 模块构建</h3> 
<h4><a id="1Neo4j__4"></a>1、Neo4j 主要构建块</h4> 
<ul><li>节点</li><li>属性</li><li>关系</li><li>标签</li><li>数据浏览器</li></ul> 
<ol><li> <p>节点<br> 节点是图表的基本单位。 它包含具有键值对的属性</p> </li><li> <p>属性<br> 属性是用于描述图节点和关系的键值对<br> Key =值<br> 其中Key是一个字符串 值可以通过使用任何Neo4j数据类型来表示</p> </li><li> <p>关系<br> 关系是图形数据库的另一个主要构建块。 它连接两个节点，如下所示<br> <img src="https://images2.imgbox.com/c9/ef/oCTHO18E_o.png" alt="在这里插入图片描述"><br> 这里Emp和Dept是两个不同的节点。 “WORKS_FOR”是Emp和Dept节点之间的关系。<br> 因为它表示从Emp到Dept的箭头标记，那么这种关系描述的一样<br> Emp WORKS_FOR Dept<br> 每个关系包含一个起始节点和一个结束节点。<br> 这里“Emp”是一个起始节点。<br> “Dept”是端节点。<br> 由于该关系箭头标记表示从“Emp”节点到“Dept”节点的关系，该关系被称为“进入关系”到“Dept”节点。并且“外向关系”到“Emp”节点。<br> 像节点一样，关系也可以包含属性作为键值对。</p> </li><li> <p>标签<br> Label将一个公共名称与一组节点或关系相关联。 节点或关系可以包含一个或多个标签。 我们可以为现有节点或关系创建新标签。 我们可以从现有节点或关系中删除现有标签。<br> 从前面的图中，我们可以观察到有两个节点。<br> 左侧节点都有一个标签：“EMP”，而右侧节点都有一个标签：“Dept”。<br> 这两个节点之间的关系，也有一个标签：“WORKS_FOR”<br> <strong>注： -Neo4j将数据存储在节点或关系的属性中。</strong></p> </li></ol> 
<h4><a id="2Neo4j_37"></a>2、Neo4j的主要应用场景</h4> 
<ol><li>社交媒体和社交网络<br> 当使用图形数据库为社交网络应用程序提供动力时，可以轻松利用社交关系或根据活动推断关系。查询社区聚类分析，朋友的朋友推荐，影响者分析，共享和协作关系分析等</li><li>推荐引擎和产品推荐系统<br> 图形驱动的推荐引擎通过实时利用多种连接，帮助公司个性化产品，内容和服务。内容和媒体推荐，图形辅助搜索引擎，产品推荐，专业网络，社会推荐。</li><li>身份和访问管理<br> 使用图形数据库进行身份和访问管理时，可以快速有效地跟踪用户，资产，关系和授权。查询访问管理，资产来源，数据所有权，身份管理，互连组织，主数据，资源授权</li><li>金融反欺诈多维关联分析场景<br> 通过图分析可以清楚地知道洗钱网络及相关嫌疑，例如对用户所使用的帐号、发生交易时的IP地址、MAC地址、手机IMEI号等进行关联分析。</li></ol> 
<h4><a id="3Neo4j_47"></a>3、Neo4j环境搭建</h4> 
<ol><li> <p>Neo4j环境Linux下搭建<br> (1).切换到Linux下 到安装目录neo4j 上传安装包 或者 下载安装包<br> 使用 ftp 工具上传neo4j-community-3.5.17.tar 到 liunx 下或者 wget https://neo4j.com/artifact.php?name=neo4j-community-3.5.17-unix.tar.gz<br> (2). 解压<br> tar -xvf neo4j-community-3.5.17.tar<br> (3). 修改配置文件 neo4j.conf<br> vi conf/neo4j.conf<br> 主要是修改 允许远程访问的地址 把对应的注释打开即可<br> dbms.connectors.default_listen_address=0.0.0.0<br> (4).开放对应的访问端口 默认要开放7474 和 7687<br> firewall-cmd --zone=public --add-port=7474/tcp --permanent<br> firewall-cmd --zone=public --add-port=7687/tcp --permanent<br> systemctl reload firewalld<br> (5).启动<br> ./bin/neo4j start<br> (6).使用浏览器 访问服务器上的 neo4j<br> http://192.168.211.133:7474<br> 默认的账号是 neo4j 密码 neo4j 这里第一次登录的话会要求修改密码</p> </li><li> <p>Windows下的安装<br> (1).从https://neo4j.com/download-center/#community 下载最新的Neo4j Server安装文件可以看到 neo4J 软件 exe 或 zip 格式的所有版本<br> (2).下载 Neo4j 3.5.17 (zip)<br> (3).解压<br> (4).修改配置文件<br> dbms.connectors.default_listen_address=0.0.0.0<br> (5) . 通过 neo4j.bat install-service 安装neo4j服务<br> 注意的问题 如果是4.0 以及以上版本需要jdk11<br> 修改文件 bin/neo4j.ps1<br> Import-Module “neo4j的主目录\bin\Neo4j-Management.psd1”<br> (6).neo4j.bat启动<br> neo4j.bat start<br> (7).使用浏览器 访问服务器上的 neo4j<br> http://127.0.0.1:7474<br> 默认的账号是 neo4j 密码 neo4j 这里第一次登录的话会要求修改密码</p> </li></ol> 
<h4><a id="4Noe4j_83"></a>4、Noe4j数据浏览器</h4> 
<ol><li>数据浏览器访问<br> 一旦我们安装Neo4j，我们可以访问Neo4j数据浏览器使用以下URL<br> http:// localhost:7474/browser/<br> <img src="https://images2.imgbox.com/17/ba/4zrG9w6Y_o.png" alt="在这里插入图片描述"></li></ol> 
<p>Neo4j数据浏览器用于执行CQL命令并查看输出输出。<br> 这里我们需要在美元提示符处执行所有CQL命令：“$” 如 CREATE(cc:CreditCard)在美元符号后键入命令，然后单击“执行”按钮运行命令。<br> 它与Neo4j数据库服务器交互，检索和显示下面的结果到那个美元提示。<br> 使用“VI视图”按钮以图形格式查看结果。 上图以“UI视图”格式显示结果<br> <img src="https://images2.imgbox.com/07/76/DjOmWMGs_o.png" alt="在这里插入图片描述"></p> 
<p>导出 CSV 或者 JSON<br> 单击“导出CSV”按钮以csv文件格式导出结果</p> 
<h3><a id="Neo4j_CQL_98"></a>三、Neo4j CQL</h3> 
<h4><a id="1CQL_99"></a>1、CQL简介</h4> 
<p>CQL代表Cypher查询语言。 像关系型数据库具有查询语言SQL，Neo4j使用CQL作为查询语言。<br> Neo4j CQL</p> 
<ul><li>它是Neo4j图形数据库的查询语言。</li><li>它是一种声明性模式匹配语言。</li><li>它遵循SQL语法。</li><li>它的语法是非常简单且人性化、可读的格式。</li></ul> 
<p>常用的Neo4j CQL命令/条款如下：<br> <img src="https://images2.imgbox.com/3e/fe/eWOByy4L_o.png" alt="在这里插入图片描述"></p> 
<p>基于庆余年电视剧人物关系图片：<br> <img src="https://images2.imgbox.com/2f/a4/2UgVQUq6_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2CREATE_113"></a>2、CREATE</h4> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token punctuation">(</span>
	<span class="token operator">&lt;</span>node<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>label<span class="token operator">-</span>name<span class="token operator">&gt;</span>
	<span class="token punctuation">[</span>{
		<span class="token operator">&lt;</span>property1<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>property1<span class="token operator">-</span><span class="token keyword">Value</span><span class="token operator">&gt;</span>
		<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
		<span class="token operator">&lt;</span>propertyn<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>propertyn<span class="token operator">-</span><span class="token keyword">Value</span><span class="token operator">&gt;</span>
	}<span class="token punctuation">]</span>
<span class="token punctuation">)</span>
</code></pre> 
<p>语法说明：<img src="https://images2.imgbox.com/68/95/333TNY6E_o.png" alt="在这里插入图片描述"></p> 
<p>举例:</p> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token punctuation">(</span>person:Person {cid:<span class="token number">1</span><span class="token punctuation">,</span>name:<span class="token string">"范
闲"</span><span class="token punctuation">,</span>age:<span class="token number">24</span><span class="token punctuation">,</span>gender:<span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">character</span>:<span class="token string">"A"</span><span class="token punctuation">,</span>money:<span class="token number">1000</span>}<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>person:Person {cid:<span class="token number">2</span><span class="token punctuation">,</span>name:<span class="token string">"林婉
儿"</span><span class="token punctuation">,</span>age:<span class="token number">20</span><span class="token punctuation">,</span>gender:<span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">character</span>:<span class="token string">"B"</span><span class="token punctuation">,</span>money:<span class="token number">800</span>}<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>person:Person {cid:<span class="token number">3</span><span class="token punctuation">,</span>name:<span class="token string">"庆
帝"</span><span class="token punctuation">,</span>age:<span class="token number">49</span><span class="token punctuation">,</span>gender:<span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">character</span>:<span class="token string">"A"</span><span class="token punctuation">,</span>money:<span class="token number">8900</span>}<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="3MATCH_RETURN_139"></a>3、MATCH RETURN命令语法</h4> 
<pre><code class="prism language-sql"><span class="token keyword">MATCH</span>
<span class="token punctuation">(</span>
	<span class="token operator">&lt;</span>node<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>label<span class="token operator">-</span>name<span class="token operator">&gt;</span>
<span class="token punctuation">)</span> 
<span class="token keyword">RETURN</span>
	<span class="token operator">&lt;</span>node<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token operator">&lt;</span>property1<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token punctuation">,</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
	<span class="token operator">&lt;</span>node<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token operator">&lt;</span>propertyn<span class="token operator">-</span>name<span class="token operator">&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/95/5f/T5sK33tb_o.png" alt="在这里插入图片描述"></p> 
<p>举例：</p> 
<pre><code class="prism language-sql"><span class="token keyword">MATCH</span> <span class="token punctuation">(</span>person:Person<span class="token punctuation">)</span> <span class="token keyword">return</span> person
<span class="token keyword">MATCH</span> <span class="token punctuation">(</span>person:Person<span class="token punctuation">)</span> <span class="token keyword">return</span> person<span class="token punctuation">.</span>name<span class="token punctuation">,</span>person<span class="token punctuation">.</span>age
</code></pre> 
<h4><a id="4_161"></a>4、关系创建</h4> 
<ol><li>使用现有节点创建没有属性的关系</li></ol> 
<pre><code class="prism language-sql"><span class="token keyword">MATCH</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>node1<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>node1<span class="token operator">-</span>label<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>node2<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>node2<span class="token operator">-</span>label<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
<span class="token punctuation">(</span><span class="token operator">&lt;</span>node1<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span><span class="token operator">&lt;</span>relationship<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>relationship<span class="token operator">-</span>label<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>node2<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token keyword">RETURN</span> 相应的内容
</code></pre> 
<p>语法说明:<br> <img src="https://images2.imgbox.com/d8/07/pTnWgSBl_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-sql">创建关系
<span class="token keyword">match</span><span class="token punctuation">(</span>person:Person {name:<span class="token string">"范闲"</span>}<span class="token punctuation">)</span> <span class="token punctuation">,</span><span class="token punctuation">(</span>person2:Person {name:<span class="token string">"林婉儿"</span>}<span class="token punctuation">)</span>
<span class="token keyword">create</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:Couple<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>person2<span class="token punctuation">)</span><span class="token punctuation">;</span>
查询关系
<span class="token keyword">match</span> p <span class="token operator">=</span> <span class="token punctuation">(</span>person:Person {name:<span class="token string">"范闲"</span>}<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:Couple<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>person2:Person<span class="token punctuation">)</span> <span class="token keyword">return</span> p
<span class="token keyword">match</span> <span class="token punctuation">(</span>p1:Person {name:<span class="token string">"范闲"</span>}<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:Couple<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>p2:Person<span class="token punctuation">)</span> <span class="token keyword">return</span> p1<span class="token punctuation">,</span>p2
<span class="token keyword">match</span> <span class="token punctuation">(</span>p1:Person {name:<span class="token string">"范闲"</span>}<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:Couple<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>p2:Person<span class="token punctuation">)</span> <span class="token keyword">return</span> r
</code></pre> 
<ol start="2"><li>使用现有节点创建有属性的关系</li></ol> 
<pre><code class="prism language-sql"><span class="token keyword">MATCH</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>node1<span class="token operator">-</span>label<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>node1<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>node2<span class="token operator">-</span>label<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>node2<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
	<span class="token punctuation">(</span><span class="token operator">&lt;</span>node1<span class="token operator">-</span>label<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span><span class="token operator">&lt;</span>relationship<span class="token operator">-</span>label<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>relationship<span class="token operator">-</span>name<span class="token operator">&gt;</span>
	{<!-- --><span class="token operator">&lt;</span>define<span class="token operator">-</span>properties<span class="token operator">-</span>list<span class="token operator">&gt;</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>node2<span class="token operator">-</span>label<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token keyword">RETURN</span> <span class="token operator">&lt;</span>relationship<span class="token operator">-</span>label<span class="token operator">-</span>name<span class="token operator">&gt;</span>
其中<span class="token operator">&lt;</span>define<span class="token operator">-</span>properties<span class="token operator">-</span>list<span class="token operator">&gt;</span> 是分配给新创建关系的属性（名称 <span class="token operator">-</span> 值对）的列表。
{
	<span class="token operator">&lt;</span>property1<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>property1<span class="token operator">-</span><span class="token keyword">value</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
	<span class="token operator">&lt;</span>property2<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>property2<span class="token operator">-</span><span class="token keyword">value</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
	<span class="token operator">&lt;</span>propertyn<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>propertyn<span class="token operator">-</span><span class="token keyword">value</span><span class="token operator">&gt;</span>
}
</code></pre> 
<pre><code class="prism language-sql"><span class="token keyword">match</span><span class="token punctuation">(</span>person:Person {name:<span class="token string">"范闲"</span>}<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>person2:Person {name:<span class="token string">"林婉儿"</span>}<span class="token punctuation">)</span>
<span class="token keyword">create</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:Couple{mary_date:<span class="token string">"12/12/2021"</span><span class="token punctuation">,</span>price:<span class="token number">55000</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>person2<span class="token punctuation">)</span>
<span class="token keyword">return</span> r<span class="token punctuation">;</span>
</code></pre> 
<ol start="3"><li>使用新节点创建没有属性的关系</li></ol> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span>
<span class="token punctuation">(</span><span class="token operator">&lt;</span>node1<span class="token operator">-</span>label<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>node1<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token punctuation">[</span><span class="token operator">&lt;</span>relationship<span class="token operator">-</span>label<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>relationship<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token punctuation">]</span>
<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>node1<span class="token operator">-</span>label<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>node1<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-sql"><span class="token keyword">create</span><span class="token punctuation">(</span>person1:Person {cid:<span class="token number">4</span><span class="token punctuation">,</span>name:<span class="token string">"长公
主"</span><span class="token punctuation">,</span>age:<span class="token number">49</span><span class="token punctuation">,</span>gender:<span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">character</span>:<span class="token string">"A"</span><span class="token punctuation">,</span>money:<span class="token number">5000</span>}<span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token punctuation">[</span>r:Friend<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span>
<span class="token punctuation">(</span>person2:Person {cid:<span class="token number">7</span><span class="token punctuation">,</span>name:<span class="token string">"九品射手燕小
乙"</span><span class="token punctuation">,</span>age:<span class="token number">48</span><span class="token punctuation">,</span>gender:<span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">character</span>:<span class="token string">"B"</span><span class="token punctuation">,</span>money:<span class="token number">1000</span>}<span class="token punctuation">)</span>
</code></pre> 
<ol start="4"><li>使用新节点创建有属性的关系</li></ol> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span>
<span class="token punctuation">(</span><span class="token operator">&lt;</span>node1<span class="token operator">-</span>label<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>node1<span class="token operator">-</span>name<span class="token operator">&gt;</span>{<!-- --><span class="token operator">&lt;</span>define<span class="token operator">-</span>properties<span class="token operator">-</span>list<span class="token operator">&gt;</span>}<span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token punctuation">[</span><span class="token operator">&lt;</span>relationship<span class="token operator">-</span>label<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>relationship<span class="token operator">-</span>name<span class="token operator">&gt;</span>{<!-- --><span class="token operator">&lt;</span>define<span class="token operator">-</span>properties<span class="token operator">-</span>list<span class="token operator">&gt;</span>}<span class="token punctuation">]</span>
<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>node1<span class="token operator">-</span>label<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>node1<span class="token operator">-</span>name<span class="token operator">&gt;</span>{<!-- --><span class="token operator">&lt;</span>define<span class="token operator">-</span>properties<span class="token operator">-</span>list<span class="token operator">&gt;</span>}<span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-sql"><span class="token keyword">create</span> <span class="token punctuation">(</span>person1:Person {cid:<span class="token number">9</span><span class="token punctuation">,</span>name:<span class="token string">"靖王世
子"</span><span class="token punctuation">,</span>age:<span class="token number">23</span><span class="token punctuation">,</span>gender:<span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">character</span>:<span class="token string">"A"</span><span class="token punctuation">,</span>money:<span class="token number">3000</span>}<span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>r:Friend {<!-- --><span class="token keyword">date</span>:<span class="token string">"11-02-2021"</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span>
<span class="token punctuation">(</span>person2:Person {cid:<span class="token number">8</span><span class="token punctuation">,</span>name:<span class="token string">"二皇子"</span><span class="token punctuation">,</span>age:<span class="token number">24</span><span class="token punctuation">,</span>gender:<span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">character</span>:<span class="token string">"B"</span><span class="token punctuation">,</span>money:<span class="token number">6000</span>}<span class="token punctuation">)</span>
</code></pre> 
<p>关系和节点的属性可以使用的类型<br> <img src="https://images2.imgbox.com/38/74/Y8bPvbt1_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="5CREATE_241"></a>5、CREATE创建多个标签</h4> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>node<span class="token operator">-</span>name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>label<span class="token operator">-</span>name1<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>label<span class="token operator">-</span>name2<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>:<span class="token operator">&lt;</span>label<span class="token operator">-</span>namen<span class="token operator">&gt;</span><span class="token punctuation">)</span>
如:
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>person:Person:Beauty:Picture {cid:<span class="token number">20</span><span class="token punctuation">,</span>name:<span class="token string">"小美女"</span>}<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="6WHERE__249"></a>6、WHERE 子句</h4> 
<pre><code class="prism language-sql">简单的<span class="token keyword">WHERE</span>子句
<span class="token keyword">WHERE</span> <span class="token operator">&lt;</span>condition<span class="token operator">&gt;</span>
复杂的<span class="token keyword">WHERE</span>子句
<span class="token keyword">WHERE</span> <span class="token operator">&lt;</span>condition<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token keyword">boolean</span><span class="token operator">-</span>operator<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>condition<span class="token operator">&gt;</span>
</code></pre> 
<p>where 中的比较运算符 和 之前mysql的相同 如 = != &lt;&gt; &gt; &lt; 等<br> <img src="https://images2.imgbox.com/31/cb/hhAgE4MU_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-sql"><span class="token keyword">MATCH</span> <span class="token punctuation">(</span>person:Person<span class="token punctuation">)</span>
<span class="token keyword">WHERE</span> person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'范闲'</span> <span class="token operator">OR</span> person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'靖王世子'</span>
<span class="token keyword">RETURN</span> person
</code></pre> 
<h4><a id="7DELETE___REMOVE_267"></a>7、DELETE 子句 和 REMOVE子句</h4> 
<p>DELETE 子句</p> 
<ul><li>删除节点</li><li>删除节点及相关节点和关系</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">match</span> p <span class="token operator">=</span> <span class="token punctuation">(</span>:Person {name:<span class="token string">"林婉儿"</span>}<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r:Couple<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>:Person<span class="token punctuation">)</span> <span class="token keyword">delete</span> r
</code></pre> 
<p>REMOVE子句</p> 
<ul><li>删除节点或关系的标签</li><li>删除节点或关系的属性</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">MATCH</span> <span class="token punctuation">(</span>person:Person {name:<span class="token string">"小美女"</span>}<span class="token punctuation">)</span>
REMOVE person<span class="token punctuation">.</span>cid
</code></pre> 
<h4><a id="8SET_288"></a>8、SET子句</h4> 
<ul><li>向现有节点或关系添加新属性</li><li>更新属性值</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">MATCH</span> <span class="token punctuation">(</span>person:Person {cid:<span class="token number">1</span>}<span class="token punctuation">)</span>
<span class="token keyword">SET</span> person<span class="token punctuation">.</span>money <span class="token operator">=</span> <span class="token number">3456</span><span class="token punctuation">,</span>person<span class="token punctuation">.</span>age<span class="token operator">=</span><span class="token number">25</span>
</code></pre> 
<h4><a id="9ORDER_BY__297"></a>9、ORDER BY 子句</h4> 
<p>“ORDER BY”子句，对MATCH查询返回的结果进行排序。<br> 我们可以按升序或降序对行进行排序。<br> 默认情况下，它按升序对行进行排序。 如果我们要按降序对它们进行排序，我们需要使用DESC子句。</p> 
<pre><code class="prism language-sql"><span class="token keyword">MATCH</span> <span class="token punctuation">(</span>person:Person<span class="token punctuation">)</span>
<span class="token keyword">RETURN</span> person<span class="token punctuation">.</span>name<span class="token punctuation">,</span>person<span class="token punctuation">.</span>money
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> person<span class="token punctuation">.</span>money <span class="token keyword">DESC</span>
</code></pre> 
<h4><a id="10SKIP__LIMIT_308"></a>10、SKIP 和 LIMIT</h4> 
<p>Neo4j CQL已提供“SKIP”子句来过滤或限制查询返回的行数。 它修整了CQL查询结果集顶部的结果。<br> Neo4j CQL已提供“LIMIT”子句来过滤或限制查询返回的行数。 它修剪CQL查询结果集底部的结果。</p> 
<pre><code class="prism language-sql"><span class="token keyword">MATCH</span> <span class="token punctuation">(</span>person:Person<span class="token punctuation">)</span>
<span class="token keyword">RETURN</span> ID<span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">,</span>person<span class="token punctuation">.</span>name<span class="token punctuation">,</span>person<span class="token punctuation">.</span>money
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> person<span class="token punctuation">.</span>money <span class="token keyword">DESC</span> skip <span class="token number">4</span> <span class="token keyword">limit</span> <span class="token number">2</span>
</code></pre> 
<h4><a id="11DISTINCT__318"></a>11、DISTINCT 去重</h4> 
<p>这个函数的用法就像SQL中的distinct关键字，返回的是所有不同值</p> 
<pre><code class="prism language-sql"><span class="token keyword">MATCH</span> <span class="token punctuation">(</span>p:Person<span class="token punctuation">)</span> <span class="token keyword">RETURN</span> <span class="token keyword">Distinct</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token keyword">character</span><span class="token punctuation">)</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d8ecac1c20e27239d4bd84271eb55283/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Cesium 之加载ArcGIS Server 4490切片服务（含orgin -400 400）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6e8207d939670701091bdbc60d36696b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">蓝桥杯学习记录||ALGO-996 车的放置</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>