<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>TikTok数据采集技巧，轻松get！ - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="TikTok数据采集技巧，轻松get！" />
<meta property="og:description" content="热身 - 用python写一个自动刷Tiktok的代码 用Python进行自动上下滑动手机屏幕通常涉及到用ADB(Android Debug Bridge)命令或Appium、Airtest这样的自动化工具。Android的话使用uiautomator2也是一个很不错的选择。
使用adb import subprocess def swipe_with_adb(start_x, start_y, end_x, end_y, duration=200): subprocess.run(f&#34;adb shell input swipe {start_x} {start_y} {end_x} {end_y} {duration}&#34;, shell=True) # 向上滑动 swipe_with_adb(300, 1000, 300, 500) # 向下滑动 swipe_with_adb(300, 500, 300, 1000) 这个坐标可以通过配置文件读取，这样之后只需要修改配置文件就可以了，配置文件可以使用yaml或者config.ini格式。
如果你连接了多台设备，需要通过 ADB 指定设备进行滑动，你可以使用以下命令：
adb -s &lt;设备序列号&gt; shell input swipe x1 y1 x2 y2 这里 &lt;设备序列号&gt; 是你要操作的设备的序列号，可以通过 adb devices 命令来获取。x1 y1 x2 y2 是起始点和结束点的坐标。
以下是一个例子：
adb -s HT68B1A04448 shell input swipe 500 1000 500 500 这个命令会让编号为 HT68B1A04448 的设备从坐标 (500,1000) 滑动到 (500,500)。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/806d2a37a36901e30a78ccce7f92c60a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-12T15:38:39+08:00" />
<meta property="article:modified_time" content="2024-03-12T15:38:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">TikTok数据采集技巧，轻松get！</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="__pythonTiktok_0"></a>热身 - 用python写一个自动刷Tiktok的代码</h3> 
<p>用Python进行自动上下滑动手机屏幕通常涉及到用ADB(Android Debug Bridge)命令或Appium、Airtest这样的自动化工具。Android的话使用uiautomator2也是一个很不错的选择。</p> 
<h4><a id="adb_4"></a>使用adb</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span> subprocess

<span class="token keyword">def</span> <span class="token function">swipe_with_adb</span><span class="token punctuation">(</span>start_x<span class="token punctuation">,</span> start_y<span class="token punctuation">,</span> end_x<span class="token punctuation">,</span> end_y<span class="token punctuation">,</span> duration<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    subprocess<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"adb shell input swipe </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>start_x<span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>start_y<span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>end_x<span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>end_y<span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>duration<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">,</span> shell<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># 向上滑动</span>
swipe_with_adb<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>

<span class="token comment"># 向下滑动</span>
swipe_with_adb<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
</code></pre> 
<p>这个坐标可以通过配置文件读取，这样之后只需要修改配置文件就可以了，配置文件可以使用yaml或者config.ini格式。</p> 
<p>如果你连接了多台设备，需要通过 ADB 指定设备进行滑动，你可以使用以下命令：</p> 
<pre><code class="prism language-bash">adb <span class="token parameter variable">-s</span> <span class="token operator">&lt;</span>设备序列号<span class="token operator">&gt;</span> shell input swipe x1 y1 x2 y2
</code></pre> 
<p>这里 <code>&lt;设备序列号&gt;</code> 是你要操作的设备的序列号，可以通过 <code>adb devices</code> 命令来获取。<code>x1 y1 x2 y2</code> 是起始点和结束点的坐标。</p> 
<p>以下是一个例子：</p> 
<pre><code class="prism language-bash">adb <span class="token parameter variable">-s</span> HT68B1A04448 shell input swipe <span class="token number">500</span> <span class="token number">1000</span> <span class="token number">500</span> <span class="token number">500</span>
</code></pre> 
<p>这个命令会让编号为 HT68B1A04448 的设备从坐标 (500,1000) 滑动到 (500,500)。</p> 
<h4><a id="Airtest_37"></a>使用Airtest</h4> 
<p>先要安装Airtest库，<code>pip install airtest</code></p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> airtest<span class="token punctuation">.</span>core<span class="token punctuation">.</span>api <span class="token keyword">import</span> <span class="token operator">*</span>

connect_device<span class="token punctuation">(</span><span class="token string">'Android:///'</span><span class="token punctuation">)</span>
devices <span class="token operator">==</span> <span class="token string">"HT68B1A04448"</span>
connect_device<span class="token punctuation">(</span><span class="token string">"Android:///"</span> <span class="token operator">+</span> devices<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">swipe_with_airtest</span><span class="token punctuation">(</span>direction<span class="token operator">=</span><span class="token string">'up'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> direction <span class="token operator">==</span> <span class="token string">'up'</span><span class="token punctuation">:</span>
        swipe<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        swipe<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 向上滑动</span>
swipe_with_airtest<span class="token punctuation">(</span><span class="token string">'up'</span><span class="token punctuation">)</span>

<span class="token comment"># 向下滑动</span>
swipe_with_airtest<span class="token punctuation">(</span><span class="token string">'down'</span><span class="token punctuation">)</span>
</code></pre> 
<p>设备devices序列号通过adb devices命令获取</p> 
<h4><a id="uiautomator2_62"></a>使用uiautomator2</h4> 
<p>先要安装uiautomator2库，<code>pip install uiautomator2</code></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> uiautomator2 <span class="token keyword">as</span> u2

<span class="token keyword">def</span> <span class="token function">swipe_with_uiautomator2</span><span class="token punctuation">(</span>direction<span class="token operator">=</span><span class="token string">'up'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 连接到设备</span>
    <span class="token comment"># 指定设备的IP地址或者序列号，如果只连了一台设备则不用写序列号</span>
	d <span class="token operator">=</span> u2<span class="token punctuation">.</span>connect_adb<span class="token punctuation">(</span><span class="token string">"HT68B1A04448"</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> direction <span class="token operator">==</span> <span class="token string">'up'</span><span class="token punctuation">:</span>
        d<span class="token punctuation">.</span>swipe<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        d<span class="token punctuation">.</span>swipe<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>

<span class="token comment"># 向上滑动</span>
swipe_with_uiautomator2<span class="token punctuation">(</span><span class="token string">'up'</span><span class="token punctuation">)</span>

<span class="token comment"># 向下滑动</span>
swipe_with_uiautomator2<span class="token punctuation">(</span><span class="token string">'down'</span><span class="token punctuation">)</span>
</code></pre> 
<p>如果遇到配置相关问题，可以翻看我以前写的uiautomator2系列文章。</p> 
<p>以上方法都需要你自己先点开Tiktok。</p> 
<h3><a id="_adb_90"></a>知识拓展- adb常用命令</h3> 
<p>当使用 ADB（Android Debug Bridge）时，有许多命令可用于执行各种操作。以下是一些常用的 ADB 命令及其功能：</p> 
<ol><li><strong>设备连接与识别</strong>： 
  <ul><li><code>adb devices</code>：列出已连接的设备。</li><li><code>adb connect </code>：通过网络连接到设备。</li><li><code>adb disconnect </code>：断开与网络设备的连接。</li></ul> </li><li><strong>应用管理</strong>： 
  <ul><li><code>adb install &lt;应用文件.apk&gt;</code>：将应用安装到设备。</li><li><code>adb uninstall &lt;应用包名&gt;</code>：从设备卸载应用。</li><li><code>adb shell pm list packages</code>：列出设备上已安装的包。</li></ul> </li><li><strong>文件传输</strong>： 
  <ul><li><code>adb push &lt;本地文件路径&gt; &lt;设备路径&gt;</code>：从计算机推送文件到设备。</li><li><code>adb pull &lt;设备路径&gt; &lt;本地文件路径&gt;</code>：从设备拉取文件到计算机。</li></ul> </li><li><strong>屏幕操作</strong>： 
  <ul><li><code>adb shell input tap x y</code>：在设备屏幕上模拟点击操作。</li><li><code>adb shell input swipe x1 y1 x2 y2</code>：在设备屏幕上模拟滑动操作。</li><li><code>adb shell am start -a android.intent.action.VIEW -d </code>：打开指定的网址。</li></ul> </li><li><strong>屏幕截图与录制</strong>： 
  <ul><li><code>adb shell screencap &lt;文件路径&gt;</code>：对设备进行屏幕截图，并保存到指定文件。</li><li><code>adb shell screenrecord &lt;文件路径&gt;</code>：在设备上录制屏幕视频，并保存到指定文件。</li></ul> </li><li><strong>日志与调试</strong>： 
  <ul><li><code>adb logcat</code>：获取设备日志信息。</li><li><code>adb bugreport &lt;文件路径&gt;</code>：生成设备的 bug 报告信息并保存到指定文件。</li></ul> </li><li><strong>设备状态</strong>： 
  <ul><li><code>adb reboot</code>：重新启动设备。</li><li><code>adb shell dumpsys battery</code>：显示设备电池信息。</li></ul> </li></ol> 
<p>更多的adb命令可以后台留言，我以后出一个更全的版本哦。</p> 
<h3><a id="___TikTok_123"></a>正题 - TikTok数据爬取</h3> 
<p>我打开了万能的ChatGPT4，我叫它给我整一个，结果，它非常狂啊。</p> 
<p><img src="https://images2.imgbox.com/65/c4/03r27YQ9_o.png" alt="1708766336150"></p> 
<p>它就是不给，我略施小计，使用各种promot诱导它，最后虽然给出来了一些爬取的方法，但是，限制还是很大，而且需要根据一些场景进行代码修改。对于代码小白来说不友好。</p> 
<p>有没有什么方法可以快速获取呢？就像B站、公众号、抖音、小红书、快手等自媒体排行榜可以使用某个平台一样可以直接看到呢？</p> 
<p><img src="https://images2.imgbox.com/08/ab/8PgCkn8L_o.png" alt="1708766789474"></p> 
<p>这些都只是搜集国内的数据，而tiktok是国外的数据，我们如何获取？</p> 
<p>这里要使用到的就是我们老伙伴了，亮数据！启动！</p> 
<h4><a id="Tiktok_141"></a>Tiktok个人资料数据集(公共网络数据)</h4> 
<p>文末有注册方法，点击阅读原文也可以进行注册，最好用电脑哦。</p> 
<p>登录成功后，点击查看数据产品 -&gt; 数据集商城 -&gt; 搜索Tiktok</p> 
<p><img src="https://images2.imgbox.com/5a/54/u2svsvMn_o.png" alt="1708767255876"></p> 
<p>看到没，这惊人的数据量！点击查看数据集。</p> 
<p>点击左侧的Over 1M followers查看Tik Tok超过一百万粉丝的有哪些，我们可以看到如下数据，可以下载样本数据。</p> 
<p><img src="https://images2.imgbox.com/61/54/0DZPatfV_o.png" alt="1708767438227"></p> 
<p><strong>Over 1M followers</strong></p> 
<p>这个专门的子集专注于拥有超过 100 万粉丝的 TikTok 个人资料，提供对平台上知名影响者的深入洞察。它包含关键细节，例如影响者姓名、引人入胜的传记、参与率、经过验证的状态、签名内容片段和关键受众人口统计数据。此外，它还包括高清个人资料图片和精选表现最好的视频等媒体资产。</p> 
<p><strong>Over 1M videos</strong></p> 
<p>TikTok 个人资料数据集中的这个专业子集突出显示了已将 1,000 多个视频上传到该平台的用户。它包括基本的详细信息，例如用户的昵称、关注者数量、参与度指标（喜欢、评论）、视频统计信息和唯一标识符（ID、URL、短 ID）。这个精心策划的系列对于旨在探索和了解多产 TikTok 用户的内容创作模式、促进趋势分析和潜在合作机会的个人和企业来说非常宝贵。</p> 
<p>我们可以在下载好的表格里面，对他们的粉丝数、视频数、点赞数、评论等各项信息进行排序、筛选。</p> 
<p><img src="https://images2.imgbox.com/15/99/XGMWksgO_o.png" alt="1708768026126"></p> 
<p>部分筛选展示。</p> 
<p><img src="https://images2.imgbox.com/cb/c9/ZmUqc6sw_o.png" alt="1708768486689"></p> 
<p>除此之外，如果你想要自定义筛选也是可以的。</p> 
<p><img src="https://images2.imgbox.com/8e/25/1aYDMtpl_o.png" alt="1708768755187"></p> 
<p>更多内容直接注册亮数据即可<a href="https://get.brightdata.com/szx9v3lbk0ty" rel="nofollow">免费试用</a></p> 
<p>也可以点击原文链接进行注册哦 ~</p> 
<p>注：注册完需要联系中文客服领取免费试用哦 ~</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/50d5718d0909f60c597888fa04a80d4c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">布隆过滤器和布谷鸟过滤器详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e470cd63ad0962ba3f59eeb1eb4d5e62/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">记录 Dubbo&#43;Zookeeper 学习Demo</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>