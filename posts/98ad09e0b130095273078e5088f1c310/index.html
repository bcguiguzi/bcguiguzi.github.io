<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C#反编译后窗体设计器无法打开 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C#反编译后窗体设计器无法打开" />
<meta property="og:description" content="Winform工程反编译后，设计器会出现无法打开的问题，可能需要修改几点：
对所有System.Windows.Forms.命名空间里面的控件需要全命名空间的声明,例如base.AutoScaleMode = AutoScaleMode.Font;
就要改成base.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;
而TextBox textBox1; 也要改成private System.Windows.Forms.TextBox textBox1;属性问题：比如一个叫Names的属性被反编译后，可能还原为的set_Names(names)，get_Names()方法，逐个替换可能很慢，可采用正则表达式整体替换。 对于set_Xxx(xxx)方法，可替换 set_{[a-z]*}\( 为 \1 = ( 对于get_Xxx()方法，可替换 get_{[a-z]*}\(\) 为 \1 ref改为out等，再修复个别被误换的方法。
委托和回调函数问题：一般会被还原为add_Xxx(MethodsName)方法，需要改为&#43;= MethodsName资源问题：需要使用.Net Framework SDK 下的 resgen.exe 工具，反编译嵌入资源文件*.resources为*.resx文件，
语法为：ResGen.exe .resources .resx，然后将.resx包含入项目，就会自动和同名的窗体文件.cs关联，如果没有关联可采用先排除再添加大法，搞定。窗体设计器识别问题：需要把以下代码
ComponentResourceManager manager = new ComponentResourceManager(typeof(ClassName));
替换为
System.ComponentModel.ComponentResourceManager resources = new System.ComponentModel.ComponentResourceManager(typeof(ClassName));
窗体设计器才能正常识别。未能分析方法“InitializeComponent”。分析器报告以下错误:“Invalid symbol kind: NamedType”。请查看任务列表以了解潜在的错误。
找到报错的窗口的designer.cs 文件中 InitializeComponent这个方法，其中this.Name=nameof(xxxxxx);这一行，改为：this.Name=“xxxx”;部分无法解决的语法错误，可通过其他反编译软件生成后，对比逻辑解决。部分无法识别的错误，通过代码清理重新打开，可能解决。 最后，推荐使用ILSpy，以上部分问题会在生成时解决。
以上部分转载于此网址：https://www.cnblogs.com/verygis/archive/2008/12/02/1346072.html" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/98ad09e0b130095273078e5088f1c310/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-09T16:07:03+08:00" />
<meta property="article:modified_time" content="2021-12-09T16:07:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C#反编译后窗体设计器无法打开</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>Winform工程反编译后，设计器会出现无法打开的问题，可能需要修改几点：</p> 
<ol><li>对所有System.Windows.Forms.命名空间里面的控件需要全命名空间的声明,例如base.AutoScaleMode = AutoScaleMode.Font;<br> 就要改成base.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;<br> 而TextBox textBox1; 也要改成private System.Windows.Forms.TextBox textBox1;</li><li>属性问题：比如一个叫Names的属性被反编译后，可能还原为的set_Names(names)，get_Names()方法，逐个替换可能很慢，可采用正则表达式整体替换。</li></ol> 
<pre><code class="prism language-csharp">对于<span class="token function">set_Xxx</span><span class="token punctuation">(</span>xxx<span class="token punctuation">)</span>方法，可替换
set_<span class="token punctuation">{<!-- --></span><span class="token punctuation">[</span>a<span class="token operator">-</span>z<span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">}</span>\<span class="token punctuation">(</span>
为
\<span class="token number">1</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
</code></pre> 
<pre><code class="prism language-csharp">对于<span class="token function">get_Xxx</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法，可替换
get_<span class="token punctuation">{<!-- --></span><span class="token punctuation">[</span>a<span class="token operator">-</span>z<span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">}</span>\<span class="token punctuation">(</span>\<span class="token punctuation">)</span>
为
\<span class="token number">1</span>
</code></pre> 
<p>ref改为out等，再修复个别被误换的方法。</p> 
<ol start="3"><li>委托和回调函数问题：一般会被还原为add_Xxx(MethodsName)方法，需要改为+= MethodsName</li><li>资源问题：需要使用.Net Framework SDK 下的 resgen.exe 工具，反编译嵌入资源文件*.resources为*.resx文件，<br> 语法为：ResGen.exe <em>.resources <em>.resx，然后将</em>.resx包含入项目，就会自动和同名的窗体文件</em>.cs关联，如果没有关联可采用先排除再添加大法，搞定。</li><li>窗体设计器识别问题：需要把以下代码<br> ComponentResourceManager manager = new ComponentResourceManager(typeof(ClassName));<br> 替换为<br> System.ComponentModel.ComponentResourceManager resources = new System.ComponentModel.ComponentResourceManager(typeof(ClassName));<br> 窗体设计器才能正常识别。</li><li>未能分析方法“InitializeComponent”。分析器报告以下错误:“Invalid symbol kind: NamedType”。请查看任务列表以了解潜在的错误。<br> 找到报错的窗口的designer.cs 文件中 InitializeComponent这个方法，其中this.Name=nameof(xxxxxx);这一行，改为：this.Name=“xxxx”;</li><li>部分无法解决的语法错误，可通过其他反编译软件生成后，对比逻辑解决。</li><li>部分无法识别的错误，通过代码清理重新打开，可能解决。</li></ol> 
<p>最后，推荐使用ILSpy，以上部分问题会在生成时解决。</p> 
<p>以上部分转载于此网址：<a href="https://www.cnblogs.com/verygis/archive/2008/12/02/1346072.html" rel="nofollow">https://www.cnblogs.com/verygis/archive/2008/12/02/1346072.html</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1422286e1820e5b5fdb62dfa5930b7ed/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">nodejs读取excel文件内容</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e97bb3ddab8a7a3da71fe11a94ebfea2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">cJSON的使用（通过解析头文件和官方示例）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>