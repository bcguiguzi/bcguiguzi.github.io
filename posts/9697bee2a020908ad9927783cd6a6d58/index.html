<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>眼图的形成原理 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="眼图的形成原理" />
<meta property="og:description" content="【摘要】 前言眼图的形成原理眼图的参数含义眼图的模板眼图的识别依据？ 前言 眼图的测量对于高速串行总线的重要性不言而喻，眼图反映了总线通道环境的优劣，信号的好坏等等，正确的识别眼图是一项基础技能，如果具体识别眼图呢？ 下面详细地与你分享！ 眼图的形成原理 简单来说，眼图的形成是一系列数字信号在示波器上积累并显示的过程，眼图包含丰富的信息，它对...
前言眼图的形成原理眼图的参数含义眼图的模板眼图的识别依据？ 前言 眼图的测量对于高速串行总线的重要性不言而喻，眼图反映了总线通道环境的优劣，信号的好坏等等，正确的识别眼图是一项基础技能，如果具体识别眼图呢？ 下面详细地与你分享！
眼图的形成原理 简单来说，眼图的形成是一系列数字信号在示波器上积累并显示的过程，眼图包含丰富的信息，它对于判断数字信号的健康状况一目了然。查看眼图有助于发现串扰，电磁干扰（EMI），信号丢失以及其他影响信号完整性的现象。就信噪比而言，“眼睛”张开越大越好，其次，交叉位置可以看出一般的抖动量。 通过眼图分析可以用于确定系统的最优配置，也可以作为电路pcb设计优劣的参考。 在理想情况下，眼图形成原理如下：
眼图形成原理
即在一定时间内数字波形的累积，如上图眼图形成，眼图的左右两侧分别为半个bit间隔，中间为一个完整的bit间隔，也称为比特周期。为了便于查看，眼图中的时间轴按位进行了标准化，其中1bit“eye opening”位于眼图的中央，左右各1/2bit位于中央的两侧，以捕获上升和下降时间的变化。 在无串扰的情况下，在示波器上观测到的眼图与理论分析得到的眼图大致接近：
示波器上观测到的眼图
还是以上面3bit数据为例，缺少了那一种状态，得到的眼图都会不完整，例如缺少000状态，则：
缺少状态的眼图
眼图的参数含义 眼图的参数有很多，如下图标记 ：
眼图参数
“0”电平： 眼图逻辑“0”平均值的度量；
0电平
“0”电平值来自于眼睛交叉点的同一中心40%到60%区域，以及来自于左图所示的直方图数据的平均值。
“1”电平： 眼图逻辑“1”平均值的度量； 如下图：
1电平
“1”电平的实际计算值来自于眼图周期中间20%内采集的所有数据样本的直方图均值。这个中间的20%区域也被称为40%到60%的区域。
上升时间： 眼图向上倾斜时，数据从10%到90%过渡时间的度量； 注：有的资料称使用20%到80%区域来测量。
上升时间
下降时间 眼图向下倾斜时，数据从90%到10%过渡时间的度量； 注：有的资料称使用20%到80%区域来测量。
下降时间
眼高 眼图垂直开口的度量，理想的眼图张开程度从“1”电平到“0”电平进行测量。但是，眼睛上的噪声会导致眼睛闭合，高速信号的信噪比也直接由眼睛闭合量指示。
眼高
可见，噪声标准差越小，眼高越大！
眼宽： 眼宽时眼图水平开口的度量。在理想情况下，应在眼睛的交叉点之间测量眼睛的宽度。但是抖动可能会出现在波形上并影响眼睛睁开，因此眼宽可以反应抖动情况。 如下图：
眼宽
具体眼宽测量公式为： Eye Width = (the left –3σ crossing pt 2) – (the right &#43;3σ crossing pt 1) 可见，眼宽计算与眼高计算十分类似。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/9697bee2a020908ad9927783cd6a6d58/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-09T14:51:14+08:00" />
<meta property="article:modified_time" content="2023-10-09T14:51:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">眼图的形成原理</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>【摘要】 前言眼图的形成原理眼图的参数含义眼图的模板眼图的识别依据？ 前言 眼图的测量对于高速串行总线的重要性不言而喻，眼图反映了总线通道环境的优劣，信号的好坏等等，正确的识别眼图是一项基础技能，如果具体识别眼图呢？ 下面详细地与你分享！ 眼图的形成原理 简单来说，眼图的形成是一系列数字信号在示波器上积累并显示的过程，眼图包含丰富的信息，它对...</p> 
<p></p> 
<ul><li>前言</li><li>眼图的形成原理</li><li>眼图的参数含义</li><li>眼图的模板</li><li>眼图的识别依据？</li></ul> 
<p></p> 
<h4>前言</h4> 
<p>眼图的测量对于高速串行总线的重要性不言而喻，眼图反映了总线通道环境的优劣，信号的好坏等等，正确的识别眼图是一项基础技能，如果具体识别眼图呢？ 下面详细地与你分享！</p> 
<h4>眼图的形成原理</h4> 
<p>简单来说，眼图的形成是一系列数字信号在示波器上积累并显示的过程，眼图包含丰富的信息，它对于判断数字信号的健康状况一目了然。查看眼图有助于发现串扰，电磁干扰（EMI），信号丢失以及其他影响信号完整性的现象。就信噪比而言，“眼睛”张开越大越好，其次，交叉位置可以看出一般的抖动量。 通过眼图分析可以用于确定系统的最优配置，也可以作为电路pcb设计优劣的参考。 在理想情况下，眼图形成原理如下：</p> 
<p></p> 
<p class="img-center"><img alt="眼图形成原理" height="441" src="https://images2.imgbox.com/c3/10/Cc6Pc90Y_o.png" width="734"></p> 
<p> 眼图形成原理</p> 
<p>即在一定时间内数字波形的累积，如上图眼图形成，眼图的左右两侧分别为半个bit间隔，中间为一个完整的bit间隔，也称为比特周期。为了便于查看，眼图中的时间轴按位进行了标准化，其中1bit“eye opening”位于眼图的中央，左右各1/2bit位于中央的两侧，以捕获上升和下降时间的变化。 在无串扰的情况下，在示波器上观测到的眼图与理论分析得到的眼图大致接近：</p> 
<p></p> 
<p class="img-center"><img alt="示波器上观测到的眼图" height="340" src="https://images2.imgbox.com/0c/b3/LkwGvpEe_o.png" width="469"></p> 
<p> 示波器上观测到的眼图</p> 
<p>还是以上面3bit数据为例，缺少了那一种状态，得到的眼图都会不完整，例如缺少000状态，则：</p> 
<p></p> 
<p class="img-center"><img alt="缺少状态的眼图" height="369" src="https://images2.imgbox.com/2e/ef/ta5RRuRF_o.png" width="581"></p> 
<p> 缺少状态的眼图</p> 
<h4>眼图的参数含义</h4> 
<p>眼图的参数有很多，如下图标记 ：</p> 
<p></p> 
<p class="img-center"><img alt="眼图参数" height="264" src="https://images2.imgbox.com/a7/3b/cTjlqVXk_o.png" width="400"></p> 
<p> 眼图参数</p> 
<h5>“0”电平：</h5> 
<p>眼图逻辑“0”平均值的度量；</p> 
<p></p> 
<p class="img-center"><img alt="0电平" height="382" src="https://images2.imgbox.com/9a/32/mgSLNXJK_o.png" width="896"></p> 
<p> 0电平</p> 
<p>“0”电平值来自于眼睛交叉点的同一中心40%到60%区域，以及来自于左图所示的直方图数据的平均值。</p> 
<h5>“1”电平：</h5> 
<p>眼图逻辑“1”平均值的度量； 如下图：</p> 
<p></p> 
<p class="img-center"><img alt="1电平" height="375" src="https://images2.imgbox.com/44/3c/z9hrhCFM_o.png" width="863"></p> 
<p> 1电平</p> 
<p>“1”电平的实际计算值来自于眼图周期中间20%内采集的所有数据样本的直方图均值。这个中间的20%区域也被称为40%到60%的区域。</p> 
<h5>上升时间：</h5> 
<p>眼图向上倾斜时，数据从10%到90%过渡时间的度量； 注：有的资料称使用20%到80%区域来测量。</p> 
<p></p> 
<p class="img-center"><img alt="上升时间" height="416" src="https://images2.imgbox.com/5a/d9/05GR0ZAb_o.png" width="702"></p> 
<p> 上升时间</p> 
<h5>下降时间</h5> 
<p>眼图向下倾斜时，数据从90%到10%过渡时间的度量； 注：有的资料称使用20%到80%区域来测量。</p> 
<p></p> 
<p class="img-center"><img alt="下降时间" height="406" src="https://images2.imgbox.com/d3/3b/nNADWdjO_o.png" width="717"></p> 
<p> 下降时间</p> 
<h5>眼高</h5> 
<p>眼图垂直开口的度量，理想的眼图张开程度从“1”电平到“0”电平进行测量。但是，眼睛上的噪声会导致眼睛闭合，高速信号的信噪比也直接由眼睛闭合量指示。</p> 
<p></p> 
<p class="img-center"><img alt="眼高" height="367" src="https://images2.imgbox.com/b0/40/x1IGm8VZ_o.png" width="407"></p> 
<p> 眼高</p> 
<p>可见，噪声标准差越小，眼高越大！</p> 
<h5>眼宽：</h5> 
<p>眼宽时眼图水平开口的度量。在理想情况下，应在眼睛的交叉点之间测量眼睛的宽度。但是抖动可能会出现在波形上并影响眼睛睁开，因此眼宽可以反应抖动情况。 如下图：</p> 
<p></p> 
<p class="img-center"><img alt="眼宽" height="430" src="https://images2.imgbox.com/15/4c/C6aP4HFN_o.png" width="695"></p> 
<p> 眼宽</p> 
<p>具体眼宽测量公式为： Eye Width = (the left –3σ crossing pt 2) – (the right +3σ crossing pt 1) 可见，眼宽计算与眼高计算十分类似。</p> 
<h5>抖动：</h5> 
<p>抖动，描述了信号的水平波动，即信号的某特定时刻相对于其理想时间位置上的短期偏离，示意图如下：</p> 
<p></p> 
<p class="img-center"><img alt="抖动" height="237" src="https://images2.imgbox.com/4b/fb/qIb5dztm_o.png" width="725"></p> 
<p> 抖动</p> 
<p>抖动会导致交叉点变得模糊，如下示波器观测到的抖动如下图所示。图中为抖动大的眼图的交点，其直方图是一个像素宽的交点块投射到时间轴上的投影。理想情况下应该为一个点，但由于码元的水平波动，导致其形成了一个区域。</p> 
<p></p> 
<p class="img-center"><img alt="抖动" height="417" src="https://images2.imgbox.com/f4/94/VNJ0CizD_o.png" width="597"></p> 
<p> 抖动</p> 
<h5>眼幅：</h5> 
<p>逻辑“1”电平与逻辑“0”电平直方图平均值之间的差。 可以注意，它所使用的是直方图的平均值，且是在两眼交叉的中间20%区域内测得的。对于眼高的定义：</p> 
<p><img alt="眼高" src="https://images2.imgbox.com/91/18/vAJ9erRx_o.png"> 眼高</p> 
<p>下图可以很清晰地看出二者之间的区别：</p> 
<p></p> 
<p class="img-center"><img alt="眼高与眼幅" height="298" src="https://images2.imgbox.com/61/8e/89qMkaMV_o.png" width="879"></p> 
<p> 眼高与眼幅</p> 
<p>不得不说地是，眼高和眼幅都是重要的幅度项，因为数据接收将根据幅度来最终确定数据位是“0”电平还是“1”电平。 此外，由于任何散布在3σ点以外的数据位进入睁开的眼，都将表明检测中可能出现的错误，因此误码率取决于眼高。</p> 
<h5>比特率：</h5> 
<p>比特率（数据速率）时比特周期的倒数；比特周期是眼图在眼睛交叉点的水平张开的度量。 说到比特率，不得不提UI（Unit Interval）的概念，一个UI定义位一个数据bit的宽度，例如：在一个9.8Gbps的数据流中，一个UI就等价于102ps；同理，在一个2.0Gbps的数据流中，一个UI等于200ps。 如下图：</p> 
<p></p> 
<p class="img-center"><img alt="理想数字电路眼图" height="382" src="https://images2.imgbox.com/c4/f6/hxfcK8HC_o.png" width="508"></p> 
<p> 理想数字电路眼图</p> 
<p>理想数字电路的眼图</p> 
<p></p> 
<p class="img-center"><img alt="高速数字信号眼图" height="394" src="https://images2.imgbox.com/a0/1b/eAw2VWRD_o.png" width="510"></p> 
<p> 高速数字信号眼图</p> 
<p>典型的高速数字信号的眼图</p> 
<p>眼图水平时间轴可以显示为ps或者UI，这实际上是位数。因此，一个数据bit宽度可以与一个UI互换。UI也是在某种标准和数据手册中指定抖动性能的便捷方式。因此，在水平刻度上使用UI而不是实际时间的优势很明显，这是一个归一化术语，与数据速率无关，因此可以更轻松地查看不同数据速率的眼图测量结果。 如下图，显示了两种不同数据速率的眼图和脉冲测量图：</p> 
<p></p> 
<p class="img-center"><img alt="脉冲测量" height="630" src="https://images2.imgbox.com/f5/13/WqHXnluq_o.png" width="813"></p> 
<p> 脉冲测量</p> 
<p>左侧的眼图显示以UI来尺度，眼图中央位1个UI，两侧各1/2个UI；右侧脉冲测量显示，水平时间轴为9个UI。由于数据位不依赖于数据速率，因此，在某些情况下，将UI作为水平时间轴可以简化分析。</p> 
<h5>2电平</h5> 
<p>上面描述的眼图参数均以PAM2（2电平眼图）为例，即逻辑电平仅有“0”电平和“1”电平；当使用PAM4（4-level pulse amplitude modulation，4电平眼图）时，眼图形状如下：</p> 
<p></p> 
<p class="img-center"><img alt="2电平" height="265" src="https://images2.imgbox.com/b0/9d/IZ9Lxt6U_o.png" width="404"></p> 
<p> 2电平</p> 
<p>如上，标号10处为“2”电平；</p> 
<h5>3电平</h5> 
<p>同上，标号11处为“3”电平。</p> 
<p>不同的示波器可选择的测量参数不同，例如某示波器测某高速信号眼图，其关键参数如下：</p> 
<p></p> 
<p class="img-center"><img alt="信号眼图关键参数" height="499" src="https://images2.imgbox.com/7d/63/Rq2lXQzy_o.png" width="1200"></p> 
<p> 信号眼图关键参数</p> 
<p>除了之前提到的部分参数外，还有眼交叉比这个参数，眼图交叉比定义为，测量交叉点电平与“1”及“0”电平之差的比例，一般标准信号的交叉比为50%，如下：</p> 
<p></p> 
<p class="img-center"><img alt="交叉比" height="351" src="https://images2.imgbox.com/1a/a9/rTkaEWSM_o.png" width="874"></p> 
<p> 交叉比</p> 
<p>交叉比计算公式为： Eye Crossing Percentage = 100 * [(crossing level – zero level)/(one level – zero level)]; 注意，上述“1”电平以及“0”电平值为眼图中间20%范围内的电平平均值来衡量的。最后的眼图交叉比如上图右侧，如果交叉点位于0电平处，则交叉比为0；如果交叉点位于“1”电平处，则交叉比为100%。 下图显示了不同眼交叉比的情况：</p> 
<p></p> 
<p class="img-center"><img alt="不同眼交叉比" height="427" src="https://images2.imgbox.com/c2/9b/erqlHn8P_o.png" width="757"></p> 
<p> 不同眼交叉比</p> 
<p>眼图交叉比大于50%，表示“1”电平的时间脉冲比“0”的持续时间长，这使得眼图交叉点往上推；眼图交叉比小于50%，表示“0”电平的时间脉冲比“1”的持续时间长；同理，如果眼图交叉比为50%，则表示二者时间脉冲持续时间一样长。 眼图交叉比对于测量由“1”电平和“0”电平持续时间的差值引起的幅度失真非常有价值。它还用于揭示诊断的脉冲对称性问题。当眼图交叉比偏离理想的50%点时，眼睛会闭上，因此信号的电气质量会下降。</p> 
<h4>眼图的模板</h4> 
<p>在用示波器测试眼图时，可见有模板这一选择，如使用某示波器测某高速信号眼图，就使用了模板：</p> 
<p></p> 
<p class="img-center"><img alt="模板" height="502" src="https://images2.imgbox.com/b7/fb/8hraIO3q_o.png" width="1200"></p> 
<p> 模板</p> 
<p>从上图中可以明显的看出，眼图“0”“1”电平距离模板还有一定的距离，这说明该总线通信环境还不错，但并不是所有的设计都这么优秀，如下，其他测试结果：</p> 
<p></p> 
<p class="img-center"><img alt="压模板" height="622" src="https://images2.imgbox.com/bc/88/gyDFx3kg_o.png" width="1200"></p> 
<p> 压模板</p> 
<p>此时，眼图的“0”“1”电平压模板就比较严重！</p> 
<p>那眼图模板的作用是什么呢？ 这些模板定义以归一化的振幅和时间来指定发射机的输出性能，以确保远端接收机在出现时序噪声和抖动的情况下能够始终如一地分辨出“1”电平和“0”电平之间的差异。 如下图：</p> 
<p></p> 
<p class="img-center"><img alt="模板" height="335" src="https://images2.imgbox.com/db/b8/hBmXOp7p_o.png" width="383"></p> 
<p> 模板</p> 
<p>眼图模板如上图中的灰色部分，分为顶部区域，中间区域，以及底部区域，下面分别解释： 顶部区域：最大期望值。超过该值的电压将会失败！ 中间区域：由高速数字信号接口标准定义的眼图的大小和形状。 底部区域：最小期望值。低于此值的电压将失败！</p> 
<p>一般而言，眼睛睁开的越大，越不易压模板，传输系统中的接收器将逻辑“1”误认为逻辑“0”的可能性就越小，反之亦然！</p> 
<p></p> 
<p class="img-center"><img alt="眼睛张开程度" height="294" src="https://images2.imgbox.com/4f/6b/npNwz8G7_o.png" width="518"></p> 
<p> 眼睛张开程度</p> 
<h4>眼图的识别依据？</h4> 
<p>如何识别眼图参数，在参数介绍的时候也有过一部分的介绍，但总的来说，如何看眼图呢？ 眼图的“眼睛”张开的大小反映着码间串扰的强弱。“眼睛”张的越大，且眼图越端正，表示码间串扰越小；反之表示码间串扰越大。 当存在噪声时，噪声将叠加在信号上，观察到的眼图的线迹会变得模糊不清。若同时存在码间串扰，“眼睛”将张开得更小。与无码间串扰时的眼图相比，原来清晰端正的细线迹，变成了比较模糊的带状线，而且不很端正。噪声越大，线迹越宽，越模糊；码间串扰越大，眼图越不端正。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fb178c29c02c0290f668f2f414220b8f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ospf多区配置与原理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/39aa985a88d846529627b8eecd34f6cb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">跟着李沐学AI（动手学深度学习 PyTorch版）学习笔记——03安装（环境配置d2l、pytorch）（python3.7版本&#43;Windows&#43;各种问题解决措施）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>