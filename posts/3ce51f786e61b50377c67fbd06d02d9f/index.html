<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>太原理工大学软件学院 数据库实验 实验二(2021.4.8) - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="太原理工大学软件学院 数据库实验 实验二(2021.4.8)" />
<meta property="og:description" content="太原理工大学软件学院 数据库实验 实验二(2021.4.8) 实验内容 以下内容直接全部复制到console窗口即可
需要逐句运行
-- （1）创建Student表 CREATE TABLE Student ( Sno CHAR(8) PRIMARY KEY, Sname CHAR(8) , Ssex CHAR(2) NOT NULL, Sage INT, Sdept CHAR(20) ); -- （2）创建Course表 CREATE TABLE Course ( Cno CHAR(4) PRIMARY KEY, Cname CHAR(40) NOT NULL, Cpno CHAR(4) , Ccredit SMALLINT, ); -- （3）创建SC表 CREATE TABLE SC( Sno CHAR(8) FOREIGN KEY (Sno) REFERENCES Student(Sno), Cno CHAR(4), Grade SMALLINT, ); -- （4）创建员工表Employee CREATE TABLE Employee ( 编号 CHAR(8) PRIMARY KEY, 姓名 VARCHAR(8) not null 部门 CHR（40）, 工资 numeric(8,2), 生日 datetime, 职称 char(20), ); -- 指出该语句中的错误并改正后执行。 -- （5）检查表是否创建成功 -- SELECT * FROM Student -- SELECT * FROM Course -- SELECT * FROM SC -- SELECT * FROM Employee -- （6）修改表结构及约束 --  增加班级列 ALTER TABLE Student ADD Sclass char(4) --  修改年龄列 ALTER TABLE Student ALTER COLUMN Sage smallint --  增加约束 ALTER TABLE Course ADD UNIQUE(Cname) -- （7）删除表 DROP TABLE Employee -- （1）为Course表按课程名称创建索引 CREATE INDEX iCname On Course(Cname) -- （2）为Student表按学生姓名创建唯一索引 CREATE UNIQUE INDEX iSname ON Student(Sname) -- （3）为SC表按学号和课程号创建聚集索引 CREATE CLUSTERED INDEX iSnoCno On SC(Sno,Cno desc) -- （4）为Course表按课程号创建唯一索引 CREATE UNIQUE INDEX iSCno ON Course(Cno) -- 3．创建视图 -- 建立信息系学生的视图： CREATE VIEW IS_Student AS SELECT Sno,Sname,Sage FROM Student WHERE Sdept= &#39;IS&#39;; -- （1）插入到Student表 INSERT INTO Student VALUES(&#39;20100001&#39;,&#39;李勇&#39;,&#39;男&#39;,20,&#39;CS&#39;,&#39;1001&#39;),(&#39;20100002&#39;,&#39;刘晨&#39;,&#39;女&#39;,19,&#39;CS&#39;,&#39;1001&#39;) INSERT INTO Student(Sno,Sname,Ssex,Sage,Sdept,Sclass) VALUES(&#39;20100021&#39;,&#39;王敏&#39;,&#39;女&#39;,18,&#39;MA&#39;,&#39;1002&#39;),(&#39;20100031&#39;,&#39;张立&#39;,&#39;男&#39;,19,&#39;IS&#39;,&#39;1003&#39;) INSERT INTO Student(Sno,Sname,Ssex,sclass) VALUES(&#39;20100003&#39;,&#39;刘洋&#39;,&#39;女&#39;,&#39;1001&#39;) -- 检查下列语句中的错误，并改正： -- INSERT INTO Student(Sno,Sname,Ssex,Sage,Sdept,sclass) VALUES(&#39;20100010&#39;,赵斌,&#39;男&#39;,&#39;19&#39;,&#39;IS&#39;,&#39;1005&#39;) -- INSERT INTO Student VALUES(&#39;20100022&#39;,&#39;张明明&#39;,19,&#39;男&#39;,&#39;CS&#39;,&#39;1002&#39;) INSERT INTO Student(Sno,Sname,Ssex,Sage,Sdept,sclass) VALUES(&#39;20100010&#39;,&#39;赵斌&#39;,&#39;男&#39;,&#39;19&#39;,&#39;IS&#39;,&#39;1005&#39;) INSERT INTO Student VALUES(&#39;20100022&#39;,&#39;张明明&#39;,&#39;男&#39;,19,&#39;CS&#39;,&#39;1002&#39;) -- （2）插入到Course表 INSERT INTO Course(Cno,Cname,Cpno,Ccredit) VALUES(&#39;1&#39;,&#39;数据库系统原理&#39;, &#39;5&#39;,4) INSERT INTO Course(Cno,Cname,Cpno,Ccredit) VALUES(&#39;2&#39;,&#39;高等数学&#39;, null,2) INSERT INTO Course(Cno,Cname,Cpno,Ccredit) VALUES(&#39;3&#39;,&#39;管理信息系统&#39;,&#39;1&#39;,4) -- 请写出插入其余行的插入语句，并插入数据。 INSERT INTO Course(Cno,Cname,Cpno,Ccredit) VALUES(&#39;6&#39;,&#39;数据处理&#39;,null,&#39;2&#39;) INSERT INTO Course(cno, cname, cpno, ccredit) values (&#39;7&#39;,&#39;c语言&#39;,null,&#39;4&#39;) -- （3）插入到SC表 INSERT INTO SC VALUES(&#39;20100001&#39;,&#39;1&#39;,92) INSERT INTO SC VALUES(&#39;20100002&#39;,&#39;2&#39;,80) INSERT INTO SC(Sno,Cno) VALUES(&#39;20100003&#39;,&#39;1&#39;) INSERT INTO SC(Sno,Cno,Grade) VALUES(&#39;20100010&#39;,&#39;3&#39;,null) -- 请写出插入其余行的插入语句，并插入数据。 INSERT INTO SC VALUES(&#39;20100002&#39;,&#39;2&#39;,85) INSERT INTO SC VALUES(&#39;20100002&#39;,&#39;3&#39;,88) INSERT INTO SC VALUES(&#39;20100002&#39;,&#39;1&#39;,90) -- （4）多行插入到表中 -- 创建存一个表，保存学生的学号、姓名和年龄： CREATE TABLE cs_Student ( 学号 char(8), 姓名 char(8), 年龄 smallint ); -- 插入数据行： INSERT INTO cs_Student SELECT Sno,Sname,Sage FROM student Where Sdept=&#39;CS&#39;; -- （5）检查插入到表中的数据 SELECT * FROM Student SELECT * FROM Course SELECT * FROM SC -- 2． 修改数据 -- （1）将学生20100001的年龄改为22岁。 UPDATE student SET Sage = 22 WHERE Sno=&#39;20100001&#39;; -- （2）将所有学生的年龄增加一岁。 UPDATE Student SET Sage = Sage &#43;1 -- （3）填写赵斌同学的管理信息系统课程的成绩 UPDATE SC SET Grade = 85 WHERE Sno=&#39;20100010&#39; AND Cno=&#39;3&#39; -- （4）将计算机科学系全体学生的成绩加5分 UPDATE sc SET Grade=Grade &#43; 5 WHERE &#39;CS&#39;=(select Sdept from student where student." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/3ce51f786e61b50377c67fbd06d02d9f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-04-08T16:48:36+08:00" />
<meta property="article:modified_time" content="2021-04-08T16:48:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">太原理工大学软件学院 数据库实验 实验二(2021.4.8)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="__202148_0"></a>太原理工大学软件学院 数据库实验 实验二(2021.4.8)</h2> 
<h3><a id="_2"></a>实验内容</h3> 
<p><strong>以下内容直接全部复制到console窗口即可</strong></p> 
<p><strong>需要逐句运行</strong></p> 
<pre><code class="prism language-sql"><span class="token comment">-- （1）创建Student表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Student
 <span class="token punctuation">(</span> Sno <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
 Sname <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
 Ssex <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
 Sage <span class="token keyword">INT</span><span class="token punctuation">,</span>
 Sdept <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- （2）创建Course表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Course
 <span class="token punctuation">(</span> Cno <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
 Cname <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
 Cpno <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
 Ccredit <span class="token keyword">SMALLINT</span><span class="token punctuation">,</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- （3）创建SC表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> SC<span class="token punctuation">(</span>
    Sno <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>Sno<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Student<span class="token punctuation">(</span>Sno<span class="token punctuation">)</span><span class="token punctuation">,</span>
    Cno <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Grade <span class="token keyword">SMALLINT</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- （4）创建员工表Employee</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Employee
<span class="token punctuation">(</span>
编号 <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
姓名 <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span>
部门 CHR（<span class="token number">40</span>）<span class="token punctuation">,</span>
工资 <span class="token keyword">numeric</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
生日 <span class="token keyword">datetime</span><span class="token punctuation">,</span>
职称 <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 指出该语句中的错误并改正后执行。</span>
<span class="token comment">-- （5）检查表是否创建成功</span>
<span class="token comment">-- SELECT * FROM Student</span>
<span class="token comment">-- SELECT * FROM Course</span>
<span class="token comment">-- SELECT * FROM SC</span>
<span class="token comment">-- SELECT * FROM Employee</span>
<span class="token comment">-- （6）修改表结构及约束</span>
<span class="token comment">--  增加班级列</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Student <span class="token keyword">ADD</span> Sclass <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token comment">--  修改年龄列</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Student <span class="token keyword">ALTER</span> <span class="token keyword">COLUMN</span> Sage <span class="token keyword">smallint</span>
<span class="token comment">--  增加约束</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Course <span class="token keyword">ADD</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">(</span>Cname<span class="token punctuation">)</span>
<span class="token comment">-- （7）删除表</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> Employee


<span class="token comment">-- （1）为Course表按课程名称创建索引</span>
<span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> iCname <span class="token keyword">On</span> Course<span class="token punctuation">(</span>Cname<span class="token punctuation">)</span>
<span class="token comment">-- （2）为Student表按学生姓名创建唯一索引</span>
<span class="token keyword">CREATE</span> <span class="token keyword">UNIQUE</span> <span class="token keyword">INDEX</span> iSname <span class="token keyword">ON</span> Student<span class="token punctuation">(</span>Sname<span class="token punctuation">)</span>
<span class="token comment">-- （3）为SC表按学号和课程号创建聚集索引</span>
<span class="token keyword">CREATE</span> <span class="token keyword">CLUSTERED</span> <span class="token keyword">INDEX</span> iSnoCno <span class="token keyword">On</span> SC<span class="token punctuation">(</span>Sno<span class="token punctuation">,</span>Cno <span class="token keyword">desc</span><span class="token punctuation">)</span>

<span class="token comment">-- （4）为Course表按课程号创建唯一索引</span>
<span class="token keyword">CREATE</span> <span class="token keyword">UNIQUE</span> <span class="token keyword">INDEX</span> iSCno <span class="token keyword">ON</span> Course<span class="token punctuation">(</span>Cno<span class="token punctuation">)</span>


<span class="token comment">-- 3．创建视图</span>
<span class="token comment">-- 建立信息系学生的视图：</span>

<span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> IS_Student
 <span class="token keyword">AS</span>
 <span class="token keyword">SELECT</span> Sno<span class="token punctuation">,</span>Sname<span class="token punctuation">,</span>Sage <span class="token keyword">FROM</span> Student
 <span class="token keyword">WHERE</span> Sdept<span class="token operator">=</span> <span class="token string">'IS'</span><span class="token punctuation">;</span>





<span class="token comment">-- （1）插入到Student表</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Student <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'20100001'</span><span class="token punctuation">,</span><span class="token string">'李勇'</span><span class="token punctuation">,</span><span class="token string">'男'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">'CS'</span><span class="token punctuation">,</span><span class="token string">'1001'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'20100002'</span><span class="token punctuation">,</span><span class="token string">'刘晨'</span><span class="token punctuation">,</span><span class="token string">'女'</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token string">'CS'</span><span class="token punctuation">,</span><span class="token string">'1001'</span><span class="token punctuation">)</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Student<span class="token punctuation">(</span>Sno<span class="token punctuation">,</span>Sname<span class="token punctuation">,</span>Ssex<span class="token punctuation">,</span>Sage<span class="token punctuation">,</span>Sdept<span class="token punctuation">,</span>Sclass<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'20100021'</span><span class="token punctuation">,</span><span class="token string">'王敏'</span><span class="token punctuation">,</span><span class="token string">'女'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">'MA'</span><span class="token punctuation">,</span><span class="token string">'1002'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'20100031'</span><span class="token punctuation">,</span><span class="token string">'张立'</span><span class="token punctuation">,</span><span class="token string">'男'</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token string">'IS'</span><span class="token punctuation">,</span><span class="token string">'1003'</span><span class="token punctuation">)</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Student<span class="token punctuation">(</span>Sno<span class="token punctuation">,</span>Sname<span class="token punctuation">,</span>Ssex<span class="token punctuation">,</span>sclass<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'20100003'</span><span class="token punctuation">,</span><span class="token string">'刘洋'</span><span class="token punctuation">,</span><span class="token string">'女'</span><span class="token punctuation">,</span><span class="token string">'1001'</span><span class="token punctuation">)</span>


<span class="token comment">-- 检查下列语句中的错误，并改正：</span>
<span class="token comment">-- INSERT INTO Student(Sno,Sname,Ssex,Sage,Sdept,sclass) VALUES('20100010',赵斌,'男','19','IS','1005')</span>
<span class="token comment">-- INSERT INTO Student VALUES('20100022','张明明',19,'男','CS','1002')</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Student<span class="token punctuation">(</span>Sno<span class="token punctuation">,</span>Sname<span class="token punctuation">,</span>Ssex<span class="token punctuation">,</span>Sage<span class="token punctuation">,</span>Sdept<span class="token punctuation">,</span>sclass<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'20100010'</span><span class="token punctuation">,</span><span class="token string">'赵斌'</span><span class="token punctuation">,</span><span class="token string">'男'</span><span class="token punctuation">,</span><span class="token string">'19'</span><span class="token punctuation">,</span><span class="token string">'IS'</span><span class="token punctuation">,</span><span class="token string">'1005'</span><span class="token punctuation">)</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Student <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'20100022'</span><span class="token punctuation">,</span><span class="token string">'张明明'</span><span class="token punctuation">,</span><span class="token string">'男'</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token string">'CS'</span><span class="token punctuation">,</span><span class="token string">'1002'</span><span class="token punctuation">)</span>


<span class="token comment">-- （2）插入到Course表</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Course<span class="token punctuation">(</span>Cno<span class="token punctuation">,</span>Cname<span class="token punctuation">,</span>Cpno<span class="token punctuation">,</span>Ccredit<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'数据库系统原理'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Course<span class="token punctuation">(</span>Cno<span class="token punctuation">,</span>Cname<span class="token punctuation">,</span>Cpno<span class="token punctuation">,</span>Ccredit<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token string">'高等数学'</span><span class="token punctuation">,</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Course<span class="token punctuation">(</span>Cno<span class="token punctuation">,</span>Cname<span class="token punctuation">,</span>Cpno<span class="token punctuation">,</span>Ccredit<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">,</span><span class="token string">'管理信息系统'</span><span class="token punctuation">,</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>

<span class="token comment">-- 请写出插入其余行的插入语句，并插入数据。</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Course<span class="token punctuation">(</span>Cno<span class="token punctuation">,</span>Cname<span class="token punctuation">,</span>Cpno<span class="token punctuation">,</span>Ccredit<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">,</span><span class="token string">'数据处理'</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">)</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Course<span class="token punctuation">(</span>cno<span class="token punctuation">,</span> cname<span class="token punctuation">,</span> cpno<span class="token punctuation">,</span> ccredit<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'7'</span><span class="token punctuation">,</span><span class="token string">'c语言'</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">'4'</span><span class="token punctuation">)</span>

<span class="token comment">-- （3）插入到SC表</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> SC <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'20100001'</span><span class="token punctuation">,</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token number">92</span><span class="token punctuation">)</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> SC <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'20100002'</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">)</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> SC<span class="token punctuation">(</span>Sno<span class="token punctuation">,</span>Cno<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'20100003'</span><span class="token punctuation">,</span><span class="token string">'1'</span><span class="token punctuation">)</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> SC<span class="token punctuation">(</span>Sno<span class="token punctuation">,</span>Cno<span class="token punctuation">,</span>Grade<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'20100010'</span><span class="token punctuation">,</span><span class="token string">'3'</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">)</span>

<span class="token comment">-- 请写出插入其余行的插入语句，并插入数据。</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> SC <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'20100002'</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token number">85</span><span class="token punctuation">)</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> SC <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'20100002'</span><span class="token punctuation">,</span><span class="token string">'3'</span><span class="token punctuation">,</span><span class="token number">88</span><span class="token punctuation">)</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> SC <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'20100002'</span><span class="token punctuation">,</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">)</span>








<span class="token comment">-- （4）多行插入到表中</span>
<span class="token comment">-- 创建存一个表，保存学生的学号、姓名和年龄：</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> cs_Student
 <span class="token punctuation">(</span>
学号 <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
姓名 <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 年龄 <span class="token keyword">smallint</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 插入数据行：</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> cs_Student
 <span class="token keyword">SELECT</span> Sno<span class="token punctuation">,</span>Sname<span class="token punctuation">,</span>Sage
 <span class="token keyword">FROM</span> student <span class="token keyword">Where</span> Sdept<span class="token operator">=</span><span class="token string">'CS'</span><span class="token punctuation">;</span>

<span class="token comment">-- （5）检查插入到表中的数据</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Course
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> SC



<span class="token comment">-- 2． 修改数据</span>
<span class="token comment">-- （1）将学生20100001的年龄改为22岁。</span>
<span class="token keyword">UPDATE</span> student <span class="token keyword">SET</span> Sage <span class="token operator">=</span> <span class="token number">22</span> <span class="token keyword">WHERE</span> Sno<span class="token operator">=</span><span class="token string">'20100001'</span><span class="token punctuation">;</span>

<span class="token comment">-- （2）将所有学生的年龄增加一岁。</span>
<span class="token keyword">UPDATE</span> Student <span class="token keyword">SET</span> Sage <span class="token operator">=</span> Sage <span class="token operator">+</span><span class="token number">1</span>

<span class="token comment">-- （3）填写赵斌同学的管理信息系统课程的成绩</span>
<span class="token keyword">UPDATE</span> SC <span class="token keyword">SET</span> Grade <span class="token operator">=</span> <span class="token number">85</span>
 <span class="token keyword">WHERE</span> Sno<span class="token operator">=</span><span class="token string">'20100010'</span> <span class="token operator">AND</span> Cno<span class="token operator">=</span><span class="token string">'3'</span>

<span class="token comment">-- （4）将计算机科学系全体学生的成绩加5分</span>
<span class="token keyword">UPDATE</span> sc <span class="token keyword">SET</span> Grade<span class="token operator">=</span>Grade <span class="token operator">+</span> <span class="token number">5</span>
 <span class="token keyword">WHERE</span> <span class="token string">'CS'</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">select</span> Sdept <span class="token keyword">from</span> student <span class="token keyword">where</span> student<span class="token punctuation">.</span>Sno<span class="token operator">=</span>sc<span class="token punctuation">.</span>Sno<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- （5）请自己完成如下操作</span>
<span class="token comment">--  将刘晨同学的2号课程成绩修改为80</span>
<span class="token comment">--  将“20100021”同学的学号修改为“20100025”</span>
<span class="token keyword">update</span> SC <span class="token keyword">set</span> Grade<span class="token operator">=</span><span class="token number">80</span>
    <span class="token keyword">where</span> Sno<span class="token operator">=</span><span class="token string">'20100002'</span> <span class="token operator">and</span> Cno<span class="token operator">=</span><span class="token number">2</span>

<span class="token keyword">update</span> Student <span class="token keyword">set</span> Sno<span class="token operator">=</span><span class="token string">'20100025'</span>
    <span class="token keyword">where</span> Sno<span class="token operator">=</span><span class="token string">'20100021'</span>




<span class="token comment">-- （1）删除学号为201000022的学生记录</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> Sno<span class="token operator">=</span><span class="token string">'20100022'</span>

<span class="token comment">-- （2）删除学号20100001学生的1号课程选课记录</span>
<span class="token comment">-- 将选课信息复制到一个临时表tmpSC中：</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">INTO</span> tmpSC <span class="token keyword">FROM</span> SC

<span class="token comment">-- 在tmpSC中执行删除操作：</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> tmpSC <span class="token keyword">WHERE</span> Sno<span class="token operator">=</span><span class="token string">'20100001'</span> <span class="token operator">and</span> Cno<span class="token operator">=</span><span class="token string">'1'</span>

<span class="token comment">-- （3）删除临时表中20100002学生的全部选课记录</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> tmpSC <span class="token keyword">where</span> Sno<span class="token operator">=</span><span class="token string">'20100002'</span>

<span class="token comment">-- （4）删除计算机科学系所有学生的选课记录</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> tmpSC <span class="token keyword">WHERE</span> <span class="token string">'CS'</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">select</span> Sdept <span class="token keyword">from</span> student <span class="token keyword">where</span> student<span class="token punctuation">.</span>Sno<span class="token operator">=</span>tmpSC<span class="token punctuation">.</span>Sno <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- （5）删除全部选课记录</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> tmpSC




<span class="token comment">-- 3.3 数据查询操作完成如下查询操作：</span>
<span class="token comment">-- 1．单表查询</span>
<span class="token comment">-- （1）按指定目标列查询</span>
<span class="token comment">-- 查询学生的详细记录：</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student<span class="token punctuation">;</span>

<span class="token comment">-- 查询学生的学号、姓名和年龄</span>
<span class="token keyword">SELECT</span> Sno<span class="token punctuation">,</span>Sname<span class="token punctuation">,</span>Sage <span class="token keyword">FROM</span> Student<span class="token punctuation">;</span>

<span class="token comment">-- 查询全体学生的姓名、出生年份和所有系，要求用小写字母表示所有系名。</span>
<span class="token keyword">SELECT</span> Sname<span class="token punctuation">,</span><span class="token string">'Year of Birth: '</span><span class="token punctuation">,</span><span class="token number">2004</span><span class="token operator">-</span>Sage<span class="token punctuation">,</span>LOWER<span class="token punctuation">(</span>Sdept<span class="token punctuation">)</span> <span class="token keyword">FROM</span> Student<span class="token punctuation">;</span>

<span class="token comment">-- 查询全体学生的姓名、出生年份和所有系，要求用小写字母表示所有系名。</span>
<span class="token keyword">SELECT</span> Sname<span class="token punctuation">,</span> <span class="token string">'Year of Birth:'</span> <span class="token keyword">as</span> BIRTH<span class="token punctuation">,</span> <span class="token number">2000</span><span class="token operator">-</span>Sage BIRTHDAY<span class="token punctuation">,</span> DEPARTMENT <span class="token operator">=</span> LOWER<span class="token punctuation">(</span>Sdept<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> Student<span class="token punctuation">;</span>

<span class="token comment">-- (4）取消重复行</span>
<span class="token comment">-- 查询选修了课程的学生学号：比较ALL和DISTINCT的区别</span>
<span class="token keyword">SELECT</span> Sno <span class="token keyword">FROM</span> SC<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> Sno <span class="token keyword">FROM</span> SC<span class="token punctuation">;</span>

<span class="token comment">-- （5）简单条件查询</span>
<span class="token comment">-- 查询计算机科学系全体学生的名单</span>
<span class="token keyword">SELECT</span> Sname <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> Sdept<span class="token operator">=</span><span class="token string">'CS'</span><span class="token punctuation">;</span>

<span class="token comment">-- （6）按范围查询</span>
<span class="token comment">-- 查询年龄在20~23岁之间的学生的姓名、系别和年龄</span>
<span class="token keyword">SELECT</span> Sname<span class="token punctuation">,</span>Sdept<span class="token punctuation">,</span>Sage <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> Sage <span class="token operator">BETWEEN</span> <span class="token number">20</span> <span class="token operator">AND</span> <span class="token number">23</span>

<span class="token comment">-- （7）查询属性值属于指定集合的行</span>
<span class="token comment">-- 查询信息系（IS）、数学系（MA）和计算机科学系（CS）学生的姓名和性别</span>
<span class="token keyword">SELECT</span> Sname<span class="token punctuation">,</span>Ssex <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> Sdept <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">'IS'</span><span class="token punctuation">,</span><span class="token string">'MA'</span><span class="token punctuation">,</span><span class="token string">'CS'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- （8）模糊查询</span>
<span class="token comment">-- 查询所有姓刘学生的姓名、学号和性别</span>
<span class="token keyword">SELECT</span> Sname<span class="token punctuation">,</span>Sno<span class="token punctuation">,</span>Ssex <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> Sname <span class="token operator">LIKE</span> <span class="token string">'刘%'</span>

<span class="token comment">-- （9）查询空值</span>
<span class="token comment">-- 查询缺少成绩的学生的学号和相应的课程号</span>
<span class="token keyword">SELECT</span> Sno<span class="token punctuation">,</span>Cno <span class="token keyword">FROM</span> sc <span class="token keyword">WHERE</span> Grade <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>

<span class="token comment">-- （10）多重条件查询</span>
<span class="token comment">-- 查询计算机科学系年龄在岁以下的学生姓名</span>
<span class="token keyword">SELECT</span> Sname <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> Sdept<span class="token operator">=</span><span class="token string">'CS'</span> <span class="token operator">and</span> Sage<span class="token operator">&lt;</span><span class="token number">20</span><span class="token punctuation">;</span>

<span class="token comment">-- （11）结果集排序</span>
<span class="token comment">-- 查询全体学生情况，查询结果按所在系的系号升序排列，同一系中的学生按年龄降序排列</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> Sdept<span class="token punctuation">,</span>Sage <span class="token keyword">DESC</span><span class="token punctuation">;</span>




<span class="token comment">-- （12）完成下列查询</span>
<span class="token comment">-- 查询学生基本信息，结果集属性名使用汉字</span>
<span class="token keyword">select</span> Sno <span class="token keyword">as</span> <span class="token string">'学号'</span><span class="token punctuation">,</span>Sname <span class="token keyword">as</span> <span class="token string">'姓名'</span><span class="token punctuation">,</span> Ssex <span class="token keyword">as</span> <span class="token string">'性别'</span><span class="token punctuation">,</span> Sage <span class="token keyword">as</span> <span class="token string">'年龄'</span> <span class="token punctuation">,</span>Sdept <span class="token keyword">as</span> <span class="token string">'系名'</span><span class="token punctuation">,</span> Sclass <span class="token keyword">as</span> <span class="token string">'班级'</span> <span class="token keyword">from</span> Student <span class="token punctuation">;</span>

<span class="token comment">-- 查询信息系且年龄大于23岁同学的学号和姓名</span>
<span class="token keyword">select</span> Sno<span class="token punctuation">,</span>Sname <span class="token keyword">from</span> Student <span class="token keyword">where</span> Sage<span class="token operator">&gt;</span><span class="token number">23</span> <span class="token operator">and</span> Sdept<span class="token operator">=</span><span class="token string">'IS'</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询年龄是17、18、20、23岁同学的学号、姓名、年龄和所在系</span>
<span class="token keyword">select</span> Sno<span class="token punctuation">,</span>Sname<span class="token punctuation">,</span>Sno<span class="token punctuation">,</span>Sdept <span class="token keyword">from</span> Student <span class="token keyword">where</span> Sage<span class="token operator">=</span><span class="token number">18</span> <span class="token operator">or</span> Sage<span class="token operator">=</span><span class="token number">17</span> <span class="token operator">or</span> Sage<span class="token operator">=</span><span class="token number">20</span> <span class="token operator">or</span> Sage<span class="token operator">=</span><span class="token number">23</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询年龄不在21~24岁之间的学生的姓名、系别和年龄</span>
<span class="token keyword">select</span> Sname<span class="token punctuation">,</span>Sdept<span class="token punctuation">,</span>Sage <span class="token keyword">from</span> Student <span class="token keyword">where</span> Sage<span class="token operator">&gt;</span><span class="token number">24</span> <span class="token operator">or</span> Sage<span class="token operator">&lt;</span><span class="token number">21</span><span class="token punctuation">;</span>




<span class="token comment">-- 2． 分组统计 （1）聚集函数的使用</span>
<span class="token comment">-- 查询学生总人数</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> Student<span class="token punctuation">;</span>

<span class="token comment">-- 查询选修了课程的学生人数</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> Sno<span class="token punctuation">)</span> <span class="token keyword">FROM</span> SC

<span class="token comment">-- 查询最高分</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>Grade<span class="token punctuation">)</span> <span class="token keyword">FROM</span> SC

<span class="token comment">-- （2）聚集函数作用于部分行</span>
<span class="token comment">-- 统计2号课程的总分、均分和最高分</span>
<span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> 总分<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> 均分<span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> 最高分
<span class="token keyword">FROM</span> sc <span class="token keyword">WHERE</span> Cno<span class="token operator">=</span><span class="token string">'2'</span>

<span class="token comment">-- （3）分组统计</span>
<span class="token comment">-- 统计各门课程的选课人数、均分和最高分</span>
<span class="token keyword">select</span> cno 课程号<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> 人数<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> 均分<span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> 最高分
<span class="token keyword">from</span> sc <span class="token keyword">group</span> <span class="token keyword">by</span> Cno

<span class="token comment">-- 统计均分大于90的课程</span>
<span class="token keyword">select</span> cno 课程号<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> 人数<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> 均分<span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> 最高分
<span class="token keyword">from</span> sc <span class="token keyword">group</span> <span class="token keyword">by</span> Cno
<span class="token keyword">having</span> <span class="token function">AVG</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">90</span><span class="token punctuation">;</span>



<span class="token comment">-- （4）完成下面的查询</span>
<span class="token comment">-- 统计每个同学的学号、选课数、平均成绩和最高成绩</span>
<span class="token keyword">select</span> Sno 学号<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>cno<span class="token punctuation">)</span> 选课数<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>Grade<span class="token punctuation">)</span> 平均成绩<span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>Grade<span class="token punctuation">)</span> 最高成绩 <span class="token keyword">from</span> SC <span class="token keyword">group</span> <span class="token keyword">by</span> Sno

<span class="token comment">-- 统计每个班的每门课的选课人数、平均成绩和最高成绩</span>
<span class="token keyword">select</span> Sclass 班级<span class="token punctuation">,</span> Cno 课程号<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>cno<span class="token punctuation">)</span> 选课数<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>Grade<span class="token punctuation">)</span> 平均成绩<span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>Grade<span class="token punctuation">)</span> 最高成绩 <span class="token keyword">from</span> SC<span class="token punctuation">,</span>Student <span class="token keyword">where</span> Student<span class="token punctuation">.</span>Sno<span class="token operator">=</span>SC<span class="token punctuation">.</span>Sno <span class="token keyword">group</span> <span class="token keyword">by</span> Cno<span class="token punctuation">,</span>Student<span class="token punctuation">.</span>Sclass

<span class="token comment">-- 3.连接查询（1）在WHERE中指定连接条件</span>
<span class="token comment">-- 查询每个参加选课的学生信息及其选修课程的情况</span>
<span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span>Sno<span class="token punctuation">,</span>Sname<span class="token punctuation">,</span>Ssex<span class="token punctuation">,</span>Sage<span class="token punctuation">,</span>Sdept<span class="token punctuation">,</span>Cno<span class="token punctuation">,</span>Grade
<span class="token keyword">FROM</span> Student<span class="token punctuation">,</span>SC
<span class="token keyword">WHERE</span> Student<span class="token punctuation">.</span>Sno <span class="token operator">=</span> SC<span class="token punctuation">.</span>Sno

<span class="token comment">-- 查询每一门课的间接先修课</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> course <span class="token keyword">first</span><span class="token punctuation">,</span>course <span class="token keyword">second</span>
<span class="token keyword">WHERE</span> <span class="token keyword">first</span><span class="token punctuation">.</span>Cpno<span class="token operator">=</span><span class="token keyword">second</span><span class="token punctuation">.</span>Cno<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">first</span><span class="token punctuation">.</span>Cno<span class="token punctuation">,</span><span class="token keyword">second</span><span class="token punctuation">.</span>Cpno <span class="token keyword">FROM</span> course <span class="token keyword">first</span><span class="token punctuation">,</span>course <span class="token keyword">second</span>
<span class="token keyword">WHERE</span> <span class="token keyword">first</span><span class="token punctuation">.</span>Cpno<span class="token operator">=</span><span class="token keyword">second</span><span class="token punctuation">.</span>Cno<span class="token punctuation">;</span>

<span class="token comment">-- （2）在FROM中指定连接条件</span>
<span class="token comment">-- 查询每个参加选课的学生信息及其选修课程的情况</span>
<span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span>Sno<span class="token punctuation">,</span>Sname<span class="token punctuation">,</span>Ssex<span class="token punctuation">,</span>Sage<span class="token punctuation">,</span>Sdept<span class="token punctuation">,</span>Cno<span class="token punctuation">,</span>Grade
<span class="token keyword">FROM</span> Student <span class="token keyword">JOIN</span> SC <span class="token keyword">ON</span> <span class="token punctuation">(</span>Student<span class="token punctuation">.</span>Sno<span class="token operator">=</span>SC<span class="token punctuation">.</span>Sno<span class="token punctuation">)</span>

<span class="token comment">-- （3）使用外连接查询</span>
<span class="token comment">-- 查询每个学生信息及其选修课程的情况</span>
<span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span>Sno<span class="token punctuation">,</span>Sname<span class="token punctuation">,</span>Ssex<span class="token punctuation">,</span>Sage<span class="token punctuation">,</span>Sdept<span class="token punctuation">,</span>Cno<span class="token punctuation">,</span>Grade
<span class="token keyword">FROM</span> Student <span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> SC <span class="token keyword">ON</span> <span class="token punctuation">(</span>Student<span class="token punctuation">.</span>Sno<span class="token operator">=</span>SC<span class="token punctuation">.</span>Sno<span class="token punctuation">)</span>

<span class="token comment">-- （4）复合条件连接查询</span>
<span class="token comment">--  查询选修号课程且成绩在90分以上的所有学生</span>
<span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span>Sno<span class="token punctuation">,</span> Sname
<span class="token keyword">FROM</span> Student <span class="token keyword">join</span> SC <span class="token keyword">ON</span> <span class="token punctuation">(</span>Student<span class="token punctuation">.</span>Sno <span class="token operator">=</span> SC<span class="token punctuation">.</span>Sno<span class="token punctuation">)</span> <span class="token comment">/* 连接条件*/</span>
<span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span>Cno<span class="token operator">=</span> <span class="token string">'2'</span> <span class="token operator">AND</span> SC<span class="token punctuation">.</span>Grade <span class="token operator">&gt;</span> <span class="token number">90</span><span class="token punctuation">;</span> <span class="token comment">/* 过滤条件*/</span>

<span class="token comment">-- （5）多表查询</span>
<span class="token comment">--  查询每个学生的学号、姓名、选修的课程名及成绩</span>
<span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span>Sno<span class="token punctuation">,</span>Sname<span class="token punctuation">,</span>Cname<span class="token punctuation">,</span>Grade
<span class="token keyword">FROM</span> Student<span class="token punctuation">,</span>SC<span class="token punctuation">,</span>Course
<span class="token keyword">WHERE</span> Student<span class="token punctuation">.</span>Sno <span class="token operator">=</span> SC<span class="token punctuation">.</span>Sno <span class="token operator">AND</span> SC<span class="token punctuation">.</span>Cno <span class="token operator">=</span> Course<span class="token punctuation">.</span>Cno<span class="token punctuation">;</span>

<span class="token comment">-- （6）完成下列查询</span>
<span class="token comment">--  查询选修了2号课程的同学的学号和姓名</span>

<span class="token keyword">select</span> Student<span class="token punctuation">.</span>Sno<span class="token punctuation">,</span>Sname <span class="token keyword">from</span> Student<span class="token punctuation">,</span>SC <span class="token keyword">where</span> Student<span class="token punctuation">.</span>Sno<span class="token operator">=</span>Sc<span class="token punctuation">.</span>Sno <span class="token operator">and</span> Cno<span class="token operator">=</span><span class="token string">'2'</span>

<span class="token comment">-- 查询各门课程的课程号、课程名称以及选课学生的学号</span>
<span class="token keyword">select</span> sc<span class="token punctuation">.</span>Cno<span class="token punctuation">,</span>Cname<span class="token punctuation">,</span>Sno <span class="token keyword">from</span> Course<span class="token punctuation">,</span>SC <span class="token keyword">where</span> Course<span class="token punctuation">.</span>Cno<span class="token operator">=</span>SC<span class="token punctuation">.</span>Cno

<span class="token comment">-- 查询选修了数据库系统原理课程的同学的学号和姓名和成绩</span>
<span class="token keyword">select</span> SC<span class="token punctuation">.</span>Sno <span class="token punctuation">,</span>Sname<span class="token punctuation">,</span>Grade <span class="token keyword">from</span> Course<span class="token punctuation">,</span>Student<span class="token punctuation">,</span>SC <span class="token keyword">where</span> Sc<span class="token punctuation">.</span>Cno<span class="token operator">=</span>Course<span class="token punctuation">.</span>Cno <span class="token operator">and</span> SC<span class="token punctuation">.</span>Sno<span class="token operator">=</span>Student<span class="token punctuation">.</span>Sno <span class="token operator">and</span> Cname<span class="token operator">=</span><span class="token string">'数据库系统原理'</span>





<span class="token comment">-- 4.嵌套查询（1）由In引出的子查询</span>
<span class="token comment">-- 查询与“刘晨”在同一个系学习的学生</span>
<span class="token keyword">SELECT</span> Sno<span class="token punctuation">,</span>Sname<span class="token punctuation">,</span>Sdept <span class="token keyword">FROM</span> Student
<span class="token keyword">WHERE</span> Sdept <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> Sdept <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> Sname<span class="token operator">=</span> <span class="token string">'刘晨'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> （<span class="token number">2</span>）由比较运算符引出的子查询

<span class="token comment">-- 找出每个学生超过他选修课程平均成绩的课程号。</span>
<span class="token keyword">SELECT</span> Sno<span class="token punctuation">,</span> Cno <span class="token keyword">FROM</span> SC x
<span class="token keyword">WHERE</span> Grade <span class="token operator">&gt;=</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>Grade<span class="token punctuation">)</span> <span class="token keyword">FROM</span> SC y
<span class="token keyword">WHERE</span> y<span class="token punctuation">.</span>Sno<span class="token operator">=</span>x<span class="token punctuation">.</span>Sno<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- （3）带修饰符的比较运算符引出的子查询</span>
<span class="token comment">-- 查询其他系中比计算机科学系所有学生年龄都小的学生姓名及年龄。</span>
<span class="token keyword">SELECT</span> Sname<span class="token punctuation">,</span>Sage <span class="token keyword">FROM</span> Student
<span class="token keyword">WHERE</span> Sage <span class="token operator">&lt;</span> <span class="token keyword">ALL</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> Sage <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> Sdept<span class="token operator">=</span> <span class="token string">'CS'</span><span class="token punctuation">)</span>
<span class="token operator">AND</span> Sdept <span class="token operator">&lt;&gt;</span> <span class="token string">'CS'</span> <span class="token punctuation">;</span>

<span class="token comment">-- （4）由EXISTS引出的子查询</span>
<span class="token comment">-- 查询所有选修了1号课程的学生姓名</span>
<span class="token keyword">SELECT</span> Sname <span class="token keyword">FROM</span> Student
<span class="token keyword">WHERE</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> Sno<span class="token operator">=</span>Student<span class="token punctuation">.</span>Sno <span class="token operator">AND</span> Cno<span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">)</span>

<span class="token comment">-- 5.集合查询（1）集合并</span>
<span class="token comment">-- 查询计算机科学系的学生及年龄不大于19岁的学生</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> Sdept<span class="token operator">=</span> <span class="token string">'CS'</span>
<span class="token keyword">UNION</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> Sage<span class="token operator">&lt;=</span><span class="token number">19</span>

<span class="token comment">-- （2）集合交</span>
<span class="token comment">--  查询计算机科学系且年龄不大于19岁的学生</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> Sdept<span class="token operator">=</span><span class="token string">'CS'</span>
<span class="token keyword">INTERSECT</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> Sage<span class="token operator">&lt;=</span><span class="token number">19</span>

<span class="token comment">-- （3）集合差</span>
<span class="token comment">--  查询计算机科学系且年龄大于19岁的学生</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> Sdept<span class="token operator">=</span><span class="token string">'CS'</span>
<span class="token keyword">EXCEPT</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> Sage <span class="token operator">&lt;=</span><span class="token number">19</span><span class="token punctuation">;</span>






<span class="token comment">-- 3.4 视图操作</span>
<span class="token comment">-- 建立视图并基于视图进行查询：</span>
<span class="token comment">-- 1. 创建视图</span>
<span class="token comment">-- （1）建立学生基本信息视图</span>
<span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> Student_VIEW<span class="token punctuation">(</span>学号<span class="token punctuation">,</span>姓名<span class="token punctuation">,</span>性别<span class="token punctuation">,</span>年龄<span class="token punctuation">,</span>系<span class="token punctuation">,</span>班级<span class="token punctuation">)</span>
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> Sno<span class="token punctuation">,</span>Sname<span class="token punctuation">,</span>Ssex<span class="token punctuation">,</span>Sage<span class="token punctuation">,</span>Sdept<span class="token punctuation">,</span>Sclass
<span class="token keyword">FROM</span> Student<span class="token punctuation">;</span>

<span class="token comment">-- （2）建立学生均分视图</span>
<span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> S_G<span class="token punctuation">(</span>Sno<span class="token punctuation">,</span>Gavg<span class="token punctuation">)</span>
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> Sno<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>Grade<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> Sno<span class="token punctuation">;</span>

<span class="token comment">-- （3）建立选课信息视图</span>
<span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> XK_VIEW
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>Course<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>Grade
<span class="token keyword">FROM</span> Student<span class="token punctuation">,</span>SC<span class="token punctuation">,</span>Course
<span class="token keyword">WHERE</span> Student<span class="token punctuation">.</span>Sno <span class="token operator">=</span> SC<span class="token punctuation">.</span>Sno <span class="token operator">AND</span> SC<span class="token punctuation">.</span>Cno <span class="token operator">=</span> Course<span class="token punctuation">.</span>Cno<span class="token punctuation">;</span>

<span class="token comment">-- 2. 视图查询</span>
<span class="token comment">-- （1）查询学生基本信息</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student_VIEW

<span class="token comment">-- （2）找出每个学生超过他选修课程平均成绩的课程号</span>
<span class="token keyword">SELECT</span> SC<span class="token punctuation">.</span>Sno<span class="token punctuation">,</span>Cno<span class="token punctuation">,</span>grade
<span class="token keyword">FROM</span> SC<span class="token punctuation">,</span> S_G
<span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span>Sno <span class="token operator">=</span> S_G<span class="token punctuation">.</span>Sno <span class="token operator">and</span> Grade <span class="token operator">&gt;=</span> S_G<span class="token punctuation">.</span>Gavg

<span class="token comment">-- （3）查询每个学生的学号、姓名、选修的课程名及成绩</span>
<span class="token keyword">SELECT</span> Sno<span class="token punctuation">,</span>Sname<span class="token punctuation">,</span>Cname<span class="token punctuation">,</span>Grade
<span class="token keyword">FROM</span> XK_VIEW

<span class="token comment">-- （4）比较使用视图查询和直接从基表查询的优点</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a7b86e64c1f7e3d1cdddb710627a6221/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">CentOS  7.8 密码重置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9808c19752bbc7171c922e5a3c98c96e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">php最新帮助文档,PHP-PHP-帮助文档-京东智联云</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>