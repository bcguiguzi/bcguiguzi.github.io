<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>树莓派程序自启动 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="树莓派程序自启动" />
<meta property="og:description" content="树莓派程序自启动 前言树莓派程序自启动的几种方法1）将程序置于rc.local下2）通过.conifg文件夹下新建 *.desktop文件3）树莓派用服务器方式设置开机启动4）利用crontab -e定时查询（能实现自检）---- crontab简述 ----------操作步骤------ 文章目录 前言树莓派程序自启动的几种方法1）将程序置于rc.local下2）通过.conifg文件夹下新建 *.desktop文件3）树莓派用服务器方式设置开机启动4）利用crontab -e定时查询（能实现自检）---- crontab简述 ----------操作步骤------ 前言 记录之前使用过的几种树莓派程序自启动的相关操作。 树莓派程序自启动的几种方法 1）将程序置于rc.local下 这里假设在树莓派的 /home/pi/SIM8200_for_RPI/Goonline/ 路径下存在一个 simcom-cm 的可执行文件。并且我需要这个可执行文件每次开机都自动启动。
设置开机启动，打开树莓派开机配置脚本 sudo nano /etc/rc.local 将启动命令加入倒数第二行，注意是你的运行文件的绝对路径，也就是exit 0的上一行 sudo /home/pi/SIM8200_for_RPI/Goonline/simcom-cm &amp; 注意一定要添加&#34;&amp;&#34; 后台运行，否则可能会出现系统不能启动的情况
系统启动后，可通过ps命令查看进程是否存在。
ps -ef |grep simcom 从图片中可以看到程序已正常启动。
2）通过.conifg文件夹下新建 *.desktop文件 这个方式不用修改 rc.local 文件。机制上类似于 Windows 的“开始”菜单中的“启动”菜单。方法如下：
在 /home/pi/.config 下创建一个文件夹，名称为 autostart，并在该文件夹下创建一个xxx.desktop文件（文件名以.desktop结尾，前面可以自定义，这里假设为my.desktop）
cd ~/.config sudo mkdir autostart cd autostart sudo nano my.desktop 文件内容如下：
[Desktop Entry] Type=Application Exec=/home/pi/Desktop/Release/qm2 3）树莓派用服务器方式设置开机启动 这种方法主要是设置程序在初始化进程完成前就启动设置的脚本程序。实现步骤如下：
准备需要运行的python脚本
这里以一个简单树莓派控制LED灯闪烁为例,程序写好后还需增加权限 #!/usr/bin/env python import RPi." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/2ca3ced438ef6ba8f8eb5c6f2da2e79e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-21T14:59:39+08:00" />
<meta property="article:modified_time" content="2021-12-21T14:59:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">树莓派程序自启动</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>树莓派程序自启动 </h4> 
 <ul><li><a href="#_8" rel="nofollow">前言</a></li><li><a href="#_18" rel="nofollow">树莓派程序自启动的几种方法</a></li><li><ul><li><a href="#1rclocal_20" rel="nofollow">1）将程序置于rc.local下</a></li><li><a href="#2conifg_desktop_41" rel="nofollow">2）通过.conifg文件夹下新建 *.desktop文件</a></li><li><a href="#3_57" rel="nofollow">3）树莓派用服务器方式设置开机启动</a></li><li><a href="#4crontab_e_130" rel="nofollow">4）利用crontab -e定时查询（能实现自检）</a></li><li><ul><li><a href="#_crontab__133" rel="nofollow">---- crontab简述 ----</a></li><li><a href="#_137" rel="nofollow">------操作步骤------</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<br> 
<font color="#999AAA"></font> 
<p></p> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_8" rel="nofollow">前言</a></li><li><a href="#_18" rel="nofollow">树莓派程序自启动的几种方法</a></li><li><ul><li><a href="#1rclocal_20" rel="nofollow">1）将程序置于rc.local下</a></li><li><a href="#2conifg_desktop_41" rel="nofollow">2）通过.conifg文件夹下新建 *.desktop文件</a></li><li><a href="#3_57" rel="nofollow">3）树莓派用服务器方式设置开机启动</a></li><li><a href="#4crontab_e_130" rel="nofollow">4）利用crontab -e定时查询（能实现自检）</a></li><li><ul><li><a href="#_crontab__133" rel="nofollow">---- crontab简述 ----</a></li><li><a href="#_137" rel="nofollow">------操作步骤------</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr color="#000000" size='1"'> 
<h2><a id="_8"></a>前言</h2> 
<font color="#999AAA"> 记录之前使用过的几种树莓派程序自启动的相关操作。 </font> 
<hr color="#000000" size='1"'> 
<font color="#999AAA"> </font> 
<h2><a id="_18"></a>树莓派程序自启动的几种方法</h2> 
<h3><a id="1rclocal_20"></a>1）将程序置于rc.local下</h3> 
<p>  这里假设在树莓派的 <strong>/home/pi/SIM8200_for_RPI/Goonline/</strong> 路径下存在一个 <strong>simcom-cm</strong> 的可执行文件。并且我需要这个可执行文件每次开机都自动启动。</p> 
<ul><li>设置开机启动，打开树莓派开机配置脚本</li></ul> 
<pre><code>sudo nano /etc/rc.local
</code></pre> 
<ul><li>将启动命令加入倒数第二行，注意是你的运行文件的绝对路径，也就是exit 0的上一行</li></ul> 
<pre><code>sudo /home/pi/SIM8200_for_RPI/Goonline/simcom-cm &amp;
</code></pre> 
<ul><li> <p>注意一定要添加"&amp;" 后台运行，否则可能会出现系统不能启动的情况</p> <p>系统启动后，可通过ps命令查看进程是否存在。</p> </li></ul> 
<pre><code>ps -ef |grep simcom
</code></pre> 
<p><img src="https://images2.imgbox.com/f3/35/zWkGJOLD_o.png" alt="示例"><br> 从图片中可以看到程序已正常启动。</p> 
<h3><a id="2conifg_desktop_41"></a>2）通过.conifg文件夹下新建 *.desktop文件</h3> 
<p>  这个方式不用修改 rc.local 文件。机制上类似于 Windows 的“开始”菜单中的“启动”菜单。方法如下：<br> 在 /home/pi/.config 下创建一个文件夹，名称为 autostart，并在该文件夹下创建一个xxx.desktop文件（文件名以.desktop结尾，前面可以自定义，这里假设为my.desktop）</p> 
<pre><code>cd ~/.config
sudo mkdir autostart
cd  autostart
sudo nano my.desktop
</code></pre> 
<p>文件内容如下：</p> 
<pre><code>[Desktop Entry]
Type=Application
Exec=/home/pi/Desktop/Release/qm2
</code></pre> 
<h3><a id="3_57"></a>3）树莓派用服务器方式设置开机启动</h3> 
<p>这种方法主要是设置程序在初始化进程完成前就启动设置的脚本程序。实现步骤如下：</p> 
<ol><li>准备需要运行的python脚本<br> 这里以一个简单树莓派控制LED灯闪烁为例,程序写好后还需增加权限</li></ol> 
<pre><code class="prism language-python"><span class="token comment">#!/usr/bin/env python</span>
 
<span class="token keyword">import</span> RPi<span class="token punctuation">.</span>GPIO <span class="token keyword">as</span> GPIO
<span class="token keyword">import</span> time
GPIO<span class="token punctuation">.</span>setmode<span class="token punctuation">(</span>GPIO<span class="token punctuation">.</span>BCM<span class="token punctuation">)</span>
GPIO<span class="token punctuation">.</span>setup<span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">,</span>GPIO<span class="token punctuation">.</span>OUT<span class="token punctuation">)</span>
<span class="token comment">#休眠20s等待系统初始化</span>
time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
 <span class="token keyword">try</span><span class="token punctuation">:</span>
   GPIO<span class="token punctuation">.</span>output<span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token boolean">True</span><span class="token punctuation">)</span>
   time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
   GPIO<span class="token punctuation">.</span>output<span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token boolean">False</span><span class="token punctuation">)</span>
   time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
 <span class="token keyword">except</span> <span class="token punctuation">(</span>KeyboardInterrupt<span class="token punctuation">,</span> SystemExit<span class="token punctuation">)</span><span class="token punctuation">:</span>
   GPIO<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token string">"exit"</span>
</code></pre> 
<pre><code class="prism language-text">给你的py文件增加权限
chmod 777  /home/pi/script/ledblink.py
</code></pre> 
<ol start="2"><li>编辑开机启动脚本,保存脚本为/etc/init.d/ledblink文件</li></ol> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token comment">#/etc/init.d/ledblink</span>
 
<span class="token comment">###BEGIN INIT INFO</span>
<span class="token comment">#Provides: embbnux</span>
<span class="token comment">#Required-Start: $remote_fs $syslog</span>
<span class="token comment">#Required-Stop: $remote_fs $syslog</span>
<span class="token comment">#Default-Start: 2 3 4 5</span>
<span class="token comment">#Default-Stop: 0 1 6</span>
<span class="token comment">#Short-Description: ledblink initscript</span>
<span class="token comment">#Description: This service is used to manage a led</span>
<span class="token comment">###END INIT INFO</span>
 
<span class="token keyword">case</span> <span class="token string">"<span class="token variable">$1</span>"</span> <span class="token keyword">in</span>
   start<span class="token punctuation">)</span>
       <span class="token builtin class-name">echo</span> <span class="token string">"Starting LED Blink"</span>
       <span class="token function">nohup</span> python3 /home/pi/script/ledblink.py <span class="token operator">&amp;</span>
       <span class="token punctuation">;</span><span class="token punctuation">;</span>
   stop<span class="token punctuation">)</span>
       <span class="token builtin class-name">echo</span> <span class="token string">"Stopping ledblink"</span>
       <span class="token comment">#killall ledblink.py</span>
       <span class="token function">kill</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">ps</span> aux <span class="token operator">|</span> <span class="token function">grep</span> -m <span class="token number">1</span> <span class="token string">'python /home/pi/script/ledblink.py'</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{ print <span class="token variable">$2</span> }'</span><span class="token variable">)</span></span>
       <span class="token punctuation">;</span><span class="token punctuation">;</span>
   *<span class="token punctuation">)</span>
       <span class="token builtin class-name">echo</span> <span class="token string">"Usage: service ledblink start|stop"</span>
       <span class="token builtin class-name">exit</span> <span class="token number">1</span>
       <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code></pre> 
<ol start="3"><li>设置python脚本开机启动</li></ol> 
<pre><code class="prism language-text">sudo service ledblink start #启动
sudo service ledblink stop #停止

最后设置开机启动就好了
sudo update-rc.d ledblink defaults
这样就完工了,重启树莓派就会发现led自己闪烁了，停止用sudo service ledblink stop就行。
</code></pre> 
<p>  因为这个开机自启是在机器还没完成初始化进程的时候就启动的，所以在你的python程序的开头最好加入一个time.sleep函数休眠20秒，强迫程序在系统初始化成功后进行运行。不然可能会因为系统还没准备好你的程序就强行运行而导致启动失败。</p> 
<h3><a id="4crontab_e_130"></a>4）利用crontab -e定时查询（能实现自检）</h3> 
<p>  自检：指的是当程序因意外“挂”掉后，能重新启动。<br>   该方法的基本思路是用crontab设置定时执行python脚本查询程序执行状态，并根据程序状态执行相应的脚本启动程序。这样即使程序因意外停止，也会在定时任务到时后重新启动。</p> 
<h4><a id="_crontab__133"></a>---- crontab简述 ----</h4> 
<p>  crontab命令常见于Unix和类Unix的操作系统之中，用于设置周期性被执行的指令。该命令从标准输入设备读取指令，并将其存放于“crontab”文件中，以供之后读取和执行。该词来源于希腊语 chronos(χρνο)，原意是时间。通常，crontab储存的指令被守护进程激活， crond常常在后台运行，每一分钟检查是否有预定的作业需要执行。这类作业一般称为cron jobs。------------<a href="https://baike.baidu.com/item/crontab/8819388?fr=aladdin" rel="nofollow">来自百度百科</a><br>   详细的crontab操作可以参考这篇博文，这里不在赘述。<a href="https://www.cnblogs.com/peida/archive/2013/01/08/2850483.html" rel="nofollow">https://www.cnblogs.com/peida/archive/2013/01/08/2850483.html</a></p> 
<h4><a id="_137"></a>------操作步骤------</h4> 
<p>  这里设置为按分钟检测，每隔一分钟系统就会调用一次checkiotprog.py脚本。<br>   输入 <strong>crontab -e</strong> 编辑crontab任务在文件末尾添加如下内容：</p> 
<pre><code class="prism language-text">* * * * * python3 /home/pi/test20210702/bin/checkiotprog.py
</code></pre> 
<p>  python脚本内容如下（iotprog.sh是我需要执行的脚本文件，需确定文件有可执行的权限）：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os
<span class="token keyword">import</span> psutil
<span class="token keyword">import</span> sys
<span class="token keyword">import</span> time
<span class="token keyword">import</span> logging
<span class="token keyword">import</span> shlex
<span class="token keyword">import</span> subprocess

<span class="token comment"># 创建一个logger</span>
logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token string">'checkproc_logger'</span><span class="token punctuation">)</span>
logger<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>INFO<span class="token punctuation">)</span>
 
<span class="token comment"># 创建一个handler，用于写入日志文件</span>
fh <span class="token operator">=</span> logging<span class="token punctuation">.</span>FileHandler<span class="token punctuation">(</span><span class="token string">'/home/pi/test20210702/log/checkproc.log'</span><span class="token punctuation">)</span>
fh<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>INFO<span class="token punctuation">)</span>
 
<span class="token comment"># 定义handler的输出格式</span>
formatter <span class="token operator">=</span> logging<span class="token punctuation">.</span>Formatter<span class="token punctuation">(</span><span class="token string">'[%(asctime)s][%(thread)d][%(filename)s][line: %(lineno)d][%(levelname)s] ## %(message)s'</span><span class="token punctuation">)</span>
fh<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span>
 
<span class="token comment"># 给logger添加handler</span>
logger<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>fh<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">check_process</span><span class="token punctuation">(</span>name_<span class="token punctuation">)</span><span class="token punctuation">:</span>
    pl <span class="token operator">=</span> psutil<span class="token punctuation">.</span>pids<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> pid <span class="token keyword">in</span> pl<span class="token punctuation">:</span>
        <span class="token keyword">if</span> psutil<span class="token punctuation">.</span>Process<span class="token punctuation">(</span>pid<span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> name_<span class="token punctuation">:</span>
        	<span class="token comment">#程序正在运行，不做处理</span>
            logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'iotprog found, continue...'</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token comment">#程序未运行</span>
    logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'iotprog not found, start iotprog...'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>
        
<span class="token keyword">if</span> <span class="token punctuation">(</span>check_process<span class="token punctuation">(</span><span class="token string">'iotprog'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">False</span><span class="token punctuation">:</span>
    <span class="token comment">#os.system("/etc/init.d/iotmgr start")</span>
    _cmd<span class="token operator">=</span><span class="token string">"/home/pi/test20210702/bin/iotprog.sh start"</span>
    _cwd<span class="token operator">=</span><span class="token string">"/home/pi/test20210702/src"</span>
    subprocess<span class="token punctuation">.</span>Popen<span class="token punctuation">(</span>args<span class="token operator">=</span>_cmd<span class="token punctuation">,</span>shell<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>close_fds<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>cwd<span class="token operator">=</span>_cwd<span class="token punctuation">,</span> universal_newlines<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> stderr<span class="token operator">=</span>subprocess<span class="token punctuation">.</span>PIPE<span class="token punctuation">,</span>stdout<span class="token operator">=</span>subprocess<span class="token punctuation">.</span>PIPE<span class="token punctuation">)</span><span class="token punctuation">.</span>communicate<span class="token punctuation">(</span><span class="token punctuation">)</span>
    logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'start iotprog ok...'</span><span class="token punctuation">)</span>

</code></pre> 
<p>  脚本文件如下所示：</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#! /bin/sh</span>
<span class="token comment">### BEGIN INIT INFO</span>
<span class="token comment"># Provides:          iotprog</span>
<span class="token comment"># Should-Start:      console-screen kbd acpid dbus hal consolekit</span>
<span class="token comment"># Required-Start:    $local_fs $remote_fs x11-common</span>
<span class="token comment"># Required-Stop:     $local_fs $remote_fs</span>
<span class="token comment"># Default-Start:     2 3 4 5</span>
<span class="token comment"># Default-Stop:      0 1 6</span>
<span class="token comment"># Short-Description: iotprog</span>
<span class="token comment"># Description:       Debian init script for the Light Display Manager</span>
<span class="token comment">### END INIT INFO</span>
<span class="token comment">#</span>
<span class="token comment"># Author:       Yves-Alexis Perez &lt;corsac@debian.org&gt; using gdm script from </span>
<span class="token comment">#               Ryan Murray &lt;rmurray@debian.org&gt;</span>
<span class="token comment">#</span>
<span class="token builtin class-name">set</span> -e

<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/sbin:/bin:/usr/sbin:/usr/bin
<span class="token assign-left variable">DAEMON</span><span class="token operator">=</span>/home/pi/test20210702/src/iotprog

<span class="token builtin class-name">test</span> -x <span class="token variable">$DAEMON</span> <span class="token operator">||</span> <span class="token builtin class-name">exit</span> <span class="token number">0</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> -r /etc/default/locale <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">.</span> /etc/default/locale
  <span class="token builtin class-name">export</span> <span class="token environment constant">LANG</span> <span class="token environment constant">LANGUAGE</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">.</span> /lib/lsb/init-functions


<span class="token keyword">case</span> <span class="token string">"<span class="token variable">$1</span>"</span> <span class="token keyword">in</span>
  start<span class="token punctuation">)</span>
        log_daemon_msg <span class="token string">"Starting iotprog..."</span>
        start-stop-daemon --start --quiet --pidfile /home/pi/test20210702/src/iotprog.pid --name lightdm --exec <span class="token variable">$DAEMON</span> -b<span class="token operator">||</span> <span class="token builtin class-name">echo</span> -n <span class="token string">" already running"</span>
        log_end_msg <span class="token variable">$?</span>
  <span class="token punctuation">;</span><span class="token punctuation">;</span>
  stop<span class="token punctuation">)</span>
        log_daemon_msg <span class="token string">"Stopping iotprog..."</span>
        <span class="token function">kill</span> -9 <span class="token variable"><span class="token variable">$(</span><span class="token function">ps</span> aux <span class="token operator">|</span> <span class="token function">grep</span> -m <span class="token number">1</span> <span class="token string">'iotprog'</span> <span class="token operator">|</span><span class="token function">grep</span> -v <span class="token function">grep</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{ print <span class="token variable">$2</span> }'</span><span class="token variable">)</span></span>
  <span class="token punctuation">;</span><span class="token punctuation">;</span>
  *<span class="token punctuation">)</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"Usage: /etc/init.d/iotprog {start|stop|restart|reload|force-reload|status}"</span>
        <span class="token builtin class-name">exit</span> <span class="token number">1</span>
  <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>

<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code></pre> 
<p>  脚本文件用于执行/home/pi/test20210702/src/路径下的 <strong>iotprog</strong> 可执行文件（即我需要自启动的程序）。脚本中提到 <strong>start-stop-daemon</strong>是linux系统中的进程启停工具。</p> 
<p>本文参考了以下文章，链接如下：<br> <a href="https://www.jianshu.com/p/1a160067d8fd" rel="nofollow">https://www.jianshu.com/p/1a160067d8fd</a><br> <a href="https://shumeipai.nxez.com/2017/05/17/raspberry-pi-service-python-script-start-on-boot.html" rel="nofollow">https://shumeipai.nxez.com/2017/05/17/raspberry-pi-service-python-script-start-on-boot.html</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4cec52aa38f511af31043abfe72145b5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">kubectl命令使用&amp;滚动更新和回滚</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e9b8d933fa2de582f783eb1829d0c1cd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">用例图详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>