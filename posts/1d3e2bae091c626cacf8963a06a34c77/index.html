<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>注意看，这个小编叫小帅，居然用Python做出了可视化麻将，而且还有详细教学 | 附源码 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="注意看，这个小编叫小帅，居然用Python做出了可视化麻将，而且还有详细教学 | 附源码" />
<meta property="og:description" content="前言 halo，包子们晚上好
今天给大家整一个基于pygame实现的可视化麻将
现在不是很多小伙伴都喜欢打麻将的嘛，逢年过节都会搓搓麻将的嘛，所以呀小编这边不就给大家安排上啦，源码啥的都可以直接给大家使用的哟
快跟你的小伙伴一起玩耍吧
相关文件 关注小编，私信小编领取哟！
当然别忘了一件三连哟~~
公众号：Python日志
开发工具 Python版本：3.7.8
相关模块：
pygame模块；
random模块；
GameTable模块；
Rule模块；
以及一些python自带的模块。
环境搭建 安装Python并添加到环境变量，pip安装需要的相关模块即可。
游戏规则 游戏中采取日麻无赤宝牌规则。共计 136 张麻将牌，其中包含 1-9 万/条/筒与东南西北中发白各 4 张（无花牌）。基本规则与国标麻将一致，区别主要在于：每轮对局中存在“宝牌”，胡牌时手牌中若持有宝牌则会有对应奖励；日麻胡牌需要满足特定条件，即为“役”，无役无法胡牌。
设计思路 效果展示 开始界面 玩家进入游戏后，首先会来到登录界面，登录界面中有我为这个游戏所设计的一个 Logo。此时玩家需要在 ID 栏中输入自己的 ID，并选择登录。登录后会来到欢迎界面，并提示玩家可以选择开始游戏
游戏界面 代码展示 基础操作 import copy import pygame import random from GameTable import Gametable from Rule import huJudge from pygame.locals import * from sys import exit class Mahjong(): def __init__(self): self.__clock = pygame.time.Clock() self.screenSet() # 游戏画面设置 self." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/1d3e2bae091c626cacf8963a06a34c77/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-12T21:03:43+08:00" />
<meta property="article:modified_time" content="2023-05-12T21:03:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">注意看，这个小编叫小帅，居然用Python做出了可视化麻将，而且还有详细教学 | 附源码</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>前言</h2> 
<p>halo，包子们晚上好<br> 今天给大家整一个<strong>基于pygame实现的可视化麻将</strong><br> 现在不是很多小伙伴都喜欢打麻将的嘛，逢年过节都会搓搓麻将的嘛，所以呀小编这边不就给大家安排上啦，源码啥的都可以直接给大家使用的哟<br> 快跟你的小伙伴一起玩耍吧</p> 
<h2><a id="_5"></a>相关文件</h2> 
<p>关注小编，私信小编领取哟！<br> 当然别忘了一件三连哟~~<br> 公众号：Python日志</p> 
<h2><a id="_11"></a>开发工具</h2> 
<p>Python版本：3.7.8<br> 相关模块：<br> pygame模块；<br> random模块；<br> GameTable模块；<br> Rule模块；<br> 以及一些python自带的模块。</p> 
<h2><a id="_21"></a>环境搭建</h2> 
<p>安装Python并添加到环境变量，pip安装需要的相关模块即可。</p> 
<h2><a id="_25"></a>游戏规则</h2> 
<p>游戏中采取日麻无赤宝牌规则。共计 136 张麻将牌，其中包含 1-9 万/条/筒与东南西北中发白各 4 张（无花牌）。基本规则与国标麻将一致，区别主要在于：每轮对局中存在“宝牌”，胡牌时手牌中若持有宝牌则会有对应奖励；日麻胡牌需要满足特定条件，即为“役”，无役无法胡牌。</p> 
<h2><a id="_28"></a>设计思路</h2> 
<p><img src="https://images2.imgbox.com/6b/65/GdYDp4jo_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_30"></a>效果展示</h2> 
<h3><a id="_31"></a>开始界面</h3> 
<p>玩家进入游戏后，首先会来到登录界面，登录界面中有我为这个游戏所设计的一个 Logo。此时玩家需要在 ID 栏中输入自己的 ID，并选择登录。登录后会来到欢迎界面，并提示玩家可以选择开始游戏<br> <img src="https://images2.imgbox.com/e6/8c/RuIWE2Cs_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/77/b5/3e5RH9iB_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_35"></a>游戏界面</h3> 
<p><img src="https://images2.imgbox.com/cd/c1/nBC3ErSl_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/4d/51/DJbXoR8z_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ad/fb/EM4ElqJj_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a2/a4/N5jfOkEN_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/89/26/598UCaRM_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_41"></a>代码展示</h2> 
<h3><a id="_42"></a>基础操作</h3> 
<pre><code class="prism language-python"><span class="token keyword">import</span> copy
<span class="token keyword">import</span> pygame
<span class="token keyword">import</span> random
<span class="token keyword">from</span> GameTable <span class="token keyword">import</span> Gametable
<span class="token keyword">from</span> Rule <span class="token keyword">import</span> huJudge
<span class="token keyword">from</span> pygame<span class="token punctuation">.</span><span class="token builtin">locals</span> <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> sys <span class="token keyword">import</span> exit


<span class="token keyword">class</span> <span class="token class-name">Mahjong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>screenSet<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># 游戏画面设置</span>
        self<span class="token punctuation">.</span>playerSet<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># 玩家设置</span>
        self<span class="token punctuation">.</span>sitSet<span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment"># 座次设置</span>
        self<span class="token punctuation">.</span>gameStart<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># 游戏开始</span>

    <span class="token keyword">def</span> <span class="token function">screenSet</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
        screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># screen 的本质上就是一个 Surface 对象，它是游戏的主窗口，</span>
        <span class="token comment"># 也就是整个游戏中尺寸最大的“纸”，任何其他的 Surface 对象都需要附着在这张最大的“纸”上</span>
        pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">'Mahjong 源码领取QQ群：494958217'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">playerSet</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># self.__playername = input("请输入您的昵称：")</span>
        self<span class="token punctuation">.</span>__playername <span class="token operator">=</span> <span class="token string">"飞翔大神天使"</span>   <span class="token comment"># 方便测试用</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"您好，{}！欢迎来到麻将世界！"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__playername<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">sitSet</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__sit <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token comment"># self.__sit = 3</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"您这把{}起！"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">"东南西北"</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>__sit<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">prepare</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n\n正在清理牌桌..."</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>__table <span class="token operator">=</span> Gametable<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># 清理牌桌</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"正在获取初始手牌..."</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>__hands <span class="token operator">=</span> self<span class="token punctuation">.</span>getfHands<span class="token punctuation">(</span>self<span class="token punctuation">.</span>__sit<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__hands<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">reset</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n\n正在清理牌桌..."</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>__table <span class="token operator">=</span> Gametable<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 清理牌桌</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"正在获取初始手牌..."</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>__hands <span class="token operator">=</span> self<span class="token punctuation">.</span>getfHands<span class="token punctuation">(</span>self<span class="token punctuation">.</span>__sit<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__hands<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">getfHands</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> sit<span class="token punctuation">)</span><span class="token punctuation">:</span>
        hands <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        base <span class="token operator">=</span> <span class="token punctuation">(</span>sit<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4</span>   <span class="token comment"># 摸牌起始位置</span>
        <span class="token comment"># 东起 0，南起 4, 西起 8, 北起 12</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 分3次摸2垛</span>
            hands<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>__table<span class="token punctuation">.</span>getTiles<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i <span class="token operator">*</span> <span class="token number">16</span> <span class="token operator">+</span> base<span class="token punctuation">]</span><span class="token punctuation">)</span>
            hands<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>__table<span class="token punctuation">.</span>getTiles<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i <span class="token operator">*</span> <span class="token number">16</span> <span class="token operator">+</span> base <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            hands<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>__table<span class="token punctuation">.</span>getTiles<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i <span class="token operator">*</span> <span class="token number">16</span> <span class="token operator">+</span> base <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            hands<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>__table<span class="token punctuation">.</span>getTiles<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i <span class="token operator">*</span> <span class="token number">16</span> <span class="token operator">+</span> base <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        hands<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>__table<span class="token punctuation">.</span>getTiles<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">48</span> <span class="token operator">+</span> base<span class="token punctuation">]</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>handsSort<span class="token punctuation">(</span>hands<span class="token punctuation">)</span>
        <span class="token keyword">return</span> hands

    <span class="token keyword">def</span> <span class="token function">handsSort</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> hands<span class="token punctuation">)</span><span class="token punctuation">:</span>
        hands<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>key<span class="token operator">=</span>Gametable<span class="token punctuation">.</span>tiles<span class="token punctuation">.</span>index<span class="token punctuation">)</span>
        <span class="token keyword">return</span> hands

    <span class="token keyword">def</span> <span class="token function">gameStart</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__game_num <span class="token operator">=</span> <span class="token number">0</span>       <span class="token comment"># 当前对局数</span>
        <span class="token comment"># self.__current_turn = 0   # 当前局数</span>
        self<span class="token punctuation">.</span>__wind <span class="token operator">=</span> <span class="token string">"东"</span>        <span class="token comment"># 从东场开始</span>
        gamepara <span class="token operator">=</span> self<span class="token punctuation">.</span>__sit     <span class="token comment"># 参数记录起始位置</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__game_num <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>reset<span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token comment"># 准备下一局对局</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"sit:"</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>__sit<span class="token punctuation">,</span> <span class="token string">"gamenum:"</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>__game_num<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>__sit <span class="token operator">=</span> <span class="token punctuation">(</span>gamepara <span class="token operator">-</span> self<span class="token punctuation">.</span>__game_num<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">4</span>

            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"欢迎来到{}{}场！"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__wind<span class="token punctuation">,</span> self<span class="token punctuation">.</span>__game_num <span class="token operator">%</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"您这把是{}家."</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">"东南西北"</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>__sit<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>__game_num <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>__game_num <span class="token operator">%</span> <span class="token number">4</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>__wind <span class="token operator">=</span> <span class="token string">"南"</span>    <span class="token comment"># 进行4局后进入南场</span>
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>game<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>     <span class="token comment"># 连庄则对局数不增加</span>
                self<span class="token punctuation">.</span>__game_num <span class="token operator">-=</span> <span class="token number">1</span>

    <span class="token keyword">def</span> <span class="token function">game</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        winner <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"本局的宝牌指示牌为："</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>__table<span class="token punctuation">.</span>getDoraPointer<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>__cardremain <span class="token operator">=</span> <span class="token number">70</span>   <span class="token comment"># 牌山余量</span>
        self<span class="token punctuation">.</span>__cardgiver <span class="token operator">=</span> <span class="token number">0</span>     <span class="token comment"># 当前出牌人</span>
        self<span class="token punctuation">.</span>__tilepointer <span class="token operator">=</span> <span class="token number">52</span>  <span class="token comment"># 牌山位置指针</span>
        self<span class="token punctuation">.</span>__GangCount <span class="token operator">=</span> <span class="token number">0</span>     <span class="token comment"># 记录开杠次数</span>
        self<span class="token punctuation">.</span>__Ganglist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>     <span class="token comment"># 杠牌</span>
        self<span class="token punctuation">.</span>__Chowlist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>     <span class="token comment"># 吃牌</span>
        self<span class="token punctuation">.</span>__PUNGlist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>     <span class="token comment"># 碰牌</span>
        self<span class="token punctuation">.</span>__Reddora <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>  <span class="token comment"># 是否有赤宝牌</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__cardremain <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token keyword">and</span> winner <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            brand <span class="token operator">=</span> self<span class="token punctuation">.</span>cardplay<span class="token punctuation">(</span>self<span class="token punctuation">.</span>__cardgiver<span class="token punctuation">)</span>
            <span class="token keyword">if</span> brand <span class="token operator">==</span> <span class="token string">"自摸"</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> self<span class="token punctuation">.</span>__sit
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>__cardgiver <span class="token operator">%</span> <span class="token number">4</span> <span class="token operator">!=</span> self<span class="token punctuation">.</span>__sit<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>can_gang<span class="token punctuation">(</span>brand<span class="token punctuation">)</span>
                self<span class="token punctuation">.</span>can_pung<span class="token punctuation">(</span>brand<span class="token punctuation">)</span>
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>__cardgiver <span class="token operator">%</span> <span class="token number">4</span> <span class="token operator">==</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>__sit <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">:</span>
                    self<span class="token punctuation">.</span>can_chow<span class="token punctuation">(</span>brand<span class="token punctuation">)</span>
                winner <span class="token operator">=</span> self<span class="token punctuation">.</span>can_Hu<span class="token punctuation">(</span>brand<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>__cardgiver <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> winner

    <span class="token keyword">def</span> <span class="token function">cardplay</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> giver<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__cardremain <span class="token operator">-=</span> <span class="token number">1</span>
        self<span class="token punctuation">.</span>__tilepointer <span class="token operator">+=</span> <span class="token number">1</span>
        curCard <span class="token operator">=</span> self<span class="token punctuation">.</span>__table<span class="token punctuation">.</span>getTiles<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>__tilepointer <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> giver <span class="token operator">%</span> <span class="token number">4</span> <span class="token operator">!=</span> self<span class="token punctuation">.</span>__sit<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"{}家打出{}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">"东南西北"</span><span class="token punctuation">[</span>giver <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> curCard<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> self<span class="token punctuation">.</span>__table<span class="token punctuation">.</span>getTiles<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>__tilepointer <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>  <span class="token comment"># 如果不是玩家直接摸切</span>
        <span class="token comment"># 如果是玩家本人</span>
        self<span class="token punctuation">.</span>handsShow<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"您摸到了："</span><span class="token punctuation">,</span> curCard<span class="token punctuation">)</span>
        <span class="token comment"># 判断是否能开杠</span>
        self<span class="token punctuation">.</span>can_gang<span class="token punctuation">(</span>curCard<span class="token punctuation">)</span>
        <span class="token comment"># 判断是否自摸</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>can_Hu<span class="token punctuation">(</span>curCard<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">"自摸"</span>

        self<span class="token punctuation">.</span>__hands<span class="token punctuation">.</span>append<span class="token punctuation">(</span>curCard<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>brand<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 舍牌</span>
        self<span class="token punctuation">.</span>handsSort<span class="token punctuation">(</span>self<span class="token punctuation">.</span>__hands<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>handsShow<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">can_gang</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> card<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>__cardremain <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>__GangCount <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        <span class="token keyword">if</span> card <span class="token keyword">not</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>__hands<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        index <span class="token operator">=</span> self<span class="token punctuation">.</span>__hands<span class="token punctuation">.</span>index<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
        <span class="token keyword">if</span> index <span class="token operator">&gt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__hands<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>__hands<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>__hands<span class="token punctuation">[</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>__hands<span class="token punctuation">[</span>index <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            ifGANG <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"杠？Y/N"</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> ifGANG <span class="token keyword">in</span> <span class="token string">"Yy1"</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>GANG<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>

    <span class="token keyword">def</span> <span class="token function">GANG</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> card<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__cardremain <span class="token operator">-=</span> <span class="token number">1</span>
        self<span class="token punctuation">.</span>__GangCount <span class="token operator">+=</span> <span class="token number">1</span>
        self<span class="token punctuation">.</span>__cardgiver <span class="token operator">=</span> self<span class="token punctuation">.</span>__sit
        <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__hands<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"新的宝牌指示牌为："</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>__table<span class="token punctuation">.</span>getDoraPointer<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>__GangCount<span class="token punctuation">]</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>cardplay<span class="token punctuation">(</span>self<span class="token punctuation">.</span>__sit<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>__Ganglist<span class="token punctuation">.</span>append<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>__hands<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>__table<span class="token punctuation">.</span>getTiles<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">-</span>self<span class="token punctuation">.</span>__GangCount<span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">can_pung</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> card<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> card <span class="token keyword">not</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>__hands<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        index <span class="token operator">=</span> self<span class="token punctuation">.</span>__hands<span class="token punctuation">.</span>index<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
        <span class="token keyword">if</span> index <span class="token operator">&gt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__hands<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>__hands<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>__hands<span class="token punctuation">[</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            ifPUNG <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"碰？Y/N"</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> ifPUNG <span class="token keyword">in</span> <span class="token string">"Yy1"</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>PUNG<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>

    <span class="token keyword">def</span> <span class="token function">PUNG</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> card<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__cardgiver <span class="token operator">=</span> self<span class="token punctuation">.</span>__sit
        <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__hands<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>__PUNGlist<span class="token punctuation">.</span>append<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>brand<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>handsShow<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">can_chow</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> card<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> card<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">in</span> <span class="token string">"fd"</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span>
        lis <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        canchow <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        num <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>card<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> self<span class="token punctuation">.</span>__hands<span class="token punctuation">:</span>
            <span class="token keyword">if</span> i<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> card<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                lis<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        lis<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># case 1: 1 2 (3)</span>
        <span class="token keyword">if</span> num <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> num<span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">in</span> lis <span class="token keyword">and</span> num<span class="token operator">-</span><span class="token number">2</span> <span class="token keyword">in</span> lis<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span>card<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>card<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> card<span class="token punctuation">,</span> card<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">"  "</span><span class="token punctuation">)</span>
                canchow<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token comment"># case 2: 1 (2) 3</span>
        <span class="token keyword">if</span> num <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> num<span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">in</span> lis <span class="token keyword">and</span> num<span class="token operator">+</span><span class="token number">1</span> <span class="token keyword">in</span> lis<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>card<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> card <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>card<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> card<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">"  "</span><span class="token punctuation">)</span>
                canchow<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token comment"># case 3: (1) 2 3</span>
        <span class="token keyword">if</span> num <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> num<span class="token operator">+</span><span class="token number">1</span> <span class="token keyword">in</span> lis <span class="token keyword">and</span> num<span class="token operator">+</span><span class="token number">2</span> <span class="token keyword">in</span> lis<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span>card <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>card<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span>card<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> card<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">"  "</span><span class="token punctuation">)</span>
                canchow<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>canchow<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            ifCHOW <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"吃？Y/N"</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> ifCHOW <span class="token keyword">in</span> <span class="token string">"Yy1"</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>CHOW<span class="token punctuation">(</span>card<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> canchow<span class="token punctuation">)</span>
        <span class="token keyword">elif</span> <span class="token builtin">len</span><span class="token punctuation">(</span>canchow<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">:</span>
            ifCHOW <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"吃？1-{}/N"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>canchow<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> ifCHOW <span class="token keyword">in</span> <span class="token string">"123"</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>CHOW<span class="token punctuation">(</span>card<span class="token punctuation">,</span> <span class="token builtin">eval</span><span class="token punctuation">(</span>ifCHOW<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> canchow<span class="token punctuation">)</span>
        <span class="token keyword">return</span> canchow

    <span class="token keyword">def</span> <span class="token function">CHOW</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> card<span class="token punctuation">,</span> mode<span class="token punctuation">,</span> lis<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__cardgiver <span class="token operator">=</span> self<span class="token punctuation">.</span>__sit
        mode <span class="token operator">=</span> lis<span class="token punctuation">[</span>mode<span class="token punctuation">]</span>
        <span class="token keyword">if</span> mode <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>  <span class="token comment"># case 1: 1 2 (3)</span>
           <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>card<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span>card<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>card<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>card<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> card<span class="token punctuation">]</span><span class="token punctuation">:</span>
               <span class="token keyword">if</span> i <span class="token operator">!=</span> card<span class="token punctuation">:</span>
                   self<span class="token punctuation">.</span>__hands<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
               self<span class="token punctuation">.</span>__Chowlist<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        <span class="token keyword">elif</span> mode <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>  <span class="token comment"># case 2: 1 (2) 3</span>
           <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>card<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>card<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> card<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>card<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>card<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
               <span class="token keyword">if</span> i <span class="token operator">!=</span> card<span class="token punctuation">:</span>
                   self<span class="token punctuation">.</span>__hands<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
               self<span class="token punctuation">.</span>__Chowlist<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        <span class="token keyword">elif</span> mode <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>  <span class="token comment"># case 3: (1) 2 3</span>
           <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token punctuation">[</span>card<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>card<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>card<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>card<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span>card<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
               <span class="token keyword">if</span> i <span class="token operator">!=</span> card<span class="token punctuation">:</span>
                   self<span class="token punctuation">.</span>__hands<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
               self<span class="token punctuation">.</span>__Chowlist<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>brand<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>handsShow<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">can_Hu</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> card<span class="token punctuation">,</span> Self<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        handstry <span class="token operator">=</span> copy<span class="token punctuation">.</span>deepcopy<span class="token punctuation">(</span>self<span class="token punctuation">.</span>__hands<span class="token punctuation">)</span>
        handstry<span class="token punctuation">.</span>append<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
        <span class="token keyword">if</span> huJudge<span class="token punctuation">(</span>self<span class="token punctuation">.</span>handsSort<span class="token punctuation">(</span>handstry<span class="token punctuation">)</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>__Chowlist<span class="token punctuation">,</span> self<span class="token punctuation">.</span>__PUNGlist<span class="token punctuation">,</span> self<span class="token punctuation">.</span>__Ganglist<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> Self<span class="token punctuation">:</span>
                ifHU <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"自摸？Y/N"</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                ifHU <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"胡？Y/N"</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> ifHU <span class="token keyword">in</span> <span class="token string">"Yy1"</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>__hands <span class="token operator">=</span> handstry
                self<span class="token punctuation">.</span>HU<span class="token punctuation">(</span>handstry<span class="token punctuation">)</span>
                <span class="token keyword">return</span> self<span class="token punctuation">.</span>__sit
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>

    <span class="token keyword">def</span> <span class="token function">HU</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> hands<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"胡牌手牌："</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>handsShow<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"恭喜{}家获得胜利！"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">"东南西北"</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>__sit<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">handsShow</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__hands<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">'  '</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>__Ganglist <span class="token operator">!=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"已杠："</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> self<span class="token punctuation">.</span>__Ganglist<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>__PUNGlist <span class="token operator">!=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"已碰："</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> self<span class="token punctuation">.</span>__PUNGlist<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>__Chowlist <span class="token operator">!=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"已吃："</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>
            count <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> self<span class="token punctuation">.</span>__Chowlist<span class="token punctuation">:</span>
                count <span class="token operator">+=</span> <span class="token number">1</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> count <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    <span class="token keyword">print</span><span class="token punctuation">(</span>end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">brand</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        brand <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"您要打出？"</span><span class="token punctuation">)</span>  <span class="token comment"># 舍牌</span>
        <span class="token keyword">if</span> brand <span class="token keyword">in</span> self<span class="token punctuation">.</span>__hands<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__hands<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>brand<span class="token punctuation">)</span>
        <span class="token keyword">elif</span> brand <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__hands<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__hands<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token builtin">eval</span><span class="token punctuation">(</span>brand<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__hands<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>


</code></pre> 
<h3><a id="_331"></a>胡牌算法</h3> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">huJudge</span><span class="token punctuation">(</span>hands<span class="token punctuation">,</span> Chowlis<span class="token punctuation">,</span> Punglis<span class="token punctuation">,</span> Ganglis<span class="token punctuation">)</span><span class="token punctuation">:</span>
count <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>Chowlis<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token builtin">len</span><span class="token punctuation">(</span>Punglis<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">len</span><span class="token punctuation">(</span>Ganglis<span class="token punctuation">)</span>
<span class="token keyword">if</span> count <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
<span class="token keyword">if</span> nanaJudge<span class="token punctuation">(</span>hands<span class="token punctuation">)</span> <span class="token keyword">or</span> kokushimusoJudge<span class="token punctuation">(</span>hands<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token keyword">return</span> <span class="token boolean">True</span>
<span class="token keyword">return</span> tanyaoJudge<span class="token punctuation">(</span>hands<span class="token punctuation">,</span> count<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">nanaJudge</span><span class="token punctuation">(</span>hands<span class="token punctuation">)</span><span class="token punctuation">:</span>
i <span class="token operator">=</span> <span class="token number">0</span>
temp <span class="token operator">=</span> <span class="token string">"0"</span>
<span class="token keyword">while</span> i <span class="token operator">&lt;</span> <span class="token number">12</span><span class="token punctuation">:</span>
<span class="token keyword">if</span> temp <span class="token operator">==</span> hands<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span>
<span class="token keyword">return</span> <span class="token boolean">False</span>
<span class="token keyword">if</span> hands<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> hands<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
<span class="token keyword">return</span> <span class="token boolean">False</span>
temp <span class="token operator">=</span> hands<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
i <span class="token operator">+=</span> <span class="token number">2</span>
<span class="token keyword">return</span> <span class="token boolean">True</span>
<span class="token keyword">def</span> <span class="token function">kokushimusoJudge</span><span class="token punctuation">(</span>hands<span class="token punctuation">)</span><span class="token punctuation">:</span>
handscopy <span class="token operator">=</span> copy<span class="token punctuation">.</span>deepcopy<span class="token punctuation">(</span>hands<span class="token punctuation">)</span>
yaolist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"1m"</span><span class="token punctuation">,</span> <span class="token string">"9m"</span><span class="token punctuation">,</span> <span class="token string">"1p"</span><span class="token punctuation">,</span> <span class="token string">"9p"</span><span class="token punctuation">,</span> <span class="token string">"1s"</span><span class="token punctuation">,</span> <span class="token string">"9s"</span><span class="token punctuation">,</span> <span class="token string">"d1"</span><span class="token punctuation">,</span> <span class="token string">"d2"</span><span class="token punctuation">,</span> <span class="token string">"d3"</span><span class="token punctuation">,</span>
<span class="token string">"f1"</span><span class="token punctuation">,</span> <span class="token string">"f2"</span><span class="token punctuation">,</span> <span class="token string">"f3"</span><span class="token punctuation">,</span> <span class="token string">"f4"</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> yaolist<span class="token punctuation">:</span>
<span class="token keyword">if</span> i <span class="token keyword">in</span> handscopy<span class="token punctuation">:</span>
handscopy<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>handscopy<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> handscopy<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">in</span> yaolist<span class="token punctuation">:</span>
<span class="token keyword">return</span> <span class="token boolean">True</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
<span class="token keyword">return</span> <span class="token boolean">False</span>
<span class="token keyword">def</span> <span class="token function">tanyaoJudge</span><span class="token punctuation">(</span>hands<span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> hands<span class="token punctuation">:</span>
<span class="token keyword">if</span> i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">in</span> <span class="token string">"19fd"</span><span class="token punctuation">:</span>
<span class="token keyword">return</span> <span class="token boolean">False</span>
i <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>hands<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
handscopy <span class="token operator">=</span> copy<span class="token punctuation">.</span>deepcopy<span class="token punctuation">(</span>hands<span class="token punctuation">)</span>
<span class="token keyword">if</span> hands<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> hands<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
handscopy<span class="token punctuation">.</span>pop<span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
handscopy<span class="token punctuation">.</span>pop<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token keyword">if</span> NormalJudge<span class="token punctuation">(</span>handscopy<span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token keyword">return</span> <span class="token boolean">True</span>
i <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token keyword">return</span> <span class="token boolean">False</span>
<span class="token keyword">def</span> <span class="token function">NormalJudge</span><span class="token punctuation">(</span>hands<span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># 如果是一般型</span>
i <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span> count <span class="token operator">&lt;</span> <span class="token number">4</span> <span class="token keyword">and</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>hands<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">:</span>
<span class="token keyword">if</span> hands<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> hands<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> hands<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token comment"># 刻子判断</span>
count <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
hands<span class="token punctuation">.</span>pop<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
i <span class="token operator">-=</span> <span class="token number">1</span>
<span class="token keyword">else</span><span class="token punctuation">:</span> <span class="token comment"># 顺子判断</span>
<span class="token keyword">if</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>hands<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> hands<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">in</span> hands <span class="token keyword">and</span>
<span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>hands<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> hands<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">in</span> hands<span class="token punctuation">:</span>
count <span class="token operator">+=</span> <span class="token number">1</span>
hands<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>hands<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> hands<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
hands<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>hands<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> hands<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
hands<span class="token punctuation">.</span>pop<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
i <span class="token operator">-=</span> <span class="token number">1</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
<span class="token keyword">return</span> <span class="token boolean">False</span>
i <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token keyword">return</span> <span class="token boolean">True</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d9b28f167db74a1d365eb3a8f3942e42/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Android系统签名生成，在AndroidStudio中使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7ddae69445c083689ad00ae468de858b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">语义分割学习笔记（三）FCN网络结构详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>