<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python数据分析-numpy - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python数据分析-numpy" />
<meta property="og:description" content="目录
一、创建数组
1.1 从列表传入：array()
1.2 生成全0数组：zeros()
1.3 生成全1数组：ones()
1.4 fill(x)函数将数组设定为x：
1.5 类型转换：astype()
1.6 生成整数序列：arange()
1.7 生成等差数列：linspace()
1.8 生成随机数：random.rand()，random.randn()，random.randint()
1.9 查看变量类型：type()
1.10 查看数据的类型：dtype()
1.11 查看变量的形状：shape,size,ndim
二、索引和切片
2.1 常规索引
2.2 省略参数
2.3 案例：计算一部电影的累计票房
三、多维数组及其属性
3.1 查看数组属性
3.2 多维数组索引：
3.3 多维数组切片：
四、花式索引
4.1 一维花式索引
4.2 二维花式索引
4.3 不完全索引
4.4 where语句
五、数组类型
六、数组操作（以豆瓣10部高分电影为例）
6.1 数组排序：
6.2 其他常见函数：
七、多维数组操作
7.1 数组形状，shape和reshape，reshape不会修改原有的数组，而会返回一个新的数组
7.2 转置
7.3 数组连接
7.4 numpy内置函数(部分函数)
Numpy 是Python 的⼀种开源的数值计算拓展，这种⼯具可⽤来存储和处理⼤型矩阵。
Numpy的⼀个重要特性是数组计算。
导入numpy包的几种方法：
import numpy import numpy as np #导入numpy包并重命名为np import numpy import * #导入numpy的所有函数，但若是大工程函数可能相同，会报错 一、创建数组 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/2541ef902b3b621cb1f63bf12c0dd2ec/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-01T21:50:17+08:00" />
<meta property="article:modified_time" content="2022-12-01T21:50:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python数据分析-numpy</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84" rel="nofollow">一、创建数组</a></p> 
<p id="1.1%20%E4%BB%8E%E5%88%97%E8%A1%A8%E4%BC%A0%E5%85%A5%EF%BC%9Aarray()-toc" style="margin-left:40px;"><a href="#1.1%20%E4%BB%8E%E5%88%97%E8%A1%A8%E4%BC%A0%E5%85%A5%EF%BC%9Aarray%28%29" rel="nofollow">1.1 从列表传入：array()</a></p> 
<p id="1.2%20%E7%94%9F%E6%88%90%E5%85%A80%E6%95%B0%E7%BB%84%EF%BC%9Azeros()-toc" style="margin-left:40px;"><a href="#1.2%20%E7%94%9F%E6%88%90%E5%85%A80%E6%95%B0%E7%BB%84%EF%BC%9Azeros%28%29" rel="nofollow">1.2 生成全0数组：zeros()</a></p> 
<p id="1.3%20%E7%94%9F%E6%88%90%E5%85%A81%E6%95%B0%E7%BB%84%EF%BC%9Aones()-toc" style="margin-left:40px;"><a href="#1.3%20%E7%94%9F%E6%88%90%E5%85%A81%E6%95%B0%E7%BB%84%EF%BC%9Aones%28%29" rel="nofollow">1.3 生成全1数组：ones()</a></p> 
<p id="%C2%A01.4%20fill(x)%E5%87%BD%E6%95%B0%E5%B0%86%E6%95%B0%E7%BB%84%E8%AE%BE%E5%AE%9A%E4%B8%BAx%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%C2%A01.4%20fill%28x%29%E5%87%BD%E6%95%B0%E5%B0%86%E6%95%B0%E7%BB%84%E8%AE%BE%E5%AE%9A%E4%B8%BAx%EF%BC%9A" rel="nofollow"> 1.4 fill(x)函数将数组设定为x：</a></p> 
<p id="1.5%20%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%EF%BC%9Aastype()-toc" style="margin-left:40px;"><a href="#1.5%20%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%EF%BC%9Aastype%28%29" rel="nofollow">1.5 类型转换：astype()</a></p> 
<p id="1.6%20%E7%94%9F%E6%88%90%E6%95%B4%E6%95%B0%E5%BA%8F%E5%88%97%EF%BC%9Aarange()-toc" style="margin-left:40px;"><a href="#1.6%20%E7%94%9F%E6%88%90%E6%95%B4%E6%95%B0%E5%BA%8F%E5%88%97%EF%BC%9Aarange%28%29" rel="nofollow">1.6 生成整数序列：arange()</a></p> 
<p id="1.7%20%E7%94%9F%E6%88%90%E7%AD%89%E5%B7%AE%E6%95%B0%E5%88%97%EF%BC%9Alinspace()-toc" style="margin-left:40px;"><a href="#1.7%20%E7%94%9F%E6%88%90%E7%AD%89%E5%B7%AE%E6%95%B0%E5%88%97%EF%BC%9Alinspace%28%29" rel="nofollow">1.7 生成等差数列：linspace()</a></p> 
<p id="1.8%20%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0%EF%BC%9Arandom.rand()%EF%BC%8Crandom.randn()%EF%BC%8Crandom.randint()-toc" style="margin-left:40px;"><a href="#1.8%20%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0%EF%BC%9Arandom.rand%28%29%EF%BC%8Crandom.randn%28%29%EF%BC%8Crandom.randint%28%29" rel="nofollow">1.8 生成随机数：random.rand()，random.randn()，random.randint()</a></p> 
<p id="1.9%20%E6%9F%A5%E7%9C%8B%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B%EF%BC%9Atype()-toc" style="margin-left:40px;"><a href="#1.9%20%E6%9F%A5%E7%9C%8B%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B%EF%BC%9Atype%28%29" rel="nofollow">1.9 查看变量类型：type()</a></p> 
<p id="1.10%20%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E7%9A%84%E7%B1%BB%E5%9E%8B%EF%BC%9Adtype()-toc" style="margin-left:40px;"><a href="#1.10%20%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E7%9A%84%E7%B1%BB%E5%9E%8B%EF%BC%9Adtype%28%29" rel="nofollow">1.10 查看数据的类型：dtype()</a></p> 
<p id="1.11%20%E6%9F%A5%E7%9C%8B%E5%8F%98%E9%87%8F%E7%9A%84%E5%BD%A2%E7%8A%B6%EF%BC%9Ashape%2Csize%2Cndim-toc" style="margin-left:40px;"><a href="#1.11%20%E6%9F%A5%E7%9C%8B%E5%8F%98%E9%87%8F%E7%9A%84%E5%BD%A2%E7%8A%B6%EF%BC%9Ashape%2Csize%2Cndim" rel="nofollow">1.11 查看变量的形状：shape,size,ndim</a></p> 
<p id="%E4%BA%8C%E3%80%81%E7%B4%A2%E5%BC%95%E5%92%8C%E5%88%87%E7%89%87-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E7%B4%A2%E5%BC%95%E5%92%8C%E5%88%87%E7%89%87" rel="nofollow">二、索引和切片</a></p> 
<p id="2.1%20%E5%B8%B8%E8%A7%84%E7%B4%A2%E5%BC%95-toc" style="margin-left:40px;"><a href="#2.1%20%E5%B8%B8%E8%A7%84%E7%B4%A2%E5%BC%95" rel="nofollow">2.1 常规索引</a></p> 
<p id="2.2%C2%A0%E7%9C%81%E7%95%A5%E5%8F%82%E6%95%B0-toc" style="margin-left:40px;"><a href="#2.2%C2%A0%E7%9C%81%E7%95%A5%E5%8F%82%E6%95%B0" rel="nofollow">2.2 省略参数</a></p> 
<p id="2.3%C2%A0%E6%A1%88%E4%BE%8B%EF%BC%9A%E8%AE%A1%E7%AE%97%E4%B8%80%E9%83%A8%E7%94%B5%E5%BD%B1%E7%9A%84%E7%B4%AF%E8%AE%A1%E7%A5%A8%E6%88%BF-toc" style="margin-left:40px;"><a href="#2.3%C2%A0%E6%A1%88%E4%BE%8B%EF%BC%9A%E8%AE%A1%E7%AE%97%E4%B8%80%E9%83%A8%E7%94%B5%E5%BD%B1%E7%9A%84%E7%B4%AF%E8%AE%A1%E7%A5%A8%E6%88%BF" rel="nofollow">2.3 案例：计算一部电影的累计票房</a></p> 
<p id="%E4%B8%89%E3%80%81%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84%E5%8F%8A%E5%85%B6%E5%B1%9E%E6%80%A7-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84%E5%8F%8A%E5%85%B6%E5%B1%9E%E6%80%A7" rel="nofollow">三、多维数组及其属性</a></p> 
<p id="3.1%20%E6%9F%A5%E7%9C%8B%E6%95%B0%E7%BB%84%E5%B1%9E%E6%80%A7-toc" style="margin-left:40px;"><a href="#3.1%20%E6%9F%A5%E7%9C%8B%E6%95%B0%E7%BB%84%E5%B1%9E%E6%80%A7" rel="nofollow">3.1 查看数组属性</a></p> 
<p id="3.2%20%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84%E7%B4%A2%E5%BC%95%EF%BC%9A-toc" style="margin-left:40px;"><a href="#3.2%20%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84%E7%B4%A2%E5%BC%95%EF%BC%9A" rel="nofollow">3.2 多维数组索引：</a></p> 
<p id="3.3%20%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84%E5%88%87%E7%89%87%EF%BC%9A-toc" style="margin-left:40px;"><a href="#3.3%20%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84%E5%88%87%E7%89%87%EF%BC%9A" rel="nofollow">3.3 多维数组切片：</a></p> 
<p id="%E5%9B%9B%E3%80%81%E8%8A%B1%E5%BC%8F%E7%B4%A2%E5%BC%95-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81%E8%8A%B1%E5%BC%8F%E7%B4%A2%E5%BC%95" rel="nofollow">四、花式索引</a></p> 
<p id="4.1%20%E4%B8%80%E7%BB%B4%E8%8A%B1%E5%BC%8F%E7%B4%A2%E5%BC%95-toc" style="margin-left:40px;"><a href="#4.1%20%E4%B8%80%E7%BB%B4%E8%8A%B1%E5%BC%8F%E7%B4%A2%E5%BC%95" rel="nofollow">4.1 一维花式索引</a></p> 
<p id="4.2%C2%A0%E4%BA%8C%E7%BB%B4%E8%8A%B1%E5%BC%8F%E7%B4%A2%E5%BC%95-toc" style="margin-left:40px;"><a href="#4.2%C2%A0%E4%BA%8C%E7%BB%B4%E8%8A%B1%E5%BC%8F%E7%B4%A2%E5%BC%95" rel="nofollow">4.2 二维花式索引</a></p> 
<p id="4.3%C2%A0%E4%B8%8D%E5%AE%8C%E5%85%A8%E7%B4%A2%E5%BC%95-toc" style="margin-left:40px;"><a href="#4.3%C2%A0%E4%B8%8D%E5%AE%8C%E5%85%A8%E7%B4%A2%E5%BC%95" rel="nofollow">4.3 不完全索引</a></p> 
<p id="4.4%20where%E8%AF%AD%E5%8F%A5-toc" style="margin-left:40px;"><a href="#4.4%20where%E8%AF%AD%E5%8F%A5" rel="nofollow">4.4 where语句</a></p> 
<p id="%E4%BA%94%E3%80%81%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B-toc" style="margin-left:0px;"><a href="#%E4%BA%94%E3%80%81%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B" rel="nofollow">五、数组类型</a></p> 
<p id="%C2%A0%E5%85%AD%E3%80%81%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C%EF%BC%88%E4%BB%A5%E8%B1%86%E7%93%A310%E9%83%A8%E9%AB%98%E5%88%86%E7%94%B5%E5%BD%B1%E4%B8%BA%E4%BE%8B%EF%BC%89-toc" style="margin-left:0px;"><a href="#%C2%A0%E5%85%AD%E3%80%81%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C%EF%BC%88%E4%BB%A5%E8%B1%86%E7%93%A310%E9%83%A8%E9%AB%98%E5%88%86%E7%94%B5%E5%BD%B1%E4%B8%BA%E4%BE%8B%EF%BC%89" rel="nofollow">六、数组操作（以豆瓣10部高分电影为例）</a></p> 
<p id="6.1%20%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F%EF%BC%9A-toc" style="margin-left:40px;"><a href="#6.1%20%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F%EF%BC%9A" rel="nofollow">6.1 数组排序：</a></p> 
<p id="6.2%20%E5%85%B6%E4%BB%96%E5%B8%B8%E8%A7%81%E5%87%BD%E6%95%B0%EF%BC%9A-toc" style="margin-left:40px;"><a href="#6.2%20%E5%85%B6%E4%BB%96%E5%B8%B8%E8%A7%81%E5%87%BD%E6%95%B0%EF%BC%9A" rel="nofollow">6.2 其他常见函数：</a></p> 
<p id="%E4%B8%83%E3%80%81%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C-toc" style="margin-left:0px;"><a href="#%E4%B8%83%E3%80%81%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C" rel="nofollow">七、多维数组操作</a></p> 
<p id="7.1%20%E6%95%B0%E7%BB%84%E5%BD%A2%E7%8A%B6%EF%BC%8Cshape%E5%92%8Creshape%EF%BC%8Creshape%E4%B8%8D%E4%BC%9A%E4%BF%AE%E6%94%B9%E5%8E%9F%E6%9C%89%E7%9A%84%E6%95%B0%E7%BB%84%EF%BC%8C%E8%80%8C%E4%BC%9A%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E6%95%B0%E7%BB%84-toc" style="margin-left:40px;"><a href="#7.1%20%E6%95%B0%E7%BB%84%E5%BD%A2%E7%8A%B6%EF%BC%8Cshape%E5%92%8Creshape%EF%BC%8Creshape%E4%B8%8D%E4%BC%9A%E4%BF%AE%E6%94%B9%E5%8E%9F%E6%9C%89%E7%9A%84%E6%95%B0%E7%BB%84%EF%BC%8C%E8%80%8C%E4%BC%9A%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E6%95%B0%E7%BB%84" rel="nofollow">7.1 数组形状，shape和reshape，reshape不会修改原有的数组，而会返回一个新的数组</a></p> 
<p id="7.2%20%E8%BD%AC%E7%BD%AE-toc" style="margin-left:40px;"><a href="#7.2%20%E8%BD%AC%E7%BD%AE" rel="nofollow">7.2 转置</a></p> 
<p id="7.3%20%E6%95%B0%E7%BB%84%E8%BF%9E%E6%8E%A5-toc" style="margin-left:40px;"><a href="#7.3%20%E6%95%B0%E7%BB%84%E8%BF%9E%E6%8E%A5" rel="nofollow">7.3 数组连接</a></p> 
<p id="%C2%A07.4%20numpy%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0(%E9%83%A8%E5%88%86%E5%87%BD%E6%95%B0)-toc" style="margin-left:40px;"><a href="#%C2%A07.4%20numpy%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%28%E9%83%A8%E5%88%86%E5%87%BD%E6%95%B0%29" rel="nofollow"> 7.4 numpy内置函数(部分函数)</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p>Numpy 是Python 的⼀种开源的数值计算拓展，这种⼯具可⽤来存储和处理⼤型矩阵。<br> Numpy的⼀个重要特性是数组计算。</p> 
<p><br> 导入numpy包的几种方法：</p> 
<pre><code class="language-python">import numpy             
import numpy as np       #导入numpy包并重命名为np
import numpy import *    #导入numpy的所有函数，但若是大工程函数可能相同，会报错</code></pre> 
<h2 id="%E4%B8%80%E3%80%81%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84">一、创建数组</h2> 
<h3 id="1.1%20%E4%BB%8E%E5%88%97%E8%A1%A8%E4%BC%A0%E5%85%A5%EF%BC%9Aarray()">1.1 从列表传入：array()</h3> 
<pre><code class="language-python">import numpy as np
# list = [1,2,3,4]
# a = np.ayyay(list)
a = np.array([1,2,3,4]) 

b = np.array([5,6,7,8])

print(a)
print(a+1)    # a里的所有元素+1
print(a*2)    # a里的所有元素*2
print(a+b)    # a里的元素和b里的元素一一对应相加</code></pre> 
<blockquote> 
 <pre>[1 2 3 4]
[2 3 4 5]
[2 4 6 8]
[ 6  8 10 12]</pre> 
</blockquote> 
<h3 id="1.2%20%E7%94%9F%E6%88%90%E5%85%A80%E6%95%B0%E7%BB%84%EF%BC%9Azeros()">1.2 生成全0数组：zeros()</h3> 
<pre><code class="language-python">a = np.zeros(5)    # 生成5个元素为0的数组(默认为浮点型)</code></pre> 
<h3 id="1.3%20%E7%94%9F%E6%88%90%E5%85%A81%E6%95%B0%E7%BB%84%EF%BC%9Aones()">1.3 生成全1数组：ones()</h3> 
<pre><code class="language-python">a = np.ones(5)                    # 生成5个元素为1的数组
a = np.ones(5,dtype = 'bool')     #类型改为布尔类型
a = np.ones(5,dtype = 'int')      </code></pre> 
<h3 id="%C2%A01.4%20fill(x)%E5%87%BD%E6%95%B0%E5%B0%86%E6%95%B0%E7%BB%84%E8%AE%BE%E5%AE%9A%E4%B8%BAx%EF%BC%9A"> 1.4 fill(x)函数将数组设定为x：</h3> 
<pre><code class="language-python">a = np.ones(5)    # 生成5个元素为1的数组
a.fill(5) 
print(a)</code></pre> 
<h3 id="1.5%20%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%EF%BC%9Aastype()">1.5 类型转换：astype()</h3> 
<pre><code class="language-python">a=np.ones(5,dtype = 'int')
print(a)

a=a.astype('float') # 若不进行类型转换，当填充的值为小数时，最终结果会默认为整数（舍去小数）
print(a)

a.fill(2.5)
print(a)</code></pre> 
<h3 id="1.6%20%E7%94%9F%E6%88%90%E6%95%B4%E6%95%B0%E5%BA%8F%E5%88%97%EF%BC%9Aarange()">1.6 生成整数序列：arange()</h3> 
<pre><code class="language-python">a = np.arange(1,10)    # 左闭右开
print(a)    # [1 2 3 4 5 6 7 8 9]

a = np.arange(1,10，2)
print(a)    # [1, 3, 5, 7, 9]</code></pre> 
<h3 id="1.7%20%E7%94%9F%E6%88%90%E7%AD%89%E5%B7%AE%E6%95%B0%E5%88%97%EF%BC%9Alinspace()">1.7 生成等差数列：linspace()</h3> 
<pre><code class="language-python"># 生成范围为1-12，数量为12的等差数列
a = np.linspace(1,12,20)    
print(a) 

'''
[ 1.          1.57894737  2.15789474  2.73684211  3.31578947  3.89473684
  4.47368421  5.05263158  5.63157895  6.21052632  6.78947368  7.36842105
  7.94736842  8.52631579  9.10526316  9.68421053 10.26315789 10.84210526
 11.42105263 12.        ]
'''
</code></pre> 
<h3 id="1.8%20%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0%EF%BC%9Arandom.rand()%EF%BC%8Crandom.randn()%EF%BC%8Crandom.randint()">1.8 生成随机数：random.rand()，random.randn()，random.randint()</h3> 
<pre><code class="language-python">#生成10个0-1（不包括1）的随机数
a = np.random.rand(10)
print(a)</code></pre> 
<pre><code class="language-python">#生成10个服从标准正态分布的随机数
a = np.random.randn(10)  
print(a) </code></pre> 
<pre><code class="language-python">#生成10个范围在1-100间的随机数
a = np.random.randint(1,100,10)  
print(a) </code></pre> 
<h3 id="1.9%20%E6%9F%A5%E7%9C%8B%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B%EF%BC%9Atype()">1.9 查看变量类型：type()</h3> 
<pre><code class="language-python">np.random.randint(1,100,10)     #生成随机整数
print( type(a) )    # numpy.ndarray</code></pre> 
<h3 id="1.10%20%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E7%9A%84%E7%B1%BB%E5%9E%8B%EF%BC%9Adtype()">1.10 查看数据的类型：dtype()</h3> 
<pre><code class="language-python">a = np.random.randint(1,100,10)     #生成随机整数
print(a.dtype)    # dtype('int32')</code></pre> 
<h3 id="1.11%20%E6%9F%A5%E7%9C%8B%E5%8F%98%E9%87%8F%E7%9A%84%E5%BD%A2%E7%8A%B6%EF%BC%9Ashape%2Csize%2Cndim">1.11 查看变量的形状：shape,size,ndim</h3> 
<pre><code class="language-python">a = np.random.randint(1,100,10)  #生成随机整数
print(a)
print(a.shape)   # (10,)   查看形状 行*列，该数据只有行没有列
print(a.size)    # 10      查看元素的数目
print(a.ndim)    # 1       查看维度</code></pre> 
<h2 id="%E4%BA%8C%E3%80%81%E7%B4%A2%E5%BC%95%E5%92%8C%E5%88%87%E7%89%87">二、索引和切片</h2> 
<h3 id="2.1%20%E5%B8%B8%E8%A7%84%E7%B4%A2%E5%BC%95">2.1 常规索引</h3> 
<pre><code class="language-python">a=np.array([0,1,2,3])
print(a[0]) # 0

a[0]=10  #修改第一个元素的值
print(a) # [10,1,2,3]

a=np.array([11,12,13,14,15])
a[1:3]  #取索引号1-2的数，左闭右开   [12,13] 

a[1:-2]  #负索引，正数第一个到倒数第二个    [12,13]

a[-4:3]  #倒数第四个到正数第三个    [12,13]</code></pre> 
<h3 id="2.2%C2%A0%E7%9C%81%E7%95%A5%E5%8F%82%E6%95%B0">2.2 省略参数</h3> 
<pre><code class="language-python">print(a[-2:]) #倒数第二个到最后   [14,15]

print(a[::2])  #间隔为2，取所有   [11,13,15]</code></pre> 
<h3 id="2.3%C2%A0%E6%A1%88%E4%BE%8B%EF%BC%9A%E8%AE%A1%E7%AE%97%E4%B8%80%E9%83%A8%E7%94%B5%E5%BD%B1%E7%9A%84%E7%B4%AF%E8%AE%A1%E7%A5%A8%E6%88%BF">2.3 案例：计算一部电影的累计票房</h3> 
<pre><code class="language-python">ob=np.array([21000,21800,22100,23450])

#计算每一天的票房
ob2=ob[1:]-ob[:-1]
print(ob2)    # [ 800,  300, 1350]</code></pre> 
<h2 id="%E4%B8%89%E3%80%81%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84%E5%8F%8A%E5%85%B6%E5%B1%9E%E6%80%A7">三、多维数组及其属性</h2> 
<h3 id="3.1%20%E6%9F%A5%E7%9C%8B%E6%95%B0%E7%BB%84%E5%B1%9E%E6%80%A7">3.1 查看数组属性</h3> 
<pre><code class="language-python">a=np.array([[0,1,2,3],[10,11,12,13]])
print(a)    

a.shape #查看形状     (2,4)

a.size  #查看数量      8

a.ndim  #查看维度      2</code></pre> 
<h3 id="3.2%20%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84%E7%B4%A2%E5%BC%95%EF%BC%9A">3.2 多维数组索引：</h3> 
<pre><code class="language-python">a=np.array([[0,1,2,3],[10,11,12,13]])
print(a[1,3])  #a[行，列]，第二行第四列 注意：索引是从0开始的   

a[0,1]=15 #更改
print(a)

print(a[0]) #索引第一行

print(a[:,3]) #索引列，注意前面有冒号，所有行第四列</code></pre> 
<blockquote> 
 <pre>13
[[ 0 15  2  3]
 [10 11 12 13]]
[ 0 15  2  3]
[ 3 13]</pre> 
</blockquote> 
<h3 id="3.3%20%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84%E5%88%87%E7%89%87%EF%BC%9A">3.3 多维数组切片：</h3> 
<pre><code class="language-python">a=np.array([[0,1,2,3,4,5],[10,11,12,13,14,15],[20,21,22,23,24,25],[30,31,32,33,34,35],[40,41,42,43,44,45]])
print(a)
print(a[0,3:5])   # 取第一行第四个和第五个元素，即[0,4][0,5]元素
print(a[-2:,-2:]) # 最后两行的最后两列
print(a[:,2])     # 得到第三列
print(a[2::2,::2])# 取第三行到最后一行，间隔一行的行数，所有列中间隔一列的列数</code></pre> 
<blockquote> 
 <pre>[[ 0  1  2  3  4  5]
 [10 11 12 13 14 15]
 [20 21 22 23 24 25]
 [30 31 32 33 34 35]
 [40 41 42 43 44 45]]
[3 4]
[[34 35]
 [44 45]]
[ 2 12 22 32 42]
[[20 22 24]
 [40 42 44]]</pre> 
</blockquote> 
<p><strong>切片在numpy数组中是引用，当引用的变量的元素改变时，被引用的变量中的元素也会变</strong></p> 
<pre><code class="language-python">a=np.array([0,1,2,3,4])
b=a[0:2] # b = [0,1]
b[0]=10
print(a)     # [10  1  2  3  4]</code></pre> 
<p>解决情况：copy()</p> 
<pre><code class="language-python">a=np.array([0,1,2,3,4])
b=a[0:2].copy() # b = [0,1]
b[0]=10
print(a)    </code></pre> 
<h2 id="%E5%9B%9B%E3%80%81%E8%8A%B1%E5%BC%8F%E7%B4%A2%E5%BC%95">四、花式索引</h2> 
<h3 id="4.1%20%E4%B8%80%E7%BB%B4%E8%8A%B1%E5%BC%8F%E7%B4%A2%E5%BC%95">4.1 一维花式索引</h3> 
<pre><code class="language-python">a=np.arange(0,100,10)
index=[1,2,-3]
y=a[index]
print(y)    # [10 20 70]</code></pre> 
<p> 布尔数组索引：</p> 
<pre><code class="language-python">a=np.arange(0,100,10)
#mask必须是布尔数组，长度必须和数组长度相同
mask=np.array([0,2,2,3,0,1,2,0,1,1],dtype=bool)
#在mask定义的位置上为true的进行索引。索引位置：1，2，3，5，6，8，9
print(a[mask])   # [10, 20, 30, 50, 60, 80, 90])
</code></pre> 
<h3 id="4.2%C2%A0%E4%BA%8C%E7%BB%B4%E8%8A%B1%E5%BC%8F%E7%B4%A2%E5%BC%95">4.2 二维花式索引</h3> 
<pre><code class="language-python">a=np.array([[0,1,2,3,4,5],[10,11,12,13,14,15],[20,21,22,23,24,25],
[30,31,32,33,34,35],[40,41,42,43,44,45],[50,51,52,53,54,55]])
print(a)
# 返回第一列第一行，第二列第二行，第三列第三行，第四列第四行，第五列第五行的元素
print(a[(0,1,2,3,4),(0,1,2,3,4)])  
# 返回第四行到最后一行，奇数列的元素  
print(a[3:,::2])</code></pre> 
<blockquote> 
 <pre>[[ 0  1  2  3  4  5]
 [10 11 12 13 14 15]
 [20 21 22 23 24 25]
 [30 31 32 33 34 35]
 [40 41 42 43 44 45]
 [50 51 52 53 54 55]]
[ 0 11 22 33 44]
[[30 32 34]
 [40 42 44]
 [50 52 54]]</pre> 
</blockquote> 
<pre><code class="language-python">​
a=np.array([[0,1,2,3,4,5],[10,11,12,13,14,15],[20,21,22,23,24,25],
[30,31,32,33,34,35],[40,41,42,43,44,45],[50,51,52,53,54,55]])
print(a)
mask=np.array([1,0,1,0,0,1],dtype=bool)
print(a[mask,2])   #第一行，第三行，最后一行，第三列的元素    [ 2, 22, 52]
​</code></pre> 
<h3 id="4.3%C2%A0%E4%B8%8D%E5%AE%8C%E5%85%A8%E7%B4%A2%E5%BC%95">4.3 不完全索引</h3> 
<pre><code class="language-python">a=np.array([[0,1,2,3,4,5],[10,11,12,13,14,15],[20,21,22,23,24,25],
[30,31,32,33,34,35],[40,41,42,43,44,45],[50,51,52,53,54,55]])
print(a)

y=a[:3] # 前三行所有列的元素
</code></pre> 
<blockquote> 
 <pre>[[ 0  1  2  3  4  5]
 [10 11 12 13 14 15]
 [20 21 22 23 24 25]]</pre> 
</blockquote> 
<pre><code class="language-python">a=np.array([[0,1,2,3,4,5],[10,11,12,13,14,15],[20,21,22,23,24,25],
[30,31,32,33,34,35],[40,41,42,43,44,45],[50,51,52,53,54,55]])
print(a)

con=np.array([0,1,1,0,1,0],dtype=bool)
print(a[con])    # #取2，3，5，行，所有列的元素
</code></pre> 
<blockquote> 
 <pre>[[10 11 12 13 14 15]
 [20 21 22 23 24 25]
 [40 41 42 43 44 45]]</pre> 
</blockquote> 
<h3 id="4.4%20where%E8%AF%AD%E5%8F%A5">4.4 where语句</h3> 
<p>where函数会返回所有非零元素的索引</p> 
<pre><code class="language-python">a=np.array([0,12,5,20])
print(a&gt;10)              # 返回元素里大于10的布尔值

print(np.where(a&gt;10))    # 返回&gt;10的元素的索引的元组

print(a[a&gt;10])           # 返回&gt;10的元素

print(a[np.where(a&gt;10)]) # a[a里&gt;10的索引]</code></pre> 
<blockquote> 
 <pre>[False  True False  True]
(array([1, 3], dtype=int64),)
[12 20]
[12 20]</pre> 
</blockquote> 
<h2 id="%E4%BA%94%E3%80%81%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B">五、数组类型</h2> 
<pre><code class="language-python">#类型转换
a=np.array([1,5,-3],dtype=float)
print(a)

#asarray函数 (个人认为不如用上面那个)
a=np.array([1,2,3])
b = np.asarray(a,dtype=float)
print(a)
print(b)

#astype
a=np.array([4,5,6])
b = a.astype(float)
print(a)
print(b)</code></pre> 
<blockquote> 
 <pre>[ 1.  5. -3.]
[1 2 3]
[1. 2. 3.]
[4 5 6]
[4. 5. 6.]</pre> 
</blockquote> 
<h2 id="%C2%A0%E5%85%AD%E3%80%81%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C%EF%BC%88%E4%BB%A5%E8%B1%86%E7%93%A310%E9%83%A8%E9%AB%98%E5%88%86%E7%94%B5%E5%BD%B1%E4%B8%BA%E4%BE%8B%EF%BC%89">六、数组操作（以豆瓣10部高分电影为例）</h2> 
<pre><code class="language-python">mv_name=['肖申克的救赎','控方证人','美丽人生','阿甘正传','霸王别姬','泰坦尼克号','辛德勒的名单','这个杀手不太冷','疯狂动物城','海豚湾']
#电影名称
mv_num=np.array([692795,42995,327855,580897,478523,157074,306904,662552,284652,159302])#评分人数
mv_score=np.array([9.6,9.5,9.5,9.4,9.4,9.4,9.4,9.3,9.3,9.3])#评分
mv_length=np.array([142,116,116,142,171,194,195,133,109,92])#电影时长（分钟）</code></pre> 
<h3 id="6.1%20%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F%EF%BC%9A">6.1 数组排序：</h3> 
<pre><code class="language-python">#sort函数
print(np.sort(mv_num))    #未改变原有数组
print(mv_num)             

#argsort函数,返回从小到大的排列数组中的索引位置
order=np.argsort(mv_num)
print(order)

print(mv_name[order[0]])   #找到观影人数最少的电影的名字
print(mv_name[order[-1]])   #找到观影人数最多的电影的名字</code></pre> 
<blockquote> 
 <pre>[ 42995 157074 159302 284652 306904 327855 478523 580897 662552 692795]
[692795  42995 327855 580897 478523 157074 306904 662552 284652 159302]
[1 5 9 8 6 2 4 3 7 0]
控方证人
肖申克的救赎</pre> 
</blockquote> 
<h3 id="6.2%20%E5%85%B6%E4%BB%96%E5%B8%B8%E8%A7%81%E5%87%BD%E6%95%B0%EF%BC%9A">6.2 其他常见函数：</h3> 
<pre><code class="language-python">#评分人数求和
print(np.sum(mv_num))    #两个函数都行，下面是一样的
mv_num.sum()

#时长最长
print(np.max(mv_length))
mv_length.max()

#时长最短
print(np.min(mv_length))
mv_length.min()

#得分平均值
print(np.mean(mv_score))
mv_score.mean()

#得分标准差
print(np.std(mv_score))
mv_score.std()

#得分和时长的协方差矩阵
print(np.cov(mv_score,mv_length))

#得分和时长的相关系数
print(np.corrcoef(mv_score,mv_length))</code></pre> 
<blockquote> 
 <pre>3693549
195
92
9.41
0.09433981132056571
[[9.88888889e-03 4.55555556e-01]
 [4.55555556e-01 1.26288889e+03]]
[[1.         0.12890953]
 [0.12890953 1.        ]]</pre> 
</blockquote> 
<h2 id="%E4%B8%83%E3%80%81%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C">七、多维数组操作</h2> 
<h3 id="7.1%20%E6%95%B0%E7%BB%84%E5%BD%A2%E7%8A%B6%EF%BC%8Cshape%E5%92%8Creshape%EF%BC%8Creshape%E4%B8%8D%E4%BC%9A%E4%BF%AE%E6%94%B9%E5%8E%9F%E6%9C%89%E7%9A%84%E6%95%B0%E7%BB%84%EF%BC%8C%E8%80%8C%E4%BC%9A%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E6%95%B0%E7%BB%84">7.1 数组形状，shape和reshape，reshape不会修改原有的数组，而会返回一个新的数组</h3> 
<pre><code class="language-python">a=np.arange(6)
print(a)
a.shape=2,3       #转为2维3列
print(a.shape)    #查看a的形状
print(a)          #可以看出原来的数组已经被修改了</code></pre> 
<blockquote> 
 <pre>[0 1 2 3 4 5]
(2, 3)
[[0 1 2]
 [3 4 5]]</pre> 
</blockquote> 
<pre><code class="language-python">a=np.arange(6)
print(a)
a.reshape(2,3)       #转为2维3列
print(a.shape)    #查看a的形状
print(a)          #可以看出还是原来的数组</code></pre> 
<blockquote> 
 <pre>[0 1 2 3 4 5]
(6,)
[0 1 2 3 4 5]</pre> 
</blockquote> 
<p>注意：shape和reshape的格式不一样</p> 
<h3 id="7.2%20%E8%BD%AC%E7%BD%AE">7.2 转置</h3> 
<pre><code class="language-python">a=np.arange(6)
a=a.reshape(2,3)
print(a)
print(a.T )
print(a.transpose())</code></pre> 
<blockquote> 
 <pre>[[0 1 2]
 [3 4 5]]
[[0 3]
 [1 4]
 [2 5]]
[[0 3]
 [1 4]
 [2 5]]</pre> 
</blockquote> 
<h3 id="7.3%20%E6%95%B0%E7%BB%84%E8%BF%9E%E6%8E%A5">7.3 数组连接</h3> 
<p>第一种方法：</p> 
<pre><code class="language-python">x=np.array([[0,1,2],[10,11,12]])
y=np.array([[90,91,92],[100,101,102]])
print(x)
print(y)

z=np.concatenate((x,y),axis=0)  #按照列
print(z)

m=np.concatenate((x,y),axis=1)  #按照行
print(m)

n=np.array((x,y))#生成三维数组
print(n)</code></pre> 
<blockquote> 
 <pre>[[ 0  1  2]
 [10 11 12]]
[[ 90  91  92]
 [100 101 102]]
[[  0   1   2]
 [ 10  11  12]
 [ 90  91  92]
 [100 101 102]]
[[  0   1   2  90  91  92]
 [ 10  11  12 100 101 102]]
[[[  0   1   2]
  [ 10  11  12]]

 [[ 90  91  92]
  [100 101 102]]]</pre> 
</blockquote> 
<p> 第二种方法：</p> 
<pre><code class="language-python">x=np.array([[0,1,2],[10,11,12]])
y=np.array([[90,91,92],[100,101,102]])
print(x)
print(y)

#vstack（按照行）
print( np.vstack((x,y)) )

#hstack（按照列）
print( np.hstack((x,y)) )

#dstack（生成三维数组）
print( np.dstack((x,y)) )</code></pre> 
<h3 id="%C2%A07.4%20numpy%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0(%E9%83%A8%E5%88%86%E5%87%BD%E6%95%B0)"> 7.4 numpy内置函数(部分函数)</h3> 
<pre><code class="language-python">a=np.array([-1,0,-10,5,7])

print( np.abs(a) )    #计算绝对值
print( np.median(a) ) #计算中位数
print( np.exp(a) )    #求指数
print( np.cumsum(a) ) #累计和</code></pre> 
<blockquote> 
 <pre>[ 1  0 10  5  7]
0.0
[3.67879441e-01 1.00000000e+00 4.53999298e-05 1.48413159e+02
 1.09663316e+03]
[ -1  -1 -11  -6   1]</pre> 
</blockquote> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/eb3cf5bf79cb2eb2f5889495488f830c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python重命名文件夹内的图片</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5ccf2e67727ad0f43e1c55e31c95b2f2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ORACLE 11G用户账户和密码设置</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>