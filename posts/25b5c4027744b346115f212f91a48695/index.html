<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>2. Windows 10 - Nvm - node版本管理工具的安装、配置/全局配置（自动切换）、卸载方法 - 安装cnpm报错与解决方法 - 已安装 Node不卸载的方法 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="2. Windows 10 - Nvm - node版本管理工具的安装、配置/全局配置（自动切换）、卸载方法 - 安装cnpm报错与解决方法 - 已安装 Node不卸载的方法" />
<meta property="og:description" content="目录 关联链接测试环境一、安装 Nvm1. 新建一个 Nvm 目录，用来放置 nvm 和 Node 软件的安装文件。2. 目录记得加上 `nodejs` （有一点要知道，指定了这个路径那么 nodejs 不会自动安装一个本地的 node 环境）3. 自定义路径安装 `nodejs`，在点击 **finish** 完成 `nvm` 安装后的目录情况，一开始是没有 `nodejs` 目录的，但如果是默认安装 C 盘的，会在 C 盘有一个 `nodejs` 目录，还有`nvm install` 下载了一个`Node`，然后使用 `nvm use` 命令后，就会自动在自定义目录内创建一个 `nodejs`目录，要注意这一点。4. 安装 node 16.18.15. 初次使用 nvm 时，本地 node.js 路径配置6. 查看 nvm 安装目录下的 `setting.txt` 配置文件：7. 镜像配置，此时可以再增加两条镜像源配置，配置国内源，可以使得包的下载速度更快8. 查看 nvm 版本9. 如果此时使用 npm 是没有该命令的，将会报错 **&#39;npm&#39; 不是内部或外部命令，也不是可运行的程序或批处理文件。** 二、卸载 Nvm三、Nvm 安装指定版本 Node 配置理解1. 输入命令查看可安装的 `Node` 版本列表，2. 安装3. 查看4. 切换为指定的 `Node` 版本（有时候没办法切换，那就使用==管理员权限==重新打开终端）5." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/25b5c4027744b346115f212f91a48695/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-12T09:41:52+08:00" />
<meta property="article:modified_time" content="2023-10-12T09:41:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">2. Windows 10 - Nvm - node版本管理工具的安装、配置/全局配置（自动切换）、卸载方法 - 安装cnpm报错与解决方法 - 已安装 Node不卸载的方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_2" rel="nofollow">关联链接</a></li><li><a href="#_6" rel="nofollow">测试环境</a></li><li><a href="#_Nvm_18" rel="nofollow">一、安装 Nvm</a></li><li><ul><li><a href="#1__Nvm__nvm__Node__29" rel="nofollow">1. 新建一个 Nvm 目录，用来放置 nvm 和 Node 软件的安装文件。</a></li><li><a href="#2__nodejs__nodejs__node__34" rel="nofollow">2. 目录记得加上 `nodejs` （有一点要知道，指定了这个路径那么 nodejs 不会自动安装一个本地的 node 环境）</a></li><li><a href="#3__nodejs_finish___nvm__nodejs__C__C__nodejs_nvm_install_Node_nvm_use__nodejs_38" rel="nofollow">3. 自定义路径安装 `nodejs`，在点击 **finish** 完成 `nvm` 安装后的目录情况，一开始是没有 `nodejs` 目录的，但如果是默认安装 C 盘的，会在 C 盘有一个 `nodejs` 目录，还有`nvm install` 下载了一个`Node`，然后使用 `nvm use` 命令后，就会自动在自定义目录内创建一个 `nodejs`目录，要注意这一点。</a></li><li><a href="#4__node_16181_43" rel="nofollow">4. 安装 node 16.18.1</a></li><li><a href="#5__nvm__nodejs__47" rel="nofollow">5. 初次使用 nvm 时，本地 node.js 路径配置</a></li><li><a href="#6__nvm__settingtxt__81" rel="nofollow">6. 查看 nvm 安装目录下的 `setting.txt` 配置文件：</a></li><li><a href="#7__86" rel="nofollow">7. 镜像配置，此时可以再增加两条镜像源配置，配置国内源，可以使得包的下载速度更快</a></li><li><a href="#8__nvm__96" rel="nofollow">8. 查看 nvm 版本</a></li><li><a href="#9__npm__npm__102" rel="nofollow">9. 如果此时使用 npm 是没有该命令的，将会报错 **'npm' 不是内部或外部命令，也不是可运行的程序或批处理文件。**</a></li></ul> 
  </li><li><a href="#_Nvm_107" rel="nofollow">二、卸载 Nvm</a></li><li><a href="#Nvm__Node__120" rel="nofollow">三、Nvm 安装指定版本 Node 配置理解</a></li><li><ul><li><a href="#1__Node__128" rel="nofollow">1. 输入命令查看可安装的 `Node` 版本列表，</a></li><li><a href="#2__141" rel="nofollow">2. 安装</a></li><li><a href="#3__146" rel="nofollow">3. 查看</a></li><li><a href="#4__Node__154" rel="nofollow">4. 切换为指定的 `Node` 版本（有时候没办法切换，那就使用==管理员权限==重新打开终端）</a></li><li><a href="#5__Node__164" rel="nofollow">5. 删除指定的 `Node` 版本</a></li></ul> 
  </li><li><a href="#_172" rel="nofollow">四、关于全局配置与缓存依赖的配置深入理解</a></li><li><ul><li><a href="#npm__213" rel="nofollow">npm 全局验证</a></li><li><a href="#npm_install__node_global____node_cache_219" rel="nofollow">npm install 会自动切换全局配置 `node_global` 与缓存依赖 `node_cache`</a></li><li><a href="#_241" rel="nofollow">四、参考链接</a></li></ul> 
  </li><li><a href="#cnpm_250" rel="nofollow">五、安装cnpm报错集锦</a></li><li><ul><li><a href="#_1__nvm_node_v14__cnpm_Node_v16__cnpm__252" rel="nofollow">问题 1. 安装 nvm 后，node v14 版本无法安装 cnpm，只能在 Node v16 版本上才能安装 cnpm 否则会报如下错误</a></li><li><a href="#_275" rel="nofollow">解决方法</a></li></ul> 
  </li><li><a href="#_Node_Nvm__Nodejs_288" rel="nofollow">六、已安装 Node不卸载的方法，由 Nvm 管理之前已安装的 Node.js</a></li><li><ul><li><a href="#_315" rel="nofollow">六、参考链接</a></li><li><a href="#1__323" rel="nofollow">问题1 参考链接</a></li></ul> 
  </li><li><a href="#_342" rel="nofollow">参考链接</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>关联链接</h2> 
<p><a href="https://blog.csdn.net/qq_42701659/article/details/124756550?csdn_share_tail=%7B%22type%22:%22blog%22,%22rType%22:%22article%22,%22rId%22:%22124756550%22,%22source%22:%22qq_42701659%22%7D">1. Windows 10 - Node与Vue - 安装 Vue 2.x 及 3.x 框架 - 项目创建要点 - 1</a></p> 
<h2><a id="_6"></a>测试环境</h2> 
<pre><code class="prism language-bash">Windows <span class="token number">10</span>

nvm 的测试版本:  <span class="token number">1.1</span>.11

Node 测试版本：16.18.1
</code></pre> 
<h2><a id="_Nvm_18"></a>一、安装 Nvm</h2> 
<p>下载地址：<a href="https://github.com/coreybutler/nvm-windows/releases">传送门 0</a></p> 
<p>下载地址 1.1.10 版本：<a href="https://github.com/coreybutler/nvm-windows/releases/tag/1.1.10">传送门 1 </a></p> 
<p>nvm 1.1.11 版本 资源下载链接：<a href="https://download.csdn.net/download/qq_42701659/87870172">传送门 2</a></p> 
<p><img src="https://images2.imgbox.com/1c/e9/oC8lumTM_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="1__Nvm__nvm__Node__29"></a>1. 新建一个 Nvm 目录，用来放置 nvm 和 Node 软件的安装文件。</h3> 
<p><img src="https://images2.imgbox.com/6b/a1/F7aAv1LB_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/0d/8a/bpyDrRc6_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2__nodejs__nodejs__node__34"></a>2. 目录记得加上 <code>nodejs</code> （有一点要知道，指定了这个路径那么 nodejs 不会自动安装一个本地的 node 环境）</h3> 
<p><img src="https://images2.imgbox.com/ce/0e/HQY71B8C_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3__nodejs_finish___nvm__nodejs__C__C__nodejs_nvm_install_Node_nvm_use__nodejs_38"></a>3. 自定义路径安装 <code>nodejs</code>，在点击 <strong>finish</strong> 完成 <code>nvm</code> 安装后的目录情况，一开始是没有 <code>nodejs</code> 目录的，但如果是默认安装 C 盘的，会在 C 盘有一个 <code>nodejs</code> 目录，还有<code>nvm install</code> 下载了一个<code>Node</code>，然后使用 <code>nvm use</code> 命令后，就会自动在自定义目录内创建一个 <code>nodejs</code>目录，要注意这一点。</h3> 
<p><img src="https://images2.imgbox.com/31/df/1J8loUPx_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4__node_16181_43"></a>4. 安装 node 16.18.1</h3> 
<p><img src="https://images2.imgbox.com/bf/21/O8ofKgnF_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5__nvm__nodejs__47"></a>5. 初次使用 nvm 时，本地 node.js 路径配置</h3> 
<p>这里需要注意配置环境变量，如果都配置了 PC 的用户变量 和系统变量，那么就会优先使用 PC 的用户变量。 之前选择的路径是 <code>\Nvm\node.js</code> 现在修改为 <code>\Nvm\nvm\node.js</code></p> 
<p><img src="https://images2.imgbox.com/6a/56/dJfIzz5T_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/6a/c2/03V9D1WX_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/ee/39/8swHiBgs_o.png" alt="在这里插入图片描述"></p> 
<p><mark>注： 如果已经安装node安装包，可以不卸载node包，使用该命令<code>nvm off</code>禁用一次，再使用<code>nvm on</code>打开即可</mark></p> 
<p>启用nvm 首次使用nvm时，需要启用nvm，使用<code>nvm on</code>命令来生成nodejs快捷方式</p> 
<p><img src="https://images2.imgbox.com/36/7b/beg0LCDP_o.png" alt="在这里插入图片描述"></p> 
<p>在自定义路径下自动创建 <code>nodejs</code> 目录<br> <img src="https://images2.imgbox.com/64/6b/66O6xj6E_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>注意，当第一次使用时，切换命令成功了，但是查看node版本却发现不存在，请注意使用<code>nvm on</code>来开启nvm管理，<mark>请记住，否则第一次它是没有生成nodejs快捷方式的，这个不关环境配置的事情，第一次就是需要使用nvm on来启用</mark></p> 
</blockquote> 
<p>看了资料这句话是有问题，环境配置路径不对，是不会在 <code>\Nvm\nvm\node.js</code> 路径下创建 node.js 文件夹的，笔者原来的路径是 <code>\Nvm\node.js</code> 改为 <code>\Nvm\nvm\node.js</code>，但 <code>nvm on</code> 命令是在初次使用 nvm 时，的确是需要使用的。</p> 
<h3><a id="6__nvm__settingtxt__81"></a>6. 查看 nvm 安装目录下的 <code>setting.txt</code> 配置文件：</h3> 
<p><img src="https://images2.imgbox.com/81/c0/tHnAs9GE_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="7__86"></a>7. 镜像配置，此时可以再增加两条镜像源配置，配置国内源，可以使得包的下载速度更快</h3> 
<pre><code class="prism language-bash">node_mirror: npm.taobao.org/mirrors/node/
npm_mirror: npm.taobao.org/mirrors/npm/
</code></pre> 
<p><img src="https://images2.imgbox.com/74/30/bwD06HUw_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="8__nvm__96"></a>8. 查看 nvm 版本</h3> 
<pre><code class="prism language-bash">nvm <span class="token parameter variable">-v</span>
</code></pre> 
<h3><a id="9__npm__npm__102"></a>9. 如果此时使用 npm 是没有该命令的，将会报错 <strong>‘npm’ 不是内部或外部命令，也不是可运行的程序或批处理文件。</strong></h3> 
<p>必须要安装一个某个 <code>Node</code> 后，使用 <code>nvm use</code> 命令后，才会识别 npm 命令。</p> 
<h2><a id="_Nvm_107"></a>二、卸载 Nvm</h2> 
<p>如何卸载 Nvm，点击 unins000.exe</p> 
<p><img src="https://images2.imgbox.com/2f/11/ILKjX0X9_o.png" alt="在这里插入图片描述"><br> 最后要删除 nvm 文件夹，就可以删除了。</p> 
<p><img src="https://images2.imgbox.com/49/f6/dPzMZEW2_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="Nvm__Node__120"></a>三、Nvm 安装指定版本 Node 配置理解</h2> 
<p>nvm 是一个 <code>Node</code> 版本管理工具，类似 <code>anaconda3</code> 那样的 python 虚拟环境 管理工具。 每次要替换其它版本的 <code>Node</code> ，只需要使用命令 <code>nvm use &lt;node version&gt;</code>，当然首先要使用 <code>nvm list</code>，来查看当前已经安装的 <code>Node</code>，复制粘贴，切换 <code>Node</code> 版本。</p> 
<p><code>Nvm</code> 常用命令：</p> 
<h3><a id="1__Node__128"></a>1. 输入命令查看可安装的 <code>Node</code> 版本列表，</h3> 
<pre><code class="prism language-bash">nvm <span class="token function">ls</span> available
</code></pre> 
<p><img src="https://images2.imgbox.com/2b/f9/LGOa5Tk6_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p><code>CURRENT</code>：为当前最新的版本<br> <code>LTS</code>：为稳定版本<br> <code>OLD</code>：历史版本<br> 建议选择<code>LTS</code>稳定版的</p> 
</blockquote> 
<h3><a id="2__141"></a>2. 安装</h3> 
<pre><code class="prism language-bash">nvm <span class="token function">install</span> <span class="token operator">&lt;</span>node version<span class="token operator">&gt;</span>
</code></pre> 
<h3><a id="3__146"></a>3. 查看</h3> 
<pre><code class="prism language-bash">nvm list
</code></pre> 
<p><img src="https://images2.imgbox.com/82/e1/qtCGACiV_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4__Node__154"></a>4. 切换为指定的 <code>Node</code> 版本（有时候没办法切换，那就使用<mark>管理员权限</mark>重新打开终端）</h3> 
<pre><code class="prism language-bash">nvm use <span class="token operator">&lt;</span>node version<span class="token operator">&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/34/c7/cHP4stkZ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/23/29/iJugz7h7_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5__Node__164"></a>5. 删除指定的 <code>Node</code> 版本</h3> 
<pre><code class="prism language-bash">nvm uninstall <span class="token operator">&lt;</span>node version<span class="token operator">&gt;</span>
</code></pre> 
<h2><a id="_172"></a>四、关于全局配置与缓存依赖的配置深入理解</h2> 
<p>深入理解全局配置 <code>node_global</code> 与缓存依赖 <code>node_cache</code> 这两个文件。</p> 
<ol><li>当用 <code>nvm install</code> 下载的新版本 Node 环境，在切换 Node 版本后，在当前的 Node 环境下，都会用到这个指定的全局配置 <code>node_global</code> 与缓存依赖 <code>node_cache</code> 内的插件，就好比如 cnpm 插件，可以用它下载国内的各种依赖，这里就以 Vue 框架的依赖为例。</li></ol> 
<p>就目前来看，有些全局配置依赖，在某些 Node 版本下是可以运行的，比如 cnpm 在 node v14 版本下是无法下载使用的，但是可以在 Node v16 版本以上下载安装并使用，具体的解决方法看下面的 <code>五、报错文件集锦</code>。</p> 
<ol start="2"><li>上面是个别解决方法，有其它解决不同 Node 版本全局配置 <code>node_global</code> 与缓存依赖 <code>node_cache</code> 插件有时候无法适配的解决方法吗？有的，如下所示：</li></ol> 
<p>每次切换 Node 环境后，也可以切换 全局配置 <code>node_global</code> 与缓存依赖 <code>node_cache</code> 的路径，比如为每一个 Node 环境设置一个专属于它的 全局配置 <code>node_global</code> 与缓存依赖 <code>node_cache</code> 文件。</p> 
<p>具体如下，以 Node 16.18.1 为例，但感觉很麻烦，有兴趣的可以去试下。</p> 
<pre><code class="prism language-bash">nvm on
nvm use <span class="token number">16.18</span>.1
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> prefix <span class="token string">"D:\xxx\xxxx\Nvm<span class="token entity" title="\n">\n</span>vm<span class="token entity" title="\v">\v</span>16.18.1<span class="token entity" title="\n">\n</span>ode_global"</span>
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> cache <span class="token string">"D:\xxx\xxxx\Nvm<span class="token entity" title="\n">\n</span>vm<span class="token entity" title="\v">\v</span>16.18.1<span class="token entity" title="\n">\n</span>ode_cache"</span> 
</code></pre> 
<p><img src="https://images2.imgbox.com/f8/65/m3cgwwkN_o.png" alt="在这里插入图片描述"></p> 
<ol start="3"><li>笔者之前看过有些人是直接不修改全局配置 <code>node_global</code> 与缓存依赖 <code>node_cache</code> 的路径，具体如下：新建一个 node 文件夹，然后在 node 文件夹内新建 node_global 和 node_cache，后面就切换其它 Node 版本时，全部用这个路径下的 全局配置 <code>node_global</code> 与缓存依赖 <code>node_cache</code> 的路径，如果不觉得麻烦的，随意，就用这个配置。</li></ol> 
<pre><code class="prism language-bash">nvm on
nvm use <span class="token number">16.18</span>.1
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> prefix <span class="token string">"D:\xxx\xxxx\Nvm<span class="token entity" title="\n">\n</span>ode<span class="token entity" title="\n">\n</span>ode_global"</span>
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> cache <span class="token string">"D:\xxx\xxxx\Nvm<span class="token entity" title="\n">\n</span>ode<span class="token entity" title="\n">\n</span>ode_cache"</span> 
</code></pre> 
<p><img src="https://images2.imgbox.com/d6/20/RaGPjJ1e_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/fb/76/e4V6B52E_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="npm__213"></a>npm 全局验证</h3> 
<p>全局（-g）安装<code>express</code>验证</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> <span class="token function">install</span> express <span class="token parameter variable">-g</span>
</code></pre> 
<h3><a id="npm_install__node_global____node_cache_219"></a>npm install 会自动切换全局配置 <code>node_global</code> 与缓存依赖 <code>node_cache</code></h3> 
<p>有意思的是，笔者在切换了16.18.1 版本的 Node 环境后，然后再用一个前端 Vue 项目，npm install 安装相关依赖后，发现全局配置 <code>node_global</code> 与缓存依赖 <code>node_cache</code> 被切换为该 16.18.1 node 环境下的 全局配置 <code>node_global</code> 与缓存依赖 <code>node_cache</code> ，这一点挺有意思，在某个 Node 环境下，使用 <code>npm install</code> 命令安装依赖，会自动切换 全局配置 <code>node_global</code> 与缓存依赖 <code>node_cache</code></p> 
<p><img src="https://images2.imgbox.com/9e/c0/QuN83KWF_o.png" alt="在这里插入图片描述"></p> 
<p>这个切换<code>nvm use &lt;version&gt;</code> 命令不会自动切换 全局配置 <code>node_global</code> 与缓存依赖 <code>node_cache</code> 的路径，除非手动输入如下命令：（下面路径只是举例，需要自己修改）</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> config <span class="token builtin class-name">set</span> prefix <span class="token string">"D:\xxx\xxxx\Nvm<span class="token entity" title="\n">\n</span>vm<span class="token entity" title="\v">\v</span>16.18.1<span class="token entity" title="\n">\n</span>ode_global"</span>
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> cache <span class="token string">"D:\xxx\xxxx\Nvm<span class="token entity" title="\n">\n</span>vm<span class="token entity" title="\v">\v</span>16.18.1<span class="token entity" title="\n">\n</span>ode_cache"</span> 
</code></pre> 
<p>或者使用 如下命令安装项目依赖时，会自动配置新路径为指定的 Node 版本（例如 16.18.1 Node环境）下的全局配置 <code>node_global</code> 与缓存依赖 <code>node_cache</code> 的路径，相当于上面的两条命令。</p> 
<pre><code class="prism language-bash">nvm use <span class="token number">16.18</span>.1
<span class="token function">npm</span> <span class="token function">install</span> 
</code></pre> 
<h3><a id="_241"></a>四、参考链接</h3> 
<p><a href="https://www.jianshu.com/p/eea58f4aec45" rel="nofollow">🛬🛬🛬来一篇nvm不完全指南</a></p> 
<p><a href="https://blog.csdn.net/weixin_42152058/article/details/130197300">nvm的安装及全局依赖配置（详细）</a></p> 
<p><a href="https://blog.csdn.net/weixin_45611944/article/details/121961039">nvm 安装配置</a></p> 
<h2><a id="cnpm_250"></a>五、安装cnpm报错集锦</h2> 
<h3><a id="_1__nvm_node_v14__cnpm_Node_v16__cnpm__252"></a>问题 1. 安装 nvm 后，node v14 版本无法安装 cnpm，只能在 Node v16 版本上才能安装 cnpm 否则会报如下错误</h3> 
<pre><code class="prism language-bash"><span class="token function">npm</span> ERR<span class="token operator">!</span> errno <span class="token parameter variable">-4048</span>
<span class="token function">npm</span> ERR<span class="token operator">!</span> Error: EPERM: operation not permitted, <span class="token function">rename</span> <span class="token string">'x:\xx\xx\open-his-ui\node_modules\array-slice\package.json.4086199326'</span> -<span class="token operator">&gt;</span> <span class="token string">'x:\xx\xx\open-his-ui\node_modules\array-slice\package.json'</span>
<span class="token function">npm</span> ERR<span class="token operator">!</span>  <span class="token punctuation">[</span>OperationalError: EPERM: operation not permitted, <span class="token function">rename</span> <span class="token string">'x:\xx\xx\open-his-ui\node_modules\array-slice\package.json.4086199326'</span> -<span class="token operator">&gt;</span> <span class="token string">'x:\xx\xx\open-his-ui\node_modules\array-slice\package.json'</span><span class="token punctuation">]</span> 
<span class="token punctuation">{<!-- --></span>
<span class="token function">npm</span> ERR<span class="token operator">!</span>   cause: <span class="token punctuation">[</span>Error: EPERM: operation not permitted, <span class="token function">rename</span> <span class="token string">'x:\xx\xx\open-his-ui\node_modules\array-slice\package.json.4086199326'</span> -<span class="token operator">&gt;</span> <span class="token string">'x:\xx\xx\open-his-ui\node_modules\array-slice\package.json'</span><span class="token punctuation">]</span> <span class="token punctuation">{<!-- --></span>  
<span class="token function">npm</span> ERR<span class="token operator">!</span>     errno: -4048,
<span class="token function">npm</span> ERR<span class="token operator">!</span>     code: <span class="token string">'EPERM'</span>,
<span class="token function">npm</span> ERR<span class="token operator">!</span>     syscall: <span class="token string">'rename'</span>,
<span class="token function">npm</span> ERR<span class="token operator">!</span>     path: <span class="token string">'x:\xx\xx\open-his-ui\\node_modules\\array-slice\\package.json.4086199326'</span>,
<span class="token function">npm</span> ERR<span class="token operator">!</span>     d
</code></pre> 
<p>安装 <code>cnpm</code> 命令：</p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> cnpm
</code></pre> 
<h3><a id="_275"></a>解决方法</h3> 
<p>本来下载 cnpm 是为了使用国内的中国版 npm ，也就是为了速度才去使用它，但是 Node v14 版本无法使用，那么就只能在 nvm安装位置，打开文件：settings.txt ，配置镜像：</p> 
<pre><code class="prism language-bash">root: D:<span class="token punctuation">\</span>xxx<span class="token punctuation">\</span>Nvm<span class="token punctuation">\</span>nvm
path: D:<span class="token punctuation">\</span>xxx<span class="token punctuation">\</span>Nvm<span class="token punctuation">\</span>nvm<span class="token punctuation">\</span>nodejs
node_mirror: npm.taobao.org/mirrors/node/
npm_mirror: npm.taobao.org/mirrors/npm/
</code></pre> 
<h2><a id="_Node_Nvm__Nodejs_288"></a>六、已安装 Node不卸载的方法，由 Nvm 管理之前已安装的 Node.js</h2> 
<p>解决方法<br> （这个上面 一、 5. 初次使用 nvm 时，本地 node.js 路径配置就有提到 ）</p> 
<blockquote> 
 <p><mark>注： 如果已经安装node安装包，可以不卸载node包，使用该命令<code>nvm off</code>禁用一次，再使用<code>nvm on</code>打开即可</mark></p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token number">1</span>. 禁用node.js版本管理<span class="token punctuation">(</span>不卸载任何东西<span class="token punctuation">)</span>
	 nvm off          
<span class="token number">2</span>. 启用node.js版本管理
	 nvm on                   
<span class="token number">3</span>. 显示可以安装的所有node.js的版本
     nvm list available
<span class="token number">4</span>. 查看已安装的node版本 <span class="token punctuation">(</span>两个命令都可以<span class="token punctuation">)</span>
     nvm list
     nvm <span class="token function">ls</span>
<span class="token number">5</span>. 根据node的版本号安装node
     nvm <span class="token function">install</span> <span class="token number">16.17</span>.0  <span class="token punctuation">(</span><span class="token number">16.17</span>.0是版本号<span class="token punctuation">)</span>
<span class="token number">6</span>. 卸载已安装的node对应的版本
     nvm uninstall <span class="token number">16.17</span>.0
<span class="token number">7</span>. 切换node到该版本使用
     nvm use <span class="token number">16.17</span>.0
</code></pre> 
<h3><a id="_315"></a>六、参考链接</h3> 
<p><a href="https://blog.csdn.net/kaichunge/article/details/128324104">三分钟学会node包管理工具nvm的安装及使用</a></p> 
<p><a href="https://juejin.cn/post/7120267871950733320/" rel="nofollow">nvm安装与配置</a></p> 
<h3><a id="1__323"></a>问题1 参考链接</h3> 
<p><a href="https://blog.csdn.net/weixin_46525113/article/details/127298170">1. npm安装报错（npm ERR! code EPERM npm ERR! syscall mkdir npm ERR! path C:\Program Files\nodejs\node_ca…）</a></p> 
<p><a href="https://bloghut.blog.csdn.net/article/details/116083795?spm=1001.2101.3001.6650.3&amp;utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-3-116083795-blog-124681930.235%5Ev37%5Epc_relevant_default_base&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-3-116083795-blog-124681930.235%5Ev37%5Epc_relevant_default_base&amp;utm_relevant_index=6" rel="nofollow">2. npm ERR! errno -4048 npm ERR! Error: EPERM: operation not permitted, rename ‘G:\xxx\xxxx\open-his-ui</a></p> 
<p><a href="https://blog.csdn.net/weixin_56818823/article/details/124681930">3. 使用npm报npm ERR code EPERMnpm ERR syscall rename错误</a></p> 
<p><a href="https://blog.csdn.net/HANZY72/article/details/122505375">4. 报错：npm ERR code EPERM</a></p> 
<p><a href="https://blog.csdn.net/m0_67393827/article/details/123425551">5. npm安装报错（npm ERR code EPERM npm ERR syscall mkdir npm ERR path CProgram Filesnodejsnode_ca…）</a></p> 
<p><a href="https://blog.csdn.net/weixin_45786938/article/details/129521071">6. nvm(Vue)安装与配置保姆级教程</a></p> 
<p><a href="https://blog.csdn.net/weixin_42152058/article/details/130197300">7. nvm的安装及全局依赖配置（详细）</a></p> 
<p><a href="https://blog.csdn.net/rideClound/article/details/121121626">8. npm ERR Error: EPERM:operation not permitted, rename</a></p> 
<hr> 
<h2><a id="_342"></a>参考链接</h2> 
<p><a href="https://www.onmpw.com/d/1683293210713647839.html" rel="nofollow">1. window10下node使用管理神器NVM安装配置超详细步骤</a></p> 
<p><a href="https://blog.csdn.net/weixin_45611944/article/details/121961039">2. nvm 安装配置</a></p> 
<p><a href="https://www.php1.cn/detail/NPM_PeiZhiWenJia_55b15f1f.html" rel="nofollow">3. NPM配置文件在哪里？</a></p> 
<p><a href="https://blog.csdn.net/m0_53574149/article/details/129086094">4. nvm 下载 node 报错</a></p> 
<p><a href="https://www.ufcn.cn/it/1137940.html" rel="nofollow">5. Vue中nvm-windows的安装与使用教程(亲测)</a></p> 
<p><a href="https://blog.csdn.net/weixin_45786938/article/details/129521071">6. nvm(Vue)安装与配置保姆级教程</a></p> 
<p><a href="https://blog.csdn.net/lunhui1994_/article/details/82753528?spm=1001.2101.3001.6661.1&amp;utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-82753528-blog-125156381.235%5Ev37%5Epc_relevant_default_base&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-82753528-blog-125156381.235%5Ev37%5Epc_relevant_default_base&amp;utm_relevant_index=1">7. nvm 安装 vue环境（node npm vue）</a></p> 
<p><a href="https://blog.csdn.net/m0_53623945/article/details/125156381">8. vue版本控制器nvm安装使用教程</a></p> 
<p><a href="https://www.cnblogs.com/syscal/p/15776006.html" rel="nofollow">9. 使用nvm可以更换nodejs版本。方便不同项目的切换</a></p> 
<p><a href="https://blog.csdn.net/weixin_44180173/article/details/104161757">10. vue 安装版本管理 nvm</a></p> 
<p><a href="http://www.noobyard.com/article/p-ditypdje-dp.html" rel="nofollow">11. nvm安装到vue-cli构建项目</a></p> 
<p><a href="https://blog.csdn.net/lou_csdn/article/details/124696596">12. nvm下node安装；node环境变量配置</a></p> 
<p><a href="https://blog.csdn.net/qq_41525746/article/details/107167453">13. Vue与Node介绍，两者可分可合，安装node</a></p> 
<p><a href="https://www.cnblogs.com/masterhxh/p/12655007.html" rel="nofollow">14. nodejs和vuejs的区别</a></p> 
<p><a href="https://baijiahao.baidu.com/s?id=1749711311266625942&amp;wfr=spider&amp;for=pc" rel="nofollow">15. Node环境和Vue脚手架的搭建（详细教程）</a></p> 
<p><a href="https://blog.csdn.net/weixin_43031220/article/details/130536030">16. nvm如何变更npm版本</a></p> 
<p><a href="https://www.cnblogs.com/cat-eol/p/17352429.html" rel="nofollow">17. 使用nvm如何切换node版本</a></p> 
<p><a href="https://blog.csdn.net/weixin_42152058/article/details/130197300">18. nvm的安装及全局依赖配置（详细）</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/90756ecc9f1a4b7331c32b0366c37e3c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">UE5 C&#43;&#43; 编程指南</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e6e879ce9b44cb07d5d6ade9107dc9d4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java读取并转换字符串中的浮点数</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>