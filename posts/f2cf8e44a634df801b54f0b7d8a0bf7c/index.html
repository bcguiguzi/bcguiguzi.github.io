<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Single Shot Detection(SSD)bbox prediction相关的（超）参数 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Single Shot Detection(SSD)bbox prediction相关的（超）参数" />
<meta property="og:description" content="参考https://github.com/balancap/SSD-Tensorflow 记录SSD中与bbox prediction相关的（超）参数。 ssd_vgg_300.py SSDParameters( img_shape=(300, 300), num_classes=21, no_annotation_label=21, feat_layers=[&#39;block4&#39;, &#39;block7&#39;, &#39;block8&#39;, &#39;block9&#39;, &#39;block10&#39;, &#39;block11&#39;], feat_shapes=[(38, 38), (19, 19), (10, 10), (5, 5), (3, 3), (1, 1)], anchor_size_bounds=[0.15, 0.9], anchor_sizes=[(21.0, 45.0), (45.0, 99.0), (99.0, 153.0), (153.0, 207.0), (207.0, 261.0), (261.0, 315.0)], anchor_ratios=[[2, 0.5], [2, 0.5, 3, 0.3333333333333333], [2, 0.5, 3, 0.3333333333333333], [2, 0.5, 3, 0.3333333333333333], [2, 0.5], [2, 0.5]], anchor_steps=[8, 16, 32, 64, 100, 300], anchor_offset=0.5, normalizations=[20, -1, -1, -1, -1, -1], prior_scaling=[0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/f2cf8e44a634df801b54f0b7d8a0bf7c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-04-28T21:19:20+08:00" />
<meta property="article:modified_time" content="2017-04-28T21:19:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Single Shot Detection(SSD)bbox prediction相关的（超）参数</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>参考<a href="https://github.com/balancap/SSD-Tensorflow">https://github.com/balancap/SSD-Tensorflow</a> 记录SSD中与bbox prediction相关的（超）参数。 <br> </p> 
<hr> 
<br> 
<code>ssd_vgg_300.py</code> 
<p></p> 
<pre class="prettyprint"><code class=" hljs lua">SSDParameters(
    img_shape=(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>), 
    num_classes=<span class="hljs-number">21</span>, 
    no_annotation_label=<span class="hljs-number">21</span>, 
    feat_layers=[<span class="hljs-string">'block4'</span>, <span class="hljs-string">'block7'</span>, <span class="hljs-string">'block8'</span>, <span class="hljs-string">'block9'</span>, <span class="hljs-string">'block10'</span>, <span class="hljs-string">'block11'</span>], 
    feat_shapes=[(<span class="hljs-number">38</span>, <span class="hljs-number">38</span>), (<span class="hljs-number">19</span>, <span class="hljs-number">19</span>), (<span class="hljs-number">10</span>, <span class="hljs-number">10</span>), (<span class="hljs-number">5</span>, <span class="hljs-number">5</span>), (<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)], 
    anchor_size_bounds=[<span class="hljs-number">0.15</span>, <span class="hljs-number">0.9</span>], 
    anchor_sizes=[(<span class="hljs-number">21.0</span>, <span class="hljs-number">45.0</span>), (<span class="hljs-number">45.0</span>, <span class="hljs-number">99.0</span>), (<span class="hljs-number">99.0</span>, <span class="hljs-number">153.0</span>), (<span class="hljs-number">153.0</span>, <span class="hljs-number">207.0</span>), (<span class="hljs-number">207.0</span>, <span class="hljs-number">261.0</span>), (<span class="hljs-number">261.0</span>, <span class="hljs-number">315.0</span>)], 
    anchor_ratios=<span class="hljs-string">[[2, 0.5], [2, 0.5, 3, 0.3333333333333333], [2, 0.5, 3, 0.3333333333333333], [2, 0.5, 3, 0.3333333333333333], [2, 0.5], [2, 0.5]]</span>, 
    anchor_steps=[<span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">32</span>, <span class="hljs-number">64</span>, <span class="hljs-number">100</span>, <span class="hljs-number">300</span>], 
    anchor_offset=<span class="hljs-number">0.5</span>, 
    normalizations=[<span class="hljs-number">20</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>], 
    prior_scaling=[<span class="hljs-number">0.1</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0.2</span>]
)</code></pre> 
<h2 id="imagesize">image_size</h2> 
<p>SSD中没有全连接层， 可适应各种大小的图片。指定图片大小的目的是为了方便成batch训练。</p> 
<h2 id="numclasses">num_classes</h2> 
<p>待检测的物体类别数量， 一般还需要加上背景类。</p> 
<h2 id="noannotationlabel">no_annotation_label</h2> 
<p>没用</p> 
<h2 id="featlayers">feat_layers</h2> 
<p>特征层。使用哪几层来预测bbox</p> 
<h2 id="featshapes">feat_shapes</h2> 
<p>特征层的shape</p> 
<h2 id="anchorsizebounds">anchor_size_bounds</h2> 
<p>每个特性层上的anchor大小都不一样， 越靠近输入的层其anchor越小。 <br> 确定第一个与最后一个feature层的anchor大小以后， 处于中间的层的anchor大小则通过线性插值计算而来。例如，假如<code>anchor_size_bounds = [0.2, 0.7]</code>， 有6个feature layer，则每个layer对应的default anchor大小为：<code>[0.2, 0.3, 0.4, 0.5, 0.6, 0.7]</code>.</p> 
<h2 id="anchorsizes">anchor_sizes</h2> 
<p>这个不是超参数。 <br> 它是论文中<span class="MathJax_Preview"></span><span style="" id="MathJax-Element-1-Frame" class="MathJax"> 
   
   <span style="width: 7.283em; display: inline-block;" id="MathJax-Span-1" class="math"><span style="display: inline-block; position: relative; width: 5.228em; height: 0px; font-size: 139%;"><span style="position: absolute; clip: rect(1.674em, 1000em, 3.016em, -0.416em); top: -2.542em; left: 0em;"><span id="MathJax-Span-2" class="mrow"><span id="MathJax-Span-3" class="msubsup"><span style="display: inline-block; position: relative; width: 0.794em; height: 0px;"><span style="position: absolute; clip: rect(1.956em, 1000em, 2.699em, -0.416em); top: -2.542em; left: 0em;"><span style="font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-4" class="mi">s</span><span style="display: inline-block; width: 0px; height: 2.542em;"></span></span><span style="position: absolute; clip: rect(1.759em, 1000em, 2.426em, -0.401em); top: -2.627em; left: 0.384em;"><span style="font-size: 70.7%; font-family: STIXVariants;" id="MathJax-Span-5" class="mo">′</span><span style="display: inline-block; width: 0px; height: 2.302em;"></span></span><span style="position: absolute; clip: rect(1.675em, 1000em, 2.454em, -0.422em); top: -1.984em; left: 0.384em;"><span style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-6" class="mi">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span style="display: inline-block; width: 0px; height: 2.302em;"></span></span></span></span><span style="font-family: STIXGeneral; padding-left: 0.313em;" id="MathJax-Span-7" class="mo">=</span><span style="padding-left: 0.313em;" id="MathJax-Span-8" class="msqrt"><span style="display: inline-block; position: relative; width: 3.149em; height: 0px;"><span style="position: absolute; clip: rect(3.395em, 1000em, 4.304em, -0.416em); top: -3.981em; left: 0.719em;"><span id="MathJax-Span-9" class="mrow"><span id="MathJax-Span-10" class="msubsup"><span style="display: inline-block; position: relative; width: 0.794em; height: 0px;"><span style="position: absolute; clip: rect(1.956em, 1000em, 2.699em, -0.416em); top: -2.542em; left: 0em;"><span style="font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-11" class="mi">s</span><span style="display: inline-block; width: 0px; height: 2.542em;"></span></span><span style="position: absolute; top: -2.152em; left: 0.384em;"><span style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-12" class="mi">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span style="display: inline-block; width: 0px; height: 2.302em;"></span></span></span></span><span id="MathJax-Span-13" class="msubsup"><span style="display: inline-block; position: relative; width: 1.61em; height: 0px;"><span style="position: absolute; clip: rect(1.956em, 1000em, 2.699em, -0.416em); top: -2.542em; left: 0em;"><span style="font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-14" class="mi">s</span><span style="display: inline-block; width: 0px; height: 2.542em;"></span></span><span style="position: absolute; top: -2.152em; left: 0.384em;"><span id="MathJax-Span-15" class="texatom"><span id="MathJax-Span-16" class="mrow"><span style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-17" class="mi">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span style="font-size: 70.7%; font-family: STIXGeneral;" id="MathJax-Span-18" class="mo">+</span><span style="font-size: 70.7%; font-family: STIXGeneral;" id="MathJax-Span-19" class="mn">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.302em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.981em;"></span></span><span style="position: absolute; clip: rect(3.017em, 1000em, 3.355em, -0.432em); top: -3.784em; left: 0.719em;"><span style="display: inline-block; position: relative; width: 2.429em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral; top: -3.981em; left: 0em;">‾<span style="display: inline-block; width: 0px; height: 3.981em;"></span></span><span style="position: absolute; font-family: STIXGeneral; top: -3.981em; left: 1.929em;">‾<span style="display: inline-block; width: 0px; height: 3.981em;"></span></span><span style="font-family: STIXGeneral; position: absolute; top: -3.981em; left: 0.366em;">‾<span style="display: inline-block; width: 0px; height: 3.981em;"></span></span><span style="font-family: STIXGeneral; position: absolute; top: -3.981em; left: 0.757em;">‾<span style="display: inline-block; width: 0px; height: 3.981em;"></span></span><span style="font-family: STIXGeneral; position: absolute; top: -3.981em; left: 1.148em;">‾<span style="display: inline-block; width: 0px; height: 3.981em;"></span></span><span style="font-family: STIXGeneral; position: absolute; top: -3.981em; left: 1.538em;">‾<span style="display: inline-block; width: 0px; height: 3.981em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.981em;"></span></span><span style="position: absolute; clip: rect(2.894em, 1000em, 4.136em, -0.365em); top: -3.661em; left: 0em;"><span style="font-family: STIXVariants;">√</span><span style="display: inline-block; width: 0px; height: 3.981em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.542em;"></span></span></span><span style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.599em; vertical-align: -0.526em;"></span></span> 
  </span><script id="MathJax-Element-1" type="math/tex">s_k'=\sqrt{s_ks_{k+1}}</script>里的<span class="MathJax_Preview"></span><span style="" id="MathJax-Element-2-Frame" class="MathJax"> 
   
   <span style="width: 3.95em; display: inline-block;" id="MathJax-Span-20" class="math"><span style="display: inline-block; position: relative; width: 2.83em; height: 0px; font-size: 139%;"><span style="position: absolute; clip: rect(1.956em, 1000em, 2.865em, -0.416em); top: -2.542em; left: 0em;"><span id="MathJax-Span-21" class="mrow"><span id="MathJax-Span-22" class="msubsup"><span style="display: inline-block; position: relative; width: 0.794em; height: 0px;"><span style="position: absolute; clip: rect(1.956em, 1000em, 2.699em, -0.416em); top: -2.542em; left: 0em;"><span style="font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-23" class="mi">s</span><span style="display: inline-block; width: 0px; height: 2.542em;"></span></span><span style="position: absolute; top: -2.152em; left: 0.384em;"><span style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-24" class="mi">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span style="display: inline-block; width: 0px; height: 2.302em;"></span></span></span></span><span style="font-family: STIXGeneral;" id="MathJax-Span-25" class="mo">,</span><span style="padding-left: 0.188em;" id="MathJax-Span-26" class="msubsup"><span style="display: inline-block; position: relative; width: 1.61em; height: 0px;"><span style="position: absolute; clip: rect(1.956em, 1000em, 2.699em, -0.416em); top: -2.542em; left: 0em;"><span style="font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-27" class="mi">s</span><span style="display: inline-block; width: 0px; height: 2.542em;"></span></span><span style="position: absolute; top: -2.152em; left: 0.384em;"><span id="MathJax-Span-28" class="texatom"><span id="MathJax-Span-29" class="mrow"><span style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-30" class="mi">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span style="font-size: 70.7%; font-family: STIXGeneral;" id="MathJax-Span-31" class="mo">+</span><span style="font-size: 70.7%; font-family: STIXGeneral;" id="MathJax-Span-32" class="mn">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.302em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.542em;"></span></span></span><span style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; height: 0.997em; vertical-align: -0.315em;"></span></span> 
  </span><script id="MathJax-Element-2" type="math/tex">s_k,s_{k+1}</script> <br> 除了21与315， 其余的都是通过<code>anchor_size_bounds</code>计算出来的。</p> 
<h2 id="anchoroffset">anchor_offset</h2> 
<p>用于计算anchor中心点的偏移。论文中<span class="MathJax_Preview"></span><span style="" id="MathJax-Element-3-Frame" class="MathJax"> 
   
   <span style="width: 7.083em; display: inline-block;" id="MathJax-Span-33" class="math"><span style="display: inline-block; position: relative; width: 5.084em; height: 0px; font-size: 139%;"><span style="position: absolute; clip: rect(1.483em, 1000em, 3.34em, -0.384em); top: -2.542em; left: 0em;"><span id="MathJax-Span-34" class="mrow"><span style="font-family: STIXGeneral;" id="MathJax-Span-35" class="mo">(</span><span id="MathJax-Span-36" class="mfrac"><span style="display: inline-block; position: relative; width: 1.655em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.672em, 1000em, 2.475em, -0.397em); top: -2.731em; left: 50%; margin-left: -0.767em;"><span id="MathJax-Span-37" class="mrow"><span style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-38" class="mi">i</span><span style="font-size: 70.7%; font-family: STIXGeneral;" id="MathJax-Span-39" class="mo">+</span><span style="font-size: 70.7%; font-family: STIXGeneral;" id="MathJax-Span-40" class="mn">0.5</span></span><span style="display: inline-block; width: 0px; height: 2.302em;"></span></span><span style="position: absolute; clip: rect(1.679em, 1000em, 2.623em, -0.394em); top: -1.923em; left: 50%; margin-left: -0.384em;"><span id="MathJax-Span-41" class="mrow"><span id="MathJax-Span-42" class="texatom"><span id="MathJax-Span-43" class="mrow"><span style="font-size: 70.7%; font-family: STIXGeneral;" id="MathJax-Span-44" class="mo">|</span></span></span><span id="MathJax-Span-45" class="msubsup"><span style="display: inline-block; position: relative; width: 0.477em; height: 0px;"><span style="position: absolute; clip: rect(1.679em, 1000em, 2.592em, -0.536em); top: -2.302em; left: 0em;"><span style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-46" class="mi">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span style="display: inline-block; width: 0px; height: 2.302em;"></span></span><span style="position: absolute; top: -2.035em; left: 0.185em;"><span style="font-size: 50%; font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-47" class="mi">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.009em;"></span></span><span style="display: inline-block; width: 0px; height: 2.206em;"></span></span></span></span><span id="MathJax-Span-48" class="texatom"><span id="MathJax-Span-49" class="mrow"><span style="font-size: 70.7%; font-family: STIXGeneral;" id="MathJax-Span-50" class="mo">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.302em;"></span></span><span style="position: absolute; clip: rect(0.851em, 1000em, 1.199em, -0.432em); top: -1.275em; left: 0em;"><span style="border-left: 1.655em solid; display: inline-block; overflow: hidden; width: 0px; height: 0.06em; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.055em;"></span></span></span></span><span style="font-family: STIXGeneral; padding-left: 0.188em;" id="MathJax-Span-51" class="mo">,</span><span style="padding-left: 0.188em;" id="MathJax-Span-52" class="mfrac"><span style="display: inline-block; position: relative; width: 1.655em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.672em, 1000em, 2.475em, -0.397em); top: -2.731em; left: 50%; margin-left: -0.767em;"><span id="MathJax-Span-53" class="mrow"><span style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-54" class="mi">i</span><span style="font-size: 70.7%; font-family: STIXGeneral;" id="MathJax-Span-55" class="mo">+</span><span style="font-size: 70.7%; font-family: STIXGeneral;" id="MathJax-Span-56" class="mn">0.5</span></span><span style="display: inline-block; width: 0px; height: 2.302em;"></span></span><span style="position: absolute; clip: rect(1.679em, 1000em, 2.721em, -0.394em); top: -1.923em; left: 50%; margin-left: -0.336em;"><span id="MathJax-Span-57" class="mrow"><span id="MathJax-Span-58" class="texatom"><span id="MathJax-Span-59" class="mrow"><span style="font-size: 70.7%; font-family: STIXGeneral;" id="MathJax-Span-60" class="mo">|</span></span></span><span id="MathJax-Span-61" class="msubsup"><span style="display: inline-block; position: relative; width: 0.381em; height: 0px;"><span style="position: absolute; clip: rect(1.679em, 1000em, 2.592em, -0.536em); top: -2.302em; left: 0em;"><span style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-62" class="mi">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span style="display: inline-block; width: 0px; height: 2.302em;"></span></span><span style="position: absolute; top: -2.035em; left: 0.185em;"><span style="font-size: 50%; font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-63" class="mi">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span></span><span style="display: inline-block; width: 0px; height: 2.206em;"></span></span></span></span><span id="MathJax-Span-64" class="texatom"><span id="MathJax-Span-65" class="mrow"><span style="font-size: 70.7%; font-family: STIXGeneral;" id="MathJax-Span-66" class="mo">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.302em;"></span></span><span style="position: absolute; clip: rect(0.851em, 1000em, 1.199em, -0.432em); top: -1.275em; left: 0em;"><span style="border-left: 1.655em solid; display: inline-block; overflow: hidden; width: 0px; height: 0.06em; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.055em;"></span></span></span></span><span style="font-family: STIXGeneral;" id="MathJax-Span-67" class="mo">)</span></span><span style="display: inline-block; width: 0px; height: 2.542em;"></span></span></span><span style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; height: 2.315em; vertical-align: -0.976em;"></span></span> 
  </span><script id="MathJax-Element-3" type="math/tex">(\frac{i+0.5}{|f_k|}, \frac{i+0.5}{|f_j|})</script>的<span class="MathJax_Preview"></span><span style="" id="MathJax-Element-4-Frame" class="MathJax"> 
   
   <span style="width: 1.683em; display: inline-block;" id="MathJax-Span-68" class="math"><span style="display: inline-block; position: relative; width: 1.199em; height: 0px; font-size: 139%;"><span style="position: absolute; clip: rect(1.71em, 1000em, 2.7em, -0.408em); top: -2.542em; left: 0em;"><span id="MathJax-Span-69" class="mrow"><span style="font-family: STIXGeneral;" id="MathJax-Span-70" class="mn">0.5</span></span><span style="display: inline-block; width: 0px; height: 2.542em;"></span></span></span><span style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.109em; vertical-align: -0.086em;"></span></span> 
  </span><script id="MathJax-Element-4" type="math/tex">0.5</script>。</p> 
<h2 id="anchorsteps">anchor_steps</h2> 
<p>由网络结构和feat_layers决定。例如，在<code>conv4_3</code>上移动一个像素相当于在原图上移动8个像素。</p> 
<h2 id="normalizations">normalizations</h2> 
<p>正则化参数。大于0则将对应的feature map L2norm一下， 然后在其上预测bbox。所以这个20也没啥特殊涵义。 <br> <code>ssd_common.py</code></p> 
<pre class="prettyprint"><code class=" hljs dos">    <span class="hljs-flow">if</span> normalization &gt; <span class="hljs-number">0</span>:
        <span class="hljs-winutils">net</span> = custom_layers.l2_normalization(<span class="hljs-winutils">net</span>, scaling=True)</code></pre> 
<h2 id="priorscaling">prior_scaling</h2> 
<p>（应该是用于调节<span class="MathJax_Preview"></span><span style="" id="MathJax-Element-5-Frame" class="MathJax"> 
   
   <span style="width: 1.817em; display: inline-block;" id="MathJax-Span-71" class="math"><span style="display: inline-block; position: relative; width: 1.295em; height: 0px; font-size: 139%;"><span style="position: absolute; clip: rect(1.957em, 1000em, 2.892em, -0.459em); top: -2.542em; left: 0em;"><span id="MathJax-Span-72" class="mrow"><span style="font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-73" class="mi">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="font-family: STIXGeneral;" id="MathJax-Span-74" class="mo">,</span><span style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;" id="MathJax-Span-75" class="mi">y</span></span><span style="display: inline-block; width: 0px; height: 2.542em;"></span></span></span><span style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.033em; vertical-align: -0.353em;"></span></span> 
  </span><script id="MathJax-Element-5" type="math/tex">x,y</script>回归与<span class="MathJax_Preview"></span><span style="" id="MathJax-Element-6-Frame" class="MathJax"> 
   
   <span style="width: 2.217em; display: inline-block;" id="MathJax-Span-76" class="math"><span style="display: inline-block; position: relative; width: 1.583em; height: 0px; font-size: 139%;"><span style="position: absolute; clip: rect(1.715em, 1000em, 2.827em, -0.417em); top: -2.542em; left: 0em;"><span id="MathJax-Span-77" class="mrow"><span style="font-family: STIXGeneral; font-style: italic;" id="MathJax-Span-78" class="mi">w</span><span style="font-family: STIXGeneral;" id="MathJax-Span-79" class="mo">,</span><span style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;" id="MathJax-Span-80" class="mi">h</span></span><span style="display: inline-block; width: 0px; height: 2.542em;"></span></span></span><span style="border-left: 0em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.279em; vertical-align: -0.263em;"></span></span> 
  </span><script id="MathJax-Element-6" type="math/tex">w, h</script>回归在loss中占的比例。 <br> <code>ssd_common.py</code></p> 
<pre class="prettyprint"><code class=" hljs rust">    feat_cy = (feat_cy - yref) / href / prior_scaling[<span class="hljs-number">0</span>]
    feat_cx = (feat_cx - xref) / wref / prior_scaling[<span class="hljs-number">1</span>]
    feat_h = tf.<span class="hljs-keyword">log</span>(feat_h / href) / prior_scaling[<span class="hljs-number">2</span>]
    feat_w = tf.<span class="hljs-keyword">log</span>(feat_w / wref) / prior_scaling[<span class="hljs-number">3</span>]
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/117f153724f09a72f20ed74d576c7ce9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">腾讯云ubuntu配置ssl</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fbf358cd2e9a4a3a7c94df1c3dfe006f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android 延时操作的三种方式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>