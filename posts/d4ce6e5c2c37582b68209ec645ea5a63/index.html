<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Rust安装(windows) - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Rust安装(windows)" />
<meta property="og:description" content="windows安装Rust开发环境指南 Rust的安装非常简单，官网下载安装包双击就能安装，但是在windows上使用总是能遇到一些问题，今天我们就来踩踩坑。
设置安装路径 当你安装Rust的时候会发现没法选安装路径，对于强迫症来说，还没开始就劝退了。其实Rust是可以执行安装路径的，只不过需要通过环境变量来指定。首先说怎么操作，后面再看为什么。
Rust需要安装两个东西，一个是rustup，一个是cargo。所以你需要设置两个环境变量来分别指定他们的安装目录。
通过RUSTUP_HOME指定rustup的安装目录。
通过CARGO_HOME指定cargo的按钻过目录。
这两个环境变量既可以放在用户环境变量下，也可以放在系统环境变量下。
当我们打开Rust安装程序，选择y继续安装时，可以先把鼠标网上滚一滚，看看Rust都打印了什么信息。
注意看划红线的地方，如果你没设置过环境变量，那么默认会安装到C:\User\用户名\.rust下。
没有C&#43;&#43;环境 Rust编译需要C&#43;&#43;环境，如果你没有，Rust也能安装成功，只是无法编译代码。下面我们分几种情况来谈论。
已经安装了Rust 如果你已经在没有C&#43;&#43;环境的情况下安装了Rust，此时你可以选择去安装visual studio code，然后就能使用Rust了。但是如果你不想安装这么个大家伙，而且你本身也不是做C/C&#43;&#43;开发的，那么你可以使用下面的命令挽救。
rustup toolchain install stable-x86_64-pc-windows-gnu rustup default stable-x86_64-pc-windows-gnu 然后在你的rustup的安装目录的toolchain目录下会出现stable-x86_64-pc-windows-gnu这样一个目录，它下面有个bin目录，你需要确认下这个bin目录已经添加到path。然后就能使用Rust编译了。
关于第二个命令我们稍微解释下。C&#43;&#43;的编译工具有两个，一个是msvc，也就是visual studio code会安装的，另一个是mingw。在没有安装visual studio code单数又需要C&#43;&#43;环境时，我们会首选安装mingw。上面的第二行命令其实就是把Rust用到的C&#43;&#43;工具设置为mingw。因为它默认选择的是x86_64-pc-windows-msvc。
如果你之前已经安装过mingw，但是安装Rust选的是默认的x86_64-pc-windows-msvc。那么其实你只需要执行上面的第二条命令就可以了，但是要注意你的mingw要加到path。
还没安装Rust 如果你还没有安装Rust，那么可以在输入y以后选择2，进入自定义安装。然后在需要输入host triple的时候输入x86_64-pc-windows-gnu，后面都默认。当再次回到上图的界面是，你会发现default host triple那一行已经变成了x86_64-pc-windows-gnu，此时再选择1进行安装。
安装完成后执行下rustup toolchain install stable，装完收工。
要验证Rust安装成功可以执行下rustup --version。
要更新Rust可以执行rustup update。
卸载请执行rustup self uninstall。
关于rustup命令更多内容，可以看rustup官方文档。
IDE Rust并没有专用的IDE，推荐使用vscode，安装下Rust插件，有只能提示和文档，还是蛮爽的。
另外你用vscode打开.rs文件时会提示你安装Rust扩展，直接点安装就完了，装完就可以爽了。再奉送一个vscode小技巧，如果你习惯用命令行的话，输入code .就能打开vscode并且已打开当前目录。
不知道有没有人好奇我的vscode的毛玻璃效果，它是Vibrancy这个插件，不过只能用于vscode默认的黑色主题。
最后再奉上一个例子，是力扣题库的第一题：两数之和。需要一点基础，刷题其实也是快速熟悉一门语言语法比较好的方式。
use std::collections::HashMap; fn main() { let res = tow_sum(vec![3,2,4], 6); println!(&#34;{:?}&#34;, res); } fn tow_sum(nums:Vec&lt;i32&gt;, target: i32) -&gt; Vec&lt;i32&gt; { let mut map = HashMap::new(); for (i,v) in nums." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/d4ce6e5c2c37582b68209ec645ea5a63/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-15T19:56:26+08:00" />
<meta property="article:modified_time" content="2022-04-15T19:56:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Rust安装(windows)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/41/e6/Jt766c5O_o.png" width="20%"></p> 
<h2><a id="windowsRust_2"></a>windows安装Rust开发环境指南</h2> 
<p>Rust的安装非常简单，<a href="https://www.rust-lang.org/tools/install" rel="nofollow">官网</a>下载安装包双击就能安装，但是在windows上使用总是能遇到一些问题，今天我们就来踩踩坑。</p> 
<h3><a id="_6"></a>设置安装路径</h3> 
<p>当你安装Rust的时候会发现没法选安装路径，对于强迫症来说，还没开始就劝退了。其实Rust是可以执行安装路径的，只不过需要通过环境变量来指定。首先说怎么操作，后面再看为什么。</p> 
<p>Rust需要安装两个东西，一个是<code>rustup</code>，一个是<code>cargo</code>。所以你需要设置两个环境变量来分别指定他们的安装目录。</p> 
<p>通过<code>RUSTUP_HOME</code>指定<code>rustup</code>的安装目录。<br> 通过<code>CARGO_HOME</code>指定<code>cargo</code>的按钻过目录。</p> 
<p>这两个环境变量既可以放在用户环境变量下，也可以放在系统环境变量下。</p> 
<p>当我们打开Rust安装程序，选择<code>y</code>继续安装时，可以先把鼠标网上滚一滚，看看Rust都打印了什么信息。</p> 
<p><img src="https://images2.imgbox.com/df/e3/xbFphEOJ_o.png" alt="在这里插入图片描述"></p> 
<p>注意看划红线的地方，如果你没设置过环境变量，那么默认会安装到<code>C:\User\用户名\.rust</code>下。</p> 
<h3><a id="C_23"></a>没有C++环境</h3> 
<p>Rust编译需要C++环境，如果你没有，Rust也能安装成功，只是无法编译代码。下面我们分几种情况来谈论。</p> 
<h4><a id="Rust_27"></a>已经安装了Rust</h4> 
<p>如果你已经在没有C++环境的情况下安装了Rust，此时你可以选择去安装visual studio code，然后就能使用Rust了。但是如果你不想安装这么个大家伙，而且你本身也不是做C/C++开发的，那么你可以使用下面的命令挽救。</p> 
<pre><code>rustup toolchain install stable-x86_64-pc-windows-gnu 
rustup default stable-x86_64-pc-windows-gnu
</code></pre> 
<p>然后在你的rustup的安装目录的toolchain目录下会出现stable-x86_64-pc-windows-gnu这样一个目录，它下面有个bin目录，你需要确认下这个bin目录已经添加到path。然后就能使用Rust编译了。</p> 
<p>关于第二个命令我们稍微解释下。C++的编译工具有两个，一个是msvc，也就是visual studio code会安装的，另一个是mingw。在没有安装visual studio code单数又需要C++环境时，我们会首选安装mingw。上面的第二行命令其实就是把Rust用到的C++工具设置为mingw。因为它默认选择的是x86_64-pc-windows-msvc。<br> <img src="https://images2.imgbox.com/28/f7/MleWELS2_o.png" alt="在这里插入图片描述"><br> 如果你之前已经安装过mingw，但是安装Rust选的是默认的x86_64-pc-windows-msvc。那么其实你只需要执行上面的第二条命令就可以了，但是要注意你的mingw要加到path。</p> 
<h4><a id="Rust_40"></a>还没安装Rust</h4> 
<p>如果你还没有安装Rust，那么可以在输入<code>y</code>以后选择<code>2</code>，进入自定义安装。然后在需要输入host triple的时候输入<code>x86_64-pc-windows-gnu</code>，后面都默认。当再次回到上图的界面是，你会发现default host triple那一行已经变成了x86_64-pc-windows-gnu，此时再选择<code>1</code>进行安装。</p> 
<p>安装完成后执行下<code>rustup toolchain install stable</code>，装完收工。</p> 
<p>要验证Rust安装成功可以执行下<code>rustup --version</code>。<br> 要更新Rust可以执行<code>rustup update</code>。<br> 卸载请执行<code>rustup self uninstall</code>。<br> 关于rustup命令更多内容，可以看<a href="https://rust-lang.github.io/rustup/" rel="nofollow">rustup官方文档</a>。</p> 
<h3><a id="IDE_51"></a>IDE</h3> 
<p>Rust并没有专用的IDE，推荐使用vscode，安装下Rust插件，有只能提示和文档，还是蛮爽的。<br> <img src="https://images2.imgbox.com/36/c2/nXbMEOnS_o.png" alt="在这里插入图片描述"><br> 另外你用vscode打开.rs文件时会提示你安装Rust扩展，直接点安装就完了，装完就可以爽了。再奉送一个vscode小技巧，如果你习惯用命令行的话，输入<code>code .</code>就能打开vscode并且已打开当前目录。</p> 
<p>不知道有没有人好奇我的vscode的毛玻璃效果，它是Vibrancy这个插件，不过只能用于vscode默认的黑色主题。</p> 
<p>最后再奉上一个例子，是<a href="https://leetcode-cn.com/" rel="nofollow">力扣</a>题库的第一题：两数之和。需要一点基础，刷题其实也是快速熟悉一门语言语法比较好的方式。</p> 
<pre><code class="prism language-rust"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>collections<span class="token punctuation">::</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token function">tow_sum</span><span class="token punctuation">(</span><span class="token macro property">vec!</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{:?}"</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">tow_sum</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword">i32</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token keyword">i32</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword">i32</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> map <span class="token operator">=</span> <span class="token class-name">HashMap</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token punctuation">,</span>v<span class="token punctuation">)</span> <span class="token keyword">in</span> nums<span class="token punctuation">.</span><span class="token function">iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">enumerate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> rem <span class="token operator">=</span> target <span class="token operator">-</span> v<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> <span class="token class-name">Some</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rem<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token macro property">vec!</span><span class="token punctuation">[</span>i <span class="token keyword">as</span> <span class="token keyword">i32</span><span class="token punctuation">,</span><span class="token operator">*</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> i <span class="token keyword">as</span> <span class="token keyword">i32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token macro property">vec!</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d061eede075eb698b70be9cf70f718b0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Vue双向绑定：原理篇（详细）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2dd791938330f27096dee6515c002def/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">u-boot分析（三）：main函数分析、uboot自拷贝和重定位</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>