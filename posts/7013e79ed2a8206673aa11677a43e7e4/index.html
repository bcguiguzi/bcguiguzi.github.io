<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Flutter手势--GestureDetector各种手势使用详情 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Flutter手势--GestureDetector各种手势使用详情" />
<meta property="og:description" content="1.GestureDetector单击手势 序列号字段属性描述1onTapDownGestureTapDownCallback手指按下时的回调函数2onTapUpGestureTapUpCallback手指松开时的回调函数3onTapGestureTapCallback手指点击时的回调函数4onTapCancelGestureTapCancelCallback手指取消点击时的回调函数 我们在Container容器上添加了单击手势，代码如下：
import &#39;package:flutter/material.dart&#39;; class GestureDetectorExample extends StatefulWidget { @override _GestureDetectorExampleState createState() =&gt; _GestureDetectorExampleState(); } class _GestureDetectorExampleState extends State&lt;GestureDetectorExample&gt; { @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( title: Text(&#34;GestureDetector&#34;), ), body: Center( child: Stack( children: [ GestureDetector( onTap: (){ print(&#34;onTap&#34;); }, onTapCancel: () { print(&#34;onTapCancel&#34;); }, onTapDown: (details) { print(&#34;onTapDown---${details.globalPosition}---${details.localPosition}&#34;); }, onTapUp: (details) { print(&#34;onTapUp---${details.globalPosition}---${details.localPosition}&#34;); }, child: Container( width: 200, height: 200, color: Colors.orange, alignment: Alignment.center, child: Text(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/7013e79ed2a8206673aa11677a43e7e4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-22T11:31:28+08:00" />
<meta property="article:modified_time" content="2022-11-22T11:31:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Flutter手势--GestureDetector各种手势使用详情</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 id="gesturedetector单击手势">1.GestureDetector单击手势</h2> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><thead><tr><th>序列号</th><th>字段</th><th>属性</th><th>描述</th></tr></thead><tbody><tr><td>1</td><td>onTapDown</td><td>GestureTapDownCallback</td><td>手指按下时的回调函数</td></tr><tr><td>2</td><td>onTapUp</td><td>GestureTapUpCallback</td><td>手指松开时的回调函数</td></tr><tr><td>3</td><td>onTap</td><td>GestureTapCallback</td><td>手指点击时的回调函数</td></tr><tr><td>4</td><td>onTapCancel</td><td>GestureTapCancelCallback</td><td>手指取消点击时的回调函数</td></tr></tbody></table> 
<p>我们在<code>Container</code>容器上添加了单击手势，代码如下：</p> 
<pre><code class="language-Dart">import 'package:flutter/material.dart';

class GestureDetectorExample extends StatefulWidget {
  @override
  _GestureDetectorExampleState createState() =&gt; _GestureDetectorExampleState();
}

class _GestureDetectorExampleState extends State&lt;GestureDetectorExample&gt; {

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text("GestureDetector"),
      ),
      body: Center(
        child: Stack(
          children: [
            GestureDetector(
              onTap: (){
                print("onTap");
              },
              onTapCancel: () {
                print("onTapCancel");
              },
              onTapDown: (details) {
                print("onTapDown---${details.globalPosition}---${details.localPosition}");
              },
              onTapUp: (details) {
                print("onTapUp---${details.globalPosition}---${details.localPosition}");
              },
              child: Container(
                width: 200,
                height: 200,
                color: Colors.orange,
                alignment: Alignment.center,
                child: Text("Jimi",
                  style: TextStyle(
                    color: Colors.white,
                    fontSize: 30
                  ),
                ),
              ),
            )
          ],
        ),
      ),
    );
  }
}</code></pre> 
<h4 id="gesturedetector单击手势控制台输出结果">GestureDetector单击手势控制台输出结果</h4> 
<p>第一种：点击Container容器</p> 
<pre><code class="language-Dart">flutter: onTapDown---Offset(211.5, 317.0)---Offset(124.0, 45.5)
flutter: onTapUp---Offset(211.5, 317.0)---Offset(124.0, 45.5)
flutter: onTap</code></pre> 
<p>第二种：点击Container容器后不松手直接移出区域</p> 
<pre><code class="language-Dart">flutter: onTapDown---Offset(195.5, 305.5)---Offset(108.0, 34.0)
flutter: onTapCancel</code></pre> 
<h2>2.GestureDetector双击手势</h2> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><thead><tr><th>序列号</th><th>字段</th><th>属性</th><th>描述</th></tr></thead><tbody><tr><td>1</td><td>onDoubleTapDown</td><td>GestureTapDownCallback</td><td>手指按下时的回调函数</td></tr><tr><td>2</td><td>onDoubleTap</td><td>GestureTapCallback</td><td>手指双击时的回调函数</td></tr><tr><td>3</td><td>onDoubleTapCancel</td><td>GestureTapCancelCallback</td><td>手指取消时的回调函数</td></tr></tbody></table> 
<p>我们在<code>Container</code>容器上添加了三种双击手势的回调，代码如下：</p> 
<pre><code class="language-Dart">import 'package:flutter/material.dart';

class GestureDetectorExample extends StatefulWidget {
  @override
  _GestureDetectorExampleState createState() =&gt; _GestureDetectorExampleState();
}

class _GestureDetectorExampleState extends State&lt;GestureDetectorExample&gt; {

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text("GestureDetector"),
      ),
      body: Center(
        child: Stack(
          children: [
            GestureDetector(
              onDoubleTap: () {
                print("onTapDown");
              },
              onDoubleTapCancel: () {
                print("onDoubleTapCancel");
              },
              onDoubleTapDown: (details) {
                print("onDoubleTapDown---${details.globalPosition}---${details.localPosition}");
              },
              child: Container(
                width: 200,
                height: 200,
                color: Colors.orange,
                alignment: Alignment.center,
                child: Text("Jimi",
                  style: TextStyle(
                      color: Colors.white,
                      fontSize: 30
                  ),
                ),
              ),
            )
          ],
        ),
      ),
    );
  }
}</code></pre> 
<h4 id="gesturedetector双击手势控制台输出结果">GestureDetector双击手势控制台输出结果</h4> 
<p>第一种：双击Container容器</p> 
<pre><code class="language-Dart">flutter: onDoubleTapDown---Offset(204.5, 317.0)---Offset(117.0, 45.5)
flutter: onTapDown</code></pre> 
<p>第二种：双击Container容器但不抬起手指并移出区域</p> 
<pre><code class="language-Dart">flutter: onDoubleTapDown---Offset(195.5, 283.5)---Offset(108.0, 12.0)
flutter: onDoubleTapCancel</code></pre> 
<h2>3.GestureDetector长按手势</h2> 
<table border="1" cellpadding="1" cellspacing="1" style="width:652px;"><thead><tr><th>序列号</th><th>字段</th><th>属性</th><th style="width:159px;">描述</th></tr></thead><tbody><tr><td>1</td><td>onLongPressDown</td><td>GestureLongPressDownCallback</td><td style="width:159px;">手指按下去时的回调函数</td></tr><tr><td>2</td><td>onLongPressCancel</td><td>GestureLongPressCancelCallback</td><td style="width:159px;">手指长按取消时的回调函数</td></tr><tr><td>3</td><td>onLongPress</td><td>GestureLongPressCallback</td><td style="width:159px;">手指长按时的回调函数</td></tr><tr><td>4</td><td>onLongPressStart</td><td>GestureLongPressStartCallback</td><td style="width:159px;">手指长按并开始拖动时的回调函数</td></tr><tr><td>5</td><td>onLongPressMoveUpdate</td><td>GestureLongPressMoveUpdateCallback</td><td style="width:159px;">手指长按并移动时的回调函数</td></tr><tr><td>6</td><td>onLongPressUp</td><td>GestureLongPressUpCallback</td><td style="width:159px;">手指长按并松开时的回调函数</td></tr><tr><td>7</td><td>onLongPressEnd</td><td>GestureLongPressEndCallback</td><td style="width:159px;">手指长按结束拖动时的回调函数</td></tr></tbody></table> 
<p>我们在<code>Container</code>容器上添加了长按手势，代码如下：</p> 
<pre><code class="language-Dart">import 'package:flutter/material.dart';

class GestureDetectorExample extends StatefulWidget {
  @override
  _GestureDetectorExampleState createState() =&gt; _GestureDetectorExampleState();
}

class _GestureDetectorExampleState extends State&lt;GestureDetectorExample&gt; {

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text("GestureDetector"),
      ),
      body: Center(
        child: Stack(
          children: [
            GestureDetector(
              onLongPress: (){
                print("onLongPress");
              },
              onLongPressCancel: () {
                print("onLongPressCancel");
              },
              onLongPressUp: () {
                print("onLongPressUp");
              },
              onLongPressDown: (details) {
                print("onLongPressDown---${details.globalPosition}---${details.localPosition}");
              },
              onLongPressEnd: (details) {
                print("onLongPressEnd---${details.globalPosition}---${details.localPosition}");
              },
              onLongPressStart: (details) {
                print("onLongPressStart---${details.globalPosition}---${details.localPosition}");
              },
              onLongPressMoveUpdate: (details) {
                print("onLongPressMoveUpdate---${details.globalPosition}---${details.localPosition}");
              },
              child: Container(
                width: 200,
                height: 200,
                color: Colors.orange,
                alignment: Alignment.center,
                child: Text("Jimi",
                  style: TextStyle(
                    color: Colors.white,
                    fontSize: 30
                  ),
                ),
              ),
            )
          ],
        ),
      ),
    );
  }
}</code></pre> 
<h4 id="gesturedetector长按手势控制台输出结果">GestureDetector长按手势控制台输出结果</h4> 
<p>第一种：单击Container容器</p> 
<pre><code class="language-Dart">flutter: onLongPressDown---Offset(199.0, 336.0)---Offset(111.5, 64.5)
flutter: onLongPressCancel</code></pre> 
<p>第二种：长按Container容器但是手指不动后松开</p> 
<pre><code class="language-Dart">flutter: onLongPressDown---Offset(215.0, 301.0)---Offset(127.5, 29.5)
flutter: onLongPressStart---Offset(215.0, 301.0)---Offset(127.5, 29.5)
flutter: onLongPress
flutter: onLongPressEnd---Offset(215.0, 301.0)---Offset(127.5, 29.5)
flutter: onLongPressUp</code></pre> 
<p>第三种：长按Container容器并进行拖动最后松开手指</p> 
<pre><code class="language-Dart">flutter: onLongPressDown---Offset(169.0, 314.0)---Offset(81.5, 42.5)
flutter: onLongPressStart---Offset(169.0, 314.0)---Offset(81.5, 42.5)
flutter: onLongPress
flutter: onLongPressMoveUpdate---Offset(168.5, 314.5)---Offset(81.0, 43.0)
flutter: onLongPressMoveUpdate---Offset(165.0, 318.5)---Offset(77.5, 47.0)
flutter: onLongPressMoveUpdate---Offset(164.0, 319.0)---Offset(76.5, 47.5)
flutter: onLongPressMoveUpdate---Offset(158.5, 323.5)---Offset(71.0, 52.0)
flutter: onLongPressMoveUpdate---Offset(153.0, 329.5)---Offset(65.5, 58.0)
flutter: onLongPressMoveUpdate---Offset(148.5, 335.0)---Offset(61.0, 63.5)
flutter: onLongPressMoveUpdate---Offset(146.5, 339.0)---Offset(59.0, 67.5)
flutter: onLongPressMoveUpdate---Offset(146.5, 339.5)---Offset(59.0, 68.0)
flutter: onLongPressEnd---Offset(146.5, 339.5)---Offset(59.0, 68.0)
flutter: onLongPressUp</code></pre> 
<p>第四种：长按Container容器并马上移出区域</p> 
<pre><code class="language-Dart">flutter: onLongPressDown---Offset(97.0, 277.5)---Offset(9.5, 6.0)
flutter: onLongPressCancel
flutter: onLongPressDown---Offset(91.5, 275.5)---Offset(4.0, 4.0)
flutter: onLongPressCancel</code></pre> 
<h2>4.GestureDetector垂直滑动手势</h2> 
<table border="1" cellpadding="1" cellspacing="1" style="width:606px;"><thead><tr><th>序列号</th><th>字段</th><th>属性</th><th style="width:152px;">描述</th></tr></thead><tbody><tr><td>1</td><td>onVerticalDragDown</td><td>GestureDragDownCallback</td><td style="width:152px;">手指按下时的回调函数</td></tr><tr><td>2</td><td>onVerticalDragStart</td><td>GestureDragStartCallback</td><td style="width:152px;">手指开始垂直滑动时的回调函数</td></tr><tr><td>3</td><td>onVerticalDragUpdate</td><td>GestureDragUpdateCallback</td><td style="width:152px;">手指垂直滑动时的回调函数</td></tr><tr><td>4</td><td>onVerticalDragEnd</td><td>GestureDragEndCallback</td><td style="width:152px;">手指垂直滑动结束时的回调函数</td></tr><tr><td>5</td><td>onVerticalDragCancel</td><td>GestureDragCancelCallback</td><td style="width:152px;">手指垂直滑动取消时的回调函数</td></tr></tbody></table> 
<p>我们在<code>Container</code>容器上添加了垂直滑动手势，代码如下：</p> 
<pre><code class="language-Dart">import 'package:flutter/material.dart';

class GestureDetectorExample extends StatefulWidget {
  @override
  _GestureDetectorExampleState createState() =&gt; _GestureDetectorExampleState();
}

class _GestureDetectorExampleState extends State&lt;GestureDetectorExample&gt; {

  double _left = 0;
  double _top = 0;

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text("GestureDetector"),
      ),
      body: Center(
        child: Stack(
          children: [
            GestureDetector(
              onVerticalDragCancel: () {
                print("onVerticalDragCancel");
              },
              onVerticalDragDown: (details) {
                print("onVerticalDragDown---${details.globalPosition}---${details.localPosition}");
              },
              onVerticalDragEnd: (details) {
                print("onVerticalDragEnd---${details.velocity}---${details.primaryVelocity}");
              },
              onVerticalDragStart: (details) {
                print("onVerticalDragStart---${details.globalPosition}---${details.localPosition}");
              },
              onVerticalDragUpdate: (details) {
                print("onVerticalDragUpdate---${details.globalPosition}---${details.localPosition}---${details.delta}");
                setState(() {
                  _top += details.delta.dy;
                });

              },
              child: Stack(
                children: [
                  Positioned(
                    left: _left,
                    top: _top,
                    child: Container(
                      width: 200,
                      height: 200,
                      color: Colors.orange,
                      alignment: Alignment.center,
                      child: Text("Jimi",
                        style: TextStyle(
                            color: Colors.white,
                            fontSize: 30
                        ),
                      ),
                    ),
                  )
                ],
              ),
            )
          ],
        ),
      ),
    );
  }
}</code></pre> 
<h4 id="gesturedetector垂直滑动手势控制台输出">GestureDetector垂直滑动手势控制台输出</h4> 
<p>第一种：点击Container容器</p> 
<pre><code class="language-Dart">flutter: onVerticalDragDown---Offset(76.5, 114.5)---Offset(76.5, 38.5)
flutter: onVerticalDragStart---Offset(76.5, 114.5)---Offset(76.5, 38.5)
flutter: onVerticalDragEnd---Velocity(0.0, 0.0)---0.0</code></pre> 
<p>第二种：拖动Container容器</p> 
<pre><code class="language-Dart">flutter: onVerticalDragDown---Offset(185.5, 332.5)---Offset(185.5, 256.5)
flutter: onVerticalDragStart---Offset(185.5, 332.5)---Offset(185.5, 256.5)
flutter: onVerticalDragUpdate---Offset(185.5, 332.0)---Offset(185.5, 256.0)
flutter: onVerticalDragUpdate---Offset(187.5, 322.0)---Offset(187.5, 246.0)
flutter: onVerticalDragUpdate---Offset(192.0, 307.0)---Offset(192.0, 231.0)
flutter: onVerticalDragUpdate---Offset(193.5, 298.0)---Offset(193.5, 222.0)
flutter: onVerticalDragUpdate---Offset(193.5, 297.0)---Offset(193.5, 221.0)
flutter: onVerticalDragEnd---Velocity(131.3, -548.9)----548.8773895303548</code></pre> 
<p>第三种：拖动Container容器并马上松开</p> 
<pre><code class="language-Dart">flutter: onVerticalDragDown---Offset(10.5, 93.5)---Offset(10.5, 17.5)
flutter: onVerticalDragCancel</code></pre> 
<h2>5.GestureDetector水平滑动手势</h2> 
<table border="1" cellpadding="1" cellspacing="1" style="width:620px;"><thead><tr><th>序列号</th><th>字段</th><th>属性</th><th style="width:233px;">描述</th></tr></thead><tbody><tr><td>1</td><td>onHorizontalDragDown</td><td>GestureDragDownCallback</td><td style="width:233px;">手指按下时的回调函数</td></tr><tr><td>2</td><td>onHorizontalDragStart</td><td>GestureDragStartCallback</td><td style="width:233px;">手指开始水平滑动时的回调函数</td></tr><tr><td>3</td><td>onHorizontalDragUpdate</td><td>GestureDragUpdateCallback</td><td style="width:233px;">手指水平滑动时的回调函数</td></tr><tr><td>4</td><td>onHorizontalDragEnd</td><td>GestureDragEndCallback</td><td style="width:233px;">手指水平滑动结束时的回调函数</td></tr><tr><td>5</td><td>onHorizontalDragCancel</td><td>GestureDragCancelCallback</td><td style="width:233px;">手指水平滑动取消时的回调函数</td></tr></tbody></table> 
<p>我们在<code>Container</code>容器上添加了水平滑动手势，代码如下：</p> 
<pre><code class="language-Dart">import 'package:flutter/material.dart';

class GestureDetectorExample extends StatefulWidget {
  @override
  _GestureDetectorExampleState createState() =&gt; _GestureDetectorExampleState();
}

class _GestureDetectorExampleState extends State&lt;GestureDetectorExample&gt; {

  double _left = 0;
  double _top = 0;

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text("GestureDetector"),
      ),
      body: Center(
        child: Stack(
          children: [
            /// 水平滑动
            GestureDetector(
              onHorizontalDragCancel: () {
                print("onHorizontalDragCancel");
              },
              onHorizontalDragDown: (details) {
                print("onHorizontalDragDown---${details.globalPosition}---${details.localPosition}");
              },
              onHorizontalDragEnd: (details) {
                print("onHorizontalDragEnd---${details.velocity}---${details.primaryVelocity}");
              },
              onHorizontalDragStart: (details) {
                print("onHorizontalDragStart---${details.globalPosition}---${details.localPosition}");
              },
              onHorizontalDragUpdate: (details) {
                print("onHorizontalDragUpdate---${details.globalPosition}---${details.localPosition}---${details.delta}");
                setState(() {
                  _left += details.delta.dx;
                });

              },
              child: Stack(
                children: [
                  Positioned(
                    left: _left,
                    top: _top,
                    child: Container(
                      width: 200,
                      height: 200,
                      color: Colors.orange,
                      alignment: Alignment.center,
                      child: Text("Jimi",
                        style: TextStyle(
                            color: Colors.white,
                            fontSize: 30
                        ),
                      ),
                    ),
                  )
                ],
              ),
            )

          ],
        ),
      ),
    );
  }
}</code></pre> 
<h4 id="gesturedetector水平滑动控制台输出">GestureDetector水平滑动控制台输出</h4> 
<p>第一种：点击Container容器</p> 
<pre><code class="language-Dart">flutter: onHorizontalDragDown---Offset(151.5, 118.0)---Offset(151.5, 42.0)
flutter: onHorizontalDragStart---Offset(151.5, 118.0)---Offset(151.5, 42.0)
flutter: onHorizontalDragEnd---Velocity(0.0, 0.0)---0.0</code></pre> 
<p>第二种：拖动Container容器</p> 
<pre><code class="language-Dart">flutter: onHorizontalDragDown---Offset(97.5, 135.5)---Offset(97.5, 59.5)
flutter: onHorizontalDragStart---Offset(97.5, 135.5)---Offset(97.5, 59.5)
flutter: onHorizontalDragUpdate---Offset(100.0, 136.0)---Offset(100.0, 60.0)---Offset(2.5, 0.0)
flutter: onHorizontalDragUpdate---Offset(100.5, 136.0)---Offset(100.5, 60.0)---Offset(0.5, 0.0)
flutter: onHorizontalDragUpdate---Offset(102.0, 136.0)---Offset(102.0, 60.0)---Offset(1.5, 0.0)
flutter: onHorizontalDragUpdate---Offset(105.0, 136.5)---Offset(105.0, 60.5)---Offset(3.0, 0.0)
flutter: onHorizontalDragUpdate---Offset(107.0, 137.0)---Offset(107.0, 61.0)---Offset(2.0, 0.0)
flutter: onHorizontalDragUpdate---Offset(108.5, 137.0)---Offset(108.5, 61.0)---Offset(1.5, 0.0)
flutter: onHorizontalDragUpdate---Offset(109.0, 137.0)---Offset(109.0, 61.0)---Offset(0.5, 0.0)
flutter: onHorizontalDragUpdate---Offset(110.0, 137.0)---Offset(110.0, 61.0)---Offset(1.0, 0.0)
flutter: onHorizontalDragUpdate---Offset(111.0, 137.0)---Offset(111.0, 61.0)---Offset(1.0, 0.0)
flutter: onHorizontalDragEnd---Velocity(0.0, 0.0)---0.0</code></pre> 
<p>第三种：拖动Container容器并马上松开</p> 
<pre><code class="language-Dart">flutter: onHorizontalDragDown---Offset(6.0, 109.0)---Offset(6.0, 33.0)
flutter: onHorizontalDragCancel</code></pre> 
<h2>6.GestureDetector拖动手势</h2> 
<table border="1" cellpadding="1" cellspacing="1" style="width:621px;"><thead><tr><th>序列号</th><th>字段</th><th>属性</th><th style="width:234px;">描述</th></tr></thead><tbody><tr><td>1</td><td>onPanDown</td><td>GestureDragDownCallback</td><td style="width:234px;">手指按下时的回调函数</td></tr><tr><td>2</td><td>onPanStart</td><td>GestureDragStartCallback</td><td style="width:234px;">手指开始拖动时的回调函数</td></tr><tr><td>3</td><td>onPanUpdate</td><td>GestureDragUpdateCallback</td><td style="width:234px;">手指移动时的回调函数</td></tr><tr><td>4</td><td>onPanEnd</td><td>GestureDragEndCallback</td><td style="width:234px;">手指抬起时的回调函数</td></tr><tr><td>5</td><td>onPanCancel</td><td>GestureDragCancelCallback</td><td style="width:234px;">手指取消拖动时的回调函数</td></tr></tbody></table> 
<p>我们在<code>Container</code>容器上添加了拖动手势，代码如下:</p> 
<pre><code class="language-Dart">import 'package:flutter/material.dart';

class GestureDetectorExample extends StatefulWidget {
  @override
  _GestureDetectorExampleState createState() =&gt; _GestureDetectorExampleState();
}

class _GestureDetectorExampleState extends State&lt;GestureDetectorExample&gt; {

  double _left = 0;
  double _top = 0;

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text("GestureDetector"),
      ),
      body: Center(
        child: Stack(
          children: [

            // 拖动手势
            GestureDetector(
              onPanCancel: () {
                print("onPanCancel");
              },
              onPanDown: (details) {
                print("onPanDown---${details.globalPosition}---${details.localPosition}");
              },
              onPanEnd: (details) {
                print("onPanEnd---${details.velocity}---${details.primaryVelocity}");
              },
              onPanStart: (details) {
                print("onPanStart---${details.globalPosition}---${details.localPosition}");
              },
              onPanUpdate: (details) {
                print("onPanUpdate---${details.globalPosition}---${details.localPosition}---${details.delta}");
                setState(() {
                  _left += details.delta.dx;
                  _top += details.delta.dy;
                });
              },
              child: Stack(
                children: [
                  Positioned(
                    left: _left,
                    top: _top,
                    child: Container(
                      width: 200,
                      height: 200,
                      color: Colors.orange,
                      alignment: Alignment.center,
                      child: Text("Jimi",
                        style: TextStyle(
                            color: Colors.white,
                            fontSize: 30
                        ),
                      ),
                    ),
                  )
                ],
              ),
            )
          ],
        ),
      ),
    );
  }
}</code></pre> 
<h4 id="gesturedetector拖动手势控制台输出">GestureDetector拖动手势控制台输出</h4> 
<p>第一种：点击Container容器</p> 
<pre><code class="language-Dart">flutter: onPanDown---Offset(161.0, 233.0)---Offset(161.0, 157.0)
flutter: onPanStart---Offset(161.0, 233.0)---Offset(161.0, 157.0)
flutter: onPanEnd---Velocity(0.0, 0.0)---0.0</code></pre> 
<p>第二种：拖动Container容器</p> 
<pre><code class="language-Dart">flutter: onPanDown---Offset(123.5, 193.5)---Offset(123.5, 117.5)
flutter: onPanStart---Offset(123.5, 193.5)---Offset(123.5, 117.5)
flutter: onPanUpdate---Offset(123.5, 193.0)---Offset(123.5, 117.0)---Offset(0.0, -0.5)
flutter: onPanUpdate---Offset(124.0, 193.0)---Offset(124.0, 117.0)---Offset(0.5, 0.0)
flutter: onPanUpdate---Offset(124.5, 192.0)---Offset(124.5, 116.0)---Offset(0.5, -1.0)
flutter: onPanUpdate---Offset(125.5, 190.5)---Offset(125.5, 114.5)---Offset(1.0, -1.5)
flutter: onPanUpdate---Offset(126.0, 190.0)---Offset(126.0, 114.0)---Offset(0.5, -0.5)
flutter: onPanUpdate---Offset(126.5, 189.5)---Offset(126.5, 113.5)---Offset(0.5, -0.5)
flutter: onPanUpdate---Offset(127.0, 189.0)---Offset(127.0, 113.0)---Offset(0.5, -0.5)
flutter: onPanEnd---Velocity(0.0, 0.0)---0.0</code></pre> 
<p>第三种：拖动Container容器并马上松开</p> 
<pre><code class="language-Dart">flutter: onPanDown---Offset(5.5, 162.5)---Offset(5.5, 86.5)
flutter: onPanCancel</code></pre> 
<h2>7.GestureDetector缩放手势</h2> 
<table border="1" cellpadding="1" cellspacing="1" style="width:654px;"><thead><tr><th>序列号</th><th>字段</th><th>属性</th><th style="width:276px;">描述</th></tr></thead><tbody><tr><td>1</td><td>onScaleStart</td><td>GestureScaleStartCallback</td><td style="width:276px;">开始缩放时的回调函数</td></tr><tr><td>2</td><td>onScaleUpdate</td><td>GestureScaleUpdateCallback</td><td style="width:276px;">缩放移动时的回调函数</td></tr><tr><td>3</td><td>onScaleEnd</td><td>GestureScaleEndCallback</td><td style="width:276px;">缩放结束时的回调函数</td></tr></tbody></table> 
<p>我们在<code>Container</code>容器上添加了缩放手势，代码如下：:</p> 
<pre><code class="language-Dart">import 'package:flutter/material.dart';

class GestureDetectorExample extends StatefulWidget {
  @override
  _GestureDetectorExampleState createState() =&gt; _GestureDetectorExampleState();
}

class _GestureDetectorExampleState extends State&lt;GestureDetectorExample&gt; {

  double _left = 0;
  double _top = 0;
  double _widthAndHeight = 200;

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text("GestureDetector"),
      ),
      body: Center(
        child: Stack(
          children: [
            /// 缩放手势
            GestureDetector(
              onScaleEnd: (details) {
                print("onScaleEnd---${details.velocity}---${details.pointerCount}");
              },
              onScaleStart: (details) {
                print("onScaleStart---${details.focalPoint}---${details.pointerCount}");
              },
              onScaleUpdate: (details) {
                print("onScaleUpdate---${details.scale}---${details.scale.clamp(0.1, 1.2)}");
                setState(() {
                  _widthAndHeight = 200 * details.scale.clamp(0.3, 1.8);
                });
              },
              child: Container(
                width: _widthAndHeight,
                height: _widthAndHeight,
                color: Colors.orange,
                alignment: Alignment.center,
                child: Text("Jimi",
                  style: TextStyle(
                      color: Colors.white,
                      fontSize: 30
                  ),
                ),
              ),
            )

          ],
        ),
      ),
    );
  }
}</code></pre> 
<p>第一种：点击Container容器</p> 
<pre><code class="language-Dart">flutter: onScaleStart---Offset(149.5, 348.0)---1
flutter: onScaleEnd---Velocity(0.0, 0.0)---0</code></pre> 
<p>第二种：单指拖动Container容器</p> 
<pre><code class="language-Dart">flutter: onScaleStart---Offset(178.0, 304.5)---1
flutter: onScaleUpdate---1.0---1.0
flutter: onScaleUpdate---1.0---1.0
flutter: onScaleUpdate---1.0---1.0
flutter: onScaleUpdate---1.0---1.0
flutter: onScaleEnd---Velocity(0.0, 0.0)---0</code></pre> 
<p>第三种：双指缩放Container容器</p> 
<pre><code class="language-Dart">flutter: onScaleStart---Offset(187.5, 333.5)---2
flutter: onScaleUpdate---1.0055027720002572---1.0055027720002572
flutter: onScaleUpdate---1.0110087715145855---1.0110087715145855
flutter: onScaleUpdate---1.0293231946761667---1.0293231946761667
flutter: onScaleUpdate---1.04763763435052---1.04763763435052
flutter: onScaleUpdate---1.0531463022961167---1.0531463022961167
flutter: onScaleEnd---Velocity(0.0, 0.0)---1</code></pre> 
<h2>8.带有3D Touch功能压力设备触发手势</h2> 
<table border="1" cellpadding="1" cellspacing="1" style="width:654px;"><thead><tr><th>序列号</th><th>字段</th><th>属性</th><th style="width:276px;">描述</th></tr></thead><tbody><tr><td>1</td><td>onForcePressStart</td><td>GestureForcePressStartCallback</td><td style="width:276px;">手指强制按下时的回调函数</td></tr><tr><td>2</td><td>onForcePressPeak</td><td>GestureForcePressPeakCallback</td><td style="width:276px;">手指按压力度最大时的回调函数</td></tr><tr><td>3</td><td>onForcePressUpdate</td><td>GestureForcePressUpdateCallback</td><td style="width:276px;">手指按下后移动时的回调函数</td></tr><tr><td>4</td><td>onForcePressEnd</td><td>GestureForcePressEndCallback</td><td style="width:276px;">手指离开时的回调函数</td></tr></tbody></table> 
<h2>9.辅助按钮触发手势</h2> 
<table border="1" cellpadding="1" cellspacing="1" style="width:651px;"><thead><tr><th>序列号</th><th>字段</th><th>属性</th><th style="width:273px;">描述</th></tr></thead><tbody><tr><td>1</td><td>onSecondaryTap</td><td>GestureTapCallback</td><td style="width:273px;">辅助按钮单击时的回调函数</td></tr><tr><td>2</td><td>onSecondaryTapDown</td><td>GestureTapDownCallback</td><td style="width:273px;">辅助按钮按下时的回调函数</td></tr><tr><td>3</td><td>onSecondaryTapUp</td><td>GestureTapUpCallback</td><td style="width:273px;">辅助按钮松开时的回调函数</td></tr><tr><td>4</td><td>onSecondaryTapCancel</td><td>GestureTapCancelCallback</td><td style="width:273px;">辅助按钮取消点击时的回调函数</td></tr><tr><td>5</td><td>onSecondaryLongPressDown</td><td>GestureLongPressDownCallback</td><td style="width:273px;">辅助按钮按下去时的回调函数</td></tr><tr><td>6</td><td>onSecondaryLongPressCancel</td><td>GestureLongPressCancelCallback</td><td style="width:273px;">辅助按钮长按取消时的回调函数</td></tr><tr><td>7</td><td>onSecondaryLongPress</td><td>GestureLongPressCallback</td><td style="width:273px;">辅助按钮长按时的回调函数</td></tr><tr><td>8</td><td>onSecondaryLongPressStart</td><td>GestureLongPressStartCallback</td><td style="width:273px;">辅助按钮长按并开始拖动时的回调函数</td></tr><tr><td>9</td><td>onSecondaryLongPressMoveUpdate</td><td>GestureLongPressMoveUpdateCallback</td><td style="width:273px;">辅助按钮长按并移动时的回调函数</td></tr><tr><td>10</td><td>onSecondaryLongPressUp</td><td>GestureLongPressUpCallback</td><td style="width:273px;">辅助按钮长按并松开时的回调函数</td></tr><tr><td>11</td><td>onSecondaryLongPressEnd</td><td>GestureLongPressEndCallback</td><td style="width:273px;">辅助按钮长按结束拖动时的回调函数</td></tr></tbody></table> 
<h2>10.三指触发手势</h2> 
<table border="1" cellpadding="1" cellspacing="1" style="width:698px;"><thead><tr><th>序列号</th><th>字段</th><th>属性</th><th style="width:318px;">描述</th></tr></thead><tbody><tr><td>1</td><td>onTertiaryTapDown</td><td>GestureTapDownCallback</td><td style="width:318px;">三指按下时的回调函数</td></tr><tr><td>2</td><td>onTertiaryTapUp</td><td>GestureTapUpCallback</td><td style="width:318px;">三指点击时的回调函数</td></tr><tr><td>3</td><td>onTertiaryTapCancel</td><td>GestureTapCancelCallback</td><td style="width:318px;">三指取消时的回调函数</td></tr><tr><td>4</td><td>onTertiaryLongPressDown</td><td>GestureLongPressDownCallback</td><td style="width:318px;">三指按下去时的回调函数</td></tr><tr><td>5</td><td>onTertiaryLongPressCancel</td><td>GestureLongPressCancelCallback</td><td style="width:318px;">三指长按取消时的回调函数</td></tr><tr><td>6</td><td>onTertiaryLongPress</td><td>GestureLongPressCallback</td><td style="width:318px;">三指长按时的回调函数</td></tr><tr><td>7</td><td>onTertiaryLongPressStart</td><td>GestureLongPressStartCallback</td><td style="width:318px;">三指长按并开始拖动时的回调函数</td></tr><tr><td>8</td><td>onTertiaryLongPressMoveUpdate</td><td>GestureLongPressMoveUpdateCallback</td><td style="width:318px;">三指长按并移动时的回调函数</td></tr><tr><td>9</td><td>onTertiaryLongPressUp</td><td>GestureLongPressUpCallback</td><td style="width:318px;">三指长按并松开时的回调函数</td></tr><tr><td>10</td><td>onTertiaryLongPressEnd</td><td>GestureLongPressEndCallback</td><td style="width:318px;">三指长按结束拖动时的回调函数</td></tr></tbody></table> 
<h2>11.其他属性</h2> 
<table border="1" cellpadding="1" cellspacing="1" style="width:640px;"><thead><tr><th>序列号</th><th>字段</th><th>属性</th><th style="width:262px;">描述</th></tr></thead><tbody><tr><td>1</td><td>child</td><td>Widget</td><td style="width:262px;">子组件</td></tr><tr><td>2</td><td>behavior</td><td>HitTestBehavior</td><td style="width:262px;">在命中测试期间如何表现</td></tr><tr><td>3</td><td>excludeFromSemantics</td><td>bool</td><td style="width:262px;">是否从语义树中排除这些手势，默认false</td></tr><tr><td>4</td><td>dragStartBehavior</td><td>DragStartBehavior</td><td style="width:262px;">拖拽行为的处理方式</td></tr></tbody></table> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/04602ec2f141a02dbf58c5b20cecf511/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python 多进程windows报错 linux不报错 TypeError: cannot pickle ‘_thread.lock‘ object</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5dfd965d7c55a2adf4a0702ccec93637/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">动态组件、keep-alive、异步组件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>