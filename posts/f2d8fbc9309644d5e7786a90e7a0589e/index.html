<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>解决vue项目，运行npm install安装报缺少c&#43;&#43;库问题 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="解决vue项目，运行npm install安装报缺少c&#43;&#43;库问题" />
<meta property="og:description" content="项目是前后端分离架构，前端使用的是vue框架，在部署前端项目时，需要下载安装一些基础的镜像配置，包括一些预处理，但是在使用npm install和yarn install命令时出现了如下错误，查阅资料总结如下：
1、前端项目部署之前，需要先准备两个环境： 安装Node.js：https://nodejs.org/en/download安装Yarn：https://classic.yarnpkg.com/en/docs/install#windows-stable 2、报错问题 使用命令npm install安装插件，该命令会将package.json的devDependencies字段里的插件会被自动安装到node_modules下，但是报出了以下错误
使用命令yarn install --ignore-engines
3、错误原因 从上述可以看出报错是因为找不到Visual Studio编译环境，其实在此之前是找不到python编译环境。
找不到python编译环境 gyp ERR! stack Error: Could not find any Python installation to use 找不到Visual C&#43;&#43;编译环境 gyp ERR! stack Error: Could not find any Visual Studio installation to use npm安装工具底层依赖于Python和Visio Studio编译环境，出现上述情况大多情况下就是没有安装这两个编译环境，或者是版本不匹配造成的。以下是一些博主的知道安装博文，也可以自行在官网下载安装：
在windows上安装visual studio
python的安装
注意安装完成之后，需要将路径配置到环境变量中。如果你嫌麻烦也可以直接看下一步
解决方案
以管理员权限打开cmd，在项目目录下执行：npm install --global --production windows-build-tools
构建完成后，会在C:\Users\电脑用户名 目录下创建.windows-build-tools文件夹
npm install --global --production windows-build-tools此命令的作用就是全局安装所需要的默认编译环境，python和VS。
此命令完成后，也必须配置环境变量，将
C:\Users**.windows-build-tools\python27C:\Users**.windows-build-tools\Microsoft VS Code\bin
地址添加到path环境变量中。 如果经过上述操作还没有解决，其实我就是没有解决才总计到这一步的：
无奈之间我突然看到日志中的一个url：
我就点击去看了以下，顺便往下巴拉巴拉，突然看到了这个：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/f2d8fbc9309644d5e7786a90e7a0589e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-11T14:43:22+08:00" />
<meta property="article:modified_time" content="2024-03-11T14:43:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">解决vue项目，运行npm install安装报缺少c&#43;&#43;库问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>项目是前后端分离架构，前端使用的是vue框架，在部署前端项目时，需要下载安装一些基础的镜像配置，包括一些预处理，但是在使用npm install和yarn install命令时出现了如下错误，查阅资料总结如下：</p> 
<h2><a id="1_2"></a>1、前端项目部署之前，需要先准备两个环境：</h2> 
<ul><li>安装Node.js：<a rel="nofollow">https://nodejs.org/en/download</a></li><li>安装Yarn：<a href="https://classic.yarnpkg.com/en/docs/install#windows-stable" rel="nofollow">https://classic.yarnpkg.com/en/docs/install#windows-stable</a></li></ul> 
<h2><a id="2_6"></a>2、报错问题</h2> 
<p>使用命令npm install安装插件，该命令会将package.json的devDependencies字段里的插件会被自动安装到node_modules下，但是报出了以下错误<br> <img src="https://images2.imgbox.com/5a/49/MEr9A6ef_o.png" alt="在这里插入图片描述"><br> 使用命令yarn install --ignore-engines<br> <img src="https://images2.imgbox.com/16/52/cJGAFMV5_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="3_11"></a>3、错误原因</h2> 
<p>从上述可以看出报错是因为找不到Visual Studio编译环境，其实在此之前是找不到python编译环境。</p> 
<ul><li>找不到python编译环境</li></ul> 
<pre><code class="prism language-java">gyp <span class="token constant">ERR</span><span class="token operator">!</span> stack <span class="token class-name">Error</span><span class="token operator">:</span> <span class="token class-name">Could</span> not find any <span class="token class-name">Python</span> installation <span class="token keyword">to</span> <span class="token namespace">use</span>
</code></pre> 
<ul><li>找不到Visual C++编译环境</li></ul> 
<pre><code>gyp ERR! stack Error: Could not find any Visual Studio installation to use
</code></pre> 
<p>npm安装工具底层依赖于Python和Visio Studio编译环境，出现上述情况大多情况下就是没有安装这两个编译环境，或者是版本不匹配造成的。以下是一些博主的知道安装博文，也可以自行在官网下载安装：</p> 
<ul><li> <p><a href="https://blog.csdn.net/zjtimef/article/details/105724744?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85Visiostudio&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-105724744.142%5Ev5%5Econtrol,143%5Ev6%5Eregister&amp;spm=1018.2226.3001.4187">在windows上安装visual studio</a></p> </li><li> <p><a href="https://blog.csdn.net/nmjuzi/article/details/79075736?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=%E5%AE%89%E8%A3%85python&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-79075736.nonecase&amp;spm=1018.2226.3001.4187">python的安装</a></p> </li><li> <p>注意安装完成之后，需要将路径配置到环境变量中。如果你嫌麻烦也可以直接看下一步<br> 解决方案<br> 以管理员权限打开cmd，在项目目录下执行：<strong>npm install --global --production windows-build-tools</strong></p> </li></ul> 
<p><img src="https://images2.imgbox.com/3c/79/xpu7AwHC_o.png" alt="在这里插入图片描述"><br> 构建完成后，会在C:\Users\电脑用户名 目录下创建.windows-build-tools文件夹</p> 
<p><img src="https://images2.imgbox.com/47/fb/cPY7aajE_o.png" alt="在这里插入图片描述"><br> npm install --global --production windows-build-tools此命令的作用就是全局安装所需要的默认编译环境，python和VS。</p> 
<p>此命令完成后，也必须配置环境变量，将</p> 
<ul><li>C:\Users**.windows-build-tools\python27</li><li>C:\Users**.windows-build-tools\Microsoft VS Code\bin<br> 地址添加到path环境变量中。</li></ul> 
<p><strong>如果经过上述操作还没有解决，其实我就是没有解决才总计到这一步的：</strong></p> 
<p>无奈之间我突然看到日志中的一个url：<br> 我就点击去看了以下，顺便往下巴拉巴拉，突然看到了这个：<br> <img src="https://images2.imgbox.com/b4/b5/Kk5PXHhE_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/5f/eb/UMKUQ3YX_o.png" alt="在这里插入图片描述"><br> 根据上述的猜测及推断，既然报错原因是：Error: Could not find any Visual Studio installation to use<br> 那肯定是编译的时候找不到对应的Visual Studio版本路径，所以才无法使用报错。</p> 
<p>我安装的VS是目前的最新版本2022，执行以下命令：</p> 
<pre><code>npm config set msvs_version 2022
</code></pre> 
<p>这次我信誓旦旦的重新npm install和yarn install --ignore-engines，结果再次打脸，现实淹没理想就是这么快，依然报一样的错误，心态有点蹦了！！！</p> 
<p>我想了很久，该安装的环境我都安装了，也没有亏待它，到底是哪出错了！！！</p> 
<p>我不自觉的点了根烟，唏嘘着，回忆着这一天一步步的bug和坑。</p> 
<p>这次我又突然想到，刚才上述执行命令npm install --global --production windows-build-tools时，默认下载的python安装包是2.7，而我本地安装的是最新版本3.10，报错日志中找不到Visual Studio，默认2017和2015版本的，而我本地安装的是最新2022版本的。</p> 
<p>然后我就赶紧找相关资料，发现部分npm组件在安装时只支持python2.X版本，而系统默认的是python3.X，而我恰巧安装的也是python3.X，Visual Studio2019和2015、2017的差距不是很大，但是最好不要用最新版的，因为很多组件都是中期版本，不算太老，但是很多时候也不能兼容最新版本。</p> 
<p>既然这些环境的版本受限制，那么nodejs估计也会受一定的影响，我本地安装的是14.X的相对也是较高的，所以我也趁着将nodejs降低版本重新安装，采用12.X的。</p> 
<h3><a id="4_73"></a>4、综上考虑，重新更换基础环境版本：</h3> 
<p>nodejs12.X<br> Python2.X<br> Visual Studio2019<br> 最好是官网下载手动安装配置环境变量！！！</p> 
<p>终极测试<br> 上述环境配置完成后，小心翼翼的打开项目cmd窗口，执行npm install<br> <img src="https://images2.imgbox.com/56/ba/M7I5dtHu_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/87/bb/D4qJZC2d_o.png" alt="在这里插入图片描述"><br> 再执行命令yarn install --ignore-engines<br> <img src="https://images2.imgbox.com/62/13/SX0slWK3_o.png" alt="在这里插入图片描述"><br> 看到这我这一把老脸真是欣慰良久，我嘞老天爷哎，成功了！！！</p> 
<h3><a id="5_88"></a>5、最后总结</h3> 
<p>一个搞后端的，说实话搞前端是真折磨人，这种感觉就跟那啥昂，你想想，后端报错最起码知道从哪入手去排错，这前端TM报个错，千篇一律，比那啥还那啥，说实话真憋屈，这辈子不会搞前端。</p> 
<p>不过经过这一天的排错，改bug，也算是有一点小收获，不管是啥bug，只要耐着性子去找，就一定能够找到解决。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2919cf638ac9a8d5d208940953747187/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">伪类选择器:hover，:active失效问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a1dad39cb5faaf9ed264fe87573f6ce5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SpringBoot_NamedParameterJdbcTemplate介绍及使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>