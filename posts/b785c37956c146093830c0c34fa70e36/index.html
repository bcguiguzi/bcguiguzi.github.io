<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>cmd基础命令 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="cmd基础命令" />
<meta property="og:description" content="cmd基础命令 常用规则 @echo off：关闭所有回显包括本身，不然每一行都会显示在cmd包括注释，去掉可用作调查；@表示后面的命令不显示。
-
echo.：换行。
exit /b 1：
exit：退出当前cmd窗口实例。exit 0：退出当前cmd窗口实例，并将过程退出代码设置为0（0表示成功，非0表示失败）。exit /B 1：退出当前bat脚本，并将ERRORLEVEL系统变量设置为1。 pause：不加执行完会直接推出cmd窗口，加了最后会提醒出入回车关闭窗口。
参数：
%~dp0：%~d0取驱动盘名，%~p0取路径名，不含驱动盘名；扩充到当前目录。%CD%：扩展到当前目录。%~1：代表传给脚本的第一个参数，当参数以引号开头时，%~1会自动将引号删除。 %errorlevel%：DOS程序在运行结束后会返回一个数字值用来表示程序运行的结果（或者状态），0表示成功，&gt;0表示失败。
SET变量相关 set var=string：给变量赋值字符串，“string”的话显示值也会带引号。
set var：显示值。
set var=：删除该变量。
set /p var=：var值为输入字符串。
%VAR:str1=str2%：字符替换，把把变量名中的str1字符串替换成str2，没有就不换；&#34;%VAR:R=%&#34;，去掉R。
%VAR:~0,24%：字符串截取，把变量从第1个字符开始（包括）截取24个字符，0第一个char，-1最后一个，-2倒数第二。
使用环境变量：
-
set BUILD_SUPPORT=C:\Users\Z0178023\myPrj\FRGen21_Tools %FRGen21_BuildSupport% 我们没有定义，但是环境变量有与上面会先消息一致。
setlocal：局部变量。setlocal到endlocal之间给变量赋值，仅在这区间有效；或者没有endlocal；一般set只会在下一条语句生效，加上setlocal。
if相关语句 基本规则：if和执行的命令，if和else，要在同一行，不然是错的。例如：if exist filename( echo yes! )ELSE( echo NO1 echo NO2 ) If not exist或exist，一般是不存在那个目录或文件。equ/==：等于，neq：不等于，lss：小于，leq：小于等于，gtr：大于，geq：大于等于。注意：空格，空格不加会报语法错误。if &#34;%ALGORITHMRAW_NAME_NEW%&#34;==&#34;&#34; ( for语句必看 for %%i in (*.*) do echo %%i：无参数。in在某些文件中，for %%i对于其中的某个文件，do做下面处理。for %%i in (A，B，C) do echo %%i：无参数，处理字符串序列。/l是重要的参数之一，用来指定数值变量的步进循环模式。 for /l %%i in (5,3,16) do echo %%i：从5开始到16为止每次递增3作为变量%%i的值，5 8 11 14，do做下面处理。 /f对指定范围内的文字进行循环，可以是一个文件里的文字，可以是一个字符串，也可以是一条命令的输出结果： 将命令返回结果用作处理，用单引号：for %I in (&#39;command&#39;) do command。兼容usebackq： 路劲兼容，用双引号：for %I in (&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/b785c37956c146093830c0c34fa70e36/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-23T20:25:33+08:00" />
<meta property="article:modified_time" content="2023-09-23T20:25:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">cmd基础命令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="cmd_0"></a>cmd基础命令</h2> 
<h3><a id="_2"></a>常用规则</h3> 
<ul><li> <p><code>@echo off</code>：关闭所有回显包括本身，不然每一行都会显示在cmd包括注释，去掉可用作调查；<code>@</code>表示后面的命令不显示。<br> -<img src="https://images2.imgbox.com/5c/3f/IXXooI0G_o.png" alt="在这里插入图片描述"></p> </li><li> <p><code>echo.</code>：换行。</p> </li><li> <p><code>exit /b 1</code>：</p> 
  <ul><li><code>exit</code>：退出当前cmd窗口实例。</li><li><code>exit 0</code>：退出当前cmd窗口实例，并将过程退出代码设置为0（0表示成功，非0表示失败）。</li><li><code>exit /B 1</code>：退出当前bat脚本，并将ERRORLEVEL系统变量设置为1。</li></ul> </li><li> <p><code>pause</code>：不加执行完会直接推出cmd窗口，加了最后会提醒出入回车关闭窗口。</p> </li><li> <p>参数：</p> 
  <ul><li><code>%~dp0</code>：<code>%~d0</code>取驱动盘名，<code>%~p0</code>取路径名，不含驱动盘名；扩充到当前目录。</li><li><code>%CD%</code>：扩展到当前目录。</li><li><code>%~1</code>：代表传给脚本的第一个参数，当参数以引号开头时，<code>%~1</code>会自动将引号删除。</li></ul> </li><li> <p><code>%errorlevel%</code>：DOS程序在运行结束后会返回一个数字值用来表示程序运行的结果（或者状态），0表示成功，&gt;0表示失败。</p> </li></ul> 
<h3><a id="SET_18"></a>SET变量相关</h3> 
<ul><li> <p><code>set var=string</code>：给变量赋值字符串，“string”的话显示值也会带引号。</p> </li><li> <p><code>set var</code>：显示值。</p> </li><li> <p><code>set var=</code>：删除该变量。</p> </li><li> <p><code>set /p var=</code>：var值为输入字符串。</p> </li><li> <p><code>%VAR:str1=str2%</code>：字符替换，把把变量名中的str1字符串替换成str2，没有就不换；<code>"%VAR:R=%"</code>，去掉R。</p> </li><li> <p><code>%VAR:~0,24%</code>：字符串截取，把变量从第1个字符开始（包括）截取24个字符，0第一个char，-1最后一个，-2倒数第二。</p> </li><li> <p>使用环境变量：<br> -<img src="https://images2.imgbox.com/67/03/5uQWzPPG_o.png" alt="在这里插入图片描述"></p> <pre><code>set BUILD_SUPPORT=C:\Users\Z0178023\myPrj\FRGen21_Tools
%FRGen21_BuildSupport%
</code></pre> <p><img src="https://images2.imgbox.com/06/49/RdTyEZ6N_o.png" alt="在这里插入图片描述"></p> <p>我们没有定义，但是环境变量有与上面会先消息一致。</p> </li><li> <p><code>setlocal</code>：局部变量。setlocal到endlocal之间给变量赋值，仅在这区间有效；或者没有endlocal；一般set只会在下一条语句生效，加上setlocal。</p> </li></ul> 
<h3><a id="if_37"></a>if相关语句</h3> 
<ul><li>基本规则：<code>if</code>和执行的命令，<code>if</code>和<code>else</code>，要在同一行，不然是错的。例如：<pre><code>if exist filename(
    echo yes!
)ELSE(
    echo NO1
    echo NO2
)
</code></pre> </li><li><code>If not exist</code>或<code>exist</code>，一般是不存在那个目录或文件。</li><li><code>equ/==</code>：等于，<code>neq</code>：不等于，<code>lss</code>：小于，<code>leq</code>：小于等于，<code>gtr</code>：大于，<code>geq</code>：大于等于。</li><li>注意：空格，空格不加会报语法错误。<pre><code>if "%ALGORITHMRAW_NAME_NEW%"=="" (
</code></pre> </li></ul> 
<h3><a id="for_54"></a>for语句必看</h3> 
<ul><li><code>for %%i in (*.*) do echo %%i</code>：无参数。<code>in</code>在某些文件中，<code>for %%i</code>对于其中的某个文件，<code>do</code>做下面处理。</li><li><code>for %%i in (A，B，C) do echo %%i</code>：无参数，处理字符串序列。</li><li><code>/l</code>是重要的参数之一，用来指定数值变量的步进循环模式。 
  <ul><li><code>for /l %%i in (5,3,16) do echo %%i</code>：从5开始到16为止每次递增3作为变量<code>%%i</code>的值，5 8 11 14，<code>do</code>做下面处理。</li></ul> </li><li><code>/f</code>对指定范围内的文字进行循环，可以是一个文件里的文字，可以是一个字符串，也可以是一条命令的输出结果： 
  <ul><li>将命令返回结果用作处理，用单引号：<code>for %I in ('command') do command</code>。</li><li>兼容<code>usebackq</code>： 
    <ul><li>路劲兼容，用双引号：<code>for %I in ("path") do command</code>。</li><li>命令兼容，在命令批处理中（<code>i</code>），如果<code>command</code>内包含单引号，所以无法识别，用后引号：<pre><code>for %I in (`command`) do command
</code></pre> 
      <ul><li><code>for /f "usebackq delims==" %%i in (</code>“@dir /b %ALGORITHM%\ZZZ_Build_Products*APU*_%RADAR_TYPE%.raw”<code>) do @set ALGORITHMRAW_NAME=%%i</code></li><li>这里不加<code>""</code>也可以，直接后引号。</li></ul> </li></ul> </li><li><code>"delims="</code>：分隔符，一句话总结：忽略分隔符，切分字符串。默认分隔符空格，<code>delims==</code>分隔符为=，所以<code>delims=usebackq</code>设置分隔符空格。</li></ul> </li></ul> 
<h3><a id="_71"></a>重定向和管道</h3> 
<ul><li><code>&gt;</code>：覆盖，将命令的输出重定向到文件中，但是会清除原来文件中内容。</li><li><code>&gt;&gt;</code>：追加，将命令的输出重定向文件中，不会清除原来文件中的内容，会将内容追加到文件尾部。</li><li><code>&lt;</code>：将某个文件中的内容重定向为输入。例如：<code>set /p myvar=&lt;sss.txt</code>，从sss.txt中读入一行放入myvar中。</li><li><code>NUL</code>：空设备，类似于linux的<code>/dev/null</code>。</li></ul> 
<h3><a id="_77"></a>目录命令</h3> 
<ul><li><code>cd</code>：进入到目录。</li><li><code>md</code>：创建文件夹。</li><li><code>rd</code>：删除文件夹。</li><li><code>dir</code>：显示目录中的文件和子目录列表，子目录里的文件不显示，包括时间戳，多少个文件，大小。 
  <ul><li><code>/b</code>：仅显示该目录下的文件和子目录名，不显示上面的大小什么的。</li></ul> </li><li><code>xcopy</code>：复制文件和目录树。 
  <ul><li>无参数：<code>xcopy .\aa .\dd</code>，只拷贝aa目录下的文件，不拷贝文件夹。发现dd只有1.txt文件，不同于linux下的cp。</li><li><code>/s</code>：<code>xcopy /s .\aa .\dd</code>，递归，把该目录下(aa)的文件及子目录中文件一起拷贝，除了空文件夹。拷贝aa的1.txt和bb\2.txt（包括bb文件夹）到dd。</li><li><code>/e</code>：同<code>/s</code>，但是包括空文件夹。</li><li><code>/q</code>：同下。</li><li><code>/Y</code>：进行拷贝时不提示是否确认Y or N。</li></ul> </li><li>文件命令： 
  <ul><li> <p><code>del</code>：删除一个或多个文件。</p> 
    <ul><li>参数： 
      <ul><li><code>/f</code>：强制删除只读文件，不加不能删除系统文件。</li><li><code>/s</code>：递归删除，删除指定目录及其子目录下的文件；<code>del /s .\aa\aaa.txt</code>，aa下的子目录中的aaa.txt也会删除。</li><li><code>/q</code>：不询问，比如说删除文件夹会询问YES/NO，加了这个参数就不会问，直接删除。</li></ul> </li><li><code>del .\aa\aaa.txt</code>：一定要加<code>.</code>，或者直接写绝对路径；不然就识别不到file。</li></ul> </li><li> <p><code>type</code>：显示文本文件的内容。</p> 
    <ul><li><code>type test.txt</code>：把txt文件的内容显示到cmd，一定要加后缀。</li><li><code>type nul&gt;test</code>：在当前目录创建一个叫test的空文件/</li><li><code>type a.txt b.txt&gt;c.txt</code>：合并文件</li></ul> </li><li> <p><code>copy</code>：将一份或多份文件复制到另一个位置,可以实现改名。</p> 
    <ul><li>copy C:\test*.* D:\back (复制C盘test文件夹的所有文件(不包括文件夹及子文件夹里的东西)到D盘的back文件夹)</li></ul> </li><li> <p><code>attrib</code>：文件属性设置</p> 
    <ul><li>attrib -r <em>.</em> /S /D 【-清除 +设置 ； 清除只读属性-哪些文件-处理当前文件夹和所有子文件夹中的匹配文件-同时处理文件夹】</li></ul> </li><li> <p><code>ren</code>：重命名文件，ren 路径/文件名（相对或绝对） 文件名，不能指定目标文件的路径</p> </li></ul> </li><li><code>objcopy.exe</code> 
  <ul><li>相当于linux的objcopy命令，用于格式转化和裁剪文件；可以利用objcopy选项来填充生成的bin文件。</li><li>参数 
    <ul><li>–pad-to=address： 填充输出文件到虚拟地址address</li><li>–gap-fill = 0xff是objcopy的参数，表示在拷贝过程中，用0xff来填充段与段之间的空隙</li></ul> </li></ul> </li><li><code>srec_cat </code>：格式转化</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f296e546d6526a0b2f2bd1049215f9b8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">CMakelist专题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8065bac38ad94d95077de6dcf30d16c7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">QNX启动流程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>