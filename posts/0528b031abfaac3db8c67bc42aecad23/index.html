<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>webpack 的工作流程 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="webpack 的工作流程" />
<meta property="og:description" content="webpack 是一种模块打包工具，可以将各类型的资源，例如图片、CSS、JS 等，转译组合为 JS 格式的 bundle 文件。
webpack 构建的核心任务是完成内容转化和资源合并。主要包含以下 3 个阶段：
1. 初始化阶段
初始化参数：从配置文件、配置对象和 Shell 参数中读取并与默认参数进行合并，
组合成最终使用的参数。
创建编译对象：用上一步得到的参数创建 Compiler 对象。
初始化编译环境：包括注入内置插件、注册各种模块工厂、初始化 RuleSet 集合、
加载配置的插件等。
2. 构建阶段
开始编译：执行 Compiler 对象的 run 方法，创建 Compilation 对象。
确认编译入口：进入 entryOption 阶段，读取配置的 Entries，递归遍历所有的入
口文件，调用 Compilation.addEntry 将入口文件转换为 Dependency 对象。
编译模块（make） ： 调用 normalModule 中的 build 开启构建，从 entry 文件
开始，调用 loader 对模块进行转译处理，然后调用 JS 解释器（acorn）将内容转 化为 AST 对象，然后递归分析依赖，依次处理全部文件。
完成模块编译：在上一步处理好所有模块后，得到模块编译产物和依赖关系图。
3. 生成阶段
输出资源（seal） ：根据入口和模块之间的依赖关系，组装成多个包含多个模块的
Chunk，再把每个 Chunk 转换成一个 Asset 加入到输出列表，这步是可以修改输 出内容的最后机会。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/0528b031abfaac3db8c67bc42aecad23/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-07T12:42:12+08:00" />
<meta property="article:modified_time" content="2022-01-07T12:42:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">webpack 的工作流程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>webpack 是一种模块打包工具，可以将各类型的资源，例如图片、CSS、JS 等，转译组合为 JS 格式的 bundle 文件。</p> 
<p>webpack 构建的核心任务是完成内容转化和资源合并。主要包含以下 3 个阶段：</p> 
<p><strong>1. 初始化阶段</strong><br> 初始化参数：从配置文件、配置对象和 Shell 参数中读取并与默认参数进行合并，<br> 组合成最终使用的参数。<br> 创建编译对象：用上一步得到的参数创建 Compiler 对象。<br> 初始化编译环境：包括注入内置插件、注册各种模块工厂、初始化 RuleSet 集合、<br> 加载配置的插件等。<br> <strong>2. 构建阶段</strong><br> 开始编译：执行 Compiler 对象的 run 方法，创建 Compilation 对象。<br> 确认编译入口：进入 entryOption 阶段，读取配置的 Entries，递归遍历所有的入<br> 口文件，调用 Compilation.addEntry 将入口文件转换为 Dependency 对象。<br> 编译模块（make） ： 调用 normalModule 中的 build 开启构建，从 entry 文件<br> 开始，调用 loader 对模块进行转译处理，然后调用 JS 解释器（acorn）将内容转 化为 AST 对象，然后递归分析依赖，依次处理全部文件。<br> 完成模块编译：在上一步处理好所有模块后，得到模块编译产物和依赖关系图。<br> <strong>3. 生成阶段</strong><br> 输出资源（seal） ：根据入口和模块之间的依赖关系，组装成多个包含多个模块的<br> Chunk，再把每个 Chunk 转换成一个 Asset 加入到输出列表，这步是可以修改输 出内容的最后机会。<br> 写入文件系统（emitAssets） ：确定好输出内容后，根据配置的 output 将内容写<br> 入文件系统。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/abcb395d00c9ad5fe42a3c256188b874/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">虚拟机ubuntu通过fdisk命令扩充硬盘容量，分区简单说明</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f98d04b86d7420350028604ce6d90a73/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Vue 的 computed 和 watch 的区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>