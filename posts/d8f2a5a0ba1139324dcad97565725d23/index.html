<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>spring boot 2.4.x 之前版本(对应spring-cloud-openfeign 3.0.0之前版本)feign请求异常逻辑 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="spring boot 2.4.x 之前版本(对应spring-cloud-openfeign 3.0.0之前版本)feign请求异常逻辑" />
<meta property="og:description" content="目录
feign
SynchronousMethodHandler
第一部分
第二部分
第三部分
spring-cloud-openfeign
LoadBalancerFeignClient
ribbon
AbstractLoadBalancerAwareClient
在之前写的文章配置基础上
https://blog.csdn.net/zlpzlpzyd/article/details/136060312
因为从 spring boot 2.4.x 版本开始，匹配的 spring cloud 版本中去除了负载均衡组件 ribbon，可以看本人写的如下链接
https://blog.csdn.net/zlpzlpzyd/article/details/135696320
如果一定要使用 ribbon 相关功能，需要单独指定版本引入，spring 官方为了 ribbon 被移除的问题，自己开发了 spring-cloud-starter-loadbalancer。
feign设置参数如下
feign: client: config: default: connectTimeout: 1000 readTimeout: 1000 服务提供者逻辑
@RestController @RequestMapping(value = &#34;user&#34;) public class UserController implements Serializable { @GetMapping(value = &#34;{id}&#34;) public User getUser(@PathVariable(value = &#34;id&#34;) String id) { // int no = 1/0; try { TimeUnit.SECONDS.sleep(5); } catch (InterruptedException e) { throw new RuntimeException(e); } User user = new User(); user." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/d8f2a5a0ba1139324dcad97565725d23/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-09T22:09:34+08:00" />
<meta property="article:modified_time" content="2024-03-09T22:09:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">spring boot 2.4.x 之前版本(对应spring-cloud-openfeign 3.0.0之前版本)feign请求异常逻辑</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="feign-toc" style="margin-left:0px;"><a href="#feign" rel="nofollow">feign</a></p> 
<p id="SynchronousMethodHandler-toc" style="margin-left:40px;"><a href="#SynchronousMethodHandler" rel="nofollow">SynchronousMethodHandler</a></p> 
<p id="%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86-toc" style="margin-left:80px;"><a href="#%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86" rel="nofollow">第一部分</a></p> 
<p id="%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86-toc" style="margin-left:80px;"><a href="#%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86" rel="nofollow">第二部分</a></p> 
<p id="%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86-toc" style="margin-left:80px;"><a href="#%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86" rel="nofollow">第三部分</a></p> 
<p id="spring-cloud-openfeign-toc" style="margin-left:0px;"><a href="#spring-cloud-openfeign" rel="nofollow">spring-cloud-openfeign</a></p> 
<p id="LoadBalancerFeignClient-toc" style="margin-left:40px;"><a href="#LoadBalancerFeignClient" rel="nofollow">LoadBalancerFeignClient</a></p> 
<p id="ribbon-toc" style="margin-left:0px;"><a href="#ribbon" rel="nofollow">ribbon</a></p> 
<p id="AbstractLoadBalancerAwareClient-toc" style="margin-left:40px;"><a href="#AbstractLoadBalancerAwareClient" rel="nofollow">AbstractLoadBalancerAwareClient</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p></p> 
<p>在之前写的文章配置基础上</p> 
<p><a href="https://blog.csdn.net/zlpzlpzyd/article/details/136060312" title="https://blog.csdn.net/zlpzlpzyd/article/details/136060312">https://blog.csdn.net/zlpzlpzyd/article/details/136060312</a></p> 
<p></p> 
<p>因为从 spring boot 2.4.x 版本开始，匹配的 spring cloud 版本中去除了负载均衡组件 ribbon，可以看本人写的如下链接</p> 
<p><a href="https://blog.csdn.net/zlpzlpzyd/article/details/135696320" title="https://blog.csdn.net/zlpzlpzyd/article/details/135696320">https://blog.csdn.net/zlpzlpzyd/article/details/135696320</a></p> 
<p><span style="color:#fe2c24;">如果一定要使用 ribbon 相关功能，需要单独指定版本引入，spring 官方为了 ribbon 被移除的问题，自己开发了 spring-cloud-starter-loadbalancer。</span></p> 
<p></p> 
<p>feign设置参数如下</p> 
<pre><code class="language-java">feign:
  client:
    config:
      default:
        connectTimeout: 1000
        readTimeout: 1000</code></pre> 
<p>服务提供者逻辑</p> 
<pre><code class="language-java">@RestController
@RequestMapping(value = "user")
public class UserController implements Serializable {

    @GetMapping(value = "{id}")
    public User getUser(@PathVariable(value = "id") String id) {
        // int no = 1/0;
        try {
            TimeUnit.SECONDS.sleep(5);
        } catch (InterruptedException e) {
            throw new RuntimeException(e);
        }
        User user = new User();
        user.setId(id);
        user.setUserName("user_name_"+ id);
        user.setAge("20");
        return user;
    }

}</code></pre> 
<p>可知，feign 调用此服务会出现超时问题。</p> 
<p></p> 
<p>异常堆栈调用如下</p> 
<pre><code class="language-java">0 = {StackTraceElement@8542} "java.net.SocketInputStream.socketRead0(Native Method)"
1 = {StackTraceElement@8543} "java.net.SocketInputStream.socketRead(SocketInputStream.java:116)"
2 = {StackTraceElement@8544} "java.net.SocketInputStream.read(SocketInputStream.java:171)"
3 = {StackTraceElement@8545} "java.net.SocketInputStream.read(SocketInputStream.java:141)"
4 = {StackTraceElement@8546} "java.io.BufferedInputStream.fill(BufferedInputStream.java:246)"
5 = {StackTraceElement@8547} "java.io.BufferedInputStream.read1(BufferedInputStream.java:286)"
6 = {StackTraceElement@8548} "java.io.BufferedInputStream.read(BufferedInputStream.java:345)"
7 = {StackTraceElement@8549} "sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:735)"
8 = {StackTraceElement@8550} "sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:678)"
9 = {StackTraceElement@8551} "sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1593)"
10 = {StackTraceElement@8552} "sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1498)"
11 = {StackTraceElement@8553} "java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)"
12 = {StackTraceElement@8554} "feign.Client$Default.convertResponse(Client.java:113)"
13 = {StackTraceElement@8555} "feign.Client$Default.execute(Client.java:109)"
14 = {StackTraceElement@8556} "org.springframework.cloud.openfeign.ribbon.FeignLoadBalancer.execute(FeignLoadBalancer.java:98)"
15 = {StackTraceElement@8557} "org.springframework.cloud.openfeign.ribbon.FeignLoadBalancer.execute(FeignLoadBalancer.java:56)"
16 = {StackTraceElement@8558} "com.netflix.client.AbstractLoadBalancerAwareClient$1.call(AbstractLoadBalancerAwareClient.java:103)"
17 = {StackTraceElement@8559} "com.netflix.loadbalancer.reactive.LoadBalancerCommand$3$1.call(LoadBalancerCommand.java:303)"
18 = {StackTraceElement@8560} "com.netflix.loadbalancer.reactive.LoadBalancerCommand$3$1.call(LoadBalancerCommand.java:287)"
19 = {StackTraceElement@8561} "rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:231)"
20 = {StackTraceElement@8562} "rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:228)"
21 = {StackTraceElement@8563} "rx.Observable.unsafeSubscribe(Observable.java:10327)"
22 = {StackTraceElement@8564} "rx.internal.operators.OnSubscribeConcatMap$ConcatMapSubscriber.drain(OnSubscribeConcatMap.java:286)"
23 = {StackTraceElement@8565} "rx.internal.operators.OnSubscribeConcatMap$ConcatMapSubscriber.onNext(OnSubscribeConcatMap.java:144)"
24 = {StackTraceElement@8566} "com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:185)"
25 = {StackTraceElement@8567} "com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:180)"
26 = {StackTraceElement@8568} "rx.Observable.unsafeSubscribe(Observable.java:10327)"
27 = {StackTraceElement@8569} "rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:94)"
28 = {StackTraceElement@8570} "rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:42)"
29 = {StackTraceElement@8571} "rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)"
30 = {StackTraceElement@8572} "rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)"
31 = {StackTraceElement@8573} "rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)"
32 = {StackTraceElement@8574} "rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)"
33 = {StackTraceElement@8575} "rx.Observable.subscribe(Observable.java:10423)"
34 = {StackTraceElement@8576} "rx.Observable.subscribe(Observable.java:10390)"
35 = {StackTraceElement@8577} "rx.observables.BlockingObservable.blockForSingle(BlockingObservable.java:443)"
36 = {StackTraceElement@8578} "rx.observables.BlockingObservable.single(BlockingObservable.java:340)"
37 = {StackTraceElement@8579} "com.netflix.client.AbstractLoadBalancerAwareClient.executeWithLoadBalancer(AbstractLoadBalancerAwareClient.java:110)"
38 = {StackTraceElement@8580} "org.springframework.cloud.openfeign.ribbon.LoadBalancerFeignClient.execute(LoadBalancerFeignClient.java:84)"
39 = {StackTraceElement@8581} "feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:125)"
40 = {StackTraceElement@8582} "feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:94)"
41 = {StackTraceElement@8583} "feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)"
42 = {StackTraceElement@8584} "com.sun.proxy.$Proxy71.getUser(Unknown Source)"
43 = {StackTraceElement@8585} "com.example.feign.consumer.controller.FeignController.test(FeignController.java:22)"
44 = {StackTraceElement@8586} "sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)"
45 = {StackTraceElement@8587} "sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)"
46 = {StackTraceElement@8588} "sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)"
47 = {StackTraceElement@8589} "java.lang.reflect.Method.invoke(Method.java:498)"
48 = {StackTraceElement@8590} "org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)"
49 = {StackTraceElement@8591} "org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)"
50 = {StackTraceElement@8592} "org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)"
51 = {StackTraceElement@8593} "org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)"
52 = {StackTraceElement@8594} "org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)"
53 = {StackTraceElement@8595} "org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)"
54 = {StackTraceElement@8596} "org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)"
55 = {StackTraceElement@8597} "org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)"
56 = {StackTraceElement@8598} "org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)"
57 = {StackTraceElement@8599} "org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)"
58 = {StackTraceElement@8600} "javax.servlet.http.HttpServlet.service(HttpServlet.java:626)"
59 = {StackTraceElement@8601} "org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)"
60 = {StackTraceElement@8602} "javax.servlet.http.HttpServlet.service(HttpServlet.java:733)"
61 = {StackTraceElement@8603} "org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)"
62 = {StackTraceElement@8604} "org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)"
63 = {StackTraceElement@8605} "org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)"
64 = {StackTraceElement@8606} "org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)"
65 = {StackTraceElement@8607} "org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)"
66 = {StackTraceElement@8608} "org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)"
67 = {StackTraceElement@8609} "org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)"
68 = {StackTraceElement@8610} "org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)"
69 = {StackTraceElement@8611} "org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)"
70 = {StackTraceElement@8612} "org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)"
71 = {StackTraceElement@8613} "org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)"
72 = {StackTraceElement@8614} "org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)"
73 = {StackTraceElement@8615} "org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)"
74 = {StackTraceElement@8616} "org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)"
75 = {StackTraceElement@8617} "org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)"
76 = {StackTraceElement@8618} "org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)"
77 = {StackTraceElement@8619} "org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)"
78 = {StackTraceElement@8620} "org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)"
79 = {StackTraceElement@8621} "org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)"
80 = {StackTraceElement@8622} "org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)"
81 = {StackTraceElement@8623} "org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)"
82 = {StackTraceElement@8624} "org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)"
83 = {StackTraceElement@8625} "org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)"
84 = {StackTraceElement@8626} "org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)"
85 = {StackTraceElement@8627} "org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)"
86 = {StackTraceElement@8628} "org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)"
87 = {StackTraceElement@8629} "org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)"
88 = {StackTraceElement@8630} "org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)"
89 = {StackTraceElement@8631} "org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)"
90 = {StackTraceElement@8632} "java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)"
91 = {StackTraceElement@8633} "java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)"
92 = {StackTraceElement@8634} "org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)"
93 = {StackTraceElement@8635} "java.lang.Thread.run(Thread.java:748)"</code></pre> 
<p></p> 
<h2 id="feign">feign</h2> 
<p></p> 
<h3 id="SynchronousMethodHandler" style="background-color:transparent;">SynchronousMethodHandler</h3> 
<p></p> 
<p>首先在 SynchronousMethodHandler 通过反射调用 executeAndDecode() 发起请求。</p> 
<p>如果执行正常，直接返回结果跳出循环，否则异常被捕获到，重试次数达到最大值后直接抛出异常跳出循环。</p> 
<p></p> 
<p><img alt="" height="1040" src="https://images2.imgbox.com/06/c9/pbhDK8el_o.png" width="1200"></p> 
<p>分为三个部分</p> 
<p></p> 
<h4 id="%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86">第一部分</h4> 
<p></p> 
<p>将每次请求时将请求计数重置</p> 
<p><img alt="" height="1040" src="https://images2.imgbox.com/e1/87/PHB2Efp2_o.png" width="1200"></p> 
<p><img alt="" height="1040" src="https://images2.imgbox.com/39/8b/jYGihrFT_o.png" width="1200"></p> 
<p>对于重试间隔是按照 period * 1.5^attempt 来计算。</p> 
<p>period 默认是 100ms，attempt 的值与时间对应关系如下</p> 
<p>attempt 值为 1，间隔为 100*1.5^1=150，即150ms</p> 
<p>attempt 值为 2，间隔为 100*1.5^2=225，即225ms</p> 
<p>attempt 值为 3，间隔为 100*1.5^3=337，即337ms</p> 
<p>attempt 值为 4，间隔为 100*1.5^4=506，即506ms</p> 
<p>attempt 值为 5，间隔为 100*1.5^5=759，即759ms</p> 
<p><img alt="" height="1040" src="https://images2.imgbox.com/60/39/oJJ9uLXy_o.png" width="1200"></p> 
<p><img alt="" height="1040" src="https://images2.imgbox.com/17/0b/AKkjJeTv_o.png" width="1200"></p> 
<p></p> 
<h4 id="%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86">第二部分</h4> 
<p>正常执行返回跳出循环</p> 
<p></p> 
<h4 id="%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86">第三部分</h4> 
<p>请求异常后重试处理，重试次数达到最大值后直接抛出异常跳出循环</p> 
<p></p> 
<p>将 IOException 包装到 FeignException</p> 
<p><img alt="" height="1040" src="https://images2.imgbox.com/26/5c/SXChqgBr_o.png" width="1200"></p> 
<p><img alt="" height="1040" src="https://images2.imgbox.com/a1/b9/3kXjvp1c_o.png" width="1200"></p> 
<p>通过类的层次图，可以知道，SocketTimeoutException 是 IOException 的子类</p> 
<p><img alt="" height="476" src="https://images2.imgbox.com/02/af/m14WP3fi_o.png" width="230"></p> 
<p></p> 
<h2 id="spring-cloud-openfeign">spring-cloud-openfeign</h2> 
<p></p> 
<h3 id="LoadBalancerFeignClient">LoadBalancerFeignClient</h3> 
<p>负责将 feign 原生调用转换为负载均衡调用</p> 
<p></p> 
<p>将 ClientException 转换为 IOException</p> 
<p><img alt="" height="1040" src="https://images2.imgbox.com/1b/76/IyQoAUbZ_o.png" width="1200"></p> 
<p><img alt="" height="1040" src="https://images2.imgbox.com/72/be/gHb6zrsB_o.png" width="1200"></p> 
<h2 id="ribbon">ribbon</h2> 
<p>主要负责负载均衡处理，是客户端侧的实现。从服务注册的单个服务里找到匹配的实例进行调用。</p> 
<p></p> 
<h3 id="AbstractLoadBalancerAwareClient">AbstractLoadBalancerAwareClient</h3> 
<p></p> 
<p>内层请求异常返回原始异常，外层异常使用 ribbon 的 ClientException 进行包装</p> 
<p><img alt="" height="1040" src="https://images2.imgbox.com/d2/0a/hgAZJCe1_o.png" width="1200"></p> 
<p></p> 
<p>最终通过 feign.Client.Default 来执行实际请求，如果引入了其他依赖（例如 feign-httpclient 或者 feign-hc5 或者 feign-okclient），会使用其他方式。</p> 
<p><img alt="" height="1040" src="https://images2.imgbox.com/18/6a/lHTJ5njg_o.png" width="1200"></p> 
<p></p> 
<p><img alt="" height="1040" src="https://images2.imgbox.com/09/9d/uoSRMf0j_o.png" width="1200"></p> 
<p></p> 
<p>最终通过 native 函数调用 jvm 层次的 tcp 网络调用，出现异常返回 IOException。</p> 
<p><span style="color:#fe2c24;">可知，针对 feign 请求过程中出现异常无论如何返回的是 IOException，最终在 feign 的处理下包装为 FeignException。</span></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6bf31e781791be5fc4915d1c9648ead1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">用Java Socket手撸了一个HTTP服务器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3ec9237b47a81d8ea1aefcabe20d77a7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【决策树】预测用户用电量</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>