<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python build finished, but the necessary bits to build these modules were - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python build finished, but the necessary bits to build these modules were" />
<meta property="og:description" content="在编译的时候，Python出现了下面的提示信息： Python build finished, but the necessary bits to build these modules were not found: _bsddb _sqlite3 _ssl _tkinter bsddb185 bz2 dbm gdbm readline sunaudiodev To find the necessary bits, look in setup.py in detect_modules() for the module&#39;s name. 当然，每个机器上因为不同的配置，编译报错信息也会不同，比如网上有人的报错就是下面这样的：
Python build finished, but the necessary bits to build these modules were not found: _bsddb	_curses	_curses_panel	_sqlite3	_ssl	_tkinter	bsddb185	bz2	dbm	dl	gdbm	imageop	readline	sunaudiodev	zlib	To find the necessary bits, look in setup." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/2ef7f9887e4c77fcef447dbdc13a3e81/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-11-16T18:36:35+08:00" />
<meta property="article:modified_time" content="2014-11-16T18:36:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python build finished, but the necessary bits to build these modules were</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    在编译的时候，Python出现了下面的提示信息： 
<pre><code class="language-ruby"><span class="constant">Python</span> build finished, but the necessary bits to build these modules were <span class="keyword">not</span> <span class="symbol">found:</span>
   _bsddb             _sqlite3           _ssl
   _tkinter           bsddb185           bz2
   dbm                gdbm               readline
   sunaudiodev
<span class="constant">To</span> find the necessary bits, look <span class="keyword">in</span> setup.py <span class="keyword">in</span> detect_modules() <span class="keyword">for</span> the <span class="keyword">module</span><span class="string">'s name.</span></code></pre> 
<p>当然，每个机器上因为不同的配置，编译报错信息也会不同，比如网上有人的报错就是下面这样的：</p> 
<pre><code class="language-ruby"><span class="constant">Python</span> build finished, but the necessary bits to build these modules were <span class="keyword">not</span> <span class="symbol">found:</span>
<span class="indent">  </span>_bsddb				 _curses				_curses_panel	
<span class="indent">  </span>_sqlite3			  _ssl					_tkinter		  
<span class="indent">  </span>bsddb185			  bz2					 dbm				 
<span class="indent">  </span>dl					  gdbm					imageop			
<span class="indent">  </span>readline			  sunaudiodev		  zlib				
<span class="constant">To</span> find the necessary bits, look <span class="keyword">in</span> setup.py <span class="keyword">in</span> detect_modules() <span class="keyword">for</span> the <span class="keyword">module</span><span class="string">'s name.</span></code></pre> 
<p>无论报错信息如何，意思很明确，我们编译的时候，系统没有办法找到对应的模块信息，为了解决这些报错，我们就需要提前安装依赖包，这些依赖包对应列表如下（不一定完全）：</p> 
<table><tbody><tr><td>模块</td><td>依赖</td><td>说明</td></tr><tr><td>_bsddb</td><td>bsddb</td><td>Interface to Berkeley DB library。Berkeley数据库的接口</td></tr><tr><td>_curses</td><td>ncurses</td><td>Terminal handling for character-cell displays。</td></tr><tr><td>_curses_panel</td><td>ncurses</td><td>A panel stack extension for curses。</td></tr><tr><td>_sqlite3</td><td>sqlite</td><td>DB-API 2.0 interface for SQLite databases。SqlLite，CentOS可以安装sqlite-devel</td></tr><tr><td>_ssl</td><td>openssl-devel.i686</td><td>TLS/SSL wrapper for socket objects。</td></tr><tr><td>_tkinter</td><td>N/A</td><td>a thin object-oriented layer on top of Tcl/Tk。如果不使用桌面程序可以忽略TKinter</td></tr><tr><td>bsddb185</td><td>old bsddb module</td><td>老的bsddb模块，可忽略。</td></tr><tr><td>bz2</td><td>bzip2-devel.i686</td><td>Compression compatible with bzip2。bzip2-devel</td></tr><tr><td>dbm</td><td>bsddb</td><td>Simple “database” interface。</td></tr><tr><td>dl</td><td>N/A</td><td>Call C functions in shared objects.Python2.6开始，已经弃用。</td></tr><tr><td>gdbm</td><td>gdbm-devel.i686</td><td>GNU’s reinterpretation of dbm</td></tr><tr><td>imageop</td><td>N/A</td><td>Manipulate raw image data。已经弃用。</td></tr><tr><td>readline</td><td>readline-devel</td><td>GNU readline interface</td></tr><tr><td>sunaudiodev</td><td>N/A</td><td>Access to Sun audio hardware。这个是针对Sun平台的，CentOS下可以忽略</td></tr><tr><td>zlib</td><td>Zlib</td><td>Compression compatible with gzip</td></tr></tbody></table> 
<p>在CentOS下，可以安装这些依赖包：readline-devel，sqlite-devel，bzip2-devel.i686，openssl-devel.i686，gdbm-devel.i686，libdbi-devel.i686，ncurses-libs，zlib-devel.i686。完成这些安装之后，可以再次编译，上表中指定为弃用或者忽略的模块错误可以忽略。</p> 
<p></p> 
<p> 在编译完成之后，就可以接着上面的第六步安装Python到指定目录下。安装完成之后，我们可以到安装目录下查看Python是否正常安装。</p> 
<pre><code class="language-ruby"><span class="variable">$ </span>pushd /usr/local/python-<span class="number">2.7</span>.<span class="number">6</span>/bin
<span class="variable">$ </span>python --version
<span class="variable">$ </span>sudo mv /usr/bin/python /usr/bin/python.old
<span class="variable">$ </span>sudo ln -s python /usr/bin/python
<span class="variable">$ </span>popd
<span class="variable">$ </span>python -<span class="constant">V</span>
<span class="variable">$ </span>sudo sed -i <span class="string">"s/#\!\/usr\/bin\/python/#\!\/usr\/bin\/python.old/"</span> /usr/bin/yum</code></pre> 
<p>1. 我们进入到安装路径下的bin目录， 并查看安装的版本（版本是2.7.6）</p> 
<p>2. 将现有的python版本重命名备份</p> 
<p>3. 创建新版本Python到 <code class="prettyprint">/usr/bin</code> 目录下替代原有python </p> 
<p>4. 测试系统Python版本（应该是新的2.7.6）</p> 
<p>5. 此时如果yum不能正常工作，可以简单的通过sed将里面的Python引用替换成原来的Python路径即可。</p> 
<p>至此，完成Python的更新编译安装工作。如果你想完成自动安装，可以将前面的代码保存为Shell脚本文件——需要注意的是，你可能需要添加各个模块的安装脚本，本篇的是通过yum来安装的。也可以通过参考2中的文章，文中包含自动安装的脚本文件。</p> 
<p>参考：</p> 
<p>1.  <a target="_blank" href="https://www.python.org/" rel="nofollow,noindex noopener noreferrer"> Python官方网站</a> </p> 
<p>2.  <a target="_blank" href="http://rajaseelan.com/2012/01/28/installing-python-2-dot-7-2-on-centos-5-dot-2/" rel="nofollow,noindex noopener noreferrer"> Install Python 2.7.2 On CentOS 5.2</a> ，包含自动化安装脚本。 </p> 
<br>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/857d6a0f0283aa070252deebf894d459/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">自己归纳整理的ARM THUMB指令机器码表</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/41752fc7e8686c00a78a107e57db9021/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux内核的idle进程分析</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>