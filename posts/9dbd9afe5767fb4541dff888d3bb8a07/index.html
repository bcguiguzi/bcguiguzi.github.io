<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MIC - 最大信息系数 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MIC - 最大信息系数" />
<meta property="og:description" content="MIC 文章目录 MIC前言MIC介绍MIC库Python实例MIC缺陷参考文章 前言 皮尔逊相关系数即我们通常说的(线性)相关系数，是用来反映两个变量线性相关程度的统计量，变化范围为-1到1。
系数的值为1意味着X和Y可以很好的由直线方程来进行描述，所有的数据点都很好的落在一条直线上，且随着X的增加而增加。系数的值为−1意味着所有的数据点都落在直线上，且随着X的增加而减少。系数的值为0意味着两个变量之间没有线性关系。 斯皮尔曼相关系数又称秩相关系数，是衡量两个变量的依赖性的非参数指标。它利用两变量的秩次大小作线性相关分析，对原始变量的分布不作要求，属于非参数统计方法，适用范围要广些。对于服从皮尔逊相关系数的数据也可以计算斯皮尔曼相关系数，但统计效能要低一些。
互信息(Mutual Information)是信息论里一种有用的信息度量，它可以看成是一个随机变量中包含的关于另一个随机变量的信息量，或者说是一个随机变量由于已知另一个随机变量而减少的不肯定性。
​ 设两个随机变量 （ X , Y ） （X,Y） （X,Y）的联合分布为 p ( x , y ) p(x,y) p(x,y)，边缘分布分别为 p ( x ) p(x) p(x)、 p ( y ) p(y) p(y)，互信息 I ( X ; Y ) I(X;Y) I(X;Y) 是联合分布与边缘分布的相对熵。计算公式为： I ( X ; Y ) = ∑ x ∈ X ∑ y ∈ Y p ( x , y ) l o g 2 p ( x , y ) p ( x ) p ( y ) I(X;Y)=\sum_{x∈X}\sum_{y∈Y}p(x,y)log_2 \frac{p(x,y)}{p(x)p(y)} I(X;Y)=∑x∈X​∑y∈Y​p(x,y)log2​p(x)p(y)p(x,y)​" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/9dbd9afe5767fb4541dff888d3bb8a07/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-10-22T11:08:59+08:00" />
<meta property="article:modified_time" content="2020-10-22T11:08:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MIC - 最大信息系数</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="MIC_0"></a>MIC</h2> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#MIC_0" rel="nofollow">MIC</a></li><li><ul><li><a href="#_3" rel="nofollow">前言</a></li><li><a href="#MIC_17" rel="nofollow">MIC介绍</a></li><li><a href="#MIC_59" rel="nofollow">MIC库</a></li><li><a href="#Python_129" rel="nofollow">Python实例</a></li><li><a href="#MIC_296" rel="nofollow">MIC缺陷</a></li><li><a href="#_319" rel="nofollow">参考文章</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_3"></a>前言</h3> 
<p>皮尔逊相关系数即我们通常说的(线性)相关系数，是用来反映两个变量线性相关程度的统计量，变化范围为-1到1。</p> 
<ul><li>系数的值为1意味着X和Y可以很好的由直线方程来进行描述，所有的数据点都很好的落在一条直线上，且随着X的增加而增加。</li><li>系数的值为−1意味着所有的数据点都落在直线上，且随着X的增加而减少。系数的值为0意味着两个变量之间没有线性关系。</li></ul> 
<p>斯皮尔曼相关系数又称秩相关系数，是衡量两个变量的依赖性的非参数指标。它利用两变量的秩次大小作线性相关分析，对原始变量的分布不作要求，属于非参数统计方法，适用范围要广些。对于服从皮尔逊相关系数的数据也可以计算斯皮尔曼相关系数，但统计效能要低一些。</p> 
<p>互信息(Mutual Information)是信息论里一种有用的信息度量，它可以看成是一个随机变量中包含的关于另一个随机变量的信息量，或者说是一个随机变量由于已知另一个随机变量而减少的不肯定性。</p> 
<p>​ 设两个随机变量<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         （ 
        
       
         X 
        
       
         , 
        
       
         Y 
        
       
         ） 
        
       
      
        （X,Y） 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.87777em; vertical-align: -0.19444em;"></span><span class="mord cjk_fallback">（</span><span class="mord mathdefault" style="margin-right: 0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.22222em;">Y</span><span class="mord cjk_fallback">）</span></span></span></span></span>的联合分布为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         p 
        
       
         ( 
        
       
         x 
        
       
         , 
        
       
         y 
        
       
         ) 
        
       
      
        p(x,y) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">p</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span><span class="mclose">)</span></span></span></span></span>，边缘分布分别为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         p 
        
       
         ( 
        
       
         x 
        
       
         ) 
        
       
      
        p(x) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">p</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         p 
        
       
         ( 
        
       
         y 
        
       
         ) 
        
       
      
        p(y) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">p</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span><span class="mclose">)</span></span></span></span></span>，互信息 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         I 
        
       
         ( 
        
       
         X 
        
       
         ; 
        
       
         Y 
        
       
         ) 
        
       
      
        I(X;Y) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.07847em;">I</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.07847em;">X</span><span class="mpunct">;</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.22222em;">Y</span><span class="mclose">)</span></span></span></span></span> 是联合分布与边缘分布的相对熵。计算公式为： <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         I 
        
       
         ( 
        
       
         X 
        
       
         ; 
        
       
         Y 
        
       
         ) 
        
       
         = 
        
        
        
          ∑ 
         
         
         
           x 
          
         
           ∈ 
          
         
           X 
          
         
        
        
        
          ∑ 
         
         
         
           y 
          
         
           ∈ 
          
         
           Y 
          
         
        
       
         p 
        
       
         ( 
        
       
         x 
        
       
         , 
        
       
         y 
        
       
         ) 
        
       
         l 
        
       
         o 
        
        
        
          g 
         
        
          2 
         
        
        
         
         
           p 
          
         
           ( 
          
         
           x 
          
         
           , 
          
         
           y 
          
         
           ) 
          
         
         
         
           p 
          
         
           ( 
          
         
           x 
          
         
           ) 
          
         
           p 
          
         
           ( 
          
         
           y 
          
         
           ) 
          
         
        
       
      
        I(X;Y)=\sum_{x∈X}\sum_{y∈Y}p(x,y)log_2 \frac{p(x,y)}{p(x)p(y)} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.07847em;">I</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.07847em;">X</span><span class="mpunct">;</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.53em; vertical-align: -0.52em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position: relative; top: -5e-06em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.178621em;"><span class="" style="top: -2.40029em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mrel mtight">∈</span><span class="mord mathdefault mtight" style="margin-right: 0.07847em;">X</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.32708em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position: relative; top: -5e-06em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.178621em;"><span class="" style="top: -2.40029em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">y</span><span class="mrel mtight">∈</span><span class="mord mathdefault mtight" style="margin-right: 0.22222em;">Y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.435818em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">p</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.03588em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.01em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight">x</span><span class="mclose mtight">)</span><span class="mord mathdefault mtight">p</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">y</span><span class="mclose mtight">)</span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.485em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">y</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.52em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p> 
<h3><a id="MIC_17"></a>MIC介绍</h3> 
<p><strong>MIC（Maximal Information Coefficient）最大信息系数，是检测变量之间非线性相关性的新方法。它的值域在 0 和 1 之间，值越高表示相关性越强</strong>。</p> 
<ul><li>广泛性（普适性），不管是什么函数关系，都可以识别。线性和非线性函数关系，对这个系数而言是一样的。</li><li>公平性，是指在样本量足够大时能为不同类型单噪声程度相似的相关关系给出相近的系数。</li></ul> 
<p><mark>注意，MIC的计算理念是针对大数据集提出来的，是针对大数据之间的计算的。只有在大数据下，MIC的计算结果才近似等于真实值，才相对可靠。对于小数据集的MIC计算没有意义，因为误差会非常大。</mark></p> 
<p>常用系数对比</p> 
<table><thead><tr><th></th><th>适用范围</th><th>是否标准化</th><th>计算复杂度</th><th>鲁棒性</th></tr></thead><tbody><tr><td>皮尔逊系数</td><td>线性数据</td><td>是</td><td>低</td><td>低</td></tr><tr><td>斯皮尔曼系数</td><td>线性数据、简单单调非线性数据</td><td>是</td><td>低</td><td>中等</td></tr><tr><td>K近邻</td><td>线性数据、非线性数据</td><td>否</td><td>高</td><td>高</td></tr><tr><td>MIC</td><td>线性数据、非线性数据</td><td>是</td><td>低</td><td><mark>高</mark></td></tr></tbody></table> 
<p>从中可以看出，MIC是常用系数中的较优的一种方案，适用范围广、复杂度低、鲁棒性高。</p> 
<hr> 
<p>在机器学习中，想把互信息直接用于特征选择其实不是很方便：</p> 
<ol><li>它不属于度量方式，也没有办法归一化，在不同数据及上的结果无法做比较</li><li>对于连续变量的计算不是很方便（X和Y都是集合，x，y都是离散的取值），通常变量需要先离散化，而互信息的结果对离散化的方式很敏感</li></ol> 
<p>而最大信息系数 MIC 克服了这两个问题。它首先寻找一种最优的离散化方式，然后把互信息取值转换成一种度量方式，取值区间在[0，1]。</p> 
<p>MIC简单计算方式：</p> 
<ol><li>给定 i、j，对XY构成的散点图进行 i 列 j 行网格化，并求出最大互信息值。<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          I 
         
        
          ( 
         
        
          x 
         
        
          ; 
         
        
          y 
         
        
          ) 
         
        
          ≈ 
         
        
          I 
         
        
          [ 
         
        
          X 
         
        
          ; 
         
        
          Y 
         
        
          ] 
         
        
       
         I(x;y)≈I[X;Y] 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.07847em;">I</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">;</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.07847em;">I</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.07847em;">X</span><span class="mpunct">;</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.22222em;">Y</span><span class="mclose">]</span></span></span></span></span></li><li>对最大互信息值进行归一化。 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          m 
         
        
          i 
         
        
          c 
         
        
          ( 
         
        
          x 
         
        
          ; 
         
        
          y 
         
        
          ) 
         
        
          = 
         
        
          m 
         
        
          a 
         
         
         
           x 
          
          
          
            a 
           
          
            ∗ 
           
          
            b 
           
          
            &lt; 
           
          
            B 
           
          
         
         
          
          
            I 
           
          
            ( 
           
          
            x 
           
          
            ; 
           
          
            y 
           
          
            ) 
           
          
          
          
            l 
           
          
            o 
           
           
           
             g 
            
           
             2 
            
           
          
            m 
           
          
            i 
           
          
            n 
           
          
            ( 
           
          
            a 
           
          
            , 
           
          
            b 
           
          
            ) 
           
          
         
        
       
         mic(x;y)=max_{a*b&lt;B} \frac{I(x;y)}{log_2 min(a,b)} 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">c</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">;</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.53em; vertical-align: -0.52em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">a</span><span class="mbin mtight">∗</span><span class="mord mathdefault mtight">b</span><span class="mrel mtight">&lt;</span><span class="mord mathdefault mtight" style="margin-right: 0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.17737em;"><span class=""></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.01em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault mtight">o</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: -0.03588em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">n</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight">a</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">b</span><span class="mclose mtight">)</span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.485em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.07847em;">I</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight">x</span><span class="mpunct mtight">;</span><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">y</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.52em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></li><li>选择不同 i、j 尺度下互信息的最大值作为MIC值</li></ol> 
<p><strong>（用 a,b 表示在 x,y 方向上的划分格子的个数，设置a*b&lt;B，其中 B 的大小为数据量的0.6次方左右，这是一个经验值）</strong></p> 
<hr> 
<h3><a id="MIC_59"></a>MIC库</h3> 
<p>MIC算法在C、C++、Python中都有对应的实现，分别在头文件&lt;mine.h&gt;、&lt;cppmine.h&gt;和 库 <code>&lt;minepy&gt;</code>中</p> 
<p>下面我们重点介绍 Python API</p> 
<blockquote> 
 <p><em>class</em> <code>minepy.MINE</code>(alpha=0.6, c=15, est=“mic_approx”)</p> 
 <p>基于信息的最大非参数探索</p> 
</blockquote> 
<p><strong>参数</strong>：</p> 
<ul><li><strong>alpha</strong>：float类型，取值范围为（0 ，1.0 ] 或 &gt; = 4，如果alpha的取值范围在（0,1]之内，那么B的取值范围为（N^αlpha，4）其中n是样本的数目。如果alpha的取值范围是&gt; = 4， alpha直接定义B参数。如果alpha高于样本数 n，则它将被限制为n，因此 B = min（alpha，n）</li><li><strong>c</strong>：float类型，取值必须大于0，确定每个分区中的列数比列数多了多少。默认值为15，这意味着当尝试在x轴上绘制x网格线时，算法将以最多15 * x块开始。</li><li><strong>est</strong>：估算器，参数为“<em>mic_approx</em>”或者“mic_e”。使用est =” mic_approx”，将计算原始MINE统计信息；使用est =” mic_e”，将计算等特征矩阵，并且 mic() 和 tic() 方法将分别返回 MIC_e 和 TIC_e 值。</li></ul> 
<p><strong>方法</strong>：</p> 
<ul><li><code>compute_score(x, y)</code>：计算(equi)特征矩阵(即最大标准化互信息得分)</li><li><code>mic()</code>：返回最大的信息系数(MIC或MIC_e)</li><li><code>mas()</code>：返回最大不对称分数（MAS）</li><li><code>mev()</code>：返回最大边缘值（MEV）</li><li><code>mcn(eps=0)</code>：返回eps&gt; = 0的最小单元数（MCN）</li><li><code>gmic(p=-1)</code>：返回广义最大信息系数（GMIC）</li><li><code>tic(norm=false)</code>：返回总信息系数（TIC或TIC_e）。如果norm == True TIC将在[0，1]中标准化</li></ul> 
<p>好用的功能函数</p> 
<blockquote> 
 <p><code>minepy.pstats</code>（X，alpha = 0.6，c = 15，est =“ mic_approx”）</p> 
 <p>计算变量之间的成对统计量（MIC和归一化的TIC）</p> 
</blockquote> 
<p>对于每个统计量，矩阵的上三角按行存储（压缩矩阵）。如果m是变量的数量，则对于i &lt;j &lt;m，（行）i和j之间的统计信息存储在</p> 
<p>k = m * i-i *（i + 1）/ 2-i-1 + j中。向量的长度为n = m *（m-1）/ 2。</p> 
<p><strong>参数</strong>：</p> 
<ul><li> <p>X：由n个变量和m个样本组成的n×m数组</p> </li><li> <p>alpha、c、est 与 minepy.MINE 一致</p> </li></ul> 
<p><strong>返回值</strong>：</p> 
<ul><li>mic：长度为n *（n-1）/ 2的压缩MIC统计矩阵</li><li>tic：长度为n *（n-1）/ 2的压缩归一化TIC统计矩阵</li></ul> 
<blockquote> 
 <p><code>minepy.cstats</code>（X，Y，alpha = 0.6，c = 15，est =“ mic_approx” ）</p> 
 <p>计算两个变量集合中的每一对之间的统计信息（MIC和归一化的TIC）</p> 
</blockquote> 
<p>如果n和m分别是X和Y中的变量数，则（行）i（对于X）和j（对于Y）之间的统计信息存储在mic [i，j]和tic [i，j]中。</p> 
<p><strong>参数</strong>：</p> 
<ul><li> <p>X：由n个变量和m个样本组成的n×m数组</p> </li><li> <p>Y：由p个变量和m个样本组成的p x m数组</p> </li><li> <p>alpha、c、est 与 minepy.MINE 一致</p> </li></ul> 
<p><strong>返回值</strong>：</p> 
<ul><li>mic：MIC统计矩阵</li><li>tic：标准化的TIC统计矩阵</li></ul> 
<h3><a id="Python_129"></a>Python实例</h3> 
<p>安装 Python 的 Minepy 库请参考这篇文章 <a href="https://www.cnblogs.com/HongjianChen/p/9660529.html" rel="nofollow">教你在windows10环境下如何安装minepy并成功运行！</a></p> 
<p>API给出了三个 MIC 使用的例子（位于examples/python_example.py中）</p> 
<p><strong>例1（简化版）</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">from</span> minepy <span class="token keyword">import</span> MINE

<span class="token comment"># np.linspace(start, end, step)主要用来创建等差数列，返回在start到end之间间隔均匀的数据</span>
x <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token comment"># np.sin(x) 对矩阵x中每个元素取正弦，np.pi代表π</span>
y <span class="token operator">=</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>pi <span class="token operator">*</span> x<span class="token punctuation">)</span> <span class="token operator">+</span> x

mine <span class="token operator">=</span> MINE<span class="token punctuation">(</span>alpha<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span>
mine<span class="token punctuation">.</span>compute_score<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Without noise:"</span><span class="token punctuation">)</span>
<span class="token comment"># 得到MIC的值</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"MIC"</span><span class="token punctuation">,</span> mine<span class="token punctuation">.</span>mic<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment"># numpy.random.uniform(low,high,size)从一个均匀分布[low,high)中随机采样，size为输出样本数目</span>
y <span class="token operator">+=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> x<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 添加一些噪声，x.shape[0]是数组的行数</span>
<span class="token comment"># x、y之间的最大归一化互信息得分</span>
mine<span class="token punctuation">.</span>compute_score<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"With noise:"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"MIC"</span><span class="token punctuation">,</span> mine<span class="token punctuation">.</span>mic<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/5e/fc/4a6ksyKE_o.png" alt="m1"></p> 
<p><strong>例2</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> __future__ <span class="token keyword">import</span> division
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">from</span> minepy <span class="token keyword">import</span> MINE

<span class="token comment"># np.around(a, decimals=0) 对输入数组 a 的元素返回四舍五入后的值</span>
<span class="token comment"># decimals 保留小数点后 n 位。 默认值为0。</span>
<span class="token comment"># np.corrcoef()返回皮尔逊相关系数</span>
<span class="token keyword">def</span> <span class="token function">mysubplot</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> numRows<span class="token punctuation">,</span> numCols<span class="token punctuation">,</span> plotNum<span class="token punctuation">,</span>
              xlim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ylim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    r <span class="token operator">=</span> np<span class="token punctuation">.</span>around<span class="token punctuation">(</span>np<span class="token punctuation">.</span>corrcoef<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    mine <span class="token operator">=</span> MINE<span class="token punctuation">(</span>alpha<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span>
    mine<span class="token punctuation">.</span>compute_score<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
    mic <span class="token operator">=</span> np<span class="token punctuation">.</span>around<span class="token punctuation">(</span>mine<span class="token punctuation">.</span>mic<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span>numRows<span class="token punctuation">,</span> numCols<span class="token punctuation">,</span> plotNum<span class="token punctuation">,</span>
                     xlim<span class="token operator">=</span>xlim<span class="token punctuation">,</span> ylim<span class="token operator">=</span>ylim<span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">'Pearson r=%.1f\nMIC=%.1f'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>r<span class="token punctuation">,</span> mic<span class="token punctuation">)</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>set_frame_on<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>axes<span class="token punctuation">.</span>get_xaxis<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>set_visible<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>axes<span class="token punctuation">.</span>get_yaxis<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>set_visible<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>set_xticks<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>set_yticks<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> ax

<span class="token comment"># np.dot()处理一维数组则得到两数组的内积，处理矩阵则得到矩阵乘积</span>
<span class="token keyword">def</span> <span class="token function">rotation</span><span class="token punctuation">(</span>xy<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>xy<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span>np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                       <span class="token punctuation">[</span>np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">mvnormal</span><span class="token punctuation">(</span>n<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    cors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.0</span><span class="token punctuation">]</span>
    <span class="token comment"># enumerate()用于将一个可遍历的数据对象(如列表、字符串)组合为一个索引序列，同时列出数据和数据下标，一般用在for 循环当中。</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> cor <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>cors<span class="token punctuation">)</span><span class="token punctuation">:</span>
        cov <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> cor<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>cor<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
        xy <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>multivariate_normal<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cov<span class="token punctuation">,</span> n<span class="token punctuation">)</span>
        mysubplot<span class="token punctuation">(</span>xy<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> xy<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">rotnormal</span><span class="token punctuation">(</span>n<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    ts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">12</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">6</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> np<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">6</span><span class="token punctuation">,</span>
          np<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> np<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">12</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">]</span>
    cov <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
    <span class="token comment"># np.random.multivariate_normal方法用于根据实际情况生成一个多元正态分布矩阵</span>
    xy <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>multivariate_normal<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cov<span class="token punctuation">,</span> n<span class="token punctuation">)</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> t <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">:</span>
        xy_r <span class="token operator">=</span> rotation<span class="token punctuation">(</span>xy<span class="token punctuation">,</span> t<span class="token punctuation">)</span>
        mysubplot<span class="token punctuation">(</span>xy_r<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> xy_r<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">others</span><span class="token punctuation">(</span>n<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    x <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>
    y <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token punctuation">(</span>x <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3</span>
    mysubplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    y <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>
    xy <span class="token operator">=</span> np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
    xy <span class="token operator">=</span> rotation<span class="token punctuation">(</span>xy<span class="token punctuation">,</span> <span class="token operator">-</span>np<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">)</span>
    lim <span class="token operator">=</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">+</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    mysubplot<span class="token punctuation">(</span>xy<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> xy<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span>lim<span class="token punctuation">,</span> lim<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span>lim<span class="token punctuation">,</span> lim<span class="token punctuation">)</span><span class="token punctuation">)</span>

    xy <span class="token operator">=</span> rotation<span class="token punctuation">(</span>xy<span class="token punctuation">,</span> <span class="token operator">-</span>np<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">)</span>
    lim <span class="token operator">=</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    mysubplot<span class="token punctuation">(</span>xy<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> xy<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span>lim<span class="token punctuation">,</span> lim<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span>lim<span class="token punctuation">,</span> lim<span class="token punctuation">)</span><span class="token punctuation">)</span>

    y <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> x <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>
    mysubplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    y <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> \
        np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random_integers<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> size<span class="token operator">=</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span>
    mysubplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    y <span class="token operator">=</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>x <span class="token operator">*</span> np<span class="token punctuation">.</span>pi<span class="token punctuation">)</span> <span class="token operator">+</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>
    x <span class="token operator">=</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>x <span class="token operator">*</span> np<span class="token punctuation">.</span>pi<span class="token punctuation">)</span> <span class="token operator">+</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>
    mysubplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    xy1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>multivariate_normal<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>n <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    xy2 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>multivariate_normal<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>n <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    xy3 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>multivariate_normal<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>n <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    xy4 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>multivariate_normal<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>n <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># np.concatenate((a1, a2, ...), axis=0)函数。能够一次完成多个数组的拼接</span>
    xy <span class="token operator">=</span> np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">(</span>xy1<span class="token punctuation">,</span> xy2<span class="token punctuation">,</span> xy3<span class="token punctuation">,</span> xy4<span class="token punctuation">)</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
    mysubplot<span class="token punctuation">(</span>xy<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> xy<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>facecolor<span class="token operator">=</span><span class="token string">'white'</span><span class="token punctuation">)</span>
mvnormal<span class="token punctuation">(</span>n<span class="token operator">=</span><span class="token number">800</span><span class="token punctuation">)</span>
rotnormal<span class="token punctuation">(</span>n<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
others<span class="token punctuation">(</span>n<span class="token operator">=</span><span class="token number">800</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>tight_layout<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># plt.savefig('MIC.png')</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/6e/92/hH3sRfCg_o.png" alt="m2"><br> 从图中我们可以看出</p> 
<ul><li>在数据线性相关时，皮尔逊系数和 MIC 都有较好的表现</li><li>在数据非线性相关时，MIC 表现仍然出色</li></ul> 
<p><strong>例3</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">from</span> minepy <span class="token keyword">import</span> pstats<span class="token punctuation">,</span> cstats

np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment"># 随机建立X矩阵，8个变量，320个样本，样本值在[0,1)之间，可以近似理解为8行320列</span>
X <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">320</span><span class="token punctuation">)</span>

<span class="token comment"># 建立Y矩阵，4个变量，320个样本</span>
Y <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">320</span><span class="token punctuation">)</span>

<span class="token comment"># 计算 X 中样本间的两两统计量 MIC_e 和 归一化 TIC_e</span>
<span class="token comment"># B=9, c=5</span>
mic_p<span class="token punctuation">,</span> tic_p <span class="token operator">=</span> pstats<span class="token punctuation">(</span>X<span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> est<span class="token operator">=</span><span class="token string">"mic_e"</span><span class="token punctuation">)</span>

<span class="token comment"># 计算 X 和 Y 中每对样本之间的统计量</span>
mic_c<span class="token punctuation">,</span> tic_c <span class="token operator">=</span> cstats<span class="token punctuation">(</span>X<span class="token punctuation">,</span> Y<span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> est<span class="token operator">=</span><span class="token string">"mic_e"</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"normalized TIC_e (X):"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tic_p<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"MIC_e (X vs. Y):"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>mic_c<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/65/b5/GS0SrF8r_o.png" alt="m3"></p> 
<h3><a id="MIC_296"></a>MIC缺陷</h3> 
<p>然而，“天下没有免费的午餐”（no free lunch），机器学习领域的同学应当都知道这句话。</p> 
<p>虽然 MIC 可以有效地计算出非线性数据之间的相关性，但是这并不意味着 MIC 是万能的。MIC的统计能力也遭到了一些学者的质疑，通过实验发现，当零假设不成立的时候，MIC的计算结果会受到非常大的影响。</p> 
<blockquote> 
 <p>零假设（null hypothesis），统计学术语，又称原假设，指进行统计检验时预先建立的假设。 零假设成立时，有关统计量应服从已知的某种概率分布。</p> 
 <p>当统计量的计算值落入否定域时，可知发生了小概率事件，应否定原假设。</p> 
</blockquote> 
<p>Reshef等人精心打造了一些数据集，将MIC的统计能力与标准皮尔逊相关和距离相关进行了对比，发现MIC在有些数据集上的相关性不如皮尔逊强，线性相关的数据集尤为严重。（这并不意味着MIC的统计能力就不好，而是在有些数据集上存在这样的问题）</p> 
<p><strong>他们得出一个结论，如果将MIC用于大规模的探索性分析，可能会产生不少的错误，MIC的 “公平性” 并不是真正的公平</strong>。这也在提示我们，具体问题需要具体分析。</p> 
<p>以下是文章正文（部分）和实验结果的截图，有兴趣的小伙伴可以再深入阅读和思考。</p> 
<blockquote> 
 <p>文章链接 http://statweb.stanford.edu/~tibs/reshef/comment.pdf</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/09/c5/DgozWynP_o.png" alt="mic1"><br> <img src="https://images2.imgbox.com/9e/58/JSuj9zX0_o.png" alt="mic2"><br> <img src="https://images2.imgbox.com/bd/01/Hg96uSRH_o.png" alt="mic3"></p> 
<h3><a id="_319"></a>参考文章</h3> 
<p><a href="https://www.jianshu.com/p/c901d81f6a67" rel="nofollow">最大信息系数详解</a></p> 
<p><a href="https://blog.csdn.net/qq_27586341/article/details/90603140">MIC：最大信息系数</a></p> 
<p><a href="https://minepy.readthedocs.io/en/latest/" rel="nofollow">minepy - Maximal Information-based Nonparametric Exploration</a></p> 
<p><a href="https://www.cnblogs.com/stevenlk/p/6543628.html" rel="nofollow">特征选择 (feature_selection)</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a95924514552bc1d2cc466fe37836baf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何在 Flutter 项目中实现操作引导</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4fef79ab8ce2a608120798580ae1bf13/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Go 语言几种运算符</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>