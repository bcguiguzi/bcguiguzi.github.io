<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>R.java文件介绍 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="R.java文件介绍" />
<meta property="og:description" content="R.java文件介绍
HelloWorld工程中的R.java文件
package com.android.hellworld;
public final class R {
public static final class attr {
}
public static final class drawable {
public static final int icon=0x7f020000;
}
public static final class layout {
public static final int main=0x7f030000;
}
public static final class string {
public static final int app_name=0x7f040001;
public static final int hello=0x7f040000;
}
}
R.java文件中默认有attr、drawable、layout、string等四个静态内部类，每个静态内部类分别对应着一种资源，如layout静态内部类对应layout中的界面文件，其中每个静态内部类中的静态常量分别定义一条资源标识符，如public static final int main=0x7f030000;对应的是layout目录下的main.xml文件。
由于目前【drawable-*dpi】目录下都只有icon.png一个图片文件，因此此时不同详述的同名的icon.png文件在drawable内部类总只有一个icon属性。如果我们在【drawable-*dpi】目录下再添加一幅图片，则内部类中会自动的添加一个icon属性。
PS：添加资源的命名规则：资源文件只能以小写字母和下划线做首字母，随后的名字中只能出现 [a-z0-9_.] 这些字符，否则R.java文件不会自动更新，并且eclipse会提示错误。
理解了R.java文件中内容的来源，即当开发者在res/目录中任何一个子目录中添加相应类型的文件之后，ADT会在R.java文件中相应的内部类中自动生成一条静态int类型的常量，对添加的文件进行索引。如果在layout目录下再添加一个新的界面，那么在public static final class layout中也会添加相应的静态int常量。相反当我们在res目录下删除任何一个文件，其在R." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/b4ccbacafe90258d3e1add3fc0096ca7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2013-03-18T15:31:44+08:00" />
<meta property="article:modified_time" content="2013-03-18T15:31:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">R.java文件介绍</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong><span style="color:#ed1c24; font-size:20px"><strong><span style="color:#ed1c24; font-size:20px"></span></strong>R.java文件介绍</span></strong></p> 
<p>HelloWorld工程中的R.java文件</p> 
<p>package com.android.hellworld;</p> 
<p>public final class R {<!-- --><br> <wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>public static final class attr {<!-- --><br> <wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>}<br> <wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>public static final class drawable {<!-- --><br> <wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>public static final int icon=0x7f020000;<br> <wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>}<br> <wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>public static final class layout {<!-- --><br> <wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>public static final int main=0x7f030000;<br> <wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>}<br> <wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>public static final class string {<!-- --><br> <wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>public static final int app_name=0x7f040001;<br> <wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>public static final int hello=0x7f040000;<br> <wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>}<br> }</p> 
<p><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>R.java文件中默认有attr、drawable、layout、string等四个静态内部类，每个静态内部类分别对应着一种资源，如layout静态内部类对应layout中的界面文件，其中每个静态内部类中的静态常量分别定义一条资源标识符，如public static final int main=0x7f030000;对应的是layout目录下的main.xml文件。</p> 
<p><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>由于目前【drawable-*dpi】目录下都只有icon.png一个图片文件，因此此时不同详述的同名的icon.png文件在drawable内部类总只有一个icon属性。如果我们在【drawable-*dpi】目录下再添加一幅图片，则内部类中会自动的添加一个icon属性。</p> 
<p>PS：添加资源的命名规则：<strong>资源文件只能以小写字母和下划线做首字母，随后的名字中只能出现 [a-z0-9_.] 这些字符，否则R.java文件不会自动更新，并且eclipse会提示错误。</strong></p> 
<p><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>理解了R.java文件中内容的来源，即当开发者在res/目录中任何一个子目录中添加相应类型的文件之后，ADT会在R.java文件中相应的内部类中自动生成一条静态int类型的常量，对添加的文件进行索引。如果在layout目录下再添加一个新的界面，那么在public static final class layout中也会添加相应的静态int常量。相反当我们在res目录下删除任何一个文件，其在R.java中对应的记录会被ADT自动删除。<br> <wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>R.java文件按除了有自动标示资源的索引功能之外，还有另外一个主要的功能，如果res目录中的某个资源在应用中没有被使用到，在该应用被编译的时候系统就不会把对应的资源编译到该应用的APK包中，这样可以节省Android手机的资源。</p> 
<p><br> <strong><span style="color:#ed1c24; font-size:20px">如何通过R.java文件来引用到所需要的资源</span></strong></p> 
<p>1.在java程序中引用资源<br> 按照java的语法来引用即：R.resource_type.resource_name<br> 注意：resource_name不需要文件的后缀名<br> Android系统本身自带了很多的资源，我们也可以进行引用，只是需要再前面加上“Android.”以声明该资源来自Android系统，即：Android.R.resource_type.resouce_name<br> 例：【drawable-*hpi】下的icon.png<br> 该图片在R.java文件的映射为drawable内部类下icon参数，则如果要获取该资源，则写法为：R.drawble.icon</p> 
<p>2.在XML文件中引用资源<br> 格式：@[package:]type/name<br> 在xml文件中，如main.xml以及AndroidMainfest.xml文件中通过<a href="mailto:%E2%80%9C@drawable/icon" rel="nofollow">“@drawable/icon</a>”的方式获取。其中“@”代表的是R.java类。“drawable”代表的是R.java中的静态内部类“drawable”,“/icon”代表静态内部类“drawable”中的静态属性“icon”，而该属性可以指向res目录下的“drawable-*dpi”中的icon.png资源。其他类型的文件也比较类似。凡是在R文件中定义的资源都可以通过<a href="mailto:%E2%80%9C@Static_inner_classes_name/resource_name" rel="nofollow">“@Static_inner_classes_name/resource_name</a>”的方式获取。如<a href="mailto:%E2%80%9C@id/button" rel="nofollow">“@id/button</a>”，<a href="mailto:%E2%80%9C@string/app_name" rel="nofollow">“@string/app_name</a>”。<br> 如果访问的是Android系统中自带的文件，则要添加包名“Android:”。例如：android:textColor="@android:color/red"</p> 
<p><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>在布局文件中当我们需要为一些组件添加Id属性作为标识，可以使用如下的表达式：<a href="mailto:%E2%80%9C@+id/string_name" rel="nofollow">“@+id/string_name</a>”，其中“+”表示在R.java的名为id的内部类中国添加一条记录。例：<a href="mailto:%E2%80%9C@+id/button" rel="nofollow">“@+id/button</a>”的含义是在R.java文件中的id这个静态内部类添加一条常量名为button，该常量就是该资源的标识符。如果 id这个静态内部类不存在，则会先生成它。<br> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/23710d34d959d82ba097c3596c43aa1f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">烤鸭的gerrit使用总结</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cf8c9ada1411c2f89217be3da9302844/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">DirectShow 在VS2005/VS2010中环境配置和编译运行出现 winnt.h(5940)错误问题的解决</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>