<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vs2015/2017/2019配置opencv终结问题版教程 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vs2015/2017/2019配置opencv终结问题版教程" />
<meta property="og:description" content="vs2015/2017/2019配置opencv终结问题版教程 说明： 1.为方便讲解示例，本教程以vs2015配置opencv3.4.3为例，其他版本请对应替换。
2.VS版本与opencv版本的最佳匹配，请查阅其他资料自行选定。
3.VS版本与opencv的vc12/14/15等的匹配，请查阅相关资料确定。
4.早期的opencv版本(如opencv2.4.9)支持Debug | x86,近期的opencv版本(如opencv3.x)仅支持Debug | x64。
操作环境 windows 10 64位 专业版
opencv 3.4.3：opencv官网
visual studio 2015 专业版
教程 1.安装opencv3.4.3，配置环境变量，添加动态链接库
1.1安装
双击opencv安装包
选择解压路径（自行设置）
1.2设置opencv3.4.3的环境变量
A.右键“我的电脑”&gt;属性&gt;高级系统设置&gt;高级&gt;环境变量&gt;系统变量&gt;Path&gt;编辑&gt;新建&gt;浏览
B.找到刚才opencv3.4.3的解压路径
C.添加如下路径（我的是）：A:\opencv343\opencv\build\x64\vc14\bin
D.点完所有的“确定”按钮。（至此环境变量配置结束）
1.3添加动态链接库
A.在opencv解压文件夹，打开vc14&gt;bin文件夹，找到以下三个文件。
B.将 opencv_ffmpeg343_64.dll复制到C:\Windows\System32文件夹内；将opencv_world343.dll和opencv_world343d.dll文件复制到C:\Windows\SysWOW64文件夹内
2.新建opencv专用属性表并进行配置
2.1新建空项目
打开vs2015&gt;新建项目&gt;选择win32控制台应用程序，设置项目名称和项目路径&gt;确定&gt;下一步&gt;勾选空项目&gt;完成
2.2新建opencv专用属性表并配置
A.依次点击：视图&gt;其他窗口&gt;属性管理器
B. 在Debug | 64上右键单击，选择添加新项目属性表
C.新建名为 opencv3envPropertySheet的属性表
该属性表请单独保存，以后新建opencv项目后，直接添加该表即可（在Debug | 64上右键单击，选择添加现有属性表），无需重复配置
D.双击opencv3envPropertySheet
E.配置
包含目录：
A:\opencv343\opencv\build\include
A:\opencv343\opencv\build\include\opencv
A:\opencv343\opencv\build\include\opencv2
库目录：
A:\opencv343\opencv\build\x64\vc14\lib
连接器\输入\附加依赖项：
opencv_world343d.lib
opencv_world343.lib
3.测试
A.右键单击源文件&gt;点击添加&gt;新建项&gt;选择c&#43;&#43;文件（.cpp）&gt;命名test
B.粘贴如下代码，注意&#34;alpine.jpg&#34;必须放在与test.cpp同一路径（文件夹）下才可以直接用，否则，应加入对应的路径。
#include &lt;opencv2\highgui\highgui.hpp&gt; #include &lt;opencv2\imgproc\imgproc.hpp&gt; using namespace cv; int main() { Mat srcimage = imread(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/967050fd9e9f232c07530433e6b5f933/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-03-12T18:40:20+08:00" />
<meta property="article:modified_time" content="2020-03-12T18:40:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vs2015/2017/2019配置opencv终结问题版教程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="vs201520172019opencv_0"></a>vs2015/2017/2019配置opencv终结问题版教程</h2> 
<h3><a id="_1"></a>说明：</h3> 
<p>1.为方便讲解示例，本教程以vs2015配置opencv3.4.3为例，其他版本请对应替换。<br> 2.VS版本与opencv版本的最佳匹配，请查阅其他资料自行选定。<br> 3.VS版本与opencv的vc12/14/15等的匹配，请查阅相关资料确定。<br> 4.早期的opencv版本(如opencv2.4.9)支持Debug | x86,近期的opencv版本(如opencv3.x)仅支持Debug | x64。</p> 
<h3><a id="_7"></a>操作环境</h3> 
<p>windows 10 64位 专业版<br> opencv 3.4.3：<a href="https://opencv.org/releases.html" rel="nofollow">opencv官网</a><br> visual studio 2015 专业版</p> 
<h3><a id="_12"></a>教程</h3> 
<p><strong>1.安装opencv3.4.3，配置环境变量，添加动态链接库</strong><br> <strong>1.1安装</strong><br> 双击opencv安装包<br> <img src="https://images2.imgbox.com/bc/42/YD3wKg5J_o.png" alt="在这里插入图片描述"><br> 选择解压路径（自行设置）<br> <img src="https://images2.imgbox.com/89/b3/EOALeUmL_o.png" alt="在这里插入图片描述"><br> <strong>1.2设置opencv3.4.3的环境变量</strong><br> A.右键“我的电脑”&gt;属性&gt;高级系统设置&gt;高级&gt;环境变量&gt;系统变量&gt;Path&gt;编辑&gt;新建&gt;浏览<br> B.找到刚才opencv3.4.3的解压路径<br> C.添加如下路径（我的是）：A:\opencv343\opencv\build\x64\vc14\bin<br> D.点完所有的“确定”按钮。（至此环境变量配置结束）<br> <img src="https://images2.imgbox.com/f2/85/Rpnfk6m0_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/3a/9c/QWyLUmQD_o.png" alt="在这里插入图片描述"></p> 
<p><strong>1.3添加动态链接库</strong><br> A.在opencv解压文件夹，打开vc14&gt;bin文件夹，找到以下三个文件。<br> <img src="https://images2.imgbox.com/87/27/Aa5Avd7d_o.png" alt="在这里插入图片描述"><br> B.将 opencv_ffmpeg343_64.dll复制到C:\Windows\System32文件夹内；将opencv_world343.dll和opencv_world343d.dll文件复制到C:\Windows\SysWOW64文件夹内</p> 
<p><strong>2.新建opencv专用属性表并进行配置</strong><br> <strong>2.1新建空项目</strong><br> 打开vs2015&gt;新建项目&gt;选择win32控制台应用程序，设置项目名称和项目路径&gt;确定&gt;下一步&gt;勾选空项目&gt;完成<br> <img src="https://images2.imgbox.com/d5/d0/CJ8MYz86_o.png" alt="在这里插入图片描述"><br> <strong>2.2新建opencv专用属性表并配置</strong><br> A.依次点击：视图&gt;其他窗口&gt;属性管理器<br> B. 在Debug | 64上右键单击，选择添加新项目属性表<br> <img src="https://images2.imgbox.com/a2/14/o9g323xu_o.png" alt="在这里插入图片描述"><br> C.新建名为 opencv3envPropertySheet的属性表<br> 该属性表请单独保存，以后新建opencv项目后，直接添加该表即可（在Debug | 64上右键单击，选择添加现有属性表），无需重复配置<br> <img src="https://images2.imgbox.com/2d/82/wOeIBztR_o.png" alt="在这里插入图片描述"><br> D.双击opencv3envPropertySheet<br> <img src="https://images2.imgbox.com/ee/d3/StaCCzgA_o.png" alt="在这里插入图片描述"><br> E.配置<br> 包含目录：<br> A:\opencv343\opencv\build\include<br> A:\opencv343\opencv\build\include\opencv<br> A:\opencv343\opencv\build\include\opencv2</p> 
<p>库目录：<br> A:\opencv343\opencv\build\x64\vc14\lib</p> 
<p>连接器\输入\附加依赖项：<br> opencv_world343d.lib<br> opencv_world343.lib<br> <img src="https://images2.imgbox.com/37/48/FO5pafMK_o.png" alt="在这里插入图片描述"><br> <strong>3.测试</strong><br> A.右键单击源文件&gt;点击添加&gt;新建项&gt;选择c++文件（.cpp）&gt;命名test<br> <img src="https://images2.imgbox.com/c0/60/uCq40ApO_o.png" alt="在这里插入图片描述"><br> B.粘贴如下代码，注意"alpine.jpg"必须放在与test.cpp同一路径（文件夹）下才可以直接用，否则，应加入对应的路径。</p> 
<pre><code>#include &lt;opencv2\highgui\highgui.hpp&gt;
#include &lt;opencv2\imgproc\imgproc.hpp&gt;
using namespace cv;

int main()
{
	Mat srcimage = imread("alpine.jpg");
	imshow("原图", srcimage);

	Mat dstimage;
	blur(srcimage, dstimage, Size(5, 5));
	imshow("均值滤波效果图", dstimage);

	waitKey(0);
	return 0;
}

</code></pre> 
<p>C.选择x64，运行<br> <img src="https://images2.imgbox.com/b4/45/cUofPdAP_o.png" alt="在这里插入图片描述"><br> 运行结果如下<br> <img src="https://images2.imgbox.com/c8/87/Q7mSade0_o.png" alt="在这里插入图片描述"></p> 
<p>对以上安装和配置过程有不清楚的，请查看这篇博客（https://xygeng.cn/post/219.html），作者写的不错。</p> 
<p><strong>4.若运行不成功，报错如下中的一种或多种：</strong><br> 无法打开源文件xxx.hpp<br> 无法解析的外部命令<br> No such file or directory<br> 未定义标识符imread<br> 无法打开源文件xxx.lib<br> …等<br> 请参照5.解决方法<br> <img src="https://images2.imgbox.com/7e/42/E8qxtynu_o.png" alt="在这里插入图片描述"></p> 
<p><strong>5.解决方法</strong><br> <strong>5.1分别查看【包含目录】，【库目录】的继承值是否如下图所示：</strong><br> 【包含目录】<br> <img src="https://images2.imgbox.com/fe/5a/npKF7Qvb_o.jpg" alt="在这里插入图片描述"><br> 【库目录】<br> <img src="https://images2.imgbox.com/71/31/jvgkenDP_o.jpg" alt="在这里插入图片描述"><br> <strong>5.2若是，则本教程无法解决，若不是，则分别在包含目录和库目录再加入以下目录：</strong></p> 
<p>在【包含目录】中加入如下图红框所示目录（来源于正确的 <mark>[继承的值]</mark>）：<br> $(VC_IncludePath)<br> $(WindowsSDK_IncludePath)</p> 
<p><img src="https://images2.imgbox.com/92/63/A0ZKYbQL_o.png" alt="在这里插入图片描述"><br> 添加后，会自动计算得到以下值（在 <mark>[计算的值]</mark> 中显示）<br> C:\vs\Program Files (x86)\Microsoft Visual Studio 14.0\VC\include<br> C:\vs\Program Files (x86)\Microsoft Visual Studio 14.0\VC\atlmfc\include<br> C:\Program Files (x86)\Windows Kits\10\Include\10.0.10150.0\ucrt<br> C:\Program Files (x86)\Windows Kits\8.1\Include\shared<br> C:\Program Files (x86)\Windows Kits\8.1\Include\um<br> C:\Program Files (x86)\Windows Kits\8.1\Include\winrt</p> 
<p>在【库目录】中加入如下图红框所示目录（来源于正确的 <mark>[继承的值]</mark>）：<br> $(VC_LibraryPath_x64)<br> $(WindowsSDK_LibraryPath_x64)<br> $(NETFXKitsDir)Lib\um\x64</p> 
<p><img src="https://images2.imgbox.com/a2/7c/hhYreQMZ_o.png" alt="在这里插入图片描述"><br> 添加后，会自动计算得到以下值（在 <mark>[计算的值]</mark> 中显示）<br> C:\vs\Program Files (x86)\Microsoft Visual Studio 14.0\VC\lib\amd64<br> C:\vs\Program Files (x86)\Microsoft Visual Studio 14.0\VC\atlmfc\lib\amd64<br> C:\Program Files (x86)\Windows Kits\10\Lib\10.0.10150.0\ucrt\x64<br> C:\Program Files (x86)\Windows Kits\8.1\Lib\winv6.3\um\x64<br> C:\Program Files (x86)\Windows Kits\NETFXSDK\4.6\Lib\um\x64</p> 
<p><strong>或者直接加入所有正确的 <mark>[计算的值]</mark>，所谓 <mark>“正确”</mark>，是指同版本配置成功的小伙伴的包含目录和库目录显示的 <mark>[计算的值]</mark> ，与vs相关的目录请结合自己vs安装目录。</strong></p> 
<p>在【包含目录】加入以下值：<br> C:\vs\Program Files (x86)\Microsoft Visual Studio 14.0\VC\include<br> C:\vs\Program Files (x86)\Microsoft Visual Studio 14.0\VC\atlmfc\include<br> C:\Program Files (x86)\Windows Kits\10\Include\10.0.10150.0\ucrt<br> C:\Program Files (x86)\Windows Kits\8.1\Include\shared<br> C:\Program Files (x86)\Windows Kits\8.1\Include\um<br> C:\Program Files (x86)\Windows Kits\8.1\Include\winrt</p> 
<p>在【库目录】加入以下值：<br> C:\vs\Program Files (x86)\Microsoft Visual Studio 14.0\VC\lib\amd64<br> C:\vs\Program Files (x86)\Microsoft Visual Studio 14.0\VC\atlmfc\lib\amd64<br> C:\Program Files (x86)\Windows Kits\10\Lib\10.0.10150.0\ucrt\x64<br> C:\Program Files (x86)\Windows Kits\8.1\Lib\winv6.3\um\x64<br> C:\Program Files (x86)\Windows Kits\NETFXSDK\4.6\Lib\um\x64</p> 
<p><strong>5.3保存后再次运行即可解决或者只剩一点小错误。</strong><br> 若出现报错：找不到opencv_world341d.lib，则在附加依赖项取消勾选继承，这是我之前装opencv3.4.1失败后留下的 <mark>“痕迹”</mark> 导致的错误。<br> <img src="https://images2.imgbox.com/41/bf/cZ5slTlQ_o.png" alt="在这里插入图片描述"></p> 
<p><strong>6.其他版本的vs和opencv配置时，如出现上述4中的问题，请按照5.2所述方法，分别在【包含目录】和【库目录】加入以下值（针对opencv x64），基本都可以解决。</strong></p> 
<p>【包含目录】<br> $(VC_IncludePath)<br> $(WindowsSDK_IncludePath)</p> 
<p>【库目录】<br> $(VC_LibraryPath_x64)<br> $(WindowsSDK_LibraryPath_x64)<br> $(NETFXKitsDir)Lib\um\x64</p> 
<p>若仍然不能解决，请查看已配置成功的小伙伴的【包含目录】，【库目录】的正确的【继承的值】/【计算的值】，然后对应加入即可。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/491420f6606a22584ce3768c3f7749ef/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ZStack-K8s三层互联互通方案</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3725c2fa2d4d9ab32fee24fa7ee7323d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[蓝桥杯] 合根植物</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>