<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>短短1天我学会了如何修改Butterfly的配置文件 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="短短1天我学会了如何修改Butterfly的配置文件" />
<meta property="og:description" content="欢迎访问我的个人博客，传送门。 目录
一、修改默认语言
二、创建标签、分类、关于和留言版页面
三、添加搜索框
四、飘带背景
五、使用Valine添加评论功能并支持邮箱提醒
六、收录谷歌、百度
一、修改默认语言 说明：安装Butterfly主题后，在浏览器显示的是英文，可以修改_config.yml配置文件变为中文。
cd blog/ //进入安装Hexo框架的目录 vim _config.yml 找到language并将其修改为 zh-CN 修改后使用命令：hexo clean、hexo g、hexo d 上传主题，验证是否修改成功。
注意：
①上传后并不能马上修改完成，需要一段反应时间（大概两分钟）。
②修改后顶部仍为英语，修改方法：
vim themes/Butterfly/_config.yml //如果未移动主题配置文件 vim source/_data/butterfly.yml //移动了文件 修改为中文：
再次上传后效果：
③若想屏蔽顶栏中的某一项（例如：娱乐），可以直接在主题配置文件中的对应文字前加 &#39; # &#39; 。
如果有更好的方法请留言、评论，谢谢！
二、创建标签、分类、关于和留言版页面 说明：
创建标签等链接入口后，点击仍会报404，因为我们还需要创建对应的页面。
创建方法：
1、标签页：
命令行输入：hexo new page tags
修改：source/tags/index.md文件
--- title: 标籤 date: 2018-01-05 00:00:00 type: &#34;tags&#34; --- 截图：
2、分类页：
命令行输入：hexo new page categories
修改source/categories/index.md文件
--- title: 分类 date: 2018-01-05 00:00:00 type: &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/fea41e7798487da85ba6fd5480cecbb7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-03-25T09:45:29+08:00" />
<meta property="article:modified_time" content="2020-03-25T09:45:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">短短1天我学会了如何修改Butterfly的配置文件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>欢迎访问我的个人博客，<a href="https://plushine.cn/" rel="nofollow" title="传送门">传送门</a>。</h2> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="main-toc-toc" style="margin-left:80px;"><a href="#main-toc" rel="nofollow">一、修改默认语言</a></p> 
<p id="%E4%BA%8C%E3%80%81%E5%88%9B%E5%BB%BA%E6%A0%87%E7%AD%BE%E3%80%81%E5%88%86%E7%B1%BB%E3%80%81%E5%85%B3%E4%BA%8E%E5%92%8C%E7%95%99%E8%A8%80%E7%89%88%E9%A1%B5%E9%9D%A2-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E3%80%81%E5%88%9B%E5%BB%BA%E6%A0%87%E7%AD%BE%E3%80%81%E5%88%86%E7%B1%BB%E3%80%81%E5%85%B3%E4%BA%8E%E5%92%8C%E7%95%99%E8%A8%80%E7%89%88%E9%A1%B5%E9%9D%A2" rel="nofollow">二、创建标签、分类、关于和留言版页面</a></p> 
<p id="%E4%B8%89%E3%80%81%E6%B7%BB%E5%8A%A0%E6%90%9C%E7%B4%A2%E6%A1%86-toc" style="margin-left:80px;"><a href="#%E4%B8%89%E3%80%81%E6%B7%BB%E5%8A%A0%E6%90%9C%E7%B4%A2%E6%A1%86" rel="nofollow">三、添加搜索框</a></p> 
<p id="%E5%9B%9B%E3%80%81%E9%A3%98%E5%B8%A6%E8%83%8C%E6%99%AF-toc" style="margin-left:80px;"><a href="#%E5%9B%9B%E3%80%81%E9%A3%98%E5%B8%A6%E8%83%8C%E6%99%AF" rel="nofollow">四、飘带背景</a></p> 
<p id="%E4%BA%94%E3%80%81%E4%BD%BF%E7%94%A8Valine%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD%E5%B9%B6%E6%94%AF%E6%8C%81%E9%82%AE%E7%AE%B1%E6%8F%90%E9%86%92-toc" style="margin-left:80px;"><a href="#%E4%BA%94%E3%80%81%E4%BD%BF%E7%94%A8Valine%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD%E5%B9%B6%E6%94%AF%E6%8C%81%E9%82%AE%E7%AE%B1%E6%8F%90%E9%86%92" rel="nofollow">五、使用Valine添加评论功能并支持邮箱提醒</a></p> 
<p id="%E5%85%AD%E3%80%81%E6%94%B6%E5%BD%95%E8%B0%B7%E6%AD%8C%E3%80%81%E7%99%BE%E5%BA%A6-toc" style="margin-left:80px;"><a href="#%E5%85%AD%E3%80%81%E6%94%B6%E5%BD%95%E8%B0%B7%E6%AD%8C%E3%80%81%E7%99%BE%E5%BA%A6" rel="nofollow">六、收录谷歌、百度</a></p> 
<hr id="hr-toc"> 
<h4>一、修改默认语言</h4> 
<p><span style="color:#f33b45;"><strong>说明：</strong></span>安装Butterfly主题后，在浏览器显示的是英文，可以修改_config.yml配置文件变为中文。</p> 
<pre><code>cd blog/   //进入安装Hexo框架的目录
vim _config.yml</code></pre> 
<p>找到language并将其修改为 zh-CN </p> 
<p><img alt="" height="356" src="https://images2.imgbox.com/e0/63/Cy5smFHd_o.png" width="527"></p> 
<p>修改后使用命令：hexo clean、hexo g、hexo d 上传主题，验证是否修改成功。</p> 
<p><span style="color:#f33b45;"><strong>注意：</strong></span></p> 
<p>①上传后并不能马上修改完成，需要一段反应时间（大概两分钟）。</p> 
<p>②修改后顶部仍为英语，修改方法：</p> 
<p><img alt="" height="184" src="https://images2.imgbox.com/ef/fc/3t9TKOaU_o.png" width="527"></p> 
<pre><code>vim themes/Butterfly/_config.yml //如果未移动主题配置文件
vim source/_data/butterfly.yml //移动了文件</code></pre> 
<p>修改为中文：</p> 
<p><img alt="" height="357" src="https://images2.imgbox.com/da/3d/JBnNV53t_o.png" width="527"></p> 
<p>再次上传后效果：</p> 
<p><img alt="" height="147" src="https://images2.imgbox.com/e4/e8/AFG6nIRJ_o.png" width="527"></p> 
<p>③若想屏蔽顶栏中的某一项（例如：<strong>娱乐</strong>），可以直接在主题配置文件中的对应文字前加 ' # ' 。</p> 
<p><img alt="" height="286" src="https://images2.imgbox.com/08/fc/kcjM7cyf_o.png" width="527"></p> 
<p><strong><span style="color:#f33b45;">如果有更好的方法请留言、评论，谢谢！</span></strong></p> 
<h4 id="%E4%BA%8C%E3%80%81%E5%88%9B%E5%BB%BA%E6%A0%87%E7%AD%BE%E3%80%81%E5%88%86%E7%B1%BB%E3%80%81%E5%85%B3%E4%BA%8E%E5%92%8C%E7%95%99%E8%A8%80%E7%89%88%E9%A1%B5%E9%9D%A2"><strong>二、创建标签、分类、关于和留言版页面</strong></h4> 
<p><span style="color:#f33b45;"><strong>说明：</strong></span></p> 
<p>创建标签等链接入口后，点击仍会报404，因为我们还需要创建对应的页面。</p> 
<p><span style="color:#f33b45;"><strong>创建方法：</strong></span></p> 
<p>1、标签页：</p> 
<p>命令行输入：hexo new page tags</p> 
<p>修改：<code>source/tags/index.md</code>文件</p> 
<pre><code>---
title: 标籤
date: 2018-01-05 00:00:00
type: "tags"
---</code></pre> 
<p>截图：</p> 
<p><img alt="" height="252" src="https://images2.imgbox.com/8e/66/Sgv9NUfm_o.png" width="527"></p> 
<p>2、分类页：</p> 
<p>命令行输入：hexo new page categories</p> 
<p>修改<code>source/categories/index.md</code>文件</p> 
<pre><code>---
title: 分类
date: 2018-01-05 00:00:00
type: "categories"
---</code></pre> 
<p>截图： </p> 
<p><img alt="" height="251" src="https://images2.imgbox.com/61/6d/SeM01yE2_o.png" width="527"></p> 
<p>3、留言板页面：</p> 
<p>命令行输入：hexo new page messageboard</p> 
<p>修改<code>source/messageboard/index.md</code>文件</p> 
<pre><code>---
title: 留下你的想法~
date: 2018-01-05 00:00:00
---</code></pre> 
<p>修改主题配置文件：添加如下字段</p> 
<p><img alt="" height="360" src="https://images2.imgbox.com/8e/55/N2bLX4Bt_o.png" width="527"></p> 
<p>截图：</p> 
<p><img alt="" height="252" src="https://images2.imgbox.com/ef/d4/Ya5If43s_o.png" width="527"></p> 
<p><strong>感谢: </strong><a href="https://www.lucfzy.com/2020/02/butterfly-theme/#%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B" rel="nofollow" id="site-name" title="可乐不加冰">可乐不加冰</a> <a href="https://www.shawnlin.cn/messageboard/" rel="nofollow" title="Shawn's Blog">Shawn's Blog</a></p> 
<h4 id="%E4%B8%89%E3%80%81%E6%B7%BB%E5%8A%A0%E6%90%9C%E7%B4%A2%E6%A1%86">三、添加搜索框</h4> 
<p><span style="color:#f33b45;"><strong>说明：</strong></span></p> 
<p>①添加后效果：</p> 
<p><img alt="" height="262" src="https://images2.imgbox.com/f9/f9/Ay9hlUnj_o.png" width="527"></p> 
<p>图源：<a href="https://www.shawnlin.cn/" rel="nofollow" title="Shawn's Blog">Shawn's Blog</a> </p> 
<p>②作用：键入任意关键字找到包含这些关键字的文章。</p> 
<p><span style="color:#f33b45;"><strong>安装方法：</strong></span></p> 
<p>1、安装 hexo-generator-searchdb 搜索插件</p> 
<pre><code>npm install hexo-generator-searchdb --save</code></pre> 
<p>2、修改配置文件：</p> 
<pre><code>vim source/_data/butterfly.yml</code></pre> 
<p>找到local_search将enable修改为true： </p> 
<p><img alt="" height="354" src="https://images2.imgbox.com/9d/ba/sBhlCo5p_o.png" width="527"></p> 
<p>更新后即可看到 “搜索” 自动添加到了上方：</p> 
<p><img alt="" height="107" src="https://images2.imgbox.com/0e/d2/CfhbGwgN_o.png" width="527"></p> 
<p><strong>感谢：</strong><a href="https://www.itfanr.cc/2017/10/27/add-search-function-to-hexo-blog/" rel="nofollow" title="IT范儿">IT范儿</a></p> 
<h4 id="%E5%9B%9B%E3%80%81%E9%A3%98%E5%B8%A6%E8%83%8C%E6%99%AF">四、飘带背景</h4> 
<p><span style="color:#f33b45;"><strong>说明：</strong></span>主题支持的动态背景很多，都加上又显得太乱不符合Butterfly主题的 “简洁气质” ，飘带背景还是很吸引我的。</p> 
<p>安装后样式：</p> 
<p><img alt="" height="376" src="https://images2.imgbox.com/32/c3/1YNxQZZ5_o.png" width="527"></p> 
<p>安装方法：</p> 
<p>①vim进入主题配置文件</p> 
<p>②找到canvas_ribbon：</p> 
<p><img alt="" height="355" src="https://images2.imgbox.com/a1/64/QrvLIGXm_o.png" width="527"></p> 
<h4 id="%E4%BA%94%E3%80%81%E4%BD%BF%E7%94%A8Valine%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD%E5%B9%B6%E6%94%AF%E6%8C%81%E9%82%AE%E7%AE%B1%E6%8F%90%E9%86%92">五、使用Valine添加评论功能并支持邮箱提醒</h4> 
<p><span style="color:#f33b45;"><strong>说明：</strong></span>读者在文章下留言，由于Hexo框架不支持后端，博主无法立即收到消息就缺失了博客的意义。</p> 
<p>安装后效果：</p> 
<p><img alt="" height="285" src="https://images2.imgbox.com/fd/ea/4uN17ISe_o.png" width="527"></p> 
<p><strong>安装方法：</strong></p> 
<p>1、注册账号并进入：<a href="https://leancloud.cn/dashboard/login.html#/signin" rel="nofollow" title="LeanCloud">LeanCloud</a></p> 
<p>2、创建应用：</p> 
<p><img alt="" height="389" src="https://images2.imgbox.com/89/3a/YMdTP7ty_o.png" width="527"></p> 
<p>3、创建后点击设置进入应用：</p> 
<p><img alt="" height="316" src="https://images2.imgbox.com/5d/36/k5RJGyKf_o.png" width="527"></p> 
<p>4、复制AppID、AppKey</p> 
<p><img alt="" height="328" src="https://images2.imgbox.com/a7/f2/Dve8JKeF_o.png" width="527"></p> 
<p>5、修改主题配置文件</p> 
<p>找到valine，enable设为true并分别将复制的id和key填入。</p> 
<p><img alt="" height="354" src="https://images2.imgbox.com/d2/fc/DlzjOqfp_o.png" width="527"></p> 
<p><strong>感谢：</strong><a href="https://valine.js.org/quickstart.html" rel="nofollow" title="Valine">Valine</a> </p> 
<p>6、设置邮箱提醒：</p> 
<p>①点击 <code>云引擎 -&gt; 设置</code> 填写代码库并保存：<code>https://github.com/zhaojun1998/Valine-Admin</code></p> 
<p><img alt="" height="256" src="https://images2.imgbox.com/4e/61/0oJjkUTD_o.png" width="527"></p> 
<p>切换到部署标签页</p> 
<p><img alt="" height="273" src="https://images2.imgbox.com/52/c2/8WFkvy5r_o.png" width="527"></p> 
<p>分支或版本号：master，点击部署：</p> 
<p><img alt="" height="299" src="https://images2.imgbox.com/62/03/XVoRmaKD_o.png" width="527"></p> 
<p>②添加配置项：</p> 
<p>点击配置-》自定义环境变量：</p> 
<p><img alt="" height="336" src="https://images2.imgbox.com/c2/88/B3agPHi4_o.png" width="527"></p> 
<p>添加新变量：</p> 
<p><img alt="" height="392" src="https://images2.imgbox.com/74/e3/zBMGJSLh_o.png" width="900"></p> 
<p>③设置定时休眠</p> 
<p>配置Web主机：</p> 
<p><img alt="" height="420" src="https://images2.imgbox.com/c3/2f/o0UKMkLU_o.png" width="527"></p> 
<p>使用LeanCloud自带定时器，需要添加环境变量，<code>ADMIN_URL</code>：<code>Web 主机域名</code>，如图所示（添加后重启容器才会生效）：</p> 
<p><img alt="" height="75" src="https://images2.imgbox.com/8b/43/7kRvdFbh_o.png" width="727"></p> 
<p>点击云引擎 - 定时任务 - 创建定时任务，按照图片填写：</p> 
<p><img alt="" height="303" src="https://images2.imgbox.com/c6/08/yZftuQ3J_o.png" width="827"></p> 
<p> Cron 表达式写为:  </p> 
<pre><code>0 */20 7-23 * * ?</code></pre> 
<p> <strong>感谢：</strong><strong><a href="https://github.com/zhaojun1998/Valine-Admin/blob/master/%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE.md#leancloud-%E4%BC%91%E7%9C%A0%E7%AD%96%E7%95%A5" title="Valine-Admin">Valine-Admin</a></strong></p> 
<p>④重启容器：</p> 
<p><img alt="" height="412" src="https://images2.imgbox.com/75/d6/ZtCGAe1e_o.png" width="827"></p> 
<p>④安装后邮件样式：</p> 
<p>评论：</p> 
<p><img alt="" height="137" src="https://images2.imgbox.com/27/43/wVXFZRU1_o.png" width="527"></p> 
<p>博主邮箱：</p> 
<p><img alt="" height="250" src="https://images2.imgbox.com/0e/13/DJV59LfT_o.png" width="527"></p> 
<p>读者邮箱：</p> 
<p><img alt="" height="361" src="https://images2.imgbox.com/0a/c3/owUbj6HS_o.png" width="527"></p> 
<h4 id="%E5%85%AD%E3%80%81%E6%94%B6%E5%BD%95%E8%B0%B7%E6%AD%8C%E3%80%81%E7%99%BE%E5%BA%A6">六、收录谷歌、百度</h4> 
<p>1、 查看收录情况：</p> 
<pre><code>地址栏输入：site:xingjiahui.top</code></pre> 
<p>谷歌：(能查到说明已经被收录，否则未被收录)</p> 
<p><img alt="" height="368" src="https://images2.imgbox.com/25/2e/by9NPlfu_o.png" width="527"></p> 
<p>百度：</p> 
<p> <img alt="" height="244" src="https://images2.imgbox.com/50/11/ay6v3E3G_o.png" width="527"></p> 
<p><strong>注意：</strong>由于github禁止百度爬虫爬取，所以不可能自动爬到我们的博客，想被百度收录只能主动提交。</p> 
<p>2、验证、提交网站：<a href="https://www.ancii.com/avcwpl4d6/" rel="nofollow" title="JingLisen">JingLisen</a> </p> 
<p><strong>更多内容：</strong><a href="https://blog.csdn.net/weixin_43350051/article/details/104878799" title="Hexo博客框架攻略">Hexo博客框架攻略</a></p> 
<p><span style="color:#f33b45;"><strong>不足之处请留言、评论，谢谢！</strong></span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fd83d0ee147d1b7181960457066cf153/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">在java中哈希表判断某个元素是否存在的原理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/751c908bd0986d2e4c35b62ee03fdda6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">爬虫Jsoup设置代理</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>