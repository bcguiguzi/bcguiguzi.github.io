<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>arcgis dem栅格立体感_ArCGIS中DEM地形鞍部提取 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="arcgis dem栅格立体感_ArCGIS中DEM地形鞍部提取" />
<meta property="og:description" content="01 流程图 利用水文分析提取山脊线及山谷线，山脊线相当于分水线，山谷线相当于山谷线。分水线是水流的起源点，这些栅格的水流方向只存在流出方向而不存在流入方向，所以汇流累积量为零。通过对零值的提取就可以得到山脊线。
山谷线相当于汇水线要用反地形求出，即用较大值减去DEM，DEM中山脊线就成为山谷线，山谷线变为山脊线，用求山脊线的方法求出山谷线，分别利用正反地形求交验证。
DEM进行填洼，利用水文分析求出流向流量，再提取出汇流累积量为零得值与正地形求交，即得到分水线也就是山脊线。用反地形求流向流量提取汇流累积量为零的部分与负地形求交就是山谷线。
将山脊线与山谷线求交得到鞍部点。
图1-1 流程图
02 操作步骤 2.1 正地形、等高线和晕渲图的提取
(1)加载DEM数据，在ArcToolbox中选择Spacial Analyst Tools → Neighborhood→Focus Statistics工具，输入dem，利用11*11窗口计算平均值。设置如图2-1所示。
图2-1 焦点统计设置
(2)在ArcToolbox中选择Spacial Analyst Tools →Map Algebra →Raster Calculator工具，对原始数据与焦点统计后的DEM做减法。结果如图2-2所示。
图2-2 减法计算结果
(3)在ArcToolbox中选择Spacial Analyst Tools →Reclass→Reclassify工具，对减法运算结果进行重分类，分级界线为0。将大于0的区域赋值为1，小于0的区域赋值为0即得到正地形；设置如图2-3所示，结果如图2-4所示。
图2-3 正地形重分类设置
图2-4 正地形结果图
(4)生成等值线：在ArcToolbox中选择Spacial Analyst Tools →Surface→Contour工具，输入原始DEM数据生成间距为40的等值线。设置如图2-5所示，结果如图2-6所示。
图2-5 生成等值线设置
图2-6 生成等值线结果图
(5)生成山体阴影：在ArcToolbox中选择Spacial Analyst Tools →Surface→hillshade工具，输入原始DEM，其他设置按默认如图2-7所示，结果如图2-8所示。
图2-7 生成山体阴影设置
图2-8 DEM晕渲图
2.2 山脊线的提取
(1)填洼：加载DEM数据，在ArcToolbox中选择Spacial Analyst Tools →Hydrology→Fill工具，输入DEM进行填洼.
(2)流向计算：在ArcToolbox中选择Spacial Analyst Tools → Hydrology → Flow Direction工具，输入填洼后的DEM，得到流向数据，设置如图2-9所示，结果如图2-10所示。
图2-9 流向生成设置" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/a6e54bcce768694dffd438e876be61f2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-12-01T12:51:31+08:00" />
<meta property="article:modified_time" content="2020-12-01T12:51:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">arcgis dem栅格立体感_ArCGIS中DEM地形鞍部提取</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="._5ce-wx-style" style="font-size:16px;"> 
 <div class="rich_media_content" id="js_content"> 
  <p><img src="https://images2.imgbox.com/17/6b/6FYu3Uht_o.gif" alt="341b10065df265f4b6e5f186fbea9bd4.gif"></p>01 
  <strong>流程图</strong> 
  <p>利用水文分析提取山脊线及山谷线，山脊线相当于分水线，山谷线相当于山谷线。分水线是水流的起源点，这些栅格的水流方向只存在流出方向而不存在流入方向，所以汇流累积量为零。通过对零值的提取就可以得到山脊线。</p> 
  <p>山谷线相当于汇水线要用反地形求出，即用较大值减去DEM，DEM中山脊线就成为山谷线，山谷线变为山脊线，用求山脊线的方法求出山谷线，分别利用正反地形求交验证。</p> 
  <p>DEM进行填洼，利用水文分析求出流向流量，再提取出汇流累积量为零得值与正地形求交，即得到分水线也就是山脊线。用反地形求流向流量提取汇流累积量为零的部分与负地形求交就是山谷线。</p> 
  <p>将山脊线与山谷线求交得到鞍部点。</p> 
  <p><img src="https://images2.imgbox.com/be/73/o7XVq0fW_o.png" alt="755ac0736ebae0da482681bec7559eca.png"></p> 
  <p>图1-1 流程图</p>02 
  <strong>操作步骤</strong> 
  <p><strong>2.1 正地形、等高线和晕渲图的提取</strong></p> 
  <p>(1)加载DEM数据，在ArcToolbox中选择Spacial Analyst Tools → Neighborhood→Focus Statistics工具，输入dem，利用11*11窗口计算平均值。设置如图2-1所示。</p> 
  <p><img src="https://images2.imgbox.com/f1/79/BM8ZCPVp_o.png" alt="201a7dafa9e3925587c1c3f54abd8f03.png"></p> 
  <p>图2-1 焦点统计设置</p> 
  <p>(2)在ArcToolbox中选择Spacial Analyst Tools →Map Algebra →Raster Calculator工具，对原始数据与焦点统计后的DEM做减法。结果如图2-2所示。</p> 
  <p><img src="https://images2.imgbox.com/a0/09/8NJYvAGi_o.png" alt="42b812fe97d0476203aa727a499a42c1.png"></p> 
  <p>图2-2 减法计算结果</p> 
  <p>(3)在ArcToolbox中选择Spacial Analyst Tools →Reclass→Reclassify工具，对减法运算结果进行重分类，分级界线为0。将大于0的区域赋值为1，小于0的区域赋值为0即得到正地形；设置如图2-3所示，结果如图2-4所示。</p> 
  <p><img src="https://images2.imgbox.com/85/1c/j4K4bMaV_o.png" alt="269464d3fc3ff4b1c8cfffb13a84046a.png"></p> 
  <p>图2-3 正地形重分类设置</p> 
  <p><img src="https://images2.imgbox.com/99/78/G5ERkOBP_o.png" alt="d5dfce89a2d18005bfdd880999fbbeb2.png"></p> 
  <p>图2-4 正地形结果图</p> 
  <p>(4)生成等值线：在ArcToolbox中选择Spacial Analyst Tools →Surface→Contour工具，输入原始DEM数据生成间距为40的等值线。设置如图2-5所示，结果如图2-6所示。</p> 
  <p><img src="https://images2.imgbox.com/60/ef/whVK2VDF_o.png" alt="68a13000124ef2b24a129250921d94f2.png"></p> 
  <p>图2-5 生成等值线设置</p> 
  <p><img src="https://images2.imgbox.com/cd/f6/e3295LHC_o.png" alt="07e72871f435214e6304a098bca0a948.png"></p> 
  <p>图2-6 生成等值线结果图</p> 
  <p>(5)生成山体阴影：在ArcToolbox中选择Spacial Analyst Tools →Surface→hillshade工具，输入原始DEM，其他设置按默认如图2-7所示，结果如图2-8所示。</p> 
  <p><img src="https://images2.imgbox.com/73/6e/AzifAJcj_o.png" alt="610295276ffdbbb828eb06e7b5c9a274.png"></p> 
  <p>图2-7 生成山体阴影设置</p> 
  <p><img src="https://images2.imgbox.com/90/be/VgdAASWy_o.png" alt="e89e2acb61782368edb476cab42c2c59.png"></p> 
  <p>图2-8 DEM晕渲图</p> 
  <p><strong>2.2 山脊线的提取</strong></p> 
  <p>(1)填洼：加载DEM数据，在ArcToolbox中选择Spacial Analyst Tools →Hydrology→Fill工具，输入DEM进行填洼.</p> 
  <p>(2)流向计算：在ArcToolbox中选择Spacial Analyst Tools → Hydrology → Flow Direction工具，输入填洼后的DEM，得到流向数据，设置如图2-9所示，结果如图2-10所示。</p> 
  <p><img src="https://images2.imgbox.com/3b/15/tpNkXXzT_o.png" alt="95ba0cef4c719f5e83d6910debde31e1.png"></p> 
  <p>图2-9 流向生成设置</p> 
  <p><img src="https://images2.imgbox.com/cd/bd/qUeGKrwK_o.png" alt="732d15d52a1268c2625dfe535085023a.png"></p> 
  <p>图2-10 生成流向结果图</p> 
  <p>(3)汇流累积量：在ArcToolbox中选择Spacial Analyst Tools →Hydrology→Flow Accumulation工具，输入流向数据，得到流量数据，结果如图2-11所示。</p> 
  <p><img src="https://images2.imgbox.com/0a/3e/OuDuJwdG_o.png" alt="ef377d7d16567fd790e853d54d1d2393.png"></p> 
  <p>图2-11 汇流累积量结果图</p> 
  <p>(4)汇流累积量为0值得提取：在ArcToolbox中选择Spacial Analyst Tools →Map Algebra→Raster Calculator工具，输入公式如图2-12所示，结果如图2-13所示。</p> 
  <p><img src="https://images2.imgbox.com/4c/48/7gxqifQo_o.png" alt="04efba9e973e4fdb1cef553e7f7727d9.png"></p> 
  <p>图2-12 提取汇流累积量为0的值</p> 
  <p><img src="https://images2.imgbox.com/ab/37/cnHzvt9f_o.png" alt="0700e591f65c9de8dbf2ef54595fb3e0.png"></p> 
  <p>图2-13 汇流累积量为0值的结果</p> 
  <p>(5)利用邻域分析方法，对提取出来的0值结果进行3x3邻域分析，求均值，是数据光滑。设置如图2-14所示，结果如图2-15所示。</p> 
  <p><img src="https://images2.imgbox.com/87/46/h1Lq5nWJ_o.png" alt="1ee9752831fca16e14517f414e20beaa.png"></p> 
  <p>图2-14 邻域分析设置</p> 
  <p><img src="https://images2.imgbox.com/2b/e3/Rooa8g37_o.png" alt="befe01bdcc9a30fc07f4e43957f6b4ab.png"></p> 
  <p>图2-15 0值部分求均值结果</p> 
  <p>(6)在求均值后的0值汇流累积量数据上单击右键，选择属性，进行重新分级，将数据分为两级，调整临界点，以等值线图和晕渲图进行判断，属性值越接近1越可能是山脊线位置，确定分界阈值为0.5541.设置如图2-16所示。</p> 
  <p><img src="https://images2.imgbox.com/34/75/xDEvy0GU_o.png" alt="1a297ebc7bfa6b1c1414b3efce7747c3.png"></p> 
  <p>图2-16 对均值后的数据进行分类</p> 
  <p>(7)将属性直接近1的的一类属性值设为1，其余的设为0。</p> 
  <p>(8)在ArcToolbox中选择Spacial Analyst Tools →Map Algebra→Raster Calculator工具，将重分类后的数据与正地形数据相乘，可以消除存在于负地形区域的错误山脊线。然后将计算结果重分类，属性部位1的栅格设为NODATA，就得到了山脊线，结果如图2-17所示。</p> 
  <p><img src="https://images2.imgbox.com/73/9e/bKX5CTF8_o.png" alt="be214ea71dabd5ab4b2d9fbc1c84d416.png"></p> 
  <p>图2-17 计算出研究区域的山脊线</p> 
  <p><strong>2.3 反地形山脊的提取</strong></p> 
  <p>(1)在ArcToolbox中选择Spacial Analyst Tools →Map Algebra→Raster Calculator工具计算反地形，公式为Abs(dem-2000)，得到反地形数据。如图2-18所示。</p> 
  <p><img src="https://images2.imgbox.com/40/d5/tlfBjHgt_o.png" alt="c9b1d6d6c233c0f8e2a9f8709b7ac21c.png"></p> 
  <p>图2-18反地形数据</p> 
  <p>(2)流向计算：在ArcToolbox中选择Spacial Analyst Tools →Hydrology→Flow Direction工具，输入反地形数据，得到流量数据，结果如图2-19所示。</p> 
  <p><img src="https://images2.imgbox.com/0a/f4/U0SG6J9i_o.png" alt="36a2df3f4485f19a3ef2619e8f2da6e3.png"></p> 
  <p>图2-19 生成流向结果图</p> 
  <p>(3)汇流累积量：在ArcToolbox中选择Spacial Analyst Tools →Hydrology→Flow Accumulation工具，输入流向数据，得到流量数据，设置如结果如图2-20所示。</p> 
  <p><img src="https://images2.imgbox.com/33/52/AQIhtgGu_o.png" alt="1553e2f5c6576839161237591b4a8503.png"></p> 
  <p>图2-20 汇流累积量结果图</p> 
  <p>(4)汇流累积量为0值得提取：在ArcToolbox中选择Spacial Analyst Tools →Map Algebra→Raster Calculator工具，结果如图2-21所示。</p> 
  <p><img src="https://images2.imgbox.com/d7/6d/yb1SRvgc_o.png" alt="b21f351af027a8d431b2d5ff3328a805.png"></p> 
  <p>图2-21 汇流累积量为0值的结果</p> 
  <p>(5)利用邻域分析方法，对提取出来的0值结果进行3x3邻域分析，求均值，是数据光滑。结果如图2-22所示。</p> 
  <p><img src="https://images2.imgbox.com/da/c1/DQ3xbQbR_o.png" alt="83db4c6c2673a371254232eb5bca2ea7.png"></p> 
  <p>图2-22 0值部分求均值结果</p> 
  <p>(6)在求均值后的0值汇流累积量数据上单击右键，选择属性，进行重新分级，将数据分为两级，调整临界点，以等值线图和晕渲图进行判断，属性值越接近1越可能是山脊线位置，确定分界阈值为0.65667。</p> 
  <p>(7)将属性直接近1的的一类属性值设为1，其余的设为0。</p> 
  <p>(8)在ArcToolbox中选择Spacial Analyst Tools →Map Algebra→Raster Calculator工具，将重分类后的数据与负地形数据相乘，可以消除存在于正负地形区域的错误山脊线。然后将计算结果重分类，属性部位1的栅格设为NODATA，就得到了山谷线，结果如图2-23所示。</p> 
  <p><img src="https://images2.imgbox.com/be/bf/XAKgR9Px_o.png" alt="11251242462624815c9f8926545047ff.png"></p> 
  <p>图2-23 计算出研究区域的山谷线</p> 
  <p><strong>2.4 鞍部点的提取</strong></p> 
  <p>(1)在ArcToolbox中选择Spacial Analyst Tools →Map Algebra→Raster Calculator工具，将山脊线数据与山谷线数据相乘，得到结果为鞍部区。结果如图2-24所示。</p> 
  <p><img src="https://images2.imgbox.com/a9/d8/7ge5FPIO_o.png" alt="7ef4417ba62a365b424e19dae0e5849f.png"></p> 
  <p>图2-24 鞍部区结果图</p> 
  <p>(2)鞍部区与正地形数据相乘得到鞍部点的栅格数据，重分类栅格数据所有0值赋为NoData，属性为1的值保持不变，得到重分类栅格鞍部点。在ArcToolbox中选择Convertion Tools →From Raster→Raster to Point工具，得到矢量的点。结果如图2-25所示。</p> 
  <p><img src="https://images2.imgbox.com/ab/55/mAUeumXH_o.png" alt="2f10adcc096655dc0dc005391cda11f2.png"></p> 
  <p>图2-25 栅格鞍部点转为矢量结果</p> 
  <p>(3)配合等高线和晕渲数据，删除处于样区边缘以及内部的伪鞍部点，最后得到鞍部点如图2-26所示。</p> 
  <p><img src="https://images2.imgbox.com/32/66/aJtFQE4H_o.png" alt="5201722853df5df58f9e58ffe7c8f6d5.png"></p> 
  <p>图2-26 最终得到的鞍部点结果图</p> 
  <p><strong>2.5 制作专题图</strong></p> 
  <p>打开Layerout view对话框，分别添加dem，山脊山谷线结果，插入图名图例比例尺指北针等地图制图要素，调整后制作专题图表，结果如图2-27所示。</p> 
  <p><img src="https://images2.imgbox.com/13/0d/UufG055f_o.png" alt="0a7739fc025364b7e6fade4a71b78297.png"></p> 
  <p>图2-27 鞍部点专题图</p> 
  <p>文章转载于：CSDN，作者：BigSun1993</p> 
  <p>版权归原作者所有，如有侵权请告知删除</p> 
  <p>- END -</p> 
  ArcGIS中使用DEM山体阴影制作精美地形图 
  ArcGIS实现由DEM创建明暗等高线 
  7.72GB ARCGIS  ERDAS  ENVI干货教程网盘下载 
  ArcGIS Python资源收集帖 
  在ArcGIS中利用等高线生成DEM技巧教学 
  <p><img src="https://images2.imgbox.com/40/bb/GzI5V0rv_o.png" alt="2ec2e138dea27bfea53a15f24d2c45e5.png"></p> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ada2a3f3a0da6264aa4d191492a5529a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C#（WinForm)实现二维码的生成与解码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/43349368e42dfb06b0424a76b3cd0a08/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[记录]数据库小技巧</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>