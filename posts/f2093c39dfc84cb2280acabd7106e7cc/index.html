<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>嵌入式物联网毕业设计选题智能图像识别项目-stm32mp157 linux开发板 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="嵌入式物联网毕业设计选题智能图像识别项目-stm32mp157 linux开发板" />
<meta property="og:description" content="stm32mp157开发板FS-MP1A是华清远见自主研发的一款高品质、高性价比的Linux&#43;单片机二合一的嵌入式教学级开发板。开发板搭载ST的STM32MP157高性能微处理器，集成2个Cortex-A7核和1个Cortex-M4 核，A7核上可以跑Linux操作系统，M4核上可以跑FreeRTOS、RT-Thread等实时操作系统。开发板搭配仿真器、显示屏、摄像头、资源扩展板等丰富的扩展模块，可拓展物联网、人工智能等相关技术学习，还可以拓展丰富的项目实战，非常贴合企业当下开发需求，是一款嵌入式Linux入门进阶必备开发板！
可学习技术：嵌入式Linux应用/系统/驱动开发、ARM裸机开发、Qt界面编程、STM32单片机、FreeRTOS、人工智能机器视觉等。其中ARM Cortex-A7裸机开发课程是华清远见独有特色课程，可关注：https://www.bilibili.com/video/BV1Xe4y1i7vm/，持续更新中。
14个Linux&#43;Qt综合项目案例，6个MP1A物联网拓展项目
关注公众号“华清远见在线实验室”，回复“mp157项目”，即可领取项目配套文档及源码。 Linux&#43;Qt综合项目案例：华清远见stm32mp157开发板优势特色部分，包括音乐播放器、智慧家庭、智能工业电表、智能出行助手、智能猫眼、环境监测、智能安防、智能语音识别等10余个项目案例，涉及家居、医疗、农业多种应用方向，在案例中使用了多种物联网和嵌入式技术，包括OT开发、linux应用开发、linux驱动开发、物联网云端接入、MQTT协议、json字符串等知识点。
基于Linux&#43;Qt的智能图像识别项目 项目简介：
提到图像识别，一般都会想到人工智能。虽然现在人工智能还在发展阶段，但是有些技术已经成熟，比如图像识别、语音识别等。本项目将调用百度 AI 开发平台 API 进行图像识别。
开发平台：
华清远见stm32mp157开发板豪华套餐（开发板&#43;仿真器&#43;五寸屏&#43;摄像头&#43;资源扩展板&#43;tf卡&#43;读卡器）
项目实战：
Qt 开发环境搭建 主机开发环境说明 1) 本文档主要介绍 linux 环境下的 Qt 程序开发；
2) 主机 Qt 版本为 5.14.1；
主机 Qt 环境搭建及使用 Qt Creator 安装 将 qt-creator-opensource-linux-x86_64-4.10.1.run（Qt 实验源码\工具软件） 复制到 ubuntu 主机中，可以采用共享文件夹的方式也可以使用 tfp方式将文 件存入家目录下的 Downloads 目录。我们需要在终端中赋予安装程序可执行的权限
我们可以使用图形化的文件管理器来查看
双击“qt-creator-opensource-linux-x86_64-4.10.1.run”图标运行安装程序。出现如下界面：
等待程序验证完成后点击“Next”
这里我们需要登录或者注册一个账号，如果我们之前已经注册过直接登录就可以。如果没有注册过则需要新注册有一个账号后登录。这里笔者已经注册过账号，所以直接登录。 登录成功后出现如下界面，点击 Next
这里选择安装路径
可以直接默认，Next
这路选择安装的组件，直接默认即可
这里我们需要同意用户协议
这个界面告诉我们安装完成后需要占用的空间。点击”Install”按钮后开始安装。
安装完成后出现如下界面
点击“Finish”按钮后将弹出 Qt Creator 主界面
点击“Cancel”按钮后即可正常使用
Qt5.14.1 安装 复制到 qt-opensource-linux-x64-5.14.1.run（Qt 实验源码\工具软件）到 ubuntu 主机中，可以采用共享文件夹的方式也可以使用 tfp 方式将文件存入家目录下的 Downloads 目录。进入所在文件夹，先给执行权限" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/f2093c39dfc84cb2280acabd7106e7cc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-08T16:24:02+08:00" />
<meta property="article:modified_time" content="2023-03-08T16:24:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">嵌入式物联网毕业设计选题智能图像识别项目-stm32mp157 linux开发板</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <p style="text-align:left;">stm32mp157开发板FS-MP1A是华清远见自主研发的一款高品质、高性价比的Linux+单片机二合一的嵌入式教学级开发板。开发板搭载ST的STM32MP157高性能微处理器，集成2个Cortex-A7核和1个Cortex-M4 核，A7核上可以跑Linux操作系统，M4核上可以跑FreeRTOS、RT-Thread等实时操作系统。开发板搭配仿真器、显示屏、摄像头、资源扩展板等丰富的扩展模块，可拓展物联网、人工智能等相关技术学习，还可以拓展丰富的项目实战，非常贴合企业当下开发需求，是一款嵌入式Linux入门进阶必备开发板！</p> 
 <p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">可学习技术</span>：嵌入式Linux应用/系统/驱动开发、ARM裸机开发、Qt界面编程、STM32单片机、FreeRTOS、人工智能机器视觉等。其中ARM Cortex-A7裸机开发课程是华清远见独有特色课程，可关注：<a class="kdocs-link" style="color:#0A6CFF;" href="https://www.bilibili.com/video/BV1Xe4y1i7vm/" rel="nofollow noopener noreferrer" target="_blank">https://www.bilibili.com/video/BV1Xe4y1i7vm/</a>，持续更新中。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:276px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.550724%;height:0;"> 
    <img src="https://images2.imgbox.com/71/98/ivOBqwIZ_o.png" style="margin-left:;display:block;width:276px;margin-top:-48.550724%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">14个Linux+Qt综合项目案例，6个MP1A物联网拓展项目</p> 
 <p style="text-align:left;"><span class="kdocs-color" style="color:#C21C13;"><span class="kdocs-bold" style="font-weight:bold;">关注公众号“华清远见在线实验室”，回复“mp157项目”，即可领取项目配套文档及源码。 </span></span></p> 
 <p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">Linux+Qt综合项目案例</span>：华清远见stm32mp157开发板优势特色部分，包括音乐播放器、智慧家庭、智能工业电表、智能出行助手、智能猫眼、环境监测、智能安防、智能语音识别等10余个项目案例，涉及家居、医疗、农业多种应用方向，在案例中使用了多种物联网和嵌入式技术，包括OT开发、linux应用开发、linux驱动开发、物联网云端接入、MQTT协议、json字符串等知识点。</p> 
 <h2 style="text-align:center;"><span class="kdocs-bold" style="font-weight:bold;">基于Linux+Qt的智能图像识别项目</span></h2> 
 <p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">项目简介：</span></p> 
 <p style="text-align:left;">提到<span class="kdocs-bold" style="font-weight:bold;">图像识别</span>，一般都会想到人工智能。虽然现在人工智能还在发展阶段，但是有些技术已经成熟，比如图像识别、语音识别等。本项目将调用百度 AI 开发平台 API 进行图像识别。</p> 
 <p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">开发平台：</span></p> 
 <p style="text-align:left;">华清远见stm32mp157开发板豪华套餐（开发板+仿真器+五寸屏+摄像头+资源扩展板+tf卡+读卡器）</p> 
 <p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">项目实战：</span></p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">Qt 开发环境搭建</span></h3> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">主机开发环境说明</span></h4> 
 <p style="text-align:left;">1) 本文档主要介绍 linux 环境下的 Qt 程序开发；</p> 
 <p style="text-align:left;">2) 主机 Qt 版本为 5.14.1；</p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">主机 Qt 环境搭建及使用</span></h3> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">Qt Creator 安装</span></h4> 
 <p style="text-align:left;">将 qt-creator-opensource-linux-x86_64-4.10.1.run（Qt 实验源码\工具软件） 复制到 ubuntu 主机中，可以采用共享文件夹的方式也可以使用 tfp方式将文 件存入家目录下的 Downloads 目录。我们需要在终端中赋予安装程序可执行的权限</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:420px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:7.6190476%;height:0;"> 
    <img src="https://images2.imgbox.com/4d/be/lPMPk8A3_o.png" style="margin-left:;display:block;width:420px;margin-top:-7.6190476%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">我们可以使用图形化的文件管理器来查看</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:315px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:66.031746%;height:0;"> 
    <img src="https://images2.imgbox.com/98/93/FNRcdcxH_o.png" style="margin-left:;display:block;width:315px;margin-top:-66.031746%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">双击“qt-creator-opensource-linux-x86_64-4.10.1.run”图标运行安装程序。出现如下界面：</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:293px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:72.35495%;height:0;"> 
    <img src="https://images2.imgbox.com/20/7c/jnTLkcJs_o.png" style="margin-left:;display:block;width:293px;margin-top:-72.35495%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">等待程序验证完成后点击“Next”</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:292px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:71.23288%;height:0;"> 
    <img src="https://images2.imgbox.com/a0/3a/NG7HCx5S_o.png" style="margin-left:;display:block;width:292px;margin-top:-71.23288%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">这里我们需要登录或者注册一个账号，如果我们之前已经注册过直接登录就可以。如果没有注册过则需要新注册有一个账号后登录。这里笔者已经注册过账号，所以直接登录。 登录成功后出现如下界面，点击 Next</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:292px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:71.23288%;height:0;"> 
    <img src="https://images2.imgbox.com/d5/55/jYJcLxmJ_o.png" style="margin-left:;display:block;width:292px;margin-top:-71.23288%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">这里选择安装路径</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:309px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:68.60841%;height:0;"> 
    <img src="https://images2.imgbox.com/8c/d1/se4k9AHh_o.png" style="margin-left:;display:block;width:309px;margin-top:-68.60841%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">可以直接默认，Next</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:390px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:68.46154%;height:0;"> 
    <img src="https://images2.imgbox.com/95/17/8jPcCiq8_o.png" style="margin-left:;display:block;width:390px;margin-top:-68.46154%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">这路选择安装的组件，直接默认即可</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:382px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:69.10995%;height:0;"> 
    <img src="https://images2.imgbox.com/f3/57/8S9RFUAd_o.png" style="margin-left:;display:block;width:382px;margin-top:-69.10995%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">这里我们需要同意用户协议</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:355px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:67.88732%;height:0;"> 
    <img src="https://images2.imgbox.com/ad/c9/n1bQMDYl_o.png" style="margin-left:;display:block;width:355px;margin-top:-67.88732%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">这个界面告诉我们安装完成后需要占用的空间。点击”Install”按钮后开始安装。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:383px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:68.40731%;height:0;"> 
    <img src="https://images2.imgbox.com/04/c7/5gWEb2OW_o.png" style="margin-left:;display:block;width:383px;margin-top:-68.40731%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">安装完成后出现如下界面</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:366px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:69.12568%;height:0;"> 
    <img src="https://images2.imgbox.com/f0/55/q0EzprBm_o.png" style="margin-left:;display:block;width:366px;margin-top:-69.12568%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">点击“Finish”按钮后将弹出 Qt Creator 主界面</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:396px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:57.828285%;height:0;"> 
    <img src="https://images2.imgbox.com/66/ff/tqxHlDIn_o.png" style="margin-left:;display:block;width:396px;margin-top:-57.828285%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">点击“Cancel”按钮后即可正常使用</p> 
 <p style="text-align:left;"></p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">Qt5.14.1 安装</span></h4> 
 <p style="text-align:left;">复制到 qt-opensource-linux-x64-5.14.1.run（Qt 实验源码\工具软件）到 ubuntu 主机中，可以采用共享文件夹的方式也可以使用 tfp 方式将文件存入家目录下的 Downloads 目录。进入所在文件夹，先给执行权限</p> 
 <p style="text-align:left;">输入命令</p> 
 <p style="text-align:left;">chmod +x ./qt-opensource-linux-x64-5.14.1.run</p> 
 <p style="text-align:left;">安装在命令行输入</p> 
 <p style="text-align:left;">./qt-opensource-linux-x64-5.14.1.run</p> 
 <p style="text-align:left;">会有可视化引导安装，一直 next 就行了</p> 
 <p style="text-align:left;">在选择安装组件的时候要是不知道选择那些就全选了 大概有 4 个 G 左右</p> 
 <p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">下载 gcc 和 g++</span></p> 
 <p style="text-align:left;">sudo apt-get install gcc g++</p> 
 <p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">下载 cmake</span></p> 
 <p style="text-align:left;">sudo apt-get install cmake</p> 
 <p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">下载链接库</span></p> 
 <p style="text-align:left;">sudo apt-get install libgl1-mesa-dev libglu1-mesa-dev</p> 
 <p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">Qt Creator 配置</span></p> 
 <p style="text-align:left;">1）配置 GCC</p> 
 <p style="text-align:left;">运行 QtCreator 后，依次点击"Tool"-&gt;"Options"，出现选项对话框，在左侧点击"Kits"，右 边选择"Compilers"标签。 检查有没有下图标注的 C++和 C ，般按上面步骤执行后都会有</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:416px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:58.41346%;height:0;"> 
    <img src="https://images2.imgbox.com/04/4f/4vdDjhOx_o.png" style="margin-left:;display:block;width:416px;margin-top:-58.41346%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">点击右侧"Add"按钮，弹出下拉列表后，选择"GCC"的"C"</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:364px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:56.868134%;height:0;"> 
    <img src="https://images2.imgbox.com/ea/15/EMQ7rgER_o.png" style="margin-left:;display:block;width:364px;margin-top:-56.868134%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">填写信息如下，"Name"为"Auto-GCC"，"Compiler path"点击旁边的"Browse.."按钮选择编译器的路径，例子中的路径是 “/usr/bin/gcc”</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:58.795177%;height:0;"> 
    <img src="https://images2.imgbox.com/9f/0f/QHNUS3YE_o.png" style="margin-left:;display:block;width:415px;margin-top:-58.795177%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">2）配置 G++</p> 
 <p style="text-align:left;">点击右侧"Add"按钮，弹出下拉列表后，选择"GCC"的"C++"，下面的文本框填写"Name" 为"Auto-G++"，"Compiler path"点击旁边的"Browse.."按钮选择编译器的路径，例子中的路径是" /usr/bin/g++"。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:404px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:67.821785%;height:0;"> 
    <img src="https://images2.imgbox.com/ba/1b/6Krxr4Ty_o.png" style="margin-left:;display:block;width:404px;margin-top:-67.821785%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:398px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:55.276382%;height:0;"> 
    <img src="https://images2.imgbox.com/1e/71/wCVjWTtR_o.png" style="margin-left:;display:block;width:398px;margin-top:-55.276382%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">填写完成后，点击"Apply"。</p> 
 <p style="text-align:left;">3）配置 qmake</p> 
 <p style="text-align:left;">选择"Qt Versions"标签，如果有下面红框中的文本，可以跳过下面步骤</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:416px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:57.692307%;height:0;"> 
    <img src="https://images2.imgbox.com/bd/8d/J8jUiFHI_o.png" style="margin-left:;display:block;width:416px;margin-top:-57.692307%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">如果没有，在右侧点击"Add..."</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:417px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:42.92566%;height:0;"> 
    <img src="https://images2.imgbox.com/c6/73/xyLcT26D_o.png" style="margin-left:;display:block;width:417px;margin-top:-42.92566%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">会弹出 qmake 路径选择对话框，这里以"</p> 
 <p style="text-align:left;">/home/linux/Qt5.14.1/5.14.1/gcc_64/bin/qmake"为例子。 选择”qmake”文件后，点击"Open"按钮</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:31.084337%;height:0;"> 
    <img src="https://images2.imgbox.com/73/6b/wxk15M7G_o.png" style="margin-left:;display:block;width:415px;margin-top:-31.084337%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">"Version name"改为" Qt %{Qt:Version} GCC"。然后点击"Apply"按钮。</p> 
 <p style="text-align:left;">4）配置 Kits</p> 
 <p style="text-align:left;">点击左侧"Kits"，右侧选择"Kits"标签。检查有没有下图红框选中的文本，如果有可以跳过下面步骤</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:416px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:57.451923%;height:0;"> 
    <img src="https://images2.imgbox.com/10/11/EFWCum2S_o.png" style="margin-left:;display:block;width:416px;margin-top:-57.451923%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">然后没有，点击 Add：</p> 
 <p style="text-align:left;">在弹出的对话框中"Name"为"Desktop"，"Device Type"选择"Desktop"选项, "Sysroot"选择目标设备的系统目录，"Compiler"选择之前配置的名称"Auto-GCC"和"Auto-G++"，"Qt version"选择之前配 置的名称"Qt 5.14.1GCC"，其它默认即可，最后点击"Apply"和"OK"按钮。</p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">Qt Creator 新建工程</span></h4> 
 <p style="text-align:left;"><span class="kdocs-color" style="color:#C21C13;"><span class="kdocs-bold" style="font-weight:bold;">注意：工程路径最好不要包含中文、特殊字符、空格等。</span></span></p> 
 <p style="text-align:left;">我们可以新建一个“qt”文件夹，该文件夹用作我们以后存放源代码。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:416px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:67.54808%;height:0;"> 
    <img src="https://images2.imgbox.com/f3/09/uMtsA2XO_o.png" style="margin-left:;display:block;width:416px;margin-top:-67.54808%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">打开 Qt Creator，在欢迎页面点击 “New”按钮，来新建一个工程。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:416px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:11.538461%;height:0;"> 
    <img src="https://images2.imgbox.com/ec/c5/iJKwcRMf_o.png" style="margin-left:;display:block;width:416px;margin-top:-11.538461%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">在出现的新建项目窗口中，我们选则“Application”-&gt;“Qt Widgets Application”，然后点击右下方“Choose…”按钮，来创建一个桌面 Qt 应用。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:416px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:57.692307%;height:0;"> 
    <img src="https://images2.imgbox.com/d1/b3/mJ01zG81_o.png" style="margin-left:;display:block;width:416px;margin-top:-57.692307%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">我们在这里设置项目介绍和源码位置，我们这里创建一个名为“HelloWorld”的示例项目，设置完成之后点击 next</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:65.783134%;height:0;"> 
    <img src="https://images2.imgbox.com/5e/9a/jJOoPGPo_o.png" style="margin-left:;display:block;width:415px;margin-top:-65.783134%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">直接点击 next</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:66.50602%;height:0;"> 
    <img src="https://images2.imgbox.com/f9/01/Rv5m8qFB_o.png" style="margin-left:;display:block;width:415px;margin-top:-66.50602%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">随后进行细节设置，主要设置要创建的源码文件的基本类信息，包括类名等。这里我们可以根据自己的项目特点进行设置。需要说明的一点就是基类的选择，这里基类有 QMainWindow、QWidget、QDialog 三种，它们的不同之处如下：</p> 
 <p style="text-align:left;">QMainWindow 类提供一个带有菜单条，工具条和一个状态条的主应用程序窗口。主窗口通常提供一个大的中央窗口部件，以及周围菜单，工具条，和一个状态栏。QMainWindow 窗口经常被继承，使得封装中央部件，菜单，工具条，状态栏等都变得很容易，当用户点击它的时候，相应的槽就会被调用；</p> 
 <p style="text-align:left;">QWidget 类是所有用户界面对象的基类，窗口部件是用户界面的一个基本单元，它从窗口系统接收鼠标，键盘和其他消息，并在屏幕上绘制自己。一个窗口部件可以被他的父窗口或者是其他窗口挡住一部分；</p> 
 <p style="text-align:left;">QDialog 类是对话框窗口的基类，对话框窗口主要用于短期任务和用户进行短期通讯的顶级窗口，QDialog 可以是模态对话框或者是非模态对话框。QDialog 支持扩展并带有返回值，他们可以带有默认值；我们在这里选择 QDialog 类即可，点击 next 完成类信息设置。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:409px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:65.036674%;height:0;"> 
    <img src="https://images2.imgbox.com/03/83/Hu0ITWx9_o.png" style="margin-left:;display:block;width:409px;margin-top:-65.036674%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">直接点击 next 按钮即可。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:408px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:64.70589%;height:0;"> 
    <img src="https://images2.imgbox.com/3e/b9/dUjczoxs_o.png" style="margin-left:;display:block;width:408px;margin-top:-64.70589%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">然后进行工具选择，该页面可以选择我们创建的工程可以使用的工具，选择想要使用的编译器模块，例如下图 。点击 next</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:403px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:66.253105%;height:0;"> 
    <img src="https://images2.imgbox.com/8d/27/wMA8Iju4_o.png" style="margin-left:;display:block;width:403px;margin-top:-66.253105%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">最后我们设置汇总信息，如果不需要版本控制等功能，直接点击完成finish 即可。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:61.927708%;height:0;"> 
    <img src="https://images2.imgbox.com/0c/16/HrbqlWKw_o.png" style="margin-left:;display:block;width:415px;margin-top:-61.927708%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">随后我们就进入到了主界面，这时候 Qt 已经帮我们做好了一些准备工作，包括创建了一些文件，写好了一些前置代码等等。</p> 
 <p style="text-align:left;">我们可以点击左边 protect 栏，来查看我们的编译选项。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:50.843372%;height:0;"> 
    <img src="https://images2.imgbox.com/db/dc/KXlKrflp_o.png" style="margin-left:;display:block;width:415px;margin-top:-50.843372%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">我们可以在左下角选择编译 Debug 版或者 Release 版，即调试版或发行版。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:416px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:30.288462%;height:0;"> 
    <img src="https://images2.imgbox.com/1a/88/T3gBT1Gu_o.png" style="margin-left:;display:block;width:416px;margin-top:-30.288462%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">左下角绿色剪头是编译并运行，锤子是仅编译，我们可以直接点击绿色小箭头将我们导入的工程编译并运行起来。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:277px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:21.660648%;height:0;"> 
    <img src="https://images2.imgbox.com/ad/88/QgkfVJMn_o.png" style="margin-left:;display:block;width:277px;margin-top:-21.660648%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">点击运行按钮后，我们可以看到 HelloWorld 窗口运行起来了。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:63.614456%;height:0;"> 
    <img src="https://images2.imgbox.com/45/ec/off0IC4M_o.png" style="margin-left:;display:block;width:415px;margin-top:-63.614456%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">导入工程</span></h4> 
 <p style="text-align:left;">我们可以将已存在的 Qt 程序项目直接打开，这里以上一章节的HelloWorld 程序为例。首先我们确定源码存在的位置，如 HelloWorld 程序源码在 /home/linux/qt/helloworld 路径下</p> 
 <p style="text-align:left;">点击欢迎页面的“Open” 按钮可以打开已有的工程</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:36.144577%;height:0;"> 
    <img src="https://images2.imgbox.com/08/35/OdLSto5J_o.png" style="margin-left:;display:block;width:415px;margin-top:-36.144577%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">找到我们刚才解压好的源码，选择“helloworld.pro”文件并点击打开</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:33.493977%;height:0;"> 
    <img src="https://images2.imgbox.com/bf/d7/HxLFunnk_o.png" style="margin-left:;display:block;width:415px;margin-top:-33.493977%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">接下来我们就可以进入到代码编辑界面了。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:49.87952%;height:0;"> 
    <img src="https://images2.imgbox.com/0b/49/f3ZYbrqE_o.png" style="margin-left:;display:block;width:415px;margin-top:-49.87952%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">左上角是项目栏，点击项目名称左边的小箭头可以展开项目目录</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:50.843372%;height:0;"> 
    <img src="https://images2.imgbox.com/75/b2/B3irPyb8_o.png" style="margin-left:;display:block;width:415px;margin-top:-50.843372%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">我们可以点击左边项目栏，来查看我们的编译选项。需注意的是构建设置中的路径应与工程路径处于同级目录下。</p> 
 <p style="text-align:left;">我们可以在左下角选择编译 Debug 版或者 Release 版，即调试版或发行版。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:416px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:30.288462%;height:0;"> 
    <img src="https://images2.imgbox.com/4f/dc/jQcYBfnm_o.png" style="margin-left:;display:block;width:416px;margin-top:-30.288462%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">左下角绿色剪头是编译并运行，锤子是仅编译，我们可以直接点击绿色小箭头将我们导入的工程编译并运行起来</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:277px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:20.577618%;height:0;"> 
    <img src="https://images2.imgbox.com/2a/4c/MLrIA9Pw_o.png" style="margin-left:;display:block;width:277px;margin-top:-20.577618%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">点击运行按钮后，我们可以看到 HelloWorld 窗口运行起来了。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:63.614456%;height:0;"> 
    <img src="https://images2.imgbox.com/3d/f4/GfR3k7ij_o.png" style="margin-left:;display:block;width:415px;margin-top:-63.614456%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">Qt Creator 文件说明</span></h4> 
 <p style="text-align:left;">通过上面两个章节，我们学习到了 Qt 程序的新建与导入的方法，也知道了Qt 会帮我们做一些基础工作，比如帮我们建立了一些文件，那么这些文件都是干什么用的呢？我们以 HelloWorld 程序来说明一下。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:140px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:112.85714%;height:0;"> 
    <img src="https://images2.imgbox.com/21/61/5scVeumW_o.png" style="margin-left:;display:block;width:140px;margin-top:-112.85714%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">以“.pro”为后缀名的文件，为 Qt 的项目管理文件，存储项目设置的文件；</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:416px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:46.874996%;height:0;"> 
    <img src="https://images2.imgbox.com/cb/6b/fHYBtKAi_o.png" style="margin-left:;display:block;width:416px;margin-top:-46.874996%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">“Qt += core gui”表示项目中加入 core gui 模块。core gui 是 Qt 用于GUI 设计的类库模块，如果创建的是控制台（console）应用程序，就不需要添加 core gui。</p> 
 <p style="text-align:left;">Qt 类库以模块的形式组织各种功能的类，根据项目涉及的功能需求，在项目中添加适当的类库模块支持。例如，如果项目中使用到了涉及数据库操作的类就需要用到 sql（数据库）模块，在 pro 文件中需要在后面加上 sql：</p> 
 <p style="text-align:center;">1 Qt += core gui sql</p> 
 <p style="text-align:left;">“greaterThan(QT_MAJOR_VERSION, 4): QT += widgets”，这是个条件执行语句，表示当 Qt 主版本大于 4 时，才加入 widgets 模块。</p> 
 <p style="text-align:left;">“TARGET = HelloWorld”表示生成的目标可执行文件的名称，即编译后生成的可执行文件是 HelloWorld.exe。</p> 
 <p style="text-align:left;">“TEMPLATE = app”表示项目使用的模板是 app，是一般的应用程序。</p> 
 <p style="text-align:left;">后面的 SOURCES、HEADERS、FORMS 记录了项目中包含的源程序文件、头文件和窗体文件（.ui 文件）的名称。这些文件列表是 Qt Creator 自动添加到项目管理文件里面的，用户不需要手动修改。当添加一个文件到项目，或从项目里删除一个文件时，项目管理文件里的条目会自动修改。</p> 
 <p style="text-align:left;">文件夹“Header”中，存放的是所设计的窗体类的头文件；</p> 
 <p style="text-align:left;">文件夹“Sources”中，存放着源码文件。main.cpp 是实现 main()函数的程序文件，HelloWorld.cpp 是 widget.h 里定义类的实现文件。C++中，任何窗体或界面组件都是用类封装的，一个类一般有一个头文件（.h 文件）和一个源程序文件（.cpp 文件）；</p> 
 <p style="text-align:left;">文件夹“Forms”中，存放着界面设计文件，“.ui”文件是一个 XML 格式存储的窗体上的元件及其布局的文件，双击项目文件目录树中的文件 ui，会打开一个集成在 Qt Creator 中的 Qt Designer 对窗体进行可视化设计；</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:416px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:51.682693%;height:0;"> 
    <img src="https://images2.imgbox.com/24/37/brG9UH0g_o.png" style="margin-left:;display:block;width:416px;margin-top:-51.682693%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">UI 设计器有以下一些功能区域：</p> 
 <p style="text-align:left;">组件面板：窗口左侧是界面设计组件面板，分为多个组，如 Layouts、Buttons、Display Widgets 等，界面设计的常见组件都可以在组件面板里找到。</p> 
 <p style="text-align:left;">中间主要区域是待设计的窗体。如果要将某个组件放置到窗体上时，从组件面板上拖放一个组件到窗体上即可。</p> 
 <p style="text-align:left;">Signals 和 Slots 编辑器与 Action 编辑器是位于待设计窗体下方的两个编辑器。Signals 和 Slots 编辑器用于可视化地进行信号与槽的关联，Action 编辑器用于可视化设计 Action。</p> 
 <p style="text-align:left;">布局和界面设计工具栏：窗口上方的一个工具栏，工具栏上的按钮主要实现布局和界面设计。</p> 
 <p style="text-align:left;">对象浏览器（Object Inspector）：窗口右上方是 Object Inspector，用树状视图显示窗体上各组件之间的布局包含关系，视图有两列，显示每个组件的对象名称（ObjectName）和类名称。</p> 
 <p style="text-align:left;">属性编辑器（Property Editor）：窗口右下方是属性编辑器，是界面设计时最常用到的编辑器。属性编辑器显示某个选中的组件或窗体的各种属性及其取值，可以在属性编辑器里修改这些属性的值。属性编辑器的内容分为两列，左侧为属性的名称，右侧为属性的值。属性又分为多个组，实际上表示了类的继承关系，位于下方的类属性组继承自位于上方的类属性组；</p> 
 <p style="text-align:left;">如果我们需要新建资源文件、源码文件等，可以在项目文件夹出点击鼠标右键，选择 Add New；如果我们有新的文件需要添加，可以在项目文件夹出点击鼠标右键，选择 Add Existing Files。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:289px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:82.35294%;height:0;"> 
    <img src="https://images2.imgbox.com/40/a7/G5D7rlqs_o.png" style="margin-left:;display:block;width:289px;margin-top:-82.35294%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">帮助文档</span></h4> 
 <p style="text-align:left;">Qt 的帮助文档是伴随我们学习 Qt 开发的好伙伴。在 Qt 开发过程中，我们会面临图形接口使用的问题，它不像 C 语言那样就那么几个函数接口，图形接口的接口数量可以用海量来形容，常用的我们可能能记住，其它的就没有必要去记了，用到什么就去帮助文档查看用法是比较方便的。我们可以按 F1 按键，或通过上方导航栏的“help-&gt;contects”来进入帮助文档。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:49.156628%;height:0;"> 
    <img src="https://images2.imgbox.com/04/14/ytmXekZp_o.png" style="margin-left:;display:block;width:415px;margin-top:-49.156628%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">上方的前进后退按钮方便我们查看文档，如返回到上一步，返回到下一步。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:123px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:43.902443%;height:0;"> 
    <img src="https://images2.imgbox.com/0e/fe/67HgZoUi_o.png" style="margin-left:;display:block;width:123px;margin-top:-43.902443%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">我们可以通过帮助文档来查看以下几个部分：类使用的相关介绍；</p> 
 <p style="text-align:left;">查看相关类的使用介绍，我们可以先进入到帮助文档，然后在左上角选择“Search”。笔者这里以 QWidget 类为例，输入我们想要查找的类的名字，然后双击查找结果来查看说明。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:200px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:40.0%;height:0;"> 
    <img src="https://images2.imgbox.com/94/4d/tl4rurfu_o.png" style="margin-left:;display:block;width:200px;margin-top:-40.0%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:139px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:134.53238%;height:0;"> 
    <img src="https://images2.imgbox.com/d2/2f/n91Gk35O_o.png" style="margin-left:;display:block;width:139px;margin-top:-134.53238%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">也可以先将鼠标移动到想要查询的类的位置，如图所示，将鼠标移动至“QWidget”处，然后按“F1”键，即可跳转到相应的帮助文档。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:238px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:59.663864%;height:0;"> 
    <img src="https://images2.imgbox.com/ca/ad/eQ9O1qiQ_o.png" style="margin-left:;display:block;width:238px;margin-top:-59.663864%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.19277%;height:0;"> 
    <img src="https://images2.imgbox.com/c6/40/VdaP4uB8_o.png" style="margin-left:;display:block;width:415px;margin-top:-48.19277%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">我们可以通过再按一次“F1”键来全窗口查看帮助文档，按“Esc”键可以退出。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:306px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:78.75816%;height:0;"> 
    <img src="https://images2.imgbox.com/78/45/8am5AE4G_o.png" style="margin-left:;display:block;width:306px;margin-top:-78.75816%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">部分常用的成员元素包括以下几项：</p> 
 <p style="text-align:left;">公有成员函数：操作部件属性的相关函数；</p> 
 <p style="text-align:left;">公有槽函数：Qt 类中已经定义好的槽函数，直接可与信号相连接；</p> 
 <p style="text-align:left;">信号：软中断，如按下按钮触发 pressed() 信号等；</p> 
 <p style="text-align:left;">保护成员函数：通常事件所对应的虚函数放在此处；</p> 
 <p style="text-align:left;">事件：常用事件，如操作鼠标触发的鼠标事件；</p> 
 <p style="text-align:left;">滚动鼠标滚轮，向下即可看到“Qwdget Class”类的相关说明了。</p> 
 <p style="text-align:left;">部分常用的成员元素包括以下几项：</p> 
 <p style="text-align:left;">公有成员函数：操作部件属性的相关函数；</p> 
 <p style="text-align:left;">公有槽函数：Qt 类中已经定义好的槽函数，直接可与信号相连接；</p> 
 <p style="text-align:left;">信号：软中断，如按下按钮触发 pressed() 信号等；</p> 
 <p style="text-align:left;">保护成员函数：通常事件所对应的虚函数放在此处；</p> 
 <p style="text-align:left;">事件：常用事件，如操作鼠标触发的鼠标事件；</p> 
 <p style="text-align:left;">滚动鼠标滚轮，向下即可看到“Qwdget Class”类的相关说明了。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:262px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:59.92366%;height:0;"> 
    <img src="https://images2.imgbox.com/7e/bb/yJMamymK_o.png" style="margin-left:;display:block;width:262px;margin-top:-59.92366%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">1) 查看所用的部件的相应成员函数。</p> 
 <p style="text-align:left;">我们可以查找到该类所用部件的相应成员函数的使用方法、功能、参数、返回值等等，我们以“按钮”控件，即“QPushButton Class”类为例，我们通过索引搜索的方式，来找到这个类</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:353px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:55.52408%;height:0;"> 
    <img src="https://images2.imgbox.com/cd/87/4QS825vE_o.png" style="margin-left:;display:block;width:353px;margin-top:-55.52408%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">我们可以通过点击“Public Functions” 来查看“QPushButton”这个类中的成员函数。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:366px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:74.590164%;height:0;"> 
    <img src="https://images2.imgbox.com/42/bf/XJxWpLCY_o.png" style="margin-left:;display:block;width:366px;margin-top:-74.590164%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">这里以“QPushButton(const QString &amp;text, QWidget *parent =Q_NULLPTR)”为例，我们点击函数名字可以进入到函数详情中。我们可以看到相应的描述为：以“text”为显示内容，以“parent”为父对象，构造一个push 按钮。“text”“parent”为函数参数，由于是构造函数，所以此函数没有返回值。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:375px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:15.2%;height:0;"> 
    <img src="https://images2.imgbox.com/13/39/SX14C1Di_o.png" style="margin-left:;display:block;width:375px;margin-top:-15.2%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">还有一些函数是继承自其它类的，例如“Public Functions”中有 21 个继承自“QAbstractButton”类的函数，我们点击“QAbstractButton”即可查看。击“QAbstractButton”即可查看</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:288px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:51.041668%;height:0;"> 
    <img src="https://images2.imgbox.com/bd/77/DtMgZhN7_o.png" style="margin-left:;display:block;width:288px;margin-top:-51.041668%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:322px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:162.73293%;height:0;"> 
    <img src="https://images2.imgbox.com/59/da/M2AdZthI_o.png" style="margin-left:;display:block;width:322px;margin-top:-162.73293%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">同样我们可以点击相应的函数进入查看详情。如查看“voidsetText(const QString &amp;text)”。</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:338px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:58.57988%;height:0;"> 
    <img src="https://images2.imgbox.com/c6/94/FuAgL3Qj_o.png" style="margin-left:;display:block;width:338px;margin-top:-58.57988%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">2) 查看所用的部件的信号。</p> 
 <p style="text-align:left;">我们这里还是以“PushButton”为例，我们点击“Public Slots”。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:190px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:73.68421%;height:0;"> 
    <img src="https://images2.imgbox.com/ed/a6/1BrnvDmS_o.png" style="margin-left:;display:block;width:190px;margin-top:-73.68421%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">可以看到“PushButton”本身有一个“void showMenu()”的信号，并且有很多继承自其他类的信号。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:230px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:44.782608%;height:0;"> 
    <img src="https://images2.imgbox.com/1a/a7/DULVappO_o.png" style="margin-left:;display:block;width:230px;margin-top:-44.782608%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">一般来说我们用的“PushButton”的信号，最多的是用到其继承自基类“QAbstractButton”中的几个信号，分别是点击（按下后抬起）、按压（单按下）、释放（单抬起）等</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:191px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:74.86911%;height:0;"> 
    <img src="https://images2.imgbox.com/03/9e/gmhcFGv0_o.png" style="margin-left:;display:block;width:191px;margin-top:-74.86911%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">我们可以点击相应信号查看详情</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:245px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:22.040817%;height:0;"> 
    <img src="https://images2.imgbox.com/2b/b4/w7N1SqHF_o.png" style="margin-left:;display:block;width:245px;margin-top:-22.040817%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">3) 查看所用的部件的事件(所对应的虚函数如何编写)。部件常用事件主要在 “QWidget”中声明，选择“Events”即可查看相关说明。</p> 
 <p style="text-align:left;">每个事件都对应着事件函数。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:416px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:77.40385%;height:0;"> 
    <img src="https://images2.imgbox.com/57/80/ewFX0b1v_o.png" style="margin-left:;display:block;width:416px;margin-top:-77.40385%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">点击事件函数可查看详情</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:365px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:45.753426%;height:0;"> 
    <img src="https://images2.imgbox.com/28/4a/TJ6Dh5CE_o.png" style="margin-left:;display:block;width:365px;margin-top:-45.753426%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">实验步骤</span></h3> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">UI 界面设计</span></h4> 
 <p style="text-align:left;">由于我们配置的七寸屏幕是 1024*768 分辨率的，所以我们的 MainWindow主界面的尺寸设置为 1024*768。共使用如下几个控件，使用 QTextEdit 控件textEdit 来显示语音识别后返回的最佳匹配语音。使用 QPushButton 控件pushButton_video 点击录音和释放识别，使用 pushButton_clear 来清空 QtextEdit的内容，使用 textEdit_2 来显示传感器的反馈。</p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">逻辑实现</span></h3> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">获取图像</span></h4> 
 <p style="text-align:left;">在 pro 文件添加</p> 
 <p style="text-align:left;">QT += network</p> 
 <p style="text-align:left;">QT += multimedia</p> 
 <p style="text-align:left;">使用 V4L2 进行图像采集，新建v4l2api.h 和 v4l2api.cpp。</p> 
 <p style="text-align:left;">采集/dev/video0 摄像头设备的图像，但是采集到的是 yuyv 格式的图像，需要进行转换成 rgb 格式才能显示在 lcd 屏幕上面。</p> 
 <p style="text-align:left;">主要功能代码如下：</p> 
 <p style="text-align:left;">void V4l2Api::run()</p> 
 <p style="text-align:left;">{<!-- --></p> 
 <p style="text-align:left;"> char buffer[WIDTH*HEIGHT*3];</p> 
 <p style="text-align:left;"> char rgbbuffer[WIDTH*HEIGHT*3];</p> 
 <p style="text-align:left;"> int len;</p> 
 <p style="text-align:left;"> while(1)</p> 
 <p style="text-align:left;"> {<!-- --></p> 
 <p style="text-align:left;"> grapImage(buffer, &amp;len);</p> 
 <p style="text-align:left;"> yuyv_to_rgb888((unsigned char *)buffer, (unsigned char *)rgbbuffer);</p> 
 <p style="text-align:left;"> //把 RGB 数据转为 QImage</p> 
 <p style="text-align:left;"> QImage image((uchar*)rgbbuffer, WIDTH, HEIGHT,</p> 
 <p style="text-align:left;">QImage::Format_RGB888);</p> 
 <p style="text-align:left;"> emit sendImage(image);</p> 
 <p style="text-align:left;"> msleep(5);</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;">}</p> 
 <p style="text-align:left;">Yuyv 转 RGB 函数实现</p> 
 <p style="text-align:left;">bool V4l2Api::yuyv_to_rgb888(unsigned char *yuyvdata, unsigned char *rgbdata,</p> 
 <p style="text-align:left;">int picw, int pich)</p> 
 <p style="text-align:left;">{<!-- --></p> 
 <p style="text-align:left;"> int i, j;</p> 
 <p style="text-align:left;"> unsigned char y1,y2,u,v;</p> 
 <p style="text-align:left;"> int r1,g1,b1,r2,g2,b2;</p> 
 <p style="text-align:left;"> //确保所转的数据或要保存的地址有效</p> 
 <p style="text-align:left;"> if(yuyvdata == NULL || rgbdata == NULL）</p> 
 <p style="text-align:left;">{<!-- --></p> 
 <p style="text-align:left;"> return false;</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;"> int tmpw = picw/2;</p> 
 <p style="text-align:left;"> for(i=0; i&lt;pich; i++)</p> 
 <p style="text-align:left;"> {<!-- --></p> 
 <p style="text-align:left;"> for(j=0; j&lt;tmpw; j++)// 640/2 == 320</p> 
 <p style="text-align:left;"> {<!-- --></p> 
 <p style="text-align:left;"> //yuv422</p> 
 <p style="text-align:left;"> //R = 1.164*(Y-16) + 1.159*(V-128);</p> 
 <p style="text-align:left;"> //G = 1.164*(Y-16) - 0.380*(U-128)+ 0.813*(V-128);</p> 
 <p style="text-align:left;"> //B = 1.164*(Y-16) + 2.018*(U-128));</p> 
 <p style="text-align:left;"> //下面的四个像素为：[Y0 U0 V0] [Y1 U1 V1] -------------[Y2 U2</p> 
 <p style="text-align:left;">V2] [Y3 U3 V3]</p> 
 <p style="text-align:left;"> //存放的码流为： Y0 U0 Y1 V1------------------------Y2 U2 Y3</p> 
 <p style="text-align:left;">V3</p> 
 <p style="text-align:left;"> //映射出像素点为： [Y0 U0 V1] [Y1 U0 V1]--------------[Y2 U2</p> 
 <p style="text-align:left;">V3] [Y3 U2 V3]</p> 
 <p style="text-align:left;"> //获取每个像素 yuyv 数据 YuYv</p> 
 <p style="text-align:left;"> y1 = *(yuyvdata + (i*tmpw+j)*4); //yuv 像素的</p> 
 <p style="text-align:left;">Y</p> 
 <p style="text-align:left;"> u = *(yuyvdata + (i*tmpw+j)*4+1); //yuv 像素</p> 
 <p style="text-align:left;">的 U</p> 
 <p style="text-align:left;"> y2 = *(yuyvdata + (i*tmpw+j)*4+2);</p> 
 <p style="text-align:left;"> v = *(yuyvdata + (i*tmpw+j)*4+3);</p> 
 <p style="text-align:left;"> //把 yuyv 数据转换为 rgb 数据</p> 
 <p style="text-align:left;">r1 = 1.164*(y1-16) + 2.018*(u-128);</p> 
 <p style="text-align:left;"> g1= 1.164*(y1-16) - 0.380*(v-128)- 0.394*(v-128);</p> 
 <p style="text-align:left;"> b1 = 1.164*(y1-16) + 1.159*(v-128);</p> 
 <p style="text-align:left;"> r2 = 1.164*(y2-16) + 2.018*(u-128);</p> 
 <p style="text-align:left;"> g2= 1.164*(y2-16) - 0.380*(v-128)- 0.394*(v-128);</p> 
 <p style="text-align:left;"> b2 = 1.164*(y2-16) + 1.159*(v-128);</p> 
 <p style="text-align:left;"> if(r1 &gt; 255) r1=255;</p> 
 <p style="text-align:left;"> else if(r1 &lt; 0) r1 = 0;</p> 
 <p style="text-align:left;"> if(g1 &gt; 255) g1=255;</p> 
 <p style="text-align:left;"> else if(g1 &lt; 0) g1 = 0;</p> 
 <p style="text-align:left;"> if(b1 &gt; 255) b1=255;</p> 
 <p style="text-align:left;"> else if(b1 &lt; 0) b1 = 0;</p> 
 <p style="text-align:left;"> if(r2 &gt; 255) r2=255;</p> 
 <p style="text-align:left;"> else if(r2 &lt; 0) r2 = 0;</p> 
 <p style="text-align:left;"> if(g2 &gt; 255) g2=255;</p> 
 <p style="text-align:left;"> else if(g2 &lt; 0) g2 = 0;</p> 
 <p style="text-align:left;"> if(b2 &gt; 255) b2=255;</p> 
 <p style="text-align:left;"> else if(b2 &lt; 0) b2 = 0;</p> 
 <p style="text-align:left;"> rgbdata[((i+1)*tmpw+j)*6] = (unsigned char)b1;</p> 
 <p style="text-align:left;"> rgbdata[((i+1)*tmpw+j)*6 + 1] = (unsigned char)g1;</p> 
 <p style="text-align:left;"> rgbdata[((i+1)*tmpw+j)*6 + 2] = (unsigned char)r1;</p> 
 <p style="text-align:left;"> rgbdata[((i+1)*tmpw+j)*6 + 3] = (unsigned char)b2;</p> 
 <p style="text-align:left;"> rgbdata[((i+1)*tmpw+j)*6 + 4] = (unsigned char)g2;</p> 
 <p style="text-align:left;">rgbdata[((i+1)*tmpw+j)*6 + 5] = (unsigned char)r2;</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;"> memcpy(yuyvdata,rgbdata,HEIGHT*WIDTH*3);</p> 
 <p style="text-align:left;"> return true;</p> 
 <p style="text-align:left;">}</p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">获取、关闭获取图像、拍照按钮槽函数</span></h4> 
 <p style="text-align:left;">右键采集图像按钮，点击转到槽。其他两个按钮同样。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:332px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:87.349396%;height:0;"> 
    <img src="https://images2.imgbox.com/85/c3/2a6Zsc9E_o.png" style="margin-left:;display:block;width:332px;margin-top:-87.349396%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:226px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:106.63717%;height:0;"> 
    <img src="https://images2.imgbox.com/fe/24/c7F2OdBa_o.png" style="margin-left:;display:block;width:226px;margin-top:-106.63717%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">函数实现如下：</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:416px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:59.855766%;height:0;"> 
    <img src="https://images2.imgbox.com/ed/e2/5oBbBN00_o.png" style="margin-left:;display:block;width:416px;margin-top:-59.855766%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">申请百度 AI 开发平台图像识别应用</span></h4> 
 <p style="text-align:left;">图像识别是利用百度的 API 在线识别。所以需要申请项目 ID。</p> 
 <p style="text-align:left;">首先登陆 <a class="kdocs-link" style="color:#0A6CFF;" href="http://ai.baidu.com/tech/imagerecognition/general" rel="nofollow noopener noreferrer" target="_blank">http://ai.baidu.com/tech/imagerecognition/general</a>，进入到通用图像分析的界面。选择立即使用</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:58.31325%;height:0;"> 
    <img src="https://images2.imgbox.com/72/c1/cWwyBO7a_o.png" style="margin-left:;display:block;width:415px;margin-top:-58.31325%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">登陆自己的百度账号，可用手机号申请。</p> 
 <p style="text-align:left;">点击创建应用：</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:416px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:46.634617%;height:0;"> 
    <img src="https://images2.imgbox.com/f0/48/tt2a27R4_o.png" style="margin-left:;display:block;width:416px;margin-top:-46.634617%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">依次输入应用名称，选择类型，接口默认选择图像识别，添加应用描述，点击立即创建。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:342px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:119.88304%;height:0;"> 
    <img src="https://images2.imgbox.com/fc/90/l08Nz1A6_o.png" style="margin-left:;display:block;width:342px;margin-top:-119.88304%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">至此，应用创建完毕，现在就可以使用该应用了。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:263px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:24.714828%;height:0;"> 
    <img src="https://images2.imgbox.com/2d/0e/lkhzSKPy_o.png" style="margin-left:;display:block;width:263px;margin-top:-24.714828%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">点击返回应用列表，我们记住其中的 API Key 和 Secret Key，下面会用到。</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:416px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:12.019231%;height:0;"> 
    <img src="https://images2.imgbox.com/c5/04/XUjkBArB_o.png" style="margin-left:;display:block;width:416px;margin-top:-12.019231%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">请求类实现</span></h4> 
 <p style="text-align:left;">我们采集的图像需要通过 HTTPS 协议上传到百度 AI 开发平台进行识别，之后 AI 平台会返回给我们识别的结果。</p> 
 <p style="text-align:left;">http 类只需要封装一个方法</p> 
 <p style="text-align:left;">static bool post_sync(QString url,QMap&lt;QString,QString&gt;header,QByteArray requestData,QByteArray &amp;replyData);</p> 
 <p style="text-align:left;">使用这个方法去 URL 发送请求会收到 URL 的返回值。</p> 
 <p style="text-align:left;">http.h</p> 
 <p style="text-align:left;">#ifndef HTTP_H</p> 
 <p style="text-align:left;">#define HTTP_H</p> 
 <p style="text-align:left;">#include &lt;QObject&gt;</p> 
 <p style="text-align:left;">#include &lt;QMap&gt;</p> 
 <p style="text-align:left;">#include &lt;QNetworkAccessManager&gt;</p> 
 <p style="text-align:left;">#include &lt;QNetworkRequest&gt;</p> 
 <p style="text-align:left;">#include &lt;QNetworkReply&gt;</p> 
 <p style="text-align:left;">#include &lt;QEventLoop&gt;</p> 
 <p style="text-align:left;">#include &lt;QDebug&gt;</p> 
 <p style="text-align:left;">class Http : public QObject</p> 
 <p style="text-align:left;">{<!-- --></p> 
 <p style="text-align:left;"> Q_OBJECT</p> 
 <p style="text-align:left;">public:</p> 
 <p style="text-align:left;"> explicit Http(QObject *parent = nullptr);</p> 
 <p style="text-align:left;"> static bool post_sync(QString</p> 
 <p style="text-align:left;">url,QMap&lt;QString,QString&gt;header,QByteArray requestData,QByteArray</p> 
 <p style="text-align:left;">&amp;replyData);</p> 
 <p style="text-align:left;">signals:</p> 
 <p style="text-align:left;">};</p> 
 <p style="text-align:left;">#endif // HTTP_H</p> 
 <p style="text-align:left;">http.cpp</p> 
 <p style="text-align:left;">这个方法的第一个参数是 post 方法发送请求的 URL，第二个参数是请求的方法头，第三个参数是请求的数据，第四个参数是返回的数据。这里要说的是必须要设置 openssl 签名配置,否则在 ARM 上会报错</p> 
 <p style="text-align:left;">bool Http::post_sync(QString url,QMap&lt;QString,QString&gt;header,QByteArray</p> 
 <p style="text-align:left;">requestData,QByteArray &amp;replyData)</p> 
 <p style="text-align:left;">{<!-- --></p> 
 <p style="text-align:left;">// 发送请求的对象</p> 
 <p style="text-align:left;"> QNetworkAccessManager manager;</p> 
 <p style="text-align:left;">// 请求 对象</p> 
 <p style="text-align:left;"> QNetworkRequest request;</p> 
 <p style="text-align:left;"> request.setUrl(url);</p> 
 <p style="text-align:left;"> QMapIterator&lt;QString,QString&gt; it(header);</p> 
 <p style="text-align:left;"> while (it.hasNext()) {<!-- --></p> 
 <p style="text-align:left;"> it.next();</p> 
 <p style="text-align:left;"> request.setRawHeader(it.key().toLatin1() ,it.value().toLatin1());</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;">//设置 openssl 签名配置,否则在 ARM 上会报错</p> 
 <p style="text-align:left;"> QSslConfiguration conf = request.sslConfiguration();</p> 
 <p style="text-align:left;"> conf.setPeerVerifyMode(QSslSocket::VerifyNone);</p> 
 <p style="text-align:left;">#if (QT_VERSION &gt; QT_VERSION_CHECK(5,0,0))</p> 
 <p style="text-align:left;"> conf.setProtocol(QSsl::TlsV1_0);</p> 
 <p style="text-align:left;">#else</p> 
 <p style="text-align:left;"> conf.setProtocol(QSsl::TlsV1);</p> 
 <p style="text-align:left;">#endif</p> 
 <p style="text-align:left;"> request.setSslConfiguration(conf);</p> 
 <p style="text-align:left;"> QNetworkReply *reply = manager.post(request,requestData);</p> 
 <p style="text-align:left;">QEventLoop l;</p> 
 <p style="text-align:left;"> //一旦服务器返回，reply 会发出信号</p> 
 <p style="text-align:left;"> connect(reply,&amp;QNetworkReply::finished,&amp;l,&amp;QEventLoop::quit);</p> 
 <p style="text-align:left;"> l.exec();</p> 
 <p style="text-align:left;"> if(reply != nullptr &amp;&amp; reply-&gt;error() == QNetworkReply::NoError)</p> 
 <p style="text-align:left;"> {<!-- --></p> 
 <p style="text-align:left;"> replyData = reply-&gt;readAll();</p> 
 <p style="text-align:left;"> return true;</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;"> else</p> 
 <p style="text-align:left;"> {<!-- --></p> 
 <p style="text-align:left;"> qDebug()&lt;&lt;"request error!";</p> 
 <p style="text-align:left;"> return false;</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;">}</p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">采集到的图像处理</span></h4> 
 <p style="text-align:left;">查看百度 ai 开发平台接口文档，我们看到 http 请求的 image 需要进行处理，图片需要 base64 编码、去掉编码头后再进行 urlencode。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:52.771084%;height:0;"> 
    <img src="https://images2.imgbox.com/7a/f7/khyxJRWn_o.png" style="margin-left:;display:block;width:415px;margin-top:-52.771084%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">新建 ImageProcess 类实现以下函数，返回 QbyteArray 类型的图像。</p> 
 <p style="text-align:left;">QByteArray IamgeProcess::imageBaseTo64ToUrlEncode(QString imagePth)</p> 
 <p style="text-align:left;">{<!-- --></p> 
 <p style="text-align:left;"> QImage image(imagePth);</p> 
 <p style="text-align:left;"> QByteArray byte;</p> 
 <p style="text-align:left;"> //用 QByteArray 构造 QBuffer</p> 
 <p style="text-align:left;"> QBuffer buf(&amp;byte);</p> 
 <p style="text-align:left;"> buf.open(QIODevice::WriteOnly);</p> 
 <p style="text-align:left;"> image.save(&amp;buf,"JPG");</p> 
 <p style="text-align:left;"> //对图片做 base64 编码(不包含编码头)</p> 
 <p style="text-align:left;"> QByteArray byteBase64 = byte.toBase64();</p> 
 <p style="text-align:left;"> QTextCodec *codec = QTextCodec::codecForName("UTF-8");</p> 
 <p style="text-align:left;"> QByteArray imgData =</p> 
 <p style="text-align:left;">codec-&gt;fromUnicode(byteBase64).toPercentEncoding();</p> 
 <p style="text-align:left;"> return imgData;</p> 
 <p style="text-align:left;">}</p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;"> MainWindow 类发送请求</span></h4> 
 <p style="text-align:left;">需要向百度 AI 平台发送两个请求，第一个请求是获取 access_token；第二个请求是向 URL 发送图片资源。</p> 
 <ol start="1"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;text-align:left;"><p><span class="kdocs-bold" style="font-weight:bold;">获取 access_token</span></p></li></ol> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:36.144577%;height:0;"> 
    <img src="https://images2.imgbox.com/6b/a7/7pu5CUB7_o.png" style="margin-left:;display:block;width:415px;margin-top:-36.144577%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">我们复制示例中的 url 地址如下。</p> 
 <p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&amp;" rel="nofollow noopener noreferrer" target="_blank">https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&amp;</a></p> 
 <p style="text-align:left;">client_id=Va5yQRHlA4Fq5eR3LT0vuXV4&amp;client_secret=0rDSjzQ20XUj5itV6WRtzn</p> 
 <p style="text-align:left;">PQSzr5pVw2&amp;</p> 
 <p style="text-align:left;">把其中的 client_id 和 client_secret 后面的参数删掉，通过二维码扫描的方</p> 
 <p style="text-align:left;">式加入 URL 如下：</p> 
 <p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credenti" rel="nofollow noopener noreferrer" target="_blank">https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credenti</a></p> 
 <p style="text-align:left;">als&amp;client_id=%1&amp;client_secret=%2&amp;</p> 
 <p style="text-align:left;">我们通过二维码生成器把我们的 API Key 和 Secret Key 写成 josn 的形式生成二维码，如以下形式：</p> 
 <p style="text-align:left;">{<!-- --></p> 
 <p style="text-align:left;">“client_id”:“xxxxxx”，</p> 
 <p style="text-align:left;">“client_secret”：“xxxxxx”</p> 
 <p style="text-align:left;">}</p> 
 <p style="text-align:left;">我们在下面开始实现通过识别二维码填充 client_id 和 client_secret 到上述的URL 中。</p> 
 <p style="text-align:left;">右键转到槽，选择 clicked（）。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:343px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:73.46938%;height:0;"> 
    <img src="https://images2.imgbox.com/bc/40/YteGCqun_o.png" style="margin-left:;display:block;width:343px;margin-top:-73.46938%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:356px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:20.786516%;height:0;"> 
    <img src="https://images2.imgbox.com/94/e2/KCLTBxBe_o.png" style="margin-left:;display:block;width:356px;margin-top:-20.786516%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">在这里识别二维码需要使用到 QZXing 库进行识别。我们提 QZXing 库的源代码在实验源码下的 qzxing.tar.xz。</p> 
 <p style="text-align:left;">解压后，将解压后的文件放到 QT 源码路径下</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:378px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:21.428572%;height:0;"> 
    <img src="https://images2.imgbox.com/41/d7/ZZvqTbMf_o.png" style="margin-left:;display:block;width:378px;margin-top:-21.428572%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:6.7469883%;height:0;"> 
    <img src="https://images2.imgbox.com/6e/38/sptDwAcv_o.png" style="margin-left:;display:block;width:415px;margin-top:-6.7469883%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">在 pro 文件下添加 include(qzxing/src/QZXing.pri)保存后，在 mainwindow.h 加入</p> 
 <p style="text-align:left;">#include&lt; QZXing &gt;头文件，这样就可以使用 QZXing 库了。下面开始编写识别二维码填充 URL。</p> 
 <p style="text-align:left;">在 mainwindow.cpp 添加下面 QString 定义。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:9.397591%;height:0;"> 
    <img src="https://images2.imgbox.com/9d/1a/8N4mBNWE_o.png" style="margin-left:;display:block;width:415px;margin-top:-9.397591%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">void MainWindow::on_pushButton_ewm_clicked()</p> 
 <p style="text-align:left;">{<!-- --></p> 
 <p style="text-align:left;"> if(picTorF == false)</p> 
 <p style="text-align:left;"> {<!-- --></p> 
 <p style="text-align:left;"> QMessageBox::warning(this, "警告", "请先拍照保存图片");</p> 
 <p style="text-align:left;"> return ;</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;"> QZXing zxing;</p> 
 <p style="text-align:left;"> QString imagePth ="./pic.jpg";</p> 
 <p style="text-align:left;"> QImage image(imagePth);</p> 
 <p style="text-align:left;"> QByteArray byte = zxing.decodeImage(image).toUtf8();// 该 方 法 返 回</p> 
 <p style="text-align:left;">QString 串，标识图片二维码的内容</p> 
 <p style="text-align:left;"> QJsonObject obj = QJsonDocument::fromJson(byte).object();</p> 
 <p style="text-align:left;"> client_id = obj.value("client_id").toString();</p> 
 <p style="text-align:left;"> secret_id = obj.value("secret_id").toString();</p> 
 <p style="text-align:left;"> qDebug()&lt;&lt; "client_id:"&lt;&lt;client_id;</p> 
 <p style="text-align:left;"> qDebug()&lt;&lt; "secret_id:"&lt;&lt;secret_id;</p> 
 <p style="text-align:left;"> if(client_id =="")</p> 
 <p style="text-align:left;"> {<!-- --></p> 
 <p style="text-align:left;"> QMessageBox::warning(this, "警告", "请重新填充秘钥");</p> 
 <p style="text-align:left;"> on_openBt_clicked();</p> 
 <p style="text-align:left;"> return ;</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;"> else</p> 
 <p style="text-align:left;"> {<!-- --></p> 
 <p style="text-align:left;"> QMessageBox::information(this, "提示", "填充秘钥成功");</p> 
 <p style="text-align:left;"> ui-&gt;pushButton_ewm-&gt;setText("填充完成");</p> 
 <p style="text-align:left;">ui-&gt;pushButton_ewm-&gt;setEnabled(false);</p> 
 <p style="text-align:left;"> Keypadding = true;</p> 
 <p style="text-align:left;"> picTorF = false;</p> 
 <p style="text-align:left;"> on_comboBox_activated(0);</p> 
 <p style="text-align:left;"> on_openBt_clicked();</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;">}</p> 
 <p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2. 上传图片资源</span></p> 
 <p style="text-align:left;">我们查看百度 ai 平台文档，可以看到每种物体识别都有不同的 URL</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:135px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:134.07408%;height:0;"> 
    <img src="https://images2.imgbox.com/7e/d1/Jc0tq0dg_o.png" style="margin-left:;display:block;width:135px;margin-top:-134.07408%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:336px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:13.690475%;height:0;"> 
    <img src="https://images2.imgbox.com/df/6b/naIKP1QC_o.png" style="margin-left:;display:block;width:336px;margin-top:-13.690475%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:410px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:15.609756%;height:0;"> 
    <img src="https://images2.imgbox.com/a0/0d/ue2q9MhG_o.png" style="margin-left:;display:block;width:410px;margin-top:-15.609756%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:408px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:19.852942%;height:0;"> 
    <img src="https://images2.imgbox.com/29/96/1iEN9geg_o.png" style="margin-left:;display:block;width:408px;margin-top:-19.852942%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">所以我们可以通过改变下拉框来改变图片请求的 URL 从而实现不同物体的识别。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:6.024096%;height:0;"> 
    <img src="https://images2.imgbox.com/c1/02/tUbRy6Hc_o.png" style="margin-left:;display:block;width:415px;margin-top:-6.024096%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:416px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:56.73077%;height:0;"> 
    <img src="https://images2.imgbox.com/b5/7e/82bC6qC5_o.png" style="margin-left:;display:block;width:416px;margin-top:-56.73077%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">void MainWindow::on_comboBox_activated(int index)</p> 
 <p style="text-align:left;">{<!-- --></p> 
 <p style="text-align:left;"> Q_UNUSED(index)</p> 
 <p style="text-align:left;"> QByteArray img = IamgeProcess::imageBaseTo64ToUrlEncode("pic.jpg");</p> 
 <p style="text-align:left;">//image=xxxxxxx</p> 
 <p style="text-align:left;"> QByteArray imgData = "image=" + img; //body</p> 
 <p style="text-align:left;"> //获取 access_token</p> 
 <p style="text-align:left;"> QByteArray replyData; //保存回复信息</p> 
 <p style="text-align:left;"> QString url = QString(baiduTokenUrl).arg(client_id).arg(secret_id);</p> 
 <p style="text-align:left;"> QMap&lt;QString, QString&gt; header; //封装头部信息</p> 
 <p style="text-align:left;"> header.insert(QString("Content-Type"), QString("application/x-www-formurlencoded"));</p> 
 <p style="text-align:left;">bool result = Http::post_sync(url, header, imgData, replyData);</p> 
 <p style="text-align:left;"> if (result)</p> 
 <p style="text-align:left;"> {<!-- --></p> 
 <p style="text-align:left;"> QJsonObject obj = QJsonDocument::fromJson(replyData).object();</p> 
 <p style="text-align:left;"> accessToken = obj.value("access_token").toString();</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;"> switch (ui-&gt;comboBox-&gt;currentIndex())</p> 
 <p style="text-align:left;"> {<!-- --></p> 
 <p style="text-align:left;"> case 0:</p> 
 <p style="text-align:left;"> imgUrl = baiduImageUrl.arg("v1").arg("animal").arg(accessToken);</p> 
 <p style="text-align:left;"> break;</p> 
 <p style="text-align:left;"> case 1:</p> 
 <p style="text-align:left;"> imgUrl = baiduImageUrl.arg("v2").arg("logo").arg(accessToken);</p> 
 <p style="text-align:left;"> break;</p> 
 <p style="text-align:left;"> case 2:</p> 
 <p style="text-align:left;"> imgUrl =</p> 
 <p style="text-align:left;">baiduImageUrl.arg("v1").arg("classify/ingredient").arg(accessToken);</p> 
 <p style="text-align:left;"> break;</p> 
 <p style="text-align:left;"> case 3:</p> 
 <p style="text-align:left;"> imgUrl = baiduImageUrl.arg("v1").arg("plant").arg(accessToken);</p> 
 <p style="text-align:left;"> break;</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;">}</p> 
 <p style="text-align:left;"> {<!-- --></p> 
 <p style="text-align:left;"> for(int i=0;i&lt;3;i++)</p> 
 <p style="text-align:left;"> {<!-- --></p> 
 <p style="text-align:left;"> QJsonValue first = val.toArray().at(i);</p> 
 <p style="text-align:left;">if (first.isObject())</p> 
 <p style="text-align:left;"> {<!-- --></p> 
 <p style="text-align:left;"> QString name = first.toObject().value("name").toString();</p> 
 <p style="text-align:left;"> QString score = first.toObject().value("score").toString();</p> 
 <p style="text-align:left;"></p> 
 <p style="text-align:left;">ui-&gt;textEdit-&gt;append(QString(QString::number(i+1)).append(". 名 称 :</p> 
 <p style="text-align:left;">").append(name).append("\n 置信度: ").append(score));</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;">// 显示最终结果</p> 
 <p style="text-align:left;"> ui-&gt;label_3-&gt;setText("经图像分析最可能为");</p> 
 <p style="text-align:left;">ui-&gt;label_4-&gt;setText(val.toArray().at(0).toObject().value("name").toString());</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;"> else{<!-- --></p> 
 <p style="text-align:left;"> ui-&gt;textEdit-&gt;append("识别不到，请重新拍照识别");</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;"> else{<!-- --></p> 
 <p style="text-align:left;"> ui-&gt;textEdit-&gt;append("识别不到，请重新拍照识别");</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;">}</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:360px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:64.72222%;height:0;"> 
    <img src="https://images2.imgbox.com/7d/f3/9s08S5M4_o.png" style="margin-left:;display:block;width:360px;margin-top:-64.72222%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">右键图像识别，转到槽</p> 
 <p style="text-align:left;">void MainWindow::on_recognitionBt_clicked()</p> 
 <p style="text-align:left;">{<!-- --></p> 
 <p style="text-align:left;"> ui-&gt;textEdit-&gt;clear();</p> 
 <p style="text-align:left;"> ui-&gt;label_3-&gt;clear();</p> 
 <p style="text-align:left;"> ui-&gt;label_4-&gt;clear();</p> 
 <p style="text-align:left;"> if(Keypadding ==false)</p> 
 <p style="text-align:left;"> {<!-- --></p> 
 <p style="text-align:left;"> QMessageBox::warning(this, "警告", "请先填充秘钥");</p> 
 <p style="text-align:left;"> return ;</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;"> if(picTorF == false)</p> 
 <p style="text-align:left;"> {<!-- --></p> 
 <p style="text-align:left;"> QMessageBox::warning(this, "警告", "请先拍照保存图片");</p> 
 <p style="text-align:left;"> return ;</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;"> QByteArray img = IamgeProcess::imageBaseTo64ToUrlEncode("pic.jpg");</p> 
 <p style="text-align:left;">//image=xxxxxxx</p> 
 <p style="text-align:left;"> QByteArray imgData = "image=" + img; //body</p> 
 <p style="text-align:left;"> //获取 access_token</p> 
 <p style="text-align:left;"> QByteArray replyData; //保存回复信息</p> 
 <p style="text-align:left;"> QString url = QString(baiduTokenUrl).arg(client_id).arg(secret_id);</p> 
 <p style="text-align:left;"> QMap&lt;QString, QString&gt; header; //封装头部信息</p> 
 <p style="text-align:left;"> header.insert(QString("Content-Type"), QString("application/x-www-formurlencoded"));</p> 
 <p style="text-align:left;"> bool result = Http::post_sync(imgUrl, header, imgData, replyData);</p> 
 <p style="text-align:left;"> if (result)</p> 
 <p style="text-align:left;"> {<!-- --></p> 
 <p style="text-align:left;"> QJsonObject obj = QJsonDocument::fromJson(replyData).object();</p> 
 <p style="text-align:left;"> QJsonValue val = obj.value("result");</p> 
 <p style="text-align:left;"> qDebug()&lt;&lt; obj;</p> 
 <p style="text-align:left;"> if (val.isArray())</p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">实验源码</span></h3> 
 <p style="text-align:left;">源码路径【11_智能图像识别\实验源码\05-AiCamera】</p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">注意事项</span></h3> 
 <p style="text-align:left;">1.在开发板运行时，需要导入中文字库，否则会因为识别不了中文。</p> 
 <p style="text-align:left;">将【11_智能图像识别\工具软件\wqy-zenhei-0.9.47-nightlybuild.tar.gz 或 wqy-zenhei-0.8.38-1.tar.gz】复制到 ubuntu 下。并使用 scp 命令将文件拷贝到开发板的 usr/share/fonts 目录下，使用 tar 命令解压后即可。 </p> 
 <p style="text-align:left;">linux@ubuntu:~$ scp wqy-zenhei-0.8.38-1.tar.gz</p> 
 <p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="mailto:root@192.168.10.128" rel="nofollow noopener noreferrer" target="_blank">root@192.168.10.128</a>:/usr/share/fonts/</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:14.216867%;height:0;"> 
    <img src="https://images2.imgbox.com/82/b1/XMdflIYR_o.png" style="margin-left:;display:block;width:415px;margin-top:-14.216867%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">2.如果使用 mipi 五寸屏运行此项目，需要进行屏幕旋转以适应屏幕，具体步骤如下：</p> 
 <p style="text-align:left;">在/etc/profile.d/qt-eglfs.sh 添加环境变量如下：</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:274px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:19.343065%;height:0;"> 
    <img src="https://images2.imgbox.com/19/21/Q1vgdNS5_o.png" style="margin-left:;display:block;width:274px;margin-top:-19.343065%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:57.831326%;height:0;"> 
    <img src="https://images2.imgbox.com/2a/7f/ik7dNVvx_o.png" style="margin-left:;display:block;width:415px;margin-top:-57.831326%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">下面变量的 event0 设备需要填实际的触摸屏设备</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:415px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:10.602409%;height:0;"> 
    <img src="https://images2.imgbox.com/8d/a9/rGMqCo0g_o.png" style="margin-left:;display:block;width:415px;margin-top:-10.602409%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">这里即填 event0</p> 
 <p style="text-align:left;">export QT_QPA_EGLFS_ROTATION=90</p> 
 <p style="text-align:left;">export QT_QPA_EGLFS_NO_LIBINPUT=1</p> 
 <p style="text-align:left;">export</p> 
 <p style="text-align:left;">QT_QPA_EVDEV_TOUCHSCREEN_PARAMETERS=/dev/input/event0:rotate=90</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e6e868af0b4d2b85787b0946538cb14f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java八股系列——Spring Bean的作用域与生命周期</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c92938407df5e54386ce736a150c4544/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JavaEE课程实践-Servlet的部署（tomcat服务器）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>