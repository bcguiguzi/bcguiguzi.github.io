<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java中常用的10种设计模式详解 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java中常用的10种设计模式详解" />
<meta property="og:description" content="1. 观察者模式 定义了对象之间的一对多的依赖，这样一来，当一个对象改变时，它的所有的依赖者都会收到通知并自动更新。
对于JDK或者Andorid中都有很多地方实现了观察者模式，比如XXXView.addXXXListenter ， 当然了 XXXView.setOnXXXListener不一定是观察者模式，因为观察者模式是一种一对多的关系，对于setXXXListener是1对1的关系，应该叫回调。
/** * 注册一个观察者 */ public void registerObserver(Observer observer); /** * 移除一个观察者 */ public void removeObserver(Observer observer); /** * 通知所有观察者 */ public void notifyObservers(); @Override public void registerObserver(Observer observer) { observers.add(observer); } @Override public void removeObserver(Observer observer) { int index = observers.indexOf(observer); if (index &gt;= 0) { observers.remove(index); } } @Override public void notifyObservers() { for (Observer observer : observers) { observer.update(msg); } } /** * 主题更新信息 */ public void setMsg(String msg) { this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/ee33dc224a321110e998c9d33e1c56e2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-07-14T14:20:56+08:00" />
<meta property="article:modified_time" content="2017-07-14T14:20:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java中常用的10种设计模式详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4 style="margin-top:24px; margin-bottom:16px; font-size:1.25em; line-height:1.25; color:rgb(36,41,46)"> 1. 观察者模式</h4> 
<blockquote style="margin:0px 0px 16px; padding:0px 1em; color:rgb(106,115,125); border-left:0.25em solid rgb(223,226,229); font-size:16px"> 
 <p style="margin-top:0px; margin-bottom:0px">定义了对象之间的一对多的依赖，这样一来，当一个对象改变时，它的所有的依赖者都会收到通知并自动更新。</p> 
</blockquote> 
<ul style="padding-left:2em; margin-top:0px; margin-bottom:16px; color:rgb(36,41,46); font-size:16px"><li style=""> <p style="margin-top:16px; margin-bottom:16px">对于JDK或者Andorid中都有很多地方实现了观察者模式，比如XXXView.addXXXListenter ， 当然了 XXXView.setOnXXXListener不一定是观察者模式，因为观察者模式是一种一对多的关系，对于setXXXListener是1对1的关系，应该叫回调。</p> </li></ul> 
<div class="highlight highlight-source-java" style="margin-bottom:16px; color:rgb(36,41,46); font-size:16px"> 
 <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'>	<span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">/*</span>*</span>
<span class="pl-c" style="color:rgb(106,115,125)">   * 注册一个观察者</span>
<span class="pl-c" style="color:rgb(106,115,125)">   <span class="pl-c" style="">*/</span></span>
  <span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">void</span> registerObserver(<span class="pl-smi" style="">Observer</span> observer);

  <span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">/*</span>*</span>
<span class="pl-c" style="color:rgb(106,115,125)">   * 移除一个观察者</span>
<span class="pl-c" style="color:rgb(106,115,125)">   <span class="pl-c" style="">*/</span></span>
  <span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">void</span> removeObserver(<span class="pl-smi" style="">Observer</span> observer);

  <span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">/*</span>*</span>
<span class="pl-c" style="color:rgb(106,115,125)">   * 通知所有观察者</span>
<span class="pl-c" style="color:rgb(106,115,125)">   <span class="pl-c" style="">*/</span></span>
  <span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">void</span> notifyObservers();</pre> 
</div> 
<ul style="padding-left:2em; margin-top:0px; margin-bottom:16px; color:rgb(36,41,46); font-size:16px"><li style=""> 
  <div class="highlight highlight-source-java" style="margin-bottom:16px"> 
   <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'> <span class="pl-k" style="color:rgb(215,58,73)">@Override</span>
<span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">void</span> registerObserver(<span class="pl-smi" style="">Observer</span> observer) {
    observers<span class="pl-k" style="color:rgb(215,58,73)">.</span>add(observer);
}
<span class="pl-k" style="color:rgb(215,58,73)">@Override</span>
<span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">void</span> removeObserver(<span class="pl-smi" style="">Observer</span> observer) {
    <span class="pl-k" style="color:rgb(215,58,73)">int</span> index <span class="pl-k" style="color:rgb(215,58,73)">=</span> observers<span class="pl-k" style="color:rgb(215,58,73)">.</span>indexOf(observer);
    <span class="pl-k" style="color:rgb(215,58,73)">if</span> (index <span class="pl-k" style="color:rgb(215,58,73)">&gt;=</span> <span class="pl-c1" style="color:rgb(0,92,197)">0</span>) {
        observers<span class="pl-k" style="color:rgb(215,58,73)">.</span>remove(index);
    }
}
<span class="pl-k" style="color:rgb(215,58,73)">@Override</span>
<span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">void</span> notifyObservers() {
    <span class="pl-k" style="color:rgb(215,58,73)">for</span> (<span class="pl-smi" style="">Observer</span> observer <span class="pl-k" style="color:rgb(215,58,73)">:</span> observers) {
        observer<span class="pl-k" style="color:rgb(215,58,73)">.</span>update(msg);
    }
}
<span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">/*</span>*</span>
<span class="pl-c" style="color:rgb(106,115,125)"> * 主题更新信息</span>
<span class="pl-c" style="color:rgb(106,115,125)"> <span class="pl-c" style="">*/</span></span>
<span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">void</span> setMsg(<span class="pl-smi" style="">String</span> msg) {
    <span class="pl-c1" style="color:rgb(0,92,197)">this</span><span class="pl-k" style="color:rgb(215,58,73)">.</span>msg <span class="pl-k" style="color:rgb(215,58,73)">=</span> msg;
    notifyObservers();
}</pre> 
  </div> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px"><br> </p> </li></ul> 
<div class="highlight highlight-source-java" style="margin-bottom:16px; color:rgb(36,41,46); font-size:16px"> 
 <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'><span class="pl-k" style="color:rgb(215,58,73)">public</span> ObserverUser1(<span class="pl-smi" style="">Subject</span> subject) {
       subject<span class="pl-k" style="color:rgb(215,58,73)">.</span>registerObserver(<span class="pl-c1" style="color:rgb(0,92,197)">this</span>);
   }
   <span class="pl-k" style="color:rgb(215,58,73)">@Override</span>
   <span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">void</span> update(<span class="pl-smi" style="">String</span> msg) {
       <span class="pl-smi" style="">Log</span><span class="pl-k" style="color:rgb(215,58,73)">.</span>e(<span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>-----ObserverUser1 <span class="pl-pds" style="">"</span></span>, <span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>得到 3D 号码:<span class="pl-pds" style="">"</span></span> <span class="pl-k" style="color:rgb(215,58,73)">+</span> msg <span class="pl-k" style="color:rgb(215,58,73)">+</span> <span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>, 我要记下来。 <span class="pl-pds" style="">"</span></span>);
   }</pre> 
</div> 
<ul style="padding-left:2em; margin-top:0px; margin-bottom:16px; color:rgb(36,41,46); font-size:16px"><li style=""> <p style="margin-top:16px; margin-bottom:16px"><br> </p> 
  <div class="highlight highlight-source-java" style="margin-bottom:16px"> 
   <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'> <span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span> 创建服务号</span>
 objectFor3D <span class="pl-k" style="color:rgb(215,58,73)">=</span> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">ObjectFor3D</span>();
 <span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span> 创建两个订阅者</span>
 observerUser1 <span class="pl-k" style="color:rgb(215,58,73)">=</span> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">ObserverUser1</span>(objectFor3D);
 observerUser2 <span class="pl-k" style="color:rgb(215,58,73)">=</span> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">ObserverUser2</span>(objectFor3D);
 <span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span> 两个观察者,发送两条信息</span>
 objectFor3D<span class="pl-k" style="color:rgb(215,58,73)">.</span>setMsg(<span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>201610121 的3D号为:127<span class="pl-pds" style="">"</span></span>);
 objectFor3D<span class="pl-k" style="color:rgb(215,58,73)">.</span>setMsg(<span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>20161022 的3D号为:000<span class="pl-pds" style="">"</span></span>);</pre> 
  </div> </li></ul> 
<h4 style="margin-top:24px; margin-bottom:16px; font-size:1.25em; line-height:1.25; color:rgb(36,41,46)"> <a target="_blank" id="user-content-2-工厂模式" class="anchor" href="https://github.com/youlookwhat/DesignPattern#2-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F" style="background-color:transparent; color:rgb(3,102,214); float:left; padding-right:4px; margin-left:-20px; line-height:1" rel="noopener noreferrer"></a>2. 工厂模式</h4> 
<p style="margin-top:0px; margin-bottom:16px; color:rgb(36,41,46); font-size:16px"> 简单列一下这个模式的家族：</p> 
<ul style="padding-left:2em; margin-top:0px; margin-bottom:16px; color:rgb(36,41,46); font-size:16px"><li style=""> <p style="margin-top:16px; margin-bottom:16px"><span style="font-weight:600">1、静态工厂模式</span></p> 
  <ul style="padding-left:2em; margin-top:0px; margin-bottom:0px"><li style="">这个最常见了，项目中的辅助类，TextUtil.isEmpty等，类+静态方法。</li></ul> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px"><span style="font-weight:600">2、简单工厂模式（店里买肉夹馍）</span></p> 
  <ul style="padding-left:2em; margin-top:0px; margin-bottom:0px"><li style="">定义：通过专门定义一个类来负责创建其他类的实例，被创建的实例通常都具有共同的父类。</li></ul> 
  <div class="highlight highlight-source-java" style="margin-bottom:16px"> 
   <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'> <span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-smi" style="">RoujiaMo</span> creatRoujiaMo(<span class="pl-smi" style="">String</span> type) {
     <span class="pl-smi" style="">RoujiaMo</span> roujiaMo <span class="pl-k" style="color:rgb(215,58,73)">=</span> <span class="pl-c1" style="color:rgb(0,92,197)">null</span>;
     <span class="pl-k" style="color:rgb(215,58,73)">switch</span> (type) {
         <span class="pl-k" style="color:rgb(215,58,73)">case</span> <span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>Suan<span class="pl-pds" style="">"</span></span><span class="pl-k" style="color:rgb(215,58,73)">:</span>
             roujiaMo <span class="pl-k" style="color:rgb(215,58,73)">=</span> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">ZSuanRoujiaMo</span>();
             <span class="pl-k" style="color:rgb(215,58,73)">break</span>;
         <span class="pl-k" style="color:rgb(215,58,73)">case</span> <span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>La<span class="pl-pds" style="">"</span></span><span class="pl-k" style="color:rgb(215,58,73)">:</span>
             roujiaMo <span class="pl-k" style="color:rgb(215,58,73)">=</span> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">ZLaRoujiaMo</span>();
             <span class="pl-k" style="color:rgb(215,58,73)">break</span>;
         <span class="pl-k" style="color:rgb(215,58,73)">case</span> <span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>Tian<span class="pl-pds" style="">"</span></span><span class="pl-k" style="color:rgb(215,58,73)">:</span>
             roujiaMo <span class="pl-k" style="color:rgb(215,58,73)">=</span> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">ZTianRoujiaMo</span>();
             <span class="pl-k" style="color:rgb(215,58,73)">break</span>;
         <span class="pl-k" style="color:rgb(215,58,73)">default</span><span class="pl-k" style="color:rgb(215,58,73)">:</span><span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span> 默认为酸肉夹馍</span>
             roujiaMo <span class="pl-k" style="color:rgb(215,58,73)">=</span> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">ZSuanRoujiaMo</span>();
             <span class="pl-k" style="color:rgb(215,58,73)">break</span>;
     }
     <span class="pl-k" style="color:rgb(215,58,73)">return</span> roujiaMo;
 }</pre> 
  </div> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px"><span style="font-weight:600">3、工厂方法模式（开分店）</span></p> 
  <ul style="padding-left:2em; margin-top:0px; margin-bottom:0px"><li style="">定义：定义一个创建对象的接口，但由子类决定要实例化的类是哪一个。工厂方法模式把类实例化的过程推迟到子类。</li><li style="margin-top:0.25em">对比定义：</li><li style="margin-top:0.25em">1、定义了创建对象的一个接口：public abstract RouJiaMo sellRoujiaMo(String type);</li><li style="margin-top:0.25em">2、由子类决定实例化的类，可以看到我们的馍是子类生成的。</li></ul> </li><li style="margin-top:0.25em"> 
  <div class="highlight highlight-source-java" style="margin-bottom:16px"> 
   <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'><span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">abstract</span> <span class="pl-smi" style="">RoujiaMo</span> sellRoujiaMo(<span class="pl-smi" style="">String</span> type);</pre> 
  </div> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px"><br> </p> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px"><span style="font-weight:600">4、抽象工厂模式（使用官方提供的原料）</span></p> 
  <ul style="padding-left:2em; margin-top:0px; margin-bottom:0px"><li style="">定义：提供一个接口，用于创建相关的或依赖对象的家族，而不需要明确指定具体类。</li><li style="margin-top:0.25em">对比定义： 
    <ul style="padding-left:2em; margin-top:0px; margin-bottom:0px"><li style="">1、提供一个接口：public interface RouJiaMoYLFactroy</li><li style="margin-top:0.25em">2、用于创建相关的或依赖对象的家族 public Meat createMeat();public YuanLiao createYuanliao();我们接口用于创建一系列的原材料</li></ul> </li></ul> 
  <div class="highlight highlight-source-java" style="margin-bottom:16px"> 
   <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'> <span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">/*</span>*</span>
<span class="pl-c" style="color:rgb(106,115,125)"> * 准备工作</span>
<span class="pl-c" style="color:rgb(106,115,125)"> <span class="pl-c" style="">*/</span></span>
<span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">void</span> prepare(<span class="pl-smi" style="">RoujiaMoYLFactory</span> roujiaMoYLFactory) {
    	<span class="pl-smi" style="">Meet</span> meet <span class="pl-k" style="color:rgb(215,58,73)">=</span> roujiaMoYLFactory<span class="pl-k" style="color:rgb(215,58,73)">.</span>creatMeet();
    	<span class="pl-smi" style="">YuanLiao</span> yuanLiao <span class="pl-k" style="color:rgb(215,58,73)">=</span> roujiaMoYLFactory<span class="pl-k" style="color:rgb(215,58,73)">.</span>creatYuanLiao();
    	<span class="pl-smi" style="">Log</span><span class="pl-k" style="color:rgb(215,58,73)">.</span>e(<span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>---RoujiaMo:<span class="pl-pds" style="">"</span></span>, <span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>使用官方的原料 ---<span class="pl-pds" style="">"</span></span> <span class="pl-k" style="color:rgb(215,58,73)">+</span> name <span class="pl-k" style="color:rgb(215,58,73)">+</span> <span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>: 揉面-剁肉-完成准备工作 yuanLiao:<span class="pl-pds" style="">"</span></span><span class="pl-k" style="color:rgb(215,58,73)">+</span>meet<span class="pl-k" style="color:rgb(215,58,73)">+</span><span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>yuanLiao:<span class="pl-pds" style="">"</span></span><span class="pl-k" style="color:rgb(215,58,73)">+</span>yuanLiao);
}</pre> 
  </div> </li></ul> 
<h4 style="margin-top:24px; margin-bottom:16px; font-size:1.25em; line-height:1.25; color:rgb(36,41,46)"> <a target="_blank" id="user-content-3-单例设计模式" class="anchor" href="https://github.com/youlookwhat/DesignPattern#3-%E5%8D%95%E4%BE%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F" style="background-color:transparent; color:rgb(3,102,214); float:left; padding-right:4px; margin-left:-20px; line-height:1" rel="noopener noreferrer"></a>3. 单例设计模式</h4> 
<blockquote style="margin:0px 0px 16px; padding:0px 1em; color:rgb(106,115,125); border-left:0.25em solid rgb(223,226,229); font-size:16px"> 
 <p style="margin-top:0px; margin-bottom:0px">单例模式主要是为了避免因为创建了多个实例造成资源的浪费，且多个实例由于多次调用容易导致结果出现错误，而<span style="font-weight:600">使用单例模式能够保证整个应用中有且只有一个实例</span>。</p> 
</blockquote> 
<ul style="padding-left:2em; margin-top:0px; margin-bottom:16px; color:rgb(36,41,46); font-size:16px"><li style=""> <p style="margin-top:16px; margin-bottom:16px">定义：只需要三步就可以保证对象的唯一性</p> 
  <ul style="padding-left:2em; margin-top:0px; margin-bottom:0px"><li style="">(1) 不允许其他程序用new对象</li><li style="margin-top:0.25em">(2) 在该类中创建对象</li><li style="margin-top:0.25em">(3) 对外提供一个可以让其他程序获取该对象的方法</li></ul> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px">对比定义：</p> 
  <ul style="padding-left:2em; margin-top:0px; margin-bottom:0px"><li style="">(1) 私有化该类的构造函数</li><li style="margin-top:0.25em">(2) 通过new在本类中创建一个本类对象</li><li style="margin-top:0.25em">(3) 定义一个公有的方法，将在该类中所创建的对象返回</li></ul> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px"><br> </p> </li></ul> 
<div class="highlight highlight-source-java" style="margin-bottom:16px; color:rgb(36,41,46); font-size:16px"> 
 <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'>    <span class="pl-k" style="color:rgb(215,58,73)">private</span> SingletonLanHan() {}
    <span class="pl-k" style="color:rgb(215,58,73)">private</span> <span class="pl-k" style="color:rgb(215,58,73)">static</span> <span class="pl-smi" style="">SingletonLanHan</span> singletonLanHanFour;
    <span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">static</span> <span class="pl-smi" style="">SingletonLanHan</span> getSingletonLanHanFour() {
   	    <span class="pl-k" style="color:rgb(215,58,73)">if</span> (singletonLanHanFour <span class="pl-k" style="color:rgb(215,58,73)">==</span> <span class="pl-c1" style="color:rgb(0,92,197)">null</span>) {
   		<span class="pl-k" style="color:rgb(215,58,73)">synchronized</span> (<span class="pl-smi" style="">SingletonLanHan</span><span class="pl-k" style="color:rgb(215,58,73)">.</span>class) {
   		    <span class="pl-k" style="color:rgb(215,58,73)">if</span> (singletonLanHanFour <span class="pl-k" style="color:rgb(215,58,73)">==</span> <span class="pl-c1" style="color:rgb(0,92,197)">null</span>) {
   			singletonLanHanFour <span class="pl-k" style="color:rgb(215,58,73)">=</span> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">SingletonLanHan</span>();
   		    }
   		}
   	    }
   	    <span class="pl-k" style="color:rgb(215,58,73)">return</span> singletonLanHanFour;
   }
   </pre> 
</div> 
<ul style="padding-left:2em; margin-top:0px; margin-bottom:16px; color:rgb(36,41,46); font-size:16px"><li style=""><br> </li></ul> 
<h4 style="margin-top:24px; margin-bottom:16px; font-size:1.25em; line-height:1.25; color:rgb(36,41,46)"> <a target="_blank" id="user-content-4-策略模式" class="anchor" href="https://github.com/youlookwhat/DesignPattern#4-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F" style="background-color:transparent; color:rgb(3,102,214); float:left; padding-right:4px; margin-left:-20px; line-height:1" rel="noopener noreferrer"></a>4. 策略模式</h4> 
<blockquote style="margin:0px 0px 16px; padding:0px 1em; color:rgb(106,115,125); border-left:0.25em solid rgb(223,226,229); font-size:16px"> 
 <p style="margin-top:0px; margin-bottom:0px">策略模式：定义了算法族，分别封装起来，让它们之间可相互替换，此模式让算法的变化独立于使用算法的客户。</p> 
</blockquote> 
<ul style="padding-left:2em; margin-top:0px; margin-bottom:16px; color:rgb(36,41,46); font-size:16px"><li style="">以创建游戏角色为例子： 
  <ul style="padding-left:2em; margin-top:0px; margin-bottom:0px"><li style="">最初的游戏角色的父类</li><li style="margin-top:0.25em">发现有重复代码后，重构后的父类</li></ul> </li><li style="margin-top:0.25em">总结： 
  <ul style="padding-left:2em; margin-top:0px; margin-bottom:0px"><li style="">1、封装变化（把可能变化的代码封装起来）</li><li style="margin-top:0.25em">2、多用组合，少用继承（我们使用组合的方式，为客户设置了算法）</li><li style="margin-top:0.25em">3、针对接口编程，不针对实现（对于Role类的设计完全的针对角色，和技能的实现没有关系）</li></ul> </li><li style="margin-top:0.25em">最后测试：创建角色：</li></ul> 
<div class="highlight highlight-source-java" style="margin-bottom:16px; color:rgb(36,41,46); font-size:16px"> 
 <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'><span class="pl-smi" style="">RoleA</span> roleA <span class="pl-k" style="color:rgb(215,58,73)">=</span> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">RoleA</span>(<span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>---A<span class="pl-pds" style="">"</span></span>);
roleA<span class="pl-k" style="color:rgb(215,58,73)">.</span>setiDisplayBehavior(<span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">DisplayYZ</span>())
      .setiAttackBehavior(<span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">AttackXL</span>())
      .setiDefendBehavior(<span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">DefendTMS</span>())
      .setiRunBehavior(<span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">RunJCTQ</span>());
roleA<span class="pl-k" style="color:rgb(215,58,73)">.</span>display();<span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span> 样子</span>
roleA<span class="pl-k" style="color:rgb(215,58,73)">.</span>attack();<span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span> 攻击</span>
roleA<span class="pl-k" style="color:rgb(215,58,73)">.</span>run();<span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span> 逃跑</span>
roleA<span class="pl-k" style="color:rgb(215,58,73)">.</span>defend();<span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span> 防御</span></pre> 
</div> 
<h4 style="margin-top:24px; margin-bottom:16px; font-size:1.25em; line-height:1.25; color:rgb(36,41,46)"> <a target="_blank" id="user-content-5-适配器模式" class="anchor" href="https://github.com/youlookwhat/DesignPattern#5-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F" style="background-color:transparent; color:rgb(3,102,214); float:left; padding-right:4px; margin-left:-20px; line-height:1" rel="noopener noreferrer"></a>5. 适配器模式</h4> 
<blockquote style="margin:0px 0px 16px; padding:0px 1em; color:rgb(106,115,125); border-left:0.25em solid rgb(223,226,229); font-size:16px"> 
 <p style="margin-top:0px; margin-bottom:0px">定义：将一个类的接口转换成客户期望的另一个接口，适配器让原本接口不兼容的类可以相互合作。这个定义还好，说适配器的功能就是把一个接口转成另一个接口。</p> 
</blockquote> 
<ul style="padding-left:2em; margin-top:0px; margin-bottom:16px; color:rgb(36,41,46); font-size:16px"><li style=""> <p style="margin-top:16px; margin-bottom:16px">以充电器为实例: 手机充电器一般都是5V左右吧，咱天朝的家用交流电压220V，所以手机充电需要一个适配器（降压器）</p> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px"><br> </p> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px">最后测试：给手机冲个电：</p> 
  <div class="highlight highlight-source-java" style="margin-bottom:16px"> 
   <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'><span class="pl-smi" style="">Mobile</span> mobile <span class="pl-k" style="color:rgb(215,58,73)">=</span> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">Mobile</span>();
<span class="pl-smi" style="">V5Power</span> v5Power <span class="pl-k" style="color:rgb(215,58,73)">=</span> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">V5PowerAdapter</span>(<span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">V200Power</span>());
mobile<span class="pl-k" style="color:rgb(215,58,73)">.</span>inputPower(v5Power);</pre> 
  </div> </li></ul> 
<h4 style="margin-top:24px; margin-bottom:16px; font-size:1.25em; line-height:1.25; color:rgb(36,41,46)"> <a target="_blank" id="user-content-6-命令模式" class="anchor" href="https://github.com/youlookwhat/DesignPattern#6-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F" style="background-color:transparent; color:rgb(3,102,214); float:left; padding-right:4px; margin-left:-20px; line-height:1" rel="noopener noreferrer"></a>6. 命令模式</h4> 
<blockquote style="margin:0px 0px 16px; padding:0px 1em; color:rgb(106,115,125); border-left:0.25em solid rgb(223,226,229); font-size:16px"> 
 <p style="margin-top:0px; margin-bottom:0px">定义：将“请求”封装成对象，以便使用不同的请求、队列或者日志来参数化其他对象。命令模式也支持可撤销的操作。(简化: 将请求封装成对象，将动作请求者和动作执行者解耦。)</p> 
</blockquote> 
<ul style="padding-left:2em; margin-top:0px; margin-bottom:16px; color:rgb(36,41,46); font-size:16px"><li style="">需求：最近智能家电很火热，假设现在有电视、电脑、电灯等家电，现在需要你做个遥控器控制所有家电的开关，要求做到每个按钮对应的功能供用户个性化，对于新买入家电要有非常强的扩展性。</li></ul> 
<div class="highlight highlight-source-java" style="margin-bottom:16px; color:rgb(36,41,46); font-size:16px"> 
 <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'><span class="pl-smi" style="">QuickCommand</span> quickCloseCommand <span class="pl-k" style="color:rgb(215,58,73)">=</span> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">QuickCommand</span>(<span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">Command</span>[]{<!-- --><span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">LightOffCommand</span>(light), <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">ComputerOffCommand</span>(computer), <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">DoorCloseCommand</span>(door)});
controlPanel<span class="pl-k" style="color:rgb(215,58,73)">.</span>setCommands(<span class="pl-c1" style="color:rgb(0,92,197)">6</span>, quickOpenCommand);
controlPanel<span class="pl-k" style="color:rgb(215,58,73)">.</span>keyPressed(<span class="pl-c1" style="color:rgb(0,92,197)">6</span>);</pre> 
</div> 
<div class="highlight highlight-source-java" style="margin-bottom:16px; color:rgb(36,41,46); font-size:16px"> 
 <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'>controlPanel<span class="pl-k" style="color:rgb(215,58,73)">.</span>setCommands(<span class="pl-c1" style="color:rgb(0,92,197)">0</span>, <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">DoorOpenCommand</span>(door));<span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span> 开门</span>
controlPanel<span class="pl-k" style="color:rgb(215,58,73)">.</span>keyPressed(<span class="pl-c1" style="color:rgb(0,92,197)">0</span>);</pre> 
</div> 
<h4 style="margin-top:24px; margin-bottom:16px; font-size:1.25em; line-height:1.25; color:rgb(36,41,46)"> <a target="_blank" id="user-content-7-装饰者模式" class="anchor" href="https://github.com/youlookwhat/DesignPattern#7-%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F" style="background-color:transparent; color:rgb(3,102,214); float:left; padding-right:4px; margin-left:-20px; line-height:1" rel="noopener noreferrer"></a>7. 装饰者模式</h4> 
<blockquote style="margin:0px 0px 16px; padding:0px 1em; color:rgb(106,115,125); border-left:0.25em solid rgb(223,226,229); font-size:16px"> 
 <p style="margin-top:0px; margin-bottom:0px">装饰者模式：若要扩展功能，装饰者提供了比集成更有弹性的替代方案，动态地将责任附加到对象上。</p> 
</blockquote> 
<ul style="padding-left:2em; margin-top:0px; margin-bottom:16px; color:rgb(36,41,46); font-size:16px"><li style=""> <p style="margin-top:16px; margin-bottom:16px">先简单描述下装饰者模式发挥作用的地方，当我们设计好了一个类，我们需要给这个类添加一些辅助的功能，并且不希望改变这个类的代码，这时候就是装饰者模式大展雄威的时候了。这里还体现了一个<span style="font-weight:600">原则：类应该对扩展开放，对修改关闭。</span></p> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px">需求：设计游戏的装备系统，基本要求，要可以计算出每种装备在镶嵌了各种宝石后的攻击力和描述：</p> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px">5、最后测试：计算攻击力和查看描述：</p> 
  <div class="highlight highlight-source-java" style="margin-bottom:16px"> 
   <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'> <span class="pl-smi" style="">Log</span><span class="pl-k" style="color:rgb(215,58,73)">.</span>e(<span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>---<span class="pl-pds" style="">"</span></span>, <span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>一个镶嵌2颗红宝石,1颗蓝宝石的靴子: <span class="pl-pds" style="">"</span></span>);
 <span class="pl-smi" style="">IEquip</span> iEquip <span class="pl-k" style="color:rgb(215,58,73)">=</span> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">RedGemDecotator</span>(<span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">RedGemDecotator</span>(<span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">BlueGemDecotator</span>(<span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">ShoeEquip</span>())));
 <span class="pl-smi" style="">Log</span><span class="pl-k" style="color:rgb(215,58,73)">.</span>e(<span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>---<span class="pl-pds" style="">"</span></span>, <span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>攻击力:<span class="pl-pds" style="">"</span></span> <span class="pl-k" style="color:rgb(215,58,73)">+</span> iEquip<span class="pl-k" style="color:rgb(215,58,73)">.</span>caculateAttack());
 <span class="pl-smi" style="">Log</span><span class="pl-k" style="color:rgb(215,58,73)">.</span>e(<span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>---<span class="pl-pds" style="">"</span></span>, <span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>描述语:<span class="pl-pds" style="">"</span></span> <span class="pl-k" style="color:rgb(215,58,73)">+</span> iEquip<span class="pl-k" style="color:rgb(215,58,73)">.</span>description());</pre> 
  </div> </li></ul> 
<h4 style="margin-top:24px; margin-bottom:16px; font-size:1.25em; line-height:1.25; color:rgb(36,41,46)"> <a target="_blank" id="user-content-8-外观模式" class="anchor" href="https://github.com/youlookwhat/DesignPattern#8-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F" style="background-color:transparent; color:rgb(3,102,214); float:left; padding-right:4px; margin-left:-20px; line-height:1" rel="noopener noreferrer"></a>8. 外观模式</h4> 
<blockquote style="margin:0px 0px 16px; padding:0px 1em; color:rgb(106,115,125); border-left:0.25em solid rgb(223,226,229); font-size:16px"> 
 <p style="margin-top:0px; margin-bottom:0px">定义：提供一个统一的接口，用来访问子系统中的一群接口，外观定义了一个高层的接口，让子系统更容易使用。<span style="font-weight:600">其实就是为了方便客户的使用，把一群操作，封装成一个方法。</span></p> 
</blockquote> 
<ul style="padding-left:2em; margin-top:0px; margin-bottom:16px; color:rgb(36,41,46); font-size:16px"><li style=""> <p style="margin-top:16px; margin-bottom:16px">需求：我比较喜欢看电影，于是买了投影仪、电脑、音响、设计了房间的灯光、买了爆米花机，然后我想看电影的时候，我需要一键观影和一键关闭。</p> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px">每个设备类的开关等操作：</p> </li><li style="margin-top:0.25em"> 
  <div class="highlight highlight-source-java" style="margin-bottom:16px"> 
   <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'><span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">/*</span>*</span>
<span class="pl-c" style="color:rgb(106,115,125)"> * 一键观影</span>
<span class="pl-c" style="color:rgb(106,115,125)"> <span class="pl-c" style="">*/</span></span>
<span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">void</span> watchMovie() {
    computer<span class="pl-k" style="color:rgb(215,58,73)">.</span>on();
    light<span class="pl-k" style="color:rgb(215,58,73)">.</span>down();
    popcornPopper<span class="pl-k" style="color:rgb(215,58,73)">.</span>on();
    popcornPopper<span class="pl-k" style="color:rgb(215,58,73)">.</span>makePopcorn();
    projector<span class="pl-k" style="color:rgb(215,58,73)">.</span>on();
    projector<span class="pl-k" style="color:rgb(215,58,73)">.</span>open();
    player<span class="pl-k" style="color:rgb(215,58,73)">.</span>on();
    player<span class="pl-k" style="color:rgb(215,58,73)">.</span>make3DListener();
}</pre> 
  </div> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px">最后测试：一键观影：</p> 
  <div class="highlight highlight-source-java" style="margin-bottom:16px"> 
   <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">HomeTheaterFacade</span>(computer, light, player, popcornPopper, projector)<span class="pl-k" style="color:rgb(215,58,73)">.</span>watchMovie();</pre> 
  </div> </li></ul> 
<h4 style="margin-top:24px; margin-bottom:16px; font-size:1.25em; line-height:1.25; color:rgb(36,41,46)"> <a target="_blank" id="user-content-9-模板方法模式" class="anchor" href="https://github.com/youlookwhat/DesignPattern#9-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F" style="background-color:transparent; color:rgb(3,102,214); float:left; padding-right:4px; margin-left:-20px; line-height:1" rel="noopener noreferrer"></a>9. 模板方法模式</h4> 
<blockquote style="margin:0px 0px 16px; padding:0px 1em; color:rgb(106,115,125); border-left:0.25em solid rgb(223,226,229); font-size:16px"> 
 <p style="margin-top:0px; margin-bottom:0px">定义：定义了一个算法的骨架，而将一些步骤延迟到子类中，模版方法使得子类可以在不改变算法结构的情况下，重新定义算法的步骤。</p> 
</blockquote> 
<ul style="padding-left:2em; margin-top:0px; margin-bottom:16px; color:rgb(36,41,46); font-size:16px"><li style=""> <p style="margin-top:16px; margin-bottom:16px">需求：简单描述一下：本公司有程序猿、测试、HR、项目经理等人，下面使用模版方法模式，记录下所有人员的上班情况</p> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px">模板方法模式中的三类角色</p> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px">1、具体方法(Concrete Method)</p> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px">2、抽象方法(Abstract Method)</p> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px">3、钩子方法(Hook Method)</p> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px"><br> </p> 
  <div class="highlight highlight-source-java" style="margin-bottom:16px"> 
   <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'> <span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span> 具体方法</span>
 <span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">final</span> <span class="pl-k" style="color:rgb(215,58,73)">void</span> workOneDay() {
     <span class="pl-smi" style="">Log</span><span class="pl-k" style="color:rgb(215,58,73)">.</span>e(<span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>workOneDay<span class="pl-pds" style="">"</span></span>, <span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>-----------------work start----------------<span class="pl-pds" style="">"</span></span>);
     enterCompany();
     work();
     exitCompany();
     <span class="pl-smi" style="">Log</span><span class="pl-k" style="color:rgb(215,58,73)">.</span>e(<span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>workOneDay<span class="pl-pds" style="">"</span></span>, <span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>-----------------work end----------------<span class="pl-pds" style="">"</span></span>);
 }
 <span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span> 工作  抽象方法</span>
 <span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">abstract</span> <span class="pl-k" style="color:rgb(215,58,73)">void</span> work();
 <span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span> 钩子方法</span>
 <span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">boolean</span> isNeedPrintDate() {
     <span class="pl-k" style="color:rgb(215,58,73)">return</span> <span class="pl-c1" style="color:rgb(0,92,197)">false</span>;
 }
 <span class="pl-k" style="color:rgb(215,58,73)">private</span> <span class="pl-k" style="color:rgb(215,58,73)">void</span> exitCompany() {
     <span class="pl-k" style="color:rgb(215,58,73)">if</span> (isNeedPrintDate()) {
         <span class="pl-smi" style="">Log</span><span class="pl-k" style="color:rgb(215,58,73)">.</span>e(<span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>exitCompany<span class="pl-pds" style="">"</span></span>, <span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>---<span class="pl-pds" style="">"</span></span> <span class="pl-k" style="color:rgb(215,58,73)">+</span> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">Date</span>()<span class="pl-k" style="color:rgb(215,58,73)">.</span>toLocaleString() <span class="pl-k" style="color:rgb(215,58,73)">+</span> <span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>---&gt;<span class="pl-pds" style="">"</span></span>);
     }
     <span class="pl-smi" style="">Log</span><span class="pl-k" style="color:rgb(215,58,73)">.</span>e(<span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>exitCompany<span class="pl-pds" style="">"</span></span>, name <span class="pl-k" style="color:rgb(215,58,73)">+</span> <span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>---离开公司<span class="pl-pds" style="">"</span></span>);
 }</pre> 
  </div> </li><li style="margin-top:0.25em"> 
  <div class="highlight highlight-source-java" style="margin-bottom:16px"> 
   <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'> <span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">/*</span>*</span>
<span class="pl-c" style="color:rgb(106,115,125)">  * 重写父类的此方法,使可以查看离开公司时间</span>
<span class="pl-c" style="color:rgb(106,115,125)">  <span class="pl-c" style="">*/</span></span>
 <span class="pl-k" style="color:rgb(215,58,73)">@Override</span>
 <span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">boolean</span> isNeedPrintDate() {
     <span class="pl-k" style="color:rgb(215,58,73)">return</span> <span class="pl-c1" style="color:rgb(0,92,197)">true</span>;
 }</pre> 
  </div> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px">最后测试：</p> 
  <ul style="padding-left:2em; margin-top:0px; margin-bottom:0px"><li style=""> <p style="margin-top:16px; margin-bottom:16px">查看所有人员的工作情况：</p> 
    <div class="highlight highlight-source-java" style="margin-bottom:16px"> 
     <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'> <span class="pl-smi" style="">QAWorker</span> qaWorker <span class="pl-k" style="color:rgb(215,58,73)">=</span> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">QAWorker</span>(<span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>测试人员<span class="pl-pds" style="">"</span></span>);
 qaWorker();
 <span class="pl-smi" style="">HRWorker</span> hrWorker <span class="pl-k" style="color:rgb(215,58,73)">=</span> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">HRWorker</span>(<span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>莉莉姐<span class="pl-pds" style="">"</span></span>);
 hrWorker<span class="pl-k" style="color:rgb(215,58,73)">.</span>workOneDay();
 <span class="pl-c1" style="color:rgb(0,92,197)">...</span></pre> 
    </div> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px">查看程序猿离开公司的时间:</p> 
    <div class="highlight highlight-source-java" style="margin-bottom:16px"> 
     <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'> <span class="pl-smi" style="">ITWorker</span> itWorker <span class="pl-k" style="color:rgb(215,58,73)">=</span> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">ITWorker</span>(<span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>jingbin<span class="pl-pds" style="">"</span></span>);
itWorker<span class="pl-k" style="color:rgb(215,58,73)">.</span>workOneDay();</pre> 
    </div> </li></ul> </li></ul> 
<h4 style="margin-top:24px; margin-bottom:16px; font-size:1.25em; line-height:1.25; color:rgb(36,41,46)"> <a target="_blank" id="user-content-10-状态模式" class="anchor" href="https://github.com/youlookwhat/DesignPattern#10-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F" style="background-color:transparent; color:rgb(3,102,214); float:left; padding-right:4px; margin-left:-20px; line-height:1" rel="noopener noreferrer"></a>10. 状态模式</h4> 
<blockquote style="margin:0px 0px 16px; padding:0px 1em; color:rgb(106,115,125); border-left:0.25em solid rgb(223,226,229); font-size:16px"> 
 <p style="margin-top:0px; margin-bottom:0px">定义：允许对象在内部状态改变时改变它的行为，对象看起来好像修改了它的类。</p> 
</blockquote> 
<ul style="padding-left:2em; margin-top:0px; margin-bottom:16px; color:rgb(36,41,46); font-size:16px"><li style=""> <p style="margin-top:16px; margin-bottom:16px">定义又开始模糊了，理一下，当对象的内部状态改变时，它的行为跟随状态的改变而改变了，看起来好像重新初始化了一个类似的。</p> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px">需求：已自动售货机为例（有已投币、未投币等状态和投币、投币等方法）</p> </li><li style="margin-top:0.25em"> 
  <div class="highlight highlight-source-java" style="margin-bottom:16px"> 
   <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'><span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span> 放钱</span>
<span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">void</span> insertMoney() {
    currentState<span class="pl-k" style="color:rgb(215,58,73)">.</span>insertMoney();
}
<span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span> 退钱</span>
<span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">void</span> backMoney() {
    currentState<span class="pl-k" style="color:rgb(215,58,73)">.</span>backMoney();
}
<span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span> 转动曲柄</span>
<span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">void</span> turnCrank() {
    currentState<span class="pl-k" style="color:rgb(215,58,73)">.</span>turnCrank();
    <span class="pl-k" style="color:rgb(215,58,73)">if</span> (currentState <span class="pl-k" style="color:rgb(215,58,73)">==</span> soldState <span class="pl-k" style="color:rgb(215,58,73)">||</span> currentState <span class="pl-k" style="color:rgb(215,58,73)">==</span> winnerState) {
        currentState<span class="pl-k" style="color:rgb(215,58,73)">.</span>dispense();<span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span>两种情况会出货</span>
    }
}
<span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span> 出商品</span>
<span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">void</span> dispense() {
    <span class="pl-smi" style="">Log</span><span class="pl-k" style="color:rgb(215,58,73)">.</span>e(<span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>VendingMachineBetter<span class="pl-pds" style="">"</span></span>, <span class="pl-s" style="color:rgb(3,47,98)"><span class="pl-pds" style="">"</span>---发出一件商品<span class="pl-pds" style="">"</span></span>);
    <span class="pl-k" style="color:rgb(215,58,73)">if</span> (count <span class="pl-k" style="color:rgb(215,58,73)">&gt;</span> <span class="pl-c1" style="color:rgb(0,92,197)">0</span>) {
        count<span class="pl-k" style="color:rgb(215,58,73)">--</span>;
    }
}
<span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span> 设置对应状态</span>
<span class="pl-k" style="color:rgb(215,58,73)">public</span> <span class="pl-k" style="color:rgb(215,58,73)">void</span> setState(<span class="pl-smi" style="">State</span> state) {
    <span class="pl-c1" style="color:rgb(0,92,197)">this</span><span class="pl-k" style="color:rgb(215,58,73)">.</span>currentState <span class="pl-k" style="color:rgb(215,58,73)">=</span> state;
}</pre> 
  </div> </li><li style="margin-top:0.25em"> <p style="margin-top:16px; margin-bottom:16px">改进后的售货机测试：</p> 
  <div class="highlight highlight-source-java" style="margin-bottom:16px"> 
   <pre style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; margin-top:0px; margin-bottom:0px; line-height:1.45; word-wrap:normal; padding:16px; overflow:auto; background-color:rgb(246,248,250); word-break:normal'> <span class="pl-c" style="color:rgb(106,115,125)"><span class="pl-c" style="">//</span> 初始化售货机,且里面有3个商品</span>
<span class="pl-smi" style="">VendingMachineBetter</span> machineBetter <span class="pl-k" style="color:rgb(215,58,73)">=</span> <span class="pl-k" style="color:rgb(215,58,73)">new</span> <span class="pl-smi" style="">VendingMachineBetter</span>(<span class="pl-c1" style="color:rgb(0,92,197)">3</span>);
machineBetter<span class="pl-k" style="color:rgb(215,58,73)">.</span>insertMoney();
machineBetter<span class="pl-k" style="color:rgb(215,58,73)">.</span>turnCrank();</pre> 
  </div> </li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f38b1eb4c55b3c85f2e584f442724cea/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">工作常用软件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6c667b6a4001a8449497bf6dada0f760/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">selenium - Python环境搭建(windows)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>