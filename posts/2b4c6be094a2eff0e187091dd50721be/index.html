<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数独生成算法的简单实现 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="数独生成算法的简单实现" />
<meta property="og:description" content="一、问题描述：
数独是一种运用纸、笔进行演算的逻辑游戏。玩家需要根据9×9盘面上的已知数字，推理出所有剩余空格的数字，并满足每一行、每一列、每一个九宫格内的数字均含1-9，不重复
要求：设计算法随机生成不同难度的数独游戏，阐述如何评价所生成数独的难度。
问题分析： （在此只涉及数独的生成，不涉及数独的求解）
数独问题的约束条件：
(1)每个矩阵的数字范围仅限1—9；
(2)每个数字在当前行不允许重复；
(3)每个数字在当前列不允许重复；
(4)每个数字在每一宫内不允许重复。
问题求解思路 数独的生成，最好的情况就是，先得到一个完整的数独，然后根据难度需要，随机地挖一些空格出来，保证有解。所以关键就是如何得到完整的数独，也要有一定的随机化。
先要生成一个数独数组shudo[9][9]，用memset函数对数组初始化，按照规则随机填数，然后根据给定的难度等级再随机挖洞，这就是我们生成的数独游戏。
算法测试
1.按照问题求解思路，在生成数独数组并将其完成初始化后，用shudu_1函数先对中间的九宫格完成随机填数。 随机填数具体实现是由一个a[10]数组来完成，用一个while循环用m变量给a[0]到a[8]随机赋值，且保证每个数组元素都各不相同。而在这过程中，用到了flag变量来进行数组元素是否重复的判断。在for循环遍历a[ ]数组前，给flag赋初值为0，一旦之前保存的数中出现了与m相同的数，就将flag标记为1并跳出循环，重新生成一个随机数m给a[ ]数组赋值，直到a[ ]数组随机填充数完毕。
2.在中间的九宫格完成随机填数后，用shudu_2函数对上下左右四个九宫格进行填数。
填数方法十分简单，利用已经填好的中间九宫格的数，交叉变换填充这四个九宫格。
3.最后shudu_3函数再对四个角上的数组填数，填数原理同第二步。到这一步为止，初始的随机填数数组已经生成好了。
4.再就是根据游玩者输入的难度随机挖洞，这里设置了4个难度。
(level 1)
(level 2)
(level 3)
(level 4)
以下是完整代码：
#include &lt;stdio.h&gt; #include &lt;cstring&gt; #include &lt;iostream&gt; #include &lt;algorithm&gt; using namespace std; int shudu[9][9], hole[9][9]; //打印数独 void ouput() { for (int i = 0; i &lt; 9; &#43;&#43;i) { for (int j = 0; j &lt; 9; &#43;&#43;j) { cout &lt;&lt; shudu[i][j] &lt;&lt; &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/2b4c6be094a2eff0e187091dd50721be/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-25T15:18:19+08:00" />
<meta property="article:modified_time" content="2022-12-25T15:18:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数独生成算法的简单实现</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>一、问题描述：</strong></p> 
<p>数独是一种运用纸、笔进行演算的逻辑游戏。玩家需要根据9×9盘面上的已知数字，推理出所有剩余空格的数字，并满足每一行、每一列、每一个<a href="https://so.csdn.net/so/search?q=%E4%B9%9D%E5%AE%AB%E6%A0%BC&amp;spm=1001.2101.3001.7020" title="九宫格">九宫格</a>内的数字均含1-9，不重复</p> 
<p>要求：设计算法随机生成不同难度的<a href="https://so.csdn.net/so/search?q=%E6%95%B0%E7%8B%AC%E6%B8%B8%E6%88%8F&amp;spm=1001.2101.3001.7020" title="数独游戏">数独游戏</a>，阐述如何评价所生成数独的难度。</p> 
<ul><li style="text-align:justify;"><strong>问题分析：</strong></li></ul> 
<p style="margin-left:.0001pt;text-align:justify;">（在此只涉及数独的生成，不涉及数独的求解）</p> 
<p style="margin-left:.0001pt;text-align:justify;">数独问题的约束条件：<br> (1)每个矩阵的数字范围仅限1—9；</p> 
<p style="text-align:justify;">(2)每个数字在当前行不允许重复；</p> 
<p style="text-align:justify;">(3)每个数字在当前列不允许重复；</p> 
<p style="margin-left:.0001pt;text-align:justify;">(4)每个数字在每一宫内不允许重复。</p> 
<ul><li style="text-align:justify;"><strong>问题求解思路</strong></li></ul> 
<p style="margin-left:.0001pt;text-align:justify;">数独的生成，最好的情况就是，先得到一个完整的数独，然后根据难度需要，随机地挖一些空格出来，保证有解。所以关键就是如何得到完整的数独，也要有一定的随机化。</p> 
<p style="margin-left:.0001pt;text-align:justify;">先要生成一个数独数组shudo[9][9]，用memset函数对数组初始化，按照规则随机填数，然后根据给定的难度等级再随机挖洞，这就是我们生成的数独游戏。</p> 
<ul><li style="text-align:justify;"><strong>算法测试</strong><br> 1.按照问题求解思路，在生成数独数组并将其完成初始化后，用shudu_1函数先对中间的九宫格完成随机填数。</li></ul> 
<p style="margin-left:.0001pt;text-align:justify;">随机填数具体实现是由一个a[10]数组来完成，用一个while循环用m变量给a[0]到a[8]随机赋值，且保证每个数组元素都各不相同。而在这过程中，用到了flag变量来进行数组元素是否重复的判断。在for循环遍历a[ ]数组前，给flag赋初值为0，一旦之前保存的数中出现了与m相同的数，就将flag标记为1并跳出循环，重新生成一个随机数m给a[ ]数组赋值，直到a[ ]数组随机填充数完毕。</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;"><img alt="" class="left" height="266" src="https://images2.imgbox.com/07/32/trzK6SsM_o.png" width="645"></p> 
<p> </p> 
<p style="margin-left:.0001pt;text-align:center;"></p> 
<p style="text-align:justify;">2.在中间的九宫格完成随机填数后，用shudu_2函数对上下左右四个九宫格进行填数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">填数方法十分简单，利用已经填好的中间九宫格的数，交叉变换填充这四个九宫格。</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;"><img alt="" class="left" height="360" src="https://images2.imgbox.com/8c/47/Pip1OROQ_o.png" width="361"><img alt="" height="215" src="https://images2.imgbox.com/0a/21/2Ir1XP6O_o.png" width="213"></p> 
<p style="text-align:justify;"></p> 
<p style="text-align:justify;">3.最后shudu_3函数再对四个角上的数组填数，填数原理同第二步。到这一步为止，初始的随机填数数组已经生成好了。</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:center;"><img alt="" src="https://images2.imgbox.com/45/d8/i6Yoeewo_o.png"></p> 
<p> </p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="text-align:justify;">4.再就是根据游玩者输入的难度随机挖洞，这里设置了4个难度。</p> 
<p style="margin-left:.0001pt;text-align:justify;">(level 1)</p> 
<p style="margin-left:.0001pt;"><img alt="" class="left" height="190" src="https://images2.imgbox.com/b2/2b/yTzg2DFu_o.png" width="190"></p> 
<p style="margin-left:.0001pt;">(level 2)</p> 
<p> <img alt="" class="left" height="190" src="https://images2.imgbox.com/13/20/0RnZpKsC_o.png" width="190"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">(level 3)</p> 
<p style="margin-left:.0001pt;text-align:center;"><img alt="" class="left" height="190" src="https://images2.imgbox.com/e7/91/qulVEWxn_o.png" width="190"></p> 
<p> </p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">(level 4)</p> 
<p style="margin-left:.0001pt;text-align:center;"><img alt="" class="left" height="190" src="https://images2.imgbox.com/83/13/xrm9Vrya_o.png" width="190"></p> 
<p> </p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#ff0000;">以下是完整代码：</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;

#include &lt;cstring&gt;

#include &lt;iostream&gt;

#include &lt;algorithm&gt;



using namespace std;



int shudu[9][9], hole[9][9];



//打印数独

void ouput()

{

    for (int i = 0; i &lt; 9; ++i)

    {

        for (int j = 0; j &lt; 9; ++j)

        {

            cout &lt;&lt; shudu[i][j] &lt;&lt; " ";

        }

        cout &lt;&lt; endl;

    }

}



// 初始化中间的九宫格

void shudu_1()

{

    int a[10] = {};//初始化数组

int n = 0;

while(n &lt; 9){

int m = rand() % 9 + 1;

int flag = 0;

for(int i = 0;i &lt; n+1;i ++){

if(a[i] == m){

flag = 1;//如果之前保存的数中出现了和m相同的数，就把flag标记为1并跳出循环，表示需要重新生成随机数m

break;

}

}

if(flag == 0){

a[n] = m;//如果flag是0，表示前n个数中没有和m相同的数，因此可以把第n+1个元素赋值为m

n ++;

}

    int k = 0;

    for (int i = 3; i &lt; 6; ++i)

        for (int j = 3; j &lt; 6; ++j)

            shudu[i][j] = a[k++];

  }

}



// 由中间的九宫格交叉变换，初始化上下左右四个九宫格 (交换行列)

void shudu_2()

{

    for (int i = 3; i &lt; 6; ++i)

    {

        int l = 0;

        for (int j = 3; j &lt; 6; ++j)

        {

            if (i == 3)

            {

                shudu[i + 1][l] = shudu[i][j];

                shudu[i + 2][l + 6] = shudu[i][j];

                l++;

            }

            else if (i == 4)

            {

                shudu[i + 1][l] = shudu[i][j];

                shudu[i - 1][l + 6] = shudu[i][j];

                l++;

            }

            else if (i == 5)

            {

                shudu[i - 2][l] = shudu[i][j];

                shudu[i - 1][l + 6] = shudu[i][j];

                l++;

            }

        }

    }

    for (int j = 3; j &lt; 6; ++j)

    {

        int l = 0;

        for (int i = 3; i &lt; 6; ++i)

        {

            if (j == 3)

            {

                shudu[l][j + 1] = shudu[i][j];

                shudu[l + 6][j + 2] = shudu[i][j];

                l++;

            }

            else if (j == 4)

            {

                shudu[l][j + 1] = shudu[i][j];

                shudu[l + 6][j - 1] = shudu[i][j];

                l++;

            }

            else if (j == 5)

            {

                shudu[l][j - 2] = shudu[i][j];

                shudu[l + 6][j - 1] = shudu[i][j];

                l++;

            }

        }

    }

}



// 初始化四个角上的四个九宫格（和上面原理相同）

void shudu_3()

{

    for (int i = 0; i &lt; 3; ++i)

    {

        int l = 0;

        for (int j = 3; j &lt; 6; ++j)

        {

            if (i == 0)

            {

                shudu[i + 1][l] = shudu[i][j];

                shudu[i + 2][l + 6] = shudu[i][j];

                l++;

            }

            else if (i == 1)

            {

                shudu[i + 1][l] = shudu[i][j];

                shudu[i - 1][l + 6] = shudu[i][j];

                l++;

            }

            else if (i == 2)

            {

                shudu[i - 2][l] = shudu[i][j];

                shudu[i - 1][l + 6] = shudu[i][j];

                l++;

            }

        }

    }

    for (int i = 6; i &lt; 9; ++i)

    {

        int l = 0;

        for (int j = 3; j &lt; 6; ++j)

        {

            if (i == 6)

            {

                shudu[i + 1][l] = shudu[i][j];

                shudu[i + 2][l + 6] = shudu[i][j];

                l++;

            }

            else if (i == 7)

            {

                shudu[i + 1][l] = shudu[i][j];

                shudu[i - 1][l + 6] = shudu[i][j];

                l++;

            }

            else if (i == 8)

            {

                shudu[i - 2][l] = shudu[i][j];

                shudu[i - 1][l + 6] = shudu[i][j];

                l++;

            }

        }

    }

}



// 根据选择的难度随机挖数

void dighole(int difficulty)

{

    difficulty *= 20;

    while (difficulty--)

    {

        shudu[rand() % 9][rand() % 9] = 0;

    }

}



   

// 初始化数独

// 先随机生成中间的九宫格，再通过交叉生成上下左右四个九宫格，

// 最后通过交叉生成四个角上的九宫格

void Shudu(int difficulty)

{

    memset(shudu, 0, sizeof(shudu));

    shudu_1();

    shudu_2();

    shudu_3();

    dighole(difficulty);

}



int main()

{

    int d;

    cout &lt;&lt; "请选择您希望生成数独难度（输入1~4，数字越大难度越高）: ";

    cin &gt;&gt; d;

    Shudu(d);

    ouput();



    return 0;

}</code></pre> 
<ul><li style="text-align:justify;"><strong>总结</strong></li></ul> 
<p style="margin-left:.0001pt;text-align:justify;">总的来说，代码较为简单，用随机法生成数独，将一个随机的一维数组转化成二维数组，生成的数独是一个伪随机的数独。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a1bd97dd9c555b6f6be37619e5454583/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">用python针对给定数据集ORL_Faces，提取图像的特征(可以采用多种特征)并图像进行分类，分类方法自选。训练数据集和测试数据集采用随机划分的方法生成，测试样本占比为20%。图像可以经过预处理。...</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c6953c332233cd4ee3f8a574c725d3ab/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">云服务器ECS入门及云上网站部署</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>