<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【嵌入式——QT】QPainter基本绘图 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【嵌入式——QT】QPainter基本绘图" />
<meta property="og:description" content="【嵌入式——QT】QPainter基本绘图 QPainter与QPaintDevicepaintEvent事件和绘图区QPainter主要属性QPen主要功能QBrush主要功能QPainter绘制基本图形方法图示代码示例 QPainter与QPaintDevice QPainter是用来进行绘图操作的类，QPaintDevice是一个可以使用QPainter进行绘图的抽象的二维界面，QPaintEngine给QPainter提供在不同设备上绘图的接口，QPaintEngine类由QPainter和QPaintDevice内部使用，应用程序一般无需和QPaintEngine打交道，除非要创建自己的设备类型。
paintEvent事件和绘图区 QWidget类及其子类是最常用的绘图设备，从QWidget类继承的类都有paintEvent事件，要在设备上绘图，只需重定义此事件并编写相应代码。
QPainter主要属性 pen属性：是一个QPen对象，用于控制线条的颜色、宽度、线型等；brush属性：是一个QBrush对象，用于设置一个区域的填充特性，可以设置填充颜色、填充方式、渐变特性；font属性：是一个QFont对象，用于绘制文字时，设置文字的字体样式、大小等属性； QPen主要功能 setColor(const QColor &amp;color)：设置画笔颜色，即线条颜色；setWidth(int width)：设置线条宽度；setStyle(Qt::PenStyle style)：设置线条样式；setCapStyle(Qt::PenCapStyle style)：设置线条端点样式；setJoinStyle(Qt::PenJoinStyle style)：设置连接方式； QBrush主要功能 setColor(const QColor &amp;color)：设置画刷颜色；setStyle(Qt::BrushStyle style)：设置画刷样式；setTexture(const QPixmap &amp;pixmap)：设置一个QPixmap类型的图片作为画刷的图片；setTextureImage(const QImage &amp;image)：设置一个QImage类型的图片作为画刷的图片； QPainter绘制基本图形方法 drawArc()：画弧线；drawChord()：画一段弦；drawConvexPolygon()：画凸多边形；drawEllipse：画椭圆；drawImage()：绘制图片；drawLine(const QLineF &amp;line)：画直线；drawLines(const QLineF *lines, int lineCount)：画一批直线；drawPath(const QPainterPath &amp;path)：绘制由QPainterPath对象定义的路线；drawPie(const QRectF &amp;rectangle, int startAngle, int spanAngle)：绘制扇形；drawPixmap(int x, int y, const QPixmap &amp;pixmap)：绘制QPixmap类型图片；drawPoint(int x, int y)：绘制一个点；drawPoints：绘制一批点；drawPolygon：绘制多边形，最后一个点和第一个点闭合；drawPolyline：绘制多点连接的线，最后一个点不会和第一个点连接；drawRect(int x, int y, int width, int height)：画矩形；drawRoundedRect：绘制圆角矩形；drawText(int x, int y, const QString &amp;text)：绘制文本，只能绘制单行文字；fillRect(int x, int y, int width, int height, const QBrush &amp;brush)：填充一个矩形，无边框线；eraseRect：擦除某个矩形区域；fillPath：填充某个QPainterPath定义的绘图路径 但是轮廓线不显示；fillRect：填充一个矩形，无边框线； 图示 随便截了两张图片，代码中均有实现，不一一列举图片了。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/5cb9f24105881d892bf4c27fca754a1f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-13T13:20:39+08:00" />
<meta property="article:modified_time" content="2024-03-13T13:20:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【嵌入式——QT】QPainter基本绘图</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>【嵌入式——QT】QPainter基本绘图</h4> 
 <ul><li><a href="#QPainterQPaintDevice_2" rel="nofollow">QPainter与QPaintDevice</a></li><li><a href="#paintEvent_5" rel="nofollow">paintEvent事件和绘图区</a></li><li><a href="#QPainter_8" rel="nofollow">QPainter主要属性</a></li><li><a href="#QPen_14" rel="nofollow">QPen主要功能</a></li><li><a href="#QBrush_22" rel="nofollow">QBrush主要功能</a></li><li><a href="#QPainter_29" rel="nofollow">QPainter绘制基本图形方法</a></li><li><a href="#_54" rel="nofollow">图示</a></li><li><a href="#_60" rel="nofollow">代码示例</a></li></ul> 
</div> 
<p></p> 
<h2><a id="QPainterQPaintDevice_2"></a>QPainter与QPaintDevice</h2> 
<p>QPainter是用来进行绘图操作的类，QPaintDevice是一个可以使用QPainter进行绘图的抽象的二维界面，QPaintEngine给QPainter提供在不同设备上绘图的接口，QPaintEngine类由QPainter和QPaintDevice内部使用，应用程序一般无需和QPaintEngine打交道，除非要创建自己的设备类型。</p> 
<h2><a id="paintEvent_5"></a>paintEvent事件和绘图区</h2> 
<p>QWidget类及其子类是最常用的绘图设备，从QWidget类继承的类都有paintEvent事件，要在设备上绘图，只需重定义此事件并编写相应代码。</p> 
<h2><a id="QPainter_8"></a>QPainter主要属性</h2> 
<ul><li>pen属性：是一个QPen对象，用于控制线条的颜色、宽度、线型等；</li><li>brush属性：是一个QBrush对象，用于设置一个区域的填充特性，可以设置填充颜色、填充方式、渐变特性；</li><li>font属性：是一个QFont对象，用于绘制文字时，设置文字的字体样式、大小等属性；</li></ul> 
<h2><a id="QPen_14"></a>QPen主要功能</h2> 
<ul><li>setColor(const QColor &amp;color)：设置画笔颜色，即线条颜色；</li><li>setWidth(int width)：设置线条宽度；</li><li>setStyle(Qt::PenStyle style)：设置线条样式；</li><li>setCapStyle(Qt::PenCapStyle style)：设置线条端点样式；</li><li>setJoinStyle(Qt::PenJoinStyle style)：设置连接方式；</li></ul> 
<h2><a id="QBrush_22"></a>QBrush主要功能</h2> 
<ul><li>setColor(const QColor &amp;color)：设置画刷颜色；</li><li>setStyle(Qt::BrushStyle style)：设置画刷样式；</li><li>setTexture(const QPixmap &amp;pixmap)：设置一个QPixmap类型的图片作为画刷的图片；</li><li>setTextureImage(const QImage &amp;image)：设置一个QImage类型的图片作为画刷的图片；</li></ul> 
<h2><a id="QPainter_29"></a>QPainter绘制基本图形方法</h2> 
<ul><li>drawArc()：画弧线；</li><li>drawChord()：画一段弦；</li><li>drawConvexPolygon()：画凸多边形；</li><li>drawEllipse：画椭圆；</li><li>drawImage()：绘制图片；</li><li>drawLine(const QLineF &amp;line)：画直线；</li><li>drawLines(const QLineF *lines, int lineCount)：画一批直线；</li><li>drawPath(const QPainterPath &amp;path)：绘制由QPainterPath对象定义的路线；</li><li>drawPie(const QRectF &amp;rectangle, int startAngle, int spanAngle)：绘制扇形；</li><li>drawPixmap(int x, int y, const QPixmap &amp;pixmap)：绘制QPixmap类型图片；</li><li>drawPoint(int x, int y)：绘制一个点；</li><li>drawPoints：绘制一批点；</li><li>drawPolygon：绘制多边形，最后一个点和第一个点闭合；</li><li>drawPolyline：绘制多点连接的线，最后一个点不会和第一个点连接；</li><li>drawRect(int x, int y, int width, int height)：画矩形；</li><li>drawRoundedRect：绘制圆角矩形；</li><li>drawText(int x, int y, const QString &amp;text)：绘制文本，只能绘制单行文字；</li><li>fillRect(int x, int y, int width, int height, const QBrush &amp;brush)：填充一个矩形，无边框线；</li><li>eraseRect：擦除某个矩形区域；</li><li>fillPath：填充某个QPainterPath定义的绘图路径 但是轮廓线不显示；</li><li>fillRect：填充一个矩形，无边框线；</li></ul> 
<h2><a id="_54"></a>图示</h2> 
<p>随便截了两张图片，代码中均有实现，不一一列举图片了。<br> <img src="https://images2.imgbox.com/88/9c/3mic3sug_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/94/bf/Jos3lQW8_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_60"></a>代码示例</h2> 
<p><strong>QPainterForm.h</strong></p> 
<pre><code class="prism language-csharp"><span class="token preprocessor property">#ifndef QPAINTERFORM_H</span>
<span class="token preprocessor property">#<span class="token directive keyword">define</span> QPAINTERFORM_H</span>

<span class="token preprocessor property">#include &lt;QWidget&gt;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Ui</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">class</span> <span class="token class-name">QPainterForm</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">QPainterForm</span> <span class="token punctuation">:</span> <span class="token keyword">public</span> QWidget
<span class="token punctuation">{<!-- --></span>
    Q_OBJECT

<span class="token keyword">public</span><span class="token punctuation">:</span>
    <span class="token keyword">explicit</span> <span class="token function">QPainterForm</span><span class="token punctuation">(</span>QWidget<span class="token operator">*</span> parent <span class="token operator">=</span> nullptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">QPainterForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent<span class="token operator">*</span> <span class="token keyword">event</span><span class="token punctuation">)</span> Q_DECL_OVERRIDE<span class="token punctuation">;</span>


    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">drawArcDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">drawChordDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">drawConvexPolygonDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">drawEllipseDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">drawImageDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">drawLineDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">drawLinesDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">drawPathDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">drawPieDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">drawPixmapDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">drawPointDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">drawPointsDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">drawPolygonDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">drawPolylineDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">drawRectDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">drawRoundedRectDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">dratTextDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">eraseRectDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">fillPathDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">fillRectDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">fivePointedStar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">viewPortAndWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>




<span class="token keyword">private</span><span class="token punctuation">:</span>
    Ui<span class="token punctuation">::</span>QPainterForm<span class="token operator">*</span> ui<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token preprocessor property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// QPAINTERFORM_H</span>

</code></pre> 
<p><strong>QPainterForm.cpp</strong></p> 
<pre><code class="prism language-csharp"><span class="token preprocessor property">#include </span><span class="token string">"QPainterForm.h"</span>
<span class="token preprocessor property">#include </span><span class="token string">"ui_QPainterForm.h"</span>
<span class="token preprocessor property">#include &lt;QPainter&gt;</span>
QPainterForm<span class="token punctuation">::</span><span class="token function">QPainterForm</span><span class="token punctuation">(</span>QWidget<span class="token operator">*</span> parent<span class="token punctuation">)</span>
    <span class="token punctuation">:</span> <span class="token function">QWidget</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
    <span class="token punctuation">,</span> <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token punctuation">::</span>QPainterForm<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    ui<span class="token operator">-&gt;</span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//设置窗口背景为白色</span>
    <span class="token function">setPalette</span><span class="token punctuation">(</span><span class="token function">QPalette</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>white<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setAutoFillBackground</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

QPainterForm<span class="token punctuation">::</span><span class="token operator">~</span><span class="token function">QPainterForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token class-name">delete</span> ui<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent<span class="token operator">*</span> <span class="token keyword">event</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">setRenderHint</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">QPainter</span><span class="token punctuation">::</span>Antialiasing<span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">setRenderHint</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">QPainter</span><span class="token punctuation">::</span>TextAntialiasing<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token preprocessor property">#<span class="token directive keyword">if</span> 0</span>
    <span class="token comment">//中间区域矩形块</span>
    <span class="token return-type class-name">QRect</span> <span class="token function">rect</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//画笔</span>
    <span class="token class-name">QPen</span> pen<span class="token punctuation">;</span>
    pen<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//线宽</span>
    pen<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>red<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//线条红色</span>
    pen<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>DashLine<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//线的样式，实线、虚线</span>
    pen<span class="token punctuation">.</span><span class="token function">setCapStyle</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>FlatCap<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//线的断点样式</span>
    pen<span class="token punctuation">.</span><span class="token function">setJoinStyle</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>BevelJoin<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//线的连接点样式</span>
    painter<span class="token punctuation">.</span><span class="token function">setPen</span><span class="token punctuation">(</span>pen<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//画刷</span>
    <span class="token class-name">QBrush</span> brush<span class="token punctuation">;</span>
    brush<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>yellow<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//画刷颜色</span>
    <span class="token comment">//Qt::BrushStyle</span>
    brush<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>CrossPattern<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//画刷填充样式</span>
    painter<span class="token punctuation">.</span><span class="token function">setBrush</span><span class="token punctuation">(</span>brush<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//绘图</span>
    painter<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token preprocessor property">#<span class="token directive keyword">endif</span></span>
    <span class="token preprocessor property">#<span class="token directive keyword">if</span> 0</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter2</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/**
    QRadialGradient(qreal cx, qreal cy, qreal radius, qreal fx, qreal fy);
    cx xy 辐射填充的中心点，radius 是辐射填充区的半径，fx fy是焦点坐标
    **/</span>
    <span class="token return-type class-name">QRadialGradient</span> <span class="token function">radialGrad</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token function">qMax</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//0表示起点</span>
    radialGrad<span class="token punctuation">.</span><span class="token function">setColorAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>green<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//1表示终点</span>
    radialGrad<span class="token punctuation">.</span><span class="token function">setColorAt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>blue<span class="token punctuation">)</span><span class="token punctuation">;</span>
    radialGrad<span class="token punctuation">.</span><span class="token function">setSpread</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">QGradient</span><span class="token punctuation">::</span>ReflectSpread<span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter2<span class="token punctuation">.</span><span class="token function">setBrush</span><span class="token punctuation">(</span>radialGrad<span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter2<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token preprocessor property">#<span class="token directive keyword">endif</span></span>
    <span class="token comment">// drawArcDemo();</span>
    <span class="token comment">// drawChordDemo();</span>
    <span class="token comment">// drawConvexPolygonDemo();</span>
    <span class="token comment">// drawEllipseDemo();</span>
    <span class="token comment">// drawImageDemo();</span>
    <span class="token comment">// drawLineDemo();</span>
    <span class="token comment">// drawLinesDemo();</span>
    <span class="token comment">// drawPathDemo();</span>
    <span class="token comment">// drawPieDemo();</span>
    <span class="token comment">// drawPixmapDemo();</span>
    <span class="token comment">// drawPointDemo();</span>
    <span class="token comment">// drawPointsDemo();</span>
    <span class="token comment">// drawPolygonDemo();</span>
    <span class="token comment">// drawPolylineDemo();</span>
    <span class="token comment">// drawRectDemo();</span>
    <span class="token comment">// drawRoundedRectDemo();</span>
    <span class="token comment">// dratTextDemo();</span>
    <span class="token comment">// eraseRectDemo();</span>
    <span class="token comment">// fillPathDemo();</span>
    <span class="token comment">// fillRectDemo();</span>
    <span class="token comment">// fivePointedStar();</span>
    <span class="token function">viewPortAndWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">drawArcDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QRect</span> <span class="token function">rect</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">int</span></span> startAngle <span class="token operator">=</span> <span class="token number">90</span> <span class="token operator">*</span> <span class="token number">16</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">int</span></span> spanAngle <span class="token operator">=</span> <span class="token number">90</span><span class="token operator">*</span><span class="token number">16</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//画弧线</span>
    painter<span class="token punctuation">.</span><span class="token function">drawArc</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> startAngle<span class="token punctuation">,</span> spanAngle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">drawChordDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QRect</span> <span class="token function">rect</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">int</span></span> startAngle <span class="token operator">=</span> <span class="token number">90</span> <span class="token operator">*</span> <span class="token number">16</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">int</span></span> spanAngle <span class="token operator">=</span> <span class="token number">90</span><span class="token operator">*</span><span class="token number">16</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//画一段弦</span>
    painter<span class="token punctuation">.</span><span class="token function">drawChord</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> startAngle<span class="token punctuation">,</span> spanAngle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">drawConvexPolygonDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QPoint points<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token function">QPoint</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">*</span>w<span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QPoint</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">*</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QPoint</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">*</span>w<span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QPoint</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//根据给定的点画凸多边形</span>
    painter<span class="token punctuation">.</span><span class="token function">drawConvexPolygon</span><span class="token punctuation">(</span>points<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">drawEllipseDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QRect</span> <span class="token function">rect</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//画椭圆</span>
    painter<span class="token punctuation">.</span><span class="token function">drawEllipse</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">drawImageDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QRect</span> <span class="token function">rect</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QImage</span> <span class="token function">image</span><span class="token punctuation">(</span><span class="token string">"图片地址"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//在指定区域内绘制图片</span>
    painter<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> image<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">drawLineDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QLine</span> <span class="token function">line</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//画直线</span>
    painter<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">drawLinesDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QRect</span> <span class="token function">rect</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">QVector<span class="token punctuation">&lt;</span>QLine<span class="token punctuation">&gt;</span></span> lines<span class="token punctuation">;</span>
    lines<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">QLine</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">topLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rect<span class="token punctuation">.</span><span class="token function">bottomRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    lines<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">QLine</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">topRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rect<span class="token punctuation">.</span><span class="token function">bottomLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    lines<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">QLine</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">topLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rect<span class="token punctuation">.</span><span class="token function">bottomLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    lines<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">QLine</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">topRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rect<span class="token punctuation">.</span><span class="token function">bottomRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//画一批直线</span>
    painter<span class="token punctuation">.</span><span class="token function">drawLines</span><span class="token punctuation">(</span>lines<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">drawPathDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QRect</span> <span class="token function">rect</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">QPainterPath</span> path<span class="token punctuation">;</span>
    path<span class="token punctuation">.</span><span class="token function">addEllipse</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
    path<span class="token punctuation">.</span><span class="token function">addRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//绘制由QPainterPath定义的路线</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPath</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">drawPieDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QRect</span> <span class="token function">rect</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">int</span></span> startAngle <span class="token operator">=</span> <span class="token number">40</span><span class="token operator">*</span><span class="token number">16</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">int</span></span> spanAngle <span class="token operator">=</span> <span class="token number">120</span><span class="token operator">*</span><span class="token number">16</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//绘制扇形</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPie</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> startAngle<span class="token punctuation">,</span> spanAngle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">drawPixmapDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QRect</span> <span class="token function">rect</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPixmap</span> <span class="token function">pixmap</span><span class="token punctuation">(</span><span class="token string">"图片地址"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//绘制QPixmap类型的图片</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">drawPointDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//绘制一个点</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPoint</span><span class="token punctuation">(</span><span class="token function">QPoint</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">drawPointsDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QPoint points<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token function">QPoint</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">*</span>w<span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QPoint</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">*</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QPoint</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//绘制一批点</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPoints</span><span class="token punctuation">(</span>points<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">drawPolygonDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QPoint points<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token function">QPoint</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">*</span>w<span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QPoint</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">*</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QPoint</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">*</span>w<span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QPoint</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//绘制多边形，最后一个点和第一个点闭合</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPolygon</span><span class="token punctuation">(</span>points<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">drawPolylineDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QPoint points<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token function">QPoint</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">*</span>w<span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QPoint</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">*</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QPoint</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">*</span>w<span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QPoint</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//绘制多点连接的线，最后一个点不会和第一个点连接</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPolyline</span><span class="token punctuation">(</span>points<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">drawRectDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QRect</span> <span class="token function">rect</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//绘制矩形</span>
    painter<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">drawRoundedRectDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QRect</span> <span class="token function">rect</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//绘制圆角矩形</span>
    painter<span class="token punctuation">.</span><span class="token function">drawRoundedRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">dratTextDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QRect</span> <span class="token function">rect</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">QFont</span> font<span class="token punctuation">;</span>
    font<span class="token punctuation">.</span><span class="token function">setPointSize</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    font<span class="token punctuation">.</span><span class="token function">setBold</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span>font<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//绘制文本</span>
    painter<span class="token punctuation">.</span><span class="token function">drawText</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> <span class="token string">"Hello Qt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">eraseRectDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QRect</span> <span class="token function">rect</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//擦除某个矩形区域</span>
    painter<span class="token punctuation">.</span><span class="token function">eraseRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">fillPathDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QRect</span> <span class="token function">rect</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">QPainterPath</span> path<span class="token punctuation">;</span>
    path<span class="token punctuation">.</span><span class="token function">addEllipse</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
    path<span class="token punctuation">.</span><span class="token function">addRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//填充某个QPainterPath定义的绘图路径 但是轮廓线不显示</span>
    painter<span class="token punctuation">.</span><span class="token function">fillPath</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>red<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">fillRectDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QRect</span> <span class="token function">rect</span><span class="token punctuation">(</span>w<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//填充一个矩形，无边框线</span>
    painter<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> <span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>green<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//坐标变换 五角星</span>
<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">fivePointedStar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">setRenderHint</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">QPainter</span><span class="token punctuation">::</span>Antialiasing<span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">setRenderHint</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">QPainter</span><span class="token punctuation">::</span>TextAntialiasing<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">qreal</span> r <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token class-name">qreal</span> pi <span class="token operator">=</span> <span class="token number">3.14159</span><span class="token punctuation">;</span>
    <span class="token class-name">qreal</span> deg <span class="token operator">=</span> pi<span class="token operator">*</span><span class="token number">72</span><span class="token operator">/</span><span class="token number">180</span><span class="token punctuation">;</span>
    QPoint points<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">QPoint</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">QPoint</span><span class="token punctuation">(</span>r<span class="token operator">*</span>std<span class="token punctuation">::</span><span class="token function">cos</span><span class="token punctuation">(</span>deg<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span>r<span class="token operator">*</span>std<span class="token punctuation">::</span><span class="token function">sin</span><span class="token punctuation">(</span>deg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">QPoint</span><span class="token punctuation">(</span>r<span class="token operator">*</span>std<span class="token punctuation">::</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>deg<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span>r<span class="token operator">*</span>std<span class="token punctuation">::</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>deg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">QPoint</span><span class="token punctuation">(</span>r<span class="token operator">*</span>std<span class="token punctuation">::</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">*</span>deg<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span>r<span class="token operator">*</span>std<span class="token punctuation">::</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">*</span>deg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">QPoint</span><span class="token punctuation">(</span>r<span class="token operator">*</span>std<span class="token punctuation">::</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">*</span>deg<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span>r<span class="token operator">*</span>std<span class="token punctuation">::</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">*</span>deg<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">//设置字体</span>
    <span class="token class-name">QFont</span> font<span class="token punctuation">;</span>
    font<span class="token punctuation">.</span><span class="token function">setPointSize</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    font<span class="token punctuation">.</span><span class="token function">setBold</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span>font<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//设置画笔</span>
    <span class="token class-name">QPen</span> penLine<span class="token punctuation">;</span>
    penLine<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//线宽</span>
    penLine<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>blue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//线颜色</span>
    penLine<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>SolidLine<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//线的类型</span>
    penLine<span class="token punctuation">.</span><span class="token function">setCapStyle</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>FlatCap<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//线端点样式</span>
    penLine<span class="token punctuation">.</span><span class="token function">setJoinStyle</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>BevelJoin<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//线连接点样式</span>
    painter<span class="token punctuation">.</span><span class="token function">setPen</span><span class="token punctuation">(</span>penLine<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//设置画刷</span>
    <span class="token class-name">QBrush</span> brush<span class="token punctuation">;</span>
    brush<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>yellow<span class="token punctuation">)</span><span class="token punctuation">;</span>
    brush<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>SolidPattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">setBrush</span><span class="token punctuation">(</span>brush<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">QPainterPath</span> starPath<span class="token punctuation">;</span>
    starPath<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    starPath<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    starPath<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    starPath<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    starPath<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    starPath<span class="token punctuation">.</span><span class="token function">closeSubpath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//闭合路径，最后一个点与第一个点相连</span>
    starPath<span class="token punctuation">.</span><span class="token function">addText</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> font<span class="token punctuation">,</span> <span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    starPath<span class="token punctuation">.</span><span class="token function">addText</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> font<span class="token punctuation">,</span> <span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    starPath<span class="token punctuation">.</span><span class="token function">addText</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> font<span class="token punctuation">,</span> <span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    starPath<span class="token punctuation">.</span><span class="token function">addText</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> font<span class="token punctuation">,</span> <span class="token string">"3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    starPath<span class="token punctuation">.</span><span class="token function">addText</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> font<span class="token punctuation">,</span> <span class="token string">"4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//绘图</span>
    painter<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//保存坐标状态</span>
    painter<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//平移</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPath</span><span class="token punctuation">(</span>starPath<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//画星星</span>
    painter<span class="token punctuation">.</span><span class="token function">drawText</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"S1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//恢复坐标状态</span>
    painter<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//平移</span>
    painter<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//缩放</span>
    painter<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//顺时针旋转90度</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPath</span><span class="token punctuation">(</span>starPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">drawText</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"S2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">resetTransform</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//复位所有坐标变换</span>
    painter<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//平移</span>
    painter<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">145</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//逆时针旋转145度</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPath</span><span class="token punctuation">(</span>starPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">drawText</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"S3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//视口 窗口</span>
<span class="token class-name"><span class="token keyword">void</span></span> QPainterForm<span class="token punctuation">::</span><span class="token function">viewPortAndWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token return-type class-name">QPainter</span> <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//宽</span>
    <span class="token class-name"><span class="token keyword">int</span></span> w <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//高</span>
    <span class="token class-name"><span class="token keyword">int</span></span> h <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">int</span></span> side <span class="token operator">=</span><span class="token function">qMin</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">QRect</span> <span class="token function">rect</span><span class="token punctuation">(</span><span class="token punctuation">(</span>w<span class="token operator">-</span>side<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>h<span class="token operator">-</span>side<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> side<span class="token punctuation">,</span> side<span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">setViewport</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置viewport 图案就在这个矩形框之内</span>
    painter<span class="token punctuation">.</span><span class="token function">setWindow</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">setRenderHint</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">QPainter</span><span class="token punctuation">::</span>Antialiasing<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">QPen</span> pen<span class="token punctuation">;</span>
    pen<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pen<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>red<span class="token punctuation">)</span><span class="token punctuation">;</span>
    pen<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">Qt</span><span class="token punctuation">::</span>SolidLine<span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">setPen</span><span class="token punctuation">(</span>pen<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">36</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//画椭圆</span>
        painter<span class="token punctuation">.</span><span class="token function">drawEllipse</span><span class="token punctuation">(</span><span class="token function">QPoint</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//顺时针旋转10度</span>
        painter<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a020366b48e124716473e7704909e25f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">电商按关键字搜索temu商品 API</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/05752b0e9710e4d2ed6351d86a7f0ab9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何把网站的http改成https？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>