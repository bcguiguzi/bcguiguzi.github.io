<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>拟合与估计问题中的鲁棒方法 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="拟合与估计问题中的鲁棒方法" />
<meta property="og:description" content="在一般的拟合与估计算法中，一般均假设测量数据点误差来源仅发生在对该点的位置测量，并服从高斯分布(如最小二乘)。实际情况中，普遍存在一些测量数据点的数值由于前级测量失效、突发干扰等原因而严重偏离真实值。这些测量数据点对于高斯(或其他类型)误差分布来说是外点(outlier)，或称错误点。即使外点的数量极少，但由于其数值很大，故若使用一般线性估计方法，得到的估计值会由于少数的扰动而与真实值有极大的偏差。因此，必须使用某种方法识别外点，并在拟合估计运算前进行剔除。本文介绍常用的三种方法：RANSAC方法、M-估计、最小中值估计。此外还有最大后验RANSAC方法数学理论较复杂，详情请参阅文献1 由于鲁棒算法均为尝试型算法，在具体实现中需要将拟合估计算法包裹起来作为内循环，以估计的偏差大小控制外循环的算法流程及终止条件。
RANSAC方法 对于一般模型 M 和给定的测量数据点集 D，RANSAC估计模型参数 p 的步骤如下： 1. 设估计模型参数 p 所需的最小数据点数为 n 。由 n 个数据点组成的子集称为模型 M 的一个样本； 2. 从数据点集 D 中随机抽取一个样本 J ，由该样本计算模型的一个实例 Mp(J)，确定与 Mp(J) 之间几何距离小于阈值 t 的数据点所构成的集合，称为实例 Mp(J) 的一致集，记为 S(Mp(J)) ； 3. 经过 K 次随机抽样，选择数据点的个数 #S(Mp(J))最大的一致集 S(Mp(J)) ，用 S(Mp(J)) 重新估计模型 M ，最后输出结果
几点说明:
选择抽样次数K的依据是以某个极大的概率(如0.98)抽到不含外点的好样本，可通过K的期望和标准差估计得到。每个样本需要的数据点个数越少，所需抽样次数越少(指数级)。 理论上，希望选择距离阈值t使得内点被接受的概率是 α，这在实践中是非常困难的，需要知道内点到模型之间几何距离的概率分布。故通常由经验选取。 终止条件一般使用内点比例 w 、正确概率αf估计一个抽样次数，如果一致集大小相当于数据集的内点规模则终止。正确概率一般人工指定，内点比例采用自适应算法，初始时给出一个最保守(悲观)的内点比例估计，并由此确定抽样次数，在抽样过程中，一旦发现更大的内点比例，则按新比例更新该抽样次数。该算法保证了抽样次数，并且一定终止，是一种值得推荐的算法。在OpenCV中，函数SolvePnPRansac findHomography内部调用了RANSACPointSetRegistrator类进行RANSAC解算，详见这篇博客
此外还有改进的PROSAC2方法，将点初始集匹配的结果作为排序的依据，使得在采样时根据匹配结果由高到低的得分进行排序，这样最有可能得到最佳参数的采样会较早出现，提高了速度。
M-估计 在M-估计中，对残差进行饱和函数运算，限制单个数据点对于误差函数的影响力。其思想类似于L1的稀疏性。 使用的函数称为M-估计子，如通常使用的Huber估计子为 ρ(t;σ)={t2σ2|t|&lt;σ|t|&gt;=σ 在残差较小时取值为残差的平方，残差较大时取一个常值的平方。 另一些选择 ρ(t;σ)=t2t2&#43;σ2 ρ(t;σ)=⎧⎩⎨⎪⎪t2σ|t|0|t|&lt;σσ&lt;=|t|&lt;3σ|t|&gt;=3σ 最后这个估计子当残差较大时，被认为是错误的，在估计中不起作用。这是设置估计子是比较合理的，然而使得求解变为非凸优化，较难。 最小中值估计 最小中值方法通过求解下述最小化问题来估计模型参数 Min Median{|r2j(xj,p)|} 与RANSAC相比，不采用一致集内点的个数来衡量样本的好坏，而是根据样本，计算所有数据点到样本的偏差，以偏差的中位数衡量样本好坏，从而避免了使用划分内点和外点距离阈值的先验知识。缺点是，要求错误数据点必须小于50%才能取得正确结果。 当数据测量误差符合高斯分布时，最小中值方法的效率非常差。 吴福朝." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/9d2a185e20081732b32d13d69d465573/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-12-11T14:37:59+08:00" />
<meta property="article:modified_time" content="2017-12-11T14:37:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">拟合与估计问题中的鲁棒方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在一般的拟合与估计算法中，一般均假设测量数据点误差来源仅发生在对该点的位置测量，并服从高斯分布(如最小二乘)。实际情况中，普遍存在一些测量数据点的数值由于前级测量失效、突发干扰等原因而严重偏离真实值。这些测量数据点对于高斯(或其他类型)误差分布来说是外点(outlier)，或称错误点。即使外点的数量极少，但由于其数值很大，故若使用一般线性估计方法，得到的估计值会由于少数的扰动而与真实值有极大的偏差。因此，必须使用某种方法识别外点，并在拟合估计运算前进行剔除。本文介绍常用的三种方法：RANSAC方法、M-估计、最小中值估计。此外还有最大后验RANSAC方法数学理论较复杂，详情请参阅文献<a href="#fn:cref" rel="nofollow noopener noreferrer" id="fnref:cref" title="See footnote" class="footnote" target="_blank">1</a> <br> 由于鲁棒算法均为尝试型算法，在具体实现中需要将拟合估计算法包裹起来作为内循环，以估计的偏差大小控制外循环的算法流程及终止条件。</p> 
<h3 id="ransac方法">RANSAC方法</h3> 
<p>对于一般模型 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-137-Frame" style=""> 
   
   <span class="math" id="MathJax-Span-872" style="width: 1.336em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.069em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.709em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mrow" id="MathJax-Span-873"><span class="mi" id="MathJax-Span-874" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.003em; vertical-align: -0.063em;"></span></span> 
  </span><script type="math/tex" id="MathJax-Element-137">M</script> 和给定的测量数据点集 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-138-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-875" style="width: 1.069em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.856em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.709em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mrow" id="MathJax-Span-876"><span class="mi" id="MathJax-Span-877" style="font-family: MathJax_Math-italic;">D</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.003em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-138">D</script>，RANSAC估计模型参数 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-139-Frame" style=""> 
   
   <span class="math" id="MathJax-Span-878" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.483em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.976em 1000em 2.936em -0.531em); top: -2.557em; left: 0.003em;"><span class="mrow" id="MathJax-Span-879"><span class="mi" id="MathJax-Span-880" style="font-family: MathJax_Math-italic;">p</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 0.937em; vertical-align: -0.33em;"></span></span> 
  </span><script type="math/tex" id="MathJax-Element-139">p</script> 的步骤如下： <br>
1. 设估计模型参数 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-140-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-881" style="width: 0.643em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.483em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.976em 1000em 2.936em -0.531em); top: -2.557em; left: 0.003em;"><span class="mrow" id="MathJax-Span-882"><span class="mi" id="MathJax-Span-883" style="font-family: MathJax_Math-italic;">p</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 0.937em; vertical-align: -0.33em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-140">p</script> 所需的最小数据点数为 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-141-Frame" style=""> 
   
   <span class="math" id="MathJax-Span-884" style="width: 0.749em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.589em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.976em 1000em 2.723em -0.477em); top: -2.557em; left: 0.003em;"><span class="mrow" id="MathJax-Span-885"><span class="mi" id="MathJax-Span-886" style="font-family: MathJax_Math-italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 0.67em; vertical-align: -0.063em;"></span></span> 
  </span><script type="math/tex" id="MathJax-Element-141">n</script>。由 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-142-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-887" style="width: 0.749em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.589em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.976em 1000em 2.723em -0.477em); top: -2.557em; left: 0.003em;"><span class="mrow" id="MathJax-Span-888"><span class="mi" id="MathJax-Span-889" style="font-family: MathJax_Math-italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 0.67em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-142">n</script> 个数据点组成的子集称为模型 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-143-Frame" style=""> 
   
   <span class="math" id="MathJax-Span-890" style="width: 1.336em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.069em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.709em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mrow" id="MathJax-Span-891"><span class="mi" id="MathJax-Span-892" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.003em; vertical-align: -0.063em;"></span></span> 
  </span><script type="math/tex" id="MathJax-Element-143">M</script> 的一个<strong>样本</strong>； <br>
2. 从数据点集 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-144-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-893" style="width: 1.069em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.856em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.709em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mrow" id="MathJax-Span-894"><span class="mi" id="MathJax-Span-895" style="font-family: MathJax_Math-italic;">D</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.003em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-144">D</script> 中随机抽取一个样本 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-145-Frame" style=""> 
   
   <span class="math" id="MathJax-Span-896" style="width: 0.749em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.589em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.709em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mrow" id="MathJax-Span-897"><span class="mi" id="MathJax-Span-898" style="font-family: MathJax_Math-italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.003em; vertical-align: -0.063em;"></span></span> 
  </span><script type="math/tex" id="MathJax-Element-145">J</script>，由该样本计算模型的一个实例 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-146-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-899" style="width: 3.576em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.829em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.424em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-900"><span class="msubsup" id="MathJax-Span-901"><span style="display: inline-block; position: relative; width: 1.443em; height: 0px;"><span style="position: absolute; clip: rect(1.709em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mi" id="MathJax-Span-902" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span style="position: absolute; top: -2.291em; left: 0.963em;"><span class="mi" id="MathJax-Span-903" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 2.456em;"></span></span></span></span><span class="mo" id="MathJax-Span-904" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-905" style="font-family: MathJax_Math-italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-906" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.397em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-146">M_p(J)</script>，确定与 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-147-Frame" style=""> 
   
   <span class="math" id="MathJax-Span-907" style="width: 3.576em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.829em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.424em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-908"><span class="msubsup" id="MathJax-Span-909"><span style="display: inline-block; position: relative; width: 1.443em; height: 0px;"><span style="position: absolute; clip: rect(1.709em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mi" id="MathJax-Span-910" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span style="position: absolute; top: -2.291em; left: 0.963em;"><span class="mi" id="MathJax-Span-911" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 2.456em;"></span></span></span></span><span class="mo" id="MathJax-Span-912" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-913" style="font-family: MathJax_Math-italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-914" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.397em;"></span></span> 
  </span><script type="math/tex" id="MathJax-Element-147">M_p(J)</script> 之间几何距离小于阈值 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-148-Frame" style=""> 
   
   <span class="math" id="MathJax-Span-915" style="width: 0.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.376em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.763em 1000em 2.723em -0.477em); top: -2.557em; left: 0.003em;"><span class="mrow" id="MathJax-Span-916"><span class="mi" id="MathJax-Span-917" style="font-family: MathJax_Math-italic;">t</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 0.937em; vertical-align: -0.063em;"></span></span> 
  </span><script type="math/tex" id="MathJax-Element-148">t</script> 的数据点所构成的集合，称为实例 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-149-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-918" style="width: 3.576em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.829em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.424em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-919"><span class="msubsup" id="MathJax-Span-920"><span style="display: inline-block; position: relative; width: 1.443em; height: 0px;"><span style="position: absolute; clip: rect(1.709em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mi" id="MathJax-Span-921" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span style="position: absolute; top: -2.291em; left: 0.963em;"><span class="mi" id="MathJax-Span-922" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 2.456em;"></span></span></span></span><span class="mo" id="MathJax-Span-923" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-924" style="font-family: MathJax_Math-italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-925" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.397em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-149">M_p(J)</script> 的<strong>一致集</strong>，记为 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-150-Frame" style=""> 
   
   <span class="math" id="MathJax-Span-926" style="width: 5.336em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.269em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.424em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-927"><span class="mi" id="MathJax-Span-928" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-929" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-930"><span style="display: inline-block; position: relative; width: 1.443em; height: 0px;"><span style="position: absolute; clip: rect(1.709em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mi" id="MathJax-Span-931" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span style="position: absolute; top: -2.291em; left: 0.963em;"><span class="mi" id="MathJax-Span-932" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 2.456em;"></span></span></span></span><span class="mo" id="MathJax-Span-933" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-934" style="font-family: MathJax_Math-italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-935" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-936" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.397em;"></span></span> 
  </span><script type="math/tex" id="MathJax-Element-150">S(M_p(J))</script>； <br> 3. 经过 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-151-Frame" style=""> 
   
   <span class="math" id="MathJax-Span-937" style="width: 1.176em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.909em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.709em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mrow" id="MathJax-Span-938"><span class="mi" id="MathJax-Span-939" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.003em; vertical-align: -0.063em;"></span></span> 
  </span><script type="math/tex" id="MathJax-Element-151">K</script> 次随机抽样，选择数据点的个数 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-152-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-940" style="width: 6.403em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.123em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.424em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-941"><span class="mi" id="MathJax-Span-942" style="font-family: MathJax_Main;">#</span><span class="mi" id="MathJax-Span-943" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-944" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-945"><span style="display: inline-block; position: relative; width: 1.443em; height: 0px;"><span style="position: absolute; clip: rect(1.709em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mi" id="MathJax-Span-946" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span style="position: absolute; top: -2.291em; left: 0.963em;"><span class="mi" id="MathJax-Span-947" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 2.456em;"></span></span></span></span><span class="mo" id="MathJax-Span-948" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-949" style="font-family: MathJax_Math-italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-950" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-951" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.397em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-152">\#S(M_p(J))</script>最大的一致集 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-153-Frame" style=""> 
   
   <span class="math" id="MathJax-Span-952" style="width: 5.336em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.269em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.424em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-953"><span class="mi" id="MathJax-Span-954" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-955" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-956"><span style="display: inline-block; position: relative; width: 1.443em; height: 0px;"><span style="position: absolute; clip: rect(1.709em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mi" id="MathJax-Span-957" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span style="position: absolute; top: -2.291em; left: 0.963em;"><span class="mi" id="MathJax-Span-958" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 2.456em;"></span></span></span></span><span class="mo" id="MathJax-Span-959" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-960" style="font-family: MathJax_Math-italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-961" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-962" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.397em;"></span></span> 
  </span><script type="math/tex" id="MathJax-Element-153">S(M_p(J))</script>，用 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-154-Frame" style=""> 
   
   <span class="math" id="MathJax-Span-963" style="width: 5.336em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.269em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.424em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-964"><span class="mi" id="MathJax-Span-965" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-966" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-967"><span style="display: inline-block; position: relative; width: 1.443em; height: 0px;"><span style="position: absolute; clip: rect(1.709em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mi" id="MathJax-Span-968" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span style="position: absolute; top: -2.291em; left: 0.963em;"><span class="mi" id="MathJax-Span-969" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 2.456em;"></span></span></span></span><span class="mo" id="MathJax-Span-970" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-971" style="font-family: MathJax_Math-italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-972" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-973" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.397em;"></span></span> 
  </span><script type="math/tex" id="MathJax-Element-154">S(M_p(J))</script> 重新估计模型 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-155-Frame" style=""> 
   
   <span class="math" id="MathJax-Span-974" style="width: 1.336em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.069em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.709em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mrow" id="MathJax-Span-975"><span class="mi" id="MathJax-Span-976" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.003em; vertical-align: -0.063em;"></span></span> 
  </span><script type="math/tex" id="MathJax-Element-155">M</script>，最后输出结果</p>

<p>几点说明:</p>

<ul>
<li>选择抽样次数K的依据是以某个极大的概率(如0.98)抽到不含外点的好样本，可通过K的期望和标准差估计得到。每个样本需要的数据点个数越少，所需抽样次数越少(指数级)。</li>
<li>理论上，希望选择距离阈值t使得内点被接受的概率是 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-156-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-977" style="width: 0.803em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.643em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.976em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mrow" id="MathJax-Span-978"><span class="mi" id="MathJax-Span-979" style="font-family: MathJax_Math-italic;">α</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 0.67em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-156">\alpha</script>，这在实践中是非常困难的，需要知道内点到模型之间几何距离的概率分布。故通常由经验选取。  
<ul><li>终止条件一般使用内点比例 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-157-Frame" style=""> 
   
   <span class="math" id="MathJax-Span-980" style="width: 0.909em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.696em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.976em 1000em 2.723em -0.477em); top: -2.557em; left: 0.003em;"><span class="mrow" id="MathJax-Span-981"><span class="mi" id="MathJax-Span-982" style="font-family: MathJax_Math-italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 0.737em; vertical-align: -0.063em;"></span></span> 
  </span><script type="math/tex" id="MathJax-Element-157">w</script> 、正确概率<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-158-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-983" style="width: 1.336em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.069em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.763em 1000em 2.829em -0.424em); top: -2.344em; left: 0.003em;"><span class="mrow" id="MathJax-Span-984"><span class="msubsup" id="MathJax-Span-985"><span style="display: inline-block; position: relative; width: 1.069em; height: 0px;"><span style="position: absolute; clip: rect(1.976em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mi" id="MathJax-Span-986" style="font-family: MathJax_Math-italic;">α</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span style="position: absolute; top: -2.291em; left: 0.643em;"><span class="mi" id="MathJax-Span-987" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.456em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.349em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.07em; vertical-align: -0.463em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-158">\alpha_f</script>估计一个抽样次数，如果一致集大小相当于数据集的内点规模则终止。正确概率一般人工指定，内点比例采用自适应算法，初始时给出一个最保守(悲观)的内点比例估计，并由此确定抽样次数，在抽样过程中，一旦发现更大的内点比例，则按新比例更新该抽样次数。该算法保证了抽样次数，并且一定终止，是一种值得推荐的算法。</li><li><p>在OpenCV中，函数<code>SolvePnPRansac</code> <code>findHomography</code>内部调用了<code>RANSACPointSetRegistrator</code>类进行RANSAC解算，详见<a href="http://blog.csdn.net/HopefulLight/article/details/78775974" target="_blank" rel="noopener noreferrer">这篇博客</a></p> 
<p>此外还有改进的PROSAC<a href="#fn:prosac" rel="nofollow noopener noreferrer" id="fnref:prosac" title="See footnote" class="footnote" target="_blank">2</a>方法，将点初始集匹配的结果作为排序的依据，使得在采样时根据匹配结果由高到低的得分进行排序，这样最有可能得到最佳参数的采样会较早出现，提高了速度。</p> 
<h3 id="m-估计">M-估计</h3> 
<p>在M-估计中，对残差进行饱和函数运算，限制单个数据点对于误差函数的影响力。其思想类似于L1的稀疏性。 <br> 使用的函数称为M-估计子，如通常使用的Huber估计子为 <br> <span class="MathJax_Preview"></span></p> 
<div class="MathJax_Display" style="text-align: center;"> 
 <span class="MathJax" id="MathJax-Element-23-Frame" style=""> 
   
   <span class="math" id="MathJax-Span-117" style="width: 13.763em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.989em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(2.349em 1000em 5.069em -0.477em); top: -3.944em; left: 0.003em;"><span class="mrow" id="MathJax-Span-118"><span class="mi" id="MathJax-Span-119" style="font-family: MathJax_Math-italic;">ρ</span><span class="mo" id="MathJax-Span-120" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-121" style="font-family: MathJax_Math-italic;">t</span><span class="mo" id="MathJax-Span-122" style="font-family: MathJax_Main;">;</span><span class="mi" id="MathJax-Span-123" style="font-family: MathJax_Math-italic; padding-left: 0.163em;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-124" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-125" style="font-family: MathJax_Main; padding-left: 0.269em;">=</span><span class="mrow" id="MathJax-Span-126" style="padding-left: 0.269em;"><span class="mo" id="MathJax-Span-127" style="vertical-align: 0.003em; padding-left: 0.269em;"><span style="font-family: MathJax_Size3;">{<!-- --></span></span><span class="mtable" id="MathJax-Span-128" style="padding-right: 0.163em; padding-left: 0.163em;"><span style="display: inline-block; position: relative; width: 5.656em; height: 0px;"><span style="position: absolute; clip: rect(2.403em 1000em 4.856em -0.477em); top: -3.997em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 1.069em; height: 0px;"><span style="position: absolute; clip: rect(2.989em 1000em 4.163em -0.477em); top: -4.584em; left: 0.003em;"><span class="mtd" id="MathJax-Span-129"><span class="mrow" id="MathJax-Span-130"><span class="msubsup" id="MathJax-Span-131"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px;"><span style="position: absolute; clip: rect(1.763em 1000em 2.723em -0.477em); top: -2.557em; left: 0.003em;"><span class="mi" id="MathJax-Span-132" style="font-family: MathJax_Math-italic;">t</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span style="position: absolute; top: -2.877em; left: 0.376em;"><span class="mn" id="MathJax-Span-133" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span style="position: absolute; clip: rect(2.989em 1000em 4.163em -0.424em); top: -3.304em; left: 0.003em;"><span class="mtd" id="MathJax-Span-147"><span class="mrow" id="MathJax-Span-148"><span class="msubsup" id="MathJax-Span-149"><span style="display: inline-block; position: relative; width: 1.069em; height: 0px;"><span style="position: absolute; clip: rect(1.976em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mi" id="MathJax-Span-150" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span style="position: absolute; top: -2.877em; left: 0.643em;"><span class="mn" id="MathJax-Span-151" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span style="position: absolute; clip: rect(2.509em 1000em 5.069em -0.371em); top: -3.997em; left: 2.083em;"><span style="display: inline-block; position: relative; width: 3.576em; height: 0px;"><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.371em); top: -3.304em; left: 0.003em;"><span class="mtd" id="MathJax-Span-134"><span class="mrow" id="MathJax-Span-135"><span class="texatom" id="MathJax-Span-136"><span class="mrow" id="MathJax-Span-137"><span class="texatom" id="MathJax-Span-138"><span class="mrow" id="MathJax-Span-139"><span class="mo" id="MathJax-Span-140" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-141" style="font-family: MathJax_Math-italic;">t</span><span class="texatom" id="MathJax-Span-142"><span class="mrow" id="MathJax-Span-143"><span class="mo" id="MathJax-Span-144" style="font-family: MathJax_Main;">|</span></span></span><span class="mo" id="MathJax-Span-145" style="font-family: MathJax_Main; padding-left: 0.269em;">&lt;</span><span class="mi" id="MathJax-Span-146" style="font-family: MathJax_Math-italic; padding-left: 0.269em;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.371em); top: -2.024em; left: 0.003em;"><span class="mtd" id="MathJax-Span-152"><span class="mrow" id="MathJax-Span-153"><span class="texatom" id="MathJax-Span-154"><span class="mrow" id="MathJax-Span-155"><span class="texatom" id="MathJax-Span-156"><span class="mrow" id="MathJax-Span-157"><span class="mo" id="MathJax-Span-158" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-159" style="font-family: MathJax_Math-italic;">t</span><span class="texatom" id="MathJax-Span-160"><span class="mrow" id="MathJax-Span-161"><span class="mo" id="MathJax-Span-162" style="font-family: MathJax_Main;">|</span></span></span><span class="mo" id="MathJax-Span-163" style="font-family: MathJax_Main; padding-left: 0.269em;">&gt;<span style="font-family: MathJax_Main;">=</span></span><span class="mi" id="MathJax-Span-164" style="font-family: MathJax_Math-italic; padding-left: 0.269em;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.949em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 3.137em; vertical-align: -1.263em;"></span></span> 
  </span> 
</div><script type="math/tex; mode=display" id="MathJax-Element-23">\rho(t;\sigma) = 
\begin{cases}
t^2 &  {|t|< \sigma }\\
\sigma^2 & {|t|>=\sigma}
\end{cases}
</script> 
<br> 在残差较小时取值为残差的平方，残差较大时取一个常值的平方。 
<br> 另一些选择 
<br> 
<span class="MathJax_Preview"></span> 
<div class="MathJax_Display" style="text-align: center;"> 
 <span class="MathJax" id="MathJax-Element-24-Frame" style=""> 
   
   <span class="math" id="MathJax-Span-165" style="width: 9.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.416em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.069em 1000em 3.736em -0.477em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-166"><span class="mi" id="MathJax-Span-167" style="font-family: MathJax_Math-italic;">ρ</span><span class="mo" id="MathJax-Span-168" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-169" style="font-family: MathJax_Math-italic;">t</span><span class="mo" id="MathJax-Span-170" style="font-family: MathJax_Main;">;</span><span class="mi" id="MathJax-Span-171" style="font-family: MathJax_Math-italic; padding-left: 0.163em;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-172" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-173" style="font-family: MathJax_Main; padding-left: 0.269em;">=</span><span class="mfrac" id="MathJax-Span-174" style="padding-left: 0.269em;"><span style="display: inline-block; position: relative; width: 3.203em; height: 0px; margin-right: 0.109em; margin-left: 0.109em;"><span style="position: absolute; clip: rect(2.989em 1000em 4.163em -0.477em); top: -4.691em; left: 50%; margin-left: -0.424em;"><span class="msubsup" id="MathJax-Span-175"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px;"><span style="position: absolute; clip: rect(1.763em 1000em 2.723em -0.477em); top: -2.557em; left: 0.003em;"><span class="mi" id="MathJax-Span-176" style="font-family: MathJax_Math-italic;">t</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span style="position: absolute; top: -2.877em; left: 0.376em;"><span class="mn" id="MathJax-Span-177" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span style="position: absolute; clip: rect(1.763em 1000em 2.989em -0.477em); top: -1.917em; left: 50%; margin-left: -1.544em;"><span class="mrow" id="MathJax-Span-178"><span class="msubsup" id="MathJax-Span-179"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px;"><span style="position: absolute; clip: rect(1.763em 1000em 2.723em -0.477em); top: -2.557em; left: 0.003em;"><span class="mi" id="MathJax-Span-180" style="font-family: MathJax_Math-italic;">t</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span style="position: absolute; top: -2.877em; left: 0.376em;"><span class="mn" id="MathJax-Span-181" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span></span></span><span class="mo" id="MathJax-Span-182" style="font-family: MathJax_Main; padding-left: 0.216em;">+</span><span class="msubsup" id="MathJax-Span-183" style="padding-left: 0.216em;"><span style="display: inline-block; position: relative; width: 1.069em; height: 0px;"><span style="position: absolute; clip: rect(1.976em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mi" id="MathJax-Span-184" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span style="position: absolute; top: -2.771em; left: 0.643em;"><span class="mn" id="MathJax-Span-185" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span><span style="position: absolute; clip: rect(0.856em 1000em 1.229em -0.477em); top: -1.277em; left: 0.003em;"><span style="border-left: 3.203em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 3.137em; vertical-align: -1.13em;"></span></span> 
  </span> 
</div><script type="math/tex; mode=display" id="MathJax-Element-24">\rho(t;\sigma) = \frac{t^2}{t^2+\sigma^2}</script> 
<p></p> 
<p><span class="MathJax_Preview"></span></p> 
<div class="MathJax_Display" style="text-align: center;"> 
 <span class="MathJax" id="MathJax-Element-25-Frame" style=""> 
   
   <span class="math" id="MathJax-Span-186" style="width: 16.909em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.496em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(2.456em 1000em 6.723em -0.477em); top: -4.851em; left: 0.003em;"><span class="mrow" id="MathJax-Span-187"><span class="mi" id="MathJax-Span-188" style="font-family: MathJax_Math-italic;">ρ</span><span class="mo" id="MathJax-Span-189" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-190" style="font-family: MathJax_Math-italic;">t</span><span class="mo" id="MathJax-Span-191" style="font-family: MathJax_Main;">;</span><span class="mi" id="MathJax-Span-192" style="font-family: MathJax_Math-italic; padding-left: 0.163em;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-193" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-194" style="font-family: MathJax_Main; padding-left: 0.269em;">=</span><span class="mrow" id="MathJax-Span-195" style="padding-left: 0.269em;"><span class="mo" id="MathJax-Span-196" style="vertical-align: 2.243em; padding-left: 0.269em;"><span style="display: inline-block; position: relative; width: 0.909em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -3.091em; left: 0.003em;">⎧<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.957em; left: 0.003em;">⎩<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -1.757em; left: 0.003em;">⎨<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -2.877em; left: 0.003em;">⎪<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.904em; left: 0.003em;">⎪<span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span class="mtable" id="MathJax-Span-197" style="padding-right: 0.163em; padding-left: 0.163em;"><span style="display: inline-block; position: relative; width: 8.003em; height: 0px;"><span style="position: absolute; clip: rect(2.349em 1000em 6.403em -0.477em); top: -4.744em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 1.016em; height: 0px;"><span style="position: absolute; clip: rect(2.989em 1000em 4.163em -0.477em); top: -5.384em; left: 0.003em;"><span class="mtd" id="MathJax-Span-198"><span class="mrow" id="MathJax-Span-199"><span class="msubsup" id="MathJax-Span-200"><span style="display: inline-block; position: relative; width: 0.803em; height: 0px;"><span style="position: absolute; clip: rect(1.763em 1000em 2.723em -0.477em); top: -2.557em; left: 0.003em;"><span class="mi" id="MathJax-Span-201" style="font-family: MathJax_Math-italic;">t</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span style="position: absolute; top: -2.877em; left: 0.376em;"><span class="mn" id="MathJax-Span-202" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span style="position: absolute; clip: rect(3.096em 1000em 4.803em -0.477em); top: -4.157em; left: 0.003em;"><span class="mtd" id="MathJax-Span-216"><span class="mrow" id="MathJax-Span-217"><span class="mfrac" id="MathJax-Span-218"><span style="display: inline-block; position: relative; width: 0.749em; height: 0px; margin-right: 0.109em; margin-left: 0.109em;"><span style="position: absolute; clip: rect(1.976em 1000em 2.616em -0.477em); top: -2.877em; left: 50%; margin-left: -0.211em;"><span class="mi" id="MathJax-Span-219" style="font-size: 70.7%; font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.456em;"></span></span><span style="position: absolute; clip: rect(1.816em 1000em 2.829em -0.371em); top: -2.077em; left: 50%; margin-left: -0.317em;"><span class="mrow" id="MathJax-Span-220"><span class="texatom" id="MathJax-Span-221"><span class="mrow" id="MathJax-Span-222"><span class="mo" id="MathJax-Span-223" style="font-size: 70.7%; font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-224" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="texatom" id="MathJax-Span-225"><span class="mrow" id="MathJax-Span-226"><span class="mo" id="MathJax-Span-227" style="font-size: 70.7%; font-family: MathJax_Main;">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span><span style="position: absolute; clip: rect(0.856em 1000em 1.229em -0.477em); top: -1.277em; left: 0.003em;"><span style="border-left: 0.749em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.069em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span style="position: absolute; clip: rect(1.923em 1000em 2.883em -0.424em); top: -1.224em; left: 0.003em;"><span class="mtd" id="MathJax-Span-244"><span class="mrow" id="MathJax-Span-245"><span class="mn" id="MathJax-Span-246" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.749em;"></span></span><span style="position: absolute; clip: rect(2.563em 1000em 6.723em -0.424em); top: -4.851em; left: 2.029em;"><span style="display: inline-block; position: relative; width: 5.976em; height: 0px;"><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.371em); top: -4.104em; left: 0.003em;"><span class="mtd" id="MathJax-Span-203"><span class="mrow" id="MathJax-Span-204"><span class="texatom" id="MathJax-Span-205"><span class="mrow" id="MathJax-Span-206"><span class="texatom" id="MathJax-Span-207"><span class="mrow" id="MathJax-Span-208"><span class="mo" id="MathJax-Span-209" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-210" style="font-family: MathJax_Math-italic;">t</span><span class="texatom" id="MathJax-Span-211"><span class="mrow" id="MathJax-Span-212"><span class="mo" id="MathJax-Span-213" style="font-family: MathJax_Main;">|</span></span></span><span class="mo" id="MathJax-Span-214" style="font-family: MathJax_Main; padding-left: 0.269em;">&lt;</span><span class="mi" id="MathJax-Span-215" style="font-family: MathJax_Math-italic; padding-left: 0.269em;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.424em); top: -2.877em; left: 0.003em;"><span class="mtd" id="MathJax-Span-228"><span class="mrow" id="MathJax-Span-229"><span class="texatom" id="MathJax-Span-230"><span class="mrow" id="MathJax-Span-231"><span class="mi" id="MathJax-Span-232" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-233" style="font-family: MathJax_Main; padding-left: 0.269em;">&lt;<span style="font-family: MathJax_Main;">=</span></span><span class="texatom" id="MathJax-Span-234" style="padding-left: 0.269em;"><span class="mrow" id="MathJax-Span-235"><span class="mo" id="MathJax-Span-236" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-237" style="font-family: MathJax_Math-italic;">t</span><span class="texatom" id="MathJax-Span-238"><span class="mrow" id="MathJax-Span-239"><span class="mo" id="MathJax-Span-240" style="font-family: MathJax_Main;">|</span></span></span><span class="mo" id="MathJax-Span-241" style="font-family: MathJax_Main; padding-left: 0.269em;">&lt;</span><span class="mn" id="MathJax-Span-242" style="font-family: MathJax_Main; padding-left: 0.269em;">3</span><span class="mi" id="MathJax-Span-243" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.371em); top: -1.224em; left: 0.003em;"><span class="mtd" id="MathJax-Span-247"><span class="mrow" id="MathJax-Span-248"><span class="texatom" id="MathJax-Span-249"><span class="mrow" id="MathJax-Span-250"><span class="texatom" id="MathJax-Span-251"><span class="mrow" id="MathJax-Span-252"><span class="mo" id="MathJax-Span-253" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-254" style="font-family: MathJax_Math-italic;">t</span><span class="texatom" id="MathJax-Span-255"><span class="mrow" id="MathJax-Span-256"><span class="mo" id="MathJax-Span-257" style="font-family: MathJax_Main;">|</span></span></span><span class="mo" id="MathJax-Span-258" style="font-family: MathJax_Main; padding-left: 0.269em;">&gt;<span style="font-family: MathJax_Main;">=</span></span><span class="mn" id="MathJax-Span-259" style="font-family: MathJax_Main; padding-left: 0.269em;">3</span><span class="mi" id="MathJax-Span-260" style="font-family: MathJax_Math-italic;">σ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.856em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.856em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 5.07em; vertical-align: -2.197em;"></span></span> 
  </span> 
</div><script type="math/tex; mode=display" id="MathJax-Element-25">\rho(t;\sigma) = 
\begin{cases}
t^2 &  {|t|< \sigma }\\
\frac {\sigma}{|t|}   &  {\sigma <= |t|< 3\sigma }\\
0 & {|t|>=3\sigma}
\end{cases}
</script> 
<br> 最后这个估计子当残差较大时，被认为是错误的，在估计中不起作用。这是设置估计子是比较合理的，然而使得求解变为非凸优化，较难。 
<p></p> 
<h3 id="最小中值估计">最小中值估计</h3> 
<p>最小中值方法通过求解下述最小化问题来估计模型参数 <br> <span class="MathJax_Preview"></span></p> 
<div class="MathJax_Display" style="text-align: center;"> 
 <span class="MathJax" id="MathJax-Element-26-Frame" style=""> 
   
   <span class="math" id="MathJax-Span-261" style="width: 13.549em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.829em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.763em 1000em 3.309em -0.424em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-262"><span class="mi" id="MathJax-Span-263" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mi" id="MathJax-Span-264" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-265" style="font-family: MathJax_Math-italic;">n</span><span class="mtext" id="MathJax-Span-266" style="font-family: MathJax_Main;"> </span><span class="mi" id="MathJax-Span-267" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mi" id="MathJax-Span-268" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-269" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-270" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-271" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-272" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-273" style="font-family: MathJax_Main;">{<!-- --></span><span class="texatom" id="MathJax-Span-274"><span class="mrow" id="MathJax-Span-275"><span class="mo" id="MathJax-Span-276" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-277"><span style="display: inline-block; position: relative; width: 0.856em; height: 0px;"><span style="position: absolute; clip: rect(1.976em 1000em 2.723em -0.477em); top: -2.557em; left: 0.003em;"><span class="mi" id="MathJax-Span-278" style="font-family: MathJax_Math-italic;">r</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span style="position: absolute; clip: rect(1.869em 1000em 2.669em -0.424em); top: -2.824em; left: 0.429em;"><span class="mn" id="MathJax-Span-279" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span><span style="position: absolute; clip: rect(1.816em 1000em 2.776em -0.477em); top: -2.131em; left: 0.429em;"><span class="mi" id="MathJax-Span-280" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 2.456em;"></span></span></span></span><span class="mo" id="MathJax-Span-281" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-282"><span style="display: inline-block; position: relative; width: 0.909em; height: 0px;"><span style="position: absolute; clip: rect(1.976em 1000em 2.723em -0.424em); top: -2.557em; left: 0.003em;"><span class="mi" id="MathJax-Span-283" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 2.563em;"></span></span><span style="position: absolute; top: -2.291em; left: 0.589em;"><span class="mi" id="MathJax-Span-284" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span style="display: inline-block; width: 0px; height: 2.456em;"></span></span></span></span><span class="mo" id="MathJax-Span-285" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-286" style="font-family: MathJax_Math-italic; padding-left: 0.163em;">p</span><span class="mo" id="MathJax-Span-287" style="font-family: MathJax_Main;">)</span><span class="texatom" id="MathJax-Span-288"><span class="mrow" id="MathJax-Span-289"><span class="mo" id="MathJax-Span-290" style="font-family: MathJax_Main;">|</span></span></span><span class="mo" id="MathJax-Span-291" style="font-family: MathJax_Main;">}</span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.737em; vertical-align: -0.597em;"></span></span> 
  </span> 
</div><script type="math/tex; mode=display" id="MathJax-Element-26">Min\space Median\{ | r^2_j(x_j, p) |\}</script> 
<br> 与RANSAC相比，不采用一致集内点的个数来衡量样本的好坏，而是根据样本，计算所有数据点到样本的偏差，以偏差的中位数衡量样本好坏，从而避免了使用划分内点和外点距离阈值的先验知识。缺点是，要求错误数据点必须小于50%才能取得正确结果。 
<br> 当数据测量误差符合高斯分布时，最小中值方法的效率非常差。 
<p></p> 
<div class="footnotes"> 
 <hr> 
 <ol><li id="fn:cref">吴福朝. 计算机视觉中的数学方法. 科学出版社. 2008.3 <a href="#fnref:cref" rel="nofollow noopener noreferrer" title="Return to article" class="reversefootnote" target="_blank">↩</a></li><li id="fn:prosac">O. Chum and J. Matas, “Matching with PROSAC—Progressive Sample Consensus,” Proc. IEEE Conf. Computer Vision and Pattern Recognition, 2005. <a href="#fnref:prosac" rel="nofollow noopener noreferrer" title="Return to article" class="reversefootnote" target="_blank">↩</a></li></ol> 
</div></li></ul>
                </li></ul></div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/38ef94f9ab06a742cdbb8f32abab1be3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">PHPStorm 常用的 License Server</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/43fb2fcc82df5fc319d8931147501faa/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">37. Python 多进程锁  多进程共享内存</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>