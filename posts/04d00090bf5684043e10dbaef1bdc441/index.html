<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>树莓派4B上多版本python切换（一） - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="树莓派4B上多版本python切换（一）" />
<meta property="og:description" content="博主树莓派上有两个版本的python，一个是python2.7, 一个是python3.9
注：上面也有2.7版本的python，但python2并没有pip模块，只有python3的pip模块。
curl https://bootstrap.pypa.io/pip/2.7/get-pip.py -o get-pip.py python2 get-pip.py 可通过上面命令语句来安装python2的pip模块。 注：若pip3未安装，则可通过如下命令安装（3.6指的python3的版本，若是其它版本，则修改其即可）
curl https://bootstrap.pypa.io/pip/3.6/get-pip.py -o get-pip.py python3 get-pip.py 指定版本安装库时可以如下语句
python2 -m pip install 库的名称 如下安装的是keras 完毕后可看到，keras已经安装上了。
下面再通过源码方式去安装一个python3.7，以来验证多版本python3的管理问题。
先安装必要库
sudo apt-get install -y make build-essential libssl-dev zlib1g-dev sudo apt-get install -y libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm sudo apt-get install -y libncurses5-dev libncursesw5-dev xz-utils tk-dev 下载python3.7版本 sudo wget https://www.python.org/ftp/python/3.7.3/Python-3.7.3.tgz 解压
sudo tar -zxvf Python-3.7.3.tgz 进入到解压缩后文件夹内，输入如下命令，这里会安装到指定的目录下，方便后期删除
sudo ./configure --prefix=/home/pi/python3.7 sudo make -j4 sudo make install 在sudo make install报错时，若出现报错：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/04d00090bf5684043e10dbaef1bdc441/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-18T18:20:32+08:00" />
<meta property="article:modified_time" content="2022-06-18T18:20:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">树莓派4B上多版本python切换（一）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>博主树莓派上有两个版本的python，一个是python2.7, 一个是python3.9</p> 
<p style="text-align:center;"><img alt="" height="88" src="https://images2.imgbox.com/b0/fb/AbujXDQn_o.png" width="534"></p> 
<p> 注：上面也有2.7版本的python，但python2并没有pip模块，只有python3的pip模块。</p> 
<pre><code>curl https://bootstrap.pypa.io/pip/2.7/get-pip.py -o get-pip.py
python2 get-pip.py
</code></pre> 
<p>可通过上面命令语句来安装python2的pip模块。 </p> 
<p><span style="color:#fe2c24;">注：若pip3未安装，则可通过如下命令安装（3.6指的python3的版本，若是其它版本，则修改其即可）</span></p> 
<pre><code>curl https://bootstrap.pypa.io/pip/3.6/get-pip.py -o get-pip.py
python3 get-pip.py
</code></pre> 
<p></p> 
<p>指定版本安装库时可以如下语句</p> 
<pre><code>python2 -m pip install 库的名称</code></pre> 
<p>如下安装的是keras </p> 
<p style="text-align:center;"><img alt="" height="186" src="https://images2.imgbox.com/6d/bf/bq0beYO7_o.png" width="477"></p> 
<p> 完毕后可看到，keras已经安装上了。</p> 
<p style="text-align:center;"><img alt="" height="192" src="https://images2.imgbox.com/fe/a2/NiCr4BWb_o.png" width="597"></p> 
<p> 下面再通过源码方式去安装一个python3.7，以来验证多版本python3的管理问题。</p> 
<p>先安装必要库</p> 
<pre><code>sudo apt-get install -y make build-essential libssl-dev zlib1g-dev   
sudo apt-get install -y libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm 
sudo apt-get install -y libncurses5-dev  libncursesw5-dev xz-utils tk-dev
</code></pre> 
<p>下载python3.7版本 </p> 
<pre><code>sudo wget https://www.python.org/ftp/python/3.7.3/Python-3.7.3.tgz</code></pre> 
<p> 解压</p> 
<pre><code>sudo tar -zxvf Python-3.7.3.tgz</code></pre> 
<p> 进入到解压缩后文件夹内，输入如下命令，这里会安装到指定的目录下，方便后期删除</p> 
<pre><code>sudo ./configure --prefix=/home/pi/python3.7
sudo make -j4
sudo make install
</code></pre> 
<p>在sudo make install报错时，若出现报错：</p> 
<p>报错ModuleNotFoundError: No module named '_ctypes'</p> 
<p> 可先执行如下命令语句</p> 
<pre><code>sudo apt-get install libffi-dev</code></pre> 
<p>完毕后再重新执行sudo make install即可。</p> 
<p style="text-align:center;"><img alt="" height="397" src="https://images2.imgbox.com/87/eb/giUabD6T_o.png" width="619"></p> 
<p></p> 
<p>如下是查验一些信息</p> 
<p style="text-align:center;"><img alt="" height="299" src="https://images2.imgbox.com/e7/5c/HJTwVZ74_o.png" width="584"></p> 
<p>这边使用如下两条软链接命令来指定当前所使用的版本</p> 
<pre><code>sudo ln -s /home/pi/python3.7/bin/python3 /usr/bin/python3

sudo ln -s /home/pi/python3.7/bin/pip3 /usr/bin/pip3
</code></pre> 
<p style="text-align:center;"><img alt="" height="245" src="https://images2.imgbox.com/0d/27/ERDDF04i_o.png" width="579"></p> 
<p>可以看到当前pip3和python3均指向了 python3.7版本，而不是前面默认的python3.9版本</p> 
<p>执行pip3 list时会报如下错误信息：</p> 
<pre><code>pip3 list
Package    Version
---------- -------
pip        19.0.3 
setuptools 40.8.0 
Traceback (most recent call last):
  File "/usr/bin/pip3", line 10, in &lt;module&gt;
    sys.exit(main())
  File "/home/pi/python3.7/lib/python3.7/site-packages/pip/_internal/__init__.py", line 78, in main
    return command.main(cmd_args)
  File "/home/pi/python3.7/lib/python3.7/site-packages/pip/_internal/cli/base_command.py", line 228, in main
    timeout=min(5, options.timeout)
  File "/home/pi/python3.7/lib/python3.7/site-packages/pip/_internal/cli/base_command.py", line 93, in _build_session
    insecure_hosts=options.trusted_hosts,
  File "/home/pi/python3.7/lib/python3.7/site-packages/pip/_internal/download.py", line 344, in __init__
    self.headers["User-Agent"] = user_agent()
  File "/home/pi/python3.7/lib/python3.7/site-packages/pip/_internal/download.py", line 108, in user_agent
File "/home/pi/python3.7/lib/python3.7/site-packages/pip/_vendor/distro.py", line 675, in linux_distribution
    self.version(),
  File "/home/pi/python3.7/lib/python3.7/site-packages/pip/_vendor/distro.py", line 735, in version
    self.lsb_release_attr('release'),
  File "/home/pi/python3.7/lib/python3.7/site-packages/pip/_vendor/distro.py", line 892, in lsb_release_attr
    return self._lsb_release_info.get(attribute, '')
  File "/home/pi/python3.7/lib/python3.7/site-packages/pip/_vendor/distro.py", line 550, in __get__
    ret = obj.__dict__[self._fname] = self._f(obj)
  File "/home/pi/python3.7/lib/python3.7/site-packages/pip/_vendor/distro.py", line 998, in _lsb_release_info
    stdout = subprocess.check_output(cmd, stderr=devnull)
  File "/home/pi/python3.7/lib/python3.7/subprocess.py", line 395, in check_output
    **kwargs).stdout
  File "/home/pi/python3.7/lib/python3.7/subprocess.py", line 487, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '('lsb_release', '-a')' returned non-zero exit status 1.
</code></pre> 
<p> 解决办法如下：</p> 
<p>如下命令查找lsb_release.py</p> 
<pre><code>sudo find / -name 'lsb_release.py'
</code></pre> 
<p style="text-align:center;"><img alt="" height="95" src="https://images2.imgbox.com/e8/6c/Ezh946Z0_o.png" width="566"></p> 
<p> 再执行如下命令：</p> 
<pre><code> sudo cp /usr/share/pyshared/lsb_release.py /home/pi/python3.7/lib/python3.7
</code></pre> 
<p> 此时pip3 list可以正常列出安装包的信息</p> 
<p style="text-align:center;"><img alt="" height="120" src="https://images2.imgbox.com/89/2c/x4FUZNEi_o.png" width="596"></p> 
<p> 执行如下命令</p> 
<pre><code>sudo pip3 install tensorflow</code></pre> 
<p style="text-align:center;"><img alt="" height="293" src="https://images2.imgbox.com/6e/87/0i7d9GNA_o.png" width="295"></p> 
<p style="text-align:center;"><img alt="" height="171" src="https://images2.imgbox.com/a1/fa/F5tgy36H_o.png" width="295"></p> 
<p>可以看到python3.7中有tensorflow的库了。同时默认安装的python3.9中并没有tensorflow的库。</p> 
<p style="text-align:center;"><img alt="" height="154" src="https://images2.imgbox.com/9a/2c/vXAzJH3A_o.png" width="602"></p> 
<p> 所以可以通过如上两条软连接语句来切换版本。</p> 
<p>可通过如下命令来升级pip</p> 
<pre><code> sudo python3 -m pip install --upgrade pip
</code></pre> 
<p>可以看到这边也不一定非要Anconda来实现多版本的管理。前面有介绍过用Anaconda来配置虚拟环境，以来让不同环境得以相互独立，下面也介绍下不通过Anaconda来实现创建虚拟环境，见下一篇博客。</p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6c508f402c5f5e4bad715b5970c421f9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">raspberryPi_继电器模块(relay)&#43;风扇模块(fan)连接原理图/硬件调试</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e585ca1069525e3788d91346c5020366/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android Studio JSON数据的初始化与解析访问 （JSON对象、JSON数组）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>