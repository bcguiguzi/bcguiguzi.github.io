<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>go语言工具(tool) - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="go语言工具(tool)" />
<meta property="og:description" content="目录 go help命令参数go listgo buildgo build -ldflags=&#34;-s -w&#34; go envgo fmtgo installgo docgo getgo modgo fixgo generate go help Go工具命令繁多，通过go help进行查看：
bug start a bug report 启动错误报告 build compile packages and dependencies 编译包和依赖项 clean remove object files and cached files 删除对象文件和缓存文件 doc show documentation for package or symbol 显示包或符号的文档 env print Go environment information 打印Go环境信息 fix update packages to use new APIs 更新包以使用新的API fmt gofmt (reformat) package sources gofmt（重新格式化）包源 generate generate Go files by processing source 按处理源生成生成Go文件 get add dependencies to current module and install them 将依赖项添加到当前模块并安装它们 install compile and install packages and dependencies	编译并安装软件包和依赖项 list list packages or modules	列出包或模块 mod module maintenance	模块维护 run compile and run Go program	编译并运行Go程序 test test packages	测试包 tool run specified go tool	运行指定的go工具 version print Go version	打印Go版本 vet report likely mistakes in packages	报告包装中可能出现的错误 详细内容：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/1a2b2608557ade685006485ce94077fd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-24T21:51:07+08:00" />
<meta property="article:modified_time" content="2023-07-24T21:51:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">go语言工具(tool)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#go_help_1" rel="nofollow">go help</a></li><li><a href="#_28" rel="nofollow">命令参数</a></li><li><ul><li><a href="#go_list_32" rel="nofollow">go list</a></li><li><a href="#go_build_68" rel="nofollow">go build</a></li><li><ul><li><a href="#go_build_ldflagss_w_143" rel="nofollow">go build -ldflags="-s -w"</a></li></ul> 
   </li><li><a href="#go_env_231" rel="nofollow">go env</a></li><li><a href="#go_fmt_272" rel="nofollow">go fmt</a></li><li><a href="#go_install_307" rel="nofollow">go install</a></li><li><a href="#go_doc_354" rel="nofollow">go doc</a></li><li><a href="#go_get_401" rel="nofollow">go get</a></li><li><a href="#go_mod_455" rel="nofollow">go mod</a></li><li><a href="#go_fix_529" rel="nofollow">go fix</a></li><li><a href="#go_generate_564" rel="nofollow">go generate</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="go_help_1"></a>go help</h2> 
<p>Go工具命令繁多，通过<code>go help</code>进行查看：</p> 
<pre><code class="prism language-go">bug         start a bug report  					 			启动错误报告
build       compile packages and dependencies  		 			编译包和依赖项
clean       remove object files and cached files 	 			删除对象文件和缓存文件
doc         show documentation <span class="token keyword">for</span> <span class="token keyword">package</span> or symbol  			显示包或符号的文档
env         <span class="token builtin">print</span> Go environment information  					打印Go环境信息
fix         update packages to use <span class="token builtin">new</span> APIs   					更新包以使用新的API
fmt         gofmt <span class="token punctuation">(</span>reformat<span class="token punctuation">)</span> <span class="token keyword">package</span> sources  					gofmt（重新格式化）包源
generate    generate Go files by processing source  			按处理源生成生成Go文件
get         add dependencies to current module and install them 将依赖项添加到当前模块并安装它们
install     compile and install packages and dependencies		编译并安装软件包和依赖项
list        list packages or modules							列出包或模块
mod         module maintenance									模块维护
run         compile and run Go program							编译并运行Go程序
test        test packages										测试包
tool        run specified <span class="token keyword">go</span> tool								运行指定的<span class="token keyword">go</span>工具
version     <span class="token builtin">print</span> Go version									打印Go版本
vet         report likely mistakes in packages					报告包装中可能出现的错误
</code></pre> 
<p>详细内容：</p> 
<p>Use “go help command” for more information about a command.</p> 
<h2><a id="_28"></a>命令参数</h2> 
<table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>-o</td><td>output 指定编译输出的名称，代替包名</td></tr><tr><td>-i</td><td>install 安装作为目标的依赖关系的包(用于增量编译提速)</td></tr><tr><td>-a</td><td>强行对项目所有的代码包（包含标准库中的代码包）进行重新构建，即使它们已经是最新的了</td></tr><tr><td>-n</td><td>打印编译期间所用到的命令，仅仅是打印并不真正执行它们</td></tr><tr><td>-p n</td><td>指定编译过程中执行各任务的并行数量（确切地说应该是并发数量）。在默认情况下，该数量等于CPU的逻辑核数。但是在darwin/arm平台（即iPhone和iPad所用的平台）下，该数量默认是1</td></tr><tr><td>-race</td><td>开启竞态条件的检测。不过此标记目前仅在linux/amd64、freebsd/amd64、darwin/amd64和windows/amd64平台下受到支持</td></tr><tr><td>-msan</td><td>使用内存清除器启用互操作。只支持Linux/AMD 64、Linux/ARM 64，并且只有clang/llvm作为主机c+编译器</td></tr><tr><td>-v</td><td>打印出那些被编译时的代码包的名字</td></tr><tr><td>-x</td><td>打印编译期间所用到的其它命令（且执行），注意它与-n标记的区别</td></tr><tr><td>-work</td><td>打印出编译时生成的临时工作目录的路径，并在编译结束时保留它。在默认情况下，编译结束时会删除该目录</td></tr><tr><td></td><td>以下为不常用命令</td></tr><tr><td>-asmflags</td><td>此标记可以后跟另外一些标记，如-D、-I、-S等。这些后跟的标记用于控制Go语言编译器编译汇编语言文件时的行为</td></tr><tr><td>-buildmode</td><td>此标记用于指定编译模式，使用方式如-buildmode=default（这等同于默认情况下的设置）。此标记支持的编译模式目前有6种。借此，我们可以控制编译器在编译完成后生成静态链接库（即.a文件，也就是我们之前说的归档文件）、动态链接库（即.so文件）或/和可执行文件（在Windows下是.exe文件） <code>go help buildmode</code></td></tr><tr><td>-compiler</td><td>此标记用于指定当前使用的编译器的名称。其值可以为gc或gccgo。其中，gc编译器即为Go语言自带的编辑器，而gccgo编译器则为GCC提供的Go语言编译器</td></tr><tr><td>-gccgoflags</td><td>此标记用于指定需要传递给gccgo编译器或链接器的标记的列表</td></tr><tr><td>-gcflags</td><td>此标记用于指定需要传递给go tool compile命令的标记的列表</td></tr><tr><td>-installsuffix</td><td>为了使当前的输出目录与默认的编译输出目录分离，可以使用这个标记。此标记的值会作为结果文件的父目录名称的后缀。其实，如果使用了-race标记，这个标记会被自动追加且其值会为race。如果我们同时使用了-race标记和-installsuffix，那么在-installsuffix标记的值的后面会再被追加_race，并以此来作为实际使用的后缀</td></tr><tr><td>-ldflags</td><td>此标记用于指定需要传递给go tool link命令的标记的列表</td></tr><tr><td>-linkshared</td><td>此标记用于与-buildmode=shared一同使用。后者会使作为编译目标的非main代码包都被合并到一个动态链接库文件中，而前者则会在此之上进行链接操作</td></tr><tr><td>-pkgdir</td><td>指定一个目录，并从改目录下加载编译好的.a 文件，并把编译可能产生新的 .a 文件放入到该目录中</td></tr><tr><td>-tags</td><td>此标记用于指定在实际编译期间需要受理的编译标签（也可被称为编译约束）的列表</td></tr><tr><td>-toolexec</td><td>此标记可以让我们去自定义在编译期间使用一些Go语言自带工具（如vet、asm等）的方式</td></tr></tbody></table> 
<h3><a id="go_list_32"></a>go list</h3> 
<p><code>go list</code> 是 Go 编程语言中的一个命令，用于列出 Go 包（packages），显示包信息以及执行与包相关的操作。对于 Go 开发者在处理包、依赖和构建配置时是一个必备工具。<code>go list</code> 命令通过在终端或命令提示符中执行。</p> 
<p>以下是 <code>go list</code> 命令的一些常用功能和用法：</p> 
<ol><li> <p>列出所有安装的包：<code>go list all</code><br> 这会列出当前 Go 环境中所有安装的包。</p> </li><li> <p>列出当前项目中的包：<code>go list ./...</code><br> 这会列出当前项目及其子目录中所有的包。</p> </li><li> <p>显示包的信息：<code>go list -json &lt;package&gt;</code><br> 使用 <code>-json</code> 参数可以以 JSON 格式显示指定包的详细信息。</p> </li><li> <p>列出包的导入路径：<code>go list -f "{<!-- -->{.ImportPath}}" &lt;package&gt;</code><br> 使用 <code>-f</code> 参数可以自定义输出格式，这里的例子会列出指定包的导入路径。</p> </li><li> <p>显示包的依赖关系：<code>go list -f "{<!-- -->{.Deps}}" &lt;package&gt;</code><br> 这会显示指定包的所有直接依赖项。</p> </li><li> <p>列出包的源代码文件：<code>go list -f "{<!-- -->{.GoFiles}}" &lt;package&gt;</code><br> 这会显示指定包中的所有 Go 源代码文件。</p> </li><li> <p>列出包的测试文件：<code>go list -f "{<!-- -->{.TestGoFiles}}" &lt;package&gt;</code><br> 这会显示指定包的所有测试文件。</p> </li><li> <p>列出包的导出函数和方法：<code>go list -f "{<!-- -->{.ExportedFuncts}}" &lt;package&gt;</code><br> 这会显示指定包中所有导出的函数和方法。</p> </li><li> <p>列出包的文档注释：<code>go list -f "{<!-- -->{.Doc}}" &lt;package&gt;</code><br> 这会显示指定包的文档注释。</p> </li><li> <p>列出包的编译标志：<code>go list -f "{<!-- -->{.BuildFlags}}" &lt;package&gt;</code><br> 这会显示指定包的编译标志。</p> </li></ol> 
<p>以上是 <code>go list</code> 命令的一些常见用法和功能，可以根据需要灵活使用它来管理和了解 Go 项目中的包信息。</p> 
<h3><a id="go_build_68"></a>go build</h3> 
<p><code> go build [-o 输出名] [-i] [编译标记] [包名]</code></p> 
<ol><li>跨平台编译<code>env GOOS=linux GOARCH=amd64 go build</code></li><li>缩小编译后的体积：<code>go build -ldflags="-s -w" -o ./x/ main.go</code><br> ‘-s -w’: 压缩编译后的体积<br> -s: 去掉符号表<br> -w: 去掉调试信息，不能gdb调试了</li></ol> 
<p><code>go build</code> 是 Go 编程语言中的一个重要命令，用于构建（编译）Go 程序，并生成可执行文件或库。它用于将源代码编译成可执行文件或包，便于直接运行或在其他项目中引用。下面是 <code>go build</code> 命令的详细解释以及常用的命令参数列表：</p> 
<p><strong>命令格式：</strong></p> 
<pre><code>go build [build flags] [packages]
</code></pre> 
<p><strong>命令参数列表：</strong></p> 
<ul><li> <p><strong><code>build flags</code></strong>：构建标志，用于配置构建过程的选项。</p> 
  <ol><li><code>-o output-file</code>：指定输出文件名。默认情况下，可执行文件的名称将与当前目录的名称相同（如果是 <code>main</code> 包的话），或者包名将成为生成的库文件名。</li><li><code>-i</code>：安装构建的包和依赖项到 <code>$GOPATH/pkg</code> 目录，以便后续构建可以重用它们。</li><li><code>-a</code>：强制重新构建所有包，即使它们已经是最新的。</li><li><code>-v</code>：显示详细的构建日志，包括正在编译的包名和文件路径。</li><li><code>-x</code>：打印正在执行的编译命令。</li><li><code>-race</code>：启用数据竞争检测，用于检查并发程序中的竞态条件。</li><li><code>-ldflags flags</code>：向链接器传递额外的标志。可以用于指定链接时的额外信息，如版本信息、构建时间等。</li><li><code>-mod mode</code>：设置模块支持模式（可选值：<code>readonly</code>，<code>vendor</code>，<code>mod</code>，<code>auto</code>）。</li></ol> </li><li> <p><strong><code>packages</code></strong>：要构建的包或文件。如果不提供任何包名或文件名，<code>go build</code> 将默认构建当前目录的包（如果包含 <code>main</code> 包则生成可执行文件）。</p> </li></ul> 
<p><strong>示例用法：</strong></p> 
<ol><li> <p>构建当前目录的包（如果有 <code>main</code> 包则生成可执行文件）：</p> <pre><code>go build
</code></pre> </li><li> <p>构建指定的文件或包：</p> <pre><code>go build main.go
</code></pre> </li><li> <p>指定输出文件名：</p> <pre><code>go build -o myapp
</code></pre> </li><li> <p>构建并安装依赖：</p> <pre><code>go build -i
</code></pre> </li><li> <p>强制重新构建所有包：</p> <pre><code>go build -a
</code></pre> </li><li> <p>交叉编译：</p> <pre><code>go build -o myapp -v -x --target &lt;target_platform&gt;
</code></pre> </li><li> <p>启用数据竞争检测：</p> <pre><code>go build -race
</code></pre> </li><li> <p>设置链接标志：</p> <pre><code>go build -ldflags "-X main.Version=1.0.0 -X main.BuildTime=$(date -u +'%Y-%m-%dT%H:%M:%SZ')"
</code></pre> </li></ol> 
<p>请注意，命令参数列表中的选项可能随着 Go 版本的更新而有所变化，因此建议查阅最新的 <code>go build</code> 命令文档或运行 <code>go help build</code> 获取最新的帮助信息。</p> 
<h4><a id="go_build_ldflagss_w_143"></a>go build -ldflags=“-s -w”</h4> 
<p>在Go语言中，使用<code>go build</code>命令可以将Go代码编译成可执行文件。通过添加<code>-ldflags="-s -w"</code>标志，可以在编译过程中传递链接器（ld）标志。具体来说，<code>-s</code>标志用于禁止符号表和调试信息，而<code>-w</code>标志用于禁止DWARF调试信息。</p> 
<p>这样做的效果是生成的可执行文件会变得更小，并且不包含调试信息，使其在某些情况下更适合发布或部署。较小的可执行文件通常对于发布产品和减少二进制文件大小很有用。</p> 
<p>让我们举一个例子来说明这个效果。假设我们有一个简单的Go程序，如下所示：</p> 
<pre><code class="prism language-go"><span class="token comment">// main.go</span>
<span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Hello, World!"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>使用常规的<code>go build</code>命令编译程序：</p> 
<pre><code class="prism language-bash">go build main.go
</code></pre> 
<p>然后，我们可以查看生成的文件大小：</p> 
<pre><code class="prism language-bash"><span class="token function">ls</span> <span class="token parameter variable">-lh</span> main
</code></pre> 
<p>输出可能类似于：</p> 
<pre><code>-rwxr-xr-x 1 user user 2.5M Jul 24 2023 main
</code></pre> 
<p>现在，我们使用<code>-ldflags="-s -w"</code>标志来编译程序：</p> 
<pre><code class="prism language-bash">go build <span class="token parameter variable">-ldflags</span><span class="token operator">=</span><span class="token string">"-s -w"</span> main.go
</code></pre> 
<p>再次查看生成的文件大小：</p> 
<pre><code class="prism language-bash"><span class="token function">ls</span> <span class="token parameter variable">-lh</span> main
</code></pre> 
<p>输出可能类似于：</p> 
<pre><code>-rwxr-xr-x 1 user user 1.3M Jul 24 2023 main
</code></pre> 
<p>可以看到，使用<code>-ldflags="-s -w"</code>标志编译的可执行文件大小明显较小。请注意，具体的文件大小可能会因编译环境和代码的复杂性而有所不同，但这个例子说明了使用这些标志的效果。</p> 
<p>禁止符号表、调试信息和DWARF调试信息在编译过程中会带来以下效果：</p> 
<ol><li> <p><strong>禁止符号表：</strong> 符号表是一种映射表，它将编译后的二进制代码中的地址与变量、函数和其他符号名称相关联。禁止符号表意味着在最终生成的可执行文件中将不包含这些符号的信息。这会使得可执行文件的大小减小，但同时也会影响到调试器的能力。如果出现崩溃或错误，调试器将无法准确地找到变量或函数的名称和地址，使得调试过程变得更加困难。</p> </li><li> <p><strong>禁止调试信息：</strong> 调试信息是在编译过程中添加到可执行文件中的元数据，它允许调试器在程序崩溃或执行期间进行调试。禁止调试信息将减小可执行文件的大小，并且使得调试器无法以源代码级别进行调试。这意味着，当程序出现错误或异常时，调试器将无法提供准确的代码行号和堆栈跟踪信息，从而降低了调试的便利性。</p> </li><li> <p><strong>禁止DWARF调试信息：</strong> DWARF（Debugging With Attributed Record Formats）是一种调试信息格式，它被广泛用于Go语言和其他编程语言。禁止DWARF调试信息将从生成的可执行文件中移除与调试相关的元数据。这样做会减小可执行文件的大小，但同样也会使得调试器无法以源代码级别进行调试。</p> </li></ol> 
<p>综上所述，禁止掉这些信息会减小生成的可执行文件的大小，使其更适合发布和部署，但同时也会导致调试的不便。因此，在选择是否使用<code>-s</code>和<code>-w</code>标志时，需要权衡在发布和调试之间的需求。在发布产品时可以使用这些标志以减小文件大小，而在开发和调试阶段则不建议使用，以方便调试和追踪问题。</p> 
<p>禁止符号表、调试信息和DWARF调试信息不会直接影响程序的日志输出。这些标志主要与生成的可执行文件的大小和调试能力相关，而不会对程序的运行时行为产生直接影响。</p> 
<p>程序的日志输出通常是通过使用Go标准库中的"log"包或其他第三方日志库实现的。这些日志输出通常是在运行时通过打印到控制台或写入日志文件的方式完成的。与这些日志输出相关的内容不会受到<code>-s</code>和<code>-w</code>标志的影响，因为这些标志主要影响可执行文件的生成过程，而不会修改程序运行时的行为。</p> 
<p>如果您在程序中使用了类似于以下的日志输出代码：</p> 
<pre><code class="prism language-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"log"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"This is a log message"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>无论您在编译时是否使用了<code>-s</code>和<code>-w</code>标志，该日志输出将正常运行，并且将日志信息打印到控制台。</p> 
<p>请注意，<code>-s</code>和<code>-w</code>标志主要用于发布产品或部署可执行文件时，以减小文件大小和禁用调试信息。在开发和调试阶段，通常不建议使用这些标志，以便更容易地调试和追踪问题。但对于日志输出方面，并没有直接关联，因此不会受到这些标志的影响。</p> 
<h3><a id="go_env_231"></a>go env</h3> 
<p><code>go env [-json] [-u] [-w] [var ...]</code><br> -w: 需要多个<code>env = xxx</code>的参数写入</p> 
<p>默认情况下，env将信息打印为shell脚本(在windows上，是批处理文件)。如果一个或多个变量名作为参数给定，env将在其自己的行上打印每个命名变量的值</p> 
<p><code>go env</code> 是 Go 编程语言中的一个命令，用于显示当前 Go 环境的相关信息。它可以用于查看 Go 的安装路径、环境变量、构建配置以及其他与 Go 相关的设置。<code>go env</code> 命令在命令行中执行。</p> 
<p>以下是 <code>go env</code> 命令的详细解释和常用的命令参数列表：</p> 
<p><strong>命令格式：</strong></p> 
<pre><code>go env [var ...]
</code></pre> 
<p><strong>命令参数列表：</strong></p> 
<ul><li><strong><code>var ...</code></strong>：可选的环境变量名，用于指定要查看的特定环境变量的值。如果不提供任何参数，则会显示所有当前 Go 环境的相关信息。</li></ul> 
<p><strong>示例用法：</strong></p> 
<ol><li> <p>显示所有当前 Go 环境的信息：</p> <pre><code>go env
</code></pre> </li><li> <p>显示指定环境变量的值，例如 GOPATH 和 GOROOT：</p> <pre><code>go env GOPATH GOROOT
</code></pre> </li></ol> 
<p><strong>常见的环境变量：</strong></p> 
<ul><li><code>GOROOT</code>：Go 的安装路径，指向 Go 的根目录。</li><li><code>GOPATH</code>：Go 工作区的路径，用于存放项目代码和依赖的第三方库。</li><li><code>GOBIN</code>：Go 可执行文件（例如生成的可执行文件）的安装路径。</li><li><code>GOARCH</code>：目标体系结构（例如 amd64、386 等）。</li><li><code>GOOS</code>：目标操作系统（例如 windows、linux、darwin 等）。</li><li><code>CGO_ENABLED</code>：是否启用 CGO（C语言调用Go）。</li></ul> 
<p><code>go env</code> 命令对于调试和配置 Go 环境非常有用，可以快速查看各种环境变量的值，确保 Go 开发环境的正确配置。如果你在开发过程中遇到问题，使用 <code>go env</code> 命令可以帮助你诊断和解决一些环境相关的问题。</p> 
<h3><a id="go_fmt_272"></a>go fmt</h3> 
<p><code>go fmt [-n] [-x] [packages]</code></p> 
<p><code>go fmt</code> 是 Go 编程语言中的一个命令，用于格式化 Go 源代码。它是 Go 语言官方提供的一个工具，用于保持代码风格的一致性，使代码具有统一的格式，便于阅读和维护。<code>go fmt</code> 命令在命令行中执行。</p> 
<p>以下是 <code>go fmt</code> 命令的详细解释和常用的命令参数列表：</p> 
<p><strong>命令格式：</strong></p> 
<pre><code>go fmt [packages]
</code></pre> 
<p><strong>命令参数列表：</strong></p> 
<ul><li><strong><code>packages</code></strong>：要格式化的包的导入路径。如果不提供任何包名，则 <code>go fmt</code> 将格式化当前目录及其子目录中的所有 Go 源代码文件。</li></ul> 
<p><strong>示例用法：</strong></p> 
<ol><li> <p>格式化当前目录及其子目录中的所有 Go 源代码文件：</p> <pre><code>go fmt
</code></pre> </li><li> <p>格式化指定的包：</p> <pre><code>go fmt mypackage
</code></pre> </li></ol> 
<p><strong>注意：</strong></p> 
<ul><li><code>go fmt</code> 命令将会直接修改源代码文件，因此在执行该命令前，请务必备份你的代码或确保代码已经提交到版本控制系统中。</li></ul> 
<p><strong><code>go fmt</code> 的工作原理：</strong><br> <code>go fmt</code> 命令使用 Go 语言官方的代码格式化工具 <code>gofmt</code> 来执行代码格式化。它会自动重写源代码文件，使其符合 Go 语言的代码风格规范。<code>gofmt</code> 工具会根据一系列规则来调整代码的缩进、空格、换行等，确保所有代码在格式上都是一致的。</p> 
<p>使用 <code>go fmt</code> 命令有助于使团队成员之间的代码风格保持一致，减少代码审查过程中的格式问题，并提高代码的可读性和可维护性。在开发过程中，你可以定期运行 <code>go fmt</code> 来保持代码的格式一致性。</p> 
<h3><a id="go_install_307"></a>go install</h3> 
<p><code>go install</code> 是 Go 编程语言中的一个命令，用于编译并安装 Go 包或程序。当你执行 <code>go install</code> 命令时，它会编译指定的包或程序，并将生成的可执行文件或库安装到 <code>$GOPATH/bin</code> 目录下（可执行文件）或 <code>$GOPATH/pkg</code> 目录下（库文件）。这样一来，你就可以在任何地方直接运行或引用这些安装后的包或程序。</p> 
<p>以下是 <code>go install</code> 命令的详细解释和常用的命令参数列表：</p> 
<p><strong>命令格式：</strong></p> 
<pre><code>go install [build flags] [packages]
</code></pre> 
<p><strong>命令参数列表：</strong></p> 
<ul><li> <p><strong><code>build flags</code></strong>：构建标志，用于配置构建过程的选项，它们可以是 <code>go build</code> 命令的标志。</p> 
  <ul><li><code>-i</code>：安装编译后的包和依赖项到 <code>$GOPATH/pkg</code> 目录，以便后续构建可以重用它们。</li><li><code>-v</code>：显示详细的构建日志，包括正在编译的包名和文件路径。</li><li><code>-x</code>：打印正在执行的编译命令。</li></ul> </li><li> <p><strong><code>packages</code></strong>：要编译并安装的包或程序。如果不提供任何包名或程序名，<code>go install</code> 将默认安装当前目录中的 <code>main</code> 包的可执行文件，或将其他包安装到 <code>$GOPATH/pkg</code> 目录中。</p> </li></ul> 
<p><strong>示例用法：</strong></p> 
<ol><li> <p>安装当前目录的 <code>main</code> 包的可执行文件到 <code>$GOPATH/bin</code> 目录下：</p> <pre><code>go install
</code></pre> </li><li> <p>安装指定的包或程序：</p> <pre><code>go install mypackage
</code></pre> </li><li> <p>安装指定的包或程序，并显示详细的构建日志：</p> <pre><code>go install -v mypackage
</code></pre> </li><li> <p>安装指定的包或程序，并将编译后的包保存到 <code>$GOPATH/pkg</code> 目录下：</p> <pre><code>go install -i mypackage
</code></pre> </li></ol> 
<p><strong>注意：</strong></p> 
<ul><li> <p><code>go install</code> 命令需要设置好正确的 <code>$GOPATH</code> 环境变量，并且安装的可执行文件将存放在 <code>$GOPATH/bin</code> 目录下。确保 <code>$GOPATH/bin</code> 在系统的 <code>PATH</code> 环境变量中，这样你就可以在任何地方直接运行安装后的可执行文件。</p> </li><li> <p>对于没有 <code>main</code> 包的包，<code>go install</code> 会将其编译并安装到 <code>$GOPATH/pkg</code> 目录下，这些包可以在其他项目中被引用和使用。</p> </li></ul> 
<p><code>go install</code> 命令对于开发和测试分发可执行文件和库非常有用。它使得在项目中创建和管理依赖包变得更加方便，同时也能确保可执行文件在 <code>$GOPATH/bin</code> 目录中可用。</p> 
<h3><a id="go_doc_354"></a>go doc</h3> 
<p><code>go doc</code> 是 Go 编程语言中的一个命令，用于显示 Go 包和标识符（函数、类型、变量等）的文档。它是一个非常有用的工具，可以帮助开发者查看包的用法、函数的参数、类型的定义以及相关的文档注释，从而更好地了解和使用 Go 标准库以及第三方库。</p> 
<p>以下是 <code>go doc</code> 命令的详细解释和常用的命令参数列表：</p> 
<p><strong>命令格式：</strong></p> 
<pre><code>go doc [package|[package.]identifier]
</code></pre> 
<p><strong>命令参数列表：</strong></p> 
<ul><li> <p><strong><code>package</code></strong>：要查看文档的包名。可以是标准库包名、第三方包名，或者你自己项目的包名。如果不指定标识符，则会显示整个包的文档。</p> </li><li> <p><strong><code>[package.]identifier</code></strong>：要查看文档的标识符（函数、类型、变量等）。如果提供了标识符，<code>go doc</code> 将会显示该标识符的详细文档。</p> </li></ul> 
<p><strong>示例用法：</strong></p> 
<ol><li> <p>查看整个标准库 <code>fmt</code> 包的文档：</p> <pre><code>go doc fmt
</code></pre> </li><li> <p>查看 <code>fmt</code> 包中的 <code>Println</code> 函数的文档：</p> <pre><code>go doc fmt.Println
</code></pre> </li><li> <p>查看自己项目中的 <code>mypackage</code> 包的文档：</p> <pre><code>go doc mypackage
</code></pre> </li><li> <p>查看 <code>mypackage</code> 包中的 <code>MyFunction</code> 函数的文档：</p> <pre><code>go doc mypackage.MyFunction
</code></pre> </li></ol> 
<p><strong>注意：</strong></p> 
<ul><li> <p><code>go doc</code> 命令可以用于查看标准库和第三方库的文档，但是对于自己项目中的包，需要满足以下条件：</p> 
  <ul><li>你的项目需要在 <code>GOPATH</code> 下的某个工作区中。</li><li>你的项目需要在一个完整的包目录中，包含正确的包名和文件结构。</li><li>你需要正确地使用文档注释（以 <code>/* ... */</code> 或 <code>// ...</code> 形式）来注释你的代码，这样 <code>go doc</code> 才能正确地提取文档信息。</li></ul> </li><li> <p><code>go doc</code> 命令可以帮助你快速查看包和标识符的文档，非常方便，特别是当你不确定某个标准库函数的用法或第三方库的功能时。同时，良好的文档注释也有助于提高代码的可读性和维护性。因此，在编写代码时，建议添加清晰明了的文档注释，以便自己和他人更好地理解和使用你的代码。</p> </li></ul> 
<h3><a id="go_get_401"></a>go get</h3> 
<p><code>go get</code> 是 Go 编程语言中的一个命令，用于获取并安装指定的包或模块。它是一个非常有用的工具，可以用于快速获取第三方库或工具，并将其安装到你的 Go 工作区中，以便在项目中引用和使用。</p> 
<p>以下是 <code>go get</code> 命令的详细解释和常用的命令参数列表：</p> 
<p><strong>命令格式：</strong></p> 
<pre><code>go get [build flags] [packages]
</code></pre> 
<p><strong>命令参数列表：</strong></p> 
<ul><li> <p><strong><code>build flags</code></strong>：构建标志，用于配置获取和安装过程的选项，它们可以是 <code>go build</code> 命令的标志。</p> 
  <ul><li><code>-d</code>：只下载包，不进行安装操作。</li><li><code>-u</code>：更新已有的包和依赖，而不仅仅是下载最新版本。</li><li><code>-t</code>：同时下载测试所需的依赖。</li><li><code>-v</code>：显示详细的日志信息。</li></ul> </li><li> <p><strong><code>packages</code></strong>：要获取并安装的包或模块的导入路径。这可以是标准库包名、第三方包名，或者你自己的模块路径。</p> </li></ul> 
<p><strong>示例用法：</strong></p> 
<ol><li> <p>获取并安装 <code>github.com/gin-gonic/gin</code> 包：</p> <pre><code>go get github.com/gin-gonic/gin
</code></pre> </li><li> <p>获取并安装指定的多个包：</p> <pre><code>go get github.com/gin-gonic/gin github.com/go-sql-driver/mysql
</code></pre> </li><li> <p>只下载包，不进行安装：</p> <pre><code>go get -d github.com/gin-gonic/gin
</code></pre> </li><li> <p>更新已有的包和依赖：</p> <pre><code>go get -u github.com/gin-gonic/gin
</code></pre> </li><li> <p>获取并安装指定模块路径下的模块：</p> <pre><code>go get example.com/mymodule
</code></pre> </li></ol> 
<p><strong>注意：</strong></p> 
<ul><li> <p><code>go get</code> 命令将下载指定的包或模块，并将其安装到 Go 工作区中，默认情况下会将二进制文件安装到 <code>$GOPATH/bin</code> 目录下，库文件安装到 <code>$GOPATH/pkg</code> 目录下。</p> </li><li> <p>对于 Go 模块（Module）来说，<code>go get</code> 命令也可以用于获取和管理依赖项。当你在一个使用 Go 模块的项目中执行 <code>go get</code> 命令时，它会自动根据项目的 <code>go.mod</code> 文件获取依赖项。</p> </li><li> <p><code>go get</code> 命令对于获取和管理依赖项非常方便，它使得在项目中引入第三方库变得简单，并帮助你快速搭建和开发 Go 项目。当你需要使用一个新的包或模块时，只需执行 <code>go get</code> 命令，Go 工具链会自动处理依赖关系并下载安装所需的包。</p> </li></ul> 
<h3><a id="go_mod_455"></a>go mod</h3> 
<p><code>go mod</code> 是 Go 编程语言中用于管理模块（Module）的命令集合。Go 模块是从 Go 1.11 版本引入的一种机制，用于管理依赖关系和版本信息，以提供更强大的依赖管理和版本控制功能。<code>go mod</code> 命令允许你初始化、编辑、查询和更新模块，以及与依赖项进行交互。</p> 
<p>以下是 <code>go mod</code> 命令的详细解释和常用的命令参数列表：</p> 
<p><strong>命令格式：</strong></p> 
<pre><code>go mod &lt;command&gt; [arguments]
</code></pre> 
<p><strong>命令参数列表：</strong></p> 
<p>下面列出了一些常用的 <code>go mod</code> 命令以及它们的功能：</p> 
<ul><li> <p><strong><code>init</code></strong>：初始化新的模块，创建一个新的 <code>go.mod</code> 文件用于管理依赖。</p> <pre><code>go mod init [module]
</code></pre> </li><li> <p><strong><code>tidy</code></strong>：整理模块的依赖关系，移除未使用的依赖项。</p> <pre><code>go mod tidy
</code></pre> </li><li> <p><strong><code>download</code></strong>：下载模块的依赖项。</p> <pre><code>go mod download
</code></pre> </li><li> <p><strong><code>vendor</code></strong>：将模块的依赖项复制到 vendor 目录中。</p> <pre><code>go mod vendor
</code></pre> </li><li> <p><strong><code>graph</code></strong>：显示模块的依赖图。</p> <pre><code>go mod graph
</code></pre> </li><li> <p><strong><code>verify</code></strong>：验证模块的依赖项，确保下载的依赖项的校验和与 <code>go.sum</code> 文件中的期望值匹配。</p> <pre><code>go mod verify
</code></pre> </li><li> <p><strong><code>edit</code></strong>：编辑 go.mod 文件。</p> <pre><code>go mod edit [go.mod]
</code></pre> </li><li> <p><strong><code>why</code></strong>：解释为什么需要或不需要特定的依赖项。</p> <pre><code>go mod why [packages]
</code></pre> </li><li> <p><strong><code>replace</code></strong>：替换依赖项的版本或路径。</p> <pre><code>go mod edit -replace [old]@[v] [new]@[w]
</code></pre> </li><li> <p><strong><code>list</code></strong>：列出模块的所有依赖项。</p> <pre><code>go list -m -json all
</code></pre> </li><li> <p><strong><code>download</code></strong>：下载模块的依赖项，但不更新 go.mod 文件和锁定文件。</p> <pre><code>go mod download
</code></pre> </li></ul> 
<p><strong>注意：</strong></p> 
<ul><li> <p>以上命令只是 <code>go mod</code> 命令的一部分，还有其他一些命令可以用于处理 Go 模块的依赖关系和版本信息。你可以通过运行 <code>go help mod</code> 获取完整的 <code>go mod</code> 命令列表和帮助信息。</p> </li><li> <p>Go 模块的使用已经成为了 Go 项目管理中的标准做法，它提供了更好的依赖管理、版本控制和构建重现性。如果你正在开发一个新的 Go 项目或是更新现有项目，建议使用 Go 模块来管理你的依赖关系。</p> </li></ul> 
<h3><a id="go_fix_529"></a>go fix</h3> 
<p>在 Go 1.17 版本及之前，<code>go fix</code> 是 Go 编程语言中的一个命令，用于更新旧版本的 Go 代码以适应新版本的语言规范和库变化。它可以帮助开发者将代码从旧版本迁移到新版本，以便利用新功能和修复已弃用的特性。然而，从 Go 1.17 开始，<code>go fix</code> 不再是一个独立的命令，而是被合并到了 <code>go tool fix</code> 命令中，以更好地支持更复杂的修复操作。</p> 
<p>以下是 <code>go fix</code>（Go 1.17 版本之前）的简要解释和常用的命令参数列表：</p> 
<p><strong>命令格式：</strong></p> 
<pre><code>go fix [packages]
</code></pre> 
<p><strong>命令参数列表：</strong></p> 
<ul><li><strong><code>packages</code></strong>：要修复的包或目录。如果不提供任何包名或目录名，<code>go fix</code> 将默认修复当前目录及其子目录中的所有 Go 源代码文件。</li></ul> 
<p><strong>示例用法：</strong></p> 
<ol><li> <p>修复当前目录及其子目录中的所有 Go 源代码文件：</p> <pre><code>go fix
</code></pre> </li><li> <p>修复指定的包或目录：</p> <pre><code>go fix mypackage
</code></pre> </li></ol> 
<p><strong>注意：</strong></p> 
<ul><li> <p>从 Go 1.17 版本开始，<code>go fix</code> 不再是一个独立的命令，而是合并到了 <code>go tool fix</code> 中。同时，在 Go 1.17 版本中引入了 Go 语言版本管理工具 <code>go</code>（<code>go version</code>），可以通过 <code>go fix</code> 子命令来升级代码以适应新版本的语言规范和库变化。例如：</p> <pre><code>go fix mypackage
</code></pre> </li><li> <p>在 Go 1.17 之后的版本中，建议使用 <code>go fix</code> 子命令来处理代码迁移和更新。如果你使用的是 Go 1.17 版本及之前的版本，则可以继续使用 <code>go fix</code> 命令来完成相同的任务。</p> </li></ul> 
<h3><a id="go_generate_564"></a>go generate</h3> 
<p><code>go generate</code> 是 Go 编程语言中的一个命令，用于在 Go 源代码中运行自定义的代码生成工具。通过在代码中添加特定的注释指令，你可以告诉 Go 工具链在编译过程中执行自定义的代码生成操作。<code>go generate</code> 的主要目的是帮助开发者在编译前自动生成一些重复性的代码或资源，从而简化开发过程。</p> 
<p>以下是 <code>go generate</code> 命令的详细解释和常用的命令参数列表：</p> 
<p><strong>命令格式：</strong></p> 
<pre><code>go generate [build flags] [packages]
</code></pre> 
<p><strong>命令参数列表：</strong></p> 
<ul><li> <p><strong><code>build flags</code></strong>：构建标志，用于配置生成过程的选项，它们可以是 <code>go build</code> 命令的标志。</p> 
  <ul><li><code>-run="regexp"</code>：只运行匹配指定正则表达式的命令。</li><li><code>-n</code>：只打印命令而不执行。</li><li><code>-v</code>：显示详细的日志信息。</li></ul> </li><li> <p><strong><code>packages</code></strong>：要生成代码的包的导入路径。如果不提供任何包名，<code>go generate</code> 将默认在当前目录及其子目录中查找并运行生成命令。</p> </li></ul> 
<p><strong><code>go generate</code> 的使用方法：</strong></p> 
<ol><li> <p>在 Go 源代码文件中添加注释指令：<br> 在你的 Go 源代码文件中，你可以使用特定的注释指令 <code>//go:generate</code> 来执行自定义的代码生成工具。例如：</p> <pre><code class="prism language-go"><span class="token comment">//go:generate go run mytool.go</span>
</code></pre> </li><li> <p>运行 <code>go generate</code> 命令：<br> 在你的项目根目录或包含生成指令的目录下，运行 <code>go generate</code> 命令，它会执行指定的代码生成工具，根据注释指令生成相应的代码或资源。</p> </li></ol> 
<p><strong>示例用法：</strong></p> 
<p>假设有一个名为 <code>generator.go</code> 的生成工具文件，用于生成 <code>data.go</code> 文件，其中包含一些预定义的数据。在 <code>data.go</code> 文件中，我们添加了以下注释指令：</p> 
<pre><code class="prism language-go"><span class="token comment">//go:generate go run generator.go</span>
</code></pre> 
<p>然后在项目根目录下运行 <code>go generate</code> 命令：</p> 
<pre><code>go generate
</code></pre> 
<p>该命令将运行 <code>generator.go</code> 文件中的代码，并生成 <code>data.go</code> 文件，包含我们预定义的数据。</p> 
<p><strong>注意：</strong></p> 
<ul><li> <p><code>go generate</code> 命令是一个可选的工具，只有当你在代码中添加了 <code>//go:generate</code> 注释指令时才需要运行。如果你的代码中没有这样的注释指令，<code>go generate</code> 命令将不会有任何操作。</p> </li><li> <p><code>go generate</code> 提供了一个灵活且强大的方式来在编译前自动生成代码，但也需要谨慎使用。确保你的代码生成工具是正确且安全的，并且你理解生成的代码的影响。避免在注释指令中执行可能会产生副作用或损害代码的操作。</p> </li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e0bbec0a8818b0353cddc47b960a3f12/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">(java毕业设计源码)基于java(ssm)校园办公室报修管理系统</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/62760993e1e45ba35dc75f83103e3852/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JAVA数组分段的两种方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>