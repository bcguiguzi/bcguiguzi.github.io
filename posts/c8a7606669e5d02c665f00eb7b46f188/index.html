<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SpringMVC框架面试专题（初级-中级）-第四节 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SpringMVC框架面试专题（初级-中级）-第四节" />
<meta property="og:description" content="欢迎大家一起探讨～如果可以帮到大家请为我点赞关注哦～后续会持续更新
问题：
1.Spring MVC框架中的Websocket支持是什么？请举例说明如何使用Websocket。
解析：
Spring MVC框架中的Websocket支持是指在Web应用程序中通过Websocket协议实现双向通信的功能。Spring MVC框架提供了一组组件和API来支持Websocket。
在Spring MVC框架中，Websocket支持主要涉及到以下几个组件和API：
WebSocketHandler：用于处理Websocket请求。TextMessage：用于封装Websocket消息的文本内容。BinaryMessage：用于封装Websocket消息的二进制内容。WebSocketSession：用于封装Websocket会话信息。@Controller：用于标识处理Websocket请求的控制器。@MessageMapping：用于映射Websocket请求的URL。@SendTo：用于将方法返回值发送到指定的Websocket订阅路径。STOMP：用于定义Websocket消息的格式和协议。 下面是一个使用Websocket的例子：
@Controller public class WebSocketController { @MessageMapping(&#34;/hello&#34;) @SendTo(&#34;/topic/greetings&#34;) public Greeting greeting(HelloMessage message) throws Exception { Thread.sleep(1000); // simulated delay return new Greeting(&#34;Hello, &#34; &#43; message.getName() &#43; &#34;!&#34;); } @Configuration @EnableWebSocketMessageBroker public class WebSocketConfig implements WebSocketMessageBrokerConfigurer { @Override public void configureMessageBroker(MessageBrokerRegistry config) { config.enableSimpleBroker(&#34;/topic&#34;); config.setApplicationDestinationPrefixes(&#34;/app&#34;); } @Override public void registerStompEndpoints(StompEndpointRegistry registry) { registry.addEndpoint(&#34;/hello&#34;).withSockJS(); } } public class HelloMessage { private String name; public String getName() { return name; } public void setName(String name) { this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/c8a7606669e5d02c665f00eb7b46f188/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-25T23:12:15+08:00" />
<meta property="article:modified_time" content="2023-05-25T23:12:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SpringMVC框架面试专题（初级-中级）-第四节</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>欢迎大家一起探讨～如果可以帮到大家请为我点赞关注哦～后续会持续更新</p> 
<p>问题：</p> 
<p><span style="color:#fe2c24;"><strong>1.Spring MVC框架中的Websocket支持是什么？请举例说明如何使用Websocket。</strong></span></p> 
<p>解析：</p> 
<p>Spring MVC框架中的Websocket支持是指在Web应用程序中通过Websocket协议实现双向通信的功能。Spring MVC框架提供了一组组件和API来支持Websocket。</p> 
<p>在Spring MVC框架中，Websocket支持主要涉及到以下几个组件和API：</p> 
<ul><li>WebSocketHandler：用于处理Websocket请求。</li><li>TextMessage：用于封装Websocket消息的文本内容。</li><li>BinaryMessage：用于封装Websocket消息的二进制内容。</li><li>WebSocketSession：用于封装Websocket会话信息。</li><li>@Controller：用于标识处理Websocket请求的控制器。</li><li>@MessageMapping：用于映射Websocket请求的URL。</li><li>@SendTo：用于将方法返回值发送到指定的Websocket订阅路径。</li><li>STOMP：用于定义Websocket消息的格式和协议。</li></ul> 
<p>下面是一个使用Websocket的例子：</p> 
<pre><code class="language-java">@Controller
public class WebSocketController {

    @MessageMapping("/hello")
    @SendTo("/topic/greetings")
    public Greeting greeting(HelloMessage message) throws Exception {
        Thread.sleep(1000); // simulated delay
        return new Greeting("Hello, " + message.getName() + "!");
   }

@Configuration
@EnableWebSocketMessageBroker
public class WebSocketConfig implements WebSocketMessageBrokerConfigurer {

    @Override
    public void configureMessageBroker(MessageBrokerRegistry config) {
        config.enableSimpleBroker("/topic");
        config.setApplicationDestinationPrefixes("/app");
    }

    @Override
    public void registerStompEndpoints(StompEndpointRegistry registry) {
        registry.addEndpoint("/hello").withSockJS();
    }

}

public class HelloMessage {

    private String name;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

}

public class Greeting {

    private String content;

    public Greeting(String content) {
        this.content = content;
    }

    public String getContent() {
        return content;
    }

}</code></pre> 
<p>在这个例子中，我们定义了一个WebSocketController的控制器，其中greeting方法用于处理Websocket请求。在这个方法中，我们使用@MessageMapping注解将Websocket请求的URL映射为"/hello"，并使用@SendTo注解将方法返回值发送到"/topic/greetings"订阅路径。同时，我们定义了一个WebSocketConfig配置类，用于配置STOMP协议和消息代理。在这个配置类中，我们使用@EnableWebSocketMessageBroker注解启用Websocket支持，并分别配置了消息代理和应用程序目的地前缀。最后，我们定义了HelloMessage和Greeting类，分别用于封装Websocket消息的请求和响应内容。</p> 
<p>需要注意的是，如果要使用Websocket功能，还需要在Spring配置文件中配置静态资源处理器和Websocket处理器，具体配置方法可以参考Spring官方文档。另外，客户端也需要使用相应的Websocket库来连接和发送消息，例如使用SockJS库来连接Spring MVC框架提供的Websocket处理器。</p> 
<p></p> 
<p>问题：</p> 
<p><span style="color:#fe2c24;"><strong>2.Spring MVC框架中的缓存支持是什么？请举例说明如何使用缓存。</strong></span></p> 
<p>解析：</p> 
<p>Spring MVC框架中的缓存支持是指通过缓存技术来提高应用程序的性能和响应速度。Spring MVC框架提供了一组组件和API来支持缓存。</p> 
<p>在Spring MVC框架中，缓存支持主要涉及到以下几个组件和API：</p> 
<ul><li>CacheManager：用于管理缓存实例。</li><li>Cache：用于封装缓存实例。</li><li>@Cacheable：用于将方法返回值缓存起来。</li><li>@CachePut：用于更新缓存中的数据。</li><li>@CacheEvict：用于清除缓存中的数据。</li><li>@Caching：用于组合多种缓存注解。</li></ul> 
<p>下面是一个使用缓存的例子：</p> 
<pre><code class="language-java">@Service
public class MyService {

    @Autowired
    private MyRepository myRepository;

    @Cacheable(value = "myCache", key = "#id")
    public MyEntity getMyEntityById(Long id) {
        return myRepository.findById(id).orElse(null);
    }

    @CachePut(value = "myCache", key = "#myEntity.id")
    public MyEntity saveMyEntity(MyEntity myEntity) {
        return myRepository.save(myEntity);
    }

    @CacheEvict(value ="myCache", key = "#id")
    public void deleteMyEntityById(Long id) {
        myRepository.deleteById(id);
    }

}

@Repository
public interface MyRepository extends JpaRepository&lt;MyEntity, Long&gt; {

}

public class MyEntity {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String name;

    // getters and setters

}</code></pre> 
<p>在这个例子中，我们定义了一个MyService的服务类，其中getMyEntityById方法使用@Cacheable注解将方法返回值缓存起来，saveMyEntity方法使用@CachePut注解更新缓存中的数据，deleteMyEntityById方法使用@CacheEvict注解清除缓存中的数据。同时，我们定义了一个MyRepository接口，用于访问数据库中的实体对象。最后，我们定义了一个MyEntity实体类，用于封装实体对象的属性。</p> 
<p>需要注意的是，如果要使用缓存功能，还需要在Spring配置文件中配置CacheManager组件和静态资源处理器，具体配置方法可以参考Spring官方文档。另外，Spring MVC框架提供了多个缓存实现，例如使用EhCache、Redis、Guava等开源缓存库来实现缓存功能。在配置CacheManager时，需要根据实际情况选择合适的缓存实现。</p> 
<p></p> 
<p>问题：</p> 
<p><span style="color:#fe2c24;"><strong>3.Spring MVC框架中的安全性是什么？请举例说明如何实现安全性。</strong></span></p> 
<p>解析：</p> 
<p>Spring MVC框架中的安全性是指通过安全技术来保护应用程序的机密性、完整性和可用性。Spring MVC框架提供了一组组件和API来支持安全性。</p> 
<p>在Spring MVC框架中，安全性主要涉及到以下几个组件和API：</p> 
<ul><li>MvcConfigurer：用于配置Spring MVC应用程序的安全策略。</li><li>HttpSecurity：用于配置HTTP请求的安全策略。</li><li>WebSecurityConfigurerAdapter：用于配置Web应用程序的安全策略。</li><li>@EnableWebSecurity：用于启用Web应用程序的安全配置。</li><li>@Configuration：用于定义安全配置类。</li><li>@RequestMapping：用于映射安全请求的URL。</li></ul> 
<p>下面是一个简单的实现安全性的例子：</p> 
<pre><code class="language-java">@Configuration
@EnableWebSecurity
public class WebSecurityConfig extends WebSecurityConfigurerAdapter {

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http
            .authorizeRequests()
                .antMatchers("/","/home").permitAll() // 允许所有用户访问首页和"/home"路径
                .anyRequest().authenticated() // 其他路径需要身份认证
                .and()
            .formLogin()
                .loginPage("/login") // 指定登录页面的URL
                .permitAll() // 允许所有用户访问登录页面
                .and()
            .logout()
                .permitAll(); // 允许所有用户注销
    }

    @Autowired
    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {
        auth
            .inMemoryAuthentication() // 使用内存中的用户信息进行认证
                .withUser("user").password("password").roles("USER"); // 定义一个用户，用户名为"user"，密码为"password"，角色为"USER"
    }

}</code></pre> 
<p>在这个例子中，我们定义了一个WebSecurityConfig配置类，用于配置Web应用程序的安全策略。在这个类中，我们使用@EnableWebSecurity注解启用Web应用程序的安全配置，并重写了configure方法来配置安全策略。在configure方法中，我们使用authorizeRequests方法来配置访问权限，使用formLogin方法来配置登录页面，使用logout方法来配置注销功能。同时，我们使用configureGlobal方法来配置用户认证逻辑，使用inMemoryAuthentication方法从内存中获取用户信息进行认证，定义了一个用户名为"user"，密码为"password""，角色为"USER"的用户。</p> 
<p>需要注意的是，这个例子中的安全策略非常简单，只是使用了内存中的用户信息进行认证，实际应用中需要根据实际情况选择更加安全的认证方式，例如使用数据库中的用户信息进行认证，或者使用加密算法对密码进行加密等。同时，还需要根据实际情况配置访问权限和安全策略，确保应用程序的安全性。</p> 
<p></p> 
<p>问题：</p> 
<p><span style="color:#fe2c24;"><strong>4.Spring MVC框架中的测试支持是什么？请举例说明如何使用测试支持。</strong></span></p> 
<p>解析：</p> 
<p>Spring MVC框架中的测试支持是指通过一组测试工具和API来帮助开发人员编写和执行自动化测试用例，以测试应用程序的功能和性能。Spring MVC框架提供了一系列的测试支持，包括：</p> 
<ul><li>MockMvc：用于模拟HTTP请求和响应的框架。</li><li>TestContext：用于管理测试上下文的框架。</li><li>SpringJUnit4ClassRunner：用于在JUnit测试中集成Spring框架的运行器。</li><li>@Configuration：用于定义测试配置类。</li><li>@Autowired：用于自动注入测试对象。</li><li>@Test：用于标记测试方法。</li></ul> 
<p>下面是一个使用MockMvc进行测试的例子：</p> 
<pre><code class="language-java">@RunWith(SpringJUnit4ClassRunner.class)
@WebAppConfiguration
@ContextConfiguration(classes = { WebConfig.class })
public class UserControllerTest {

    @Autowired
    private WebApplicationContext wac;

    private MockMvc mockMvc;

    @Before
    public void setup() {
        this.mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();
    }

    @Test
    public void testGetUser() throws Exception {
        this.mockMvc.perform(get("/user/1"))
            .andExpect(status().isOk())
            .andExpect(content().contentType(MediaType.APPLICATION_JSON));
    }

}</code></pre> 
<p>在这个例子中，我们创建了一个UserControllerTest测试类，使用SpringJUnit4ClassRunner运行器和@WebAppConfiguration注解来集成Spring框架和Web应用程序的测试环境。我们还使用@ContextConfiguration注解来指定WebConfig配置类，以便在测试中加载应用程序的配置。在测试方法testGetUser中，我们使用MockMvc框架模拟了一个HTTP GET请求，访问了"/user/1"路径，并使用andExpect方法对HTTP响应进行断言。具体来说，我们使用status().isOk()方法来断言HTTP响应的状态码是否为200，使用content().contentType(MediaType.APPLICATION_JSON)方法来断言HTTP响应的Content-Type是否为application/json。这样，我们就可以测试UserController中getUser方法的功能是否正确。</p> 
<p>需要注意的是，这个例子中的测试非常简单，实际应用中需要编写更多的测试用例，覆盖应用程序的所有功能和边界情况。同时，还需要根据实际情况选择合适的测试框架和工具，例如使用JUnit、Mockito、PowerMock等测试框架和工具来编写测试用例，使用JMeter、Gatling等性能测试工具来测试应用程序的性能等。</p> 
<p></p> 
<p>问题：</p> 
<p><span style="color:#fe2c24;"><strong>5.Spring MVC框架中的数据访问支持是什么？请举例说明如何使用数据访问支持。</strong></span></p> 
<p>解析：</p> 
<p>Spring MVC框架中的数据访问支持是指通过一组数据访问技术和API来简化数据访问的过程，包括数据源配置、事务管理、ORM框架集成等。Spring MVC框架提供了一系列的数据访问支持，包括：</p> 
<ul><li>DataSource：用于配置数据源的接口。</li><li>JdbcTemplate：用于执行SQL语句的模板类。</li><li>NamedParameterJdbcTemplate：用于执行带有命名参数的SQL语句的模板类。</li><li>SimpleJdbcInsert：用于执行插入操作的简单模板类。</li><li>SimpleJdbcCall：用于执行存储过程的简单模板类。</li><li>TransactionTemplate：用于编程式事务管理的模板类。</li><li>@Transactional：用于声明事务的注解。</li><li>@Repository：用于声明数据访问对象的注解。</li></ul> 
<p>下面是一个使用JdbcTemplate进行数据访问的例子：</p> 
<pre><code class="language-java">@Repository
public class UserDaoImpl implements UserDao {

    @Autowired
    private JdbcTemplate jdbcTemplate;

    @Override
    public User getUserById(int id) {
        String sql = "SELECT * FROM user WHERE id = ?";
        User user = jdbcTemplate.queryForObject(sql, new Object[]{id},new BeanPropertyRowMapper&lt;&gt;(User.class));
        return user;
    }

    @Override
    public void saveUser(User user) {
        String sql = "INSERT INTO user (name, age) VALUES (?, ?)";
        jdbcTemplate.update(sql, user.getName(), user.getAge());
    }
}</code></pre> 
<p>在这个例子中，我们创建了一个UserDaoImpl实现类，实现了UserDao接口中的getUserById和saveUser方法。在这个实现类中，我们使用@Autowired注解自动注入了JdbcTemplate对象，通过JdbcTemplate对象来执行SQL语句。在getUserById方法中，我们使用queryForObject方法执行了一条查询语句，并使用BeanPropertyRowMapper将查询结果映射为User对象。在saveUser方法中，我们使用update方法执行了一条插入语句。</p> 
<p>需要注意的是，这个例子中使用的是JdbcTemplate，实际应用中还可以使用NamedParameterJdbcTemplate、SimpleJdbcInsert、SimpleJdbcCall等模板类来简化数据访问的过程。同时，还需要根据实际情况选择合适的ORM框架和数据源，例如使用Hibernate、MyBatis等ORM框架，使用MySQL、Oracle等关系型数据库或MongoDB、Redis等非关系型数据库。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8d1b2752b22f4537eee4ccdc850cc651/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【QT网络-TCP】双端数据收发，QTcpSocket客户端数据接收并写入到文件中，能在PC和Ubuntu、Ubuntu和开发板之间通信</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/14920044e9d8805f83a4c4450a03e302/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">uni-app开发应用时，如何进行页面布局和设计？【跨平台开发教程uniapp教程（米饭科技-app小程序h5源码）】</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>