<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CodeForces - 1312D Count the Arrays(组合数学) - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CodeForces - 1312D Count the Arrays(组合数学)" />
<meta property="og:description" content="题目链接：点击查看
题目大意：给出一个 n 和 m ，求满足条件的数组有多少个
数组包含 n 个元素每个元素的取值为 1 ~ m包含且仅包含一对相同的元素存在一个位置 pos ，使得 [ 1 , pos ] 内严格递增，[ pos , n ] 内严格递减 题目分析：读完题后不难看出是一道排列组合的题目，本着先选数，再排序的原则，我们一步步分析
首先我们需要选出 n 个元素才能构成一个数组，因为需要有一对相同的元素，因此这里我们暂时只需要选出 n - 1 个元素就足够了，共 C( m , n - 1 ) 种情况，因为题目中需要保证在 pos 位置的两侧严格递增或递减，那么说明最大值是唯一的，此时在已经选出的 n - 1 个元素中，减去一个最大值，还剩 n - 2 个元素可以重复一遍，满足题目中的第三个条件，到这一步为止，我们已经处理完了选数的问题，也就是 C( m , n - 1 ) * ( n - 2 ) 种选取方案
接下来需要分析顺序问题，相对于选数问题来说，顺序可能稍微有一丢丢难度，不过一步一步来还是问题不大的，首先我们现在已经选出了 n 个满足前三个条件的元素了，因为满足严格递增和严格递减的限制，所以重复的那个数，以及最大值，这三个数的相对位置都是固定不变的，一定满足最大值位于最中间，而重复的两个值分别位于两侧，其他的 n - 3 个数可能会如何分布呢，无非是在最大值的左侧或右侧两种情况，我们可以发现，如果这 n - 3 个数在左侧或右侧的情况固定下来之后，因为题目中第四个条件的限制，数组的顺序也随之固定下来了，且是唯一的，这样关于顺序的方案数也就呼之欲出了：pow( 2 , n - 3 )" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/27795877edd0b170fa20734f207ad14d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-03-10T02:39:32+08:00" />
<meta property="article:modified_time" content="2020-03-10T02:39:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CodeForces - 1312D Count the Arrays(组合数学)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>题目链接：<a href="https://vjudge.net/problem/CodeForces-1312D" rel="nofollow">点击查看</a></p> 
<p>题目大意：给出一个 n 和 m ，求满足条件的数组有多少个</p> 
<ol><li>数组包含 n 个元素</li><li>每个元素的取值为 1 ~ m</li><li>包含且仅包含一对相同的元素</li><li>存在一个位置 pos ，使得 [ 1 , pos ] 内严格递增，[ pos , n ] 内严格递减</li></ol> 
<p>题目分析：读完题后不难看出是一道排列组合的题目，本着先选数，再排序的原则，我们一步步分析</p> 
<p>首先我们需要选出 n 个元素才能构成一个数组，因为需要有一对相同的元素，因此这里我们暂时只需要选出 n - 1 个元素就足够了，共 C( m , n - 1 ) 种情况，因为题目中需要保证在 pos 位置的两侧严格递增或递减，那么说明最大值是唯一的，此时在已经选出的 n - 1 个元素中，减去一个最大值，还剩 n - 2 个元素可以重复一遍，满足题目中的第三个条件，到这一步为止，我们已经处理完了选数的问题，也就是 C( m , n - 1 ) * ( n - 2 ) 种选取方案</p> 
<p>接下来需要分析顺序问题，相对于选数问题来说，顺序可能稍微有一丢丢难度，不过一步一步来还是问题不大的，首先我们现在已经选出了 n 个满足前三个条件的元素了，因为满足严格递增和严格递减的限制，所以重复的那个数，以及最大值，这三个数的<strong>相对位置</strong>都是固定不变的，一定满足最大值位于最中间，而重复的两个值分别位于两侧，其他的 n - 3 个数可能会如何分布呢，无非是在最大值的左侧或右侧两种情况，我们可以发现，如果这 n - 3 个数在左侧或右侧的情况固定下来之后，因为题目中第四个条件的限制，数组的顺序也随之固定下来了，且是唯一的，这样关于顺序的方案数也就呼之欲出了：pow( 2 , n - 3 )</p> 
<p>其实看题解的话这个题目的难度并不是很大，我感觉难就难在，考虑顺序的时候，可能会陷入如何分配最大值的位置的陷阱中去，也就是从<strong>绝对位置</strong>的方向出发，从而越走越偏，其实不然，因为如果考虑绝对位置的话会使题目复杂化，所以我们不妨从相对位置下手，会起到事半功倍的效果</p> 
<p>实现代码的话也没什么难度，需要用到的数论知识就是关于逆元的求法了，因为组合数涉及到了取模以及除法，而给出的模数是一个质数，所以直接费马小定理求逆元然后乱搞就好了</p> 
<p>代码：</p> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;string&gt;
#include&lt;ctime&gt;
#include&lt;cmath&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;stack&gt;
#include&lt;climits&gt;
#include&lt;queue&gt;
#include&lt;map&gt;
#include&lt;set&gt;
#include&lt;sstream&gt;
#include&lt;unordered_map&gt;
using namespace std;
       
typedef long long LL;
      
typedef unsigned long long ull;
       
const int inf=0x3f3f3f3f;
  
const int N=110;

const int mod=998244353;

LL q_pow(LL a,LL b)
{
	if(b&lt;0)
		return 0;
	LL ans=1;
	while(b)
	{
		if(b&amp;1)
			ans=ans*a%mod;
		a=a*a%mod;
		b&gt;&gt;=1;
	}
	return ans;
}

LL C(int n,int m)
{
	LL ans1=1;//分子 
	LL ans2=1;//分母 
	for(int i=0;i&lt;m;i++)
	{
		ans1=ans1*(n-i)%mod;
		ans2=ans2*(i+1)%mod;
	}
	ans2=q_pow(ans2,mod-2);
	return ans1*ans2%mod;
}
//C(m,n-1)*(n-2)*pow(2,n-3);
int main()
{
#ifndef ONLINE_JUDGE
//  freopen("input.txt","r",stdin);
//  freopen("output.txt","w",stdout);
#endif
//  ios::sync_with_stdio(false);
	int n,m;
	scanf("%d%d",&amp;n,&amp;m);
	printf("%lld\n",C(m,n-1)*(n-2)%mod*q_pow(2,n-3)%mod);














    return 0;
}
</code></pre> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5e8be57b4d9408fbad7e5a3aa1ba0fb3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Latex参考文献引用顺序排序</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b83ffa7d15cbfe5c7377cf2627e54007/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Codeforces 1312 D. Count the Arrays (组合数学)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>