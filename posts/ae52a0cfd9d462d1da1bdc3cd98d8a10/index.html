<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>记录一次关于关闭DHCP服务器没网的修复过程 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="记录一次关于关闭DHCP服务器没网的修复过程" />
<meta property="og:description" content="发生这件事的原因： 家里申请了动态公网IP 想使用家里的Linux 虚拟机做一个远程服务器。于是就开始研究起来了内外网互相映射 然后不小心在配置映射的过程当中关闭了网关以及路由器的DHCP服务 。然后就导致全屋断网。 DHCP 服务是干嘛的。 它的主要作用就是动态分配以及管理IP地址。 可以不让人去手动配置。免去很多麻烦。网管和路由器都是默认开启DHCP服务
事件分析 关闭了网关和路由器的DHCP服务为什么会导致全屋断网。
一开始路由器就没有配置固定的IP 所以 ，关闭网关之后，就没有去给路由器分配IP ，路由器自动使用IPV6 的IP 地址
路由器又没有自动给电脑分配IP 电脑也自动使用了IPV6的 IP 地址 。这个过程是可以通过ipconfig去发现的。
修复思路。 使用笔记本电脑。直接网线（因为网关关闭了无线）连接到天翼网关。
笔记本电脑IP 进行配置。
打开控制面板进入到网络和共享中心
先去掉IPV6前面的勾 双击IPV4
修改成以上地址
然后确定
打开浏览器 输入192.168.1.1进入网关设置。
这一步得进入到超级管理面板。
打开DHCP服务 。
重启网关
这时后网关就修复好了。路由器已经有了IP地址了
路由器设置。 重复以上步骤
不过就是把ipv4地址从 192.168.1.111 改成了 192.168.0.111 网关改成了 192.168.0.1
这时候电脑就已经和外网通了。
但是其它的电子设备。因为没有分配 所以还不能上网。简单其间 。打开路由器的DHCP服务 。让其自动分配IP地址" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/ae52a0cfd9d462d1da1bdc3cd98d8a10/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-09T22:51:33+08:00" />
<meta property="article:modified_time" content="2023-03-09T22:51:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">记录一次关于关闭DHCP服务器没网的修复过程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="_0"></a>发生这件事的原因：</h4> 
<pre><code>家里申请了动态公网IP 想使用家里的Linux 虚拟机做一个远程服务器。于是就开始研究起来了内外网互相映射
然后不小心在配置映射的过程当中关闭了网关以及路由器的DHCP服务 。然后就导致全屋断网。
</code></pre> 
<h4><a id="DHCP__3"></a>DHCP 服务是干嘛的。</h4> 
<p>它的主要作用就是动态分配以及管理IP地址。 可以不让人去手动配置。免去很多麻烦。网管和路由器都是默认开启DHCP服务</p> 
<h4><a id="_5"></a>事件分析</h4> 
<p>关闭了网关和路由器的DHCP服务为什么会导致全屋断网。<br> 一开始路由器就没有配置固定的IP 所以 ，关闭网关之后，就没有去给路由器分配IP ，路由器自动使用IPV6 的IP 地址<br> 路由器又没有自动给电脑分配IP 电脑也自动使用了IPV6的 IP 地址 。这个过程是可以通过ipconfig去发现的。</p> 
<h4><a id="_9"></a>修复思路。</h4> 
<p>使用笔记本电脑。直接网线（因为网关关闭了无线）连接到天翼网关。<br> 笔记本电脑IP 进行配置。<br> 打开控制面板进入到网络和共享中心<br> <img src="https://images2.imgbox.com/7f/9b/4AJnY620_o.png" alt="在这里插入图片描述"></p> 
<p>先去掉IPV6前面的勾 双击IPV4<br> <img src="https://images2.imgbox.com/97/26/GyvamRb4_o.png" alt="在这里插入图片描述"><br> 修改成以上地址<br> 然后确定<br> 打开浏览器 输入192.168.1.1进入网关设置。<br> 这一步得进入到超级管理面板。<br> 打开DHCP服务 。<br> 重启网关<br> 这时后网关就修复好了。路由器已经有了IP地址了</p> 
<h5><a id="_24"></a>路由器设置。</h5> 
<p>重复以上步骤<br> 不过就是把ipv4地址从 192.168.1.111 改成了 192.168.0.111 网关改成了 192.168.0.1<br> 这时候电脑就已经和外网通了。<br> 但是其它的电子设备。因为没有分配 所以还不能上网。简单其间 。打开路由器的DHCP服务 。让其自动分配IP地址</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/759c3ab209056b1a8c34b707f2511463/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">CompletableFuture中的CompletionException异常真是坑到我了！</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b05c4ebae7b585145f09fd4315894427/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Flutter热点问题修复</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>