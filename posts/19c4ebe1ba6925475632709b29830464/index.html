<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux第63步_为新创建的虚拟机添加必要的目录和安装支持linux系统移植的软件 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux第63步_为新创建的虚拟机添加必要的目录和安装支持linux系统移植的软件" />
<meta property="og:description" content="1、创建必要的目录
输入密码“123456”，登录虚拟机
这个“zgq”，是用户名，也是下面用到的的“zgq”目录。
1)、创建“/home/zgq/linux/”目录
打开终端，进入“/home/zgq/”目录
输入“mkdir linux回车”，创建“/home/zgq/linux/”目录
输入“ls回车”，列举“/home/zgq/”目录的所有文件和文件夹
创建好“/home/zgq/linux/”目录后，目录见下图：
2)、创建“/home/zgq/linux/”的子目录
输入“cd /home/zgq/linux/回车”,切换到“/home/zgq/linux/”目录
输入“mkdir atk-mp1回车”，创建“/home/zgq/linux/busybox/atk-mp1/”目录
输入“mkdir busybox回车”，创建“/home/zgq/linux/busybox/”目录
输入“mkdir buildroot回车”，创建“/home/zgq/linux/buildroot/”目录
输入“mkdir tftpboot回车”，创建“/home/zgq/linux/tftpboot/”目录
输入“chmod 777 tftpboot/回车”，给tftpboot赋可执行权限，非常重要；
输入“mkdir nfs回车”，创建“nfs”目录
输入“mkdir rootfs回车”，创建“/home/zgq/linux/rootfs”目录 输入“mkdir tool回车”，创建“/home/zgq/linux/tool”目录，用于存放各种安装工具
如下：
code_1.50.1-1602600906_amd64.deb
gcc-arm-9.2-2019.12-x86_64-arm-none-linux-gnueabihf.tar.xz
stm32wrapper4dbg-master.zip
等等
输入“ls回车”，列举“/home/zgq/linux/”的子目录
创建好“/home/zgq/linux/”目录的子目录后，目录见下图：
3)、创建“/home/zgq/linux/atk-mp1/”的子目录
输入“cd /home/zgq/linux/atk-mp1/回车”进入“/home/zgq/linux/atk-mp1/”
输入“mkdir tfa回车”，创建“/home/zgq/linux/atk-mp1/tfa/”目录
输入“mkdir uboot回车”，创建“/home/zgq/linux/atk-mp1/uboot/”目录
输入“mkdir linux回车”，创建“/home/zgq/linux/atk-mp1/linux/”目录
输入“ls回车”，列举“/home/zgq/linux/atk-mp1/”目录的所有文件和文件夹
创建好“/home/zgq/linux/atk-mp1/”目录的子目录后，目录见下图：
4)、创建“/home/zgq/linux/atk-mp1/linux/bootfs/”目录
输入“cd /home/zgq/linux/atk-mp1/linux/回车”，
进入“/home/zgq/linux/atk-mp1/linux/”
输入“mkdir bootfs回车”，创建“/home/zgq/linux/atk-mp1/linux/bootfs”目录，用来存放新生成的“ uImage ” 和“ stm32mp157d-atk.dtb ”
创建好“/home/zgq/linux/atk-mp1/linux/bootfs/”目录后，目录见下图：
5)、创建“/home/zgq/linux/nfs/rootfs/”目录
输入“cd /home/zgq/linux/nfs/回车”，切换到“/home/zgq/linux/nfs/”目录
输入“mkdir rootfs回车”，创建“/home/zgq/linux/nfs/rootfs/”目录用于存放根文件系统
输入“ls回车”，列出“/home/zgq/linux/nfs/”目录下的文件和文件夹
创建好“/home/zgq/linux/nfs/”目录的子目录后，目录见下图：
6)、创建“/usr/local/arm”目录
输入“cd /usr/local/回车” ，切换到“/usr/local/”目录" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/19c4ebe1ba6925475632709b29830464/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-23T12:09:39+08:00" />
<meta property="article:modified_time" content="2024-02-23T12:09:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux第63步_为新创建的虚拟机添加必要的目录和安装支持linux系统移植的软件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:.0001pt;text-align:justify;">1、创建必要的目录</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="290" src="https://images2.imgbox.com/90/36/ogHl1XhN_o.png" width="451"></p> 
<p style="margin-left:.0001pt;text-align:justify;">输入密码“<span style="color:#fe2c24;">123456</span>”，登录虚拟机</p> 
<p style="margin-left:.0001pt;text-align:justify;">这个“<span style="color:#fe2c24;">zgq</span>”，是用户名，也是<span style="color:#fe2c24;">下面用到的的“zgq”目录</span>。</p> 
<p style="margin-left:.0001pt;text-align:justify;">1)、创建“<span style="color:#00b050;">/home/zgq/linux/</span>”目录</p> 
<p style="margin-left:.0001pt;text-align:justify;">打开终端，进入“<span style="color:#00b050;">/home/zgq/</span>”目录</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">mkdir linux回车</span>”，创建“<span style="color:#00b050;">/home/zgq/linux/</span>”目录</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">ls回车</span>”，列举“<span style="color:#00b050;">/home/zgq/</span>”目录的所有文件和文件夹</p> 
<p style="margin-left:.0001pt;text-align:justify;">创建好<span style="color:#0070c0;">“</span><span style="color:#0070c0;">/home/zgq/linux/</span><span style="color:#0070c0;">”</span>目录后，目录见下图：</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="160" src="https://images2.imgbox.com/1e/7b/buVfpXup_o.png" width="831"></p> 
<p style="margin-left:.0001pt;text-align:justify;">2)、创建“<span style="color:#00b050;">/home/zgq/linux/</span>”的子目录</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">cd /home/zgq/linux/回车</span>”,切换到“<span style="color:#00b050;">/home/zgq/linux/</span>”目录</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">mkdir </span><span style="color:#ff0000;">atk-mp1回车</span>”，创建“<span style="color:#00b050;">/home/zgq/linux/busybox/atk-mp1/</span>”目录</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">mkdir </span><span style="color:#ff0000;">busybox回车</span>”，创建“<span style="color:#00b050;">/home/zgq/linux/busybox/</span>”目录</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">mkdir buildroot回车</span>”，创建“<span style="color:#00b050;">/home/zgq/linux/buildroot/</span>”目录</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">mkdir tftpboot回车</span>”，创建“<span style="color:#00b050;">/home/zgq/linux/</span><span style="color:#00b050;">tftpboot/</span>”目录</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">chmod 777 tftpboot/回车</span>”，<span style="color:#00b050;">给tftpboot赋可执行权限，非常重要</span>；</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">mkdir nfs回车</span></span><span style="background-color:#ffffff;">”，创建“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">nfs</span></span><span style="background-color:#ffffff;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">mkdir rootfs回车</span></span><span style="background-color:#ffffff;">”，创建“</span><span style="color:#00b050;">/home/zgq/linux/</span><span style="background-color:#ffffff;"><span style="color:#00b050;">rootfs</span></span><span style="background-color:#ffffff;">”目录</span> </p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">mkdir tool回车</span></span><span style="background-color:#ffffff;">”，创建“</span><span style="color:#00b050;">/home/zgq/linux/</span><span style="background-color:#ffffff;"><span style="color:#00b050;">tool</span></span><span style="background-color:#ffffff;">”目录，</span><span style="background-color:#ffffff;"><span style="color:#000000;">用于存放各种安装工具</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">如下：</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#00b050;">code_1.50.1-1602600906_amd64.deb</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#00b050;">gcc-arm-9.2-2019.12-x86_64-arm-none-linux-gnueabihf.tar.xz</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#00b050;">stm32wrapper4dbg-master.zip</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">等等</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">ls回车</span>”，列举“<span style="color:#00b050;">/home/zgq/linux/</span>”的子目录</p> 
<p style="margin-left:.0001pt;text-align:justify;">创建好<span style="color:#0070c0;">“</span><span style="color:#0070c0;">/home/zgq/linux/</span><span style="color:#0070c0;">”</span><span style="color:#0070c0;">目录的子目录</span>后，目录见下图：</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="162" src="https://images2.imgbox.com/e4/d6/gyEMccQv_o.png" width="831"></p> 
<p style="margin-left:.0001pt;text-align:justify;">3)、创建“<span style="color:#00b050;">/home/zgq/linux/</span><span style="color:#00b050;">atk-mp1</span><span style="color:#00b050;">/</span>”的子目录</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="background-color:#ffffff;"><span style="color:#ff0000;">cd /</span></span><span style="color:#ff0000;">home/zgq/linux/</span><span style="color:#ff0000;">atk-mp1</span><span style="color:#ff0000;">/</span>回车”进入“<span style="color:#00b050;">/home/zgq/linux/</span><span style="color:#00b050;">atk-mp1</span><span style="color:#00b050;">/</span>”</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">mkdir </span><span style="color:#ff0000;">tfa回车</span>”，创建“<span style="color:#00b050;">/home/zgq/linux/</span><span style="color:#00b050;">atk-mp1</span><span style="color:#00b050;">/tfa/</span>”目录</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">mkdir </span><span style="color:#ff0000;">uboot回车</span>”，创建“<span style="color:#00b050;">/home/zgq/linux/</span><span style="color:#00b050;">atk-mp1</span><span style="color:#00b050;">/uboot/</span>”目录</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">mkdir linux回车</span>”，创建“<span style="color:#00b050;">/home/zgq/linux/</span><span style="color:#00b050;">atk-mp1</span><span style="color:#00b050;">/linux/</span>”目录</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#00b050;">ls回车</span>”，列举“<span style="color:#00b050;">/home/zgq/linux/</span><span style="color:#00b050;">atk-mp1</span><span style="color:#00b050;">/</span>”目录的所有文件和文件夹</p> 
<p style="margin-left:.0001pt;text-align:justify;">创建好<span style="color:#0070c0;">“</span><span style="color:#0070c0;">/home/zgq/linux/</span><span style="color:#0070c0;">atk-mp1</span><span style="color:#0070c0;">/</span><span style="color:#0070c0;">”</span><span style="color:#0070c0;">目录的子目录</span>后，目录见下图：</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="116" src="https://images2.imgbox.com/ce/e9/97GWyms7_o.png" width="558"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">4)、创建“<span style="color:#00b050;">/home/zgq/linux/</span><span style="color:#00b050;">atk-mp1</span><span style="color:#00b050;">/linux/bootfs/</span>”目录</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="background-color:#ffffff;"><span style="color:#ff0000;">cd </span></span><span style="color:#ff0000;">/home/zgq/linux/</span><span style="color:#ff0000;">atk-mp1</span><span style="color:#ff0000;">/linux/回车</span>”，</p> 
<p style="margin-left:.0001pt;text-align:justify;">进入“<span style="color:#00b050;">/home/zgq/linux/</span><span style="color:#00b050;">atk-mp1</span><span style="color:#00b050;">/linux/</span>”</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">mkdir </span><span style="color:#ff0000;">bootfs回车</span>”，创建“<span style="color:#00b050;">/home/zgq/linux/</span><span style="color:#00b050;">atk-mp1</span><span style="color:#00b050;">/linux/bootfs</span>”目录，用来存放新生成的“ uImage ” 和“ stm32mp157d-atk.dtb ”</p> 
<p style="margin-left:.0001pt;text-align:justify;">创建好<span style="color:#0070c0;">“</span><span style="color:#00b050;">/home/zgq/linux/</span><span style="color:#00b050;">atk-mp1</span><span style="color:#00b050;">/linux/bootfs/</span><span style="color:#0070c0;">”</span><span style="color:#0070c0;">目录</span>后，目录见下图：</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="165" src="https://images2.imgbox.com/ec/15/98Qqh7g5_o.png" width="831"></p> 
<p style="margin-left:.0001pt;text-align:justify;">5)、创建“<span style="background-color:#ffffff;"><span style="color:#00b050;">/</span></span><span style="color:#00b050;">home/zgq/linux/nfs/</span><span style="background-color:#ffffff;"><span style="color:#00b050;">rootfs/</span></span>”目录</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">cd /</span></span><span style="color:#ff0000;">home/zgq/linux/nfs/</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”，切换到“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">/</span></span><span style="color:#00b050;">home/zgq/linux/nfs/</span><span style="background-color:#ffffff;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">mkdir rootfs回车</span></span><span style="background-color:#ffffff;">”，创建“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">/</span></span><span style="color:#00b050;">home/zgq/linux/nfs/</span><span style="background-color:#ffffff;"><span style="color:#00b050;">rootfs/</span></span><span style="background-color:#ffffff;">”目录用于</span>存放根文件系统</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">ls回车</span></span><span style="background-color:#ffffff;">”，列出“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">/</span></span><span style="color:#00b050;">home/zgq/linux/nfs/</span><span style="background-color:#ffffff;">”目录下的文件和文件夹</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">创建好<span style="color:#0070c0;">“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">/</span></span><span style="color:#00b050;">home/zgq/linux/nfs/</span><span style="color:#0070c0;">”</span><span style="color:#0070c0;">目录的子目录</span>后，目录见下图：</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="166" src="https://images2.imgbox.com/72/3a/Z095aram_o.png" width="831"></p> 
<p style="margin-left:.0001pt;text-align:justify;">6)、创建“<span style="background-color:#ffffff;"><span style="color:#00b050;">/usr/local/arm</span></span>”目录</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">cd /usr/local/</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”</span><span style="background-color:#ffffff;"> ，切换到“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">/usr/local/</span></span><span style="background-color:#ffffff;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">ls arm回车</span></span><span style="background-color:#ffffff;">”，列出“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">arm</span></span><span style="background-color:#ffffff;">”目录，报告“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">ls: 无法访问'arm '</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo mkdir arm</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”，</span>创建“<span style="background-color:#ffffff;"><span style="color:#00b050;">/usr/local/arm</span></span>”目录</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入密码“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">123456回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">ls arm回车</span></span><span style="background-color:#ffffff;">”，列出“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">arm</span></span><span style="background-color:#ffffff;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0070c0;">“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">/usr/local/</span></span><span style="color:#0070c0;">”</span><span style="color:#0070c0;">的子目录</span>见下图：</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="164" src="https://images2.imgbox.com/9b/17/6qZ71YmT_o.png" width="831"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">7)、创建“<span style="background-color:#ffffff;"><span style="color:#00b050;">/mnt/bootfs/</span></span>”和<span style="background-color:#ffffff;">“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">/mnt/</span></span><span style="background-color:#ffffff;"><span style="color:#00b050;"> r</span></span><span style="background-color:#ffffff;"><span style="color:#00b050;">ootfs/</span></span><span style="background-color:#ffffff;">”</span>目录</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">cd /mnt/</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">ls </span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">bootfs</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”，列出“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">bootfs</span></span><span style="background-color:#ffffff;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">若报告“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">ls: 无法访问'</span></span><span style="background-color:#ffffff;"><span style="color:#00b050;">bootfs</span></span><span style="background-color:#ffffff;"><span style="color:#00b050;">'</span></span><span style="background-color:#ffffff;">”，则输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo mkdir </span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/mnt/bootfs</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”，创建“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">/mnt/bootfs/</span></span><span style="background-color:#ffffff;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">若提示输入密码，则输入密码“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">123456回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">ls r</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">ootfs</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”，列出“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">r</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">ootfs</span></span><span style="background-color:#ffffff;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">若报告“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">ls: 无法访问'r</span></span><span style="background-color:#ffffff;"><span style="color:#00b050;">ootfs</span></span><span style="background-color:#ffffff;"><span style="color:#00b050;">'</span></span><span style="background-color:#ffffff;">”，输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo mkdir r</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">ootfs</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”，创建“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">/mnt/</span></span><span style="background-color:#ffffff;"><span style="color:#00b050;"> r</span></span><span style="background-color:#ffffff;"><span style="color:#00b050;">ootfs/</span></span><span style="background-color:#ffffff;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">若提示输入密码，则输入密码“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">123456回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">ls回车</span></span><span style="background-color:#ffffff;">”，列出“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/mnt</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/</span></span><span style="background-color:#ffffff;">”目录下的文件和文件夹</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0070c0;">“</span><span style="background-color:#ffffff;"><span style="color:#0070c0;">/mnt</span></span><span style="background-color:#ffffff;"><span style="color:#0070c0;">/</span></span><span style="color:#0070c0;">”</span><span style="color:#0070c0;">的子目录</span>见下图：</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="160" src="https://images2.imgbox.com/d2/57/gVFEd2fR_o.png" width="831"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">2、了解</span><span style="color:#000000;">“</span><span style="color:#000000;">tftpboot</span><span style="color:#000000;">”</span><span style="color:#000000;">和“bootfs”目录的作用：</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0070c0;">1)、“</span><span style="color:#0070c0;">/home/zgq/linux/</span><span style="color:#0070c0;">tftpboot/”目录</span><span style="color:#0070c0;">的用法：</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">用于tftp下载linux内核文件</span><span style="background-color:#ffffff;"><span style="color:#7030a0;">“uImage”和“</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">stm32mp157d</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">-atk.dtb”</span></span><span style="color:#7030a0;">。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">先执行“</span><span style="color:#7030a0;">sudo cp uImage  stm32mp157d-atk.dtb </span><span style="color:#7030a0;">/home/zgq/linux/</span><span style="color:#7030a0;">tftpboot/</span><span style="color:#7030a0;">”</span><span style="background-color:#ffffff;"><span style="color:#7030a0;">，</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">接着赋可执行权限“chmod 777 </span><span style="background-color:#ffffff;"><span style="color:#7030a0;">uImage</span></span><span style="color:#7030a0;">”，“chmod 777 </span><span style="color:#7030a0;">stm32mp157d-atk.dtb</span><span style="color:#7030a0;">”</span><span style="background-color:#ffffff;"><span style="color:#7030a0;">，最后通过网络将“uImage”和“</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">stm32mp157d</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">-atk.dtb”下载到DDR中，就可以运行linux内核了</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0070c0;">2)、</span><span style="color:#0070c0;">“</span><span style="color:#0070c0;">/home/zgq/linux/</span><span style="color:#0070c0;">atk-mp1</span><span style="color:#0070c0;">/linux/bootfs</span><span style="color:#0070c0;">”</span><span style="color:#0070c0;">的用法：</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#00b050;">这个目录需要</span><span style="background-color:#ffffff;"><span style="color:#00b050;">“/mnt/bootfs”</span></span><span style="background-color:#ffffff;"><span style="color:#00b050;">协助才可以生成</span></span><span style="color:#00b050;">“bootfs.ext4”；</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">用于生成烧录EMMC的“bootfs.ext4”文件。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">cd </span></span><span style="color:#ff0000;">/home/zgq/linux/atk-mp1/linux/bootfs/</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”，切换到“</span><span style="color:#00b050;">/home/zgq/linux/atk-mp1/linux/bootfs/</span><span style="background-color:#ffffff;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">ls  -l回车</span></span><span style="background-color:#ffffff;">”，列出“</span><span style="color:#ff0000;">bootfs</span><span style="background-color:#ffffff;">”目录下的文件和文件夹</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">计算</span><span style="background-color:#ffffff;"><span style="color:#7030a0;">“uImage”和“</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">stm32mp157d</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">-atk.dtb”</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">的容量</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">执行</span><span style="background-color:#ffffff;">“</span><span style="color:#ff0000;">dd if=/dev/zero of</span><strong><span style="color:#ff0000;">=</span></strong><span style="color:#ff0000;">bootfs</span><strong><span style="color:#ff0000;">.</span></strong><span style="color:#ff0000;">ext4 bs</span><strong><span style="color:#ff0000;">=</span></strong><span style="color:#ff0000;">1M count</span><strong><span style="color:#ff0000;">=</span></strong><span style="color:#ff0000;">10</span><span style="background-color:#ffffff;">”</span><span style="background-color:#ffffff;">创建“</span><span style="color:#ff0000;">bootfs</span><strong><span style="color:#ff0000;">.</span></strong><span style="color:#ff0000;">ext4</span><span style="background-color:#ffffff;">”磁盘，容量为10M</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">执行</span><span style="background-color:#ffffff;">“</span><span style="color:#ff0000;">mkfs</span><strong><span style="color:#ff0000;">.</span></strong><span style="color:#ff0000;">ext4 </span><strong><span style="color:#ff0000;">-</span></strong><span style="color:#ff0000;">L bootfs bootfs</span><strong><span style="color:#ff0000;">.</span></strong><span style="color:#ff0000;">ext4</span><span style="background-color:#ffffff;">”</span><span style="background-color:#ffffff;">格式化“</span><span style="color:#ff0000;">bootfs</span><strong><span style="color:#ff0000;">.</span></strong><span style="color:#ff0000;">ext4</span><span style="background-color:#ffffff;">”磁盘并将磁盘的卷标设置为“</span><span style="color:#ff0000;">bootfs</span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#7030a0;">sudo mount</span><span style="color:#7030a0;"> /home/zgq/linux/</span><span style="color:#7030a0;">atk-mp1</span><span style="color:#7030a0;">/linux/bootfs/bootfs.ext4 /mnt/bootfs</span><span style="color:#7030a0;">/</span><span style="color:#7030a0;">”挂载</span><span style="color:#7030a0;">“</span><span style="color:#7030a0;">bootfs.ext4</span><span style="color:#7030a0;">”</span><span style="color:#7030a0;">磁盘；</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#7030a0;">sudo cp uImage  stm32mp157d-atk.dtb /mnt/bootfs/</span><span style="color:#7030a0;">”</span><span style="color:#7030a0;">拷贝文件</span><span style="background-color:#ffffff;"><span style="color:#7030a0;">“uImage”和“</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">stm32mp157d</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">-atk.dtb”</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">到“</span></span><span style="color:#7030a0;">/mnt/bootfs/</span><span style="background-color:#ffffff;"><span style="color:#7030a0;">”目录；</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#7030a0;">sudo umount /mnt/bootfs</span><span style="color:#7030a0;">/</span><span style="color:#7030a0;">”卸载</span><span style="color:#7030a0;">“</span><span style="color:#7030a0;">bootfs.ext4</span><span style="color:#7030a0;">”</span><span style="color:#7030a0;">磁盘；</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">在</span><span style="color:#7030a0;">“</span><span style="color:#00b050;">/home/zgq/linux/</span><span style="color:#00b050;">atk-mp1</span><span style="color:#00b050;">/linux/bootfs/</span><span style="color:#7030a0;">”</span><span style="color:#7030a0;">目录下生成新的linux内核文件“bootfs.ext4”，它可用于烧录到EMMC中</span>。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">由于</span><span style="background-color:#ffffff;"><span style="color:#000000;">“/mnt/bootfs”</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">和</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">“/mnt/</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">r</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">ootfs”</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">只是起到过度作用，就不再详细介绍了。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><span style="background-color:#ffffff;"><span style="color:#000000;">3、了解“</span></span></strong><span style="background-color:#ffffff;"><span style="color:#000000;">r</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">ootfs</span></span><strong><span style="background-color:#ffffff;"><span style="color:#000000;">”的作用</span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#0070c0;">“/</span></span><span style="color:#0070c0;">home/zgq/linux/nfs/</span><span style="background-color:#ffffff;"><span style="color:#0070c0;">rootfs/”</span></span><span style="color:#0070c0;">的用法：</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0070c0;">它是根文件系统存放的路径，通过nfs下载根文件系统文件。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0070c0;">1)、若是使用“buildroot”构建根文件系统，则执行步骤如下：</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“cd </span><span style="color:#7030a0;">/home/zgq/linux/buildroot/buildroot-2020.02.6/</span><span style="color:#7030a0;">”切换目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">输入“make show-targets”查看buildroot配置的目标软件包</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">输入“</span><span style="color:#7030a0;">make busybox</span><span style="color:#7030a0;">”单独编译“</span><span style="color:#0070c0;">busybox</span><span style="color:#7030a0;">”，记住“</span><span style="color:#7030a0;">make busybox-menuconfig</span><span style="color:#7030a0;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">输入“</span><span style="color:#7030a0;">make</span><span style="color:#7030a0;">”执行编译</span><span style="color:#0070c0;">“buildroot”</span><span style="color:#7030a0;">，记住“</span><span style="color:#7030a0;">make menuconfig</span><span style="color:#7030a0;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#ff0000;">cd </span><span style="color:#ff0000;">/home/zgq/linux/nfs/rootfs</span><span style="color:#7030a0;">”</span><span style="color:#7030a0;">切换目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#ff0000;">sudo rm * -rf</span><span style="color:#7030a0;">”</span><span style="color:#7030a0;">删除“</span><span style="color:#7030a0;">/home/zgq/linux/nfs/rootfs</span><span style="color:#7030a0;">”目录下的所有文件；</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#ff0000;">cd </span><span style="color:#ff0000;">/home/zgq/linux/buildroot/buildroot-2020.02.6/output/images</span><span style="color:#7030a0;">”</span><span style="color:#7030a0;">切换目录；</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#00b050;">cp rootfs.tar /home/zgq/linux/nfs/rootfs</span><span style="color:#7030a0;">”拷贝“</span><span style="color:#7030a0;">rootfs.tar</span><span style="color:#7030a0;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#ff0000;">cd </span><span style="color:#ff0000;">/home/zgq/linux/nfs/rootfs</span><span style="color:#7030a0;">”</span><span style="color:#7030a0;">切换目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#ff0000;">tar -vxf rootfs.tar</span><span style="color:#7030a0;">”解压“</span><span style="color:#7030a0;">/home/zgq/linux/nfs/rootfs/rootfs.tar</span><span style="color:#7030a0;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#ff0000;">rm rootfs.tar</span><span style="color:#7030a0;">”删除“</span><span style="color:#7030a0;">/home/zgq/linux/nfs/rootfs/rootfs.tar</span><span style="color:#7030a0;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">输入“</span><span style="color:#ff0000;">ls</span><span style="color:#7030a0;">”查看“</span><span style="color:#ff0000;">/home/zgq/linux/nfs/rootfs</span><span style="color:#ff0000;">/</span><span style="color:#7030a0;">”目录，这就是由buildroot生成的可供nfs下载的根文件系统。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0070c0;">2)、若是使用“busybox”构建根文件系统，则执行步骤如下：</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“cd </span><span style="color:#7030a0;">/home/zgq/linux/busybox/busybox-1.32.0/</span><span style="color:#7030a0;">”；</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#7030a0;">make</span><span style="color:#7030a0;">”编译</span><span style="color:#7030a0;">“</span><span style="color:#7030a0;">busybox</span><span style="color:#7030a0;">”</span><span style="color:#7030a0;">；</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“make install CONFIG_PREFIX=/home/zgq/linux/nfs/rootfs/”将</span><span style="color:#7030a0;">busybox 安装到“/home/zgq/linux/nfs/rootfs/”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#ff0000;">cd </span><span style="color:#ff0000;">/home/zgq/linux/nfs/rootfs/</span><span style="color:#7030a0;">”切换目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#7030a0;">mkdir lib</span><span style="color:#7030a0;">”创建“</span><span style="color:#ff0000;">/home/zgq/linux/nfs/rootfs/</span><span style="color:#ff0000;">lib/</span><span style="color:#7030a0;">”目录；</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#ff0000;">cd /usr/local/arm/gcc-arm-9.2-2019.12-x86_64-arm-none-linux-gnueabihf/arm-none-linux-gnueabihf/libc/lib/</span><span style="color:#7030a0;">”进行目录切换</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#7030a0;">cp *so* /home/zgq/linux/nfs/rootfs/lib/ -d</span><span style="color:#7030a0;">”将所有的“</span><span style="color:#7030a0;">*so*</span><span style="color:#7030a0;">”拷贝到“</span><span style="color:#7030a0;">/home/zgq/linux/nfs/rootfs/lib/</span><span style="color:#7030a0;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#ff0000;">cd </span><span style="color:#ff0000;">/home/zgq/linux/nfs/rootfs/lib/</span><span style="color:#7030a0;">”进行目录切换</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“ls </span><span style="color:#7030a0;">–</span><span style="color:#7030a0;">l </span><span style="color:#7030a0;">ld-linux-armhf.so.3</span><span style="color:#7030a0;">”查看发现“</span><span style="color:#7030a0;">ld-linux-armhf.so.3</span><span style="color:#7030a0;"> 是快捷方式”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#7030a0;">rm ld-linux-armhf.so.3</span><span style="color:#7030a0;">”删除“</span><span style="color:#7030a0;">ld-linux-armhf.so.3</span><span style="color:#7030a0;">快捷方式”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#ff0000;">cd /usr/local/arm/gcc-arm-9.2-2019.12-x86_64-arm-none-linux-gnueabihf/arm-none-linux-gnueabihf/libc/lib/</span><span style="color:#7030a0;">”进行目录切换</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#7030a0;">cp linux-armhf.so.3 /home/zgq/linux/nfs/rootfs/lib/</span><span style="color:#7030a0;">”拷贝文件</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#ff0000;">执行“</span><span style="color:#ff0000;">/usr/local/arm/gcc-arm-9.2-2019.12-x86_64-arm-none-linux-gnueabihf/arm-none-linux-gnueabihf/lib/</span><span style="color:#7030a0;">”进行目录切换</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行</span><span style="color:#7030a0;">“cp *so* *.a /home/zgq/linux/nfs/rootfs/lib/ -d”</span><span style="color:#7030a0;"> 将所有的“</span><span style="color:#7030a0;">*so*</span><span style="color:#7030a0;">”和“</span><span style="color:#7030a0;">*.a</span><span style="color:#7030a0;">”拷贝到“</span><span style="color:#7030a0;">/home/zgq/linux/nfs/rootfs/lib/</span><span style="color:#7030a0;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#ff0000;">cd /home/zgq/linux/nfs/rootfs/usr</span><span style="color:#7030a0;">”进行目录切换</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#7030a0;">mkdir lib</span><span style="color:#7030a0;">”创建“</span><span style="color:#ff0000;">/home/zgq/linux/nfs/rootfs/usr</span><span style="color:#ff0000;">/usr</span><span style="color:#7030a0;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“cd </span><span style="color:#ff0000;">/usr/local/arm/gcc-arm-9.2-2019.12-x86_64-arm-none-linux-gnueabihf/</span><span style="color:#ff0000;">arm-none-linux-gnueabihf/libc/usr/lib</span><span style="color:#7030a0;">”进行目录切换</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#7030a0;">cp *so* *.a /home/zgq/linux/nfs/rootfs/usr/lib/</span> <span style="color:#7030a0;">-d</span><span style="color:#7030a0;">” 将所有的“</span><span style="color:#7030a0;">*so*</span><span style="color:#7030a0;">”和“</span><span style="color:#7030a0;">*.a</span><span style="color:#7030a0;">”拷贝到“</span><span style="color:#7030a0;">/home/zgq/linux/nfs/rootfs/lib/</span><span style="color:#7030a0;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#ff0000;">cd </span><span style="color:#ff0000;">/home/zgq/linux/nfs/rootfs</span><span style="color:#ff0000;">/</span><span style="color:#7030a0;">”进行目录切换</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“du ./lib ./usr/lib/ -sh 回车”，查看</span><span style="color:#ff0000;">/home/zgq/linux/nfs/rootfs</span><span style="color:#ff0000;">/</span><span style="color:#7030a0;">lib和</span><span style="color:#ff0000;">/home/zgq/linux/nfs/rootfs</span><span style="color:#ff0000;">/</span><span style="color:#7030a0;">usr/lib/这两个目录的大小，发现lib为158M，/usr/lib/为89M</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#7030a0;">mkdir dev proc mnt sys tmp etc root</span><span style="color:#7030a0;">”一次性创建多个目录；</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">输入“ls”查看“</span><span style="color:#ff0000;">/home/zgq/linux/nfs/rootfs</span><span style="color:#ff0000;">/</span><span style="color:#7030a0;">”目录，这就是由busybox生成的可供nfs下载的根文件系统。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#0070c0;">“</span></span><span style="color:#0070c0;">/home/zgq/linux/</span><span style="background-color:#ffffff;"><span style="color:#0070c0;">rootfs”</span></span><span style="color:#0070c0;">的用法：</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">条件：</span><span style="color:#00b050;">可供nfs下载的根文件系统在“</span><span style="color:#00b050;">/home/zgq/linux/nfs/rootfs</span><span style="color:#00b050;">/”目录中，</span><span style="color:#7030a0;">因此生成可烧录的</span><span style="background-color:#ffffff;"><span style="color:#7030a0;">“rootfs.ext4”需要</span></span><span style="color:#7030a0;">“</span><span style="color:#7030a0;">/home/zgq/linux/nfs/rootfs</span><span style="color:#7030a0;">/”目录中的文件。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#7030a0;">执行“</span><span style="color:#ff0000;">cd /home/zgq/linux/</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">rootfs/</span></span><span style="color:#7030a0;">”进行目录切换</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#7030a0;">执行“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">dd if=/dev/zero of=rootfs.ext4 bs=1M count=1024</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">”创建“rootfs.ext4”并分配1G个字节空间</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#7030a0;">执行“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">mkfs.ext4 -L rootfs rootfs.ext4</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">”格式化“rootfs.ext4”并将卷标设置为</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">“</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">rootfs</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">”</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#7030a0;">执行“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo mount rootfs.ext4 /mnt/rootfs/</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">”将“rootfs.ext4”挂载到“/mnt/rootfs/”目录下</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#7030a0;">执行“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">cd /home/zgq/linux/nfs/rootfs/</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">”进行目录切换</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#7030a0;">执行“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo cp * /mnt/rootfs/ -drf</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">”将“/home/zgq/linux/nfs/rootfs/”目录下的所有文件拷贝到“/mnt/rootfs/”</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#7030a0;">执行“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">cd </span></span><span style="color:#ff0000;">/home/zgq/linux/</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">rootfs</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">”进行目录切换</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#7030a0;">执行“sudo umount /mnt/rootfs”卸载掉“/mnt/rootfs”目录下的所有文件</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#7030a0;">输入“ls -l”查看“</span></span><span style="color:#ff0000;">/home/zgq/linux/</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">rootfs</span></span><span style="background-color:#ffffff;"><span style="color:#7030a0;">”目录下是否生成新的“rootfs.ext4”，这个就是要烧录到EMMC中的文件</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">由于</span><span style="background-color:#ffffff;"><span style="color:#000000;">“/mnt/bootfs”</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">和</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">“/mnt/</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">r</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">ootfs”</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">只是起到过度作用，就不再详细介绍了。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><span style="background-color:#ffffff;"><span style="color:#000000;">4、vim编辑器安装</span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">打开终端</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">输入“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo apt-get install vim</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">”</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="355" src="https://images2.imgbox.com/c7/a9/wTOOBDQU_o.png" width="831"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">常用知识介绍：</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">输入“vim XXX回车”打开“XXX”文件后，要想打开行号显示，则按“ESC键”输入“:set number!”，否则输入“</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">:set nonu</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">”关闭行号显示</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">按“ESC键”后再按下“A”,将光标插入到该行的尾部</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">按下</span><span style="background-color:#ffffff;">“</span><span style="background-color:#ffffff;">ESC</span><span style="background-color:#ffffff;">键”，输入“</span><span style="background-color:#ffffff;">:wq</span><span style="background-color:#ffffff;">”</span><span style="background-color:#ffffff;">，保存退出</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">按下</span><span style="background-color:#ffffff;">“</span><span style="background-color:#ffffff;">ESC</span><span style="background-color:#ffffff;">键”，输入“</span><span style="background-color:#ffffff;">:q!</span><span style="background-color:#ffffff;">”</span><span style="background-color:#ffffff;">，不保存退出</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><span style="background-color:#ffffff;">5、</span></strong><strong><span style="background-color:#ffffff;">实现</span></strong><strong><span style="background-color:#ffffff;">Ubuntu和Windows文件互传</span></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">1)、</span></span><strong><span style="background-color:#ffffff;"><span style="color:#000000;">在Ubuntu(乌班图)中安装FTP服务器</span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">在安装前，要检查虚拟机可以上网，否则可能会导致安装失败。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">打开终端</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo apt-get install vsftpd回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入密码“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">123456回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="color:#ff0000;">sudo vi /etc/vsftpd.conf回车</span><span style="background-color:#ffffff;">”，打开“</span>vsftpd.conf”<span style="background-color:#ffffff;"> 文件。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">按下</span><span style="background-color:#ffffff;">“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">ESC</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">键</span></span><span style="background-color:#ffffff;">”，</span><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#984806;">/</span></span><span style="background-color:#ffffff;"><span style="color:#984806;">local_enable=YES</span></span><span style="background-color:#ffffff;"><span style="color:#984806;">回车</span></span><span style="background-color:#ffffff;">”，按下“A键”进入修改模式，修改完后按下</span><span style="background-color:#ffffff;">“</span><span style="background-color:#ffffff;">ESC</span><span style="background-color:#ffffff;">键”。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">将“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">#</span></span><span style="background-color:#ffffff;"><span style="color:#00b050;">local_enable=YES</span></span><span style="background-color:#ffffff;">”修改为“</span><span style="background-color:#ffffff;"><span style="color:#0070c0;">local_enable=YES</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">将“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">#write</span></span><span style="background-color:#ffffff;"><span style="color:#00b050;">_enable=YES</span></span><span style="background-color:#ffffff;">”修改为“</span><span style="background-color:#ffffff;"><span style="color:#0070c0;">write</span></span><span style="background-color:#ffffff;"><span style="color:#0070c0;">_enable=YES</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">按下</span><span style="background-color:#ffffff;">“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">ESC</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">键</span></span><span style="background-color:#ffffff;">”，输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">:wq</span></span><span style="background-color:#ffffff;">”</span><span style="background-color:#ffffff;">，保存退出</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo /etc/init.d/vsftpd restart</span></span><span style="color:#ff0000;">回车</span><span style="background-color:#ffffff;">”，重启</span><span style="background-color:#ffffff;">FTP服务。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo apt-get install net-tools</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">2)、在“w<span style="color:#000000;">indows”中</span><strong><span style="background-color:#ffffff;"><span style="color:#000000;">安装FTP客户端软件</span></span></strong><span style="color:#000000;">“</span><span style="background-color:#ffffff;"><span style="color:#000000;">FileZilla</span></span><span style="color:#000000;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="543" src="https://images2.imgbox.com/9c/4b/BFuFmr6d_o.png" width="831"></p> 
<p style="margin-left:.0001pt;text-align:justify;">注意：<span style="color:#ff0000;">字符集一定要选择“强制UTF-8”,否则上传后文件会有问题</span>。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="543" src="https://images2.imgbox.com/48/73/fLJiankx_o.png" width="831"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><span style="background-color:#ffffff;">6、</span></strong><strong><span style="background-color:#ffffff;">安装</span></strong><strong><span style="background-color:#ffffff;">NFS服务</span></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">1)、</span></span><span style="background-color:#ffffff;">打开终端</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“sudo apt-get install nfs-kernel-server rpcbind回车”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo vi /etc/exports回车</span></span><span style="background-color:#ffffff;">”，</span>打开 nfs配置文件“/etc/exports”</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入密码“<span style="color:#ff0000;">123456回车</span>”</p> 
<p style="margin-left:.0001pt;text-align:justify;">添加内容如下：</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#ff0000;">/home/zgq/linux/nfs *(rw,sync,no_root_squash,no_subtree_check)</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="276" src="https://images2.imgbox.com/48/ce/1cpX1Xhj_o.png" width="681"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">2)、</span></span>按“<span style="color:#ff0000;">ESC键</span>”，输入“<span style="color:#ff0000;">:wq</span>”保存退出</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo /etc/init.d/nfs-kernel-server restart回车</span></span><span style="background-color:#ffffff;">”，</span>重启 NFS服务</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo apt-get install nfs-kernel-server rpcbind回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">3)、修改</span></span>“nfs-kernel-server”文件</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">sudo vi /etc/default/nfs-kernel-server回车</span>”，打开“nfs-kernel-server”文件。</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入密码“<span style="color:#ff0000;">123456回车</span>”</p> 
<p style="margin-left:.0001pt;text-align:justify;">在“nfs-kernel-server”文件的最后面添加内容如下：</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#ff0000;">RPCNFSDOPTS="--nfs-version 2,3,4 --debug --syslog"</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">修改后，见下图：</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="521" src="https://images2.imgbox.com/8a/a7/184wKcW5_o.png" width="752"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">4)、</span></span>按“<span style="color:#ff0000;">ESC键</span>”，输入“<span style="color:#ff0000;">:wq回车</span>”</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">sudo /etc/init.d/nfs-kernel-server restart回车</span>”，重启“nfs-kernel-server”</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><span style="background-color:#ffffff;"><span style="color:#000000;">7、</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#000000;">安装</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#000000;">SSH服务</span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">打开终端</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo apt-get install </span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">openssh-server</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">若询问，则</span><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">Y</span></span><span style="background-color:#ffffff;"><span style="color:#00b050;">回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">若不能下载，则执行“<span style="color:#00b050;">sudo apt-get update</span>回车”，然后再执行“<span style="background-color:#ffffff;"><span style="color:#00b050;">sudo apt-get install </span></span><span style="background-color:#ffffff;"><span style="color:#00b050;">openssh-server</span></span><span style="background-color:#ffffff;">回车</span>”</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="256" src="https://images2.imgbox.com/00/b8/CnWTBqXP_o.png" width="831"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><span style="background-color:#ffffff;"><span style="color:#000000;">8、安装</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#000000;">“</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#000000;">Ubuntu下的C语言编译器GCC</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#000000;">”</span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">1)、在安装前，要检查虚拟机可以上网，否则可能会导致安装失败。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">2)、点击“打开终端(E)”</span> </p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">3</span><span style="background-color:#ffffff;">)、</span><span style="background-color:#ffffff;">输入“sudo apt-get install build</span><span style="background-color:#ffffff;">-essential</span><span style="background-color:#ffffff;">回车”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">4)、</span><span style="background-color:#ffffff;">输入密码“</span><span style="background-color:#ffffff;">123456</span><span style="background-color:#ffffff;">回车”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">5)、</span><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;">y</span><span style="background-color:#ffffff;">回车”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">6)、</span><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">gcc -v</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”，查看</span><span style="background-color:#ffffff;">GCC编译器的版本号码。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><span style="background-color:#ffffff;"><span style="color:#000000;">9、安装</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#000000;">“</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#000000;">交叉编译</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#000000;">工具链”</span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">1)、</span></span><span style="background-color:#ffffff;">将“</span>gcc-arm-9.2-2019.12-x86_64-arm-none-linux-gnueabihf.tar</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">”压缩包，使用</span><span style="background-color:#ffffff;">“</span><span style="background-color:#ffffff;">FileZilla”把拷贝到“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/home/zgq/linux/tool</span></span><span style="background-color:#ffffff;">”目录下。该文件位于“</span>05、开发工具\01、交叉编译器<span style="background-color:#ffffff;">”目录中。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">2)、</span></span><span style="background-color:#ffffff;">打开终端</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">cd /usr/local/arm/</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”</span> </p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#0070c0;">若没有“/usr/local/arm”目录，则</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#0070c0;">输入“</span></span><span style="background-color:#ffffff;"><span style="color:#0070c0;">sudo mkdir /usr/local/arm</span></span><span style="background-color:#ffffff;"><span style="color:#0070c0;">回车”</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#0070c0;">输入密码“123456回车”</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#0070c0;">输入“</span></span><span style="background-color:#ffffff;"><span style="color:#0070c0;">cd /usr/local/</span></span><span style="background-color:#ffffff;"><span style="color:#0070c0;">回车”</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#0070c0;">否则跳过上面</span></span><span style="background-color:#ffffff;">。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">ls回车</span>”，查看“<span style="background-color:#ffffff;"><span style="color:#0070c0;">cd /usr/local/</span></span>”目录下的所有文件和文件夹</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">cd /</span></span><span style="color:#ff0000;">home/zgq/linux/</span><span style="color:#ff0000;">tool</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/回车</span></span><span style="background-color:#ffffff;">”，返回到“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/</span></span><span style="color:#ff0000;">home/zgq/linux/</span><span style="color:#ff0000;">tool</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/</span></span><span style="background-color:#ffffff;">”目录下</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">ls回车</span>”，查看“<span style="color:#ff0000;">/home/zgq/linux/tool/</span>”目录下的所有文件和文件夹</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo cp </span></span><span style="color:#ff0000;">gcc-arm-9.2-2019.12-x86_64-arm-none-linux-gnueabihf.tar</span><span style="color:#ff0000;">.xz  </span><span style="background-color:#ffffff;"><span style="color:#0070c0;">/usr/local/arm</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”</span><span style="background-color:#ffffff;">,将当前文件拷贝到“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/usr/local/arm</span></span><span style="background-color:#ffffff;">”目录下</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">cd /usr/local/arm/</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">ls回车</span>”，查看“<span style="background-color:#ffffff;"><span style="color:#00b050;">/usr/local/arm/</span></span>”目录下的所有文件和文件夹</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入</p> 
<p style="margin-left:.0001pt;text-align:justify;">“<span style="color:#ff0000;">sudo tar</span> <span style="color:#ff0000;">-vxf gcc-arm-9.2-2019.12-x86_64-arm-none-linux-gnueabihf.tar.xz回车</span>”，解压</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">cd </span></span><span style="background-color:#ffffff;"><span style="color:#0070c0;">gcc-arm-9.2-2019.12-x86_64-arm-none-linux-gnueabihf/</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">bin/</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">ls回车</span>”</p> 
<p style="margin-left:.0001pt;text-align:justify;">查看“<span style="background-color:#ffffff;"><span style="color:#00b050;">gcc-arm-9.2-2019.12-x86_64-arm-none-linux-gnueabihf</span></span><span style="color:#00b050;">/</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">bin/</span></span>”目录下的所有文件和文件夹</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">pwd回车</span></span><span style="background-color:#ffffff;">”</span><span style="background-color:#ffffff;">,查找全路径如下：</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">“<span style="color:#00b050;">/usr/local/arm/gcc-arm-9.2-2019.12-x86_64-arm-none-linux-gnueabihf/bin</span>”</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">sudo vi /etc/profile回车</span>”</p> 
<p style="margin-left:.0001pt;text-align:justify;">在文件的最后面添加下面的语句</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#00b050;">export PATH=$PATH:/usr/local/arm/gcc-arm-9.2-2019.12-x86_64-arm-none-linux-gnueabihf/bin</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#ff0000;">注意</span><span style="color:#ff0000;">:PATH后面不能有空格</span>。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="296" src="https://images2.imgbox.com/d2/7a/OrU6Wxos_o.png" width="616"></p> 
<p style="margin-left:.0001pt;text-align:justify;">按“<span style="color:#ff0000;">ESC键</span>”，然后输入“<span style="color:#ff0000;">:wq回车</span>”保存退出。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">输入“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo apt-get update回车</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">”</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">输入“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo apt-get install lsb-core lib32stdc++6</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">”</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;">若<span style="background-color:#ffffff;"><span style="color:#000000;">发现问题如下：</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">E: 无法获得锁 /var/cache/apt/archives/lock - open (11: 资源暂时不可用)</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">E: 无法对目录 /var/cache/apt/archives/ 加锁</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">输入“</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">ps -aux</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">回车”，列出所有进程，找到lock</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="447" src="https://images2.imgbox.com/28/c5/kYd3cFzW_o.png" width="663"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">输入“</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">sudo kill  850</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">回车”，删除lockd进程</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">输入“</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">sudo apt-get install lsb-core lib32stdc++6</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">回车”</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">这里没有发现安装问题。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;">重启虚拟机</p> 
<p style="margin-left:.0001pt;text-align:justify;">打开终端</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<strong><span style="background-color:#ffffff;"><span style="color:#ff0000;">arm-none-linux-gnueabihf-gcc -v</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span></strong>”</p> 
<p style="margin-left:.0001pt;text-align:justify;">至此，<strong><span style="background-color:#ffffff;"><span style="color:#ff0000;">“</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#ff0000;">Ubutun交叉编译</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#ff0000;">工具链”</span></span></strong>安装完成</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong>10、安装虚拟机中的</strong><strong>VSCode</strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">使用“FileZilla”将“<strong><span style="background-color:#ffffff;"><span style="color:#ff0000;">code_1.50.1-1602600906_amd64</span></span></strong>”拷贝到“/home/zgq/linux/tool/”目录下，<strong><span style="background-color:#ffffff;"><span style="color:#000000;">该文件路径：</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#000000;">“</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#00b050;">03、软件/</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#00b050;">Visual Studio Code/ code_1.50.1-1602600906_amd64</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#000000;">”。</span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">打开终端</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">cd /</span></span><span style="color:#ff0000;">home/zgq/linux/</span><span style="color:#ff0000;">tool</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/回车</span></span><span style="background-color:#ffffff;">”，返回到“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/</span></span><span style="color:#ff0000;">home/zgq/linux/</span><span style="color:#ff0000;">tool</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/</span></span><span style="background-color:#ffffff;">”目录下</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">ls回车</span>”，查看“<span style="color:#ff0000;">tool</span>”目录下的所有文件和文件夹</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo dpkg -i</span></span> <span style="background-color:#ffffff;"><span style="color:#ff0000;">code_1.50.1-1602600906_amd64.de</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">b</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入密码“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">123456</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">关闭终端窗口</p> 
<p style="margin-left:.0001pt;text-align:justify;">点击下图中的“文件”</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="289" src="https://images2.imgbox.com/a2/4a/QQx80eDD_o.png" width="463"></p> 
<p style="margin-left:.0001pt;text-align:justify;">双击“其他位置”，双击“计算机”，双击“usr”，双击“share” ，双击“application”</p> 
<p style="margin-left:.0001pt;text-align:justify;">将下图中的 “<span style="color:#ff0000;">Visual Studio Code</span>”复制到桌面。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="444" src="https://images2.imgbox.com/8f/90/uQJF73lQ_o.png" width="702"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">4)、</span></span>安装插件有下面几个：</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="621" src="https://images2.imgbox.com/c8/b4/X6krIUaC_o.png" width="831"></p> 
<p style="margin-left:.0001pt;text-align:justify;">1)、C/C++，这个肯定是必须的。</p> 
<p style="margin-left:.0001pt;text-align:justify;">2)、C/C++ Snippets，即 C/C++重用代码块。</p> 
<p style="margin-left:.0001pt;text-align:justify;">3)、C/C++ Advanced Lint,即 C/C++静态检测 。</p> 
<p style="margin-left:.0001pt;text-align:justify;">4)、Code Runner，即代码运行。</p> 
<p style="margin-left:.0001pt;text-align:justify;">5)、Include AutoComplete，即自动头文件包含。</p> 
<p style="margin-left:.0001pt;text-align:justify;">6)、Rainbow Brackets，彩虹花括号，有助于阅读代码。</p> 
<p style="margin-left:.0001pt;text-align:justify;">7)、One Dark Pro，VSCode的主题。</p> 
<p style="margin-left:.0001pt;text-align:justify;">8)、GBKtoUTF8，将 GBK转换为 UTF8。</p> 
<p style="margin-left:.0001pt;text-align:justify;">9)、ARM Assembly，即支持 ARM汇编语法高亮显示。</p> 
<p style="margin-left:.0001pt;text-align:justify;">10)、Chinese(Simplified)，即中文环境。</p> 
<p style="margin-left:.0001pt;text-align:justify;">11)、vscode-icons，VSCode图标插件，主要是资源管理器下各个文夹的。</p> 
<p style="margin-left:.0001pt;text-align:justify;">12)、compareit，比较插件，可以用于两个文的差异。</p> 
<p style="margin-left:.0001pt;text-align:justify;">13)、DeviceTree，设备树语法插件。</p> 
<p style="margin-left:.0001pt;text-align:justify;">14)、TabNine，<span style="color:#ff0000;">一款 AI自动补全插件</span>，强烈推荐谁。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">完成相关设置</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="345" src="https://images2.imgbox.com/de/04/1HdvCVfm_o.png" width="830"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">再</span>点击上图蓝色框内的“设置”，<span style="background-color:#ffffff;"> 然后点击“文本编辑器”</span>，<span style="background-color:#ffffff;">点击“字体”，</span><span style="background-color:#ffffff;">删除其他字体，只保留'monospace'等宽字体，</span> 在搜索框中，输入“预览”，点击“工作台”，去掉“控制打开的编辑器是否显示为预览”前面的“勾选”。</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><span style="background-color:#ffffff;"><span style="color:#000000;"><strong>11、取消鼠标中键的复制粘贴功能</strong></span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">xmodmap -e "pointer = 1 25 3 4 5 6 7 2"</span></span><span style="background-color:#ffffff;">回车”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="149" src="https://images2.imgbox.com/05/0a/C4motmHn_o.png" width="670"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">12</span></span><strong><span style="background-color:#ffffff;"><span style="color:#000000;">、安装虚拟机中的stm32wrapper4dbg工具</span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">注意：</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">前面的步骤安装完成后，才能安装“</span></span><strong><span style="background-color:#ffffff;"><span style="color:#ff0000;">stm32wrapper4dbg工具</span></span></strong><span style="background-color:#ffffff;"><span style="color:#ff0000;">”，否则执行“make”会出错</span></span><span style="background-color:#ffffff;">。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">使用</span><span style="background-color:#ffffff;">“</span><span style="background-color:#ffffff;">FileZilla”把“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">stm32wrapper4dbg-master.zip</span></span><span style="background-color:#ffffff;">”压缩包拷贝到“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/home/zgq/linux/tool</span></span><span style="background-color:#ffffff;">”目录下。该文件位于“05、开发工具”目录中。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="color:#ff0000;">cd </span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/home/zgq/linux/</span></span><span style="color:#ff0000;">tool</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/回车</span></span><span style="background-color:#ffffff;">”，返回到“</span><span style="color:#ff0000;">tool</span><span style="color:#ff0000;">/</span><span style="background-color:#ffffff;">”目录下</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">ls回车</span>”，查看“<span style="color:#ff0000;">tool</span>”目录下的所有文件和文件夹</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">unzip stm32wrapper4dbg-master.zip回车</span></span><span style="background-color:#ffffff;">”,</span> <span style="background-color:#ffffff;">解压stm32wrapper4dbg-master.zip</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">3)、</span></span>输入“<span style="color:#ff0000;">ls回车</span>”，查看“<span style="color:#ff0000;">tool</span>”目录下的所有文件和文件夹</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">cd stm32wrapper4dbg-master/回车</span></span><span style="background-color:#ffffff;">”,切换到“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">stm32wrapper4dbg-master</span></span><span style="background-color:#ffffff;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">ls回车</span>”，查看“<span style="background-color:#ffffff;"><span style="color:#ff0000;">stm32wrapper4dbg-master</span></span>”目录下的所有文件和文件夹</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">make回车</span></span><span style="background-color:#ffffff;">”,编译</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">ls回车</span>”，查看“<span style="background-color:#ffffff;"><span style="color:#ff0000;">stm32wrapper4dbg-master</span></span>”目录下的所有文件和文件输入<span style="background-color:#ffffff;">“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo cp stm32wrapper4dbg /usr/bin回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">将编译出来的stm32wrapper4dbg工具拷贝到Ubuntu的“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">/usr/bin</span></span><span style="background-color:#ffffff;">”目录下输入</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入密码“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">123456回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">stm32wrapper4dbg -s回车</span></span><span style="background-color:#ffffff;">”，查询“</span><span style="background-color:#ffffff;"><span style="color:#fe2c24;">stm32wrapper4dbg</span></span><span style="background-color:#ffffff;">”是否安装成功；</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">ls回车</span>”，查看“<span style="background-color:#ffffff;"><span style="color:#ff0000;">stm32wrapper4dbg-master</span></span>”目录下的所有文件和文件</p> 
<p style="margin-left:.0001pt;text-align:justify;">关闭终端</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong>13、</strong><strong><span style="background-color:#ffffff;"><span style="color:#000000;">安装“设备树编译工具”</span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">打开终端</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo apt-get install device-tree-compiler回车</span></span><span style="background-color:#ffffff;">”，安装设备树编译器；</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">输入密码“<span style="color:#ff0000;">123456回车</span>”</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">14<strong><span style="background-color:#ffffff;">、安装“libncurses5-dev，bison和flex”工具</span></strong><span style="background-color:#ffffff;">1)、打开终端</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo apt-get install libncurses5-dev回车</span></span><span style="background-color:#ffffff;">”；</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“密码123456”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo apt-get install bison回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo apt-get install flex回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>15、搭建TFTP服务器</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#000000;">1)、</span></span>打开终端</p> 
<p style="margin-left:.0001pt;text-align:left;">输入“<span style="color:#ff0000;">sudo apt-get install tftp-hpa tftpd-hpa回车</span>”，安装 tfp-hpa 和 tfpd-hpa</p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#000000;">2)、</span></span>配置“tftp”创建“/etc/xinetd.d”目录</p> 
<p style="margin-left:.0001pt;text-align:left;">输入“<span style="color:#ff0000;">cd /etc/xinetd.d回车</span><span style="color:#000000;">”</span></p> 
<p style="margin-left:.0001pt;text-align:left;">输入“<span style="color:#ff0000;">sudo mkdir /etc/xinetd.d回车</span><span style="color:#000000;">”</span></p> 
<p style="margin-left:.0001pt;text-align:left;">输入“<span style="color:#ff0000;">cd /etc/</span><span style="color:#ff0000;">回车</span><span style="color:#000000;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">ls回车</span><span style="color:#000000;">”,查看“</span><span style="color:#ff0000;">/etc/</span><span style="color:#000000;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">3)、</span></span>输入“<span style="color:#ff0000;">cd </span><span style="color:#ff0000;">/etc/</span><span style="color:#ff0000;">init.d/</span><span style="color:#ff0000;">回车</span><span style="color:#000000;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">ls回车</span><span style="color:#000000;">”,查看“</span><span style="color:#ff0000;">/etc/</span><span style="color:#ff0000;">init.d/</span><span style="color:#000000;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:left;">输入“<span style="color:#ff0000;">sudo vi tftp回车</span><span style="color:#000000;">”，新建一个tftp文件</span></p> 
<p style="margin-left:.0001pt;text-align:left;">输入内容下：</p> 
<p style="margin-left:.0001pt;text-align:left;">server tftp</p> 
<p style="margin-left:.0001pt;text-align:left;">{<!-- --></p> 
<p style="margin-left:.0001pt;text-align:left;">        socket_type = dgram</p> 
<p style="margin-left:.0001pt;text-align:left;">        protocol = udp</p> 
<p style="margin-left:.0001pt;text-align:left;">        wait = yes</p> 
<p style="margin-left:.0001pt;text-align:left;">        user = root</p> 
<p style="margin-left:.0001pt;text-align:left;">        server = /usr/sbin/in.tftpd</p> 
<p style="margin-left:.0001pt;text-align:left;">        server_args = -s <span style="color:#ff0000;">/home/zgq/linux/tftpboot/</span></p> 
<p style="margin-left:.0001pt;text-align:left;">        disable = no</p> 
<p style="margin-left:.0001pt;text-align:left;">        per_source = 11</p> 
<p style="margin-left:.0001pt;text-align:left;">        cps = 100 2</p> 
<p style="margin-left:.0001pt;text-align:left;">        flags = IPv4</p> 
<p style="margin-left:.0001pt;text-align:justify;">}</p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="370" src="https://images2.imgbox.com/2d/f5/Mg4JI62C_o.png" width="831"></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#000000;">4)、</span></span>按“<span style="color:#ff0000;">ESC健</span>”，再输入“<span style="color:#ff0000;">:wq回车</span>”，保存文件。</p> 
<p style="margin-left:.0001pt;text-align:left;">输入“<span style="color:#ff0000;">sudo service tftpd-hpa start回车</span>”，启动tftp服务器</p> 
<p style="margin-left:.0001pt;text-align:left;">输入“<span style="color:#ff0000;">sudo vi /etc/default/tftpd-hpa回车</span>”</p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="327" src="https://images2.imgbox.com/b6/b5/0jJxdbpY_o.png" width="653"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">5)、</span></span>输入内容如下：</p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#00b050;"># /etc/default/tftpd-hpa</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:left;">TFTP_USERNAME="tftp"</p> 
<p style="margin-left:.0001pt;text-align:left;">TFTP_DIRECTORY="<span style="color:#ff0000;">/home/zgq/linux/tftpboot</span>"</p> 
<p style="margin-left:.0001pt;text-align:left;">TFTP_ADDRESS=":69"</p> 
<p style="margin-left:.0001pt;text-align:left;">TFTP_OPTIONS="<span style="color:#ff0000;">-1 -c -s</span>"</p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="214" src="https://images2.imgbox.com/f2/3f/AG7M0L0b_o.png" width="831"></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#000000;">6)、</span></span>按“<span style="color:#ff0000;">ESC健</span>”，再输入“<span style="color:#ff0000;">:wq回车</span>”，保存文件。</p> 
<p style="margin-left:.0001pt;text-align:left;">输入“<span style="color:#ff0000;">sudo service tftpd-hpa restart回车</span>”，重启“tftp服务器”</p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="443" src="https://images2.imgbox.com/45/a0/3K4b9KCK_o.png" width="831"></p> 
<p style="margin-left:.0001pt;text-align:left;">至此，“tftp服务器”搭建好了。</p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>16、安装“menuconfig图形化配置工具”的支持库“ncurses库”</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:left;">打开终端</p> 
<p style="margin-left:.0001pt;text-align:left;">输入“<span style="color:#ff0000;">sudo apt-get install build-essential回车</span>”输入“<span style="color:#ff0000;">sudo apt-get install libncurses5-dev回车</span>”</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>17、安装支持linux的第三方库和mkimage工具</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">打开终端</p> 
<p style="margin-left:.0001pt;text-align:left;">输入“<span style="color:#ff0000;">sudo apt-get update回车</span>”,在安装前，先更新</p> 
<p style="margin-left:.0001pt;text-align:left;">输入密码“<span style="color:#ff0000;">123456回车</span>”</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">sudo apt-get install lzop</span>回车”，安装支持linux的第三方库</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">sudo apt-get install libssl-dev回车</span>”，安装支持linux的第三方库</p> 
<p style="margin-left:.0001pt;text-align:justify;">输入“<span style="color:#ff0000;">sudo apt-get install u-boot-tools回车</span>”，安装mkimage工具；</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">重启虚拟机，使安装文件生效</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>18、</strong></strong><span style="background-color:#ffffff;"><span style="color:#000000;">创建“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/media/zgq/udisk</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">”目录用来挂载U盘</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">点击“编辑”，点击“首选项”，见下图：</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="260" src="https://images2.imgbox.com/07/37/8uVnluin_o.png" width="831"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">点击“USB”，勾选见下图：</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="335" src="https://images2.imgbox.com/e3/97/GDiyNWAV_o.png" width="831"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">输入“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">cd /dev/</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">回车”，进入“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/dev/</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">”目录</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">输入“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">ls sd*回车</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">”，显示以</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">sd开头所有文件。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">注意：</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">以</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sda开头的文件为PC的磁盘，</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sdb</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">开头的文件为</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">是</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">U盘</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">注意：</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#ff0000;">“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/dev/</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sd</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">a</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">表示</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">虚拟机磁盘，</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/dev/</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sd</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">a1</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">表示</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">虚拟机磁盘的第一个分区。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#ff0000;">“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/dev/</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sdb”表示</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">U盘，</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/dev/</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sdb1”表示</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">U盘的第一个分区</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">cd </span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/media/zgq/udisk</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">准备切换到“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/media/zgq/udisk</span></span><span style="background-color:#ffffff;">”目录，结果报告：“</span><span style="background-color:#ffffff;"><span style="color:#00b050;">bash: cd: /media/zgq/udisk: 没有那个文件或目录</span></span><span style="background-color:#ffffff;">”</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">sudo mkdir </span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/media/zgq/udisk</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”，准备创建“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/media/zgq/udisk</span></span><span style="background-color:#ffffff;">”目录， </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入密码“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">123456回车</span></span><span style="background-color:#ffffff;">”，允许创建</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">cd </span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/media/zgq/udisk</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”，准备切换到“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/media/zgq/udisk</span></span><span style="background-color:#ffffff;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">cd </span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">..</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”，返回到上层目录“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/media/zgq/</span></span><span style="background-color:#ffffff;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">ls回车</span></span><span style="background-color:#ffffff;">”，列出“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/media/zgq/</span></span><span style="background-color:#ffffff;">”目录下的文件和文件夹</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">输入“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">cd /dev/</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">回车”，进入“</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/dev/</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">”目录</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">输入“</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">ls sd*回车”，显示以</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">sd开头所有文件。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">输入“</span></span><span style="background-color:#ffffff;"><span style="color:#0070c0;">sudo mount /dev/sdb1  /media/zgq/udisk/回车</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">”，将</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">U盘的第一分区挂载udisk下。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">输入“</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">cd /media/zgq/udisk/回车”，进入</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">udisk目录</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">输入“</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">ls回车”，查看</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">udisk</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">目录下的文件，发现</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">U盘挂载到udisk目录下。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">输入“cd /回车”，进入根目录</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">输入“sudo umount /media/zgq/udisk回车”，卸载</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">U盘</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">输入“</span></span><span style="background-color:#ffffff;"><span style="color:#00b050;">sudo mount </span></span><span style="background-color:#ffffff;"><span style="color:#00b050;">-o </span></span><span style="background-color:#ffffff;"><span style="color:#00b050;">iocharset</span></span><span style="background-color:#ffffff;"><span style="color:#00b050;">=utf8 </span></span><span style="background-color:#ffffff;"><span style="color:#00b050;">/dev/sdb1  /media/zgq/udisk/</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">”，将</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">U盘的第一分区挂载udisk下。解决目录出现中文乱码</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;">输入“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">cd </span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/media/zgq/udisk</span></span><span style="background-color:#ffffff;"><span style="color:#ff0000;">回车</span></span><span style="background-color:#ffffff;">”，准备切换到“</span><span style="background-color:#ffffff;"><span style="color:#ff0000;">/media/zgq/udisk</span></span><span style="background-color:#ffffff;">”目录</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#000000;">输入“ls回车”，查询udisk目录下的文件，发现</span></span><span style="background-color:#ffffff;"><span style="color:#000000;">U盘文件。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p>19、获取“my-tfa”文件<br> 使用“FileZilla”将“tf-a-stm32mp-2024.2.tar.bz2”复制到“/home/zgq/linux/atk-mp1/tfa”；<br> 输入“cd /home/zgq/linux/atk-mp1/tfa/回车”切换到“/home/zgq/linux/atk-mp1/tfa/”目录<br> 输入“ls回车”，查看“/home/zgq/linux/atk-mp1/tfa/”目录下的文件和文件夹<br> 输入“tar -xvf tf-a-stm32mp-2024.2.tar.bz2回车”，解压生成“my-tfa”<br> 输入“ls回车”，查看“/home/zgq/linux/atk-mp1/tfa/”目录下的文件和文件夹<br> 输入“rm tf-a-stm32mp-2024.2.tar.bz2回车”，删除压缩包“tf-a-stm32mp-2024.2.tar.bz2”<br> 输入“ls回车”，查看“/home/zgq/linux/atk-mp1/tfa/”目录下的文件和文件夹<br> 输入“cd my-tfa回车”，切换到“/home/zgq/linux/atk-mp1/tfa/my-tfa/”目录<br> 输入“ls回车”，查看“/home/zgq/linux/atk-mp1/tfa/my-tfa/”目录下的文件和文件夹<br><img alt="" height="428" src="https://images2.imgbox.com/77/c6/dOcJghJa_o.png" width="891"></p> 
<p>20、获取“my_uboot”文件<br> 使用“FileZilla” 将“u-boot-stm32mp-2024.02.tar.bz2”复制到“/home/zgq/linux/atk-mp1/uboot”；<br> 输入“cd /home/zgq/linux/atk-mp1/uboot/回车”切换到“/home/zgq/linux/atk-mp1/uboot”目录<br> 输入“ls回车”，查看“/home/zgq/linux/atk-mp1/uboot/”目录下的文件和文件夹<br> 输入“tar -xvf u-boot-stm32mp-2024.02.tar.bz2回车”，解压生成“my_uboot”<br> 输入“ls回车”，查看“/home/zgq/linux/atk-mp1/uboot”目录下的文件和文件夹<br> 输入“rm u-boot-stm32mp-2024.02.tar.bz2回车”，删除压缩包“u-boot-stm32mp-2024.02.tar.bz2”<br> 输入“ls回车”，查看“/home/zgq/linux/atk-mp1/uboot”目录下的文件和文件夹<br> 输入“cd my_uboot/回车”，切换到“/home/zgq/linux/atk-mp1/uboot/my_uboot”目录<br> 输入“ls回车”，查看“/home/zgq/linux/atk-mp1/uboot/my_uboot”目录下的文件和文件夹<br><img alt="" height="502" src="https://images2.imgbox.com/7c/dd/McDHkJ3E_o.png" width="786"></p> 
<p>21、获取“linux-5.4.31”文件<br> 使用“FileZilla”将“linux2024-02-5.4.31.tar.bz2”复制到“/home/zgq/linux/atk-mp1/linux/”；<br> 输入“cd /home/zgq/linux/atk-mp1/linux/回车”切换到“/home/zgq/linux/atk-mp1/linux/”目录<br> 输入“ls回车”，查看“/home/zgq/linux/atk-mp1/linux/”目录下的文件和文件夹<br> 输入“tar -xvf linux2024-02-5.4.31.tar.bz2回车”，解压生成“linux-5.4.31”<br> 输入“ls回车”，查看“/home/zgq/linux/atk-mp1/linux/”目录下的文件和文件夹<br> 输入“rm linux2024-02-5.4.31.tar.bz2回车”，删除压缩包“linux2024-02-5.4.31.tar.bz2”<br> 输入“ls回车”，查看“/home/zgq/linux/atk-mp1/linux/”目录下的文件和文件夹<br> 输入“cd linux-5.4.31/回车”，切换到“/home/zgq/linux/atk-mp1/linux/ linux-5.4.31/”目录<br> 输入“ls回车”，查看“/home/zgq/linux/atk-mp1/linux/ linux-5.4.31/”目录下的文件和文件夹<br><img alt="" height="459" src="https://images2.imgbox.com/6b/89/9QHR8TaE_o.png" width="758"></p> 
<p>24、获取“buildroot-2020.02.6”文件<br> 使用“FileZilla” 将“buildroot2024-2-2020.02.6.tar.bz2”复制到“/home/zgq/linux/buildroot”；<br> 输入“cd /home/zgq/linux/buildroot/回车”切换到“/home/zgq/linux/buildroot/”目录<br> 输入“ls回车”，查看“/home/zgq/linux/buildroot/”目录下的文件和文件夹<br> 输入“tar -xvf buildroot2024-2-2020.02.6.tar.bz2回车”，解压生成“buildroot-2020.02.6”<br> 输入“ls回车”，查看“/home/zgq/linux/buildroot/”目录下的文件和文件夹<br> 输入“rm buildroot2024-2-2020.02.6.tar.bz2回车”，删除压缩包“buildroot2024-2-2020.02.6.tar.bz2”<br> 输入“ls回车”，查看“/home/zgq/linux/buildroot/”目录下的文件和文件夹<br> 输入“cd buildroot-2020.02.6/回车”，切换到“/home/zgq/linux/buildroot/ buildroot-2020.02.6/”目录<br> 输入“ls回车”，查看“/home/zgq/linux/buildroot/ buildroot-2020.02.6/”目录下的文件和文件夹<br><img alt="" height="471" src="https://images2.imgbox.com/a4/37/mvd5SpNp_o.png" width="912"></p> 
<p>25、获取“busybox-1.32.0”文件<br> 使用“FileZilla” 将“busybox2024-02-1.32.0.tar.bz2”复制到“/home/zgq/linux/busybox”；<br> 输入“cd /home/zgq/linux/busybox/回车”切换到“/home/zgq/linux/busybox/”目录<br> 输入“ls回车”，查看“/home/zgq/linux/busybox/”目录下的文件和文件夹<br> 输入“tar -xvf busybox2024-02-1.32.0.tar.bz2回车”，解压生成“busybox-1.32.0”<br> 输入“ls回车”，查看“/home/zgq/linux/busybox/”目录下的文件和文件夹<br> 输入“rm busybox2024-02-1.32.0.tar.bz2回车”，删除压缩包“busybox2024-02-1.32.0.tar.bz2”<br> 输入“ls回车”，查看“/home/zgq/linux/busybox/”目录下的文件和文件夹<br> 输入“cd busybox-1.32.0回车”，切换到“/home/zgq/linux/busybox/ busybox-1.32.0/”目录<br> 输入“ls回车”，查看“/home/zgq/linux/busybox/ busybox-1.32.0/”目录下的文件和文件夹</p> 
<p><img alt="" height="576" src="https://images2.imgbox.com/5b/fe/UQBZNiLT_o.png" width="838"></p> 
<p>至此，我们得到了移植好的“tfa，uboot，linux，builtroot和busybox”的源码，“builtroot和busybox”都是用来构建根文件系统，我选用“builtroot”，它的优点就是方便，支持第三方库。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9a97bb30b1bcb3aa7cbfd18808b38f98/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">谷歌发布史上最强开源大模型Gemma，性能超Llama-2，笔记本也能跑</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3fe973b86001037f5e957c573da6949d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ReactNative开发</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>