<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>springBootå­¦ä¹ ç¬”è®°ï¼ˆå®Œç»“ï¼‰ - ç¼–ç¨‹é¬¼è°·å­çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="springBootå­¦ä¹ ç¬”è®°ï¼ˆå®Œç»“ï¼‰" />
<meta property="og:description" content="æœ¬æ–‡ç« æ˜¯ ğŸ‘‰bilibiliç‹‚ç¥è€å¸ˆ springbootè§†é¢‘çš„ç¬”è®°
ä¸‹é¢æ˜¯â¬‡ï¸æ­£æ–‡ï¼Œç›®å½•åœ¨ä¾§è¾¹ğŸ’•
SpringBoot ç®€ä»‹ Springæ˜¯ä¸ºäº†è§£å†³ä¼ä¸šçº§åº”ç”¨å¼€å‘çš„å¤æ‚æ€§è€Œåˆ›å»ºçš„ï¼Œç®€åŒ–å¼€å‘ã€‚
Springæ˜¯å¦‚ä½•ç®€åŒ–Javaå¼€å‘çš„ ä¸ºäº†é™ä½Javaå¼€å‘çš„å¤æ‚æ€§ï¼ŒSpringé‡‡ç”¨äº†ä»¥ä¸‹4ç§å…³é”®ç­–ç•¥ï¼š
1ã€åŸºäºPOJOçš„è½»é‡çº§å’Œæœ€å°ä¾µå…¥æ€§ç¼–ç¨‹ï¼Œæ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯beanï¼›
2ã€é€šè¿‡IOCï¼Œä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰å’Œé¢å‘æ¥å£å®ç°æ¾è€¦åˆï¼›
3ã€åŸºäºåˆ‡é¢ï¼ˆAOPï¼‰å’Œæƒ¯ä¾‹è¿›è¡Œå£°æ˜å¼ç¼–ç¨‹ï¼›
4ã€é€šè¿‡åˆ‡é¢å’Œæ¨¡ç‰ˆå‡å°‘æ ·å¼ä»£ç ï¼ŒRedisTemplateï¼ŒxxxTemplateï¼›
ä»€ä¹ˆæ˜¯SpringBoot ä»€ä¹ˆæ˜¯SpringBootå‘¢ï¼Œå°±æ˜¯ä¸€ä¸ªjavawebçš„å¼€å‘æ¡†æ¶ï¼Œå’ŒSpringMVCç±»ä¼¼ï¼Œå¯¹æ¯”å…¶ä»–javawebæ¡†æ¶çš„å¥½å¤„ï¼Œå®˜æ–¹è¯´æ˜¯ç®€åŒ–å¼€å‘ï¼Œçº¦å®šå¤§äºé…ç½®ï¼Œ you can â€œjust runâ€ï¼Œèƒ½è¿…é€Ÿçš„å¼€å‘webåº”ç”¨ï¼Œå‡ è¡Œä»£ç å¼€å‘ä¸€ä¸ªhttpæ¥å£ã€‚
æ‰€æœ‰çš„æŠ€æœ¯æ¡†æ¶çš„å‘å±•ä¼¼ä¹éƒ½éµå¾ªäº†ä¸€æ¡ä¸»çº¿è§„å¾‹ï¼šä»ä¸€ä¸ªå¤æ‚åº”ç”¨åœºæ™¯ è¡ç”Ÿ ä¸€ç§è§„èŒƒæ¡†æ¶ï¼Œäººä»¬åªéœ€è¦è¿›è¡Œå„ç§é…ç½®è€Œä¸éœ€è¦è‡ªå·±å»å®ç°å®ƒï¼Œè¿™æ—¶å€™å¼ºå¤§çš„é…ç½®åŠŸèƒ½æˆäº†ä¼˜ç‚¹ï¼›å‘å±•åˆ°ä¸€å®šç¨‹åº¦ä¹‹åï¼Œäººä»¬æ ¹æ®å®é™…ç”Ÿäº§åº”ç”¨æƒ…å†µï¼Œé€‰å–å…¶ä¸­å®ç”¨åŠŸèƒ½å’Œè®¾è®¡ç²¾åï¼Œé‡æ„å‡ºä¸€äº›è½»é‡çº§çš„æ¡†æ¶ï¼›ä¹‹åä¸ºäº†æé«˜å¼€å‘æ•ˆç‡ï¼Œå«Œå¼ƒåŸå…ˆçš„å„ç±»é…ç½®è¿‡äºéº»çƒ¦ï¼Œäºæ˜¯å¼€å§‹æå€¡â€œçº¦å®šå¤§äºé…ç½®â€ï¼Œè¿›è€Œè¡ç”Ÿå‡ºä¸€äº›ä¸€ç«™å¼çš„è§£å†³æ–¹æ¡ˆã€‚
æ˜¯çš„è¿™å°±æ˜¯Javaä¼ä¸šçº§åº”ç”¨-&gt;J2EE-&gt;spring-&gt;springbootçš„è¿‡ç¨‹ã€‚
éšç€ Spring ä¸æ–­çš„å‘å±•ï¼Œæ¶‰åŠçš„é¢†åŸŸè¶Šæ¥è¶Šå¤šï¼Œé¡¹ç›®æ•´åˆå¼€å‘éœ€è¦é…åˆå„ç§å„æ ·çš„æ–‡ä»¶ï¼Œæ…¢æ…¢å˜å¾—ä¸é‚£ä¹ˆæ˜“ç”¨ç®€å•ï¼Œè¿èƒŒäº†æœ€åˆçš„ç†å¿µï¼Œç”šè‡³äººç§°é…ç½®åœ°ç‹±ã€‚Spring Boot æ­£æ˜¯åœ¨è¿™æ ·çš„ä¸€ä¸ªèƒŒæ™¯ä¸‹è¢«æŠ½è±¡å‡ºæ¥çš„å¼€å‘æ¡†æ¶ï¼Œç›®çš„ä¸ºäº†è®©å¤§å®¶æ›´å®¹æ˜“çš„ä½¿ç”¨ Spring ã€æ›´å®¹æ˜“çš„é›†æˆå„ç§å¸¸ç”¨çš„ä¸­é—´ä»¶ã€å¼€æºè½¯ä»¶ï¼›
Spring Boot åŸºäº Spring å¼€å‘ï¼ŒSpirng Boot æœ¬èº«å¹¶ä¸æä¾› Spring æ¡†æ¶çš„æ ¸å¿ƒç‰¹æ€§ä»¥åŠæ‰©å±•åŠŸèƒ½ï¼Œåªæ˜¯ç”¨äºå¿«é€Ÿã€æ•æ·åœ°å¼€å‘æ–°ä¸€ä»£åŸºäº Spring æ¡†æ¶çš„åº”ç”¨ç¨‹åºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒå¹¶ä¸æ˜¯ç”¨æ¥æ›¿ä»£ Spring çš„è§£å†³æ–¹æ¡ˆï¼Œè€Œæ˜¯å’Œ Spring æ¡†æ¶ç´§å¯†ç»“åˆç”¨äºæå‡ Spring å¼€å‘è€…ä½“éªŒçš„å·¥å…·ã€‚Spring Boot ä»¥çº¦å®šå¤§äºé…ç½®çš„æ ¸å¿ƒæ€æƒ³ï¼Œé»˜è®¤å¸®æˆ‘ä»¬è¿›è¡Œäº†å¾ˆå¤šè®¾ç½®ï¼Œå¤šæ•° Spring Boot åº”ç”¨åªéœ€è¦å¾ˆå°‘çš„ Spring é…ç½®ã€‚åŒæ—¶å®ƒé›†æˆäº†å¤§é‡å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åº“é…ç½®ï¼ˆä¾‹å¦‚ Redisã€MongoDBã€Jpaã€RabbitMQã€Quartz ç­‰ç­‰ï¼‰ï¼ŒSpring Boot åº”ç”¨ä¸­è¿™äº›ç¬¬ä¸‰æ–¹åº“å‡ ä¹å¯ä»¥é›¶é…ç½®çš„å¼€ç®±å³ç”¨ã€‚
ç®€å•æ¥è¯´å°±æ˜¯SpringBootå…¶å®ä¸æ˜¯ä»€ä¹ˆæ–°çš„æ¡†æ¶ï¼Œå®ƒé»˜è®¤é…ç½®äº†å¾ˆå¤šæ¡†æ¶çš„ä½¿ç”¨æ–¹å¼ï¼Œå°±åƒmavenæ•´åˆäº†æ‰€æœ‰çš„jaråŒ…ï¼Œspring bootæ•´åˆäº†æ‰€æœ‰çš„æ¡†æ¶ ã€‚
Spring Boot å‡ºç”Ÿåé—¨ï¼Œä»ä¸€å¼€å§‹å°±ç«™åœ¨ä¸€ä¸ªæ¯”è¾ƒé«˜çš„èµ·ç‚¹ï¼Œåˆç»è¿‡è¿™å‡ å¹´çš„å‘å±•ï¼Œç”Ÿæ€è¶³å¤Ÿå®Œå–„ï¼ŒSpring Boot å·²ç»å½“ä¹‹æ— æ„§æˆä¸º Java é¢†åŸŸæœ€çƒ­é—¨çš„æŠ€æœ¯ã€‚
ä¸»è¦ä¼˜ç‚¹ Spring Bootçš„ä¸»è¦ä¼˜ç‚¹ï¼š" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/597361ecef3f00c654b1628824dd2d37/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-25T21:14:04+08:00" />
<meta property="article:modified_time" content="2022-08-25T21:14:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹é¬¼è°·å­çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹é¬¼è°·å­çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">springBootå­¦ä¹ ç¬”è®°ï¼ˆå®Œç»“ï¼‰</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>æœ¬æ–‡ç« æ˜¯ ğŸ‘‰bilibiliç‹‚ç¥è€å¸ˆ springbootè§†é¢‘çš„ç¬”è®°<br> ä¸‹é¢æ˜¯â¬‡ï¸æ­£æ–‡ï¼Œç›®å½•åœ¨ä¾§è¾¹ğŸ’•</p> 
</blockquote> 
<h2><a id="SpringBoot_2"></a>SpringBoot</h2> 
<h2><a id="_3"></a>ç®€ä»‹</h2> 
<p><strong>Springæ˜¯ä¸ºäº†è§£å†³ä¼ä¸šçº§åº”ç”¨å¼€å‘çš„å¤æ‚æ€§è€Œåˆ›å»ºçš„ï¼Œç®€åŒ–å¼€å‘ã€‚</strong></p> 
<h3><a id="SpringJava_9"></a>Springæ˜¯å¦‚ä½•ç®€åŒ–Javaå¼€å‘çš„</h3> 
<p>ä¸ºäº†é™ä½Javaå¼€å‘çš„å¤æ‚æ€§ï¼ŒSpringé‡‡ç”¨äº†ä»¥ä¸‹4ç§å…³é”®ç­–ç•¥ï¼š</p> 
<p>1ã€åŸºäºPOJOçš„è½»é‡çº§å’Œæœ€å°ä¾µå…¥æ€§ç¼–ç¨‹ï¼Œæ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯beanï¼›</p> 
<p>2ã€é€šè¿‡IOCï¼Œä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰å’Œé¢å‘æ¥å£å®ç°æ¾è€¦åˆï¼›</p> 
<p>3ã€åŸºäºåˆ‡é¢ï¼ˆAOPï¼‰å’Œæƒ¯ä¾‹è¿›è¡Œå£°æ˜å¼ç¼–ç¨‹ï¼›</p> 
<p>4ã€é€šè¿‡åˆ‡é¢å’Œæ¨¡ç‰ˆå‡å°‘æ ·å¼ä»£ç ï¼ŒRedisTemplateï¼ŒxxxTemplateï¼›</p> 
<h3><a id="SpringBoot_25"></a>ä»€ä¹ˆæ˜¯SpringBoot</h3> 
<p>ä»€ä¹ˆæ˜¯SpringBootå‘¢ï¼Œå°±æ˜¯ä¸€ä¸ªjavawebçš„å¼€å‘æ¡†æ¶ï¼Œå’ŒSpringMVCç±»ä¼¼ï¼Œå¯¹æ¯”å…¶ä»–javawebæ¡†æ¶çš„å¥½å¤„ï¼Œå®˜æ–¹è¯´æ˜¯ç®€åŒ–å¼€å‘ï¼Œçº¦å®šå¤§äºé…ç½®ï¼Œ you can â€œjust runâ€ï¼Œèƒ½è¿…é€Ÿçš„å¼€å‘webåº”ç”¨ï¼Œå‡ è¡Œä»£ç å¼€å‘ä¸€ä¸ªhttpæ¥å£ã€‚</p> 
<p>æ‰€æœ‰çš„æŠ€æœ¯æ¡†æ¶çš„å‘å±•ä¼¼ä¹éƒ½éµå¾ªäº†ä¸€æ¡ä¸»çº¿è§„å¾‹ï¼šä»ä¸€ä¸ªå¤æ‚åº”ç”¨åœºæ™¯ è¡ç”Ÿ ä¸€ç§è§„èŒƒæ¡†æ¶ï¼Œäººä»¬åªéœ€è¦è¿›è¡Œå„ç§é…ç½®è€Œä¸éœ€è¦è‡ªå·±å»å®ç°å®ƒï¼Œè¿™æ—¶å€™å¼ºå¤§çš„é…ç½®åŠŸèƒ½æˆäº†ä¼˜ç‚¹ï¼›å‘å±•åˆ°ä¸€å®šç¨‹åº¦ä¹‹åï¼Œäººä»¬æ ¹æ®å®é™…ç”Ÿäº§åº”ç”¨æƒ…å†µï¼Œé€‰å–å…¶ä¸­å®ç”¨åŠŸèƒ½å’Œè®¾è®¡ç²¾åï¼Œé‡æ„å‡ºä¸€äº›è½»é‡çº§çš„æ¡†æ¶ï¼›ä¹‹åä¸ºäº†æé«˜å¼€å‘æ•ˆç‡ï¼Œå«Œå¼ƒåŸå…ˆçš„å„ç±»é…ç½®è¿‡äºéº»çƒ¦ï¼Œäºæ˜¯å¼€å§‹æå€¡â€œçº¦å®šå¤§äºé…ç½®â€ï¼Œè¿›è€Œè¡ç”Ÿå‡ºä¸€äº›ä¸€ç«™å¼çš„è§£å†³æ–¹æ¡ˆã€‚</p> 
<p>æ˜¯çš„è¿™å°±æ˜¯Javaä¼ä¸šçº§åº”ç”¨-&gt;J2EE-&gt;spring-&gt;springbootçš„è¿‡ç¨‹ã€‚</p> 
<p>éšç€ Spring ä¸æ–­çš„å‘å±•ï¼Œæ¶‰åŠçš„é¢†åŸŸè¶Šæ¥è¶Šå¤šï¼Œé¡¹ç›®æ•´åˆå¼€å‘éœ€è¦é…åˆå„ç§å„æ ·çš„æ–‡ä»¶ï¼Œæ…¢æ…¢å˜å¾—ä¸é‚£ä¹ˆæ˜“ç”¨ç®€å•ï¼Œè¿èƒŒäº†æœ€åˆçš„ç†å¿µï¼Œç”šè‡³äººç§°é…ç½®åœ°ç‹±ã€‚Spring Boot æ­£æ˜¯åœ¨è¿™æ ·çš„ä¸€ä¸ªèƒŒæ™¯ä¸‹è¢«æŠ½è±¡å‡ºæ¥çš„å¼€å‘æ¡†æ¶ï¼Œç›®çš„ä¸ºäº†è®©å¤§å®¶æ›´å®¹æ˜“çš„ä½¿ç”¨ Spring ã€æ›´å®¹æ˜“çš„é›†æˆå„ç§å¸¸ç”¨çš„ä¸­é—´ä»¶ã€å¼€æºè½¯ä»¶ï¼›</p> 
<p>Spring Boot åŸºäº Spring å¼€å‘ï¼ŒSpirng Boot æœ¬èº«å¹¶ä¸æä¾› Spring æ¡†æ¶çš„æ ¸å¿ƒç‰¹æ€§ä»¥åŠæ‰©å±•åŠŸèƒ½ï¼Œåªæ˜¯ç”¨äºå¿«é€Ÿã€æ•æ·åœ°å¼€å‘æ–°ä¸€ä»£åŸºäº Spring æ¡†æ¶çš„åº”ç”¨ç¨‹åºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒå¹¶ä¸æ˜¯ç”¨æ¥æ›¿ä»£ Spring çš„è§£å†³æ–¹æ¡ˆï¼Œè€Œæ˜¯å’Œ Spring æ¡†æ¶ç´§å¯†ç»“åˆç”¨äºæå‡ Spring å¼€å‘è€…ä½“éªŒçš„å·¥å…·ã€‚Spring Boot ä»¥<strong>çº¦å®šå¤§äºé…ç½®çš„æ ¸å¿ƒæ€æƒ³</strong>ï¼Œé»˜è®¤å¸®æˆ‘ä»¬è¿›è¡Œäº†å¾ˆå¤šè®¾ç½®ï¼Œå¤šæ•° Spring Boot åº”ç”¨åªéœ€è¦å¾ˆå°‘çš„ Spring é…ç½®ã€‚åŒæ—¶å®ƒé›†æˆäº†å¤§é‡å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åº“é…ç½®ï¼ˆä¾‹å¦‚ Redisã€MongoDBã€Jpaã€RabbitMQã€Quartz ç­‰ç­‰ï¼‰ï¼ŒSpring Boot åº”ç”¨ä¸­è¿™äº›ç¬¬ä¸‰æ–¹åº“å‡ ä¹å¯ä»¥é›¶é…ç½®çš„å¼€ç®±å³ç”¨ã€‚</p> 
<p>ç®€å•æ¥è¯´å°±æ˜¯SpringBootå…¶å®ä¸æ˜¯ä»€ä¹ˆæ–°çš„æ¡†æ¶ï¼Œå®ƒé»˜è®¤é…ç½®äº†å¾ˆå¤šæ¡†æ¶çš„ä½¿ç”¨æ–¹å¼ï¼Œå°±åƒmavenæ•´åˆäº†æ‰€æœ‰çš„jaråŒ…ï¼Œspring bootæ•´åˆäº†æ‰€æœ‰çš„æ¡†æ¶ ã€‚</p> 
<p>Spring Boot å‡ºç”Ÿåé—¨ï¼Œä»ä¸€å¼€å§‹å°±ç«™åœ¨ä¸€ä¸ªæ¯”è¾ƒé«˜çš„èµ·ç‚¹ï¼Œåˆç»è¿‡è¿™å‡ å¹´çš„å‘å±•ï¼Œç”Ÿæ€è¶³å¤Ÿå®Œå–„ï¼ŒSpring Boot å·²ç»å½“ä¹‹æ— æ„§æˆä¸º Java é¢†åŸŸæœ€çƒ­é—¨çš„æŠ€æœ¯ã€‚</p> 
<h3><a id="_43"></a>ä¸»è¦ä¼˜ç‚¹</h3> 
<p><strong>Spring Bootçš„ä¸»è¦ä¼˜ç‚¹ï¼š</strong></p> 
<ul><li>ä¸ºæ‰€æœ‰Springå¼€å‘è€…æ›´å¿«çš„å…¥é—¨</li><li><strong>å¼€ç®±å³ç”¨</strong>ï¼Œæä¾›å„ç§é»˜è®¤é…ç½®æ¥ç®€åŒ–é¡¹ç›®é…ç½®</li><li>å†…åµŒå¼å®¹å™¨ç®€åŒ–Webé¡¹ç›®</li><li>æ²¡æœ‰å†—ä½™ä»£ç ç”Ÿæˆå’ŒXMLé…ç½®çš„è¦æ±‚</li></ul> 
<h2><a id="hello_World_56"></a>hello World</h2> 
<h3><a id="1_60"></a>1.åˆ›å»ºåŸºç¡€é¡¹ç›®è¯´æ˜</h3> 
<p>Springå®˜æ–¹æä¾›äº†éå¸¸æ–¹ä¾¿çš„å·¥å…·è®©æˆ‘ä»¬å¿«é€Ÿæ„å»ºåº”ç”¨</p> 
<p>Spring Initializrï¼šhttps://start.spring.io/</p> 
<p>**é¡¹ç›®åˆ›å»ºæ–¹å¼ä¸€ï¼š**ä½¿ç”¨Spring Initializr çš„ Webé¡µé¢åˆ›å»ºé¡¹ç›®</p> 
<p>1ã€æ‰“å¼€ https://start.spring.io/</p> 
<p>2ã€ç…§ç€å›¾ç‰‡å¡«å®Œå³å¯[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-IcXmnAz6-1661431067932)(D:\myDownloads\typora\img\image-20220816165026808.png)]</p> 
<p>3ã€è§£å‹é¡¹ç›®åŒ…ï¼Œå¹¶ç”¨IDEAä»¥Mavené¡¹ç›®å¯¼å…¥ï¼Œä¸€è·¯ä¸‹ä¸€æ­¥å³å¯ï¼Œç›´åˆ°é¡¹ç›®å¯¼å…¥å®Œæ¯•ã€‚</p> 
<p>4ã€å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œå¯èƒ½é€Ÿåº¦ä¼šæ¯”è¾ƒæ…¢ï¼ŒåŒ…æ¯”è¾ƒå¤šã€éœ€è¦è€å¿ƒç­‰å¾…ä¸€åˆ‡å°±ç»ªã€‚</p> 
<p>**é¡¹ç›®åˆ›å»ºæ–¹å¼äºŒï¼š**ä½¿ç”¨ IDEA ç›´æ¥åˆ›å»ºé¡¹ç›®</p> 
<p>1ã€åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®</p> 
<p>2ã€é€‰æ‹©spring initalizr ï¼Œ å¯ä»¥çœ‹åˆ°é»˜è®¤å°±æ˜¯å»å®˜ç½‘çš„å¿«é€Ÿæ„å»ºå·¥å…·é‚£é‡Œå®ç°</p> 
<p>3ã€å¡«å†™é¡¹ç›®ä¿¡æ¯</p> 
<p>4ã€é€‰æ‹©åˆå§‹åŒ–çš„ç»„ä»¶ï¼ˆåˆå­¦å‹¾é€‰ Web å³å¯ï¼‰</p> 
<p>5ã€å¡«å†™é¡¹ç›®è·¯å¾„</p> 
<p>6ã€ç­‰å¾…é¡¹ç›®æ„å»ºæˆåŠŸ</p> 
<h3><a id="2_96"></a>2ã€é¡¹ç›®ç»“æ„åˆ†æ</h3> 
<p>é€šè¿‡ä¸Šé¢æ­¥éª¤å®Œæˆäº†åŸºç¡€é¡¹ç›®çš„åˆ›å»ºã€‚å°±ä¼šè‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ã€‚</p> 
<p>1ã€ç¨‹åºçš„ä¸»å¯åŠ¨ç±»</p> 
<p>2ã€ä¸€ä¸ª application.properties é…ç½®æ–‡ä»¶</p> 
<p>3ã€ä¸€ä¸ª æµ‹è¯•ç±»</p> 
<p>4ã€ä¸€ä¸ª pom.xml</p> 
<h4><a id="pomxml__108"></a>pom.xml åˆ†æ</h4> 
<p>æ‰“å¼€pom.xmlï¼Œçœ‹çœ‹Spring Booté¡¹ç›®çš„ä¾èµ–ï¼š</p> 
<pre><code>
&lt;!-- çˆ¶ä¾èµ– --&gt;
&lt;parent&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
    &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;
    &lt;relativePath/&gt;
&lt;/parent&gt;

&lt;dependencies&gt;
    &lt;!-- webåœºæ™¯å¯åŠ¨å™¨ --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
    &lt;/dependency&gt;
    &lt;!-- springbootå•å…ƒæµ‹è¯• --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
        &lt;scope&gt;test&lt;/scope&gt;
        &lt;!-- å‰”é™¤ä¾èµ– --&gt;
        &lt;exclusions&gt;
            &lt;exclusion&gt;
                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;
                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;
            &lt;/exclusion&gt;
        &lt;/exclusions&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;

&lt;build&gt;
    &lt;plugins&gt;
        &lt;!-- æ‰“åŒ…æ’ä»¶ --&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;
</code></pre> 
<h3><a id="3http_158"></a>3ã€ç¼–å†™ä¸€ä¸ªhttpæ¥å£</h3> 
<p>1ã€åœ¨ä¸»ç¨‹åºçš„åŒçº§ç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªcontrolleråŒ…ï¼Œä¸€å®šè¦åœ¨åŒçº§ç›®å½•ä¸‹ï¼Œå¦åˆ™è¯†åˆ«ä¸åˆ°</p> 
<p>2ã€åœ¨åŒ…ä¸­æ–°å»ºä¸€ä¸ªHelloControllerç±»</p> 
<pre><code>
@RestController
public class HelloController {

    @RequestMapping("/hello")
    public String hello() {
        return "Hello World";
    }
    
}
</code></pre> 
<p>3ã€ç¼–å†™å®Œæ¯•åï¼Œä»ä¸»ç¨‹åºå¯åŠ¨é¡¹ç›®ï¼Œæµè§ˆå™¨å‘èµ·è¯·æ±‚ï¼Œçœ‹é¡µé¢è¿”å›ï¼›æ§åˆ¶å°è¾“å‡ºäº† Tomcat è®¿é—®çš„ç«¯å£å·ï¼</p> 
<p><img src="https://images2.imgbox.com/42/74/Zy89LpLX_o.png" alt="å›¾ç‰‡"></p> 
<p>ç®€å•å‡ æ­¥ï¼Œå°±å®Œæˆäº†ä¸€ä¸ªwebæ¥å£çš„å¼€å‘ï¼ŒSpringBootå°±æ˜¯è¿™ä¹ˆç®€å•ã€‚æ‰€ä»¥æˆ‘ä»¬å¸¸ç”¨å®ƒæ¥å»ºç«‹æˆ‘ä»¬çš„å¾®æœåŠ¡é¡¹ç›®ï¼</p> 
<h3><a id="4jar_183"></a>4ã€å°†é¡¹ç›®æ‰“æˆjaråŒ…</h3> 
<p>å°†é¡¹<img src="https://images2.imgbox.com/82/1d/5PEEeIGI_o.jpg" alt="å›¾ç‰‡">ç›®æ‰“æˆjaråŒ…ï¼Œç‚¹å‡» mavençš„ package</p> 
<p>å¦‚æœé‡åˆ°ä»¥ä¸Šé”™è¯¯ï¼Œå¯ä»¥é…ç½®æ‰“åŒ…æ—¶ è·³è¿‡é¡¹ç›®è¿è¡Œæµ‹è¯•ç”¨ä¾‹</p> 
<pre><code>
&lt;!--
    åœ¨å·¥ä½œä¸­,å¾ˆå¤šæƒ…å†µä¸‹æˆ‘ä»¬æ‰“åŒ…æ˜¯ä¸æƒ³æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹çš„
    å¯èƒ½æ˜¯æµ‹è¯•ç”¨ä¾‹ä¸å®Œäº‹,æˆ–æ˜¯æµ‹è¯•ç”¨ä¾‹ä¼šå½±å“æ•°æ®åº“æ•°æ®
    è·³è¿‡æµ‹è¯•ç”¨ä¾‹æ‰§
    --&gt;
&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
    &lt;configuration&gt;
        &lt;!--è·³è¿‡é¡¹ç›®è¿è¡Œæµ‹è¯•ç”¨ä¾‹--&gt;
        &lt;skipTests&gt;true&lt;/skipTests&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;
</code></pre> 
<p>å¦‚æœæ‰“åŒ…æˆåŠŸï¼Œåˆ™ä¼šåœ¨targetç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª jar åŒ…</p> 
<p><img src="https://images2.imgbox.com/21/28/ShcxraZR_o.jpg" alt="å›¾ç‰‡"></p> 
<p>æ‰“æˆäº†jaråŒ…åï¼Œå°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¿è¡Œäº†ï¼OK</p> 
<h3><a id="spring_boot_214"></a>ä¿®æ”¹spring bootå¯å›¾æ¡ˆ</h3> 
<p>åœ¨æµè§ˆå™¨ä¸Šæœç´¢ï¼šspring boot banneråœ¨çº¿ç”Ÿæˆå³å¯</p> 
<p>æˆ‘è¿™é‡Œç›´æ¥ææä¾›ä¸€ä¸ªå›¾æ¡ˆ</p> 
<pre><code>
//                          _ooOoo_                               //
//                         o8888888o                              //
//                         88" . "88                              //
//                         (| ^_^ |)                              //
//                         O\  =  /O                              //
//                      ____/`---'\____                           //
//                    .'  \\|     |//  `.                         //
//                   /  \\|||  :  |||//  \                        //
//                  /  _||||| -:- |||||-  \                       //
//                  |   | \\\  -  /// |   |                       //
//                  | \_|  ''\---/''  |   |                       //
//                  \  .-\__  `-`  ___/-. /                       //
//                ___`. .'  /--.--\  `. . ___                     //
//              ."" '&lt;  `.___\_&lt;|&gt;_/___.'  &gt;'"".                  //
//            | | :  `- \`.;`\ _ /`;.`/ - ` : | |                 //
//            \  \ `-.   \_ __\ /__ _/   .-` /  /                 //
//      ========`-.____`-.___\_____/___.-`____.-'========         //
//                           `=---='                              //
//      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^        //
//            ä½›ç¥–ä¿ä½‘       æ°¸ä¸å®•æœº     æ°¸æ— BUG                    //

</code></pre> 
<p>åœ¨é¡¹ç›®é‡Œé¢çš„ï¼Œsrcâ€“&gt;resourcesâ€“&gt;åˆ›å»ºbanner.txtï¼ŒæŠŠè¿™ä¸ªå›¾æ¡ˆå¤åˆ¶è¿›å»ï¼Œé‡æ–°è¿è¡Œå³å¯</p> 
<h2><a id="_253"></a>è¿è¡ŒåŸç†åˆæ¢</h2> 
<p>æˆ‘ä»¬ä¹‹å‰å†™çš„HelloSpringBootï¼Œåˆ°åº•æ˜¯æ€ä¹ˆè¿è¡Œçš„å‘¢ï¼ŒMavené¡¹ç›®ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä»pom.xmlæ–‡ä»¶æ¢ç©¶èµ·ï¼›</p> 
<h3><a id="pomxml_259"></a>pom.xml</h3> 
<blockquote> 
 <h3><a id="_263"></a>çˆ¶ä¾èµ–</h3> 
</blockquote> 
<p>å…¶ä¸­å®ƒä¸»è¦æ˜¯ä¾èµ–ä¸€ä¸ªçˆ¶é¡¹ç›®ï¼Œä¸»è¦æ˜¯ç®¡ç†é¡¹ç›®çš„èµ„æºè¿‡æ»¤åŠæ’ä»¶ï¼</p> 
<pre><code>&lt;parent&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
    &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;
    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
&lt;/parent&gt;
</code></pre> 
<p>ç‚¹è¿›å»ï¼Œå‘ç°è¿˜æœ‰ä¸€ä¸ªçˆ¶ä¾èµ–</p> 
<pre><code>&lt;parent&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;
    &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;
    &lt;relativePath&gt;../../spring-boot-dependencies&lt;/relativePath&gt;
&lt;/parent&gt;
</code></pre> 
<p>è¿™é‡Œæ‰æ˜¯çœŸæ­£ç®¡ç†SpringBootåº”ç”¨é‡Œé¢æ‰€æœ‰ä¾èµ–ç‰ˆæœ¬çš„åœ°æ–¹ï¼ŒSpringBootçš„ç‰ˆæœ¬æ§åˆ¶ä¸­å¿ƒï¼›</p> 
<p><strong>ä»¥åæˆ‘ä»¬å¯¼å…¥ä¾èµ–é»˜è®¤æ˜¯ä¸éœ€è¦å†™ç‰ˆæœ¬ï¼›ä½†æ˜¯å¦‚æœå¯¼å…¥çš„åŒ…æ²¡æœ‰åœ¨ä¾èµ–ä¸­ç®¡ç†ç€å°±éœ€è¦æ‰‹åŠ¨é…ç½®ç‰ˆæœ¬äº†ï¼›</strong></p> 
<blockquote> 
 <h3><a id="_springbootstarter_295"></a>å¯åŠ¨å™¨ spring-boot-starter</h3> 
</blockquote> 
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre> 
<p><strong>springboot-boot-starter-xxx</strong>ï¼šå°±æ˜¯spring-bootçš„åœºæ™¯å¯åŠ¨å™¨</p> 
<p><strong>spring-boot-starter-web</strong>ï¼šå¸®æˆ‘ä»¬å¯¼å…¥äº†webæ¨¡å—æ­£å¸¸è¿è¡Œæ‰€ä¾èµ–çš„ç»„ä»¶ï¼›</p> 
<p>SpringBootå°†æ‰€æœ‰çš„åŠŸèƒ½åœºæ™¯éƒ½æŠ½å–å‡ºæ¥ï¼Œåšæˆä¸€ä¸ªä¸ªçš„starter ï¼ˆå¯åŠ¨å™¨ï¼‰ï¼Œåªéœ€è¦åœ¨é¡¹ç›®ä¸­å¼•å…¥è¿™äº›starterå³å¯ï¼Œæ‰€æœ‰ç›¸å…³çš„ä¾èµ–éƒ½ä¼šå¯¼å…¥è¿›æ¥ ï¼Œ æˆ‘ä»¬è¦ç”¨ä»€ä¹ˆåŠŸèƒ½å°±å¯¼å…¥ä»€ä¹ˆæ ·çš„åœºæ™¯å¯åŠ¨å™¨å³å¯ ï¼›æˆ‘ä»¬æœªæ¥ä¹Ÿå¯ä»¥è‡ªå·±è‡ªå®šä¹‰ starterï¼›</p> 
<h3><a id="_314"></a>ä¸»å¯åŠ¨ç±»</h3> 
<p>åˆ†æå®Œäº† pom.xml æ¥çœ‹çœ‹è¿™ä¸ªå¯åŠ¨ç±»</p> 
<blockquote> 
 <h3><a id="_320"></a>é»˜è®¤çš„ä¸»å¯åŠ¨ç±»</h3> 
</blockquote> 
<pre><code>
//@SpringBootApplication æ¥æ ‡æ³¨ä¸€ä¸ªä¸»ç¨‹åºç±»
//è¯´æ˜è¿™æ˜¯ä¸€ä¸ªSpring Bootåº”ç”¨
@SpringBootApplication
public class SpringbootApplication {

   public static void main(String[] args) {
     //ä»¥ä¸ºæ˜¯å¯åŠ¨äº†ä¸€ä¸ªæ–¹æ³•ï¼Œæ²¡æƒ³åˆ°å¯åŠ¨äº†ä¸€ä¸ªæœåŠ¡
      SpringApplication.run(SpringbootApplication.class, args);
   }

}
</code></pre> 
<p>ä½†æ˜¯**ä¸€ä¸ªç®€å•çš„å¯åŠ¨ç±»å¹¶ä¸ç®€å•ï¼**æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹è¿™äº›æ³¨è§£éƒ½å¹²äº†ä»€ä¹ˆ</p> 
<blockquote> 
 <h3><a id="SpringBootApplication_341"></a>@SpringBootApplication</h3> 
</blockquote> 
<p>ä½œç”¨ï¼šæ ‡æ³¨åœ¨æŸä¸ªç±»ä¸Šè¯´æ˜è¿™ä¸ªç±»æ˜¯SpringBootçš„ä¸»é…ç½®ç±» ï¼Œ SpringBootå°±åº”è¯¥è¿è¡Œè¿™ä¸ªç±»çš„mainæ–¹æ³•æ¥å¯åŠ¨SpringBootåº”ç”¨ï¼›</p> 
<p>è¿›å…¥è¿™ä¸ªæ³¨è§£ï¼šå¯ä»¥çœ‹åˆ°ä¸Šé¢è¿˜æœ‰å¾ˆå¤šå…¶ä»–æ³¨è§£ï¼</p> 
<pre><code>
@SpringBootConfiguration
@EnableAutoConfiguration
@ComponentScan(
    excludeFilters = {@Filter(
    type = FilterType.CUSTOM,
    classes = {TypeExcludeFilter.class}
), @Filter(
    type = FilterType.CUSTOM,
    classes = {AutoConfigurationExcludeFilter.class}
)}
)
public @interface SpringBootApplication {
    // ......
}
</code></pre> 
<blockquote> 
 <h3><a id="ComponentScan_369"></a>@ComponentScan</h3> 
</blockquote> 
<p>è¿™ä¸ªæ³¨è§£åœ¨Springä¸­å¾ˆé‡è¦ ,å®ƒå¯¹åº”XMLé…ç½®ä¸­çš„å…ƒç´ ã€‚</p> 
<p>ä½œç”¨ï¼šè‡ªåŠ¨æ‰«æå¹¶åŠ è½½ç¬¦åˆæ¡ä»¶çš„ç»„ä»¶æˆ–è€…bean ï¼Œ å°†è¿™ä¸ªbeanå®šä¹‰åŠ è½½åˆ°IOCå®¹å™¨ä¸­</p> 
<blockquote> 
 <h3><a id="SpringBootConfiguration_377"></a>@SpringBootConfiguration</h3> 
</blockquote> 
<p>ä½œç”¨ï¼šSpringBootçš„é…ç½®ç±» ï¼Œæ ‡æ³¨åœ¨æŸä¸ªç±»ä¸Š ï¼Œ è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªSpringBootçš„é…ç½®ç±»ï¼›</p> 
<p>æˆ‘ä»¬ç»§ç»­è¿›å»è¿™ä¸ªæ³¨è§£æŸ¥çœ‹</p> 
<pre><code>
// ç‚¹è¿›å»å¾—åˆ°ä¸‹é¢çš„ @Component
@Configuration
public @interface SpringBootConfiguration {}

@Component
public @interface Configuration {}
</code></pre> 
<p>è¿™é‡Œçš„ @Configurationï¼Œè¯´æ˜è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±» ï¼Œé…ç½®ç±»å°±æ˜¯å¯¹åº”Springçš„xml é…ç½®æ–‡ä»¶ï¼›</p> 
<p>é‡Œé¢çš„ @Component è¿™å°±è¯´æ˜ï¼Œå¯åŠ¨ç±»æœ¬èº«ä¹Ÿæ˜¯Springä¸­çš„ä¸€ä¸ªç»„ä»¶è€Œå·²ï¼Œè´Ÿè´£å¯åŠ¨åº”ç”¨ï¼</p> 
<p>æˆ‘ä»¬å›åˆ° SpringBootApplication æ³¨è§£ä¸­ç»§ç»­çœ‹</p> 
<blockquote> 
 <h3><a id="EnableAutoConfiguration_401"></a>@EnableAutoConfiguration</h3> 
</blockquote> 
<p><strong>@EnableAutoConfiguration ï¼šå¼€å¯è‡ªåŠ¨é…ç½®åŠŸèƒ½</strong></p> 
<p>ä»¥å‰æˆ‘ä»¬éœ€è¦è‡ªå·±é…ç½®çš„ä¸œè¥¿ï¼Œè€Œç°åœ¨SpringBootå¯ä»¥è‡ªåŠ¨å¸®æˆ‘ä»¬é…ç½® ï¼›@EnableAutoConfigurationå‘Šè¯‰SpringBootå¼€å¯è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼Œè¿™æ ·è‡ªåŠ¨é…ç½®æ‰èƒ½ç”Ÿæ•ˆï¼›</p> 
<p>ç‚¹è¿›æ³¨è§£æ¥ç»­æŸ¥çœ‹ï¼š</p> 
<p><strong>@AutoConfigurationPackage ï¼šè‡ªåŠ¨é…ç½®åŒ…</strong></p> 
<pre><code>
@Import({Registrar.class})
public @interface AutoConfigurationPackage {
}
</code></pre> 
<p><strong>@import</strong> ï¼šSpringåº•å±‚æ³¨è§£@import ï¼Œ ç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€ä¸ªç»„ä»¶</p> 
<p>Registrar.class ä½œç”¨ï¼šå°†ä¸»å¯åŠ¨ç±»çš„æ‰€åœ¨åŒ…åŠåŒ…ä¸‹é¢æ‰€æœ‰å­åŒ…é‡Œé¢çš„æ‰€æœ‰ç»„ä»¶æ‰«æåˆ°Springå®¹å™¨ ï¼›</p> 
<p>è¿™ä¸ªåˆ†æå®Œäº†ï¼Œé€€åˆ°ä¸Šä¸€æ­¥ï¼Œç»§ç»­çœ‹</p> 
<p><strong>@Import({AutoConfigurationImportSelector.class}) ï¼šç»™å®¹å™¨å¯¼å…¥ç»„ä»¶ ï¼›</strong></p> 
<p>AutoConfigurationImportSelector ï¼šè‡ªåŠ¨é…ç½®å¯¼å…¥é€‰æ‹©å™¨ï¼Œé‚£ä¹ˆå®ƒä¼šå¯¼å…¥å“ªäº›ç»„ä»¶çš„é€‰æ‹©å™¨å‘¢ï¼Ÿæˆ‘ä»¬ç‚¹å‡»å»è¿™ä¸ªç±»çœ‹æºç ï¼š</p> 
<p>1ã€è¿™ä¸ªç±»ä¸­æœ‰ä¸€ä¸ªè¿™æ ·çš„æ–¹æ³•</p> 
<pre><code>
// è·å¾—å€™é€‰çš„é…ç½®
protected List&lt;String&gt; getCandidateConfigurations(AnnotationMetadata metadata, AnnotationAttributes attributes) {
    //è¿™é‡Œçš„getSpringFactoriesLoaderFactoryClassï¼ˆï¼‰æ–¹æ³•
    //è¿”å›çš„å°±æ˜¯æˆ‘ä»¬æœ€å¼€å§‹çœ‹çš„å¯åŠ¨è‡ªåŠ¨å¯¼å…¥é…ç½®æ–‡ä»¶çš„æ³¨è§£ç±»ï¼›EnableAutoConfiguration
    List&lt;String&gt; configurations = SpringFactoriesLoader.loadFactoryNames(this.getSpringFactoriesLoaderFactoryClass(), this.getBeanClassLoader());
    Assert.notEmpty(configurations, "No auto configuration classes found in META-INF/spring.factories. If you are using a custom packaging, make sure that file is correct.");
    return configurations;
}
</code></pre> 
<p>2ã€è¿™ä¸ªæ–¹æ³•åˆè°ƒç”¨äº† SpringFactoriesLoader ç±»çš„é™æ€æ–¹æ³•ï¼æˆ‘ä»¬è¿›å…¥SpringFactoriesLoaderç±»loadFactoryNames() æ–¹æ³•</p> 
<pre><code>
public static List&lt;String&gt; loadFactoryNames(Class&lt;?&gt; factoryClass, @Nullable ClassLoader classLoader) {
    String factoryClassName = factoryClass.getName();
    //è¿™é‡Œå®ƒåˆè°ƒç”¨äº† loadSpringFactories æ–¹æ³•
    return (List)loadSpringFactories(classLoader).getOrDefault(factoryClassName, Collections.emptyList());
}
</code></pre> 
<p>3ã€æˆ‘ä»¬ç»§ç»­ç‚¹å‡»æŸ¥çœ‹ loadSpringFactories æ–¹æ³•</p> 
<pre><code>
private static Map&lt;String, List&lt;String&gt;&gt; loadSpringFactories(@Nullable ClassLoader classLoader) {
    //è·å¾—classLoader ï¼Œ æˆ‘ä»¬è¿”å›å¯ä»¥çœ‹åˆ°è¿™é‡Œå¾—åˆ°çš„å°±æ˜¯EnableAutoConfigurationæ ‡æ³¨çš„ç±»æœ¬èº«
    MultiValueMap&lt;String, String&gt; result = (MultiValueMap)cache.get(classLoader);
    if (result != null) {
        return result;
    } else {
        try {
            //å»è·å–ä¸€ä¸ªèµ„æº "META-INF/spring.factories"
            Enumeration&lt;URL&gt; urls = classLoader != null ? classLoader.getResources("META-INF/spring.factories") : ClassLoader.getSystemResources("META-INF/spring.factories");
            LinkedMultiValueMap result = new LinkedMultiValueMap();

            //å°†è¯»å–åˆ°çš„èµ„æºéå†ï¼Œå°è£…æˆä¸ºä¸€ä¸ªProperties
            while(urls.hasMoreElements()) {
                URL url = (URL)urls.nextElement();
                UrlResource resource = new UrlResource(url);
                Properties properties = PropertiesLoaderUtils.loadProperties(resource);
                Iterator var6 = properties.entrySet().iterator();

                while(var6.hasNext()) {
                    Entry&lt;?, ?&gt; entry = (Entry)var6.next();
                    String factoryClassName = ((String)entry.getKey()).trim();
                    String[] var9 = StringUtils.commaDelimitedListToStringArray((String)entry.getValue());
                    int var10 = var9.length;

                    for(int var11 = 0; var11 &lt; var10; ++var11) {
                        String factoryName = var9[var11];
                        result.add(factoryClassName, factoryName.trim());
                    }
                }
            }

            cache.put(classLoader, result);
            return result;
        } catch (IOException var13) {
            throw new IllegalArgumentException("Unable to load factories from location [META-INF/spring.factories]", var13);
        }
    }
}
</code></pre> 
<p>4ã€å‘ç°ä¸€ä¸ªå¤šæ¬¡å‡ºç°çš„æ–‡ä»¶ï¼šspring.factoriesï¼Œå…¨å±€æœç´¢å®ƒ</p> 
<blockquote> 
 <h3><a id="springfactories_501"></a>spring.factories</h3> 
</blockquote> 
<p>æˆ‘ä»¬æ ¹æ®æºå¤´æ‰“å¼€spring.factories ï¼Œ çœ‹åˆ°äº†å¾ˆå¤šè‡ªåŠ¨é…ç½®çš„æ–‡ä»¶ï¼›è¿™å°±æ˜¯è‡ªåŠ¨é…ç½®æ ¹æºæ‰€åœ¨ï¼</p> 
<p><img src="https://images2.imgbox.com/2c/93/9HZLASZc_o.jpg" alt="å›¾ç‰‡"></p> 
<p><strong>WebMvcAutoConfiguration</strong></p> 
<p>æˆ‘ä»¬åœ¨ä¸Šé¢çš„è‡ªåŠ¨é…ç½®ç±»éšä¾¿æ‰¾ä¸€ä¸ªæ‰“å¼€çœ‹çœ‹ï¼Œæ¯”å¦‚ ï¼šWebMvcAutoConfiguration</p> 
<p><img src="https://images2.imgbox.com/3b/15/sJdozjix_o.jpg" alt="å›¾ç‰‡"></p> 
<p>å¯ä»¥çœ‹åˆ°è¿™äº›ä¸€ä¸ªä¸ªçš„éƒ½æ˜¯JavaConfigé…ç½®ç±»ï¼Œè€Œä¸”éƒ½æ³¨å…¥äº†ä¸€äº›Beanï¼Œå¯ä»¥æ‰¾ä¸€äº›è‡ªå·±è®¤è¯†çš„ç±»ï¼Œçœ‹ç€ç†Ÿæ‚‰ä¸€ä¸‹ï¼</p> 
<p>æ‰€ä»¥ï¼Œè‡ªåŠ¨é…ç½®çœŸæ­£å®ç°æ˜¯ä»classpathä¸­æœå¯»æ‰€æœ‰çš„META-INF/spring.factoriesé…ç½®æ–‡ä»¶ ï¼Œå¹¶å°†å…¶ä¸­å¯¹åº”çš„ org.springframework.boot.autoconfigure. åŒ…ä¸‹çš„é…ç½®é¡¹ï¼Œé€šè¿‡åå°„å®ä¾‹åŒ–ä¸ºå¯¹åº”æ ‡æ³¨äº† @Configurationçš„JavaConfigå½¢å¼çš„IOCå®¹å™¨é…ç½®ç±» ï¼Œ ç„¶åå°†è¿™äº›éƒ½æ±‡æ€»æˆä¸ºä¸€ä¸ªå®ä¾‹å¹¶åŠ è½½åˆ°IOCå®¹å™¨ä¸­ã€‚</p> 
<p><strong>ç»“è®ºï¼š</strong></p> 
<ol><li>SpringBootåœ¨å¯åŠ¨çš„æ—¶å€™ä»ç±»è·¯å¾„ä¸‹çš„META-INF/spring.factoriesä¸­è·å–EnableAutoConfigurationæŒ‡å®šçš„å€¼</li><li>å°†è¿™äº›å€¼ä½œä¸ºè‡ªåŠ¨é…ç½®ç±»å¯¼å…¥å®¹å™¨ ï¼Œ è‡ªåŠ¨é…ç½®ç±»å°±ç”Ÿæ•ˆ ï¼Œ å¸®æˆ‘ä»¬è¿›è¡Œè‡ªåŠ¨é…ç½®å·¥ä½œï¼›</li><li>æ•´ä¸ªJ2EEçš„æ•´ä½“è§£å†³æ–¹æ¡ˆå’Œè‡ªåŠ¨é…ç½®éƒ½åœ¨springboot-autoconfigureçš„jaråŒ…ä¸­ï¼›</li><li>å®ƒä¼šç»™å®¹å™¨ä¸­å¯¼å…¥éå¸¸å¤šçš„è‡ªåŠ¨é…ç½®ç±» ï¼ˆxxxAutoConfigurationï¼‰, å°±æ˜¯ç»™å®¹å™¨ä¸­å¯¼å…¥è¿™ä¸ªåœºæ™¯éœ€è¦çš„æ‰€æœ‰ç»„ä»¶ ï¼Œ å¹¶é…ç½®å¥½è¿™äº›ç»„ä»¶ ï¼›</li><li>æœ‰äº†è‡ªåŠ¨é…ç½®ç±» ï¼Œ å…å»äº†æˆ‘ä»¬æ‰‹åŠ¨ç¼–å†™é…ç½®æ³¨å…¥åŠŸèƒ½ç»„ä»¶ç­‰çš„å·¥ä½œï¼›</li></ol> 
<h3><a id="SpringApplication_529"></a>SpringApplication</h3> 
<blockquote> 
 <h3><a id="_533"></a>ä¸ç®€å•çš„æ–¹æ³•</h3> 
</blockquote> 
<p>æˆ‘æœ€åˆä»¥ä¸ºå°±æ˜¯è¿è¡Œäº†ä¸€ä¸ªmainæ–¹æ³•ï¼Œæ²¡æƒ³åˆ°å´å¼€å¯äº†ä¸€ä¸ªæœåŠ¡ï¼›</p> 
<pre><code>
@SpringBootApplication
public class SpringbootApplication {
    public static void main(String[] args) {
        SpringApplication.run(SpringbootApplication.class, args);
    }
}
</code></pre> 
<p><strong>SpringApplication.runåˆ†æ</strong></p> 
<p>åˆ†æè¯¥æ–¹æ³•ä¸»è¦åˆ†ä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯SpringApplicationçš„å®ä¾‹åŒ–ï¼ŒäºŒæ˜¯runæ–¹æ³•çš„æ‰§è¡Œï¼›</p> 
<blockquote> 
 <h3><a id="SpringApplication_553"></a>SpringApplication</h3> 
</blockquote> 
<p><strong>è¿™ä¸ªç±»ä¸»è¦åšäº†ä»¥ä¸‹å››ä»¶äº‹æƒ…ï¼š</strong></p> 
<p>1ã€æ¨æ–­åº”ç”¨çš„ç±»å‹æ˜¯æ™®é€šçš„é¡¹ç›®è¿˜æ˜¯Webé¡¹ç›®</p> 
<p>2ã€æŸ¥æ‰¾å¹¶åŠ è½½æ‰€æœ‰å¯ç”¨åˆå§‹åŒ–å™¨ ï¼Œ è®¾ç½®åˆ°initializerså±æ€§ä¸­</p> 
<p>3ã€æ‰¾å‡ºæ‰€æœ‰çš„åº”ç”¨ç¨‹åºç›‘å¬å™¨ï¼Œè®¾ç½®åˆ°listenerså±æ€§ä¸­</p> 
<p>4ã€æ¨æ–­å¹¶è®¾ç½®mainæ–¹æ³•çš„å®šä¹‰ç±»ï¼Œæ‰¾åˆ°è¿è¡Œçš„ä¸»ç±»</p> 
<p>æŸ¥çœ‹æ„é€ å™¨ï¼š</p> 
<pre><code>
public SpringApplication(ResourceLoader resourceLoader, Class... primarySources) {
    // ......
    this.webApplicationType = WebApplicationType.deduceFromClasspath();
    this.setInitializers(this.getSpringFactoriesInstances();
    this.setListeners(this.getSpringFactoriesInstances(ApplicationListener.class));
    this.mainApplicationClass = this.deduceMainApplicationClass();
}
</code></pre> 
<blockquote> 
 <h3><a id="run_580"></a>runæ–¹æ³•æµç¨‹åˆ†æ</h3> 
</blockquote> 
<p><img src="https://images2.imgbox.com/80/ee/OA66yvsy_o.jpg" alt="å›¾ç‰‡"></p> 
<p>è·Ÿç€æºç å’Œè¿™å¹…å›¾å°±å¯ä»¥ä¸€æ¢ç©¶ç«Ÿäº†ï¼</p> 
<h2><a id="yaml_590"></a>yamlé…ç½®æ³¨å…¥</h2> 
<h3><a id="_596"></a>é…ç½®æ–‡ä»¶</h3> 
<p>SpringBootä½¿ç”¨ä¸€ä¸ªå…¨å±€çš„é…ç½®æ–‡ä»¶ ï¼Œ é…ç½®æ–‡ä»¶åç§°æ˜¯å›ºå®šçš„</p> 
<ul><li> <p>application.properties</p> </li><li> 
  <ul><li>è¯­æ³•ç»“æ„ ï¼škey=value</li></ul> </li><li> <p>application.yml</p> </li><li> 
  <ul><li>è¯­æ³•ç»“æ„ ï¼škeyï¼šç©ºæ ¼ value</li></ul> </li></ul> 
<p>**é…ç½®æ–‡ä»¶çš„ä½œç”¨ ï¼š**ä¿®æ”¹SpringBootè‡ªåŠ¨é…ç½®çš„é»˜è®¤å€¼ï¼Œå› ä¸ºSpringBootåœ¨åº•å±‚éƒ½ç»™æˆ‘ä»¬è‡ªåŠ¨é…ç½®å¥½äº†ï¼›</p> 
<h3><a id="yaml_614"></a>yamlæ¦‚è¿°</h3> 
<p><strong>è¿™ç§è¯­è¨€ä»¥æ•°æ®ä½œä¸ºä¸­å¿ƒï¼Œè€Œä¸æ˜¯ä»¥æ ‡è®°è¯­è¨€ä¸ºé‡ç‚¹ï¼</strong></p> 
<p>ä»¥å‰çš„é…ç½®æ–‡ä»¶ï¼Œå¤§å¤šæ•°éƒ½æ˜¯ä½¿ç”¨xmlæ¥é…ç½®ï¼›æ¯”å¦‚ä¸€ä¸ªç®€å•çš„ç«¯å£é…ç½®ï¼Œæˆ‘ä»¬æ¥å¯¹æ¯”ä¸‹yamlå’Œxml</p> 
<p>ä¼ ç»Ÿxmlé…ç½®ï¼š</p> 
<pre><code>&lt;server&gt;
    &lt;port&gt;8081&lt;port&gt;
&lt;/server&gt;
</code></pre> 
<p>yamlé…ç½®ï¼š</p> 
<pre><code>serverï¼š
  prot: 8080
</code></pre> 
<h3><a id="yaml_639"></a>yamlåŸºç¡€è¯­æ³•</h3> 
<p>è¯´æ˜ï¼šè¯­æ³•è¦æ±‚ä¸¥æ ¼ï¼</p> 
<p>1ã€ç©ºæ ¼ä¸èƒ½çœç•¥</p> 
<p>2ã€ä»¥ç¼©è¿›æ¥æ§åˆ¶å±‚çº§å…³ç³»ï¼Œåªè¦æ˜¯å·¦è¾¹å¯¹é½çš„ä¸€åˆ—æ•°æ®éƒ½æ˜¯åŒä¸€ä¸ªå±‚çº§çš„ã€‚</p> 
<p>3ã€å±æ€§å’Œå€¼çš„å¤§å°å†™éƒ½æ˜¯ååˆ†æ•æ„Ÿçš„ã€‚</p> 
<p><strong>å­—é¢é‡ï¼šæ™®é€šçš„å€¼ [ æ•°å­—ï¼Œå¸ƒå°”å€¼ï¼Œå­—ç¬¦ä¸² ]</strong></p> 
<p>å­—é¢é‡ç›´æ¥å†™åœ¨åé¢å°±å¯ä»¥ ï¼Œ å­—ç¬¦ä¸²é»˜è®¤ä¸ç”¨åŠ ä¸ŠåŒå¼•å·æˆ–è€…å•å¼•å·ï¼›</p> 
<pre><code>k: v
</code></pre> 
<p>æ³¨æ„ï¼š</p> 
<ul><li> <p>â€œ â€ åŒå¼•å·ï¼Œä¸ä¼šè½¬ä¹‰å­—ç¬¦ä¸²é‡Œé¢çš„ç‰¹æ®Šå­—ç¬¦ ï¼Œ ç‰¹æ®Šå­—ç¬¦ä¼šä½œä¸ºæœ¬èº«æƒ³è¡¨ç¤ºçš„æ„æ€ï¼›æ¯”å¦‚ ï¼šname: â€œkuang \n shenâ€ è¾“å‡º ï¼škuang æ¢è¡Œ shen</p> </li><li> <p>â€˜â€™ å•å¼•å·ï¼Œä¼šè½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ ï¼Œ ç‰¹æ®Šå­—ç¬¦æœ€ç»ˆä¼šå˜æˆå’Œæ™®é€šå­—ç¬¦ä¸€æ ·è¾“å‡ºæ¯”å¦‚ ï¼šname: â€˜kuang \n shenâ€™ è¾“å‡º ï¼škuang \n shen</p> </li></ul> 
<p><strong>å¯¹è±¡ã€Mapï¼ˆé”®å€¼å¯¹ï¼‰</strong></p> 
<pre><code>#å¯¹è±¡ã€Mapæ ¼å¼
k: 
    v1:
    v2:
</code></pre> 
<p>åœ¨ä¸‹ä¸€è¡Œæ¥å†™å¯¹è±¡çš„å±æ€§å’Œå€¼å¾—å…³ç³»ï¼Œæ³¨æ„ç¼©è¿›ï¼›æ¯”å¦‚ï¼š</p> 
<pre><code>
student:
    name: qinjiang
    age: 3
</code></pre> 
<p>è¡Œå†…å†™æ³•</p> 
<pre><code>
student: {name: qinjiang,age: 3}
</code></pre> 
<p><strong>æ•°ç»„ï¼ˆ Listã€set ï¼‰</strong></p> 
<p>ç”¨ - å€¼è¡¨ç¤ºæ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´ ,æ¯”å¦‚ï¼š</p> 
<pre><code>
pets:
 - cat
 - dog
 - pig
</code></pre> 
<p>è¡Œå†…å†™æ³•</p> 
<pre><code>pets: [cat,dog,pig]
</code></pre> 
<h3><a id="yaml_722"></a>yamlæ³¨å…¥é…ç½®æ–‡ä»¶</h3> 
<p>yamlæ–‡ä»¶æ›´å¼ºå¤§çš„åœ°æ–¹åœ¨äºï¼Œä»–å¯ä»¥ç»™æˆ‘ä»¬çš„å®ä½“ç±»ç›´æ¥æ³¨å…¥åŒ¹é…å€¼ï¼</p> 
<p>1ã€åœ¨springbooté¡¹ç›®ä¸­çš„resourcesç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶ application.yml</p> 
<p>2ã€ç¼–å†™ä¸€ä¸ªå®ä½“ç±» Dogï¼›</p> 
<pre><code>
package com.kuang.springboot.pojo;

@Component  //æ³¨å†Œbeanåˆ°å®¹å™¨ä¸­
public class Dog {
    private String name;
    private Integer age;
    
    //æœ‰å‚æ— å‚æ„é€ ã€getã€setæ–¹æ³•ã€toString()æ–¹æ³•  
}
</code></pre> 
<p>3ã€æ€è€ƒï¼Œæˆ‘ä»¬åŸæ¥æ˜¯å¦‚ä½•ç»™beanæ³¨å…¥å±æ€§å€¼çš„ï¼@Valueï¼Œç»™ç‹—ç‹—ç±»æµ‹è¯•ä¸€ä¸‹ï¼š</p> 
<pre><code>
@Component //æ³¨å†Œbean
public class Dog {
    @Value("é˜¿é»„")
    private String name;
    @Value("18")
    private Integer age;
}
</code></pre> 
<p>4ã€åœ¨SpringBootçš„æµ‹è¯•ç±»ä¸‹æ³¨å…¥ç‹—ç‹—è¾“å‡ºä¸€ä¸‹ï¼›</p> 
<pre><code>
@SpringBootTest
class DemoApplicationTests {

    @Autowired //å°†ç‹—ç‹—è‡ªåŠ¨æ³¨å…¥è¿›æ¥
    Dog dog;

    @Test
    public void contextLoads() {
        System.out.println(dog); //æ‰“å°çœ‹ä¸‹ç‹—ç‹—å¯¹è±¡
    }

}
</code></pre> 
<p>ç»“æœæˆåŠŸè¾“å‡ºï¼Œ@Valueæ³¨å…¥æˆåŠŸï¼Œè¿™æ˜¯æˆ‘ä»¬åŸæ¥çš„åŠæ³•å¯¹å§ã€‚</p> 
<p><img src="https://images2.imgbox.com/eb/2e/D8X2DbnX_o.png" alt="å›¾ç‰‡"></p> 
<p>5ã€æˆ‘ä»¬åœ¨ç¼–å†™ä¸€ä¸ªå¤æ‚ä¸€ç‚¹çš„å®ä½“ç±»ï¼šPerson ç±»</p> 
<pre><code>
@Component //æ³¨å†Œbeanåˆ°å®¹å™¨ä¸­
public class Person {
    private String name;
    private Integer age;
    private Boolean happy;
    private Date birth;
    private Map&lt;String,Object&gt; maps;
    private List&lt;Object&gt; lists;
    private Dog dog;
    
    //æœ‰å‚ã€æ— å‚æ„é€ ã€getã€setæ–¹æ³•ã€toString()æ–¹æ³•  
}
</code></pre> 
<p>6ã€æˆ‘ä»¬æ¥ä½¿ç”¨yamlé…ç½®çš„æ–¹å¼è¿›è¡Œæ³¨å…¥ï¼Œå¤§å®¶å†™çš„æ—¶å€™æ³¨æ„åŒºåˆ«å’Œä¼˜åŠ¿ï¼Œæˆ‘ä»¬ç¼–å†™ä¸€ä¸ªyamlé…ç½®ï¼</p> 
<pre><code>person:
  name: qinjiang
  age: 3
  happy: false
  birth: 2000/01/01
  maps: {k1: v1,k2: v2}
  lists:
   - code
   - girl
   - music
  dog:
    name: æ—ºè´¢
    age: 1
</code></pre> 
<p>7ã€æˆ‘ä»¬åˆšæ‰å·²ç»æŠŠpersonè¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰å€¼éƒ½å†™å¥½äº†ï¼Œæˆ‘ä»¬ç°åœ¨æ¥æ³¨å…¥åˆ°æˆ‘ä»¬çš„ç±»ä¸­ï¼</p> 
<pre><code>
/*
@ConfigurationPropertiesä½œç”¨ï¼š
å°†é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„æ¯ä¸€ä¸ªå±æ€§çš„å€¼ï¼Œæ˜ å°„åˆ°è¿™ä¸ªç»„ä»¶ä¸­ï¼›
å‘Šè¯‰SpringBootå°†æœ¬ç±»ä¸­çš„æ‰€æœ‰å±æ€§å’Œé…ç½®æ–‡ä»¶ä¸­ç›¸å…³çš„é…ç½®è¿›è¡Œç»‘å®š
å‚æ•° prefix = â€œpersonâ€ : å°†é…ç½®æ–‡ä»¶ä¸­çš„personä¸‹é¢çš„æ‰€æœ‰å±æ€§ä¸€ä¸€å¯¹åº”
*/
@Component //æ³¨å†Œbean
@ConfigurationProperties(prefix = "person")
public class Person {
    private String name;
    private Integer age;
    private Boolean happy;
    private Date birth;
    private Map&lt;String,Object&gt; maps;
    private List&lt;Object&gt; lists;
    private Dog dog;
    
    //æœ‰å‚ã€æ— å‚æ„é€ ã€getã€setæ–¹æ³•ã€toString()æ–¹æ³•  

}
</code></pre> 
<p>8ã€IDEA æç¤ºï¼Œspringbooté…ç½®æ³¨è§£å¤„ç†å™¨æ²¡æœ‰æ‰¾åˆ°ï¼Œè®©æˆ‘ä»¬çœ‹æ–‡æ¡£ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹æ–‡æ¡£ï¼Œæ‰¾åˆ°ä¸€ä¸ªä¾èµ–ï¼</p> 
<p><img src="https://images2.imgbox.com/89/c3/EER39iZN_o.png" alt="å›¾ç‰‡"></p> 
<p><img src="https://images2.imgbox.com/7b/39/hihA3a9b_o.jpg" alt="å›¾ç‰‡"></p> 
<pre><code>&lt;!-- å¯¼å…¥é…ç½®æ–‡ä»¶å¤„ç†å™¨ï¼Œé…ç½®æ–‡ä»¶è¿›è¡Œç»‘å®šå°±ä¼šæœ‰æç¤ºï¼Œéœ€è¦åˆ·æ–°maven --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;
  &lt;optional&gt;true&lt;/optional&gt;
&lt;/dependency&gt;
</code></pre> 
<p>9ã€ç¡®è®¤ä»¥ä¸Šé…ç½®éƒ½OKä¹‹åï¼Œæˆ‘ä»¬å»æµ‹è¯•ç±»ä¸­æµ‹è¯•ä¸€ä¸‹ï¼š</p> 
<pre><code>
@SpringBootTest
class DemoApplicationTests {

    @Autowired
    Person person; //å°†personè‡ªåŠ¨æ³¨å…¥è¿›æ¥

    @Test
    public void contextLoads() {
        System.out.println(person); //æ‰“å°personä¿¡æ¯
    }

}
</code></pre> 
<p>ç»“æœï¼šæ‰€æœ‰å€¼å…¨éƒ¨æ³¨å…¥æˆåŠŸï¼</p> 
<p><img src="https://images2.imgbox.com/ff/d2/3YXI8i6L_o.png" alt="å›¾ç‰‡"></p> 
<p><strong>æ³¨æ„ï¼š</strong></p> 
<p><strong>å°†é…ç½®æ–‡ä»¶çš„key å€¼ å’Œ å±æ€§çš„å€¼è®¾ç½®ä¸ºä¸ä¸€æ ·ï¼Œåˆ™ç»“æœè¾“å‡ºä¸ºnullï¼Œæ³¨å…¥å¤±è´¥</strong></p> 
<h3><a id="_889"></a>åŠ è½½æŒ‡å®šçš„é…ç½®æ–‡ä»¶</h3> 
<p>**@PropertySource ï¼š**åŠ è½½æŒ‡å®šçš„é…ç½®æ–‡ä»¶ï¼›</p> 
<p><strong>@configurationProperties</strong>ï¼šé»˜è®¤ä»å…¨å±€é…ç½®æ–‡ä»¶ä¸­è·å–å€¼ï¼›</p> 
<p>1ã€æˆ‘ä»¬å»åœ¨resourcesç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª<strong>person.properties</strong>æ–‡ä»¶</p> 
<pre><code>name=kuangshen
</code></pre> 
<p>2ã€ç„¶ååœ¨æˆ‘ä»¬çš„ä»£ç ä¸­æŒ‡å®šåŠ è½½person.propertiesæ–‡ä»¶</p> 
<pre><code>
@PropertySource(value = "classpath:person.properties")
@Component //æ³¨å†Œbean
public class Person {

    @Value("${name}")
    private String name;

    ......  
}
</code></pre> 
<p>3ã€å†æ¬¡è¾“å‡ºæµ‹è¯•ä¸€ä¸‹ï¼šæŒ‡å®šé…ç½®æ–‡ä»¶ç»‘å®šæˆåŠŸï¼</p> 
<p><img src="https://images2.imgbox.com/e3/ee/PopghYLR_o.png" alt="å›¾ç‰‡"></p> 
<h3><a id="_924"></a>é…ç½®æ–‡ä»¶å ä½ç¬¦</h3> 
<p>é…ç½®æ–‡ä»¶è¿˜å¯ä»¥ç¼–å†™å ä½ç¬¦ç”Ÿæˆéšæœºæ•°</p> 
<pre><code>person:
    name: qinjiang${random.uuid} # éšæœºuuid
    age: ${random.int}  # éšæœºint
    happy: false
    birth: 2000/01/01
    maps: {k1: v1,k2: v2}
    lists:
      - code
      - girl
      - music
    dog:
      name: ${person.hello:other}_æ—ºè´¢
      age: 1
</code></pre> 
<h3><a id="properties_950"></a>å›é¡¾propertiesé…ç½®</h3> 
<p>æˆ‘ä»¬ä¸Šé¢é‡‡ç”¨çš„yamlæ–¹æ³•éƒ½æ˜¯æœ€ç®€å•çš„æ–¹å¼ï¼Œå¼€å‘ä¸­æœ€å¸¸ç”¨çš„ï¼›ä¹Ÿæ˜¯springbootæ‰€æ¨èçš„ï¼é‚£æˆ‘ä»¬æ¥å” å” å…¶ä»–çš„å®ç°æ–¹å¼ï¼Œé“ç†éƒ½æ˜¯ç›¸åŒçš„ï¼›å†™è¿˜æ˜¯é‚£æ ·å†™ï¼›é…ç½®æ–‡ä»¶é™¤äº†ymlè¿˜æœ‰æˆ‘ä»¬ä¹‹å‰å¸¸ç”¨çš„properties</p> 
<p>ã€æ³¨æ„ã€‘propertiesé…ç½®æ–‡ä»¶åœ¨å†™ä¸­æ–‡çš„æ—¶å€™ï¼Œä¼šæœ‰ä¹±ç  ï¼Œ æˆ‘ä»¬éœ€è¦å»IDEAä¸­è®¾ç½®ç¼–ç æ ¼å¼ä¸ºUTF-8ï¼›</p> 
<p>settingsâ€“&gt;FileEncodings ä¸­é…ç½®ï¼›</p> 
<p><img src="https://images2.imgbox.com/74/5c/KuHgcGU3_o.png" alt="å›¾ç‰‡"></p> 
<p><strong>æµ‹è¯•æ­¥éª¤ï¼š</strong></p> 
<p>1ã€æ–°å»ºä¸€ä¸ªå®ä½“ç±»User</p> 
<pre><code>
@Component //æ³¨å†Œbean
public class User {
    private String name;
    private int age;
    private String sex;
}
</code></pre> 
<p>2ã€ç¼–è¾‘é…ç½®æ–‡ä»¶ user.properties</p> 
<pre><code>
user1.name=kuangshen
user1.age=18
user1.sex=ç”·
</code></pre> 
<p>3ã€æˆ‘ä»¬åœ¨Userç±»ä¸Šä½¿ç”¨@Valueæ¥è¿›è¡Œæ³¨å…¥ï¼</p> 
<pre><code>
@Component //æ³¨å†Œbean
@PropertySource(value = "classpath:user.properties")
public class User {
    //ç›´æ¥ä½¿ç”¨@value
    @Value("${user.name}") //ä»é…ç½®æ–‡ä»¶ä¸­å–å€¼
    private String name;
    @Value("#{9*2}")  // #{SPEL} Springè¡¨è¾¾å¼
    private int age;
    @Value("ç”·")  // å­—é¢é‡
    private String sex;
}
</code></pre> 
<p>4ã€Springbootæµ‹è¯•</p> 
<pre><code>
@SpringBootTest
class DemoApplicationTests {

    @Autowired
    User user;

    @Test
    public void contextLoads() {
        System.out.println(user);
    }

}
</code></pre> 
<p>ç»“æœæ­£å¸¸è¾“å‡ºï¼š</p> 
<p><img src="https://images2.imgbox.com/fc/2a/Otie8ZbP_o.png" alt="å›¾ç‰‡"></p> 
<h3><a id="_1026"></a>å¯¹æ¯”å°ç»“</h3> 
<p>@Valueè¿™ä¸ªä½¿ç”¨èµ·æ¥å¹¶ä¸å‹å¥½ï¼æˆ‘ä»¬éœ€è¦ä¸ºæ¯ä¸ªå±æ€§å•ç‹¬æ³¨è§£èµ‹å€¼ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼›æˆ‘ä»¬æ¥çœ‹ä¸ªåŠŸèƒ½å¯¹æ¯”å›¾</p> 
<p><img src="https://images2.imgbox.com/e0/33/shy9iVou_o.png" alt="å›¾ç‰‡"></p> 
<p>1ã€@ConfigurationPropertiesåªéœ€è¦å†™ä¸€æ¬¡å³å¯ ï¼Œ @Valueåˆ™éœ€è¦æ¯ä¸ªå­—æ®µéƒ½æ·»åŠ </p> 
<p>2ã€æ¾æ•£ç»‘å®šï¼šè¿™ä¸ªä»€ä¹ˆæ„æ€å‘¢? æ¯”å¦‚æˆ‘çš„ymlä¸­å†™çš„last-nameï¼Œè¿™ä¸ªå’ŒlastNameæ˜¯ä¸€æ ·çš„ï¼Œ - åé¢è·Ÿç€çš„å­—æ¯é»˜è®¤æ˜¯å¤§å†™çš„ã€‚è¿™å°±æ˜¯æ¾æ•£ç»‘å®šã€‚å¯ä»¥æµ‹è¯•ä¸€ä¸‹</p> 
<p>3ã€JSR303æ•°æ®æ ¡éªŒ ï¼Œ è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬å¯ä»¥åœ¨å­—æ®µæ˜¯å¢åŠ ä¸€å±‚è¿‡æ»¤å™¨éªŒè¯ ï¼Œ å¯ä»¥ä¿è¯æ•°æ®çš„åˆæ³•æ€§</p> 
<p>4ã€å¤æ‚ç±»å‹å°è£…ï¼Œymlä¸­å¯ä»¥å°è£…å¯¹è±¡ ï¼Œ ä½¿ç”¨valueå°±ä¸æ”¯æŒ</p> 
<p><strong>ç»“è®ºï¼š</strong></p> 
<p>é…ç½®ymlå’Œé…ç½®propertieséƒ½å¯ä»¥è·å–åˆ°å€¼ ï¼Œ å¼ºçƒˆæ¨è ymlï¼›</p> 
<p>å¦‚æœæˆ‘ä»¬åœ¨æŸä¸ªä¸šåŠ¡ä¸­ï¼Œåªéœ€è¦è·å–é…ç½®æ–‡ä»¶ä¸­çš„æŸä¸ªå€¼ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸‹ @valueï¼›</p> 
<p>å¦‚æœè¯´ï¼Œæˆ‘ä»¬ä¸“é—¨ç¼–å†™äº†ä¸€ä¸ªJavaBeanæ¥å’Œé…ç½®æ–‡ä»¶è¿›è¡Œä¸€ä¸€æ˜ å°„ï¼Œå°±ç›´æ¥@configurationPropertiesï¼Œä¸è¦çŠ¹è±«ï¼</p> 
<h2><a id="JSR303_1052"></a>JSR303æ•°æ®æ ¡éªŒåŠå¤šç¯å¢ƒåˆ‡æ¢</h2> 
<p>Springbootä¸­å¯ä»¥ç”¨@validatedæ¥æ ¡éªŒæ•°æ®ï¼Œå¦‚æœæ•°æ®å¼‚å¸¸åˆ™ä¼šç»Ÿä¸€æŠ›å‡ºå¼‚å¸¸ï¼Œæ–¹ä¾¿å¼‚å¸¸ä¸­å¿ƒç»Ÿä¸€å¤„ç†ã€‚æˆ‘ä»¬è¿™é‡Œæ¥å†™ä¸ªæ³¨è§£è®©æˆ‘ä»¬çš„nameåªèƒ½æ”¯æŒEmailæ ¼å¼ï¼›</p> 
<pre><code>
@Component //æ³¨å†Œbean
@ConfigurationProperties(prefix = "person")
@Validated  //æ•°æ®æ ¡éªŒ
public class Person {

    @Email(message="é‚®ç®±æ ¼å¼é”™è¯¯") //nameå¿…é¡»æ˜¯é‚®ç®±æ ¼å¼
    private String name;
}
</code></pre> 
<p>è¿è¡Œç»“æœ ï¼šdefault message [ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„ç”µå­é‚®ä»¶åœ°å€];</p> 
<p><img src="https://images2.imgbox.com/4b/3f/hFbC0KFG_o.png" alt="å›¾ç‰‡"></p> 
<p><strong>ä½¿ç”¨æ•°æ®æ ¡éªŒï¼Œå¯ä»¥ä¿è¯æ•°æ®çš„æ­£ç¡®æ€§ï¼›</strong></p> 
<h3><a id="_1078"></a>å¸¸è§å‚æ•°</h3> 
<pre><code>
@NotNull(message="åå­—ä¸èƒ½ä¸ºç©º")
private String userName;
@Max(value=120,message="å¹´é¾„æœ€å¤§ä¸èƒ½æŸ¥è¿‡120")
private int age;
@Email(message="é‚®ç®±æ ¼å¼é”™è¯¯")
private String email;

ç©ºæ£€æŸ¥
@Null       éªŒè¯å¯¹è±¡æ˜¯å¦ä¸ºnull
@NotNull    éªŒè¯å¯¹è±¡æ˜¯å¦ä¸ä¸ºnull, æ— æ³•æŸ¥æ£€é•¿åº¦ä¸º0çš„å­—ç¬¦ä¸²
@NotBlank   æ£€æŸ¥çº¦æŸå­—ç¬¦ä¸²æ˜¯ä¸æ˜¯Nullè¿˜æœ‰è¢«Trimçš„é•¿åº¦æ˜¯å¦å¤§äº0,åªå¯¹å­—ç¬¦ä¸²,ä¸”ä¼šå»æ‰å‰åç©ºæ ¼.
@NotEmpty   æ£€æŸ¥çº¦æŸå…ƒç´ æ˜¯å¦ä¸ºNULLæˆ–è€…æ˜¯EMPTY.
    
Booelanæ£€æŸ¥
@AssertTrue     éªŒè¯ Boolean å¯¹è±¡æ˜¯å¦ä¸º true  
@AssertFalse    éªŒè¯ Boolean å¯¹è±¡æ˜¯å¦ä¸º false  
    
é•¿åº¦æ£€æŸ¥
@Size(min=, max=) éªŒè¯å¯¹è±¡ï¼ˆArray,Collection,Map,Stringï¼‰é•¿åº¦æ˜¯å¦åœ¨ç»™å®šçš„èŒƒå›´ä¹‹å†…  
@Length(min=, max=) string is between min and max included.

æ—¥æœŸæ£€æŸ¥
@Past       éªŒè¯ Date å’Œ Calendar å¯¹è±¡æ˜¯å¦åœ¨å½“å‰æ—¶é—´ä¹‹å‰  
@Future     éªŒè¯ Date å’Œ Calendar å¯¹è±¡æ˜¯å¦åœ¨å½“å‰æ—¶é—´ä¹‹å  
@Pattern    éªŒè¯ String å¯¹è±¡æ˜¯å¦ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™

.......ç­‰ç­‰
é™¤æ­¤ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è‡ªå®šä¹‰ä¸€äº›æ•°æ®æ ¡éªŒè§„åˆ™
</code></pre> 
<h3><a id="_1118"></a>å¤šç¯å¢ƒåˆ‡æ¢</h3> 
<p>profileæ˜¯Springå¯¹ä¸åŒç¯å¢ƒæä¾›ä¸åŒé…ç½®åŠŸèƒ½çš„æ”¯æŒï¼Œå¯ä»¥é€šè¿‡æ¿€æ´»ä¸åŒçš„ç¯å¢ƒç‰ˆæœ¬ï¼Œå®ç°å¿«é€Ÿåˆ‡æ¢ç¯å¢ƒï¼›</p> 
<h4><a id="_1124"></a>å¤šé…ç½®æ–‡ä»¶</h4> 
<p>æˆ‘ä»¬åœ¨ä¸»é…ç½®æ–‡ä»¶ç¼–å†™çš„æ—¶å€™ï¼Œæ–‡ä»¶åå¯ä»¥æ˜¯ application-{profile}.properties/yml , ç”¨æ¥æŒ‡å®šå¤šä¸ªç¯å¢ƒç‰ˆæœ¬ï¼›</p> 
<p><strong>ä¾‹å¦‚ï¼š</strong></p> 
<p>application-test.properties ä»£è¡¨æµ‹è¯•ç¯å¢ƒé…ç½®</p> 
<p>application-dev.properties ä»£è¡¨å¼€å‘ç¯å¢ƒé…ç½®</p> 
<p>ä½†æ˜¯Springbootå¹¶ä¸ä¼šç›´æ¥å¯åŠ¨è¿™äº›é…ç½®æ–‡ä»¶ï¼Œå®ƒ<strong>é»˜è®¤ä½¿ç”¨application.propertiesä¸»é…ç½®æ–‡ä»¶</strong>ï¼›</p> 
<p>æˆ‘ä»¬éœ€è¦é€šè¿‡ä¸€ä¸ªé…ç½®æ¥é€‰æ‹©éœ€è¦æ¿€æ´»çš„ç¯å¢ƒï¼š</p> 
<pre><code class="prism language-java">#æ¯”å¦‚åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šä½¿ç”¨devç¯å¢ƒï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®ä¸åŒçš„ç«¯å£å·è¿›è¡Œæµ‹è¯•ï¼›
#æˆ‘ä»¬å¯åŠ¨<span class="token class-name">SpringBoot</span>ï¼Œå°±å¯ä»¥çœ‹åˆ°å·²ç»åˆ‡æ¢åˆ°devä¸‹çš„é…ç½®äº†ï¼›
spring<span class="token punctuation">.</span>profiles<span class="token punctuation">.</span>active<span class="token operator">=</span>dev
</code></pre> 
<h3><a id="yaml_1148"></a>yamlçš„å¤šæ–‡æ¡£å—</h3> 
<p>å’Œpropertiesé…ç½®æ–‡ä»¶ä¸­ä¸€æ ·ï¼Œä½†æ˜¯ä½¿ç”¨ymlå»å®ç°ä¸éœ€è¦åˆ›å»ºå¤šä¸ªç½®æ–‡ä»¶ï¼Œæ›´åŠ æ–¹ä¾¿äº† !</p> 
<pre><code>
server:
  port: 8081
#é€‰æ‹©è¦æ¿€æ´»é‚£ä¸ªç¯å¢ƒå—
spring:
  profiles:
    active: prod

---
server:
  port: 8083
spring:
  profiles: dev #é…ç½®ç¯å¢ƒçš„åç§°


---

server:
  port: 8084
spring:
  profiles: prod  #é…ç½®ç¯å¢ƒçš„åç§°
</code></pre> 
<p><strong>æ³¨æ„ï¼šå¦‚æœymlå’ŒpropertiesåŒæ—¶éƒ½é…ç½®äº†ç«¯å£ï¼Œå¹¶ä¸”æ²¡æœ‰æ¿€æ´»å…¶ä»–ç¯å¢ƒ ï¼Œ é»˜è®¤ä¼šä½¿ç”¨propertiesé…ç½®æ–‡ä»¶çš„ï¼</strong></p> 
<h3><a id="_1182"></a>é…ç½®æ–‡ä»¶åŠ è½½ä½ç½®</h3> 
<p><strong>å¤–éƒ¨åŠ è½½é…ç½®æ–‡ä»¶çš„æ–¹å¼ååˆ†å¤šï¼Œæˆ‘ä»¬é€‰æ‹©æœ€å¸¸ç”¨çš„å³å¯ï¼Œåœ¨å¼€å‘çš„èµ„æºæ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼</strong></p> 
<p>å®˜æ–¹å¤–éƒ¨é…ç½®æ–‡ä»¶è¯´æ˜å‚è€ƒæ–‡æ¡£</p> 
<p><img src="https://images2.imgbox.com/0e/82/p5nxPXWi_o.png" alt="å›¾ç‰‡"></p> 
<p>springboot å¯åŠ¨ä¼šæ‰«æä»¥ä¸‹ä½ç½®çš„application.propertiesæˆ–è€…application.ymlæ–‡ä»¶ä½œä¸ºSpring bootçš„é»˜è®¤é…ç½®æ–‡ä»¶ï¼š</p> 
<pre><code>ä¼˜å…ˆçº§1ï¼šé¡¹ç›®è·¯å¾„ä¸‹çš„configæ–‡ä»¶å¤¹é…ç½®æ–‡ä»¶
ä¼˜å…ˆçº§2ï¼šé¡¹ç›®è·¯å¾„ä¸‹é…ç½®æ–‡ä»¶
ä¼˜å…ˆçº§3ï¼šèµ„æºè·¯å¾„ä¸‹çš„configæ–‡ä»¶å¤¹é…ç½®æ–‡ä»¶
ä¼˜å…ˆçº§4ï¼šèµ„æºè·¯å¾„ä¸‹é…ç½®æ–‡ä»¶
</code></pre> 
<p>ä¼˜å…ˆçº§ç”±é«˜åˆ°åº•ï¼Œé«˜ä¼˜å…ˆçº§çš„é…ç½®ä¼šè¦†ç›–ä½ä¼˜å…ˆçº§çš„é…ç½®ï¼›</p> 
<p><strong>SpringBootä¼šä»è¿™å››ä¸ªä½ç½®å…¨éƒ¨åŠ è½½ä¸»é…ç½®æ–‡ä»¶ï¼›äº’è¡¥é…ç½®ï¼›</strong></p> 
<p>æˆ‘ä»¬åœ¨æœ€ä½çº§çš„é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ä¸€ä¸ªé¡¹ç›®è®¿é—®è·¯å¾„çš„é…ç½®æ¥æµ‹è¯•äº’è¡¥é—®é¢˜ï¼›</p> 
<pre><code>#é…ç½®é¡¹ç›®çš„è®¿é—®è·¯å¾„
server.servlet.context-path=/kuang
</code></pre> 
<h3><a id="_1214"></a>æ‹“å±•ï¼Œè¿ç»´å°æŠ€å·§</h3> 
<p>æŒ‡å®šä½ç½®åŠ è½½é…ç½®æ–‡ä»¶</p> 
<p>æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡spring.config.locationæ¥æ”¹å˜é»˜è®¤çš„é…ç½®æ–‡ä»¶ä½ç½®</p> 
<p>é¡¹ç›®æ‰“åŒ…å¥½ä»¥åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°çš„å½¢å¼ï¼Œå¯åŠ¨é¡¹ç›®çš„æ—¶å€™æ¥æŒ‡å®šé…ç½®æ–‡ä»¶çš„æ–°ä½ç½®ï¼›è¿™ç§æƒ…å†µï¼Œä¸€èˆ¬æ˜¯åæœŸè¿ç»´åšçš„å¤šï¼Œç›¸åŒé…ç½®ï¼Œå¤–éƒ¨æŒ‡å®šçš„é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§æœ€é«˜</p> 
<pre><code>java -jar spring-boot-config.jar --spring.config.location=F:/application.properties
</code></pre> 
<h2><a id="_1232"></a>è‡ªåŠ¨é…ç½®åŸç†</h2> 
<p>é…ç½®æ–‡ä»¶åˆ°åº•èƒ½å†™ä»€ä¹ˆï¼Ÿæ€ä¹ˆå†™ï¼Ÿ</p> 
<p>SpringBootå®˜æ–¹æ–‡æ¡£ä¸­æœ‰å¤§é‡çš„é…ç½®ï¼Œæˆ‘ä»¬æ— æ³•å…¨éƒ¨è®°ä½</p> 
<p><img src="https://images2.imgbox.com/69/18/oJZLrpse_o.jpg" alt="å›¾ç‰‡"></p> 
<h3><a id="_1244"></a>åˆ†æè‡ªåŠ¨é…ç½®åŸç†</h3> 
<p>æˆ‘ä»¬ä»¥**HttpEncodingAutoConfigurationï¼ˆHttpç¼–ç è‡ªåŠ¨é…ç½®ï¼‰**ä¸ºä¾‹è§£é‡Šè‡ªåŠ¨é…ç½®åŸç†ï¼›</p> 
<pre><code>//è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œå’Œä»¥å‰ç¼–å†™çš„é…ç½®æ–‡ä»¶ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ï¼›
@Configuration 

//å¯åŠ¨æŒ‡å®šç±»çš„ConfigurationPropertiesåŠŸèƒ½ï¼›
  //è¿›å…¥è¿™ä¸ªHttpPropertiesæŸ¥çœ‹ï¼Œå°†é…ç½®æ–‡ä»¶ä¸­å¯¹åº”çš„å€¼å’ŒHttpPropertiesç»‘å®šèµ·æ¥ï¼›
  //å¹¶æŠŠHttpPropertiesåŠ å…¥åˆ°iocå®¹å™¨ä¸­
@EnableConfigurationProperties({HttpProperties.class}) 

//Springåº•å±‚@Conditionalæ³¨è§£
  //æ ¹æ®ä¸åŒçš„æ¡ä»¶åˆ¤æ–­ï¼Œå¦‚æœæ»¡è¶³æŒ‡å®šçš„æ¡ä»¶ï¼Œæ•´ä¸ªé…ç½®ç±»é‡Œé¢çš„é…ç½®å°±ä¼šç”Ÿæ•ˆï¼›
  //è¿™é‡Œçš„æ„æ€å°±æ˜¯åˆ¤æ–­å½“å‰åº”ç”¨æ˜¯å¦æ˜¯webåº”ç”¨ï¼Œå¦‚æœæ˜¯ï¼Œå½“å‰é…ç½®ç±»ç”Ÿæ•ˆ
@ConditionalOnWebApplication(
    type = Type.SERVLET
)

//åˆ¤æ–­å½“å‰é¡¹ç›®æœ‰æ²¡æœ‰è¿™ä¸ªç±»CharacterEncodingFilterï¼›SpringMVCä¸­è¿›è¡Œä¹±ç è§£å†³çš„è¿‡æ»¤å™¨ï¼›
@ConditionalOnClass({CharacterEncodingFilter.class})

//åˆ¤æ–­é…ç½®æ–‡ä»¶ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªé…ç½®ï¼šspring.http.encoding.enabledï¼›
  //å¦‚æœä¸å­˜åœ¨ï¼Œåˆ¤æ–­ä¹Ÿæ˜¯æˆç«‹çš„
  //å³ä½¿æˆ‘ä»¬é…ç½®æ–‡ä»¶ä¸­ä¸é…ç½®pring.http.encoding.enabled=trueï¼Œä¹Ÿæ˜¯é»˜è®¤ç”Ÿæ•ˆçš„ï¼›
@ConditionalOnProperty(
    prefix = "spring.http.encoding",
    value = {"enabled"},
    matchIfMissing = true
)

public class HttpEncodingAutoConfiguration {
    //ä»–å·²ç»å’ŒSpringBootçš„é…ç½®æ–‡ä»¶æ˜ å°„äº†
    private final Encoding properties;
    //åªæœ‰ä¸€ä¸ªæœ‰å‚æ„é€ å™¨çš„æƒ…å†µä¸‹ï¼Œå‚æ•°çš„å€¼å°±ä¼šä»å®¹å™¨ä¸­æ‹¿
    public HttpEncodingAutoConfiguration(HttpProperties properties) {
        this.properties = properties.getEncoding();
    }
    
    //ç»™å®¹å™¨ä¸­æ·»åŠ ä¸€ä¸ªç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶çš„æŸäº›å€¼éœ€è¦ä»propertiesä¸­è·å–
    @Bean
    @ConditionalOnMissingBean //åˆ¤æ–­å®¹å™¨æ²¡æœ‰è¿™ä¸ªç»„ä»¶ï¼Ÿ
    public CharacterEncodingFilter characterEncodingFilter() {
        CharacterEncodingFilter filter = new OrderedCharacterEncodingFilter();
        filter.setEncoding(this.properties.getCharset().name());
        filter.setForceRequestEncoding(this.properties.shouldForce(org.springframework.boot.autoconfigure.http.HttpProperties.Encoding.Type.REQUEST));
        filter.setForceResponseEncoding(this.properties.shouldForce(org.springframework.boot.autoconfigure.http.HttpProperties.Encoding.Type.RESPONSE));
        return filter;
    }
    //ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚
}
</code></pre> 
<p><strong>ä¸€å¥è¯æ€»ç»“ ï¼šæ ¹æ®å½“å‰ä¸åŒçš„æ¡ä»¶åˆ¤æ–­ï¼Œå†³å®šè¿™ä¸ªé…ç½®ç±»æ˜¯å¦ç”Ÿæ•ˆï¼</strong></p> 
<ul><li>ä¸€ä½†è¿™ä¸ªé…ç½®ç±»ç”Ÿæ•ˆï¼›è¿™ä¸ªé…ç½®ç±»å°±ä¼šç»™å®¹å™¨ä¸­æ·»åŠ å„ç§ç»„ä»¶ï¼›</li><li>è¿™äº›ç»„ä»¶çš„å±æ€§æ˜¯ä»å¯¹åº”çš„propertiesç±»ä¸­è·å–çš„ï¼Œè¿™äº›ç±»é‡Œé¢çš„æ¯ä¸€ä¸ªå±æ€§åˆæ˜¯å’Œé…ç½®æ–‡ä»¶ç»‘å®šçš„ï¼›</li><li>æ‰€æœ‰åœ¨é…ç½®æ–‡ä»¶ä¸­èƒ½é…ç½®çš„å±æ€§éƒ½æ˜¯åœ¨xxxxPropertiesç±»ä¸­å°è£…ç€ï¼›</li><li>é…ç½®æ–‡ä»¶èƒ½é…ç½®ä»€ä¹ˆå°±å¯ä»¥å‚ç…§æŸä¸ªåŠŸèƒ½å¯¹åº”çš„è¿™ä¸ªå±æ€§ç±»</li></ul> 
<pre><code>//ä»é…ç½®æ–‡ä»¶ä¸­è·å–æŒ‡å®šçš„å€¼å’Œbeançš„å±æ€§è¿›è¡Œç»‘å®š
@ConfigurationProperties(prefix = "spring.http") 
public class HttpProperties {
    // .....
}
</code></pre> 
<p>æˆ‘ä»¬å»é…ç½®æ–‡ä»¶é‡Œé¢è¯•è¯•å‰ç¼€ï¼Œçœ‹æç¤ºï¼</p> 
<p><img src="https://images2.imgbox.com/ba/6c/IlYJhQvp_o.jpg" alt="å›¾ç‰‡"></p> 
<p><strong>è¿™å°±æ˜¯è‡ªåŠ¨è£…é…çš„åŸç†ï¼</strong></p> 
<h3><a id="_1323"></a>ç²¾é«“</h3> 
<p>1ã€SpringBootå¯åŠ¨ä¼šåŠ è½½å¤§é‡çš„è‡ªåŠ¨é…ç½®ç±»</p> 
<p>2ã€æˆ‘ä»¬çœ‹æˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½æœ‰æ²¡æœ‰åœ¨SpringBooté»˜è®¤å†™å¥½çš„è‡ªåŠ¨é…ç½®ç±»å½“ä¸­ï¼›</p> 
<p>3ã€æˆ‘ä»¬å†æ¥çœ‹è¿™ä¸ªè‡ªåŠ¨é…ç½®ç±»ä¸­åˆ°åº•é…ç½®äº†å“ªäº›ç»„ä»¶ï¼›ï¼ˆåªè¦æˆ‘ä»¬è¦ç”¨çš„ç»„ä»¶å­˜åœ¨åœ¨å…¶ä¸­ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦å†æ‰‹åŠ¨é…ç½®äº†ï¼‰</p> 
<p>4ã€ç»™å®¹å™¨ä¸­è‡ªåŠ¨é…ç½®ç±»æ·»åŠ ç»„ä»¶çš„æ—¶å€™ï¼Œä¼šä»propertiesç±»ä¸­è·å–æŸäº›å±æ€§ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šè¿™äº›å±æ€§çš„å€¼å³å¯ï¼›</p> 
<p>**xxxxAutoConfigurartionï¼šè‡ªåŠ¨é…ç½®ç±»ï¼›**ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶</p> 
<p><strong>xxxxProperties:å°è£…é…ç½®æ–‡ä»¶ä¸­ç›¸å…³å±æ€§ï¼›</strong></p> 
<h3><a id="Conditional_1341"></a>äº†è§£ï¼š@Conditional</h3> 
<p>äº†è§£å®Œè‡ªåŠ¨è£…é…çš„åŸç†åï¼Œæˆ‘ä»¬æ¥å…³æ³¨ä¸€ä¸ªç»†èŠ‚é—®é¢˜ï¼Œ<strong>è‡ªåŠ¨é…ç½®ç±»å¿…é¡»åœ¨ä¸€å®šçš„æ¡ä»¶ä¸‹æ‰èƒ½ç”Ÿæ•ˆï¼›</strong></p> 
<p><strong>@Conditionalæ´¾ç”Ÿæ³¨è§£ï¼ˆSpringæ³¨è§£ç‰ˆåŸç”Ÿçš„@Conditionalä½œç”¨ï¼‰</strong></p> 
<p>ä½œç”¨ï¼šå¿…é¡»æ˜¯@ConditionalæŒ‡å®šçš„æ¡ä»¶æˆç«‹ï¼Œæ‰ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ï¼Œé…ç½®é…é‡Œé¢çš„æ‰€æœ‰å†…å®¹æ‰ç”Ÿæ•ˆï¼›</p> 
<p><img src="https://images2.imgbox.com/b6/cc/JE6zRVHy_o.jpg" alt="å›¾ç‰‡"></p> 
<p><strong>é‚£ä¹ˆå¤šçš„è‡ªåŠ¨é…ç½®ç±»ï¼Œå¿…é¡»åœ¨ä¸€å®šçš„æ¡ä»¶ä¸‹æ‰èƒ½ç”Ÿæ•ˆï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åŠ è½½äº†è¿™ä¹ˆå¤šçš„é…ç½®ç±»ï¼Œä½†ä¸æ˜¯æ‰€æœ‰çš„éƒ½ç”Ÿæ•ˆäº†ã€‚</strong></p> 
<p>æˆ‘ä»¬æ€ä¹ˆçŸ¥é“å“ªäº›è‡ªåŠ¨é…ç½®ç±»ç”Ÿæ•ˆï¼Ÿ</p> 
<p><strong>æˆ‘ä»¬å¯ä»¥é€šè¿‡å¯ç”¨ debug=trueå±æ€§ï¼›æ¥è®©æ§åˆ¶å°æ‰“å°è‡ªåŠ¨é…ç½®æŠ¥å‘Šï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„çŸ¥é“å“ªäº›è‡ªåŠ¨é…ç½®ç±»ç”Ÿæ•ˆï¼›</strong></p> 
<pre><code>
#å¼€å¯springbootçš„è°ƒè¯•ç±»
debug=true
</code></pre> 
<p><strong>Positive matches:ï¼ˆè‡ªåŠ¨é…ç½®ç±»å¯ç”¨çš„ï¼šæ­£åŒ¹é…ï¼‰</strong></p> 
<p><strong>Negative matches:ï¼ˆæ²¡æœ‰å¯åŠ¨ï¼Œæ²¡æœ‰åŒ¹é…æˆåŠŸçš„è‡ªåŠ¨é…ç½®ç±»ï¼šè´ŸåŒ¹é…ï¼‰</strong></p> 
<p><strong>Unconditional classes: ï¼ˆæ²¡æœ‰æ¡ä»¶çš„ç±»ï¼‰</strong></p> 
<p>ã€æ¼”ç¤ºï¼šæŸ¥çœ‹è¾“å‡ºçš„æ—¥å¿—ã€‘</p> 
<p>æŒæ¡å¸æ”¶ç†è§£åŸç†ï¼Œå³å¯ä»¥ä¸å˜åº”ä¸‡å˜ï¼</p> 
<h2><a id="Web_1381"></a>Webå¼€å‘é™æ€èµ„æºå¤„ç†</h2> 
<h3><a id="_1387"></a>é™æ€èµ„æºæ˜ å°„è§„åˆ™</h3> 
<p><strong>é¦–å…ˆï¼Œæˆ‘ä»¬æ­å»ºä¸€ä¸ªæ™®é€šçš„SpringBooté¡¹ç›®ï¼Œå›é¡¾ä¸€ä¸‹HelloWorldç¨‹åºï¼</strong></p> 
<p>å†™è¯·æ±‚éå¸¸ç®€å•ï¼Œé‚£æˆ‘ä»¬è¦å¼•å…¥æˆ‘ä»¬å‰ç«¯èµ„æºï¼Œæˆ‘ä»¬é¡¹ç›®ä¸­æœ‰è®¸å¤šçš„é™æ€èµ„æºï¼Œæ¯”å¦‚cssï¼Œjsç­‰æ–‡ä»¶ï¼Œè¿™ä¸ªSpringBootæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</p> 
<p>å¦‚æœæˆ‘ä»¬æ˜¯ä¸€ä¸ªwebåº”ç”¨ï¼Œæˆ‘ä»¬çš„mainä¸‹ä¼šæœ‰ä¸€ä¸ªwebappï¼Œæˆ‘ä»¬ä»¥å‰éƒ½æ˜¯å°†æ‰€æœ‰çš„é¡µé¢å¯¼åœ¨è¿™é‡Œé¢çš„ï¼Œå¯¹å§ï¼ä½†æ˜¯æˆ‘ä»¬ç°åœ¨çš„pomå‘¢ï¼Œæ‰“åŒ…æ–¹å¼æ˜¯ä¸ºjarçš„æ–¹å¼ï¼Œé‚£ä¹ˆè¿™ç§æ–¹å¼SpringBootèƒ½ä¸èƒ½æ¥ç»™æˆ‘ä»¬å†™é¡µé¢å‘¢ï¼Ÿå½“ç„¶æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯SpringBootå¯¹äºé™æ€èµ„æºæ”¾ç½®çš„ä½ç½®ï¼Œæ˜¯æœ‰è§„å®šçš„ï¼</p> 
<p><strong>æˆ‘ä»¬å…ˆæ¥èŠèŠè¿™ä¸ªé™æ€èµ„æºæ˜ å°„è§„åˆ™ï¼š</strong></p> 
<p>SpringBootä¸­ï¼ŒSpringMVCçš„webé…ç½®éƒ½åœ¨ WebMvcAutoConfiguration è¿™ä¸ªé…ç½®ç±»é‡Œé¢ï¼›</p> 
<p>æˆ‘ä»¬å¯ä»¥å»çœ‹çœ‹ WebMvcAutoConfigurationAdapter ä¸­æœ‰å¾ˆå¤šé…ç½®æ–¹æ³•ï¼›</p> 
<p>æœ‰ä¸€ä¸ªæ–¹æ³•ï¼šaddResourceHandlers æ·»åŠ èµ„æºå¤„ç†</p> 
<pre><code>
@Override
public void addResourceHandlers(ResourceHandlerRegistry registry) {
    if (!this.resourceProperties.isAddMappings()) {
        // å·²ç¦ç”¨é»˜è®¤èµ„æºå¤„ç†
        logger.debug("Default resource handling disabled");
        return;
    }
    // ç¼“å­˜æ§åˆ¶
    Duration cachePeriod = this.resourceProperties.getCache().getPeriod();
    CacheControl cacheControl = this.resourceProperties.getCache().getCachecontrol().toHttpCacheControl();
    // webjars é…ç½®
    if (!registry.hasMappingForPattern("/webjars/**")) {
        customizeResourceHandlerRegistration(registry.addResourceHandler("/webjars/**")
                                             .addResourceLocations("classpath:/META-INF/resources/webjars/")
                                             .setCachePeriod(getSeconds(cachePeriod)).setCacheControl(cacheControl));
    }
    // é™æ€èµ„æºé…ç½®
    String staticPathPattern = this.mvcProperties.getStaticPathPattern();
    if (!registry.hasMappingForPattern(staticPathPattern)) {
        customizeResourceHandlerRegistration(registry.addResourceHandler(staticPathPattern)
                                             .addResourceLocations(getResourceLocations(this.resourceProperties.getStaticLocations()))
                                             .setCachePeriod(getSeconds(cachePeriod)).setCacheControl(cacheControl));
    }
}
</code></pre> 
<p>è¯»ä¸€ä¸‹æºä»£ç ï¼šæ¯”å¦‚æ‰€æœ‰çš„ /webjars/** ï¼Œ éƒ½éœ€è¦å» classpath:/META-INF/resources/webjars/ æ‰¾å¯¹åº”çš„èµ„æºï¼›</p> 
<h3><a id="webjars__1437"></a>ä»€ä¹ˆæ˜¯webjars å‘¢ï¼Ÿ</h3> 
<p>Webjarsæœ¬è´¨å°±æ˜¯ä»¥jaråŒ…çš„æ–¹å¼å¼•å…¥æˆ‘ä»¬çš„é™æ€èµ„æº ï¼Œ æˆ‘ä»¬ä»¥å‰è¦å¯¼å…¥ä¸€ä¸ªé™æ€èµ„æºæ–‡ä»¶ï¼Œç›´æ¥å¯¼å…¥å³å¯ã€‚</p> 
<p>ä½¿ç”¨SpringBootéœ€è¦ä½¿ç”¨Webjarsï¼Œæˆ‘ä»¬å¯ä»¥å»æœç´¢ä¸€ä¸‹ï¼š</p> 
<p>ç½‘ç«™ï¼šhttps://www.webjars.org</p> 
<p>è¦ä½¿ç”¨jQueryï¼Œæˆ‘ä»¬åªè¦è¦å¼•å…¥jQueryå¯¹åº”ç‰ˆæœ¬çš„pomä¾èµ–å³å¯ï¼</p> 
<pre><code>
&lt;dependency&gt;
    &lt;groupId&gt;org.webjars&lt;/groupId&gt;
    &lt;artifactId&gt;jquery&lt;/artifactId&gt;
    &lt;version&gt;3.4.1&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
<p>å¯¼å…¥å®Œæ¯•ï¼ŒæŸ¥çœ‹webjarsç›®å½•ç»“æ„ï¼Œå¹¶è®¿é—®Jquery.jsæ–‡ä»¶ï¼</p> 
<p><img src="https://images2.imgbox.com/ee/64/MWHKYdXB_o.png" alt="å›¾ç‰‡"></p> 
<p>è®¿é—®ï¼šåªè¦æ˜¯é™æ€èµ„æºï¼ŒSpringBootå°±ä¼šå»å¯¹åº”çš„è·¯å¾„å¯»æ‰¾èµ„æºï¼Œæˆ‘ä»¬è¿™é‡Œè®¿é—®ï¼š<code>http://localhost:8080/webjars/jquery/3.4.1/jquery.js</code></p> 
<p><img src="https://images2.imgbox.com/6b/ab/ATmHkt6A_o.png" alt="å›¾ç‰‡"></p> 
<h3><a id="_1468"></a>ç¬¬äºŒç§é™æ€èµ„æºæ˜ å°„è§„åˆ™</h3> 
<p>æˆ‘ä»¬å»æ‰¾staticPathPatternå‘ç°ç¬¬äºŒç§æ˜ å°„è§„åˆ™ ï¼š/** , è®¿é—®å½“å‰çš„é¡¹ç›®ä»»æ„èµ„æºï¼Œå®ƒä¼šå»æ‰¾ resourceProperties è¿™ä¸ªç±»ï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹è¿›å»çœ‹ä¸€ä¸‹åˆ†æï¼š</p> 
<pre><code>// è¿›å…¥æ–¹æ³•
public String[] getStaticLocations() {
    return this.staticLocations;
}
// æ‰¾åˆ°å¯¹åº”çš„å€¼
private String[] staticLocations = CLASSPATH_RESOURCE_LOCATIONS;
// æ‰¾åˆ°è·¯å¾„
private static final String[] CLASSPATH_RESOURCE_LOCATIONS = { 
    "classpath:/META-INF/resources/",
  "classpath:/resources/", 
    "classpath:/static/", 
    "classpath:/public/" 
};
</code></pre> 
<p>ResourceProperties å¯ä»¥è®¾ç½®å’Œæˆ‘ä»¬é™æ€èµ„æºæœ‰å…³çš„å‚æ•°ï¼›è¿™é‡Œé¢æŒ‡å‘äº†å®ƒä¼šå»å¯»æ‰¾èµ„æºçš„æ–‡ä»¶å¤¹ï¼Œå³ä¸Šé¢æ•°ç»„çš„å†…å®¹ã€‚</p> 
<p>æ‰€ä»¥å¾—å‡ºç»“è®ºï¼Œä»¥ä¸‹å››ä¸ªç›®å½•å­˜æ”¾çš„é™æ€èµ„æºå¯ä»¥è¢«æˆ‘ä»¬è¯†åˆ«ï¼š</p> 
<pre><code>
"classpath:/META-INF/resources/"
"classpath:/resources/"
"classpath:/static/"
"classpath:/public/"
</code></pre> 
<p>æˆ‘ä»¬å¯ä»¥åœ¨resourcesæ ¹ç›®å½•ä¸‹æ–°å»ºå¯¹åº”çš„æ–‡ä»¶å¤¹ï¼Œéƒ½å¯ä»¥å­˜æ”¾æˆ‘ä»¬çš„é™æ€æ–‡ä»¶ï¼›</p> 
<p>æ¯”å¦‚æˆ‘ä»¬è®¿é—®<code>http://localhost:8080/1.js</code>, ä»–å°±ä¼šå»è¿™äº›æ–‡ä»¶å¤¹ä¸­å¯»æ‰¾å¯¹åº”çš„é™æ€èµ„æºæ–‡ä»¶ï¼›</p> 
<h3><a id="_1506"></a>è‡ªå®šä¹‰é™æ€èµ„æºè·¯å¾„</h3> 
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±é€šè¿‡é…ç½®æ–‡ä»¶æ¥æŒ‡å®šä¸€ä¸‹ï¼Œå“ªäº›æ–‡ä»¶å¤¹æ˜¯éœ€è¦æˆ‘ä»¬æ”¾é™æ€èµ„æºæ–‡ä»¶çš„ï¼Œåœ¨application.propertiesä¸­é…ç½®ï¼›</p> 
<pre><code>
spring.resources.static-locations=classpath:/coding/,classpath:/kuang/
</code></pre> 
<p>ä¸€æ—¦è‡ªå·±å®šä¹‰äº†é™æ€æ–‡ä»¶å¤¹çš„è·¯å¾„ï¼ŒåŸæ¥çš„è‡ªåŠ¨é…ç½®å°±éƒ½ä¼šå¤±æ•ˆäº†</p> 
<h3><a id="_1521"></a>é¦–é¡µå¤„ç†</h3> 
<p>é™æ€èµ„æºæ–‡ä»¶å¤¹è¯´å®Œåï¼Œæˆ‘ä»¬ç»§ç»­å‘ä¸‹çœ‹æºç ï¼å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæ¬¢è¿é¡µçš„æ˜ å°„ï¼Œå°±æ˜¯æˆ‘ä»¬çš„é¦–é¡µï¼</p> 
<pre><code>@Bean
public WelcomePageHandlerMapping welcomePageHandlerMapping(ApplicationContext applicationContext,
                                                           FormattingConversionService mvcConversionService,
                                                           ResourceUrlProvider mvcResourceUrlProvider) {
    WelcomePageHandlerMapping welcomePageHandlerMapping = new WelcomePageHandlerMapping(
        new TemplateAvailabilityProviders(applicationContext), applicationContext, getWelcomePage(), // getWelcomePage è·å¾—æ¬¢è¿é¡µ
        this.mvcProperties.getStaticPathPattern());
    welcomePageHandlerMapping.setInterceptors(getInterceptors(mvcConversionService, mvcResourceUrlProvider));
    return welcomePageHandlerMapping;
}
</code></pre> 
<p>ç‚¹è¿›å»ç»§ç»­çœ‹</p> 
<pre><code>
private Optional&lt;Resource&gt; getWelcomePage() {
    String[] locations = getResourceLocations(this.resourceProperties.getStaticLocations());
    // ::æ˜¯java8 ä¸­æ–°å¼•å…¥çš„è¿ç®—ç¬¦
    // Class::functionçš„æ—¶å€™functionæ˜¯å±äºClassçš„ï¼Œåº”è¯¥æ˜¯é™æ€æ–¹æ³•ã€‚
    // this::functionçš„funtionæ˜¯å±äºè¿™ä¸ªå¯¹è±¡çš„ã€‚
    // ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯ä¸€ç§è¯­æ³•ç³–è€Œå·²ï¼Œæ˜¯ä¸€ç§ç®€å†™
    return Arrays.stream(locations).map(this::getIndexHtml).filter(this::isReadable).findFirst();
}
// æ¬¢è¿é¡µå°±æ˜¯ä¸€ä¸ªlocationä¸‹çš„çš„ index.html è€Œå·²
private Resource getIndexHtml(String location) {
    return this.resourceLoader.getResource(location + "index.html");
}
</code></pre> 
<p>æ¬¢è¿é¡µï¼Œé™æ€èµ„æºæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰ index.html é¡µé¢ï¼›è¢« /** æ˜ å°„ã€‚</p> 
<p>æ¯”å¦‚æˆ‘è®¿é—® http://localhost:8080/ ï¼Œå°±ä¼šæ‰¾é™æ€èµ„æºæ–‡ä»¶å¤¹ä¸‹çš„ index.html</p> 
<p>æ–°å»ºä¸€ä¸ª index.html ï¼Œåœ¨æˆ‘ä»¬ä¸Šé¢çš„3ä¸ªç›®å½•ä¸­ä»»æ„ä¸€ä¸ªï¼›ç„¶åè®¿é—®æµ‹è¯• http://localhost:8080/ çœ‹ç»“æœï¼</p> 
<p><strong>å…³äºç½‘ç«™å›¾æ ‡è¯´æ˜</strong>ï¼š</p> 
<p><img src="https://images2.imgbox.com/c6/80/hcQkceaL_o.jpg" alt="å›¾ç‰‡"></p> 
<p>ä¸å…¶ä»–é™æ€èµ„æºä¸€æ ·ï¼ŒSpring Bootåœ¨é…ç½®çš„é™æ€å†…å®¹ä½ç½®ä¸­æŸ¥æ‰¾ favicon.icoã€‚å¦‚æœå­˜åœ¨è¿™æ ·çš„æ–‡ä»¶ï¼Œå®ƒå°†è‡ªåŠ¨ç”¨ä½œåº”ç”¨ç¨‹åºçš„faviconã€‚</p> 
<p>1ã€å…³é—­SpringBooté»˜è®¤å›¾æ ‡</p> 
<pre><code>
#å…³é—­é»˜è®¤å›¾æ ‡
spring.mvc.favicon.enabled=false
</code></pre> 
<p>2ã€è‡ªå·±æ”¾ä¸€ä¸ªå›¾æ ‡åœ¨é™æ€èµ„æºç›®å½•ä¸‹ï¼Œæˆ‘æ”¾åœ¨ public ç›®å½•ä¸‹</p> 
<p>3ã€æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼åˆ·æ–°ç½‘é¡µï¼Œå‘ç°å›¾æ ‡å·²ç»å˜æˆè‡ªå·±çš„äº†ï¼</p> 
<p><img src="https://images2.imgbox.com/13/04/0IssdXaB_o.png" alt="å›¾ç‰‡"></p> 
<h2><a id="Thymeleaf_1588"></a>Thymeleafæ¨¡æ¿å¼•æ“</h2> 
<h3><a id="_1594"></a>æ¨¡æ¿å¼•æ“</h3> 
<p>SpringBootè¿™ä¸ªé¡¹ç›®é¦–å…ˆæ˜¯ä»¥jarçš„æ–¹å¼ï¼Œä¸æ˜¯warï¼Œåƒç¬¬äºŒï¼Œæˆ‘ä»¬ç”¨çš„è¿˜æ˜¯åµŒå…¥å¼çš„Tomcatï¼Œæ‰€ä»¥å‘¢ï¼Œ<strong>ä»–ç°åœ¨é»˜è®¤æ˜¯ä¸æ”¯æŒjspçš„</strong>ã€‚</p> 
<p><strong>SpringBootæ¨èä½ å¯ä»¥æ¥ä½¿ç”¨æ¨¡æ¿å¼•æ“ï¼š</strong></p> 
<p>æ¨¡æ¿å¼•æ“ï¼Œæˆ‘ä»¬å…¶å®å¤§å®¶å¬åˆ°å¾ˆå¤šï¼Œå…¶å®jspå°±æ˜¯ä¸€ä¸ªæ¨¡æ¿å¼•æ“ï¼Œè¿˜æœ‰ç”¨çš„æ¯”è¾ƒå¤šçš„freemarkerï¼ŒåŒ…æ‹¬SpringBootç»™æˆ‘ä»¬æ¨èçš„Thymeleafï¼Œæ¨¡æ¿å¼•æ“æœ‰éå¸¸å¤šï¼Œä½†å†å¤šçš„æ¨¡æ¿å¼•æ“ï¼Œä»–ä»¬çš„æ€æƒ³éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä»€ä¹ˆæ ·ä¸€ä¸ªæ€æƒ³å‘¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™å¼ å›¾ï¼š</p> 
<p><img src="https://images2.imgbox.com/56/e0/r0Hp9VZ4_o.png" alt="å›¾ç‰‡"></p> 
<p>æ¨¡æ¿å¼•æ“çš„ä½œç”¨å°±æ˜¯æˆ‘ä»¬æ¥å†™ä¸€ä¸ªé¡µé¢æ¨¡æ¿ï¼Œæ¯”å¦‚æœ‰äº›å€¼å‘¢ï¼Œæ˜¯åŠ¨æ€çš„ï¼Œæˆ‘ä»¬å†™ä¸€äº›è¡¨è¾¾å¼ã€‚è€Œè¿™äº›å€¼ï¼Œä»å“ªæ¥å‘¢ï¼Œå°±æ˜¯æˆ‘ä»¬åœ¨åå°å°è£…ä¸€äº›æ•°æ®ã€‚ç„¶åæŠŠè¿™ä¸ªæ¨¡æ¿å’Œè¿™ä¸ªæ•°æ®äº¤ç»™æˆ‘ä»¬æ¨¡æ¿å¼•æ“ï¼Œæ¨¡æ¿å¼•æ“æŒ‰ç…§æˆ‘ä»¬è¿™ä¸ªæ•°æ®å¸®ä½ æŠŠè¿™è¡¨è¾¾å¼è§£æã€å¡«å……åˆ°æˆ‘ä»¬æŒ‡å®šçš„ä½ç½®ï¼Œç„¶åæŠŠè¿™ä¸ªæ•°æ®æœ€ç»ˆç”Ÿæˆä¸€ä¸ªæˆ‘ä»¬æƒ³è¦çš„å†…å®¹ç»™æˆ‘ä»¬å†™å‡ºå»ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬è¿™ä¸ªæ¨¡æ¿å¼•æ“ï¼Œä¸ç®¡æ˜¯jspè¿˜æ˜¯å…¶ä»–æ¨¡æ¿å¼•æ“ï¼Œéƒ½æ˜¯è¿™ä¸ªæ€æƒ³ã€‚åªä¸è¿‡å‘¢ï¼Œå°±æ˜¯è¯´ä¸åŒæ¨¡æ¿å¼•æ“ä¹‹é—´ï¼Œä»–ä»¬å¯èƒ½è¿™ä¸ªè¯­æ³•æœ‰ç‚¹ä¸ä¸€æ ·ã€‚å…¶ä»–çš„æˆ‘å°±ä¸ä»‹ç»äº†ï¼Œæˆ‘ä¸»è¦æ¥ä»‹ç»ä¸€ä¸‹SpringBootç»™æˆ‘ä»¬æ¨èçš„Thymeleafæ¨¡æ¿å¼•æ“ï¼Œè¿™æ¨¡æ¿å¼•æ“å‘¢ï¼Œæ˜¯ä¸€ä¸ªé«˜çº§è¯­è¨€çš„æ¨¡æ¿å¼•æ“ï¼Œä»–çš„è¿™ä¸ªè¯­æ³•æ›´ç®€å•ã€‚è€Œä¸”å‘¢ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§ã€‚</p> 
<p>æˆ‘ä»¬å‘¢ï¼Œå°±æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªæ¨¡æ¿å¼•æ“ï¼Œé‚£æ—¢ç„¶è¦çœ‹è¿™ä¸ªæ¨¡æ¿å¼•æ“ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹SpringBooté‡Œè¾¹æ€ä¹ˆç”¨ã€‚</p> 
<h3><a id="Thymeleaf_1612"></a>å¼•å…¥Thymeleaf</h3> 
<p>æ€ä¹ˆå¼•å…¥å‘¢ï¼Œå¯¹äºspringbootæ¥è¯´ï¼Œä»€ä¹ˆäº‹æƒ…ä¸éƒ½æ˜¯ä¸€ä¸ªstartçš„äº‹æƒ…å˜›ï¼Œæˆ‘ä»¬å»åœ¨é¡¹ç›®ä¸­å¼•å…¥ä¸€ä¸‹ã€‚ç»™å¤§å®¶ä¸‰ä¸ªç½‘å€ï¼š</p> 
<p>Thymeleaf å®˜ç½‘ï¼šhttps://www.thymeleaf.org/</p> 
<p>Thymeleaf åœ¨Github çš„ä¸»é¡µï¼šhttps://github.com/thymeleaf/thymeleaf</p> 
<p>Springå®˜æ–¹æ–‡æ¡£ï¼šæ‰¾åˆ°æˆ‘ä»¬å¯¹åº”çš„ç‰ˆæœ¬</p> 
<p>https://docs.spring.io/spring-boot/docs/2.2.5.RELEASE/reference/htmlsingle/#using-boot-starter</p> 
<p>æ‰¾åˆ°å¯¹åº”çš„pomä¾èµ–ï¼šå¯ä»¥é€‚å½“ç‚¹è¿›æºç çœ‹ä¸‹æœ¬æ¥çš„åŒ…ï¼</p> 
<pre><code>
&lt;!--thymeleaf--&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre> 
<p>Mavenä¼šè‡ªåŠ¨ä¸‹è½½jaråŒ…ï¼Œæˆ‘ä»¬å¯ä»¥å»çœ‹ä¸‹ä¸‹è½½çš„ä¸œè¥¿ï¼›</p> 
<p><img src="https://images2.imgbox.com/c1/0f/agerd90r_o.png" alt="å›¾ç‰‡"></p> 
<h3><a id="Thymeleaf_1643"></a>Thymeleafåˆ†æ</h3> 
<p>å‰é¢å‘¢ï¼Œæˆ‘ä»¬å·²ç»å¼•å…¥äº†Thymeleafï¼Œé‚£è¿™ä¸ªè¦æ€ä¹ˆä½¿ç”¨å‘¢ï¼Ÿ</p> 
<p>æˆ‘ä»¬é¦–å…ˆå¾—æŒ‰ç…§SpringBootçš„è‡ªåŠ¨é…ç½®åŸç†çœ‹ä¸€ä¸‹æˆ‘ä»¬è¿™ä¸ªThymeleafçš„è‡ªåŠ¨é…ç½®è§„åˆ™ï¼Œåœ¨æŒ‰ç…§é‚£ä¸ªè§„åˆ™ï¼Œæˆ‘ä»¬è¿›è¡Œä½¿ç”¨ã€‚</p> 
<p>æˆ‘ä»¬å»æ‰¾ä¸€ä¸‹Thymeleafçš„è‡ªåŠ¨é…ç½®ç±»ï¼šThymeleafProperties</p> 
<pre><code>
@ConfigurationProperties(
    prefix = "spring.thymeleaf"
)
public class ThymeleafProperties {
    private static final Charset DEFAULT_ENCODING;
    public static final String DEFAULT_PREFIX = "classpath:/templates/";
    public static final String DEFAULT_SUFFIX = ".html";
    private boolean checkTemplate = true;
    private boolean checkTemplateLocation = true;
    private String prefix = "classpath:/templates/";
    private String suffix = ".html";
    private String mode = "HTML";
    private Charset encoding;

</code></pre> 
<p>æˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­çœ‹åˆ°é»˜è®¤çš„å‰ç¼€å’Œåç¼€ï¼</p> 
<p>æˆ‘ä»¬åªéœ€è¦æŠŠæˆ‘ä»¬çš„htmlé¡µé¢æ”¾åœ¨ç±»è·¯å¾„ä¸‹çš„templatesä¸‹ï¼Œthymeleafå°±å¯ä»¥å¸®æˆ‘ä»¬è‡ªåŠ¨æ¸²æŸ“äº†ã€‚</p> 
<p>ä½¿ç”¨thymeleafä»€ä¹ˆéƒ½ä¸éœ€è¦é…ç½®ï¼Œåªéœ€è¦å°†ä»–æ”¾åœ¨æŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸‹å³å¯ï¼</p> 
<h3><a id="_1679"></a>æµ‹è¯•</h3> 
<p>1ã€ç¼–å†™ä¸€ä¸ªTestController</p> 
<pre><code>@Controller
public class TestController {
    
    @RequestMapping("/t1")
    public String test1(){
        //classpath:/templates/test.html
        return "test";
    }
    
}
</code></pre> 
<p>2ã€ç¼–å†™ä¸€ä¸ªæµ‹è¯•é¡µé¢ test.html æ”¾åœ¨ templates ç›®å½•ä¸‹</p> 
<pre><code>
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;æµ‹è¯•é¡µé¢&lt;/h1&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>3ã€å¯åŠ¨é¡¹ç›®è¯·æ±‚æµ‹è¯•</p> 
<p>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-Jsv8hxoO-1661431067945)(D:\myDownloads\typora\img\image-20220817141348555.png)]</p> 
<h3><a id="Thymeleaf__1721"></a>Thymeleaf è¯­æ³•å­¦ä¹ </h3> 
<p>è¦å­¦ä¹ è¯­æ³•ï¼Œè¿˜æ˜¯å‚è€ƒå®˜ç½‘æ–‡æ¡£æœ€ä¸ºå‡†ç¡®ï¼Œæˆ‘ä»¬æ‰¾åˆ°å¯¹åº”çš„ç‰ˆæœ¬çœ‹ä¸€ä¸‹ï¼›</p> 
<p>Thymeleaf å®˜ç½‘ï¼šhttps://www.thymeleaf.org/ ï¼Œ ç®€å•çœ‹ä¸€ä¸‹å®˜ç½‘ï¼æˆ‘ä»¬å»ä¸‹è½½Thymeleafçš„å®˜æ–¹æ–‡æ¡£ï¼</p> 
<p><strong>æˆ‘ä»¬åšä¸ªæœ€ç®€å•çš„ç»ƒä¹  ï¼šæˆ‘ä»¬éœ€è¦æŸ¥å‡ºä¸€äº›æ•°æ®ï¼Œåœ¨é¡µé¢ä¸­å±•ç¤º</strong></p> 
<p>1ã€ä¿®æ”¹æµ‹è¯•è¯·æ±‚ï¼Œå¢åŠ æ•°æ®ä¼ è¾“ï¼›</p> 
<pre><code>
@RequestMapping("/t1")
public String test1(Model model){
    //å­˜å…¥æ•°æ®
    model.addAttribute("msg","Hello,Thymeleaf");
    //classpath:/templates/test.html
    return "test";
}
</code></pre> 
<p>2ã€æˆ‘ä»¬è¦ä½¿ç”¨thymeleafï¼Œéœ€è¦åœ¨htmlæ–‡ä»¶ä¸­å¯¼å…¥å‘½åç©ºé—´çš„çº¦æŸï¼Œæ–¹ä¾¿æç¤ºã€‚</p> 
<p>æˆ‘ä»¬å¯ä»¥å»å®˜æ–¹æ–‡æ¡£çš„#3ä¸­çœ‹ä¸€ä¸‹å‘½åç©ºé—´æ‹¿æ¥è¿‡æ¥ï¼š</p> 
<pre><code> xmlns:th="http://www.thymeleaf.org"
</code></pre> 
<p>3ã€æˆ‘ä»¬å»ç¼–å†™ä¸‹å‰ç«¯é¡µé¢</p> 
<pre><code>
&lt;!DOCTYPE html&gt;
&lt;html lang="en" xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;ç‹‚ç¥è¯´&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;æµ‹è¯•é¡µé¢&lt;/h1&gt;

&lt;!--th:textå°±æ˜¯å°†divä¸­çš„å†…å®¹è®¾ç½®ä¸ºå®ƒæŒ‡å®šçš„å€¼ï¼Œå’Œä¹‹å‰å­¦ä¹ çš„Vueä¸€æ ·--&gt;
&lt;div th:text="${msg}"&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>4ã€å¯åŠ¨æµ‹è¯•ï¼</p> 
<p><img src="https://images2.imgbox.com/c1/75/XENetMDO_o.png" alt="å›¾ç‰‡"></p> 
<p><strong>OKï¼Œå…¥é—¨æå®šï¼Œæˆ‘ä»¬æ¥è®¤çœŸç ”ä¹ ä¸€ä¸‹Thymeleafçš„ä½¿ç”¨è¯­æ³•ï¼</strong></p> 
<p><strong>1ã€æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»»æ„çš„ th:attr æ¥æ›¿æ¢Htmlä¸­åŸç”Ÿå±æ€§çš„å€¼ï¼</strong></p> 
<p><img src="https://images2.imgbox.com/93/e8/BFQk4zfR_o.jpg" alt="å›¾ç‰‡"></p> 
<p><strong>2ã€æˆ‘ä»¬èƒ½å†™å“ªäº›è¡¨è¾¾å¼å‘¢ï¼Ÿ</strong></p> 
<pre><code>
Simple expressions:ï¼ˆè¡¨è¾¾å¼è¯­æ³•ï¼‰
Variable Expressions: ${...}ï¼šè·å–å˜é‡å€¼ï¼›OGNLï¼›
    1ï¼‰ã€è·å–å¯¹è±¡çš„å±æ€§ã€è°ƒç”¨æ–¹æ³•
    2ï¼‰ã€ä½¿ç”¨å†…ç½®çš„åŸºæœ¬å¯¹è±¡ï¼š#18
         #ctx : the context object.
         #vars: the context variables.
         #locale : the context locale.
         #request : (only in Web Contexts) the HttpServletRequest object.
         #response : (only in Web Contexts) the HttpServletResponse object.
         #session : (only in Web Contexts) the HttpSession object.
         #servletContext : (only in Web Contexts) the ServletContext object.

    3ï¼‰ã€å†…ç½®çš„ä¸€äº›å·¥å…·å¯¹è±¡ï¼š
ã€€ã€€ã€€ã€€ã€€ã€€#execInfo : information about the template being processed.
ã€€ã€€ã€€ã€€ã€€ã€€#uris : methods for escaping parts of URLs/URIs
ã€€ã€€ã€€ã€€ã€€ã€€#conversions : methods for executing the configured conversion service (if any).
ã€€ã€€ã€€ã€€ã€€ã€€#dates : methods for java.util.Date objects: formatting, component extraction, etc.
ã€€ã€€ã€€ã€€ã€€ã€€#calendars : analogous to #dates , but for java.util.Calendar objects.
ã€€ã€€ã€€ã€€ã€€ã€€#numbers : methods for formatting numeric objects.
ã€€ã€€ã€€ã€€ã€€ã€€#strings : methods for String objects: contains, startsWith, prepending/appending, etc.
ã€€ã€€ã€€ã€€ã€€ã€€#objects : methods for objects in general.
ã€€ã€€ã€€ã€€ã€€ã€€#bools : methods for boolean evaluation.
ã€€ã€€ã€€ã€€ã€€ã€€#arrays : methods for arrays.
ã€€ã€€ã€€ã€€ã€€ã€€#lists : methods for lists.
ã€€ã€€ã€€ã€€ã€€ã€€#sets : methods for sets.
ã€€ã€€ã€€ã€€ã€€ã€€#maps : methods for maps.
ã€€ã€€ã€€ã€€ã€€ã€€#aggregates : methods for creating aggregates on arrays or collections.
==================================================================================

  Selection Variable Expressions: *{...}ï¼šé€‰æ‹©è¡¨è¾¾å¼ï¼šå’Œ${}åœ¨åŠŸèƒ½ä¸Šæ˜¯ä¸€æ ·ï¼›
  Message Expressions: #{...}ï¼šè·å–å›½é™…åŒ–å†…å®¹
  Link URL Expressions: @{...}ï¼šå®šä¹‰URLï¼›
  Fragment Expressions: ~{...}ï¼šç‰‡æ®µå¼•ç”¨è¡¨è¾¾å¼

Literalsï¼ˆå­—é¢é‡ï¼‰
      Text literals: 'one text' , 'Another one!' ,â€¦
      Number literals: 0 , 34 , 3.0 , 12.3 ,â€¦
      Boolean literals: true , false
      Null literal: null
      Literal tokens: one , sometext , main ,â€¦
      
Text operations:ï¼ˆæ–‡æœ¬æ“ä½œï¼‰
    String concatenation: +
    Literal substitutions: |The name is ${name}|
    
Arithmetic operations:ï¼ˆæ•°å­¦è¿ç®—ï¼‰
    Binary operators: + , - , * , / , %
    Minus sign (unary operator): -
    
Boolean operations:ï¼ˆå¸ƒå°”è¿ç®—ï¼‰
    Binary operators: and , or
    Boolean negation (unary operator): ! , not
    
Comparisons and equality:ï¼ˆæ¯”è¾ƒè¿ç®—ï¼‰
    Comparators: &gt; , &lt; , &gt;= , &lt;= ( gt , lt , ge , le )
    Equality operators: == , != ( eq , ne )
    
Conditional operators:æ¡ä»¶è¿ç®—ï¼ˆä¸‰å…ƒè¿ç®—ç¬¦ï¼‰
    If-then: (if) ? (then)
    If-then-else: (if) ? (then) : (else)
    Default: (value) ?: (defaultvalue)
    
Special tokens:
    No-Operation: _
</code></pre> 
<h4><a id="_1857"></a>ç»ƒä¹ æµ‹è¯•</h4> 
<p>1ã€ æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªControllerï¼Œæ”¾ä¸€äº›æ•°æ®</p> 
<pre><code>
@RequestMapping("/t2")
public String test2(Map&lt;String,Object&gt; map){
    //å­˜å…¥æ•°æ®
    map.put("msg","&lt;h1&gt;Hello&lt;/h1&gt;");
    map.put("users", Arrays.asList("qinjiang","kuangshen"));
    //classpath:/templates/test.html
    return "test";
}
</code></pre> 
<p>2ã€æµ‹è¯•é¡µé¢å–å‡ºæ•°æ®</p> 
<pre><code>
&lt;!DOCTYPE html&gt;
&lt;html lang="en" xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;ç‹‚ç¥è¯´&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;æµ‹è¯•é¡µé¢&lt;/h1&gt;

&lt;div th:text="${msg}"&gt;&lt;/div&gt;
&lt;!--ä¸è½¬ä¹‰--&gt;
&lt;div th:utext="${msg}"&gt;&lt;/div&gt;

&lt;!--éå†æ•°æ®--&gt;
&lt;!--th:eachæ¯æ¬¡éå†éƒ½ä¼šç”Ÿæˆå½“å‰è¿™ä¸ªæ ‡ç­¾ï¼šå®˜ç½‘#9--&gt;
&lt;h4 th:each="user :${users}" th:text="${user}"&gt;&lt;/h4&gt;

&lt;h4&gt;
    &lt;!--è¡Œå†…å†™æ³•ï¼šå®˜ç½‘#12--&gt;
    &lt;span th:each="user:${users}"&gt;[[${user}]]&lt;/span&gt;
&lt;/h4&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>3ã€å¯åŠ¨é¡¹ç›®æµ‹è¯•ï¼</p> 
<p><strong>æˆ‘ä»¬çœ‹å®Œè¯­æ³•ï¼Œå¾ˆå¤šæ ·å¼ï¼Œæˆ‘ä»¬å³ä½¿ç°åœ¨å­¦ä¹ äº†ï¼Œä¹Ÿä¼šå¿˜è®°ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä½¿ç”¨ä»€ä¹ˆï¼Œæ ¹æ®å®˜æ–¹æ–‡æ¡£æ¥æŸ¥è¯¢ï¼Œæ‰æ˜¯æœ€é‡è¦çš„ï¼Œè¦ç†Ÿç»ƒä½¿ç”¨å®˜æ–¹æ–‡æ¡£ï¼</strong></p> 
<h2><a id="MVC_1913"></a>MVCè‡ªåŠ¨é…ç½®åŸç†</h2> 
<p><a href="https://mp.weixin.qq.com/s?__biz=Mzg2NTAzMTExNg==&amp;chksm=ce610708f9168e1ee95b9f6135574cbea2d2b90ac3d0f7b6766d5260be0d711bbb73e678c6b5&amp;idx=1&amp;mid=2247483819&amp;scene=21&amp;sn=b9009aaa2a9af9d681a131b3a49d8848#wechat_redirect" rel="nofollow">ç‹‚ç¥è¯´SpringBoot12ï¼šMVCè‡ªåŠ¨é…ç½®åŸç† (qq.com)</a></p> 
<h2><a id="_1925"></a>å‘˜å·¥ç®¡ç†ç³»ç»Ÿ</h2> 
<p><a href="https://blog.csdn.net/qq_42665745/article/details/114754060">(13æ¡æ¶ˆæ¯) springboot-09-å‘˜å·¥ç®¡ç†ç³»ç»Ÿï¼ˆCRUDï¼‰_Filwaodçš„åšå®¢-CSDNåšå®¢</a></p> 
<h3><a id="_1931"></a>ç¯å¢ƒæ­å»º</h3> 
<h4><a id="SpringBoot_1933"></a>æ–°å»ºä¸€ä¸ªSpringBooté¡¹ç›®</h4> 
<h4><a id="_1935"></a>å¯¼å…¥é™æ€èµ„æº</h4> 
<ul><li>é¦–å…ˆåœ¨<code>classpath</code>ä¸‹ï¼ˆresourcesï¼‰åˆ›å»ºä¸å­˜åœ¨çš„é™æ€èµ„æºç›®å½•<code>public</code>å’Œ<code>resources</code></li><li>å°†<code>html</code>é™æ€èµ„æºæ”¾ç½®<code>templates</code>ç›®å½•ä¸‹</li><li>å°†<code>asserts</code>ç›®å½•ä¸‹çš„<code>cssã€imgã€js</code>ç­‰é™æ€èµ„æºæ”¾ç½®<code>static</code>ç›®å½•ä¸‹</li></ul> 
<h4><a id="_1941"></a>æ¨¡æ‹Ÿæ•°æ®åº“</h4> 
<p><code>pom.xml</code>ä¸­å¯¼å…¥lombokä¾èµ–</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="pojo_1952"></a>pojo</h4> 
<p>åœ¨å¯åŠ¨ç±»åŒçº§åˆ›å»ºpojoåŒ…ï¼Œåœ¨pojoåŒ…ä¸‹æ–°å»ºå®ä½“ç±»<br> <strong>éƒ¨é—¨è¡¨ï¼š</strong></p> 
<pre><code class="prism language-java"><span class="token comment">//éƒ¨é—¨è¡¨</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Department</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> departmentName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>å‘˜å·¥è¡¨ï¼š</strong></p> 
<pre><code class="prism language-java"><span class="token comment">//å‘˜å·¥è¡¨</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> lastName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> gender<span class="token punctuation">;</span><span class="token comment">//0:å¥³ 1:ç”·</span>
    <span class="token keyword">private</span> <span class="token class-name">Department</span> department<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Date</span> date<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="dao_1985"></a>dao</h4> 
<p>åœ¨ä¸»ç¨‹åºåŒçº§ç›®å½•ä¸‹æ–°å»ºdaoåŒ…</p> 
<p>ç„¶ååˆ†åˆ«ç¼–å†™<code>DepartmentDao</code>å’Œ<code>EmployeeDao</code>ï¼Œå¹¶åœ¨å…¶ä¸­æ¨¡æ‹Ÿæ•°æ®åº“çš„æ•°æ®</p> 
<pre><code>DepartmentDaoï¼š
//æ³¨å†Œåˆ°IOCå®¹å™¨ä¸­
@Repository
public class DepartmentDao {
    //æ¨¡æ‹Ÿæ•°æ®åº“ä¸­çš„æ•°æ®
    private static Map&lt;Integer, Department&gt; departments = null;

    static {
        departments = new HashMap&lt;&gt;();//åˆ›å»ºä¸€ä¸ªéƒ¨é—¨è¡¨
        departments.put(1, new Department(1, "æŠ€æœ¯éƒ¨"));
        departments.put(2, new Department(2, "å¸‚åœºéƒ¨"));
        departments.put(3, new Department(3, "è°ƒç ”éƒ¨"));
        departments.put(4, new Department(4, "åå‹¤éƒ¨"));
        departments.put(5, new Department(5, "è¿è¥éƒ¨"));
    }

    //è·å¾—æ‰€æœ‰éƒ¨é—¨ä¿¡æ¯
    public Collection&lt;Department&gt; departments(){
        return departments.values();
    }

    //é€šè¿‡idå¾—åˆ°éƒ¨é—¨
    public Department getDepartmentByID(int id){
        return departments.get(id);
    }
}
12345678910111213141516171819202122232425
EmployeeDao:
//æ³¨å†Œåˆ°IOCå®¹å™¨ä¸­
@Repository
public class EmployeeDao {

    //æ¨¡æ‹Ÿæ•°æ®åº“ä¸­å‘˜å·¥è¡¨çš„æ•°æ®
    static private Map&lt;Integer, Employee&gt; employees;

    @Autowired//è‡ªåŠ¨
    private DepartmentDao departmentDao;

    static {
        employees = new HashMap&lt;&gt;();//åˆ›å»ºä¸€ä¸ªå‘˜å·¥è¡¨
        employees.put(1, new Employee(1, "zsr", "1234@qq.com", 1, new Department(1, "æŠ€æœ¯éƒ¨"), new Date()));
        employees.put(2, new Employee(2, "lyr", "1345@qq.com", 1, new Department(2, "å¸‚åœºéƒ¨"), new Date()));
        employees.put(3, new Employee(3, "gcc", "5665@qq.com", 0, new Department(3, "è°ƒç ”éƒ¨"), new Date()));
        employees.put(4, new Employee(4, "zyx", "7688@qq.com", 1, new Department(4, "åå‹¤éƒ¨"), new Date()));
        employees.put(5, new Employee(5, "zch", "8089@qq.com", 1, new Department(5, "è¿è¥éƒ¨"), new Date()));
    }

    //ä¸»é”®è‡ªå¢
    private static Integer initialID = 6;

    //å¢åŠ ä¸€ä¸ªå‘˜å·¥
    public void addEmployee(Employee employee){
        if (employee.getId() == null){
            employee.setId(initialID);
        }
        employee.setDepartment(departmentDao.getDepartmentByID(employee.getDepartment().getId()));
        employees.put(employee.getId(),employee);
    }

    //æŸ¥è¯¢å…¨éƒ¨å‘˜å·¥ä¿¡æ¯
    public Collection&lt;Employee&gt; getAllEmployees(){
        return employees.values();
    }

    //é€šè¿‡idæŸ¥è¯¢å‘˜å·¥
    public Employee getEmployeeById(int id){
        return employees.get(id);
    }

    //é€šè¿‡idåˆ é™¤å‘˜å·¥
    public void deleteEmployee(int id){
        employees.remove(id);
    }

}
</code></pre> 
<h3><a id="_2073"></a>é¦–é¡µå®ç°</h3> 
<p>åœ¨å¯åŠ¨ç±»åŒçº§æ–°å»º<code>config</code>åŒ…ç”¨æ¥å­˜æ”¾è‡ªå·±æ‰©å±•çš„é…ç½®ç±»<br> æ–°å»ºä¸€ä¸ª<code>MyMvcConfig</code>ï¼Œæ‰©å±•mvcåŠŸèƒ½</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyMvcConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addViewControllers</span><span class="token punctuation">(</span><span class="token class-name">ViewControllerRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//è®¿é—®"/"æˆ–"/index.html"æ—¶ä¼šå˜æˆè®¿é—®index.html</span>
        registry<span class="token punctuation">.</span><span class="token function">addViewController</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"index"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        registry<span class="token punctuation">.</span><span class="token function">addViewController</span><span class="token punctuation">(</span><span class="token string">"/index.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"index"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>æˆ‘ä»¬å¯åŠ¨ä¸»ç¨‹åºè®¿é—®æµ‹è¯•ä¸€ä¸‹ï¼Œè®¿é—®<code>localhost:8080/</code>æˆ–è€…<code>locahost:8080/index.html</code></p> 
<p>å‡ºç°ä»¥ä¸‹é¡µé¢åˆ™æˆåŠŸ<br> <img src="https://images2.imgbox.com/e5/35/LexAfNmc_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ä¸Šè¿°æµ‹è¯•å¯ä»¥çœ‹åˆ°é¡µé¢æœ‰å›¾ç‰‡æ²¡æœ‰åŠ è½½å‡ºæ¥ï¼Œä¸”æ²¡æœ‰csså’Œjsçš„æ ·å¼ï¼Œè¿™å°±æ˜¯å› ä¸ºæˆ‘ä»¬htmlé¡µé¢ä¸­é™æ€èµ„æºå¼•å…¥çš„è¯­æ³•å‡ºäº†é—®é¢˜ï¼Œåœ¨SpringBootä¸­ï¼Œæ¨èä½¿ç”¨<code>Thymeleaf</code>ä½œä¸º<a href="https://so.csdn.net/so/search?q=%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E&amp;spm=1001.2101.3001.7020">æ¨¡æ¿å¼•æ“</a>ï¼Œæˆ‘ä»¬å°†å…¶ä¸­çš„è¯­æ³•æ”¹ä¸ºThymeleafï¼Œæ‰€æœ‰é¡µé¢çš„é™æ€èµ„æºéƒ½éœ€è¦ä½¿ç”¨å…¶æ¥ç®¡</p> 
<p><strong>æ³¨æ„æ‰€æœ‰htmléƒ½éœ€è¦å¼•å…¥Thymeleafå‘½åç©ºé—´</strong></p> 
<pre><code class="prism language-html">xmlns:th="http://www.thymeleaf.org"
</code></pre> 
<p>ç„¶åä¿®æ”¹æ‰€æœ‰é¡µé¢é™æ€èµ„æºçš„å¼•å…¥ï¼Œä½¿ç”¨@{â€¦} é“¾æ¥è¡¨è¾¾å¼</p> 
<p>ä¾‹å¦‚<code>index.html</code>ä¸­ï¼š</p> 
<p>æ³¨æ„ï¼šç¬¬ä¸€ä¸ª/ä»£è¡¨é¡¹ç›®çš„<code>classpath</code>ï¼Œä¹Ÿå°±æ˜¯è¿™é‡Œçš„<code>resources</code>ç›®å½•<br> <img src="https://images2.imgbox.com/4f/fe/jonvwIhC_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> å…¶ä»–é¡µé¢äº¦æ˜¯å¦‚æ­¤ï¼Œå†æ¬¡æµ‹è¯•è®¿é—®ï¼Œæ­£ç¡®æ˜¾ç¤ºé¡µé¢<br> <img src="https://images2.imgbox.com/6a/55/bHPFbCIW_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="_2111"></a>é¡µé¢å›½é™…åŒ–</h3> 
<h4><a id="properties_2115"></a>ç»Ÿä¸€propertiesç¼–ç </h4> 
<p><img src="https://images2.imgbox.com/69/ef/tvbDmfkK_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="i18n_2121"></a>ç¼–å†™i18nå›½é™…åŒ–èµ„æºæ–‡ä»¶</h4> 
<p>åœ¨resourcesç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª<code>i18n</code>åŒ…ï¼ˆå’Œstaticç›®å½•åŒçº§ï¼‰ï¼Œå…¶ä¸­æ”¾ç½®å›½é™…åŒ–ç›¸å…³çš„é…ç½®</p> 
<p>å…¶ä¸­æ–°å»ºä¸‰ä¸ªé…ç½®æ–‡ä»¶ï¼Œç”¨æ¥é…ç½®è¯­è¨€ï¼š</p> 
<ul><li><code>login.properties</code>ï¼šæ— è¯­è¨€é…ç½®æ—¶å€™ç”Ÿæ•ˆ</li><li><code>login_en_US.properties</code>ï¼šè‹±æ–‡ç”Ÿæ•ˆ</li><li><code>login_zh_CN.properties</code>ï¼šä¸­æ–‡ç”Ÿæ•ˆ</li></ul> 
<p>å‘½åæ–¹å¼æ˜¯ä¸‹åˆ’çº¿çš„ç»„åˆï¼š<code>æ–‡ä»¶å_è¯­è¨€_å›½å®¶.properties</code>ï¼›</p> 
<p>ä»¥æ­¤æ–¹å¼å‘½åï¼ŒIDEAä¼šå¸®æˆ‘ä»¬è¯†åˆ«è¿™æ˜¯ä¸ªå›½é™…åŒ–é…ç½®åŒ…ï¼Œè‡ªåŠ¨ç»‘å®šåœ¨ä¸€èµ·è½¬æ¢æˆå¦‚ä¸‹çš„æ¨¡å¼ï¼š<br> <img src="https://images2.imgbox.com/14/7a/j1W3JKcj_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ç»‘å®šåœ¨ä¸€èµ·åï¼Œæˆ‘ä»¬æƒ³è¦æ·»åŠ æ›´è¿‡è¯­è¨€é…ç½®ï¼Œåªéœ€è¦åœ¨å¤§çš„èµ„æºåŒ…å³é”®æ·»åŠ åˆ°è¯¥ç»‘å®šé…ç½®æ–‡ä»¶å³å¯<br> <img src="https://images2.imgbox.com/4e/b6/EzOtlDmb_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> æ­¤æ—¶åªéœ€è¦è¾“å…¥åŒºåŸŸåå³å¯åˆ›å»ºæˆåŠŸï¼Œæ¯”å¦‚è¾“å…¥<code>en_US</code>ï¼Œå°±ä¼šè‡ªåŠ¨è¯†åˆ«<br> <img src="https://images2.imgbox.com/8b/d2/EmnWzTE2_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ç„¶åæ‰“å¼€è‹±æ–‡æˆ–è€…ä¸­æ–‡è¯­è¨€çš„é…ç½®æ–‡ä»¶ï¼Œç‚¹å‡»<code>Resource Bundle</code>è¿›å…¥å¯è§†åŒ–ç¼–è¾‘é¡µé¢<br> <img src="https://images2.imgbox.com/cb/b1/Cmobmt4r_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> è¿›å…¥åˆ°å¯è§†åŒ–ç¼–è¾‘é¡µé¢åï¼Œç‚¹å‡»åŠ å·ï¼Œæ·»åŠ å±æ€§ï¼Œé¦–å…ˆæ–°å»ºä¸€ä¸ª<code>login.tip</code>ä»£è¡¨é¦–é¡µä¸­çš„æç¤º<br> <img src="https://images2.imgbox.com/a1/a6/Swmk06bE_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ç„¶åå¯¹è¯¥æç¤ºåˆ†åˆ«åšä¸‰ç§æƒ…å†µçš„è¯­è¨€é…ç½®ï¼Œåœ¨ä¸‰ä¸ªå¯¹åº”çš„è¾“å…¥æ¡†è¾“å…¥å³å¯<br> <img src="https://images2.imgbox.com/bc/44/AZGZUoO2_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> æ¥ä¸‹æ¥å†é…ç½®æ‰€æœ‰è¦è½¬æ¢è¯­è¨€çš„å˜é‡<br> <img src="https://images2.imgbox.com/a0/b0/UTN6c24K_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ç„¶åæ‰“å¼€ä¸‰ä¸ªé…ç½®æ–‡ä»¶çš„æŸ¥çœ‹å…¶ä¸­çš„æ–‡æœ¬å†…å®¹ï¼Œå¯ä»¥çœ‹åˆ°å·²ç»åšå¥½äº†å…¨éƒ¨çš„é…ç½®</p> 
<pre><code>login.properties
login.tip=è¯·ç™»å½•
login.password=å¯†ç 
login.remember=è®°ä½æˆ‘
login.btn=ç™»å½•
login.username=ç”¨æˆ·å
</code></pre> 
<pre><code>login_en_US.properties
login.tip=Please sign in
login.password=password
login.remember=remember me
login.btn=login
login.username=username
</code></pre> 
<pre><code>login_zh_CN.properties
login.tip=è¯·ç™»å½•
login.password=å¯†ç 
login.remember=è®°ä½æˆ‘
login.btn=ç™»å½•
login.username=ç”¨æˆ·å
</code></pre> 
<h4><a id="_2178"></a>é…ç½®å›½é™…åŒ–èµ„æºæ–‡ä»¶åç§°</h4> 
<p>åœ¨Springä¸­ï¼Œå›½é™…åŒ–ä¸»è¦æ˜¯é€šè¿‡<code>ResourceBundleMessageSource</code>è¿™ä¸ªç±»æ¥å®ç°çš„</p> 
<p>Spring Booté€šè¿‡<code>MessageSourceAutoConfiguration</code>ä¸ºæˆ‘ä»¬è‡ªåŠ¨é…ç½®å¥½äº†ç®¡ç†å›½é™…åŒ–èµ„æºæ–‡ä»¶çš„ç»„ä»¶</p> 
<p>å¯ä»¥å‘ç°å…¶ä¸­éƒ½æœ‰<code>MessageSource</code>ã€‚</p> 
<p>æˆ‘ä»¬åœ¨IDEAä¸­æŸ¥çœ‹ä»¥ä¸‹<code>MessageSourceAutoConfiguration</code>ç±»</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Configuration</span><span class="token punctuation">(</span>proxyBeanMethods <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ConditionalOnMissingBean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token class-name">AbstractApplicationContext</span><span class="token punctuation">.</span>MESSAGE_SOURCE_BEAN_NAME<span class="token punctuation">,</span> search <span class="token operator">=</span> <span class="token class-name">SearchStrategy</span><span class="token punctuation">.</span>CURRENT<span class="token punctuation">)</span>
<span class="token annotation punctuation">@AutoConfigureOrder</span><span class="token punctuation">(</span><span class="token class-name">Ordered</span><span class="token punctuation">.</span>HIGHEST_PRECEDENCE<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Conditional</span><span class="token punctuation">(</span><span class="token class-name">ResourceBundleCondition</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@EnableConfigurationProperties</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageSourceAutoConfiguration</span> <span class="token punctuation">{<!-- --></span>

	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Resource</span><span class="token punctuation">[</span><span class="token punctuation">]</span> NO_RESOURCES <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token annotation punctuation">@Bean</span>
	<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"spring.messages"</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token class-name">MessageSourceProperties</span> <span class="token function">messageSourceProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MessageSourceProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Bean</span>
	<span class="token keyword">public</span> <span class="token class-name">MessageSource</span> <span class="token function">messageSource</span><span class="token punctuation">(</span><span class="token class-name">MessageSourceProperties</span> properties<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token class-name">ResourceBundleMessageSource</span> messageSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ResourceBundleMessageSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span>properties<span class="token punctuation">.</span><span class="token function">getBasename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			messageSource<span class="token punctuation">.</span><span class="token function">setBasenames</span><span class="token punctuation">(</span><span class="token class-name">StringUtils</span>
					<span class="token punctuation">.</span><span class="token function">commaDelimitedListToStringArray</span><span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">trimAllWhitespace</span><span class="token punctuation">(</span>properties<span class="token punctuation">.</span><span class="token function">getBasename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>properties<span class="token punctuation">.</span><span class="token function">getEncoding</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			messageSource<span class="token punctuation">.</span><span class="token function">setDefaultEncoding</span><span class="token punctuation">(</span>properties<span class="token punctuation">.</span><span class="token function">getEncoding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		messageSource<span class="token punctuation">.</span><span class="token function">setFallbackToSystemLocale</span><span class="token punctuation">(</span>properties<span class="token punctuation">.</span><span class="token function">isFallbackToSystemLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Duration</span> cacheDuration <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getCacheDuration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>cacheDuration <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			messageSource<span class="token punctuation">.</span><span class="token function">setCacheMillis</span><span class="token punctuation">(</span>cacheDuration<span class="token punctuation">.</span><span class="token function">toMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		messageSource<span class="token punctuation">.</span><span class="token function">setAlwaysUseMessageFormat</span><span class="token punctuation">(</span>properties<span class="token punctuation">.</span><span class="token function">isAlwaysUseMessageFormat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		messageSource<span class="token punctuation">.</span><span class="token function">setUseCodeAsDefaultMessage</span><span class="token punctuation">(</span>properties<span class="token punctuation">.</span><span class="token function">isUseCodeAsDefaultMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> messageSource<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//......</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ä¸»è¦äº†è§£<code>messageSource()</code>è¿™ä¸ªæ–¹æ³•ã€‚<br> å¯ä»¥çœ‹åˆ°ï¼Œå®ƒçš„å‚æ•°ä¸º<code>MessageSourceProperties</code>å¯¹è±¡ï¼Œæˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªç±»</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageSourceProperties</span> <span class="token punctuation">{<!-- --></span>

	<span class="token comment">/**
	 * Comma-separated list of basenames (essentially a fully-qualified classpath
	 * location), each following the ResourceBundle convention with relaxed support for
	 * slash based locations. If it doesn't contain a package qualifier (such as
	 * "org.mypackage"), it will be resolved from the classpath root.
	 */</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> basename <span class="token operator">=</span> <span class="token string">"messages"</span><span class="token punctuation">;</span>

	<span class="token comment">/**
	 * Message bundles encoding.
	 */</span>
	<span class="token keyword">private</span> <span class="token class-name">Charset</span> encoding <span class="token operator">=</span> <span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span>UTF_8<span class="token punctuation">;</span>
</code></pre> 
<p>ç±»ä¸­é¦–å…ˆå£°æ˜äº†ä¸€ä¸ªå±æ€§<code>basename</code>,é»˜è®¤å€¼ä¸º<code>messages</code>;</p> 
<p>æˆ‘ä»¬ç¿»è¯‘å…¶æ³¨é‡Šï¼š</p> 
<pre><code class="prism language-bash">- é€—å·åˆ†éš”çš„åŸºååˆ—è¡¨<span class="token punctuation">(</span>æœ¬è´¨ä¸Šæ˜¯å®Œå…¨é™å®šçš„ç±»è·¯å¾„ä½ç½®<span class="token punctuation">)</span>
- æ¯ä¸ªéƒ½éµå¾ªResourceBundleçº¦å®šï¼Œå¹¶è½»æ¾æ”¯æŒäºæ–œæ çš„ä½ç½®
- å¦‚æœä¸åŒ…å«åŒ…é™å®šç¬¦<span class="token punctuation">(</span>ä¾‹å¦‚<span class="token string">"org.mypackage"</span><span class="token punctuation">)</span>,å®ƒå°†ä»ç±»è·¯å¾„æ ¹ç›®å½•ä¸­è§£æ
<span class="token number">123</span>
</code></pre> 
<p><strong>æ„æ€æ˜¯ï¼š</strong></p> 
<ul><li>å¦‚æœä½ ä¸åœ¨springbooté…ç½®æ–‡ä»¶ä¸­æŒ‡å®šä»¥.åˆ†éš”å¼€çš„å›½é™…åŒ–èµ„æºæ–‡ä»¶åç§°çš„è¯</li><li>å®ƒé»˜è®¤ä¼šå»ç±»è·¯å¾„ä¸‹æ‰¾<code>messages.properties</code>ä½œä¸ºå›½é™…åŒ–èµ„æºæ–‡ä»¶</li></ul> 
<p>è¿™é‡Œæˆ‘ä»¬è‡ªå®šä¹‰äº†å›½é™…åŒ–èµ„æºæ–‡ä»¶ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åœ¨SpringBooté…ç½®æ–‡ä»¶<code>application.properties</code>ä¸­åŠ å…¥ä»¥ä¸‹é…ç½®æŒ‡å®šæˆ‘ä»¬é…ç½®æ–‡ä»¶çš„åç§°</p> 
<pre><code class="prism language-xml">spring.messages.basename=i18n.login
</code></pre> 
<p>å…¶ä¸­<code>i18n</code>æ˜¯å­˜æ”¾èµ„æºçš„æ–‡ä»¶å¤¹åï¼Œ<code>login</code>æ˜¯èµ„æºæ–‡ä»¶çš„åŸºæœ¬åç§°ã€‚</p> 
<h4><a id="_2273"></a>é¦–é¡µè·å–æ˜¾ç¤ºå›½é™…åŒ–å€¼</h4> 
<p>åˆ©ç”¨<code>#{...}</code>æ¶ˆæ¯è¡¨è¾¾å¼ï¼Œå»é¦–é¡µ<code>index.html</code>è·å–å›½é™…åŒ–çš„å€¼<br> <img src="https://images2.imgbox.com/e9/a5/rtPs2wcn_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> é‡å¯é¡¹ç›®ï¼Œè®¿é—®é¦–é¡µï¼Œå¯ä»¥å‘ç°å·²ç»è‡ªåŠ¨è¯†åˆ«ä¸ºä¸­æ–‡<br> <img src="https://images2.imgbox.com/3b/82/WpiI8miY_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="_2282"></a>é…ç½®å›½é™…åŒ–ç»„ä»¶å®ç°ä¸­è‹±æ–‡åˆ‡æ¢</h4> 
<h5><a id="1__2286"></a>1. æ·»åŠ ä¸­è‹±æ–‡åˆ‡æ¢æ ‡ç­¾é“¾æ¥</h5> 
<p>ä¸Šè¿°å®ç°äº†ç™»å½•é¦–é¡µæ˜¾ç¤ºä¸ºä¸­æ–‡ï¼Œæˆ‘ä»¬åœ¨<code>index.html</code>é¡µé¢ä¸­å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªæ ‡ç­¾</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-sm<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ä¸­æ–‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-sm<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>English<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>ä¹Ÿå°±å¯¹åº”ç€è§†å›¾ä¸­çš„<br> <img src="https://images2.imgbox.com/49/84/f2nZVS1d_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> é‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆé€šè¿‡è¿™ä¸¤ä¸ªæ ‡ç­¾å®ç°ä¸­è‹±æ–‡åˆ‡æ¢å‘¢?</p> 
<h5><a id="2__2301"></a>2. è‡ªå®šä¹‰åœ°åŒºè§£æå™¨ç»„ä»¶</h5> 
<p>æ€ä¹ˆå®ç°æˆ‘ä»¬è‡ªå®šä¹‰çš„åœ°åŒºè§£æå™¨å‘¢ï¼Ÿæˆ‘ä»¬é¦–å…ˆæ¥åˆ†æä¸€æ³¢æºç </p> 
<p>åœ¨Springä¸­æœ‰å…³äºå›½é™…åŒ–çš„ä¸¤ä¸ªç±»ï¼š</p> 
<ul><li><code>Locale</code>ï¼šä»£è¡¨åœ°åŒºï¼Œæ¯ä¸€ä¸ªLocaleå¯¹è±¡éƒ½ä»£è¡¨äº†ä¸€ä¸ªç‰¹å®šçš„åœ°ç†ã€æ”¿æ²»å’Œæ–‡åŒ–åœ°åŒº</li><li><code>LocaleResolver</code>ï¼šåœ°åŒºè§£æå™¨</li></ul> 
<p>é¦–å…ˆæœç´¢<code>WebMvcAutoConfiguration</code>ï¼Œå¯ä»¥åœ¨å…¶ä¸­æ‰¾åˆ°å…³äºä¸€ä¸ªæ–¹æ³•<code>localeResolver()</code></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Bean</span>
<span class="token annotation punctuation">@ConditionalOnMissingBean</span>
<span class="token annotation punctuation">@ConditionalOnProperty</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"spring.mvc"</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token string">"locale"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">LocaleResolver</span> <span class="token function">localeResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//å¦‚æœç”¨æˆ·é…ç½®äº†,åˆ™ä½¿ç”¨ç”¨æˆ·é…ç½®å¥½çš„</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mvcProperties<span class="token punctuation">.</span><span class="token function">getLocaleResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">WebMvcProperties<span class="token punctuation">.</span>LocaleResolver</span><span class="token punctuation">.</span>FIXED<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">FixedLocaleResolver</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mvcProperties<span class="token punctuation">.</span><span class="token function">getLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
    <span class="token comment">//ç”¨æˆ·æ²¡æœ‰é…ç½®,åˆ™ä½¿ç”¨é»˜è®¤çš„</span>
   <span class="token class-name">AcceptHeaderLocaleResolver</span> localeResolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AcceptHeaderLocaleResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   localeResolver<span class="token punctuation">.</span><span class="token function">setDefaultLocale</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mvcProperties<span class="token punctuation">.</span><span class="token function">getLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> localeResolver<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>è¯¥æ–¹æ³•å°±æ˜¯è·å–<code>LocaleResolver</code>åœ°åŒºå¯¹è±¡è§£æå™¨ï¼š</p> 
<ul><li>å¦‚æœç”¨æˆ·é…ç½®äº†åˆ™ä½¿ç”¨ç”¨æˆ·é…ç½®çš„åœ°åŒºè§£æå™¨</li><li>å¦‚æœç”¨æˆ·æ²¡æœ‰é…ç½®ï¼Œåˆ™ä½¿ç”¨é»˜è®¤çš„åœ°åŒºè§£æå™¨</li></ul> 
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é»˜è®¤åœ°åŒºè§£æå™¨çš„æ˜¯<code>AcceptHeaderLocaleResolver</code>å¯¹è±¡ï¼Œæˆ‘ä»¬ç‚¹å…¥è¯¥ç±»æŸ¥çœ‹æºç <br> <img src="https://images2.imgbox.com/24/12/jrBA7unf_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>å¯ä»¥å‘ç°å®ƒç»§æ‰¿äº†<code>LocaleResolver</code>æ¥å£ï¼Œå®ç°äº†åœ°åŒºè§£æ</p> 
<p><strong>å› æ­¤æˆ‘ä»¬æƒ³è‡ªå®šä¹‰ä¸€ä¸ªåœ°åŒºè§£æå™¨ï¼Œåªéœ€è¦è®©è¿™ä¸ªç±»ç»§æ‰¿<code>LocaleResolver</code>æ¥å£ï¼Œé‡å†™å…¶æ–¹æ³•ï¼Œå¹¶æ³¨å…¥å®¹å™¨ä¸­å³å¯</strong></p> 
<p>æˆ‘ä»¬åœ¨<code>config</code>åŒ…ä¸‹æ–°å»º<code>MyLocaleResolver</code>ï¼Œä½œä¸ºè‡ªå·±çš„å›½é™…åŒ–åœ°åŒºè§£æå™¨<br> <img src="https://images2.imgbox.com/aa/f8/LrSeIzhJ_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> æˆ‘ä»¬åœ¨<code>index.html</code>ä¸­ï¼Œç¼–å†™äº†å¯¹åº”çš„è¯·æ±‚è·³è½¬</p> 
<ul><li>å¦‚æœç‚¹å‡»ä¸­æ–‡æŒ‰é’®ï¼Œåˆ™è·³è½¬åˆ°<code>/index.html(l='zh_CN')</code>é¡µé¢</li><li>å¦‚æœç‚¹å‡»EnglishæŒ‰é’®ï¼Œåˆ™è·³è½¬åˆ°<code>/index.html(l='en_US')</code>é¡µé¢</li></ul> 
<pre><code class="prism language-html"><span class="token comment">&lt;!--è¿™é‡Œä¼ å…¥å‚æ•°ä¸éœ€è¦ä½¿ç”¨?ä½¿ç”¨key=value--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-sm<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@{/index.html(l=<span class="token punctuation">'</span>zh_CN<span class="token punctuation">'</span>)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ä¸­æ–‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-sm<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@{/index.html(l=<span class="token punctuation">'</span>en_US<span class="token punctuation">'</span>)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>English<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>å› æ­¤æˆ‘ä»¬è‡ªå®šä¹‰çš„åœ°åŒºè§£æå™¨<code>MyLocaleResolver</code>ä¸­ï¼Œéœ€è¦å¤„ç†è¿™ä¸¤ä¸ªå¸¦å‚æ•°çš„é“¾æ¥è¯·æ±‚</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyLocaleResolver</span> <span class="token keyword">implements</span> <span class="token class-name">LocaleResolver</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//è§£æè¯·æ±‚</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Locale</span> <span class="token function">resolveLocale</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//è·å–è¯·æ±‚ä¸­çš„å›½é™…åŒ–å‚æ•°</span>
        <span class="token class-name">String</span> language <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"l"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//é»˜è®¤çš„åœ°åŒº</span>
        <span class="token class-name">Locale</span> locale <span class="token operator">=</span> <span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å¦‚æœè¯·æ±‚çš„é“¾æ¥å‚æ•°ä¸ä¸ºç©º,æºå¸¦äº†å›½é™…åŒ–å‚æ•°</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>language<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> split <span class="token operator">=</span> language<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"_"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//zh_CN(è¯­è¨€_åœ°åŒº)</span>
            locale <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span>split<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> split<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> locale<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setLocale</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Locale</span> locale<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ä¸ºäº†è®©æˆ‘ä»¬çš„åŒºåŸŸåŒ–ä¿¡æ¯èƒ½å¤Ÿç”Ÿæ•ˆï¼Œè¿˜éœ€è¦å°†å…¶æ³¨å…¥åˆ°å®¹å™¨ä¸­</p> 
<pre><code class="prism language-java"><span class="token comment">//è‡ªå®šä¹‰çš„å›½é™…åŒ–ç»„ä»¶ç”Ÿæ•ˆ</span>
<span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">LocaleResolver</span> <span class="token function">localeResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MyLocaleResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>æˆ‘ä»¬é‡å¯é¡¹ç›®ï¼Œæ¥è®¿é—®ä¸€ä¸‹ï¼Œå‘ç°ç‚¹å‡»æŒ‰é’®å¯ä»¥å®ç°æˆåŠŸåˆ‡æ¢ï¼</p> 
<p>ç‚¹å‡»ä¸­æ–‡æŒ‰é’®ï¼Œè·³è½¬åˆ°<code>http://localhost:8080/index.html?l=zh_CN</code>ï¼Œæ˜¾ç¤ºä¸ºä¸­æ–‡<br> <img src="https://images2.imgbox.com/2d/36/qlTHKZNH_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ç‚¹å‡»EnglishæŒ‰é’®ï¼Œè·³è½¬åˆ°<code>http://localhost:8080/index.html?l=en_US</code>ï¼Œæ˜¾ç¤ºä¸ºè‹±æ–‡<br> <img src="https://images2.imgbox.com/c5/57/OZW8GJTG_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ä½†æ˜¯è¿˜æœ‰ä¸€ä¸ª<strong>é—®é¢˜</strong>ï¼šåœ¨è‹±æ–‡ç•Œé¢è¾“å…¥é”™è¯¯çš„ç”¨æˆ·åå¯†ç ï¼Œå¼¹å‡ºé”™è¯¯ä¿¡æ¯æ—¶ï¼Œç•Œé¢åˆä¼šå˜æˆä¸­æ–‡çš„ã€‚</p> 
<h3><a id="_2399"></a>ç™»å½•åŠŸèƒ½çš„å®ç°</h3> 
<p>ç™»å½•ï¼Œä¹Ÿå°±æ˜¯å½“æˆ‘ä»¬ç‚¹å‡»<code>ç™»å½•</code>æŒ‰é’®çš„æ—¶å€™ï¼Œä¼šè¿›å…¥ä¸€ä¸ªé¡µé¢ï¼Œè¿™é‡Œè¿›å…¥<code>dashboard</code>é¡µé¢</p> 
<p>å› æ­¤æˆ‘ä»¬é¦–å…ˆåœ¨<code>index.html</code>ä¸­çš„è¡¨å•ç¼–å†™ä¸€ä¸ªæäº¤åœ°å€<code>/user/login</code>ï¼Œå¹¶ç»™åç§°å’Œå¯†ç è¾“å…¥æ¡†æ·»åŠ <code>name</code>å±æ€§ä¸ºäº†åé¢çš„ä¼ å‚<br> <img src="https://images2.imgbox.com/56/18/1ZnZyBMt_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> æ–°å»º<code>controller</code>åŒ…ï¼Œåœ¨å…¶ä¸­æ–°å»ºç±»<code>loginController</code>ï¼Œå¤„ç†ç™»å½•è¯·æ±‚</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/user/login"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> password<span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//å¦‚æœç”¨æˆ·åå’Œå¯†ç æ­£ç¡®</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"admin"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token string">"123456"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token string">"dashboard"</span><span class="token punctuation">;</span><span class="token comment">//è·³è½¬åˆ°dashboardé¡µé¢</span>
            <span class="token comment">//å¦‚æœç”¨æˆ·åæˆ–è€…å¯†ç ä¸æ­£ç¡®</span>
        <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span> <span class="token string">"ç”¨æˆ·åæˆ–è€…å¯†ç é”™è¯¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯</span>
            <span class="token keyword">return</span> <span class="token string">"index"</span><span class="token punctuation">;</span><span class="token comment">//è·³è½¬åˆ°é¦–é¡µ</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ç„¶åæˆ‘ä»¬åœ¨<code>index.html</code>é¦–é¡µä¸­åŠ ä¸€ä¸ªæ ‡ç­¾ç”¨æ¥æ˜¾ç¤º<code>controller</code>è¿”å›çš„é”™è¯¯ä¿¡æ¯</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> red</span><span class="token punctuation">"</span></span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${msg}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
1
</code></pre> 
<p><img src="https://images2.imgbox.com/eb/d3/vYEt1A3D_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> æˆ‘ä»¬å†æµ‹è¯•ä¸€ä¸‹ï¼Œå¯åŠ¨ä¸»ç¨‹åºï¼Œè®¿é—®<code>localhost:8080</code></p> 
<p>å¦‚æœæˆ‘ä»¬è¾“å…¥æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç ,åˆ™é‡æ–°è·³è½¬åˆ°<code>dashboard</code>é¡µé¢ï¼Œæµè§ˆå™¨urlä¸º<code>http://localhost:8080/user/login?username=admin&amp;password=123456</code><br> <img src="https://images2.imgbox.com/98/ee/IfxCh4lT_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> éšä¾¿è¾“å…¥é”™è¯¯çš„ç”¨æˆ·å<code>12</code>ï¼Œè¾“å…¥é”™è¯¯çš„å¯†ç <code>12</code></p> 
<p>æµè§ˆå™¨urlä¸º<code>http://localhost:8080/user/login?username=12&amp;password=123456</code>ï¼Œé¡µé¢ä¸Šé™„æœ‰é”™è¯¯æç¤ºä¿¡æ¯<br> <img src="https://images2.imgbox.com/9a/06/NZbkdhdz_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> åˆ°æ­¤æˆ‘ä»¬çš„ç™»å½•åŠŸèƒ½å®ç°å®Œæ¯•ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œæµè§ˆå™¨çš„urlæš´éœ²äº†ç”¨æˆ·çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œè¿™åœ¨å®é™…å¼€å‘ä¸­å¯æ˜¯é‡å¤§çš„æ¼æ´ï¼Œæ³„éœ²äº†ç”¨æˆ·ä¿¡æ¯ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦<code>æ”¹å˜é¦–é¡µï¼ˆdashboardï¼‰çš„æ˜ å°„</code></p> 
<p>æˆ‘ä»¬åœ¨è‡ªå®šä¹‰çš„é…ç½®ç±»<code>MyMvcConfig</code>ä¸­æ·»åŠ ä¸€å¥è¯</p> 
<pre><code class="prism language-java">registry<span class="token punctuation">.</span><span class="token function">addViewController</span><span class="token punctuation">(</span><span class="token string">"/main.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"dashboard"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>ä¹Ÿå°±æ˜¯è®¿é—®<code>/main.html</code>é¡µé¢å°±è·³è½¬åˆ°<code>dashboard</code>é¡µé¢</p> 
<p>ç„¶åæˆ‘ä»¬ç¨ç¨ä¿®æ”¹ä¸€ä¸‹<code>LoginController</code>ï¼Œå½“ç™»å½•æˆåŠŸæ—¶é‡å®šå‘åˆ°<code>main.html</code>é¡µé¢ï¼Œä¹Ÿå°±è·³è½¬åˆ°äº†<code>dashboard</code>é¡µé¢</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/user/login"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> password<span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//å¦‚æœç”¨æˆ·åå’Œå¯†ç æ­£ç¡®</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"admin"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token string">"123456"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token string">"redirect:/main.html"</span><span class="token punctuation">;</span><span class="token comment">//é‡å®šå‘åˆ°main.htmlé¡µé¢,ä¹Ÿå°±æ˜¯è·³è½¬åˆ°dashboardé¡µé¢</span>
            <span class="token comment">//å¦‚æœç”¨æˆ·åæˆ–è€…å¯†ç ä¸æ­£ç¡®</span>
        <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span> <span class="token string">"ç”¨æˆ·åæˆ–è€…å¯†ç é”™è¯¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯</span>
            <span class="token keyword">return</span> <span class="token string">"index"</span><span class="token punctuation">;</span><span class="token comment">//è·³è½¬åˆ°é¦–é¡µ</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>æˆ‘ä»¬å†æ¬¡é‡å¯æµ‹è¯•ï¼Œè¾“å…¥æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç ç™»é™†æˆåŠŸåï¼Œæµè§ˆå™¨ä¸å†æºå¸¦æ³„éœ²ä¿¡æ¯<br> <img src="https://images2.imgbox.com/fc/7e/9bCFN5ym_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ä½†æ˜¯è¿™åˆå‡ºç°äº†æ–°çš„é—®é¢˜ï¼Œä¸ç™»å½•ï¼Œç›´æ¥è®¿é—®<code>localhost/main.html</code>ä¹Ÿä¼šè·³è½¬åˆ°<code>dashboard</code>çš„é¡µé¢ï¼Œè¿™å°±å¼•å…¥äº†æ¥ä¸‹æ¥çš„æ‹¦æˆªå™¨</p> 
<h3><a id="_2475"></a>ç™»å½•æ‹¦æˆªå™¨</h3> 
<p>ä¸ºäº†è§£å†³ä¸Šè¿°é—ç•™çš„é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªæ‹¦æˆªå™¨ï¼›åœ¨<code>config</code>ç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªç™»å½•æ‹¦æˆªå™¨ç±»<code>LoginHandlerInterceptor</code></p> 
<p><strong>ç”¨æˆ·ç™»å½•æˆåŠŸåï¼Œåå°ä¼šå¾—åˆ°ç”¨æˆ·ä¿¡æ¯ï¼›å¦‚æœæ²¡æœ‰ç™»å½•ï¼Œåˆ™ä¸ä¼šæœ‰ä»»ä½•çš„ç”¨æˆ·ä¿¡æ¯ï¼›</strong></p> 
<p>æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹é€šè¿‡<strong>æ‹¦æˆªå™¨è¿›è¡Œæ‹¦æˆª</strong>ï¼š</p> 
<ul><li>å½“ç”¨æˆ·ç™»å½•æ—¶å°†ç”¨æˆ·ä¿¡æ¯å­˜å…¥<code>session</code>ä¸­ï¼Œè®¿é—®é¡µé¢æ—¶é¦–å…ˆåˆ¤æ–­<code>session</code>ä¸­æœ‰æ²¡æœ‰ç”¨æˆ·çš„ä¿¡æ¯</li><li>å¦‚æœæ²¡æœ‰ï¼Œæ‹¦æˆªå™¨è¿›è¡Œæ‹¦æˆªï¼›</li><li>å¦‚æœæœ‰ï¼Œæ‹¦æˆªå™¨æ”¾è¡Œ</li></ul> 
<p>å› æ­¤æˆ‘ä»¬é¦–å…ˆåœ¨<code>LoginController</code>ä¸­å½“ç”¨æˆ·ç™»å½•æˆåŠŸåï¼Œå­˜å…¥ç”¨æˆ·ä¿¡æ¯åˆ°<code>session</code>ä¸­</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/user/login"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> password<span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//å¦‚æœç”¨æˆ·åå’Œå¯†ç æ­£ç¡®</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"admin"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token string">"123456"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"LoginUser"</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token string">"redirect:/main.html"</span><span class="token punctuation">;</span><span class="token comment">//é‡å®šå‘åˆ°main.htmlé¡µé¢,ä¹Ÿå°±æ˜¯è·³è½¬åˆ°dashboardé¡µé¢</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//å¦‚æœç”¨æˆ·åæˆ–è€…å¯†ç ä¸æ­£ç¡®</span>
        <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span> <span class="token string">"ç”¨æˆ·åæˆ–è€…å¯†ç é”™è¯¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯</span>
            <span class="token keyword">return</span> <span class="token string">"index"</span><span class="token punctuation">;</span><span class="token comment">//è·³è½¬åˆ°é¦–é¡µ</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ç„¶åå†åœ¨å®ç°è‡ªå®šä¹‰çš„ç™»å½•æ‹¦æˆªå™¨ï¼Œç»§æ‰¿<code>HandlerInterceptor</code>æ¥å£</p> 
<ul><li>å…¶ä¸­è·å–å­˜å…¥çš„<code>session</code>è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™æ”¾è¡Œï¼›</li><li>å¦‚æœä¸ºç©ºï¼Œåˆ™è¿”å›é”™è¯¯æ¶ˆæ¯ï¼Œå¹¶ä¸”è¿”å›åˆ°é¦–é¡µï¼Œä¸æ”¾è¡Œã€‚</li></ul> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginHandlerInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//ç”¨æˆ·ç™»å½•æˆåŠŸå,åº”è¯¥æœ‰è‡ªå·±çš„session</span>
        <span class="token class-name">Object</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"LoginUser"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>session <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span> <span class="token string">"æƒé™ä¸å¤Ÿ,è¯·å…ˆç™»å½•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/index.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ç„¶åé…ç½®åˆ°beanä¸­æ³¨å†Œï¼Œåœ¨<code>MyMvcConfig</code>é…ç½®ç±»ä¸­ï¼Œé‡å†™å…³äºæ‹¦æˆªå™¨çš„æ–¹æ³•ï¼Œæ·»åŠ æˆ‘ä»¬è‡ªå®šä¹‰çš„æ‹¦æˆªå™¨ï¼Œæ³¨æ„å±è”½é™æ€èµ„æºåŠä¸»é¡µä»¥åŠç›¸å…³è¯·æ±‚çš„æ‹¦æˆª</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addInterceptors</span><span class="token punctuation">(</span><span class="token class-name">InterceptorRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    registry<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LoginHandlerInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">addPathPatterns</span><span class="token punctuation">(</span><span class="token string">"/**"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">excludePathPatterns</span><span class="token punctuation">(</span><span class="token string">"/index.html"</span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token string">"/user/login"</span><span class="token punctuation">,</span> <span class="token string">"/css/**"</span><span class="token punctuation">,</span> <span class="token string">"/js/**"</span><span class="token punctuation">,</span> <span class="token string">"/img/**"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ç„¶åé‡å¯ä¸»ç¨‹åºè¿›è¡Œæµ‹è¯•ï¼Œç›´æ¥è®¿é—®<code>http://localhost:8080/main.html</code><br> <img src="https://images2.imgbox.com/b3/fe/fLy0syCw_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="_2546"></a>å±•ç¤ºå‘˜å·¥ä¿¡æ¯â€”â€”æŸ¥</h3> 
<h4><a id="1_Customers_2550"></a>1. å®ç°Customersè§†å›¾è·³è½¬</h4> 
<p>ç›®æ ‡ï¼šç‚¹å‡»<code>dashboard.html</code>é¡µé¢ä¸­çš„<code>Customers</code>å±•ç¤ºè·³è½¬åˆ°<code>list.html</code>é¡µé¢æ˜¾ç¤ºæ‰€æœ‰å‘˜å·¥ä¿¡æ¯<br> <img src="https://images2.imgbox.com/64/88/YkI4FmYN_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> å› æ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆç»™<code>dashboard.html</code>é¡µé¢ä¸­<code>Customers</code>éƒ¨åˆ†æ ‡ç­¾æ·»åŠ <code>href</code>å±æ€§ï¼Œå®ç°ç‚¹å‡»è¯¥æ ‡ç­¾è¯·æ±‚<code>/emps</code>è·¯å¾„è·³è½¬åˆ°<code>list.html</code>å±•ç¤ºæ‰€æœ‰çš„å‘˜å·¥ä¿¡æ¯<br> <img src="https://images2.imgbox.com/86/fd/brMiqqCz_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> åŒæ ·ä¿®æ”¹<code>list.html</code>å¯¹åº”è¯¥çš„ä»£ç ä¸ºä¸Šè¿°ä»£ç <br> <img src="https://images2.imgbox.com/d0/e0/gWhxeZsa_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> æˆ‘ä»¬åœ¨<code>templates</code>ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªåŒ…<code>emp</code>ï¼Œç”¨æ¥æ”¾æ‰€æœ‰å…³äºå‘˜å·¥ä¿¡æ¯çš„é¡µé¢ï¼Œæˆ‘ä»¬å°†<code>list.html</code>é¡µé¢ç§»å…¥è¯¥åŒ…ä¸­<br> <img src="https://images2.imgbox.com/bb/2a/QeRoLfyM_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ç„¶åç¼–å†™è¯·æ±‚å¯¹åº”çš„<code>controller</code>ï¼Œå¤„ç†<code>/emps</code>è¯·æ±‚ï¼Œåœ¨controlleråŒ…ä¸‹ï¼Œæ–°å»ºä¸€ä¸ª<code>EmployeeController</code>ç±»</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EmployeeController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">EmployeeDao</span> employeeDao<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/emps"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> employees <span class="token operator">=</span> employeeDao<span class="token punctuation">.</span><span class="token function">getAllEmployees</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span>employees<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"emp/list"</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›åˆ°listé¡µé¢</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ç„¶åæˆ‘ä»¬é‡å¯ä¸»ç¨‹åºè¿›è¡Œæµ‹è¯•ï¼Œç™»å½•åˆ°<code>dashboard</code>é¡µé¢ï¼Œå†ç‚¹å‡»<code>Customers</code>ï¼ŒæˆåŠŸè·³è½¬åˆ°<code>/emps</code><br> <img src="https://images2.imgbox.com/91/e5/JkYw4yjL_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ä½†æ˜¯æœ‰äº›é—®é¢˜ï¼š</p> 
<ul><li>æˆ‘ä»¬ç‚¹å‡»äº†<code>Customerså</code>ï¼Œå®ƒåº”è¯¥å¤„äºé«˜äº®çŠ¶æ€ï¼Œä½†æ˜¯è¿™é‡Œç‚¹å‡»åè¿˜æ˜¯æ™®é€šçš„æ ·å­ï¼Œé«˜äº®è¿˜æ˜¯åœ¨<code>Dashboard</code>ä¸Š</li><li><code>list.html</code>å’Œ<code>dashboard.html</code>é¡µé¢çš„ä¾§è¾¹æ å’Œé¡¶éƒ¨æ æ˜¯ç›¸åŒçš„ï¼Œå¯ä»¥æŠ½å–å‡ºæ¥Â·</li></ul> 
<h4><a id="2__2588"></a>2. æå–é¡µé¢å…¬å…±éƒ¨åˆ†</h4> 
<p>åœ¨<code>templates</code>ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª<code>commons</code>åŒ…ï¼Œå…¶ä¸­æ–°å»º<code>commons.html</code>ç”¨æ¥æ”¾ç½®å…¬å…±é¡µé¢ä»£ç <br> <img src="https://images2.imgbox.com/04/a6/OxBzMFGY_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> åˆ©ç”¨<code>th:fragment</code>æ ‡ç­¾æŠ½å–å…¬å…±éƒ¨åˆ†ï¼ˆé¡¶éƒ¨å¯¼èˆªæ å’Œä¾§è¾¹æ ï¼‰<br> <code>commons.html</code></p> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    
<span class="token comment">&lt;!--é¡¶éƒ¨å¯¼èˆªæ ,åˆ©ç”¨th:fragmentæå–å‡ºæ¥,å‘½åä¸ºtopbar--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>topbar<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar-brand col-sm-3 col-md-2 mr-0<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://getbootstrap.com/docs/4.0/examples/dashboard/#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Company
        name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control form-control-dark w-100<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Search<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Search<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar-nav px-3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-item text-nowrap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-link<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://getbootstrap.com/docs/4.0/examples/dashboard/#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Sign out<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
    
<span class="token comment">&lt;!--ä¾§è¾¹æ ,åˆ©ç”¨th:fragmentæå–å‡ºæ¥,å‘½åä¸ºsidebar--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>col-md-2 d-none d-md-block bg-light sidebar<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>siderbar<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sidebar-sticky<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav flex-column<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-link active<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://getbootstrap.com/docs/4.0/examples/dashboard/#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 24 24<span class="token punctuation">"</span></span>
                         <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>currentColor<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-linecap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span>
                         <span class="token attr-name">stroke-linejoin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>feather feather-home<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polyline</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>9 22 9 12 15 12 15 22<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polyline</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
                    Dashboard <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sr-only<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>(current)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-link<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://getbootstrap.com/docs/4.0/examples/dashboard/#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 24 24<span class="token punctuation">"</span></span>
                         <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>currentColor<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-linecap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span>
                         <span class="token attr-name">stroke-linejoin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>feather feather-file<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polyline</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>13 2 13 9 20 9<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polyline</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
                    Orders
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-link<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://getbootstrap.com/docs/4.0/examples/dashboard/#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 24 24<span class="token punctuation">"</span></span>
                         <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>currentColor<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-linecap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span>
                         <span class="token attr-name">stroke-linejoin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>feather feather-shopping-cart<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>9<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>21<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>circle</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>21<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>circle</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
                    Products
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-link<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@{/emps}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 24 24<span class="token punctuation">"</span></span>
                         <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>currentColor<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-linecap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span>
                         <span class="token attr-name">stroke-linejoin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>feather feather-users<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>9<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>7<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>circle</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M23 21v-2a4 4 0 0 0-3-3.87<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M16 3.13a4 4 0 0 1 0 7.75<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
                    Customers
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-link<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://getbootstrap.com/docs/4.0/examples/dashboard/#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 24 24<span class="token punctuation">"</span></span>
                         <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>currentColor<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-linecap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span>
                         <span class="token attr-name">stroke-linejoin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>feather feather-bar-chart-2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>18<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>18<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>line</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>line</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>6<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>6<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>14<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>line</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
                    Reports
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-link<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://getbootstrap.com/docs/4.0/examples/dashboard/#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 24 24<span class="token punctuation">"</span></span>
                         <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>currentColor<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-linecap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span>
                         <span class="token attr-name">stroke-linejoin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>feather feather-layers<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polygon</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12 2 2 7 12 12 22 7 12 2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polygon</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polyline</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2 17 12 22 22 17<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polyline</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polyline</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2 12 12 17 22 12<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polyline</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
                    Integrations
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h6</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>Saved reports<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>d-flex align-items-center text-muted<span class="token punctuation">"</span></span>
               <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://getbootstrap.com/docs/4.0/examples/dashboard/#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 24 24<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span>
                     <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>currentColor<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-linecap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-linejoin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span>
                     <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>feather feather-plus-circle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>circle</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>line</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>line</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h6</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav flex-column mb-2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-link<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://getbootstrap.com/docs/4.0/examples/dashboard/#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 24 24<span class="token punctuation">"</span></span>
                         <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>currentColor<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-linecap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span>
                         <span class="token attr-name">stroke-linejoin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>feather feather-file-text<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polyline</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>14 2 14 8 20 8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polyline</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>13<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>13<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>line</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>17<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>17<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>line</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polyline</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10 9 9 9 8 9<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polyline</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
                    Current month
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-link<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://getbootstrap.com/docs/4.0/examples/dashboard/#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 24 24<span class="token punctuation">"</span></span>
                         <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>currentColor<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-linecap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span>
                         <span class="token attr-name">stroke-linejoin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>feather feather-file-text<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polyline</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>14 2 14 8 20 8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polyline</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>13<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>13<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>line</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>17<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>17<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>line</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polyline</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10 9 9 9 8 9<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polyline</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
                    Last quarter
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-link<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://getbootstrap.com/docs/4.0/examples/dashboard/#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 24 24<span class="token punctuation">"</span></span>
                         <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>currentColor<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-linecap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span>
                         <span class="token attr-name">stroke-linejoin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>feather feather-file-text<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polyline</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>14 2 14 8 20 8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polyline</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>13<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>13<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>line</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>17<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>17<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>line</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polyline</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10 9 9 9 8 9<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polyline</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
                    Social engagement
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-link<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://getbootstrap.com/docs/4.0/examples/dashboard/#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 24 24<span class="token punctuation">"</span></span>
                         <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>currentColor<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-linecap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span>
                         <span class="token attr-name">stroke-linejoin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>feather feather-file-text<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polyline</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>14 2 14 8 20 8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polyline</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>13<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>13<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>line</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>17<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>17<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>line</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polyline</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10 9 9 9 8 9<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polyline</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
                    Year-end sale
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>ç„¶ååˆ é™¤<code>dashboard.html</code>å’Œ<code>list.html</code>ä¸­é¡¶éƒ¨å¯¼èˆªæ å’Œä¾§è¾¹æ çš„ä»£ç ã€‚å†åœ¨<code>dashboard.html</code>å’Œ<code>list.html</code>åˆ é™¤çš„éƒ¨åˆ†æ’å…¥æå–å‡ºæ¥çš„å…¬å…±éƒ¨åˆ†<code>topbar</code>å’Œ<code>sidebar</code></p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!--é¡¶éƒ¨å¯¼èˆªæ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>~{commons/commons::topbar}<span class="token punctuation">"</span></span> <span class="token attr-name">}</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
12
<span class="token comment">&lt;!--ä¾§è¾¹æ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>~{commons/commons::siderbar}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><img src="https://images2.imgbox.com/00/a8/Chlh7rLx_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> æµ‹è¯•ï¼ŒæˆåŠŸçœ‹åˆ°ä¾§è¾¹æ å’Œé¡¶éƒ¨æ ï¼Œä»£è¡¨æˆ‘ä»¬æ’å…¥æˆåŠŸ<br> <img src="https://images2.imgbox.com/9b/12/O2fRUkeL_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="3__2780"></a>3. ç‚¹å‡»é«˜äº®å¤„ç†</h4> 
<p><img src="https://images2.imgbox.com/9d/a7/KUi7PMHr_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> æˆ‘ä»¬å¯ä»¥ä¼ é€’å‚æ•°åˆ¤æ–­ç‚¹å‡»äº†å“ªä¸ªæ ‡ç­¾å®ç°ç›¸åº”çš„é«˜äº®</p> 
<p>é¦–å…ˆåœ¨<code>dashboard.html</code>çš„ä¾§è¾¹æ æ ‡ç­¾ä¼ é€’å‚æ•°<code>active</code>ä¸º<code>dashboard.html</code><br> <img src="https://images2.imgbox.com/e3/a4/u2hGywJg_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> åŒæ ·åœ¨<code>list.html</code>çš„ä¾§è¾¹æ æ ‡ç­¾ä¼ é€’å‚æ•°<code>active</code>ä¸º<code>list.html</code><br> <img src="https://images2.imgbox.com/72/19/uZg8bbnO_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ç„¶åæˆ‘ä»¬åœ¨å…¬å…±é¡µé¢<code>commons.html</code>ç›¸åº”æ ‡ç­¾éƒ¨åˆ†åˆ©ç”¨<code>thymeleaf</code>æ¥æ”¶å‚æ•°<code>active</code>ï¼Œåˆ©ç”¨ä¸‰å…ƒè¿ç®—ç¬¦åˆ¤æ–­å†³å®šæ˜¯å¦é«˜äº®<br> <img src="https://images2.imgbox.com/a5/d3/2EsAcPDI_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> å†æ¬¡é‡å¯ä¸»ç¨‹åºæµ‹è¯•ï¼Œç™»å½•æˆåŠŸåï¼Œé¦–å…ˆ<code>Dashboard</code>é«˜äº®<br> <img src="https://images2.imgbox.com/8a/d0/yul5otD2_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> å†ç‚¹å‡»<code>Customers</code>ï¼Œ<code>Customers</code>é«˜äº®ï¼ŒæˆåŠŸ<br> <img src="https://images2.imgbox.com/61/7b/MuoD6c1q_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ä¹Ÿå°±æ˜¯ç™»å½•æˆåŠŸåä¼šä¼ é€’Dashboardï¼Œæ‰€ä»¥Dashboardé«˜äº®ï¼Œç‚¹å‡»Customersï¼Œä¼ é€’listï¼Œæ‰€ä»¥Customersé«˜äº®ã€‚</p> 
<h4><a id="4__2799"></a>4. æ˜¾ç¤ºå‘˜å·¥ä¿¡æ¯</h4> 
<p>ä¿®æ”¹<code>list.html</code>é¡µé¢ï¼Œæ˜¾ç¤ºæˆ‘ä»¬è‡ªå·±çš„æ•°æ®å€¼<br> <img src="https://images2.imgbox.com/49/58/1BUJlkOr_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ä¿®æ”¹å®Œæˆåï¼Œé‡å¯ä¸»ç¨‹åºï¼Œç™»å½•å®ŒæˆåæŸ¥çœ‹æ‰€æœ‰å‘˜å·¥ä¿¡æ¯ï¼ŒæˆåŠŸæ˜¾ç¤º<br> <img src="https://images2.imgbox.com/64/98/33rljKTh_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> æ¥ä¸‹æ¥ä¿®æ”¹ä¸€ä¸‹æ€§åˆ«çš„æ˜¾ç¤ºå’Œdateçš„æ˜¾ç¤ºï¼Œå¹¶æ·»åŠ ç¼–è¾‘å’Œåˆ é™¤ä¸¤ä¸ªæ ‡ç­¾ï¼Œä¸ºåç»­åšå‡†å¤‡</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>lastName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>email<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>gender<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>department<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>date<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>æ“ä½œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>emp:${emps}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${emp.getId()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${emp.getLastName()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${emp.getEmail()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${emp.getGender()==0?<span class="token punctuation">'</span>å¥³<span class="token punctuation">'</span>:<span class="token punctuation">'</span>ç”·<span class="token punctuation">'</span>}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${emp.getDepartment().getDepartmentName()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${#dates.format(emp.getDate(),<span class="token punctuation">'</span>yyyy-MM-dd HH:mm:ss<span class="token punctuation">'</span>)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-sm btn-primary<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç¼–è¾‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-sm btn-danger<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>åˆ é™¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>å†æ¬¡é‡å¯ä¸»ç¨‹åºæµ‹è¯•ï¼ŒæˆåŠŸ<br> <img src="https://images2.imgbox.com/e7/a8/fH92dsqn_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="_2844"></a>å¢åŠ å‘˜å·¥å®ç°â€”â€”å¢</h3> 
<h4><a id="1_list_2848"></a>1. listé¡µé¢å¢åŠ æ·»åŠ å‘˜å·¥æŒ‰é’®</h4> 
<p>é¦–å…ˆåœ¨<code>list.html</code>é¡µé¢å¢æ·»ä¸€ä¸ªå¢åŠ å‘˜å·¥æŒ‰é’®ï¼Œç‚¹å‡»è¯¥æŒ‰é’®æ—¶å‘èµ·ä¸€ä¸ªè¯·æ±‚<code>/add</code><br> <img src="https://images2.imgbox.com/9d/df/3cS2liz6_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-sm btn-success<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@{/add}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æ·»åŠ å‘˜å·¥<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ae/17/yuaivOBJ_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ç„¶åç¼–å†™å¯¹åº”çš„<code>controller</code>ï¼Œå¤„ç†ç‚¹å‡»æ·»åŠ å‘˜å·¥çš„è¯·æ±‚</p> 
<p>è¿™é‡Œé€šè¿‡<code>get</code>æ–¹å¼æäº¤è¯·æ±‚ï¼Œåœ¨<code>EmployeeController</code>ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•<code>add</code>ç”¨æ¥å¤„ç†<code>list</code>é¡µé¢ç‚¹å‡»æäº¤æŒ‰é’®çš„æ“ä½œï¼Œè¿”å›åˆ°<code>add.html</code>æ·»åŠ å‘˜å·¥é¡µé¢ï¼Œæˆ‘ä»¬å³å°†åˆ›å»º</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/add"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//æŸ¥å‡ºæ‰€æœ‰çš„éƒ¨é—¨ä¿¡æ¯,æ·»åŠ åˆ°departmentsä¸­,ç”¨äºå‰ç«¯æ¥æ”¶</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Department</span><span class="token punctuation">&gt;</span></span> departments <span class="token operator">=</span> departmentDao<span class="token punctuation">.</span><span class="token function">getDepartments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"departments"</span><span class="token punctuation">,</span> departments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">"emp/add"</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›åˆ°æ·»åŠ å‘˜å·¥é¡µé¢</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="2_addhtml_2877"></a>2. åˆ›å»ºæ·»åŠ å‘˜å·¥é¡µé¢add.html</h4> 
<p>åœ¨<code>templates/emp</code>ä¸‹æ–°å»ºä¸€ä¸ª<code>add.html</code><br> <img src="https://images2.imgbox.com/09/bd/ZOfh02cg_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> æˆ‘ä»¬å¤åˆ¶<code>list.html</code>ä¸­çš„å†…å®¹ï¼Œå°†å…¶ä¸­çš„<code>table</code>ç”¨è¡¨æ ¼ä»£æ›¿</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>LastName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lastName<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lastname:zsr<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>Email<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email:xxxxx@qq.com<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>Gender<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-check form-check-inline<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-check-input<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-check-label<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç”·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-check form-check-inline<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-check-input<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-check-label<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>å¥³<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>department<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--æ³¨æ„è¿™é‡Œçš„nameæ˜¯department.idï¼Œå› ä¸ºä¼ å…¥çš„å‚æ•°ä¸ºid--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>department.id<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>department:${departments}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${department.getDepartmentName()}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${department.getId()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>Birth<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--springbooté»˜è®¤çš„æ—¥æœŸæ ¼å¼ä¸ºyy/MM/dd--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>date<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>birth:yyyy/MM/dd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æ·»åŠ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>æˆ‘ä»¬é‡å¯ä¸»ç¨‹åºçœ‹çœ‹<br> <img src="https://images2.imgbox.com/4c/1b/fWizZDlq_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ç‚¹å‡»æ·»åŠ å‘˜å·¥ï¼ŒæˆåŠŸè·³è½¬åˆ°<code>add.html</code>é¡µé¢<br> <img src="https://images2.imgbox.com/b9/86/YzkZJxI0_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ä¸‹æ‹‰æ¡†ä¸­çš„å†…å®¹ä¸åº”è¯¥æ˜¯1ã€2ã€3ã€4ã€5ï¼›åº”è¯¥æ˜¯æ‰€æœ‰çš„éƒ¨é—¨åï¼Œæˆ‘ä»¬éå†å¾—åˆ°</p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!--å…¶ä¸­th:valueç”¨æ¥è¡¨ç¤ºéƒ¨é—¨çš„id,æˆ‘ä»¬å®é™…ä¼ å…¥çš„å€¼ä¸ºid--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>department:${departments}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${department.getDepartmentName()}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${department.getId()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="3_add_2935"></a>3. addé¡µé¢æ·»åŠ å‘˜å·¥è¯·æ±‚</h4> 
<p>åœ¨<code>add.html</code>é¡µé¢ï¼Œå½“æˆ‘ä»¬å¡«å†™å®Œä¿¡æ¯ï¼Œç‚¹å‡»æ·»åŠ æŒ‰é’®ï¼Œåº”è¯¥å®Œæˆæ·»åŠ è¿”å›åˆ°<code>list</code>é¡µé¢ï¼Œå±•ç¤ºæ–°çš„å‘˜å·¥ä¿¡æ¯ï¼›å› æ­¤åœ¨<code>add.html</code>ç‚¹å‡»æ·»åŠ æŒ‰é’®çš„ä¸€ç¬é—´ï¼Œæˆ‘ä»¬åŒæ ·å‘èµ·ä¸€ä¸ªè¯·æ±‚<code>/add</code>ï¼Œä¸ä¸Šè¿°æäº¤æŒ‰é’®å‘å‡ºçš„è¯·æ±‚è·¯å¾„ä¸€æ ·ï¼Œä½†è¿™é‡Œå‘å‡ºçš„æ˜¯postè¯·æ±‚,<code>Restfulé£æ ¼</code></p> 
<p><img src="https://images2.imgbox.com/60/75/YrZd0qE8_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ç„¶åç¼–å†™å¯¹åº”çš„<code>controller</code>ï¼ŒåŒæ ·åœ¨<code>EmployeeController</code>ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•<code>addEmp</code>ç”¨æ¥å¤„ç†ç‚¹å‡»æ·»åŠ æŒ‰é’®çš„æ“ä½œ</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/add"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">addEmp</span><span class="token punctuation">(</span><span class="token class-name">Employee</span> employee<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    employeeDao<span class="token punctuation">.</span><span class="token function">addEmployee</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ·»åŠ ä¸€ä¸ªå‘˜å·¥</span>
    <span class="token keyword">return</span> <span class="token string">"redirect:/emps"</span><span class="token punctuation">;</span><span class="token comment">//é‡å®šå‘åˆ°/emps,åˆ·æ–°åˆ—è¡¨,è¿”å›åˆ°listé¡µé¢</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>æˆ‘ä»¬é‡å¯ä¸»ç¨‹åºï¼Œè¿›è¡Œæµ‹è¯•ï¼Œè¿›å…¥æ·»åŠ é¡µé¢ï¼Œå¡«å†™ç›¸å…³ä¿¡æ¯ï¼Œæ³¨æ„æ—¥æœŸæ ¼å¼é»˜è®¤ä¸º<code>yyyy-MM-dd</code></p> 
<pre><code>application.properties`ä¿®æ”¹äº†é»˜è®¤çš„æ—¥æœŸæ ¼å¼ï¼Œé»˜è®¤çš„æ—¥æœŸæ ¼å¼ä¸º`yyyy/MM/dd
#æ—¥æœŸæ ¼å¼åŒ–
spring.mvc.date-format=yyyy-MM-dd
</code></pre> 
<p><img src="https://images2.imgbox.com/a7/85/EBnepB88_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ç„¶åç‚¹å‡»æ·»åŠ æŒ‰é’®ï¼ŒæˆåŠŸå®ç°æ·»åŠ å‘˜å·¥<br> <img src="https://images2.imgbox.com/2c/12/GyWC4Kao_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="_2967"></a>ä¿®æ”¹å‘˜å·¥ä¿¡æ¯â€”â€”æ”¹</h3> 
<h4><a id="1_list_2973"></a>1. listé¡µé¢ç¼–è¾‘æŒ‰é’®å¢æ·»è¯·æ±‚</h4> 
<p><img src="https://images2.imgbox.com/9c/41/2Amdbg1Y_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> å½“æˆ‘ä»¬ç‚¹å‡»ç¼–è¾‘æ ‡ç­¾æ—¶ï¼Œåº”è¯¥è·³è½¬åˆ°ç¼–è¾‘é¡µé¢<code>edit.html</code>ï¼ˆæˆ‘ä»¬å³å°†åˆ›å»ºï¼‰è¿›è¡Œç¼–è¾‘</p> 
<p>å› æ­¤é¦–å…ˆå°†<code>list.html</code>é¡µé¢çš„ç¼–è¾‘æ ‡ç­¾æ·»åŠ <code>href</code>å±æ€§ï¼Œå®ç°ç‚¹å‡»è¯·æ±‚<code>/edit/id</code>å·åˆ°ç¼–è¾‘é¡µé¢</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-sm btn-primary<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@{/edit/}+${emp.getId()}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç¼–è¾‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>ç„¶åç¼–å†™å¯¹åº”çš„<code>controller</code>ï¼Œåœ¨<code>EmployeeController</code>ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•<code>edit</code>ç”¨æ¥å¤„ç†<code>list</code>é¡µé¢ç‚¹å‡»ç¼–è¾‘æŒ‰é’®çš„æ“ä½œï¼Œè¿”å›åˆ°<code>edit.html</code>ç¼–è¾‘å‘˜å·¥é¡µé¢ï¼Œæˆ‘ä»¬å³å°†åˆ›å»º</p> 
<pre><code class="prism language-java"><span class="token comment">//restfulé£æ ¼æ¥æ”¶å‚æ•°</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/edit/{id}"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">edit</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token keyword">int</span> id<span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//æŸ¥è¯¢æŒ‡å®šidçš„å‘˜å·¥,æ·»åŠ åˆ°empByIDä¸­,ç”¨äºå‰ç«¯æ¥æ”¶</span>
    <span class="token class-name">Employee</span> employeeByID <span class="token operator">=</span> employeeDao<span class="token punctuation">.</span><span class="token function">getEmployeeByID</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"empByID"</span><span class="token punctuation">,</span> employeeByID<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//æŸ¥å‡ºæ‰€æœ‰çš„éƒ¨é—¨ä¿¡æ¯,æ·»åŠ åˆ°departmentsä¸­,ç”¨äºå‰ç«¯æ¥æ”¶</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Department</span><span class="token punctuation">&gt;</span></span> departments <span class="token operator">=</span> departmentDao<span class="token punctuation">.</span><span class="token function">getDepartments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"departments"</span><span class="token punctuation">,</span> departments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">"/emp/edit"</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›åˆ°ç¼–è¾‘å‘˜å·¥é¡µé¢</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="2_edit_3002"></a>2. åˆ›å»ºç¼–è¾‘å‘˜å·¥é¡µé¢edit</h4> 
<p>åœ¨<code>templates/emp</code>ä¸‹æ–°å»ºä¸€ä¸ª<code>edit.html</code><br> <img src="https://images2.imgbox.com/d8/89/NwVhZs41_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>å¤åˆ¶<code>add.html</code>ä¸­çš„ä»£ç ï¼Œç¨ä½œä¿®æ”¹</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>main<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>col-md-9 ml-sm-auto col-lg-10 pt-3 px-4<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name"><span class="token namespace">th:</span>action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@{/edit}<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>LastName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${empByID.getLastName()}<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lastName<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span>
                   <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lastname:zsr<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>Email<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${empByID.getEmail()}<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span>
                   <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email:xxxxx@qq.com<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>Gender<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-check form-check-inline<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">th:</span>checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${empByID.getGender()==1}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-check-input<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span>
                       <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-check-label<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç”·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-check form-check-inline<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">th:</span>checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${empByID.getGender()==0}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-check-input<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span>
                       <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-check-label<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>å¥³<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>department<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--æ³¨æ„è¿™é‡Œçš„nameæ˜¯department.idï¼Œå› ä¸ºä¼ å…¥çš„å‚æ•°ä¸ºid--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>department.id<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name"><span class="token namespace">th:</span>selected</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${department.getId()==empByID.department.getId()}<span class="token punctuation">"</span></span>
                        <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>department:${departments}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${department.getDepartmentName()}<span class="token punctuation">"</span></span>
                        <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${department.getId()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>Birth<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--springbooté»˜è®¤çš„æ—¥æœŸæ ¼å¼ä¸ºyy/MM/dd--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${empByID.getDate()}<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>date<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span>
                   <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>birth:yy/MM/dd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>å¯åŠ¨ä¸»ç¨‹åºæµ‹è¯•ï¼Œç‚¹å‡»ç¼–è¾‘1å·ç”¨æˆ·<br> <img src="https://images2.imgbox.com/4c/a1/NNeeH84q_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>æˆåŠŸè·³è½¬åˆ°<code>edit.html</code>ï¼Œä¸”æ‰€é€‰ç”¨æˆ·ä¿¡æ¯æ­£ç¡®<br> <img src="https://images2.imgbox.com/fd/59/SoLIjtcl_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ä½†æ˜¯æ—¥æœŸçš„æ ¼å¼ä¸å¤ªæ­£ç¡®ï¼Œæˆ‘ä»¬è§„å®šä¸€ä¸‹æ˜¾ç¤ºçš„æ—¥æœŸæ ¼å¼</p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!--springbooté»˜è®¤çš„æ—¥æœŸæ ¼å¼ä¸ºyy/MM/dd--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${#dates.format(empByID.getDate(),<span class="token punctuation">'</span>yyyy-MM-dd HH:mm:ss<span class="token punctuation">'</span>)}<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>date<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span>
       <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>birth:yy-MM-dd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="3_edit_3071"></a>3. edité¡µé¢ç¼–è¾‘å®Œæˆæäº¤è¯·æ±‚</h4> 
<p>åœ¨<code>edit.html</code>ç‚¹å‡»ä¿®æ”¹æŒ‰é’®çš„ä¸€ç¬é—´ï¼Œæˆ‘ä»¬éœ€è¦è¿”å›åˆ°<code>list</code>é¡µé¢ï¼Œæ›´æ–°å‘˜å·¥ä¿¡æ¯ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æ·»åŠ <code>href</code>å±æ€§ï¼Œå®ç°ç‚¹å‡»æŒ‰é’®æ—¶å‘èµ·ä¸€ä¸ªè¯·æ±‚<code>/edit</code><br> <img src="https://images2.imgbox.com/c3/44/3gT7FJye_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ç„¶åç¼–å†™å¯¹åº”çš„controllerï¼Œå¤„ç†ç‚¹å‡»ä¿®æ”¹æŒ‰é’®çš„è¯·æ±‚</p> 
<p>åŒæ ·åœ¨<code>EmployeeController</code>ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•<code>EditEmp</code>ç”¨æ¥å¤„ç†<code>edit</code>é¡µé¢ç‚¹å‡»æ·»åŠ çš„æ“ä½œ</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/edit"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token class-name">EditEmp</span><span class="token punctuation">(</span><span class="token class-name">Employee</span> employee<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    employeeDao<span class="token punctuation">.</span><span class="token function">addEmployee</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä¿®æ”¹ä¸€ä¸ªå‘˜å·¥</span>
    <span class="token keyword">return</span> <span class="token string">"redirect:/emps"</span><span class="token punctuation">;</span><span class="token comment">//ä¿®æ”¹å®Œæˆé‡å®šå‘åˆ°/emps,åˆ·æ–°åˆ—è¡¨</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ç„¶åæŒ‡å®šä¿®æ”¹äººçš„<code>id</code></p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hidden<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${empByID.getId()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>é‡å¯æµ‹è¯•ï¼ŒåŒæ ·ä¿®æ”¹1å·ç”¨æˆ·åç§°ä¸º<code>dddd</code><br> <img src="https://images2.imgbox.com/43/d5/z5Gf8M8R_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ç„¶åç‚¹å‡»ä¿®æ”¹<br> <img src="https://images2.imgbox.com/31/6a/EWjOVm1e_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>æˆåŠŸä¿®æ”¹å¹¶è¿”å›åˆ°<code>list.html</code></p> 
<h3><a id="_3105"></a>åˆ é™¤å‘˜å·¥ä¿¡æ¯â€”â€”åˆ </h3> 
<p><img src="https://images2.imgbox.com/bf/be/5HHyKhX1_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> å½“æˆ‘ä»¬ç‚¹å‡»<code>åˆ é™¤</code>æŒ‰é’®æ—¶ï¼Œåº”è¯¥å‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œåˆ é™¤æŒ‡å®šçš„ç”¨æˆ·ï¼Œç„¶åé‡æ–°è¿”å›åˆ°<code>list</code>é¡µé¢æ˜¾ç¤ºå‘˜å·¥æ•°æ®</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-sm btn-success<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@{/delete/}+${emp.getId()}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>åˆ é™¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
1
</code></pre> 
<p>ç„¶åç¼–å†™å¯¹åº”çš„<code>controller</code>ï¼Œå¤„ç†ç‚¹å‡»åˆ é™¤æŒ‰é’®çš„è¯·æ±‚ï¼Œåˆ é™¤æŒ‡å®šå‘˜å·¥ï¼Œé‡å®šå‘åˆ°<code>/emps</code>è¯·æ±‚ï¼Œæ›´æ–°å‘˜å·¥ä¿¡æ¯</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/delete/{id}"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    employeeDao<span class="token punctuation">.</span><span class="token function">deleteEmployeeByID</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">"redirect:/emps"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>é‡å¯æµ‹è¯•ï¼Œç‚¹å‡»åˆ é™¤æŒ‰é’®å³å¯åˆ é™¤æŒ‡å®šå‘˜å·¥</p> 
<h3><a id="404_3131"></a>404é¡µé¢å®šåˆ¶</h3> 
<p>åªéœ€è¦åœ¨<code>templates</code>ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª<code>error</code>åŒ…ï¼Œç„¶åå°†<code>404.html</code>æ”¾å…¥å…¶ä¸­ï¼ŒæŠ¥é”™<code>SpringBoot</code>å°±ä¼šè‡ªåŠ¨æ‰¾åˆ°è¿™ä¸ªé¡µé¢<br> <img src="https://images2.imgbox.com/8f/0d/XqDM3jHd_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> æˆ‘ä»¬å¯ä»¥å¯åŠ¨ç¨‹åºæµ‹è¯•ï¼Œéšä¾¿è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„é¡µé¢,å‡ºç°çš„404é¡µé¢å³æ˜¯æˆ‘ä»¬è‡ªå·±çš„<code>404.html</code></p> 
<h3><a id="_3141"></a>æ³¨é”€æ“ä½œ</h3> 
<p>åœ¨æˆ‘ä»¬æå–å‡ºæ¥çš„å…¬å…±<code>commons</code>é¡µé¢ï¼Œé¡¶éƒ¨å¯¼èˆªæ å¤„ä¸­çš„æ ‡ç­¾æ·»åŠ <code>href</code>å±æ€§ï¼Œå®ç°ç‚¹å‡»å‘èµ·è¯·æ±‚<code>/user/logout</code><br> <img src="https://images2.imgbox.com/ff/ca/90GY86zC_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ç„¶åç¼–å†™å¯¹åº”çš„<code>controller</code>ï¼Œå¤„ç†ç‚¹å‡»æ³¨é”€æ ‡ç­¾çš„è¯·æ±‚ï¼Œåœ¨<code>LoginController</code>ä¸­ç¼–å†™å¯¹åº”çš„æ–¹æ³•ï¼Œæ¸…é™¤<code>session</code>ï¼Œå¹¶é‡å®šå‘åˆ°é¦–é¡µ</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/user/logout"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    session<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">"redirect:/index.html"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>é‡å¯æµ‹è¯•ï¼Œç™»å½•æˆåŠŸåï¼Œç‚¹å‡»<code>log out</code>å³å¯é€€å‡ºåˆ°ç™»å½•é¡µ</p> 
<h2><a id="JDBC_3161"></a>æ•´åˆJDBC</h2> 
<p>Sping Data å®˜ç½‘ï¼šhttps://spring.io/projects/spring-data</p> 
<p>æ•°æ®åº“ç›¸å…³çš„å¯åŠ¨å™¨ ï¼šå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š</p> 
<p>https://docs.spring.io/spring-boot/docs/2.2.5.RELEASE/reference/htmlsingle/#using-boot-starter</p> 
<h3><a id="_3173"></a>åˆ›å»ºæµ‹è¯•é¡¹ç›®æµ‹è¯•æ•°æ®æº</h3> 
<ol><li> <p>æˆ‘å»æ–°å»ºä¸€ä¸ªé¡¹ç›®æµ‹è¯•ï¼šspringboot-03-data; åˆ›å»ºé¡¹ç›®æ—¶ï¼Œå‹¾é€‰<code>JDBC API</code>å’Œ<code>MySQL Driver</code> <code>spring data</code></p> </li><li> <p>é¡¹ç›®åˆ›å»ºå®Œæˆä¹‹åï¼Œæˆ‘ä»¬å»pom.xmlä¸­å¯ä»¥å‘ç°ï¼Œè‡ªåŠ¨å¼•å…¥äº†å¦‚ä¸‹å¯åŠ¨å™¨</p> <pre><code>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;mysql&lt;/groupId&gt;
    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
    &lt;scope&gt;runtime&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre> </li><li> <p>åœ¨resourcesä¸­åˆ›å»ºapplication.yml</p> <pre><code>spring:
  datasource:
    username: root
    password: 123456
    url: jdbc:mysql://localhost:3306/mybatis?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8
    #è¿™ä¸ªæ˜¯MySQL 5ç‰ˆæœ¬çš„ï¼Œè¦æ˜¯å…«ç‰ˆæœ¬çš„è¯åº”è¯¥æ˜¯ï¼šdriver-class-name: com.mysql.cj.jdbc.Driver
    driver-class-name: com.mysql.jdbc.Driver
</code></pre> </li><li> <p>æµ‹è¯•</p> <pre><code class="prism language-java"><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">Springboot04DataApplicationTests</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token comment">//å¦‚æœdataSourceçˆ†çº¢çº¿çš„è¯ï¼Œå¯ä»¥è¿™æ ·@Autowired(required=false)</span>
    <span class="token class-name">DataSource</span> dataSource<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//é»˜è®¤æ•°æ®æº</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è·å¾—è¿æ¥</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> dataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>connection<span class="token punctuation">)</span><span class="token punctuation">;</span>

        connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <p>ç»“æœï¼šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä»–é»˜è®¤ç»™æˆ‘ä»¬é…ç½®çš„æ•°æ®æºä¸º : class com.zaxxer.hikari.HikariDataSource ï¼Œ æˆ‘ä»¬å¹¶æ²¡æœ‰æ‰‹åŠ¨é…ç½®</p> </li></ol> 
<p><strong>HikariDataSource å·ç§° Java WEB å½“å‰é€Ÿåº¦æœ€å¿«çš„æ•°æ®æºï¼Œç›¸æ¯”äºä¼ ç»Ÿçš„ C3P0 ã€DBCPã€Tomcat jdbc ç­‰è¿æ¥æ± æ›´åŠ ä¼˜ç§€ï¼›</strong></p> 
<h3><a id="JDBCTemplate_3235"></a>JDBCTemplate</h3> 
<p>1ã€æœ‰äº†æ•°æ®æº(com.zaxxer.hikari.HikariDataSource)ï¼Œç„¶åå¯ä»¥æ‹¿åˆ°æ•°æ®åº“è¿æ¥(java.sql.Connection)ï¼Œæœ‰äº†è¿æ¥ï¼Œå°±å¯ä»¥ä½¿ç”¨åŸç”Ÿçš„ JDBC è¯­å¥æ¥æ“ä½œæ•°æ®åº“ï¼›</p> 
<p>2ã€å³ä½¿ä¸ä½¿ç”¨ç¬¬ä¸‰æ–¹ç¬¬æ•°æ®åº“æ“ä½œæ¡†æ¶ï¼Œå¦‚ MyBatisç­‰ï¼ŒSpring æœ¬èº«ä¹Ÿå¯¹åŸç”Ÿçš„JDBC åšäº†è½»é‡çº§çš„å°è£…ï¼Œå³JdbcTemplateã€‚</p> 
<p>3ã€æ•°æ®åº“æ“ä½œçš„æ‰€æœ‰ CRUD æ–¹æ³•éƒ½åœ¨ JdbcTemplate ä¸­ã€‚</p> 
<p>4ã€Spring Boot ä¸ä»…æä¾›äº†é»˜è®¤çš„æ•°æ®æºï¼ŒåŒæ—¶é»˜è®¤å·²ç»é…ç½®å¥½äº† JdbcTemplate æ”¾åœ¨äº†å®¹å™¨ä¸­ï¼Œç¨‹åºå‘˜åªéœ€è‡ªå·±æ³¨å…¥å³å¯ä½¿ç”¨</p> 
<p>5ã€JdbcTemplate çš„è‡ªåŠ¨é…ç½®æ˜¯ä¾èµ– org.springframework.boot.autoconfigure.jdbc åŒ…ä¸‹çš„ JdbcTemplateConfiguration ç±»</p> 
<p><strong>JdbcTemplateä¸»è¦æä¾›ä»¥ä¸‹å‡ ç±»æ–¹æ³•ï¼š</strong></p> 
<ul><li> <p>executeæ–¹æ³•ï¼šå¯ä»¥ç”¨äºæ‰§è¡Œä»»ä½•SQLè¯­å¥ï¼Œä¸€èˆ¬ç”¨äºæ‰§è¡ŒDDLè¯­å¥ï¼›</p> </li><li> <p>updateæ–¹æ³•åŠbatchUpdateæ–¹æ³•ï¼šupdateæ–¹æ³•ç”¨äºæ‰§è¡Œæ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤ç­‰è¯­å¥ï¼›batchUpdateæ–¹æ³•ç”¨äºæ‰§è¡Œæ‰¹å¤„ç†ç›¸å…³è¯­å¥ï¼›</p> </li><li> <p>queryæ–¹æ³•åŠqueryForXXXæ–¹æ³•ï¼šç”¨äºæ‰§è¡ŒæŸ¥è¯¢ç›¸å…³è¯­å¥ï¼›</p> </li><li> <p>callæ–¹æ³•ï¼šç”¨äºæ‰§è¡Œå­˜å‚¨è¿‡ç¨‹ã€å‡½æ•°ç›¸å…³è¯­å¥ã€‚</p> </li></ul> 
<p>æµ‹è¯•ï¼šåˆ›å»ºä¸€ä¸ªcontrollerçš„åŒ…ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªUserControllerç±»</p> 
<pre><code>package com.edu.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import java.util.List;
import java.util.Map;

/**
 * @author javaå°å¢©å¢©
 * @version 1.0
 */
@RestController
@RequestMapping("jdbc")
public class UserController {
    
    @Autowired(required = false)
    JdbcTemplate jdbcTemplate;

    @RequestMapping("/select")
    public List&lt;Map&lt;String,Object&gt;&gt; select(){
        String sql="select * from user";
        List&lt;Map&lt;String, Object&gt;&gt; list = jdbcTemplate.queryForList(sql);
        return list;
    }

    @RequestMapping("/insert")
    public String insert(){
        String sql="insert into user values(9,'æ˜¯æˆ‘æ˜¯æˆ‘','951')";
        jdbcTemplate.update(sql);
        return "insertOk";
    }


    @RequestMapping("/update/{id}")
    public String update(@PathVariable("id") int id){

        String sql = "update user set name =? ,pwd = ? where id = " +id;

        Object[] objects = new Object[2];
        objects[0] = "www";
        objects[1] = "999999999";
        jdbcTemplate.update(sql,objects);
        return "updateOk";
    }


    @RequestMapping("/delete/{id}")
    public String delete(@PathVariable("id") int id){
        String sql = "delete from user where id = ?";
        jdbcTemplate.update(sql,id);
        return "deleteOk";
    }

}

</code></pre> 
<h2><a id="Druid_3325"></a>æ•´åˆDruid</h2> 
<h3><a id="Druid_3331"></a>Druidç®€ä»‹</h3> 
<p>Javaç¨‹åºå¾ˆå¤§ä¸€éƒ¨åˆ†è¦æ“ä½œæ•°æ®åº“ï¼Œä¸ºäº†æé«˜æ€§èƒ½æ“ä½œæ•°æ®åº“çš„æ—¶å€™ï¼Œåˆä¸å¾—ä¸ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ã€‚</p> 
<p>Druid æ˜¯é˜¿é‡Œå·´å·´å¼€æºå¹³å°ä¸Šä¸€ä¸ªæ•°æ®åº“è¿æ¥æ± å®ç°ï¼Œç»“åˆäº† C3P0ã€DBCP ç­‰ DB æ± çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶åŠ å…¥äº†æ—¥å¿—ç›‘æ§ã€‚</p> 
<p>Druid å¯ä»¥å¾ˆå¥½çš„ç›‘æ§ DB æ± è¿æ¥å’Œ SQL çš„æ‰§è¡Œæƒ…å†µï¼Œå¤©ç”Ÿå°±æ˜¯é’ˆå¯¹ç›‘æ§è€Œç”Ÿçš„ DB è¿æ¥æ± ã€‚</p> 
<p>Druidå·²ç»åœ¨é˜¿é‡Œå·´å·´éƒ¨ç½²äº†è¶…è¿‡600ä¸ªåº”ç”¨ï¼Œç»è¿‡ä¸€å¹´å¤šç”Ÿäº§ç¯å¢ƒå¤§è§„æ¨¡éƒ¨ç½²çš„ä¸¥è‹›è€ƒéªŒã€‚</p> 
<p>Spring Boot 2.0 ä»¥ä¸Šé»˜è®¤ä½¿ç”¨ Hikari æ•°æ®æºï¼Œå¯ä»¥è¯´ Hikari ä¸ Driud éƒ½æ˜¯å½“å‰ Java Web ä¸Šæœ€ä¼˜ç§€çš„æ•°æ®æºï¼Œæˆ‘ä»¬æ¥é‡ç‚¹ä»‹ç» Spring Boot å¦‚ä½•é›†æˆ Druid æ•°æ®æºï¼Œå¦‚ä½•å®ç°æ•°æ®åº“ç›‘æ§ã€‚</p> 
<p><strong>com.alibaba.druid.pool.DruidDataSource åŸºæœ¬é…ç½®å‚æ•°å¦‚ä¸‹ï¼š</strong></p> 
<p><img src="https://images2.imgbox.com/24/90/vqlk7H0Z_o.jpg" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="_3352"></a>é…ç½®æ•°æ®æº</h3> 
<p>1.å¯¼å…¥ä¾èµ–</p> 
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
    &lt;artifactId&gt;druid&lt;/artifactId&gt;
    &lt;version&gt;1.1.21&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j&lt;/artifactId&gt;
    &lt;version&gt;1.2.17&lt;/version&gt;
&lt;/dependency&gt;

</code></pre> 
<p>2.åœ¨é…ç½®æ–‡ä»¶ä¸­åˆ‡æ¢æ•°æ®æº</p> 
<pre><code>spring:
  datasource:
    username: root
    password: 123456
    url: jdbc:mysql://localhost:3306/mybatis?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8
    #è¿™ä¸ªæ˜¯MySQL 5ç‰ˆæœ¬çš„ï¼Œè¦æ˜¯å…«ç‰ˆæœ¬çš„è¯åº”è¯¥æ˜¯ï¼šdriver-class-name: com.mysql.cj.jdbc.Driver
    driver-class-name: com.mysql.jdbc.Driver
    type: com.alibaba.druid.pool.DruidDataSource # åˆ‡æ¢æ•°æ®æº
</code></pre> 
<p>3.å¯ä»¥æµ‹è¯•æ˜¯å¦åˆ‡æ¢æˆåŠŸï¼Œç„¶åå¯ä»¥è®¾ç½®ä¸€äº›å±æ€§ï¼›</p> 
<p>æ³¨æ„ï¼šç©ºæ ¼ä¸è¦é”™äº†ï¼Œä¸ç„¶ä¼šæŠ¥é”™</p> 
<pre><code class="prism language-yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/mybatis<span class="token punctuation">?</span>serverTimezone=UTC<span class="token important">&amp;useUnicode=true&amp;characterEncoding=utf-</span><span class="token number">8</span>
    <span class="token comment">#è¿™ä¸ªæ˜¯MySQL 5ç‰ˆæœ¬çš„ï¼Œè¦æ˜¯å…«ç‰ˆæœ¬çš„è¯åº”è¯¥æ˜¯ï¼šdriver-class-name: com.mysql.cj.jdbc.Driver</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.jdbc.Driver
    <span class="token key atrule">type</span><span class="token punctuation">:</span> com.alibaba.druid.pool.DruidDataSource <span class="token comment"># åˆ‡æ¢æ•°æ®æº</span>

    <span class="token comment">#Spring Boot é»˜è®¤æ˜¯ä¸æ³¨å…¥è¿™äº›å±æ€§å€¼çš„ï¼Œéœ€è¦è‡ªå·±ç»‘å®š</span>
    <span class="token comment">#druid æ•°æ®æºä¸“æœ‰é…ç½®</span>
    <span class="token key atrule">initialSize</span><span class="token punctuation">:</span> <span class="token number">5</span>
    <span class="token key atrule">minIdle</span><span class="token punctuation">:</span> <span class="token number">5</span>
    <span class="token key atrule">maxActive</span><span class="token punctuation">:</span> <span class="token number">20</span>
    <span class="token key atrule">maxWait</span><span class="token punctuation">:</span> <span class="token number">60000</span>
    <span class="token key atrule">timeBetweenEvictionRunsMillis</span><span class="token punctuation">:</span> <span class="token number">60000</span>
    <span class="token key atrule">minEvictableIdleTimeMillis</span><span class="token punctuation">:</span> <span class="token number">300000</span>
    <span class="token key atrule">validationQuery</span><span class="token punctuation">:</span> SELECT 1 FROM DUAL
    <span class="token key atrule">testWhileIdle</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">testOnBorrow</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token key atrule">testOnReturn</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token key atrule">poolPreparedStatements</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

    <span class="token comment">#é…ç½®ç›‘æ§ç»Ÿè®¡æ‹¦æˆªçš„filtersï¼Œstat:ç›‘æ§ç»Ÿè®¡ã€log4jï¼šæ—¥å¿—è®°å½•ã€wallï¼šé˜²å¾¡sqlæ³¨å…¥</span>
    <span class="token comment">#å¦‚æœå…è®¸æ—¶æŠ¥é”™  java.lang.ClassNotFoundException: org.apache.log4j.Priority</span>
    <span class="token comment">#åˆ™å¯¼å…¥ log4j ä¾èµ–å³å¯ï¼ŒMaven åœ°å€ï¼šhttps://mvnrepository.com/artifact/log4j/log4j</span>
    <span class="token key atrule">filters</span><span class="token punctuation">:</span> stat<span class="token punctuation">,</span>wall<span class="token punctuation">,</span>log4j
    <span class="token key atrule">maxPoolPreparedStatementPerConnectionSize</span><span class="token punctuation">:</span> <span class="token number">20</span>
    <span class="token key atrule">useGlobalDataSourceStat</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">connectionProperties</span><span class="token punctuation">:</span> druid.stat.mergeSql=true;druid.stat.slowSqlMillis=500
</code></pre> 
<p>4.éœ€è¦è‡ªå·±ä¸º DruidDataSource ç»‘å®šå…¨å±€é…ç½®æ–‡ä»¶ä¸­çš„å‚æ•°ï¼Œå†æ·»åŠ åˆ°å®¹å™¨ä¸­ï¼Œè€Œä¸å†ä½¿ç”¨ Spring Boot çš„è‡ªåŠ¨ç”Ÿæˆäº†ï¼›æˆ‘ä»¬éœ€è¦ è‡ªå·±æ·»åŠ  DruidDataSource ç»„ä»¶åˆ°å®¹å™¨ä¸­ï¼Œå¹¶ç»‘å®šå±æ€§ï¼›</p> 
<pre><code class="prism language-yml">@Configuration
public class DruidConfig <span class="token punctuation">{<!-- --></span>

    /*
       å°†è‡ªå®šä¹‰çš„ Druidæ•°æ®æºæ·»åŠ åˆ°å®¹å™¨ä¸­ï¼Œä¸å†è®© Spring Boot è‡ªåŠ¨åˆ›å»º
       ç»‘å®šå…¨å±€é…ç½®æ–‡ä»¶ä¸­çš„ druid æ•°æ®æºå±æ€§åˆ° com.alibaba.druid.pool.DruidDataSourceä»è€Œè®©å®ƒä»¬ç”Ÿæ•ˆ
       @ConfigurationProperties(prefix = "spring.datasource")ï¼šä½œç”¨å°±æ˜¯å°† å…¨å±€é…ç½®æ–‡ä»¶ä¸­
       å‰ç¼€ä¸º spring.datasourceçš„å±æ€§å€¼æ³¨å…¥åˆ° com.alibaba.druid.pool.DruidDataSource çš„åŒåå‚æ•°ä¸­
     <span class="token important">*/</span>
    @ConfigurationProperties(prefix = "spring.datasource")
    @Bean
    public DataSource druidDataSource() <span class="token punctuation">{<!-- --></span>
        return new DruidDataSource();
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p>5.æµ‹è¯•</p> 
<pre><code class="prism language-yml">@SpringBootTest
class SpringbootDataJdbcApplicationTests <span class="token punctuation">{<!-- --></span>

    //DIæ³¨å…¥æ•°æ®æº
    @Autowired
    DataSource dataSource;

    @Test
    public void contextLoads() throws SQLException <span class="token punctuation">{<!-- --></span>
        //çœ‹ä¸€ä¸‹é»˜è®¤æ•°æ®æº
        System.out.println(dataSource.getClass());
        //è·å¾—è¿æ¥
        Connection connection =   dataSource.getConnection();
        System.out.println(connection);

        DruidDataSource druidDataSource = (DruidDataSource) dataSource;
        System.out.println("druidDataSource æ•°æ®æºæœ€å¤§è¿æ¥æ•°ï¼š" + druidDataSource.getMaxActive());
        System.out.println("druidDataSource æ•°æ®æºåˆå§‹åŒ–è¿æ¥æ•°ï¼š" + druidDataSource.getInitialSize());

        //å…³é—­è¿æ¥
        connection.close();
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="Druid_3474"></a>é…ç½®Druidç›‘æ§</h3> 
<p>Druid æ•°æ®æºå…·æœ‰ç›‘æ§çš„åŠŸèƒ½ï¼Œå¹¶æä¾›äº†ä¸€ä¸ª web ç•Œé¢æ–¹ä¾¿ç”¨æˆ·æŸ¥çœ‹ï¼Œç±»ä¼¼å®‰è£… è·¯ç”±å™¨ æ—¶ï¼Œäººå®¶ä¹Ÿæä¾›äº†ä¸€ä¸ªé»˜è®¤çš„ web é¡µé¢ã€‚</p> 
<p>æ‰€ä»¥ç¬¬ä¸€æ­¥éœ€è¦è®¾ç½® Druid çš„åå°ç®¡ç†é¡µé¢ï¼Œæ¯”å¦‚ç™»å½•è´¦å·ã€å¯†ç ç­‰ï¼›<br> é…ç½®åå°ç®¡ç†ï¼š</p> 
<p>è¿™ä¸ªæ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨DruidConfigç±»ä¸­</p> 
<pre><code>//é…ç½®Druidç›‘æ§ç®¡ç†åå°çš„servlet
//å†…ç½® Servlet å®¹å™¨æ—¶æ²¡æœ‰web.xmlæ–‡ä»¶ï¼Œæ‰€ä»¥ä½¿ç”¨ Spring Boot çš„æ³¨å†Œ Servlet æ–¹å¼
@Bean
public ServletRegistrationBean statViewServlet(){
    ServletRegistrationBean bean = new ServletRegistrationBean(new StatViewServlet(), "/druid/*");

    // è¿™äº›å‚æ•°å¯ä»¥åœ¨ com.alibaba.druid.support.http.StatViewServlet
    // çš„çˆ¶ç±» com.alibaba.druid.support.http.ResourceServlet ä¸­æ‰¾åˆ°
    Map&lt;String, String&gt; initParams  = new HashMap&lt;&gt;();
    initParams.put("loginUsername","admin");//è®¾ç½®ç”¨æˆ·å,ä¸€å®šè¦ç”¨"loginUsername"ï¼Œæ˜¯å›ºå®šçš„ï¼Œä¸‹é¢ä¹Ÿä¸€æ ·
    initParams.put("loginPassword","123456");//è®¾ç½®å¯†ç 

    //åå°å…è®¸è°å¯ä»¥è®¿é—®
    //initParams.put("allow", "localhost")ï¼šè¡¨ç¤ºåªæœ‰æœ¬æœºå¯ä»¥è®¿é—®
    //initParams.put("allow", "")ï¼šä¸ºç©ºæˆ–è€…ä¸ºnullæ—¶ï¼Œè¡¨ç¤ºå…è®¸æ‰€æœ‰è®¿é—®
    initParams.put("allow","");

    //denyï¼šDruid åå°æ‹’ç»è°è®¿é—®
    //initParams.put("kuangshen", "192.168.1.20");è¡¨ç¤ºç¦æ­¢æ­¤ipè®¿é—®

    //è®¾ç½®åˆå§‹åŒ–å‚æ•°
    bean.setInitParameters(initParams);
    return bean;
}
</code></pre> 
<p>é…ç½®å®Œæ¯•åï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©è®¿é—® ï¼š<code>http://localhost:8080/druid/</code>ï¼Œè¾“å…¥ç”¨æˆ·åå¯†ç å°±èƒ½è¿›å…¥</p> 
<p><img src="https://images2.imgbox.com/a5/bb/FyV2etKA_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><strong>é…ç½® Druid web ç›‘æ§ filter è¿‡æ»¤å™¨</strong></p> 
<p>è¿™ä¸ªæ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨DruidConfigç±»ä¸­</p> 
<pre><code>//é…ç½® Druid ç›‘æ§ ä¹‹  web ç›‘æ§çš„ filter
//WebStatFilterï¼šç”¨äºé…ç½®Webå’ŒDruidæ•°æ®æºä¹‹é—´çš„ç®¡ç†å…³è”ç›‘æ§ç»Ÿè®¡
@Bean
public FilterRegistrationBean webStaFilter(){
    FilterRegistrationBean bean = new FilterRegistrationBean();
    bean.setFilter(new WebStatFilter());

    //exclusionsï¼šè®¾ç½®å“ªäº›è¯·æ±‚è¿›è¡Œè¿‡æ»¤æ’é™¤æ‰ï¼Œä»è€Œä¸è¿›è¡Œç»Ÿè®¡
    Map&lt;String, String&gt; initParams = new HashMap&lt;&gt;();
    initParams.put("exclusions","*.js,*.css,/druid/*");
    bean.setInitParameters(initParams);

    //"/*" è¡¨ç¤ºè¿‡æ»¤æ‰€æœ‰è¯·æ±‚
    bean.setUrlPatterns(Arrays.asList("/*"));
    return bean;
}
</code></pre> 
<h2><a id="MyBatis_3543"></a>æ•´åˆMyBatis</h2> 
<ol><li> <p>å¯¼å…¥ MyBatis æ‰€éœ€è¦çš„ä¾èµ–</p> <pre><code>&lt;dependency&gt;
    &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;
    &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;2.1.1&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> </li><li> <p>é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯</p> <p>application.properties</p> <pre><code>spring.datasource.username=root
spring.datasource.password=123456
spring.datasource.url=jdbc:mysql://localhost:3306/mybatis?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8
spring.datasource.driver-class-name=com.mysql.jdbc.Driver
</code></pre> </li><li> <p>åˆ›å»ºå®ä½“ç±»</p> <pre><code>package com.edu.pojo;

import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

/**
 * @author javaå°å¢©å¢©
 * @version 1.0
 */
 
 //è®°å¾—å¯¼å…¥ä¾èµ–Lombok
@Data
@NoArgsConstructor
@AllArgsConstructor
public class User {
    private int id;
    private String name;
    private String pwd;
}
</code></pre> </li><li> <p>åˆ›å»ºmapperåŒ…ï¼Œå†åˆ›å»ºUserMapperæ¥å£</p> <p>@Mapper : è¡¨ç¤ºæœ¬ç±»æ˜¯ä¸€ä¸ª MyBatis çš„ Mapper</p> <pre><code>package com.edu.mapper;

import com.edu.pojo.User;
import org.apache.ibatis.annotations.Mapper;
import org.apache.ibatis.annotations.Param;
import org.springframework.stereotype.Repository;

import java.util.List;

/**
 * @author javaå°å¢©å¢©
 * @version 1.0
 */
@Mapper
@Repository
public interface UserMapper {

    //æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·
    public List&lt;User&gt; getUserList();

    //æ’å…¥ç”¨æˆ·
    public int insertUser(User user);

    //ä¿®æ”¹ç”¨æˆ·
    public int updateUser(User user);

    //åˆ é™¤ç”¨æˆ·
    public int deleteUser(@Param("uid") int id);

}
</code></pre> <p>ä¹Ÿå¯åœ¨å¯åŠ¨ç±»åŠ æ³¨è§£ï¼Œæ‰«æè·å–æ‰€æœ‰çš„mapperæ¥å£</p> <p>@MapperScan(â€œcom.kuang.mapperâ€</p> </li><li> <p>åœ¨èµ„æºç›®å½•ï¼ˆresourcesï¼‰ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹mybatisï¼Œå†åˆ›å»ºmapperæ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹ä¸­åˆ›å»ºUserMapper.xml</p> <pre><code>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;
&lt;mapper namespace="com.edu.mapper.UserMapper"&gt;

    &lt;!--æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·--&gt;
    &lt;select id="getUserList" resultType="User"&gt;
        select * from user;
    &lt;/select&gt;

    &lt;!--æ’å…¥ç”¨æˆ·--&gt;
    &lt;insert id="insertUser" parameterType="User"&gt;
        insert into user values(#{id},#{name},#{pwd});
    &lt;/insert&gt;

    &lt;!--æ›´æ–°ç”¨æˆ·--&gt;
    &lt;update id="updateUser" parameterType="User"&gt;
        update user set name = #{name},pwd=#{pwd} where id=#{id};
    &lt;/update&gt;

    &lt;!--åˆ é™¤ç”¨æˆ·--&gt;
    &lt;delete id="deleteUser" parameterType="_int"&gt;
        delete from user where id = #{uid};
    &lt;/delete&gt;
&lt;/mapper&gt;

</code></pre> </li><li> <p>åœ¨application.propertiesä¸­æ·»åŠ ï¼š</p> <pre><code>#æ•´åˆmybatis
mybatis.type-aliases-package=com.edu.pojo
mybatis.mapper-locations=classpath:mybatis/mapper/*.xml
</code></pre> </li><li> <p>åˆ›å»ºcontrolleråŒ…ï¼Œå†åˆ›å»ºUserControllerç±»</p> <pre><code>package com.edu.controller;

import com.edu.mapper.UserMapper;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import java.util.List;

/**
 * @author javaå°å¢©å¢©
 * @version 1.0
 */
@RestController
public class UserController {

    @Autowired
   private UserMapper userMapper;

    @RequestMapping("/queryList")
    public List queryList(){
        return userMapper.getUserList();
    }
}
</code></pre> </li><li> <p>æµ‹è¯•å³å¯</p> </li></ol> 
<h2><a id="springSecurity_3710"></a>springSecurityï¼ˆå®‰å…¨ï¼‰</h2> 
<h3><a id="SpringSecurity_3716"></a>SpringSecurityç®€ä»‹</h3> 
<p>Spring Security æ˜¯é’ˆå¯¹Springé¡¹ç›®çš„å®‰å…¨æ¡†æ¶ï¼Œä¹Ÿæ˜¯Spring Bootåº•å±‚å®‰å…¨æ¨¡å—é»˜è®¤çš„æŠ€æœ¯é€‰å‹ï¼Œä»–å¯ä»¥å®ç°å¼ºå¤§çš„Webå®‰å…¨æ§åˆ¶ï¼Œå¯¹äºå®‰å…¨æ§åˆ¶ï¼Œæˆ‘ä»¬ä»…éœ€è¦å¼•å…¥spring-boot-starter-securityæ¨¡å—ï¼Œè¿›è¡Œå°‘é‡çš„é…ç½®ï¼Œå³å¯å®ç°å¼ºå¤§çš„å®‰å…¨ç®¡ç†ï¼</p> 
<p><strong>è®°ä½å‡ ä¸ªç±»ï¼š</strong></p> 
<ul><li><code>WebSecurityConfigurerAdapter</code>ï¼šè‡ªå®šä¹‰Securityç­–ç•¥</li><li><code>AuthenticationManagerBuilder</code>ï¼šè‡ªå®šä¹‰è®¤è¯ç­–ç•¥</li><li><code>@EnableWebSecurity</code>ï¼šå¼€å¯WebSecurityæ¨¡å¼</li></ul> 
<p>Spring Securityçš„ä¸¤ä¸ªä¸»è¦ç›®æ ‡æ˜¯ â€œè®¤è¯â€ å’Œ â€œæˆæƒâ€ï¼ˆè®¿é—®æ§åˆ¶ï¼‰ã€‚</p> 
<p><strong>â€œè®¤è¯â€ï¼ˆAuthenticationï¼‰</strong></p> 
<p>èº«ä»½éªŒè¯æ˜¯å…³äºéªŒè¯æ‚¨çš„å‡­æ®ï¼Œå¦‚ç”¨æˆ·å/ç”¨æˆ·IDå’Œå¯†ç ï¼Œä»¥éªŒè¯æ‚¨çš„èº«ä»½ã€‚</p> 
<p>èº«ä»½éªŒè¯é€šå¸¸é€šè¿‡ç”¨æˆ·åå’Œå¯†ç å®Œæˆï¼Œæœ‰æ—¶ä¸èº«ä»½éªŒè¯å› ç´ ç»“åˆä½¿ç”¨ã€‚</p> 
<p><strong>â€œæˆæƒâ€ ï¼ˆAuthorizationï¼‰</strong></p> 
<p>æˆæƒå‘ç”Ÿåœ¨ç³»ç»ŸæˆåŠŸéªŒè¯æ‚¨çš„èº«ä»½åï¼Œæœ€ç»ˆä¼šæˆäºˆæ‚¨è®¿é—®èµ„æºï¼ˆå¦‚ä¿¡æ¯ï¼Œæ–‡ä»¶ï¼Œæ•°æ®åº“ï¼Œèµ„é‡‘ï¼Œä½ç½®ï¼Œå‡ ä¹ä»»ä½•å†…å®¹ï¼‰çš„å®Œå…¨æƒé™ã€‚</p> 
<p>è¿™ä¸ªæ¦‚å¿µæ˜¯é€šç”¨çš„ï¼Œè€Œä¸æ˜¯åªåœ¨Spring Security ä¸­å­˜åœ¨ã€‚</p> 
<h3><a id="_3745"></a>å®æˆ˜æµ‹è¯•</h3> 
<ol><li> <p>æ–°å»ºä¸€ä¸ªåˆå§‹çš„springbooté¡¹ç›®<code>webæ¨¡å—</code></p> </li><li> <p>åŠ å…¥thymeleafä¾èµ–ï¼š</p> <pre><code>&lt;dependency&gt;
            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;
            &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;
            &lt;artifactId&gt;thymeleaf-extras-java8time&lt;/artifactId&gt;
        &lt;/dependency&gt;
</code></pre> </li><li> <p>å¯¼å…¥é™æ€èµ„æºï¼Œæ”¾ç½®å¦‚ä¸‹ï¼š</p> <p><img src="https://images2.imgbox.com/89/4b/4LrtZTn2_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li><li> <p>ç¼–å†™æ§åˆ¶å™¨</p> <pre><code>package com.edu.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;

/**
 * @author javaå°å¢©å¢©
 * @version 1.0
 */
@Controller
public class RouterController {

    @RequestMapping({"/","/index"})
    public String index(){
        return "index";
    }

    @RequestMapping("/toLogin")
    public String toLogin(){
        return "views/login";
    }

    @RequestMapping("/level1/{id}")
    public String level1(@PathVariable("id") int id){
        return "views/level1/"+id;
    }

    @RequestMapping("/level2/{id}")
    public String level2(@PathVariable("id") int id){
        return "views/level2/"+id;
    }

    @RequestMapping("/level3/{id}")
    public String level3(@PathVariable("id") int id){
        return "views/level3/"+id;
    }

}
</code></pre> </li><li> <p>ç„¶åè¿è¡Œæµ‹è¯•ä¸€ä¸‹ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½è¿›å…¥é¦–é¡µï¼š</p> <p>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-1c3zGiwI-1661431067947)(D:\myDownloads\typora\img\image-20220822183633542.png)]</p> </li><li> <p>å¼•å…¥<code>Spring Security æ¨¡å—</code>å’Œ<code>thymeleafå’Œspringsecurityæ•´åˆæ¨¡å—</code></p> <pre><code>&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- https://mvnrepository.com/artifact/org.thymeleaf.extras/thymeleaf-extras-springsecurity4 --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;
    &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;
    &lt;version&gt;3.0.4.RELEASE&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> </li><li> <p>åˆ›å»º<code>config</code>åŒ…ï¼Œæ–°å»º<code>SecurityConfig</code>ç±»,è¿™é‡Œæ˜¯å®Œæ•´çš„</p> <p>æ³¨æ„è¦æ·»åŠ æ³¨è§£ï¼š@EnableWebSecurity //å¼€å¯WebSecurityæ¨¡å¼</p> <pre><code>package com.edu.config;

import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;

/**
 * @author javaå°å¢©å¢©
 * @version 1.0
 */
@EnableWebSecurity //å¼€å¯WebSecurityæ¨¡å¼
public class SecurityConfig extends WebSecurityConfigurerAdapter {

    @Override
    protected void configure(HttpSecurity http) throws Exception {

        //æˆæƒè§„åˆ™
        http.authorizeRequests()
                .antMatchers("/").permitAll()//é¦–é¡µæ‰€æœ‰äººéƒ½å¯ä»¥è®¿é—®
                .antMatchers("/level1/**").hasRole("vip1")// level1ä¸‹çš„åªæœ‰æƒé™ä¸ºvip1çš„å¯ä»¥è®¿é—®
                .antMatchers("/level2/**").hasRole("vip2")
                .antMatchers("/level3/**").hasRole("vip3");

       //å¼€å¯ç™»å½•åŠŸèƒ½
        http.formLogin() //ç™»å½•æ—¶è·³åˆ°spring security é»˜è®¤çš„ç™»å½•é¡µ
            .loginPage("/toLogin") //ç™»å½•æ—¶è·³åˆ°è‡ªå·±å®šä¹‰çš„ç™»å½•é¡µ
            .usernameParameter("username") //æ£€éªŒç”¨æˆ·å
            .passwordParameter("password") //æ ¡éªŒå¯†ç 
            .loginProcessingUrl("/login"); //ç™»é™†è¡¨å•æäº¤è¯·æ±‚



        //å¼€å¯æ³¨é”€åŠŸèƒ½
        http.logout()
                .logoutSuccessUrl("/");//æ³¨é”€æˆåŠŸè·³åˆ°é¦–é¡µ

//        å¼€å¯è®°ä½æˆ‘åŠŸèƒ½
        http.rememberMe().rememberMeParameter("remember");

        http.csrf().disable();//å…³é—­csrfåŠŸèƒ½:è·¨ç«™è¯·æ±‚ä¼ªé€ ,é»˜è®¤åªèƒ½é€šè¿‡postæ–¹å¼æäº¤logoutè¯·æ±‚
    }

    //è®¤è¯
    @Override
    protected void configure(AuthenticationManagerBuilder auth) throws Exception {
        auth.inMemoryAuthentication().passwordEncoder(new BCryptPasswordEncoder()) //å†…å­˜ä¸­éªŒè¯
                .withUser("kuang").password(new BCryptPasswordEncoder().encode("123456")).roles("vip2","vip3")
                .and()
                .withUser("guest").password(new BCryptPasswordEncoder().encode("123456")).roles("vip1")
                .and()
                .withUser("root").password(new BCryptPasswordEncoder().encode("123456")).roles("vip1","vip2","vip3");
    }

}
</code></pre> </li><li> <p>index.htmlé¡µé¢</p> <p>æ³¨æ„ï¼š</p> 
  <ul><li> <p>åœ¨htmlä¸­ åŠ å…¥</p> <pre><code>xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
</code></pre> </li><li> <p>ä¿®æ”¹ç™»å½•ï¼Œæ³¨é”€ é‚£æ®µ</p> </li><li> <p>æƒé™ä¿®æ”¹</p> <pre><code>sec:authorize="hasRole('vip1')" ï¼šæœ‰vip1æƒé™çš„æ˜¾ç¤ºè¿™æ®µä»£ç 
sec:authorize="hasRole('vip2')" ï¼šæœ‰vip2æƒé™çš„æ˜¾ç¤ºè¿™æ®µä»£ç 
sec:authorize="hasRole('vip3')" ï¼šæœ‰vip3æƒé™çš„æ˜¾ç¤ºè¿™æ®µä»£ç 
</code></pre> <p>å…¨éƒ¨å†…å®¹å¦‚ä¸‹ï¼š</p> </li></ul> <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"&gt;
    &lt;title&gt;é¦–é¡µ&lt;/title&gt;
    &lt;!--semantic-ui--&gt;
    &lt;link href="https://cdn.bootcss.com/semantic-ui/2.4.1/semantic.min.css" rel="stylesheet"&gt;
    &lt;link th:href="@{/qinjiang/css/qinstyle.css}" rel="stylesheet"&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;!--ä¸»å®¹å™¨--&gt;
&lt;div class="ui container"&gt;

    &lt;div class="ui segment" id="index-header-nav" th:fragment="nav-menu"&gt;
        &lt;div class="ui secondary menu"&gt;
            &lt;a class="item"  th:href="@{/index}"&gt;é¦–é¡µ&lt;/a&gt;

            &lt;!--ç™»å½•æ³¨é”€--&gt;
            &lt;div class="right menu"&gt;
                &lt;!--æœªç™»å½•--&gt;
                &lt;div sec:authorize="!isAuthenticated()"&gt;
                    &lt;a class="item" th:href="@{/toLogin}"&gt;
                        &lt;i class="address card icon"&gt;&lt;/i&gt; ç™»å½•
                    &lt;/a&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;a class="item"&gt;
                        &lt;i class="address card icon"&gt;&lt;/i&gt;
                        ç”¨æˆ·åï¼š &lt;span sec:authentication="name"&gt;&lt;/span&gt;
&lt;!--                        ç”¨æˆ·è§’è‰²ï¼Œä¸çŸ¥é“ä»€ä¹ˆåŸå› ï¼Œä¸èƒ½ç”¨ï¼Œç”¨äº†ä¼šæŠ¥é”™500--&gt;
&lt;!--                        ç”¨æˆ·è§’è‰²ï¼š&lt;span sec:authentication="principal.authorities"&gt;&lt;/span&gt;--&gt;
                    &lt;/a&gt;
                &lt;/div&gt;
&lt;!--                å·²ç»ç™»é™†--&gt;
                &lt;div sec:authorize="isAuthenticated()"&gt;
                    &lt;a class="item" th:href="@{/logout}"&gt;
                        &lt;i class="address card icon"&gt;&lt;/i&gt;æ³¨é”€
                    &lt;/a&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="ui segment" style="text-align: center"&gt;
        &lt;h3&gt;Spring Security Study by ç§¦ç–†&lt;/h3&gt;
    &lt;/div&gt;

    &lt;div&gt;
        &lt;br&gt;
        &lt;div class="ui three column stackable grid"&gt;
            &lt;div class="column" sec:authorize="hasRole('vip1')"&gt;
                &lt;div class="ui raised segment"&gt;
                    &lt;div class="ui"&gt;
                        &lt;div class="content"&gt;
                            &lt;h5 class="content"&gt;Level 1&lt;/h5&gt;
                            &lt;hr&gt;
                            &lt;div&gt;&lt;a th:href="@{/level1/1}"&gt;&lt;i class="bullhorn icon"&gt;&lt;/i&gt; Level-1-1&lt;/a&gt;&lt;/div&gt;
                            &lt;div&gt;&lt;a th:href="@{/level1/2}"&gt;&lt;i class="bullhorn icon"&gt;&lt;/i&gt; Level-1-2&lt;/a&gt;&lt;/div&gt;
                            &lt;div&gt;&lt;a th:href="@{/level1/3}"&gt;&lt;i class="bullhorn icon"&gt;&lt;/i&gt; Level-1-3&lt;/a&gt;&lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;

            &lt;div class="column" sec:authorize="hasRole('vip2')"&gt;
                &lt;div class="ui raised segment"&gt;
                    &lt;div class="ui"&gt;
                        &lt;div class="content"&gt;
                            &lt;h5 class="content"&gt;Level 2&lt;/h5&gt;
                            &lt;hr&gt;
                            &lt;div&gt;&lt;a th:href="@{/level2/1}"&gt;&lt;i class="bullhorn icon"&gt;&lt;/i&gt; Level-2-1&lt;/a&gt;&lt;/div&gt;
                            &lt;div&gt;&lt;a th:href="@{/level2/2}"&gt;&lt;i class="bullhorn icon"&gt;&lt;/i&gt; Level-2-2&lt;/a&gt;&lt;/div&gt;
                            &lt;div&gt;&lt;a th:href="@{/level2/3}"&gt;&lt;i class="bullhorn icon"&gt;&lt;/i&gt; Level-2-3&lt;/a&gt;&lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;

            &lt;div class="column" sec:authorize="hasRole('vip3')"&gt;
                &lt;div class="ui raised segment"&gt;
                    &lt;div class="ui"&gt;
                        &lt;div class="content"&gt;
                            &lt;h5 class="content"&gt;Level 3&lt;/h5&gt;
                            &lt;hr&gt;
                            &lt;div&gt;&lt;a th:href="@{/level3/1}"&gt;&lt;i class="bullhorn icon"&gt;&lt;/i&gt; Level-3-1&lt;/a&gt;&lt;/div&gt;
                            &lt;div&gt;&lt;a th:href="@{/level3/2}"&gt;&lt;i class="bullhorn icon"&gt;&lt;/i&gt; Level-3-2&lt;/a&gt;&lt;/div&gt;
                            &lt;div&gt;&lt;a th:href="@{/level3/3}"&gt;&lt;i class="bullhorn icon"&gt;&lt;/i&gt; Level-3-3&lt;/a&gt;&lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;

        &lt;/div&gt;
    &lt;/div&gt;
    
&lt;/div&gt;


&lt;script th:src="@{/qinjiang/js/jquery-3.1.1.min.js}"&gt;&lt;/script&gt;
&lt;script th:src="@{/qinjiang/js/semantic.min.js}"&gt;&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre> <p>login.htmlä¸­ï¼Œåœ¨å¯†ç ä¸‹é¢å¢åŠ ï¼š</p> <pre><code>&lt;div class="field"&gt;
      &lt;input type="checkbox" name="remember"&gt;è®°ä½æˆ‘
&lt;/div&gt;
</code></pre> </li></ol> 
<h2><a id="shiro_4040"></a>shiro</h2> 
<h3><a id="Shiro_4044"></a>ä»€ä¹ˆæ˜¯Shiro</h3> 
<p>â— <code>Apache Shiro</code>æ˜¯ä¸€ä¸ªJava çš„å®‰å…¨(æƒé™)æ¡†æ¶ã€‚<br> â— <code>Shiro</code>å¯ä»¥éå¸¸å®¹æ˜“çš„å¼€å‘å‡ºè¶³å¤Ÿå¥½çš„åº”ç”¨ï¼Œå…¶ä¸ä»…å¯ä»¥ç”¨åœ¨JavaSEç¯å¢ƒï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨JavaEEç¯å¢ƒã€‚<br> â— <code>Shiro</code>å¯ä»¥å®Œæˆï¼Œè®¤è¯ï¼Œæˆæƒï¼ŒåŠ å¯†ï¼Œä¼šè¯ç®¡ç†ï¼ŒWebé›†æˆï¼Œç¼“å­˜ç­‰.<br> â— ä¸‹è½½åœ°å€:<code>http://shiro.apache.org/</code></p> 
<h3><a id="_4055"></a>æœ‰å“ªäº›åŠŸèƒ½</h3> 
<p><img src="https://images2.imgbox.com/1b/a8/yeM0V8WO_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>â— <code>Authentication</code>: èº«ä»½è®¤è¯ã€ç™»å½•ï¼ŒéªŒè¯ç”¨æˆ·æ˜¯ä¸æ˜¯æ‹¥æœ‰ç›¸åº”çš„èº«ä»½;<br> â— <code>Authorization</code>:æˆæƒ,å³æƒé™éªŒè¯ï¼ŒéªŒè¯æŸä¸ªå·²è®¤è¯çš„ç”¨æˆ·æ˜¯å¦æ‹¥æœ‰æŸä¸ªæƒé™ï¼Œå³åˆ¤æ–­ç”¨æˆ·èƒ½å¦è¿›è¡Œä»€ä¹ˆæ“ä½œï¼Œå¦‚:éªŒè¯æŸä¸ªç”¨æˆ·æ˜¯å¦æ‹¥æœ‰æŸä¸ªè§’è‰²ï¼Œæˆ–è€…ç»†ç²’åº¦çš„éªŒè¯æŸä¸ªç”¨æˆ·å¯¹æŸä¸ªèµ„æºæ˜¯å¦å…·æœ‰æŸä¸ªæƒé™!<br> â— <code>Session Manager</code>: ä¼šè¯ç®¡ç†ï¼Œå³ç”¨æˆ·ç™»å½•åå°±æ˜¯ç¬¬ä¸€æ¬¡ä¼šè¯ï¼Œåœ¨æ²¡æœ‰é€€å‡ºä¹‹å‰ï¼Œå®ƒçš„æ‰€æœ‰ä¿¡æ¯éƒ½åœ¨ä¼šè¯ä¸­;ä¼šè¯å¯ä»¥æ˜¯æ™®é€šçš„JavaSEç¯å¢ƒï¼Œä¹Ÿå¯ä»¥æ˜¯Webç¯å¢ƒ;<br> â— <code>Cryptography</code>: åŠ å¯†,ä¿æŠ¤æ•°æ®çš„å®‰å…¨æ€§ï¼Œå¦‚å¯†ç åŠ å¯†å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œè€Œä¸æ˜¯æ˜æ–‡å­˜å‚¨;<br> â— <code>Web Support</code> Webæ”¯æŒï¼Œå¯ä»¥éå¸¸å®¹æ˜“çš„é›†æˆåˆ°Webç¯å¢ƒ;<br> â— <code>Caching</code> ç¼“å­˜ï¼Œæ¯”å¦‚ç”¨æˆ·ç™»å½•åï¼Œå…¶ç”¨æˆ·ä¿¡æ¯ï¼Œæ‹¥æœ‰çš„è§’è‰²ã€æƒé™ä¸å¿…æ¯æ¬¡å»æŸ¥,è¿™æ ·å¯ä»¥æé«˜æ•ˆç‡<br> â— <code>Concurrency</code>: Shiroæ”¯æŒå¤šçº¿ç¨‹åº”ç”¨çš„å¹¶å‘éªŒè¯ï¼Œå³ï¼Œå¦‚åœ¨-ä¸ªçº¿ç¨‹ä¸­å¼€å¯å¦-ä¸€ä¸ªçº¿ç¨‹,èƒ½æŠŠæƒé™è‡ªåŠ¨çš„ä¼ æ’­è¿‡å»<br> â— <code>Testing</code>:æä¾›æµ‹è¯•æ”¯æŒ;<br> â— <code>RunAs</code>:å…è®¸ä¸€ä¸ªç”¨æˆ·å‡è£…ä¸ºå¦-ä¸€ä¸ªç”¨æˆ·(å¦‚æœä»–ä»¬å…è®¸)çš„èº«ä»½è¿›è¡Œè®¿é—®;<br> â— <code>Remember Me</code>:è®°ä½æˆ‘ï¼Œè¿™ä¸ªæ˜¯éå¸¸å¸¸è§çš„åŠŸèƒ½ï¼Œå³ä¸€æ¬¡ç™»å½•åï¼Œ ä¸‹æ¬¡å†æ¥çš„è¯ä¸ç”¨ç™»å½•äº†</p> 
<h3><a id="Shiro_4072"></a>Shiroæ¶æ„(å¤–éƒ¨)</h3> 
<p><img src="https://images2.imgbox.com/ae/b0/Y1JGZDOh_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>â— <code>subject</code>: åº”ç”¨ä»£ç ç›´æ¥äº¤äº’çš„å¯¹è±¡æ˜¯Subject, ä¹Ÿå°±æ˜¯è¯´Shiroçš„å¯¹å¤–APIæ ¸å¿ƒå°±æ˜¯Subject, Subjectä»£è¡¨äº†å½“å‰çš„ç”¨æˆ·ï¼Œè¿™ä¸ªç”¨æˆ·ä¸ä¸€å®šæ˜¯ä¸€ä¸ªå…·ä½“çš„äººï¼Œä¸å½“å‰åº”ç”¨äº¤äº’çš„ä»»ä½•ä¸œè¥¿éƒ½æ˜¯Subject,å¦‚ç½‘ç»œçˆ¬è™«ï¼Œæœºå™¨äººç­‰ï¼Œä¸Subjectçš„æ‰€æœ‰äº¤äº’éƒ½ä¼šå§”æ‰˜ç»™SecurityManager; Subjectå…¶å®æ˜¯ä¸€ä¸ªé—¨é¢ï¼Œ SecurityManageer æ‰æ˜¯å®é™…çš„æ‰§è¡Œè€…<br> â— <code>SecurityManager</code>: å®‰å…¨ç®¡ç†å™¨ï¼Œå³æ‰€æœ‰ä¸å®‰å…¨æœ‰å…³çš„æ“ä½œéƒ½ä¼šä¸SercurityManageräº¤äº’, å¹¶ä¸”å®ƒç®¡ç†ç€æ‰€æœ‰çš„Subject,å¯ä»¥çœ‹å‡ºå®ƒæ˜¯Shiroçš„æ ¸å¿ƒï¼Œå®ƒè´Ÿè´£ä¸Shiroçš„å…¶ä»–ç»„ä»¶è¿›è¡Œäº¤äº’ï¼Œå®ƒç›¸å½“äºSpringMVCçš„DispatcherServletçš„è§’è‰²<br> â— <code>Realm</code>: Shiroä»Realmè·å–å®‰å…¨æ•°æ® (å¦‚ç”¨æˆ·,è§’è‰²ï¼Œæƒé™)ï¼Œå°±æ˜¯è¯´SecurityManagerè¦éªŒè¯ç”¨æˆ·èº«ä»½ï¼Œé‚£ä¹ˆå®ƒéœ€è¦ä»Realmè·å–ç›¸åº”çš„ç”¨æˆ·è¿›è¡Œæ¯”è¾ƒï¼Œæ¥ç¡®å®šç”¨æˆ·çš„èº«ä»½æ˜¯å¦åˆæ³•;ä¹Ÿéœ€è¦ä»Realmå¾—åˆ°ç”¨æˆ·ç›¸åº”çš„è§’è‰²ã€æƒé™ï¼Œè¿›è¡ŒéªŒè¯ç”¨æˆ·çš„æ“ä½œæ˜¯å¦èƒ½å¤Ÿè¿›è¡Œï¼Œå¯ä»¥æŠŠRealmçœ‹DataSource;</p> 
<h3><a id="Shiro_4084"></a>Shiroæ¶æ„(å†…éƒ¨)</h3> 
<p><img src="https://images2.imgbox.com/f6/8b/V8KfGPDL_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>â— <code>Subject</code>: ä»»ä½•å¯ä»¥ä¸åº”ç”¨äº¤äº’çš„ç”¨æˆ·;<br> â— <code>Security Manager</code>:ç›¸å½“äºSpringMVCä¸­çš„DispatcherSerlet; æ˜¯Shiroçš„å¿ƒè„ï¼Œ æ‰€æœ‰å…·ä½“çš„äº¤äº’éƒ½é€šè¿‡Security Managerè¿›è¡Œæ§åˆ¶ï¼Œå®ƒç®¡ç†è€…æ‰€æœ‰çš„Subject, ä¸”è´Ÿè´£è¿›è¡Œè®¤è¯,æˆæƒï¼Œä¼šè¯ï¼ŒåŠç¼“å­˜çš„ç®¡ç†ã€‚<br> â— <code>Authenticator</code>:è´Ÿè´£Subjectè®¤è¯ï¼Œ æ˜¯-ä¸€ä¸ªæ‰©å±•ç‚¹ï¼Œå¯ä»¥è‡ªå®šä¹‰å®ç°;å¯ä»¥ä½¿ç”¨è®¤è¯ç­–ç•¥(Authentication Strategy)ï¼Œå³ä»€ä¹ˆæƒ…å†µä¸‹ç®—ç”¨æˆ·è®¤è¯é€šè¿‡äº†;<br> â— <code>Authorizer</code>:æˆæƒå™¨ï¼Œå³è®¿é—®æ§åˆ¶å™¨ï¼Œç”¨æ¥å†³å®šä¸»ä½“æ˜¯å¦æœ‰æƒé™è¿›è¡Œç›¸åº”çš„æ“ä½œ;å³æ§åˆ¶ç€ç”¨æˆ·èƒ½è®¿é—®åº”ç”¨ä¸­<br> çš„é‚£äº›åŠŸèƒ½;<br> â— <code>Realm</code>: å¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªçš„realm, å¯ä»¥è®¤ä¸ºæ˜¯å®‰å…¨å®ä½“æ•°æ®æºï¼Œå³ç”¨äºè·å–å®‰å…¨å®ä½“çš„ï¼Œå¯ä»¥ç”¨JDBCå®ç°ï¼Œä¹Ÿå¯ä»¥æ˜¯å†…å­˜å®ç°ç­‰ç­‰ï¼Œç”±ç”¨æˆ·æä¾›;æ‰€ä»¥- -èˆ¬åœ¨åº”ç”¨ä¸­éƒ½éœ€è¦å®ç°è‡ªå·±çš„realm<br> â— <code>SessionManager</code>:ç®¡ç†Sessionç”Ÿ å‘½å‘¨æœŸçš„ç»„ä»¶,è€ŒShiroå¹¶ä¸ä»…ä»…å¯ä»¥ç”¨åœ¨Webç¯å¢ƒï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨æ™®é€šçš„JavaSEç¯å¢ƒä¸­<br> â— <code>CacheManager</code>: ç¼“å­˜æ§åˆ¶å™¨ï¼Œæ¥ç®¡ç†å¦‚ç”¨æˆ·ï¼Œè§’è‰²ï¼Œæƒé™ç­‰ç¼“å­˜çš„;å› ä¸ºè¿™äº›æ•°æ®åŸºæœ¬ä¸Šå¾ˆå°‘æ”¹å˜,æ”¾åˆ°ç¼“å­˜ä¸­åå¯ä»¥æé«˜è®¿é—®çš„æ€§èƒ½;<br> â— <code>Cryptography</code>:å¯†ç æ¨¡å—ï¼ŒShiro æé«˜äº†ä¸€äº›å¸¸è§çš„åŠ å¯†ç»„ä»¶ç”¨äºå¯†ç åŠ å¯†ï¼Œ è§£å¯†ç­‰</p> 
<h3><a id="Shiro_4102"></a>Shiroå¿«é€Ÿå¼€å§‹</h3> 
<p>åˆ›å»ºä¸€ä¸ªæ™®é€š<code>maven</code>é¡¹ç›®<code>springboot-06-shiro</code>,ç„¶ååˆ é™¤srcç›®å½•,è¿™æ ·çš„è¯å°±å¯ä»¥åœ¨è¿™ä¸ªé¡¹ç›®é‡Œæ–°å»ºå¾ˆå¤šmodel.</p> 
<p>åœ¨springboot-06-shiroé‡Œæ–°å»ºmodel <code>shiro-01-helloshiro</code><br> çˆ¶ä¾èµ–<code>pom.xml</code></p> 
<pre><code>&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;
        &lt;artifactId&gt;shiro-core&lt;/artifactId&gt;
        &lt;version&gt;1.4.1&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;!-- configure logging --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;
        &lt;version&gt;1.7.21&lt;/version&gt;
        &lt;scope&gt;runtime&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;
        &lt;version&gt;1.7.21&lt;/version&gt;
        &lt;scope&gt;runtime&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;log4j&lt;/groupId&gt;
        &lt;artifactId&gt;log4j&lt;/artifactId&gt;
        &lt;version&gt;1.2.17&lt;/version&gt;
        &lt;scope&gt;runtime&lt;/scope&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre> 
<p><code>log4j.properties</code></p> 
<pre><code>log4j.rootLogger=INFO, stdout

log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=%d %p [%c] - %m %n

# General Apache libraries
log4j.logger.org.apache=WARN

# Spring
log4j.logger.org.springframework=WARN

# Default Shiro logging
log4j.logger.org.apache.shiro=INFO

# Disable verbose logging
log4j.logger.org.apache.shiro.util.ThreadContext=WARN
log4j.logger.org.apache.shiro.cache.ehcache.EhCache=WARN

</code></pre> 
<p><code>shiro.ini</code></p> 
<pre><code>[users]
# user 'root' with password 'secret' and the 'admin' role
root = secret, admin
# user 'guest' with the password 'guest' and the 'guest' role
guest = guest, guest
# user 'presidentskroob' with password '12345' ("That's the same combination on
# my luggage!!!" ;)), and role 'president'
presidentskroob = 12345, president
# user 'darkhelmet' with password 'ludicrousspeed' and roles 'darklord' and 'schwartz'
darkhelmet = ludicrousspeed, darklord, schwartz
# user 'lonestarr' with password 'vespa' and roles 'goodguy' and 'schwartz'
lonestarr = vespa, goodguy, schwartz

# -----------------------------------------------------------------------------
# Roles with assigned permissions
# 
# Each line conforms to the format defined in the
# org.apache.shiro.realm.text.TextConfigurationRealm#setRoleDefinitions JavaDoc
# -----------------------------------------------------------------------------
[roles]
# 'admin' role has all permissions, indicated by the wildcard '*'
admin = *
# The 'schwartz' role can do anything (*) with any lightsaber:
schwartz = lightsaber:*
# The 'goodguy' role is allowed to 'drive' (action) the winnebago (type) with
# license plate 'eagle5' (instance specific id)
goodguy = winnebago:drive:eagle5

</code></pre> 
<p><code>Quickstart.java</code></p> 
<pre><code>import org.apache.shiro.SecurityUtils;
import org.apache.shiro.authc.*;
import org.apache.shiro.mgt.DefaultSecurityManager;
import org.apache.shiro.realm.text.IniRealm;
import org.apache.shiro.session.Session;
import org.apache.shiro.subject.Subject;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;


/**
 * Simple Quickstart application showing how to use Shiro's API.
 *
 * @since 0.9 RC2
 */
public class Quickstart {

    private static final transient Logger log = LoggerFactory.getLogger(Quickstart.class);


    public static void main(String[] args) {


        DefaultSecurityManager defaultSecurityManager=new DefaultSecurityManager();
        IniRealm iniRealm=new IniRealm("classpath:shiro.ini");
        defaultSecurityManager.setRealm(iniRealm);
        SecurityUtils.setSecurityManager(defaultSecurityManager);


        // è·å¾—å½“å‰ç”¨æˆ·å¯¹è±¡ Subject
        Subject currentUser = SecurityUtils.getSubject();

        // é€šè¿‡å½“å‰ç”¨æˆ·æ‹¿åˆ°session
        Session session = currentUser.getSession();
        session.setAttribute("someKey", "aValue");
        String value = (String) session.getAttribute("someKey");
        if (value.equals("aValue")) {
            log.info("Retrieved the correct value! [" + value + "]");
        }

        // åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦è¢«è®¤è¯
        if (!currentUser.isAuthenticated()) {
            //Token:ä»¤ç‰Œ
            UsernamePasswordToken token = new UsernamePasswordToken("lonestarr", "vespa");
            token.setRememberMe(true);
            try {
                currentUser.login(token); //æ‰§è¡Œç™»å½•æ“ä½œ
            } catch (UnknownAccountException uae) {
                log.info("There is no user with username of " + token.getPrincipal());
            } catch (IncorrectCredentialsException ice) {
                log.info("Password for account " + token.getPrincipal() + " was incorrect!");
            } catch (LockedAccountException lae) {
                log.info("The account for username " + token.getPrincipal() + " is locked.  " +
                        "Please contact your administrator to unlock it.");
            }
            // ... catch more exceptions here (maybe custom ones specific to your application?
            catch (AuthenticationException ae) {
                //unexpected condition?  error?
            }
        }

        //say who they are:
        //print their identifying principal (in this case, a username):
        log.info("User [" + currentUser.getPrincipal() + "] logged in successfully.");

        //test a role:
        if (currentUser.hasRole("schwartz")) {
            log.info("May the Schwartz be with you!");
        } else {
            log.info("Hello, mere mortal.");
        }

        //ç²—ç²’åº¦
        if (currentUser.isPermitted("lightsaber:wield")) {
            log.info("You may use a lightsaber ring.  Use it wisely.");
        } else {
            log.info("Sorry, lightsaber rings are for schwartz masters only.");
        }

        //ç»†ç²’åº¦
        if (currentUser.isPermitted("winnebago:drive:eagle5")) {
            log.info("You are permitted to 'drive' the winnebago with license plate (id) 'eagle5'.  " +
                    "Here are the keys - have fun!");
        } else {
            log.info("Sorry, you aren't allowed to drive the 'eagle5' winnebago!");
        }

        //æ³¨é”€
        currentUser.logout();

        //ç»“æŸ
        System.exit(0);
    }
}

</code></pre> 
<p>æ‰§è¡Œ</p> 
<p><img src="https://images2.imgbox.com/da/7d/XNTTX8qF_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>æ€»ç»“ä¸‹æ¥ï¼Œå°±æ˜¯ä¸‹é¢è¿™å‡ ä¸ªæ–¹æ³•ï¼šspringSecurityä¸­éƒ½æœ‰ï¼</p> 
<p><img src="https://images2.imgbox.com/cd/53/N4TDg3rH_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="springbootshiro_4312"></a>springbootæ•´åˆshiro</h3> 
<h4><a id="_4316"></a>é¡¹ç›®ç»“æ„å›¾</h4> 
<p>ä¸‹é¢æ–‡ä»¶çš„åˆ›å»ºéƒ½æŒ‰ç…§ä¸‹å›¾</p> 
<p><img src="https://images2.imgbox.com/2c/30/dRooSki9_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="_4323"></a>æ•°æ®åº“</h4> 
<p><img src="https://images2.imgbox.com/a4/43/aBjqYcAd_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="_4328"></a>ç¨‹åºä»£ç </h4> 
<p>æ–°å»ºä¸€ä¸ªspringbooté¡¹ç›®ï¼Œå‹¾é€‰webï¼Œthymeleafæ¨¡å—<br> pom.xml</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>


        <span class="token comment">&lt;!--shiro-thymeleafæ•´åˆ--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.github.theborakompanioni<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>thymeleaf-extras-shiro<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--        lombok--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.16.22<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!--å¼•å…¥mybatis,è¿™æ˜¯mybatiså®˜æ–¹æä¾›çš„é€‚é…springbootçš„ï¼Œè€Œä¸æ˜¯springbootè‡ªå·±çš„--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>



<span class="token comment">&lt;!--        è¿æ¥æ•°æ®åº“çš„ä¾èµ–--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1.21<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!--shiro--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.shiro<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>shiro-spring<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.4.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>


   <span class="token comment">&lt;!--        thymeleaf--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>thymeleaf-spring5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.thymeleaf.extras<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>thymeleaf-extras-java8time<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>


        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>

</code></pre> 
<p>application.yml</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/mybatis<span class="token punctuation">?</span>serverTimezone=UTC<span class="token important">&amp;useUnicode=true&amp;characterEncoding=utf-</span><span class="token number">8</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.jdbc.Driver
    <span class="token key atrule">type</span><span class="token punctuation">:</span> com.alibaba.druid.pool.DruidDataSource

    <span class="token comment">#Spring Boot é»˜è®¤æ˜¯ä¸æ³¨å…¥è¿™äº›å±æ€§å€¼çš„ï¼Œéœ€è¦è‡ªå·±ç»‘å®š</span>
    <span class="token comment">#druid æ•°æ®æºä¸“æœ‰é…ç½®</span>
    <span class="token key atrule">initialSize</span><span class="token punctuation">:</span> <span class="token number">5</span>
    <span class="token key atrule">minIdle</span><span class="token punctuation">:</span> <span class="token number">5</span>
    <span class="token key atrule">maxActive</span><span class="token punctuation">:</span> <span class="token number">20</span>
    <span class="token key atrule">maxWait</span><span class="token punctuation">:</span> <span class="token number">60000</span>
    <span class="token key atrule">timeBetweenEvictionRunsMillis</span><span class="token punctuation">:</span> <span class="token number">60000</span>
    <span class="token key atrule">minEvictableIdleTimeMillis</span><span class="token punctuation">:</span> <span class="token number">300000</span>
    <span class="token key atrule">validationQuery</span><span class="token punctuation">:</span> SELECT 1 FROM DUAL
    <span class="token key atrule">testWhileIdle</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">testOnBorrow</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token key atrule">testOnReturn</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token key atrule">poolPreparedStatements</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

    <span class="token comment">#é…ç½®ç›‘æ§ç»Ÿè®¡æ‹¦æˆªçš„filtersï¼Œstat:ç›‘æ§ç»Ÿè®¡ã€log4jï¼šæ—¥å¿—è®°å½•ã€wallï¼šé˜²å¾¡sqlæ³¨å…¥</span>
    <span class="token comment">#å¦‚æœå…è®¸æ—¶æŠ¥é”™  java.lang.ClassNotFoundException: org.apache.log4j.Priority</span>
    <span class="token comment">#åˆ™å¯¼å…¥ log4j ä¾èµ–å³å¯ï¼ŒMaven åœ°å€ï¼šhttps://mvnrepository.com/artifact/log4j/log4j</span>
    <span class="token key atrule">filters</span><span class="token punctuation">:</span> stat<span class="token punctuation">,</span>wall<span class="token punctuation">,</span>log4j
    <span class="token key atrule">maxPoolPreparedStatementPerConnectionSize</span><span class="token punctuation">:</span> <span class="token number">20</span>
    <span class="token key atrule">useGlobalDataSourceStat</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">connectionProperties</span><span class="token punctuation">:</span> druid.stat.mergeSql=true;druid.stat.slowSqlMillis=500

<span class="token key atrule">mybatis</span><span class="token punctuation">:</span>
  <span class="token key atrule">type-aliases-package</span><span class="token punctuation">:</span> com.kuang.pojo
  <span class="token key atrule">mapper-locations</span><span class="token punctuation">:</span> classpath<span class="token punctuation">:</span>mapper/<span class="token important">*.xml</span>
</code></pre> 
<p>UserRealm.java</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">UserService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>shiro<span class="token punctuation">.</span></span><span class="token class-name">SecurityUtils</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>shiro<span class="token punctuation">.</span>authc<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>shiro<span class="token punctuation">.</span>authz<span class="token punctuation">.</span></span><span class="token class-name">AuthorizationInfo</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>shiro<span class="token punctuation">.</span>authz<span class="token punctuation">.</span></span><span class="token class-name">SimpleAuthorizationInfo</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>shiro<span class="token punctuation">.</span>realm<span class="token punctuation">.</span></span><span class="token class-name">AuthorizingRealm</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>shiro<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">Session</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>shiro<span class="token punctuation">.</span>subject<span class="token punctuation">.</span></span><span class="token class-name">PrincipalCollection</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>shiro<span class="token punctuation">.</span>subject<span class="token punctuation">.</span></span><span class="token class-name">Subject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @author javaå°å¢©å¢©
 * @version 1.0
 */</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserRealm</span> <span class="token keyword">extends</span> <span class="token class-name">AuthorizingRealm</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>

    <span class="token comment">//æˆæƒ</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">AuthorizationInfo</span> <span class="token function">doGetAuthorizationInfo</span><span class="token punctuation">(</span><span class="token class-name">PrincipalCollection</span> principalCollection<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ‰§è¡Œäº†æˆæƒ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">SimpleAuthorizationInfo</span> info <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleAuthorizationInfo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//æ‹¿åˆ°å½“å‰ç™»å½•çš„å¯¹è±¡</span>
        <span class="token class-name">Subject</span> subject <span class="token operator">=</span> <span class="token class-name">SecurityUtils</span><span class="token punctuation">.</span><span class="token function">getSubject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//æ‹¿åˆ°userå¯¹è±¡</span>
        <span class="token class-name">User</span> currentUser <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">)</span> subject<span class="token punctuation">.</span><span class="token function">getPrincipal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//æ·»åŠ æƒé™ï¼ˆæ•°æ®åº“ä¸­æ‹¿çš„ï¼‰</span>
        info<span class="token punctuation">.</span><span class="token function">addStringPermission</span><span class="token punctuation">(</span>currentUser<span class="token punctuation">.</span><span class="token function">getPerms</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> info<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//è®¤è¯</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">AuthenticationInfo</span> <span class="token function">doGetAuthenticationInfo</span><span class="token punctuation">(</span><span class="token class-name">AuthenticationToken</span> token<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">AuthenticationException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ‰§è¡Œäº†è®¤è¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">UsernamePasswordToken</span> userToken<span class="token operator">=</span><span class="token punctuation">(</span><span class="token class-name">UsernamePasswordToken</span><span class="token punctuation">)</span>token<span class="token punctuation">;</span>

<span class="token comment">//        //ç”¨æˆ·åã€å¯†ç   æ¨¡æ‹Ÿä»æ•°æ®åº“ä¸­è·å–</span>
<span class="token comment">//        String name = "root";</span>
<span class="token comment">//        String password = "1111";</span>
<span class="token comment">//</span>
<span class="token comment">//        //ç”¨æˆ·åè®¤è¯</span>
<span class="token comment">//        if (!userToken.getUsername().equals(name)){<!-- --></span>
<span class="token comment">//            return null;//æŠ›å‡ºå¼‚å¸¸ UnknownAccountException</span>
<span class="token comment">//        }</span>
<span class="token comment">//</span>
<span class="token comment">//        //å¯†ç è®¤è¯ï¼Œshiroåš</span>
<span class="token comment">//        return new SimpleAuthenticationInfo("",password,"");</span>

        <span class="token comment">//è¿æ¥çœŸå®æ•°æ®åº“</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">queryUserByName</span><span class="token punctuation">(</span>userToken<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//æ²¡æœ‰è¿™ä¸ªäºº</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">//æŠ›å‡ºå¼‚å¸¸ UnknownAccountException</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">Subject</span> subject <span class="token operator">=</span> <span class="token class-name">SecurityUtils</span><span class="token punctuation">.</span><span class="token function">getSubject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Session</span> session <span class="token operator">=</span> subject<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"loginUser"</span><span class="token punctuation">,</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SimpleAuthenticationInfo</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span>user<span class="token punctuation">.</span><span class="token function">getPwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>ShiroConfig.java</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">at<span class="token punctuation">.</span>pollux<span class="token punctuation">.</span>thymeleaf<span class="token punctuation">.</span>shiro<span class="token punctuation">.</span>dialect<span class="token punctuation">.</span></span><span class="token class-name">ShiroDialect</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span>deser<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">NullsAsEmptyProvider</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>shiro<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>web<span class="token punctuation">.</span></span><span class="token class-name">ShiroFilterFactoryBean</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>shiro<span class="token punctuation">.</span>web<span class="token punctuation">.</span>mgt<span class="token punctuation">.</span></span><span class="token class-name">DefaultWebSecurityManager</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Qualifier</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">LinkedHashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @author javaå°å¢©å¢©
 * @version 1.0
 */</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ShiroConfig</span> <span class="token punctuation">{<!-- --></span>

     <span class="token comment">//ShiroFilterFactoryBean ç¬¬ä¸‰æ­¥</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">ShiroFilterFactoryBean</span>  <span class="token function">getShiroFilterFactoryBean</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">"securityManager"</span><span class="token punctuation">)</span> <span class="token class-name">DefaultWebSecurityManager</span> defaultWebSecurityManager<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>

        <span class="token class-name">ShiroFilterFactoryBean</span> bean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ShiroFilterFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è®¾ç½®å®‰å…¨ç®¡ç†å™¨</span>
        bean<span class="token punctuation">.</span><span class="token function">setSecurityManager</span><span class="token punctuation">(</span>defaultWebSecurityManager<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> filterMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// æ·»åŠ Shiroå†…ç½®è¿‡æ»¤å™¨</span>
        <span class="token comment">/**
         * Shiroå†…ç½®è¿‡æ»¤å™¨ï¼Œå¯ä»¥å®ç°æƒé™ç›¸å…³çš„æ‹¦æˆªå™¨
         *  å¸¸ç”¨çš„è¿‡æ»¤å™¨ï¼š
         *      anonï¼šæ— éœ€è®¤è¯ï¼ˆç™»é™†ï¼‰å¯ä»¥è®¿é—®
         *      authcï¼šå¿…é¡»è®¤è¯æ‰å¯ä»¥è®¿é—®
         *      userï¼šå¦‚æœä½¿ç”¨rememberMeçš„åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥è®¿é—®
         *      permsï¼šè¯¥èµ„æºå¿…é¡»å¾—åˆ°èµ„æºæƒé™æ‰å¯ä»¥è®¿é—®
         *      roleï¼šè¯¥èµ„æºå¿…é¡»å¾—åˆ°è§’è‰²æƒé™æ‰å¯ä»¥è®¿é—®
         */</span>
        <span class="token comment">//æ‹¦æˆªï¼Œå¿…é¡»æœ‰ä»€ä¹ˆæƒé™æ‰èƒ½è®¿é—®</span>
<span class="token comment">//        filterMap.put("/user/*","perms[root]");</span>
        filterMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"/user/add"</span><span class="token punctuation">,</span><span class="token string">"perms[user:add]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        filterMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"/user/update"</span><span class="token punctuation">,</span><span class="token string">"perms[user:update]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//æ‹¦æˆªï¼Œå¿…é¡»è®¤è¯æ‰èƒ½è®¿é—®</span>
        filterMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"/user/*"</span><span class="token punctuation">,</span><span class="token string">"authc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        bean<span class="token punctuation">.</span><span class="token function">setFilterChainDefinitionMap</span><span class="token punctuation">(</span>filterMap<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//è®¾ç½®ç™»å½•è¯·æ±‚</span>
        bean<span class="token punctuation">.</span><span class="token function">setLoginUrl</span><span class="token punctuation">(</span><span class="token string">"/toLogin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è‹¥è®¿é—®æ—¶ç”¨æˆ·æœªè¢«æˆæƒï¼Œåˆ™è·³è½¬è‡³æœªæˆæƒé¡µé¢</span>
        bean<span class="token punctuation">.</span><span class="token function">setUnauthorizedUrl</span><span class="token punctuation">(</span><span class="token string">"/noauth"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    
    <span class="token comment">//DefaultWebSecurityManager ç¬¬äºŒæ­¥</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"securityManager"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">DefaultWebSecurityManager</span> <span class="token function">getDefaultWebSecurityManager</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">"userRealm"</span><span class="token punctuation">)</span> <span class="token class-name">UserRealm</span> userRealm<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">DefaultWebSecurityManager</span> securityManager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultWebSecurityManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å…³è”UserRealm</span>
        securityManager<span class="token punctuation">.</span><span class="token function">setRealm</span><span class="token punctuation">(</span>userRealm<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> securityManager<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//åˆ›å»ºrealm å¯¹è±¡ï¼Œéœ€è¦è‡ªå®šä¹‰ç±»</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">UserRealm</span> <span class="token function">userRealm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserRealm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    
    
    <span class="token comment">//æ•´åˆShiroDialect:ç”¨æ¥æ•´åˆshiro thymeleaf</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">ShiroDialect</span> <span class="token function">getShiroDialect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ShiroDialect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>MyController.java</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>sun<span class="token punctuation">.</span>org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>xpath<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>operations<span class="token punctuation">.</span></span><span class="token class-name">Mod</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>print<span class="token punctuation">.</span></span><span class="token class-name">PaperSource</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>shiro<span class="token punctuation">.</span></span><span class="token class-name">SecurityUtils</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>shiro<span class="token punctuation">.</span>authc<span class="token punctuation">.</span></span><span class="token class-name">AuthenticationException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>shiro<span class="token punctuation">.</span>authc<span class="token punctuation">.</span></span><span class="token class-name">IncorrectCredentialsException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>shiro<span class="token punctuation">.</span>authc<span class="token punctuation">.</span></span><span class="token class-name">UnknownAccountException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>shiro<span class="token punctuation">.</span>authc<span class="token punctuation">.</span></span><span class="token class-name">UsernamePasswordToken</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>shiro<span class="token punctuation">.</span>subject<span class="token punctuation">.</span></span><span class="token class-name">Subject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Controller</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Repository</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>ui<span class="token punctuation">.</span></span><span class="token class-name">Model</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ResponseBody</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @author javaå°å¢©å¢©
 * @version 1.0
 */</span>
<span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController</span> <span class="token punctuation">{<!-- --></span>


    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"/"</span><span class="token punctuation">,</span><span class="token string">"/index"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toIndex</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span><span class="token string">"hello,shiro"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"index"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/user/add"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"user/add"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/user/update"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"user/update"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>



    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/toLogin"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"login"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/login"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span><span class="token class-name">String</span> password<span class="token punctuation">,</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">//è·å–å½“å‰ç”¨æˆ·</span>
        <span class="token class-name">Subject</span> subject <span class="token operator">=</span> <span class="token class-name">SecurityUtils</span><span class="token punctuation">.</span><span class="token function">getSubject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å°è£…ç”¨æˆ·ç™»å½•</span>
        <span class="token class-name">UsernamePasswordToken</span> token <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UsernamePasswordToken</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            subject<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰§è¡Œç™»å½•çš„æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰å¼‚å¸¸å°±è¯´æ˜okäº†</span>
            <span class="token keyword">return</span> <span class="token string">"index"</span><span class="token punctuation">;</span><span class="token comment">//ç™»å½•æˆåŠŸè·³åˆ°é¦–é¡µ</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">UnknownAccountException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span><span class="token string">"ç”¨æˆ·åä¸å­˜åœ¨"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token string">"login"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IncorrectCredentialsException</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span><span class="token string">"å¯†ç é”™è¯¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token string">"login"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>



    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/noauth"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">noAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"æœªæˆæƒï¼Œæ— æ³•è®¿é—®"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/logout"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">//è·å–å½“å‰ç”¨æˆ·</span>
        <span class="token class-name">Subject</span> subject <span class="token operator">=</span> <span class="token class-name">SecurityUtils</span><span class="token punctuation">.</span><span class="token function">getSubject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// session ä¼šé”€æ¯ï¼Œåœ¨SessionListenerç›‘å¬sessioné”€æ¯ï¼Œæ¸…ç†æƒé™ç¼“å­˜</span>
        subject<span class="token punctuation">.</span><span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"redirect:index"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>User.java</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">AllArgsConstructor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">NoArgsConstructor</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @author javaå°å¢©å¢©
 * @version 1.0
 */</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> pwd<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> perms<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>UserMapper.java</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Mapper</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Param</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Repository</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @author javaå°å¢©å¢©
 * @version 1.0
 */</span>
<span class="token annotation punctuation">@Repository</span>
<span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">queryUserByName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>UserMapper.xml</p> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span>
        <span class="token name">PUBLIC</span> <span class="token string">"-//mybatis.org//DTD Mapper 3.0//EN"</span>
        <span class="token string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.edu.mapper.UserMapper<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>queryUserByName<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>String<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.edu.pojo.User<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        select * from user where name = #{name}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>UserService.java</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Param</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Select</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @author javaå°å¢©å¢©
 * @version 1.0
 */</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserService</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">queryUserByName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>UserServiceImpl.java</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">UserMapper</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @author javaå°å¢©å¢©
 * @version 1.0
 */</span>
<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span><span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Autowired</span>
     <span class="token class-name">UserMapper</span> userMapper<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">queryUserByName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> userMapper<span class="token punctuation">.</span><span class="token function">queryUserByName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>index.html</p> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.thymeleaf.org<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">xmlns:</span>shiro</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org/thymeleaf-extras-shiro<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>é¦–é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${msg}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${session.loginUser==null}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@{/toLogin}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${session.loginUser!=null}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@{/logout}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æ³¨é”€<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">shiro:</span>hasPermission</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user:add<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@{/user/add}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>add<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">shiro:</span>hasPermission</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user:update<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@{/user/update}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>update<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>login.html</p> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/1999/xhtml?<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${msg}<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name"><span class="token namespace">th:</span>action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@{/login}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>ç”¨æˆ·åï¼š <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>å¯†ç ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æäº¤<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>add.html</p> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>add<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>update.html</p> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>update<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h3><a id="_4907"></a>æ€»ç»“</h3> 
<p><strong>Shiro ä¸‰å¤§è¦ç´ </strong></p> 
<pre><code>subject` -&gt; `ShiroFilterFactoryBean`
`securityManager` -&gt; `DefaultWebSecurityManager`
`realm`
å®é™…æ“ä½œä¸­å¯¹è±¡åˆ›å»ºçš„é¡ºåº ï¼š `realm -&gt; securityManager -&gt; subject
</code></pre> 
<p><strong>æµç¨‹æ¢³ç†ï¼š</strong><br> 1.ç”¨æˆ·è¿›å…¥é¦–é¡µç‚¹å‡»è·³è½¬ï¼ŒShiroå†…ç½®è¿‡æ»¤å™¨è¿›è¡Œæ‹¦æˆªï¼Œçœ‹è¿‡æ»¤å™¨çš„è®¾ç½®ï¼Œæœªè®¤è¯è·³è½¬åˆ°ç™»å½•é¡µé¢ï¼Œæœªæˆæƒè·³è½¬åˆ°æœªæˆæƒç•Œé¢ï¼›<br> 2.è®¤è¯</p> 
<ul><li>ç”¨æˆ·è¿›å…¥ç™»å½•é¡µé¢ï¼Œè¾“å…¥ç”¨æˆ·åå¯†ç å‡†å¤‡è¿›è¡Œè®¤è¯ï¼Œç‚¹å‡»ç™»å½•æŒ‰é’®åï¼Œä¼šè¯·æ±‚/loginï¼Œ</li><li>é¦–å…ˆè°ƒç”¨Subject.login(token) è¿›è¡Œç™»å½•ï¼Œå…¶ä¼šè‡ªåŠ¨å§”æ‰˜ç»™SecurityManagerï¼Œ</li><li>SecurityManagerè´Ÿè´£çœŸæ­£çš„èº«ä»½éªŒè¯é€»è¾‘ï¼›å®ƒä¼šå§”æ‰˜ç»™Authenticator è¿›è¡Œèº«ä»½éªŒè¯ï¼›</li><li>Authenticator æ‰æ˜¯çœŸæ­£çš„èº«ä»½éªŒè¯è€…ï¼ŒAuthenticator ä¼šæŠŠç›¸åº”çš„token ä¼ å…¥Realmï¼Œä»Realm è·å–èº«ä»½éªŒè¯ä¿¡æ¯ï¼Œå¦‚æœæ²¡æœ‰è¿”å›/æŠ›å‡ºå¼‚å¸¸è¡¨ç¤ºèº«ä»½éªŒè¯å¤±è´¥äº†ï¼Œå¦‚æœæœ‰å°±è¿”å›AuthenticationInfoéªŒè¯ä¿¡æ¯ï¼Œæ­¤ä¿¡æ¯ä¸­åŒ…å«äº†èº«ä»½ï¼ˆpricipalsï¼‰åŠå‡­è¯ï¼Œä¹Ÿå°±æ˜¯è´¦å·å¯†ç ã€‚</li></ul> 
<p><img src="https://images2.imgbox.com/1c/1c/0c70tuUF_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>3.æˆæƒ</p> 
<ul><li>å¯¹subjectè¿›è¡Œæˆæƒï¼Œè°ƒç”¨æ–¹æ³•isPermittedï¼ˆâ€œpermissionä¸²â€ï¼‰ï¼Œé€’äº¤ç»™SecurityManager</li><li>SecurityManagerå°†æƒé™æ£€æµ‹æ“ä½œå§”æ‰˜ç»™Authorizeræˆæƒç®¡ç†å™¨å¯¹è±¡</li><li>Authorizeræ‰§è¡ŒRealmï¼ˆè‡ªå®šä¹‰çš„Realmï¼‰ä»æ•°æ®åº“æŸ¥è¯¢æƒé™æ•°æ®å¹¶å°è£…</li><li>Authorizerå¯¹ç”¨æˆ·æˆæƒä¿¡æ¯è¿›è¡Œåˆ¤å®š(åˆ¤æ–­ç”¨æˆ·è®¿é—®èµ„æºæ—¶éœ€è¦ä»€ä¹ˆæƒé™ï¼Œå‡å¦‚ç”¨æˆ·æ‰€å…·æœ‰çš„æƒé™åŒ…å«è¿™ä¸ªèµ„æºè®¿é—®æ—¶æ‰€éœ€è¦çš„æƒé™ï¼Œé‚£ä¹ˆç”¨æˆ·å°±å¯ä»¥è®¿é—®è¿™ä¸ªèµ„æºäº†)ã€‚</li></ul> 
<h2><a id="Swagger_4942"></a>Swagger</h2> 
<h3><a id="_4946"></a>æ¦‚å¿µ</h3> 
<p>Swagger æ˜¯ä¸€ä¸ªè§„èŒƒå’Œå®Œæ•´çš„<a href="https://so.csdn.net/so/search?q=%E6%A1%86%E6%9E%B6&amp;spm=1001.2101.3001.7020">æ¡†æ¶</a>ï¼Œç”¨äºç”Ÿæˆã€æè¿°ã€è°ƒç”¨å’Œå¯è§†åŒ– RESTful é£æ ¼çš„ Web æœåŠ¡ã€‚æ€»ä½“ç›®æ ‡æ˜¯ä½¿å®¢æˆ·ç«¯å’Œæ–‡ä»¶ç³»ç»Ÿä½œä¸ºæœåŠ¡å™¨ä»¥åŒæ ·çš„é€Ÿåº¦æ¥æ›´æ–°ã€‚æ–‡ä»¶çš„æ–¹æ³•ï¼Œå‚æ•°å’Œæ¨¡å‹ç´§å¯†é›†æˆåˆ°æœåŠ¡å™¨ç«¯çš„ä»£ç ï¼Œå…è®¸APIæ¥å§‹ç»ˆä¿æŒåŒæ­¥ã€‚</p> 
<h3><a id="_4952"></a>ç‰¹ç‚¹</h3> 
<ul><li>å·ç§°ä¸–ç•Œä¸Šæœ€æµè¡Œçš„APIæ¡†æ¶</li><li><a href="https://so.csdn.net/so/search?q=Restful&amp;spm=1001.2101.3001.7020">Restful</a> Api æ–‡æ¡£åœ¨çº¿è‡ªåŠ¨ç”Ÿæˆå™¨ =&gt; API æ–‡æ¡£ ä¸API å®šä¹‰åŒæ­¥æ›´æ–°</li><li>ç›´æ¥è¿è¡Œï¼Œåœ¨çº¿æµ‹è¯•API</li><li>æ”¯æŒå¤šç§è¯­è¨€ ï¼ˆå¦‚ï¼šJavaï¼ŒPHPç­‰ï¼‰</li><li>å®˜ç½‘ï¼šhttps://swagger.io/</li></ul> 
<h3><a id="springbootswagger_4962"></a>springbooté›†æˆswagger</h3> 
<p>1.æ–°å»ºspringbooté¡¹ç›®ï¼Œæ·»åŠ webä¾èµ–<br> 2.å¯¼å…¥swaggeræ‰€éœ€ä¾èµ–</p> 
<pre><code>&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;
&lt;dependency&gt;
   &lt;groupId&gt;io.springfox&lt;/groupId&gt;
   &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;
   &lt;version&gt;2.9.2&lt;/version&gt;
&lt;/dependency&gt;
&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;
&lt;dependency&gt;
   &lt;groupId&gt;io.springfox&lt;/groupId&gt;
   &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;
   &lt;version&gt;2.9.2&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
<p>3.è¦ä½¿ç”¨Swaggerï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™ä¸€ä¸ªé…ç½®ç±»-SwaggerConfigæ¥é…ç½® Swagger</p> 
<pre><code>@Configuration //é…ç½®ç±»
@EnableSwagger2// å¼€å¯Swagger2çš„è‡ªåŠ¨é…ç½®
public class SwaggerConfig {  
}
</code></pre> 
<p>4.è®¿é—®æµ‹è¯• ï¼šhttp://localhost:8080/swagger-ui.html ï¼Œå¯ä»¥çœ‹åˆ°swaggerçš„ç•Œé¢ï¼›</p> 
<p><img src="https://images2.imgbox.com/19/1a/xQiZFStD_o.jpg" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="swagger_4997"></a>é…ç½®swagger</h4> 
<p>1ã€Swaggerå®ä¾‹Beanæ˜¯<code>Docket</code>ï¼Œæ‰€ä»¥é€šè¿‡é…ç½®Docketå®ä¾‹æ¥é…ç½®Swagggerã€‚</p> 
<p>åœ¨SwaggerConfigç±»ä¸­</p> 
<pre><code>@Bean //é…ç½®docketä»¥é…ç½®Swaggerå…·ä½“å‚æ•°
public Docket docket() {
   return new Docket(DocumentationType.SWAGGER_2);
}
</code></pre> 
<p>2.å¯ä»¥é€šè¿‡<code>apiInfo()</code>å±æ€§é…ç½®æ–‡æ¡£ä¿¡æ¯</p> 
<pre><code>//é…ç½®æ–‡æ¡£ä¿¡æ¯
private ApiInfo apiInfo() {
   Contact contact = new Contact("è”ç³»äººåå­—", "http://xxx.xxx.com/è”ç³»äººè®¿é—®é“¾æ¥", "è”ç³»äººé‚®ç®±");
   return new ApiInfo(
           "Swaggerå­¦ä¹ ", // æ ‡é¢˜
           "å­¦ä¹ æ¼”ç¤ºå¦‚ä½•é…ç½®Swagger", // æè¿°
           "v1.0", // ç‰ˆæœ¬
           "http://terms.service.url/ç»„ç»‡é“¾æ¥", // ç»„ç»‡é“¾æ¥
           contact, // è”ç³»äººä¿¡æ¯
           "Apach 2.0 è®¸å¯", // è®¸å¯
           "è®¸å¯é“¾æ¥", // è®¸å¯è¿æ¥
           new ArrayList&lt;&gt;()// æ‰©å±•
  );
}

</code></pre> 
<p>3ã€Docket å®ä¾‹å…³è”ä¸Š apiInfo()</p> 
<pre><code>@Bean
public Docket docket() {
   return new Docket(DocumentationType.SWAGGER_2).apiInfo(apiInfo());
}
</code></pre> 
<p>4ã€é‡å¯é¡¹ç›®ï¼Œè®¿é—®æµ‹è¯• <code>http://localhost:8080/swagger-ui.html</code> çœ‹ä¸‹æ•ˆæœï¼›</p> 
<h4><a id="_5045"></a>é…ç½®æ‰«ææ¥å£</h4> 
<p>1ã€æ„å»ºDocketæ—¶é€šè¿‡<code>select()</code>æ–¹æ³•é…ç½®æ€ä¹ˆæ‰«ææ¥å£ã€‚</p> 
<p>åœ¨SwaggerConfigç±»ä¸­</p> 
<pre><code>@Bean
public Docket docket() {
   return new Docket(DocumentationType.SWAGGER_2)
      .apiInfo(apiInfo())
      .select()// é€šè¿‡.select()æ–¹æ³•ï¼Œå»é…ç½®æ‰«ææ¥å£,RequestHandlerSelectorsé…ç½®å¦‚ä½•æ‰«ææ¥å£
      .apis(RequestHandlerSelectors.basePackage("com.kuang.controller"))
      .build();
}
</code></pre> 
<p>2ã€é‡å¯é¡¹ç›®æµ‹è¯•ï¼Œç”±äºæˆ‘ä»¬é…ç½®æ ¹æ®åŒ…çš„è·¯å¾„æ‰«ææ¥å£ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½çœ‹åˆ°ä¸€ä¸ªç±»</p> 
<p><img src="https://images2.imgbox.com/4d/95/Ab3uemCV_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>3ã€é™¤äº†é€šè¿‡åŒ…è·¯å¾„é…ç½®æ‰«ææ¥å£å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡é…ç½®å…¶ä»–æ–¹å¼æ‰«ææ¥å£ï¼Œè¿™é‡Œæ³¨é‡Šä¸€ä¸‹æ‰€æœ‰çš„é…ç½®æ–¹å¼ï¼š</p> 
<pre><code>//RequestHandlerSelectors é…ç½®è¦æ‰«ææ¥å£çš„æ–¹å¼
//basePackage æŒ‡å®šè¦æ‰«æçš„åŒ…
//any() æ‰«æå…¨éƒ¨
//none() ä¸æ‰«æ
//withMethodAnnotation æ‰«ææ–¹æ³•ä¸Šçš„æ³¨è§£ï¼Œå‚æ•°æ˜¯æ³¨è§£çš„åå°„å¯¹è±¡ï¼ˆGetMapping.classï¼‰
//withClassAnnotation æ‰«æç±»ä¸Šçš„æ³¨è§£ï¼ˆRestController.classï¼‰
</code></pre> 
<p>4ã€é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é…ç½®æ¥å£æ‰«æè¿‡æ»¤ï¼š</p> 
<pre><code>    @Bean
    public Docket docket(){
        return new Docket(DocumentationType.SWAGGER_2)
                .apiInfo(apiInfo())
                .select()
                .apis(RequestHandlerSelectors.basePackage("com.kuang.controller"))
                .paths(PathSelectors.ant("/kuang/**")) //è¯·æ±‚ä¸­æœ‰kuangçš„
                .build();
    }
</code></pre> 
<p><img src="https://images2.imgbox.com/11/27/DETNnR8j_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><img src="https://images2.imgbox.com/1e/95/RvpvaoYx_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="Swagger_5101"></a>é…ç½®Swaggerå¼€å…³</h4> 
<p>1ã€é€šè¿‡<code>enable()</code>æ–¹æ³•é…ç½®æ˜¯å¦å¯ç”¨swaggerï¼Œå¦‚æœæ˜¯falseï¼Œswaggerå°†ä¸èƒ½åœ¨æµè§ˆå™¨ä¸­è®¿é—®äº†</p> 
<pre><code>@Bean
public Docket docket(Environment environment){

    return new Docket(DocumentationType.SWAGGER_2)
            .apiInfo(apiInfo())
            .enable(false)
            .select()
            .apis(RequestHandlerSelectors.basePackage("com.kuang.controller"))
            .paths(PathSelectors.ant("/hello"))
            .build();
}

</code></pre> 
<p>2ã€å¦‚ä½•åŠ¨æ€é…ç½®å½“é¡¹ç›®å¤„äºtestã€devç¯å¢ƒæ—¶æ˜¾ç¤ºswaggerï¼Œå¤„äºprodæ—¶ä¸æ˜¾ç¤º</p> 
<p>åœ¨resourceä¸­åˆ›å»º</p> 
<p>application-dev.properties</p> 
<pre><code>server.port=8081
</code></pre> 
<p>application-pro.properties</p> 
<pre><code>server.port=8082
</code></pre> 
<p>application.properties</p> 
<pre><code>spring.profiles.active=dev
</code></pre> 
<p>åœ¨SwaggerConfigç±»ä¸­</p> 
<pre><code>@Bean
public Docket docket(Environment environment) {
   // è®¾ç½®è¦æ˜¾ç¤ºswaggerçš„ç¯å¢ƒ
   Profiles of = Profiles.of("dev", "test");
   // åˆ¤æ–­å½“å‰æ˜¯å¦å¤„äºè¯¥ç¯å¢ƒ
   // é€šè¿‡ enable() æ¥æ”¶æ­¤å‚æ•°åˆ¤æ–­æ˜¯å¦è¦æ˜¾ç¤º
   boolean flag = environment.acceptsProfiles(of);
   
   return new Docket(DocumentationType.SWAGGER_2)
      .apiInfo(apiInfo())
      .enable(flag) //é…ç½®æ˜¯å¦å¯ç”¨Swaggerï¼Œå¦‚æœæ˜¯falseï¼Œåœ¨æµè§ˆå™¨å°†æ— æ³•è®¿é—®
      .select()// é€šè¿‡.select()æ–¹æ³•ï¼Œå»é…ç½®æ‰«ææ¥å£,RequestHandlerSelectorsé…ç½®å¦‚ä½•æ‰«ææ¥å£
      .apis(RequestHandlerSelectors.basePackage("com.kuang.swagger.controller"))
       // é…ç½®å¦‚ä½•é€šè¿‡pathè¿‡æ»¤,å³è¿™é‡Œåªæ‰«æè¯·æ±‚ä»¥/kuangå¼€å¤´çš„æ¥å£
      .paths(PathSelectors.ant("/kuang/**"))
      .build();
}
</code></pre> 
<p>springbootåˆ‡æ¢ä½¿ç”¨ç¯å¢ƒï¼Œå¦‚æœæ˜¯<code>Profiles.of("pro", "test")</code>è¿™é‡Œæœ‰çš„ç¯å¢ƒï¼Œåˆ™æ­£å¸¸æ˜¾ç¤ºï¼Œå¦‚æœæ˜¯è¿™é‡Œæ²¡æœ‰çš„åˆ™æ— æ³•ä½¿ç”¨ã€‚</p> 
<p><img src="https://images2.imgbox.com/d8/0a/Az0AKs81_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="API_5174"></a>é…ç½®APIåˆ†ç»„</h4> 
<p>1ã€å¦‚æœæ²¡æœ‰é…ç½®åˆ†ç»„ï¼Œé»˜è®¤æ˜¯defaultã€‚é€šè¿‡<code>groupName()</code>æ–¹æ³•å³å¯é…ç½®åˆ†ç»„</p> 
<p><img src="https://images2.imgbox.com/f9/c6/ibUFM1Wb_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<pre><code>@Bean
public Docket docket(Environment environment) {
   return new Docket(DocumentationType.SWAGGER_2).apiInfo(apiInfo())
      .groupName("hello") // é…ç½®åˆ†ç»„
       // çœç•¥é…ç½®....
}
</code></pre> 
<p>2.å¦‚ä½•<code>é…ç½®å¤šä¸ªåˆ†ç»„</code>ï¼Ÿé…ç½®å¤šä¸ªåˆ†ç»„åªéœ€è¦é…ç½®å¤šä¸ªdocketå³å¯</p> 
<pre><code>@Bean
public Docket docket(Environment environment){

    Profiles of = Profiles.of("dev", "test");
    boolean flag = environment.acceptsProfiles(of);

    return new Docket(DocumentationType.SWAGGER_2)
            .apiInfo(apiInfo())
            .groupName("ç‹‚ç¥")
            .enable(flag)
            .select()
            .apis(RequestHandlerSelectors.basePackage("com.kuang.controller"))
            .paths(PathSelectors.ant("/hello"))
            .build();
}

@Bean
public Docket docket2(){
    return new Docket(DocumentationType.SWAGGER_2).groupName("group1");
}

@Bean
public Docket docket3(){
    return new Docket(DocumentationType.SWAGGER_2).groupName("group2");
}
</code></pre> 
<p><img src="https://images2.imgbox.com/84/30/XqOQZwzy_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="_5227"></a>é…ç½®æ³¨é‡Šä¿¡æ¯</h4> 
<p>å®ä½“ç±»ä¸Šæ³¨è§£</p> 
<pre><code>@ApiModel("ç”¨æˆ·å®ä½“ç±»")
public class User {
    @ApiModelProperty("ç”¨æˆ·å")
    public String name;
    @ApiModelProperty("å¯†ç ")
    public String password;
}

</code></pre> 
<p>æ–¹æ³•è¿”å›å€¼ä¸­æœ‰å­˜åœ¨å®ä½“ç±»ï¼Œå°±ä¼šè¢«æ‰«æ</p> 
<pre><code>@GetMapping("/user")
public User hello2(){
    return new User();
}

</code></pre> 
<p><img src="https://images2.imgbox.com/ab/e4/5X9GzOoz_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>æ–¹æ³•ä¸Šæ³¨è§£</p> 
<pre><code>@ApiOperation("æµ‹è¯•æ–¹æ³•")
@GetMapping("/test")
public String hello3(@ApiParam("ç”¨æˆ·å") String name){
    return name;
}

</code></pre> 
<p>å¸¸ç”¨æ³¨è§£<br> <code>@Api(tags = "xxxæ¨¡å—è¯´æ˜")</code>ï¼šä½œç”¨åœ¨æ¨¡å—ç±»ä¸Š<br> <code>@ApiOperation("xxxæ¥å£è¯´æ˜")</code>ï¼šä½œç”¨åœ¨æ¥å£æ–¹æ³•ä¸Š<br> <code>@ApiModel("xxxPOJOè¯´æ˜")</code>ï¼šä½œç”¨åœ¨æ¨¡å‹ç±»ä¸Šï¼šå¦‚VOã€BO<br> <code>@ApiModelProperty(value = "xxxå±æ€§è¯´æ˜",hidden = true)</code>ï¼šä½œç”¨åœ¨æ–¹æ³•å’Œå±æ€§ä¸Šï¼Œhiddenè®¾ç½®ä¸ºtrueå¯ä»¥éšè—è¯¥å±æ€§<br> <code>@ApiParam("xxxå‚æ•°è¯´æ˜")</code>ï¼šä½œç”¨åœ¨å‚æ•°ã€æ–¹æ³•å’Œå­—æ®µä¸Šï¼Œç±»ä¼¼@ApiModelProperty</p> 
<p>ç›¸è¾ƒäºä¼ ç»Ÿçš„Postmanæˆ–Curlæ–¹å¼æµ‹è¯•æ¥å£ï¼Œä½¿ç”¨swaggerç®€ç›´å°±æ˜¯å‚»ç“œå¼æ“ä½œï¼Œä¸éœ€è¦é¢å¤–è¯´æ˜æ–‡æ¡£(å†™å¾—å¥½æœ¬èº«å°±æ˜¯æ–‡æ¡£)è€Œä¸”æ›´ä¸å®¹æ˜“å‡ºé”™ï¼Œåªéœ€è¦å½•å…¥æ•°æ®ç„¶åç‚¹å‡»Executeï¼Œå¦‚æœå†é…åˆè‡ªåŠ¨åŒ–æ¡†æ¶ï¼Œå¯ä»¥è¯´åŸºæœ¬å°±ä¸éœ€è¦äººä¸ºæ“ä½œäº†ã€‚</p> 
<p>Swaggeræ˜¯ä¸ªä¼˜ç§€çš„å·¥å…·ï¼Œç°åœ¨å›½å†…å·²ç»æœ‰å¾ˆå¤šçš„ä¸­å°å‹äº’è”ç½‘å…¬å¸éƒ½åœ¨ä½¿ç”¨å®ƒï¼Œç›¸è¾ƒäºä¼ ç»Ÿçš„è¦å…ˆå‡ºWordæ¥å£æ–‡æ¡£å†æµ‹è¯•çš„æ–¹å¼ï¼Œæ˜¾ç„¶è¿™æ ·ä¹Ÿæ›´ç¬¦åˆç°åœ¨çš„å¿«é€Ÿè¿­ä»£å¼€å‘è¡Œæƒ…ã€‚å½“ç„¶äº†ï¼Œæé†’ä¸‹å¤§å®¶åœ¨æ­£å¼ç¯å¢ƒè¦è®°å¾—å…³é—­Swaggerï¼Œä¸€æ¥å‡ºäºå®‰å…¨è€ƒè™‘äºŒæ¥ä¹Ÿå¯ä»¥èŠ‚çœè¿è¡Œæ—¶å†…å­˜ã€‚</p> 
<h4><a id="_5281"></a>å…¶ä»–çš®è‚¤</h4> 
<p>1ã€<code>é»˜è®¤</code> è®¿é—® <code>http://localhost:8080/swagger-ui.html</code></p> 
<pre><code>&lt;dependency&gt; 
   &lt;groupId&gt;io.springfox&lt;/groupId&gt;
   &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;
   &lt;version&gt;2.9.2&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
<p><img src="https://images2.imgbox.com/4e/15/dVYZ8plK_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>2ã€<code>bootstrap-ui</code> è®¿é—® <code>http://localhost:8080/doc.html</code></p> 
<pre><code>&lt;!-- å¼•å…¥swagger-bootstrap-uiåŒ… /doc.html--&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.github.xiaoymin&lt;/groupId&gt;
   &lt;artifactId&gt;swagger-bootstrap-ui&lt;/artifactId&gt;
   &lt;version&gt;1.9.1&lt;/version&gt;
&lt;/dependency&gt;

</code></pre> 
<p><img src="https://images2.imgbox.com/ab/7e/NxXdDcKq_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>3ã€<code>Layui-ui</code> è®¿é—® <code>http://localhost:8080/docs.html</code></p> 
<pre><code>&lt;!-- å¼•å…¥swagger-ui-layeråŒ… /docs.html--&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.github.caspar-chen&lt;/groupId&gt;
   &lt;artifactId&gt;swagger-ui-layer&lt;/artifactId&gt;
   &lt;version&gt;1.1.3&lt;/version&gt;
&lt;/dependency&gt;

</code></pre> 
<p><img src="https://images2.imgbox.com/8a/8e/6MGxr4x0_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>4ã€<code>mg-ui</code> è®¿é—® <code>http://localhost:8080/document.html</code></p> 
<pre><code>&lt;!-- å¼•å…¥swagger-ui-layeråŒ… /document.html--&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.zyplayer&lt;/groupId&gt;
   &lt;artifactId&gt;swagger-mg-ui&lt;/artifactId&gt;
   &lt;version&gt;1.0.6&lt;/version&gt;
&lt;/dependency&gt;

</code></pre> 
<p><img src="https://images2.imgbox.com/df/36/xQMlEk7R_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="_5347"></a>å¼‚æ­¥ã€å®šæ—¶ã€é‚®ä»¶ä»»åŠ¡</h2> 
<h3><a id="_5351"></a>å¼‚æ­¥ä»»åŠ¡</h3> 
<p>1.åˆ›å»ºä¸€ä¸ªAsyncServiceç±»</p> 
<p>å¼‚æ­¥å¤„ç†è¿˜æ˜¯éå¸¸å¸¸ç”¨çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨ç½‘ç«™ä¸Šå‘é€é‚®ä»¶ï¼Œåå°ä¼šå»å‘é€é‚®ä»¶ï¼Œæ­¤æ—¶å‰å°ä¼šé€ æˆå“åº”ä¸åŠ¨ï¼Œç›´åˆ°é‚®ä»¶å‘é€å®Œæ¯•ï¼Œå“åº”æ‰ä¼šæˆåŠŸï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬ä¼šé‡‡ç”¨<a href="https://so.csdn.net/so/search?q=%E5%A4%9A%E7%BA%BF%E7%A8%8B&amp;spm=1001.2101.3001.7020">å¤šçº¿ç¨‹</a>çš„æ–¹å¼å»å¤„ç†è¿™äº›ä»»åŠ¡ã€‚</p> 
<p>ç¼–å†™æ–¹æ³•ï¼Œå‡è£…æ­£åœ¨å¤„ç†æ•°æ®ï¼Œä½¿ç”¨çº¿ç¨‹è®¾ç½®ä¸€äº›å»¶æ—¶ï¼Œæ¨¡æ‹ŸåŒæ­¥ç­‰å¾…çš„æƒ…å†µï¼›</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AsyncService</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸šåŠ¡è¿›è¡Œä¸­......"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>2.åˆ›å»ºä¸€ä¸ªAsyncControllerç±»</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AsyncController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">AsyncService</span> asyncService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/hello"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        asyncService<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"sucess"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>3.æµ‹è¯•ï¼Œå‘ç°ç•Œé¢æ²¡æœ‰ç«‹å³è¿”å›ç»“æœï¼Œè€Œæ˜¯ç­‰åå°æ‰§è¡Œå®Œæ‰è¿”å›ã€‚<br> 4.ç»™helloæ–¹æ³•æ·»åŠ @<a href="https://so.csdn.net/so/search?q=Async&amp;spm=1001.2101.3001.7020">Async</a>æ³¨è§£ï¼›</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AsyncService</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Async</span> <span class="token comment">//å‘Šè¯‰springè¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span> 
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸šåŠ¡è¿›è¡Œä¸­......"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>SpringBootå°±ä¼šè‡ªå·±å¼€ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œè¿›è¡Œè°ƒç”¨ï¼ä½†æ˜¯è¦è®©è¿™ä¸ªæ³¨è§£ç”Ÿæ•ˆï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨ä¸»ç¨‹åºä¸Šæ·»åŠ ä¸€ä¸ªæ³¨è§£@EnableAsync ï¼Œå¼€å¯å¼‚æ­¥æ³¨è§£åŠŸèƒ½ï¼›</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@EnableAsync</span> <span class="token comment">//å¼€å¯å¼‚æ­¥æ³¨è§£åŠŸèƒ½</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Springboot08TaskApplication</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Springboot08TaskApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>é‡å¯æµ‹è¯•ï¼Œç½‘é¡µç¬é—´å“åº”ï¼Œåå°ä»£ç ç»§ç»­æ‰§è¡Œï¼</p> 
<h3><a id="_5434"></a>é‚®ä»¶ä»»åŠ¡</h3> 
<p>é‚®ä»¶å‘é€ï¼Œåœ¨æˆ‘ä»¬çš„æ—¥å¸¸å¼€å‘ä¸­ï¼Œä¹Ÿéå¸¸çš„å¤šï¼ŒSpringbootä¹Ÿå¸®æˆ‘ä»¬åšäº†æ”¯æŒ</p> 
<ul><li>é‚®ä»¶å‘é€éœ€è¦å¼•å…¥spring-boot-start-mail</li><li>SpringBoot è‡ªåŠ¨é…ç½®MailSenderAutoConfiguration</li><li>å®šä¹‰MailPropertieså†…å®¹ï¼Œé…ç½®åœ¨application.ymlä¸­</li><li>è‡ªåŠ¨è£…é…JavaMailSender</li><li>æµ‹è¯•é‚®ä»¶å‘é€</li></ul> 
<p>1.å¼•å…¥ä¾èµ–</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-mail<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>æŸ¥çœ‹ä¸€ä¸‹MailProperties</p> 
<pre><code>@ConfigurationProperties(
   prefix = "spring.mail"
)
public class MailProperties {
   private static final Charset DEFAULT_CHARSET;
   private String host;
   private Integer port;
   private String username;
   private String password;
   private String protocol = "smtp";
   private Charset defaultEncoding;
   private Map&lt;String, String&gt; properties;
   private String jndiName;
}
</code></pre> 
<p>2.é…ç½®æ–‡ä»¶</p> 
<pre><code class="prism language-xml">spring.mail.username=24736743@qq.com
spring.mail.password=ä½ çš„qqæˆæƒç 
spring.mail.host=smtp.qq.com
# qqéœ€è¦é…ç½®ssl
spring.mail.properties.mail.smtp.ssl.enable=true
</code></pre> 
<p>è·å–æˆæƒç ï¼šåœ¨QQé‚®ç®±ä¸­çš„è®¾ç½®-&gt;è´¦æˆ·-&gt;å¼€å¯pop3å’ŒsmtpæœåŠ¡</p> 
<p><img src="https://images2.imgbox.com/b5/d9/9NAjJkIk_o.jpg" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>3.Springå•å…ƒæµ‹è¯•</p> 
<pre><code>@SpringBootTest
class Springboot08TaskApplicationTests {

    @Autowired
    JavaMailSenderImpl mailSender;

    @Test
    void contextLoads() {
        //æ–¹å¼ä¸€ï¼šç®€å•çš„é‚®ä»¶
        SimpleMailMessage message = new SimpleMailMessage();
        message.setSubject("é€šçŸ¥-æ˜å¤©æ”¾å‡");
        message.setText("ä»Šæ™š7:30å¼€ä¼š");

        message.setTo("24736743@qq.com");
        message.setFrom("24736743@qq.com");
        mailSender.send(message);
    }

    @Test
    void contextLoads2() throws MessagingException {
        //æ–¹å¼äºŒï¼šå¤æ‚çš„é‚®ä»¶
        MimeMessage mimeMessage = mailSender.createMimeMessage();
        MimeMessageHelper helper = new MimeMessageHelper(mimeMessage, true);

        helper.setSubject("é€šçŸ¥-æ˜å¤©ä¸Šè¯¾");
        helper.setText("&lt;b style='color:red'&gt;ä»Šå¤© 7:30æ¥å¼€ä¼š&lt;/b&gt;",true);

        helper.addAttachment("1.jpg",new File("C:\\Users\\Lenovo\\Desktop\\1.jpg"));
        //helper.addAttachment("2.jpg",new File(""));

        helper.setTo("24736743@qq.com");
        helper.setFrom("24736743@qq.com");

        mailSender.send(mimeMessage);
    }
}

</code></pre> 
<p>æŸ¥çœ‹é‚®ç®±ï¼Œé‚®ä»¶æ¥æ”¶æˆåŠŸï¼</p> 
<h3><a id="_5534"></a>å®šæ—¶ä»»åŠ¡</h3> 
<p>é¡¹ç›®å¼€å‘ä¸­ç»å¸¸éœ€è¦æ‰§è¡Œä¸€äº›å®šæ—¶ä»»åŠ¡ï¼Œæ¯”å¦‚éœ€è¦åœ¨æ¯å¤©å‡Œæ™¨çš„æ—¶å€™ï¼Œåˆ†æä¸€æ¬¡å‰ä¸€å¤©çš„æ—¥å¿—ä¿¡æ¯ï¼ŒSpringä¸ºæˆ‘ä»¬æä¾›äº†å¼‚æ­¥æ‰§è¡Œä»»åŠ¡è°ƒåº¦çš„æ–¹å¼ï¼Œæä¾›äº†ä¸¤ä¸ªæ¥å£ã€‚</p> 
<ul><li>TaskExecutoræ¥å£</li><li>TaskScheduleræ¥å£</li></ul> 
<p>ä¸¤ä¸ªæ³¨è§£ï¼š</p> 
<ul><li>@EnableScheduling</li><li>@Scheduled</li></ul> 
<p><strong>cronè¡¨è¾¾å¼ï¼š</strong></p> 
<p><img src="https://images2.imgbox.com/f9/9d/C6oLK8Ys_o.jpg" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><img src="https://images2.imgbox.com/fc/b2/fkf3mWTJ_o.jpg" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>1.åˆ›å»ºä¸€ä¸ªScheduledServiceç±»</p> 
<pre><code>@Service
public class ScheduledService {

	//cronè¡¨è¾¾å¼
    @Scheduled(cron = "0 9 20 * * 0-7") //æ¯å¤©20:09æ‰§è¡Œ
    public void hello(){
        System.out.println("hello Scheduled....");
    }
}

</code></pre> 
<p>2.éœ€è¦åœ¨ä¸»ç¨‹åºä¸Šå¢åŠ @EnableScheduling å¼€å¯å®šæ—¶ä»»åŠ¡åŠŸèƒ½</p> 
<pre><code>@EnableScheduling //å¼€å¯åŸºäºæ³¨è§£çš„å®šæ—¶ä»»åŠ¡
@SpringBootApplication
public class Springboot08TaskApplication {

    public static void main(String[] args) {
        SpringApplication.run(Springboot08TaskApplication.class, args);
    }

}

</code></pre> 
<p>æµ‹è¯•</p> 
<p>3ã€æˆ‘ä»¬æ¥è¯¦ç»†äº†è§£ä¸‹cronè¡¨è¾¾å¼ï¼›</p> 
<p>http://www.bejson.com/othertools/cron/</p> 
<p>4.å¸¸ç”¨çš„è¡¨è¾¾å¼</p> 
<pre><code>ï¼ˆ1ï¼‰0/2 * * * * ?   è¡¨ç¤ºæ¯2ç§’ æ‰§è¡Œä»»åŠ¡
ï¼ˆ1ï¼‰0 0/2 * * * ?   è¡¨ç¤ºæ¯2åˆ†é’Ÿ æ‰§è¡Œä»»åŠ¡
ï¼ˆ1ï¼‰0 0 2 1 * ?   è¡¨ç¤ºåœ¨æ¯æœˆçš„1æ—¥çš„å‡Œæ™¨2ç‚¹è°ƒæ•´ä»»åŠ¡
ï¼ˆ2ï¼‰0 15 10 ? * MON-FRI   è¡¨ç¤ºå‘¨ä¸€åˆ°å‘¨äº”æ¯å¤©ä¸Šåˆ10:15æ‰§è¡Œä½œä¸š
ï¼ˆ3ï¼‰0 15 10 ? 6L 2002-2006   è¡¨ç¤º2002-2006å¹´çš„æ¯ä¸ªæœˆçš„æœ€åä¸€ä¸ªæ˜ŸæœŸäº”ä¸Šåˆ10:15æ‰§è¡Œä½œ
ï¼ˆ4ï¼‰0 0 10,14,16 * * ?   æ¯å¤©ä¸Šåˆ10ç‚¹ï¼Œä¸‹åˆ2ç‚¹ï¼Œ4ç‚¹
ï¼ˆ5ï¼‰0 0/30 9-17 * * ?   æœä¹æ™šäº”å·¥ä½œæ—¶é—´å†…æ¯åŠå°æ—¶
ï¼ˆ6ï¼‰0 0 12 ? * WED   è¡¨ç¤ºæ¯ä¸ªæ˜ŸæœŸä¸‰ä¸­åˆ12ç‚¹
ï¼ˆ7ï¼‰0 0 12 * * ?   æ¯å¤©ä¸­åˆ12ç‚¹è§¦å‘
ï¼ˆ8ï¼‰0 15 10 ? * *   æ¯å¤©ä¸Šåˆ10:15è§¦å‘
ï¼ˆ9ï¼‰0 15 10 * * ?     æ¯å¤©ä¸Šåˆ10:15è§¦å‘
ï¼ˆ10ï¼‰0 15 10 * * ?   æ¯å¤©ä¸Šåˆ10:15è§¦å‘
ï¼ˆ11ï¼‰0 15 10 * * ? 2005   2005å¹´çš„æ¯å¤©ä¸Šåˆ10:15è§¦å‘
ï¼ˆ12ï¼‰0 * 14 * * ?     åœ¨æ¯å¤©ä¸‹åˆ2ç‚¹åˆ°ä¸‹åˆ2:59æœŸé—´çš„æ¯1åˆ†é’Ÿè§¦å‘
ï¼ˆ13ï¼‰0 0/5 14 * * ?   åœ¨æ¯å¤©ä¸‹åˆ2ç‚¹åˆ°ä¸‹åˆ2:55æœŸé—´çš„æ¯5åˆ†é’Ÿè§¦å‘
ï¼ˆ14ï¼‰0 0/5 14,18 * * ?     åœ¨æ¯å¤©ä¸‹åˆ2ç‚¹åˆ°2:55æœŸé—´å’Œä¸‹åˆ6ç‚¹åˆ°6:55æœŸé—´çš„æ¯5åˆ†é’Ÿè§¦å‘
ï¼ˆ15ï¼‰0 0-5 14 * * ?   åœ¨æ¯å¤©ä¸‹åˆ2ç‚¹åˆ°ä¸‹åˆ2:05æœŸé—´çš„æ¯1åˆ†é’Ÿè§¦å‘
ï¼ˆ16ï¼‰0 10,44 14 ? 3 WED   æ¯å¹´ä¸‰æœˆçš„æ˜ŸæœŸä¸‰çš„ä¸‹åˆ2:10å’Œ2:44è§¦å‘
ï¼ˆ17ï¼‰0 15 10 ? * MON-FRI   å‘¨ä¸€è‡³å‘¨äº”çš„ä¸Šåˆ10:15è§¦å‘
ï¼ˆ18ï¼‰0 15 10 15 * ?   æ¯æœˆ15æ—¥ä¸Šåˆ10:15è§¦å‘
ï¼ˆ19ï¼‰0 15 10 L * ?   æ¯æœˆæœ€åä¸€æ—¥çš„ä¸Šåˆ10:15è§¦å‘
ï¼ˆ20ï¼‰0 15 10 ? * 6L   æ¯æœˆçš„æœ€åä¸€ä¸ªæ˜ŸæœŸäº”ä¸Šåˆ10:15è§¦å‘
ï¼ˆ21ï¼‰0 15 10 ? * 6L 2002-2005   2002å¹´è‡³2005å¹´çš„æ¯æœˆçš„æœ€åä¸€ä¸ªæ˜ŸæœŸäº”ä¸Šåˆ10:15è§¦å‘
ï¼ˆ22ï¼‰0 15 10 ? * 6#3   æ¯æœˆçš„ç¬¬ä¸‰ä¸ªæ˜ŸæœŸäº”ä¸Šåˆ10:15è§¦å‘
</code></pre> 
<h2><a id="DubboZookeeper_5627"></a>Dubboå’ŒZookeeperé›†æˆ</h2> 
<h3><a id="_5633"></a>åˆ†å¸ƒå¼ç†è®º</h3> 
<h4><a id="_5637"></a>ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿï¼Ÿ</h4> 
<p>åœ¨ã€Šåˆ†å¸ƒå¼ç³»ç»ŸåŸç†ä¸èŒƒå‹ã€‹ä¸€ä¹¦ä¸­æœ‰å¦‚ä¸‹å®šä¹‰ï¼šâ€œ<strong>åˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯è‹¥å¹²ç‹¬ç«‹è®¡ç®—æœºçš„é›†åˆï¼Œè¿™äº›è®¡ç®—æœºå¯¹äºç”¨æˆ·æ¥è¯´å°±åƒå•ä¸ªç›¸å…³ç³»ç»Ÿ</strong>â€ï¼›</p> 
<p>åˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯ç”±ä¸€ç»„é€šè¿‡ç½‘ç»œè¿›è¡Œé€šä¿¡ã€ä¸ºäº†å®Œæˆå…±åŒçš„ä»»åŠ¡è€Œåè°ƒå·¥ä½œçš„è®¡ç®—æœºèŠ‚ç‚¹ç»„æˆçš„ç³»ç»Ÿã€‚åˆ†å¸ƒå¼ç³»ç»Ÿçš„å‡ºç°æ˜¯ä¸ºäº†ç”¨å»‰ä»·çš„ã€æ™®é€šçš„æœºå™¨å®Œæˆå•ä¸ªè®¡ç®—æœºæ— æ³•å®Œæˆçš„è®¡ç®—ã€å­˜å‚¨ä»»åŠ¡ã€‚å…¶ç›®çš„æ˜¯åˆ©ç”¨æ›´å¤šçš„æœºå™¨ï¼Œå¤„ç†æ›´å¤šçš„æ•°æ®ã€‚</p> 
<p>åˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆdistributed systemï¼‰æ˜¯å»ºç«‹åœ¨ç½‘ç»œä¹‹ä¸Šçš„è½¯ä»¶ç³»ç»Ÿã€‚</p> 
<p>é¦–å…ˆéœ€è¦æ˜ç¡®çš„æ˜¯ï¼Œ<strong>åªæœ‰å½“å•ä¸ªèŠ‚ç‚¹çš„å¤„ç†èƒ½åŠ›æ— æ³•æ»¡è¶³æ—¥ç›Šå¢é•¿çš„è®¡ç®—ã€å­˜å‚¨ä»»åŠ¡çš„æ—¶å€™ï¼Œä¸”ç¡¬ä»¶çš„æå‡ï¼ˆåŠ å†…å­˜ã€åŠ ç£ç›˜ã€ä½¿ç”¨æ›´å¥½çš„CPUï¼‰é«˜æ˜‚åˆ°å¾—ä¸å¿å¤±çš„æ—¶å€™ï¼Œåº”ç”¨ç¨‹åºä¹Ÿä¸èƒ½è¿›ä¸€æ­¥ä¼˜åŒ–çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ‰éœ€è¦è€ƒè™‘åˆ†å¸ƒå¼ç³»ç»Ÿ</strong>ã€‚å› ä¸ºï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿè¦è§£å†³çš„é—®é¢˜æœ¬èº«å°±æ˜¯å’Œå•æœºç³»ç»Ÿä¸€æ ·çš„ï¼Œè€Œç”±äºåˆ†å¸ƒå¼ç³»ç»Ÿå¤šèŠ‚ç‚¹ã€é€šè¿‡ç½‘ç»œé€šä¿¡çš„æ‹“æ‰‘ç»“æ„ï¼Œä¼šå¼•å…¥å¾ˆå¤šå•æœºç³»ç»Ÿæ²¡æœ‰çš„é—®é¢˜ï¼Œä¸ºäº†è§£å†³è¿™äº›é—®é¢˜åˆä¼šå¼•å…¥æ›´å¤šçš„æœºåˆ¶ã€åè®®ï¼Œå¸¦æ¥æ›´å¤šçš„é—®é¢˜ã€‚ã€‚ã€‚</p> 
<p>éšç€äº’è”ç½‘çš„å‘å±•ï¼Œç½‘ç«™åº”ç”¨çš„è§„æ¨¡ä¸æ–­æ‰©å¤§ï¼Œå¸¸è§„çš„å‚ç›´åº”ç”¨æ¶æ„å·²æ— æ³•åº”å¯¹ï¼Œåˆ†å¸ƒå¼æœåŠ¡æ¶æ„ä»¥åŠæµåŠ¨è®¡ç®—æ¶æ„åŠ¿åœ¨å¿…è¡Œï¼Œæ€¥éœ€ä¸€ä¸ªæ²»ç†ç³»ç»Ÿç¡®ä¿æ¶æ„æœ‰æ¡ä¸ç´Šçš„æ¼”è¿›ã€‚</p> 
<p><img src="https://images2.imgbox.com/de/79/Nauxenc0_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="_5655"></a>åˆ†å¸ƒå¼æœåŠ¡æ¶æ„</h4> 
<p>å½“å‚ç›´åº”ç”¨è¶Šæ¥è¶Šå¤šï¼Œåº”ç”¨ä¹‹é—´äº¤äº’ä¸å¯é¿å…ï¼Œå°†æ ¸å¿ƒä¸šåŠ¡æŠ½å–å‡ºæ¥ï¼Œä½œä¸ºç‹¬ç«‹çš„æœåŠ¡ï¼Œé€æ¸å½¢æˆç¨³å®šçš„æœåŠ¡ä¸­å¿ƒï¼Œä½¿å‰ç«¯åº”ç”¨èƒ½æ›´å¿«é€Ÿçš„å“åº”å¤šå˜çš„å¸‚åœºéœ€æ±‚ã€‚æ­¤æ—¶ï¼Œç”¨äºæé«˜ä¸šåŠ¡å¤ç”¨åŠæ•´åˆçš„åˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶(RPC)æ˜¯å…³é”®ã€‚</p> 
<p><img src="https://images2.imgbox.com/1d/1e/RLt0h0j3_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="RPC_5665"></a>ä»€ä¹ˆæ˜¯RPC</h3> 
<p>RPCã€Remote Procedure Callã€‘æ˜¯æŒ‡è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼Œæ˜¯ä¸€ç§è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ï¼Œä»–æ˜¯ä¸€ç§æŠ€æœ¯çš„æ€æƒ³ï¼Œè€Œä¸æ˜¯è§„èŒƒã€‚å®ƒå…è®¸ç¨‹åºè°ƒç”¨å¦ä¸€ä¸ªåœ°å€ç©ºé—´ï¼ˆé€šå¸¸æ˜¯å…±äº«ç½‘ç»œçš„å¦ä¸€å°æœºå™¨ä¸Šï¼‰çš„è¿‡ç¨‹æˆ–å‡½æ•°ï¼Œè€Œä¸ç”¨ç¨‹åºå‘˜æ˜¾å¼ç¼–ç è¿™ä¸ªè¿œç¨‹è°ƒç”¨çš„ç»†èŠ‚ã€‚å³ç¨‹åºå‘˜æ— è®ºæ˜¯è°ƒç”¨æœ¬åœ°çš„è¿˜æ˜¯è¿œç¨‹çš„å‡½æ•°ï¼Œæœ¬è´¨ä¸Šç¼–å†™çš„è°ƒç”¨ä»£ç åŸºæœ¬ç›¸åŒã€‚</p> 
<p>ä¹Ÿå°±æ˜¯è¯´ä¸¤å°æœåŠ¡å™¨Aï¼ŒBï¼Œä¸€ä¸ªåº”ç”¨éƒ¨ç½²åœ¨AæœåŠ¡å™¨ä¸Šï¼Œæƒ³è¦è°ƒç”¨BæœåŠ¡å™¨ä¸Šåº”ç”¨æä¾›çš„å‡½æ•°/æ–¹æ³•ï¼Œç”±äºä¸åœ¨ä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨ï¼Œéœ€è¦é€šè¿‡ç½‘ç»œæ¥è¡¨è¾¾è°ƒç”¨çš„è¯­ä¹‰å’Œä¼ è¾¾è°ƒç”¨çš„æ•°æ®ã€‚ä¸ºä»€ä¹ˆè¦ç”¨RPCå‘¢ï¼Ÿå°±æ˜¯æ— æ³•åœ¨ä¸€ä¸ªè¿›ç¨‹å†…ï¼Œç”šè‡³ä¸€ä¸ªè®¡ç®—æœºå†…é€šè¿‡æœ¬åœ°è°ƒç”¨çš„æ–¹å¼å®Œæˆçš„éœ€æ±‚ï¼Œæ¯”å¦‚ä¸åŒçš„ç³»ç»Ÿé—´çš„é€šè®¯ï¼Œç”šè‡³ä¸åŒçš„ç»„ç»‡é—´çš„é€šè®¯ï¼Œç”±äºè®¡ç®—èƒ½åŠ›éœ€è¦æ¨ªå‘æ‰©å±•ï¼Œéœ€è¦åœ¨å¤šå°æœºå™¨ç»„æˆçš„é›†ç¾¤ä¸Šéƒ¨ç½²åº”ç”¨ã€‚RPCå°±æ˜¯è¦åƒè°ƒç”¨æœ¬åœ°çš„å‡½æ•°ä¸€æ ·å»è°ƒè¿œç¨‹å‡½æ•°ï¼›</p> 
<p>æ¨èé˜…è¯»æ–‡ç« ï¼šhttps://www.jianshu.com/p/2accc2840a1b</p> 
<p><strong>RPCåŸºæœ¬åŸç†</strong></p> 
<p><img src="https://images2.imgbox.com/0e/d1/j4lxXUbk_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><strong>æ­¥éª¤è§£æï¼š</strong></p> 
<p><img src="https://images2.imgbox.com/ff/6c/CysZyS7S_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>RPCä¸¤ä¸ªæ ¸å¿ƒæ¨¡å—ï¼šé€šè®¯ï¼Œåºåˆ—åŒ–ã€‚</p> 
<h3><a id="_5687"></a>æµ‹è¯•ç¯å¢ƒæ­å»º</h3> 
<h4><a id="Zookeeper_5691"></a>Zookeeper</h4> 
<p>ZooKeeperæ˜¯ä¸€ä¸ª<strong>åˆ†å¸ƒå¼çš„ï¼Œå¼€æ”¾æºç çš„åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºåè°ƒæœåŠ¡</strong>ï¼Œæ˜¯Googleçš„Chubbyä¸€ä¸ªå¼€æºçš„å®ç°ï¼Œæ˜¯Hadoopå’ŒHbaseçš„é‡è¦ç»„ä»¶ã€‚å®ƒæ˜¯ä¸€ä¸ªä¸ºåˆ†å¸ƒå¼åº”ç”¨æä¾›ä¸€è‡´æ€§æœåŠ¡çš„è½¯ä»¶ï¼Œæä¾›çš„åŠŸèƒ½åŒ…æ‹¬ï¼šé…ç½®ç»´æŠ¤ã€åŸŸåæœåŠ¡ã€åˆ†å¸ƒå¼åŒæ­¥ã€ç»„æœåŠ¡ç­‰ã€‚</p> 
<p>ä¸‹è½½Zookeeperï¼šhttps://mirrors.tuna.tsinghua.edu.cn/apache/zookeeper/<br> é€‰æ‹©<code>apache-zookeeper-x.x.x-bin.tar.gz</code>ä¸‹è½½ï¼Œå¸¦<code>x.x.x-bin</code>çš„æ˜¯å·²ç¼–è¯‘çš„ï¼Œå¦ä¸€ä¸ªè¿è¡Œä¼šæŠ¥é”™ã€‚</p> 
<p>è¿è¡Œ<code>/bin/zkServer.cmd</code> ï¼Œåˆæ¬¡è¿è¡Œä¼šæŠ¥é”™ï¼Œæ²¡æœ‰<code>zoo.cfg</code>é…ç½®æ–‡ä»¶ï¼›</p> 
<p>å¯èƒ½é‡åˆ°é—®é¢˜ï¼šé—ªé€€ !</p> 
<p>è§£å†³æ–¹æ¡ˆï¼šç¼–è¾‘<code>zkServer.cmd</code>æ–‡ä»¶æœ«å°¾æ·»åŠ <code>pause</code> ã€‚è¿™æ ·è¿è¡Œå‡ºé”™å°±ä¸ä¼šé€€å‡ºï¼Œä¼šæç¤ºé”™è¯¯ä¿¡æ¯ï¼Œæ–¹ä¾¿æ‰¾åˆ°åŸå› ã€‚</p> 
<p><img src="https://images2.imgbox.com/87/d8/oRyxXa9R_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><img src="https://images2.imgbox.com/09/6a/Iok8dFTl_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><strong>åˆ›å»º<code>zoo.cfg</code>é…ç½®æ–‡ä»¶</strong></p> 
<p>å°†confæ–‡ä»¶å¤¹ä¸‹é¢çš„zoo_sample.cfgå¤åˆ¶ä¸€ä»½æ”¹åä¸ºzoo.cfgå³å¯ã€‚</p> 
<p>æ³¨æ„å‡ ä¸ªé‡è¦ä½ç½®ï¼š</p> 
<ul><li>dataDir=./ ä¸´æ—¶æ•°æ®å­˜å‚¨çš„ç›®å½•ï¼ˆå¯å†™ç›¸å¯¹è·¯å¾„ï¼‰</li><li>clientPort=2181 zookeeperçš„ç«¯å£å·</li></ul> 
<p>ä¿®æ”¹å®Œæˆåå†æ¬¡å¯åŠ¨zookeeper</p> 
<p><strong>ä½¿ç”¨<code>zkCli.cmd</code>æµ‹è¯•</strong></p> 
<ul><li><code>ls /</code>ï¼šåˆ—å‡ºzookeeperæ ¹ä¸‹ä¿å­˜çš„æ‰€æœ‰èŠ‚ç‚¹</li><li><code>create â€“e /kuangshen 123</code>ï¼šåˆ›å»ºä¸€ä¸ªkuangshenèŠ‚ç‚¹ï¼Œå€¼ä¸º123</li><li><code>get /kuangshen</code>ï¼šè·å–/kuangshenèŠ‚ç‚¹çš„å€¼</li></ul> 
<h4><a id="Dubbo_5729"></a>Dubbo</h4> 
<p>Apache Dubbo |ËˆdÊŒbÉ™ÊŠ| æ˜¯ä¸€æ¬¾é«˜æ€§èƒ½ã€è½»é‡çº§çš„å¼€æºJava RPCæ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼šé¢å‘æ¥å£çš„è¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼Œæ™ºèƒ½å®¹é”™å’Œè´Ÿè½½å‡è¡¡ï¼Œä»¥åŠæœåŠ¡è‡ªåŠ¨æ³¨å†Œå’Œå‘ç°ã€‚</p> 
<p>dubboå®˜ç½‘ http://dubbo.apache.org/zh-cn/index.html</p> 
<p><img src="https://images2.imgbox.com/c8/cf/1ateEUg5_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><code>æœåŠ¡æä¾›è€…ï¼ˆProviderï¼‰</code>ï¼šæš´éœ²æœåŠ¡çš„æœåŠ¡æä¾›æ–¹ï¼ŒæœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±æä¾›çš„æœåŠ¡ã€‚</p> 
<p><code>æœåŠ¡æ¶ˆè´¹è€…ï¼ˆConsumerï¼‰</code>ï¼šè°ƒç”¨è¿œç¨‹æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹æ–¹ï¼ŒæœåŠ¡æ¶ˆè´¹è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒè®¢é˜…è‡ªå·±æ‰€éœ€çš„æœåŠ¡ï¼ŒæœåŠ¡æ¶ˆè´¹è€…ï¼Œä»æä¾›è€…åœ°å€åˆ—è¡¨ä¸­ï¼ŒåŸºäºè½¯è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œé€‰ä¸€å°æä¾›è€…è¿›è¡Œè°ƒç”¨ï¼Œå¦‚æœè°ƒç”¨å¤±è´¥ï¼Œå†é€‰å¦ä¸€å°è°ƒç”¨ã€‚</p> 
<p><code>æ³¨å†Œä¸­å¿ƒï¼ˆRegistryï¼‰</code>ï¼šæ³¨å†Œä¸­å¿ƒè¿”å›æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ç»™æ¶ˆè´¹è€…ï¼Œå¦‚æœæœ‰å˜æ›´ï¼Œæ³¨å†Œä¸­å¿ƒå°†åŸºäºé•¿è¿æ¥æ¨é€å˜æ›´æ•°æ®ç»™æ¶ˆè´¹è€…</p> 
<p><code>ç›‘æ§ä¸­å¿ƒï¼ˆMonitorï¼‰</code>ï¼šæœåŠ¡æ¶ˆè´¹è€…å’Œæä¾›è€…ï¼Œåœ¨å†…å­˜ä¸­ç´¯è®¡è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´ï¼Œå®šæ—¶æ¯åˆ†é’Ÿå‘é€ä¸€æ¬¡ç»Ÿè®¡æ•°æ®åˆ°ç›‘æ§ä¸­å¿ƒ</p> 
<p><strong>è°ƒç”¨å…³ç³»è¯´æ˜</strong></p> 
<ul><li>æœåŠ¡å®¹å™¨è´Ÿè´£å¯åŠ¨ï¼ŒåŠ è½½ï¼Œè¿è¡ŒæœåŠ¡æä¾›è€…ã€‚</li><li>æœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±æä¾›çš„æœåŠ¡ã€‚</li><li>æœåŠ¡æ¶ˆè´¹è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒè®¢é˜…è‡ªå·±æ‰€éœ€çš„æœåŠ¡ã€‚</li><li>æ³¨å†Œä¸­å¿ƒè¿”å›æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ç»™æ¶ˆè´¹è€…ï¼Œå¦‚æœæœ‰å˜æ›´ï¼Œæ³¨å†Œä¸­å¿ƒå°†åŸºäºé•¿è¿æ¥æ¨é€å˜æ›´æ•°æ®ç»™æ¶ˆè´¹è€…ã€‚</li><li>æœåŠ¡æ¶ˆè´¹è€…ï¼Œä»æä¾›è€…åœ°å€åˆ—è¡¨ä¸­ï¼ŒåŸºäºè½¯è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œé€‰ä¸€å°æä¾›è€…è¿›è¡Œè°ƒç”¨ï¼Œå¦‚æœè°ƒç”¨å¤±è´¥ï¼Œå†é€‰å¦ä¸€å°è°ƒç”¨ã€‚</li><li>æœåŠ¡æ¶ˆè´¹è€…å’Œæä¾›è€…ï¼Œåœ¨å†…å­˜ä¸­ç´¯è®¡è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´ï¼Œå®šæ—¶æ¯åˆ†é’Ÿå‘é€ä¸€æ¬¡ç»Ÿè®¡æ•°æ®åˆ°ç›‘æ§ä¸­å¿ƒã€‚</li></ul> 
<h5><a id="windowdubboadmin_5758"></a>windowä¸‹å®‰è£…dubbo-admin</h5> 
<p>dubboæœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ªæœåŠ¡è½¯ä»¶ã€‚å®ƒå…¶å®å°±æ˜¯ä¸€ä¸ªjaråŒ…ï¼Œèƒ½å¤Ÿå¸®ä½ çš„javaç¨‹åºè¿æ¥åˆ°zookeeperï¼Œå¹¶åˆ©ç”¨zookeeperæ¶ˆè´¹ã€æä¾›æœåŠ¡ã€‚</p> 
<p>ä½†æ˜¯ä¸ºäº†è®©ç”¨æˆ·æ›´å¥½çš„ç®¡ç†ç›‘æ§ä¼—å¤šçš„dubboæœåŠ¡ï¼Œå®˜æ–¹æä¾›äº†ä¸€ä¸ªå¯è§†åŒ–çš„ç›‘æ§ç¨‹åºdubbo-adminï¼Œä¸è¿‡è¿™ä¸ªç›‘æ§å³ä½¿ä¸è£…ä¹Ÿä¸å½±å“ä½¿ç”¨ã€‚</p> 
<p><strong>ä¸‹è½½åœ°å€</strong>ï¼šhttps://github.com/apache/dubbo-admin/tree/master</p> 
<p>ä¸‹è½½è¿™ä¸ª</p> 
<p><img src="https://images2.imgbox.com/a1/08/SJ2Vi7ZI_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><strong>è§£å‹è¿›å…¥ç›®å½•</strong><br> ä¿®æ”¹ dubbo-admin\src\main\resources \application.properties æŒ‡å®šzookeeperåœ°å€</p> 
<pre><code class="prism language-xml">server.port=7001
spring.velocity.cache=false
spring.velocity.charset=UTF-8
spring.velocity.layout-url=/templates/default.vm
spring.messages.fallback-to-system-locale=false
spring.messages.basename=i18n/message
spring.root.password=root
spring.guest.password=guest

dubbo.registry.address=zookeeper://127.0.0.1:2181
12345678910
</code></pre> 
<p><strong>åœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰“åŒ…dubbo-admin</strong></p> 
<p>å³ï¼š<code>xxxx\xxx\dubbo-admin-master-0.2.0</code>ç›®å½•ä¸‹ï¼Œåœ¨å‰é¢åŠ  cmd å†åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œç„¶åè¾“å…¥ä¸‹é¢è¿™ä¸ª</p> 
<pre><code class="prism language-xml">mvn clean package -Dmaven.test.skip=true
1
</code></pre> 
<p><strong>æ‰§è¡Œ dubbo-admin\target ä¸‹çš„dubbo-admin-0.0.1-SNAPSHOT.jar</strong></p> 
<pre><code class="prism language-xml">java -jar dubbo-admin-0.0.1-SNAPSHOT.jar
1
</code></pre> 
<p><strong>æ³¨æ„ï¼šæ‰§è¡ŒjaråŒ…å‰è¦å…ˆæ‰§è¡Œzookeeperçš„æœåŠ¡ç«¯</strong></p> 
<p>æ‰§è¡Œå®Œæ¯•ï¼Œæˆ‘ä»¬å»è®¿é—®ä¸€ä¸‹ <code>http://localhost:7001/</code> ï¼Œ è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦è¾“å…¥ç™»å½•è´¦æˆ·å’Œå¯†ç ï¼Œæˆ‘ä»¬éƒ½æ˜¯é»˜è®¤çš„root-rootï¼›</p> 
<p>ç™»å½•æˆåŠŸåï¼ŒæŸ¥çœ‹ç•Œé¢<br> <img src="https://images2.imgbox.com/37/3c/e025i7NS_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="SpringBoot_Dubbo__zookeeper_5815"></a>SpringBoot æ•´åˆDubbo + zookeeper</h3> 
<p>å…ˆåˆ›å»ºä¸€ä¸ªç©ºé¡¹ç›®ï¼Œç„¶ååˆ›å»ºä¸¤ä¸ªmodule<code>æœåŠ¡æä¾›è€…</code>å’Œ<code>ä¸€ä¸ªæœåŠ¡æ¶ˆè´¹è€…</code> åˆ†åˆ«ä¸ºï¼š</p> 
<p><code>provider-server</code></p> 
<p><code>consumer-server</code></p> 
<p>1.å¯¼åŒ…ï¼Œä¸¤ä¸ªæ¨¡å—çš„åŒ…éƒ½æ˜¯ä¸€æ ·çš„</p> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!--dubbo--&gt;</span>
<span class="token comment">&lt;!-- Dubbo Spring Boot Starter --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.dubbo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>dubbo-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.7.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--zookeeper--&gt;</span>
<span class="token comment">&lt;!-- https://mvnrepository.com/artifact/com.github.sgroschupf/zkclient --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.github.sgroschupf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>zkclient<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- å¼•å…¥zookeeper --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.curator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>curator-framework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.12.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.curator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>curator-recipes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.12.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.4.14<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
   <span class="token comment">&lt;!--æ’é™¤è¿™ä¸ªslf4j-log4j12--&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>slf4j-log4j12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>2.æœåŠ¡æä¾›è€…ï¼š<code>provider-server</code></p> 
<p>ç¼–å†™æ¥å£</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>kuang<span class="token punctuation">.</span>provider<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">TicketService</span> <span class="token punctuation">{<!-- --></span>
   <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token number">12345</span>
</code></pre> 
<p>ç¼–å†™å®ç°ç±»</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>dubbo<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span> <span class="token comment">//å°†æœåŠ¡å‘å¸ƒå‡ºå»</span>
<span class="token annotation punctuation">@Component</span> <span class="token comment">//æ”¾åœ¨å®¹å™¨ä¸­</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TicketServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">TicketService</span> <span class="token punctuation">{<!-- --></span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token keyword">return</span> <span class="token string">"ã€Šç‹‚ç¥è¯´Javaã€‹"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>é€»è¾‘ç†è§£ ï¼šåº”ç”¨å¯åŠ¨èµ·æ¥ï¼Œdubboå°±ä¼šæ‰«ææŒ‡å®šçš„åŒ…ä¸‹å¸¦æœ‰@componentæ³¨è§£çš„æœåŠ¡ï¼Œå°†å®ƒå‘å¸ƒåœ¨æŒ‡å®šçš„æ³¨å†Œä¸­å¿ƒä¸­ï¼</strong></p> 
<p>åœ¨springbooté…ç½®æ–‡ä»¶ä¸­é…ç½®dubboç›¸å…³å±æ€§ï¼</p> 
<pre><code class="prism language-xml">server.port=8001
#å½“å‰åº”ç”¨åå­—
dubbo.application.name=provider-server
#æ³¨å†Œä¸­å¿ƒåœ°å€
dubbo.registry.address=zookeeper://127.0.0.1:2181
#æ‰«ææŒ‡å®šåŒ…ä¸‹æœåŠ¡
dubbo.scan.base-packages=com.edu.service
</code></pre> 
<p>3.<code>æœåŠ¡æ¶ˆè´¹è€…ï¼šconsumer-server</code></p> 
<p>æ¶ˆè´¹è€…çš„æœåŠ¡ç±»</p> 
<p>æ³¨æ„ï¼šè¦å°†``provider-server<code>ä¸­çš„TicketServiceæ¥å£ï¼Œå¤åˆ¶ä¸€ä»½åˆ°</code>consumer-server`çš„serviceåŒ…ä¸‹</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>dubbo<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Reference</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * @author javaå°å¢©å¢©
 * @version 1.0
 */</span>
<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Reference</span> <span class="token comment">//è¿œç¨‹å¼•ç”¨æŒ‡å®šçš„æœåŠ¡ï¼Œä»–ä¼šæŒ‰ç…§å…¨ç±»åè¿›è¡ŒåŒ¹é…ï¼Œçœ‹è°ç»™æ³¨å†Œä¸­å¿ƒæ³¨å†Œäº†è¿™ä¸ªå…¨ç±»å</span>
    <span class="token class-name">TicketService</span> ticketService<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">bugTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> ticket <span class="token operator">=</span> ticketService<span class="token punctuation">.</span><span class="token function">getTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åœ¨æ³¨å†Œä¸­å¿ƒä¹°åˆ°"</span><span class="token operator">+</span>ticket<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>é…ç½®å‚æ•°</p> 
<pre><code class="prism language-xml">server.port=8002
#å½“å‰åº”ç”¨åå­—
dubbo.application.name=consumer-server
#æ³¨å†Œä¸­å¿ƒåœ°å€
dubbo.registry.address=zookeeper://127.0.0.1:2181
</code></pre> 
<p>æœ¬æ¥æ­£å¸¸æ­¥éª¤æ˜¯éœ€è¦å°†æœåŠ¡æä¾›è€…çš„æ¥å£æ‰“åŒ…ï¼Œç„¶åç”¨pomæ–‡ä»¶å¯¼å…¥ï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨ç®€å•çš„æ–¹å¼ï¼Œç›´æ¥å°†æœåŠ¡çš„æ¥å£æ‹¿è¿‡æ¥ï¼Œè·¯å¾„å¿…é¡»ä¿è¯æ­£ç¡®ï¼Œå³å’ŒæœåŠ¡æä¾›è€…ç›¸åŒ<br> <img src="https://images2.imgbox.com/f4/b7/PUjUYqpZ_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>æµ‹è¯•ç±»ç¼–å†™</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConsumerServerApplicationTests</span> <span class="token punctuation">{<!-- --></span>

   <span class="token annotation punctuation">@Autowired</span>
   <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>

   <span class="token annotation punctuation">@Test</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

       userService<span class="token punctuation">.</span><span class="token function">bugTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>æµ‹è¯•</strong><br> 1.å¯åŠ¨zookeeperæœåŠ¡ç«¯<br> 2.è¿è¡Œdubboçš„jaråŒ…<br> 3.è¿è¡Œspringbooté¡¹ç›®ï¼ˆå¼€å¯æœåŠ¡è€…ï¼‰<br> 4.æ¶ˆè´¹è€…æ¶ˆè´¹æµ‹è¯•ï¼Œç»“æœï¼š<br> <img src="https://images2.imgbox.com/23/6b/tSokPaQN_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ç›‘æ§ä¸­å¿ƒ ï¼š<br> <img src="https://images2.imgbox.com/52/c5/T7gBZZrh_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> è¿™å°±æ˜¯<code>SpingBoot + dubbo + zookeeper</code>å®ç°åˆ†å¸ƒå¼å¼€å‘çš„åº”ç”¨ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªæœåŠ¡æ‹†åˆ†çš„æ€æƒ³ã€‚</p> 
<p><strong>é—®é¢˜ï¼š</strong><br> å¯åŠ¨springbooté¡¹ç›®åï¼ŒzookeeperæœåŠ¡ç«¯ç›´æ¥å¼ºè¿«å…³é—­è¿æ¥ã€‚<br> <img src="https://images2.imgbox.com/95/af/wJwDVEb3_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/cb/6e/Ji4mCzWr_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>è§£å†³æ–¹æ³•ï¼šï¼ˆå¯ä»¥è¯•è¯•ï¼Œä¸ä¸€å®šè§£å†³ï¼‰</p> 
<p>å¯ä»¥åœ¨ç½‘ä¸Šæ‰€æœï¼Œwindowç«¯å£å ç”¨è§£å†³æ–¹æ³•ï¼Œç„¶åè·Ÿç€æ­¥éª¤èµ°ï¼Œçœ‹çœ‹ä½ çš„ç«¯å£å·æœ‰æ²¡æœ‰è¢«å ç”¨ï¼Œå¦‚æœæœ‰å…ˆå…³é—­ï¼Œåœ¨é‡æ–°å¼€å¯å°±å¯ä»¥è§£å†³ï¼›</p> 
<p>å®Œï¼</p> 
<p>ç¨‹åºå‘˜ï¼Œä¸è¦åœä¸‹å­¦ä¹ çš„è„šæ­¥ï¼</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/248545427421206b9ad198bbcdca9875/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">2022â€œæ­ç”µæ¯â€ä¸­å›½å¤§å­¦ç”Ÿç®—æ³•è®¾è®¡è¶…çº§è”èµ›ï¼ˆ9ï¼‰</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d62378a3b85fc93def7ad5d2264b2f98/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">GameFrameworkï¼šGameFramework.dllæ›¿æ¢GFæºç </p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹é¬¼è°·å­çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>