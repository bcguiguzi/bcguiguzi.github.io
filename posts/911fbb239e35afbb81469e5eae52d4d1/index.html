<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>手把手教你在云环境炼丹（部署Stable Diffusion WebUI） - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="手把手教你在云环境炼丹（部署Stable Diffusion WebUI）" />
<meta property="og:description" content="前几天写了一篇《手把手教你在本机安装Stable Diffusion秋叶整合包》的文章，有些同学反映对硬件的要求太高，显卡太TM贵了。今天我再分享一个云服务器炼丹的方法，方便大家快速入门上手，这个云服务不需要特殊网络设置，能连接公网网盘，随开随用，有3090显卡，也有4090显卡，不过我经常使用的是A5000显卡。本文非广告推广，只分享使用方法，不喜跳过。
闲话不多说，下面就正式开始了。
注册登陆 注册方式一
手机号直接注册，打开这个链接：www.autodl.com/register，很简单就不多说了。
注册方式二
为什么还有两种方式？测试的时候发现验证码发不出去，官方说这两天验证码通道有点问题，有时发不出去。具体原因就不知道了，做个备选吧。
在它的登陆页面，点击“微信登陆”按钮，用微信扫一扫，在微信打开的页面中，点击“关注公众号”，关注成功后，AutoDL的网页会自动跳转，要求绑定手机号，这个验证码却能收到，感觉有点奇怪。
开服务器 注册成功之后，就可以登录了，登陆成功之后会进入一个管理界面。
之前听说注册用户还送10块钱，现在应该没有了，现在是会送30天的炼丹会员，单价上有些折扣，正常情况下这个折扣需要消费达到500元才会有。
没有钱就开不了服务器，所以我们要先充点钱进去。
充值 鼠标划到管理界面右上角的这个账户名称上，在弹出的窗口中点击“充值”。
在“充值”页面中，选择“其它金额”，我这里充值5块，你可以试试更小的金额能不能开机。每次少冲点也可以避免忘了关机导致被扣钱心疼的问题。
付款方式按照自己的情况选择就行了，具体支付流程大家都应该很熟练了，这里就不演示了。
租用实例 在管理界面的右上角点击“控制台”。
然后在左侧菜单中点击“容器实例”，在打开的页面中点击“租用新实例”。
在“创建实例”的页面，按照下图的顺序设置。
计费方式：一开始体验选择“按量计费”就可以了。选择地区：大家都推荐内蒙A区，据说网络比较稳定，我也一直用这个。GPU型号：A5000每小时 1.18，实测性能也可以。GPU数量：先选择1个，后边熟练了再根据实际情况来。选择主机：GPU型号和数量选择后，这里就会列出可用的主机，先随便选一个就行了。 下边还有一些设置。
数据盘：的免费容量是50G，如果不够需要花钱扩容，一般50G也够了。
镜像：首先选择“社区镜像”，然后在输入框中输入“yinghuoai”，会自动弹出一个镜像，选中它就行了。这个镜像是我专门修改过的，后续也会不断优化升级，大家有问题向我反馈就行。当然也可以用别的镜像，不过后边启动SD WebUI的步骤可能有些不同，建议先按照我这个步骤跑一遍再说。
最后点击“立即创建”。
启动 现在服务器实例已经启动起来了，我们还需要2步来启动 Stable Diffusion WebUI。
本机启动 点击“快捷工具”这一列中的“JupyterLab”，如下图所示：
上边的操作会在浏览器中打开一个新的页面，JupyterLab的页面。JupyterLab 是一个Web应用程序，可以管理文件、记点东西、运行程序，功能类似于VSCode。
参照下图，执行以下2个步骤：
在页面左侧的文件管理器中双击“启动器.ipynb”；在页面右侧打开的页签中点击红框中的启动按钮。 首次启动要下载一些模型，会有点慢，大概2-3分钟。后边再启动就会跳过这些下载步骤，达到秒级。
看到下图的“Running on local URL”和“Model loaded in” 就说明启动成功了。
其中的“http://127.0.0.1:6006”就是SD WebUI的访问地址，不过这个地址只能本机访问，而这个云服务器本质上只是个容器实例，没有桌面环境，也没有浏览器可以用。当然这个问题可以解决，请继续看下文。
映射到外网 回到容器实例列表，找到刚才启动的实例，在“快捷工具”中点击“自定义服务”，如下图所示：
如果第一次使用自定义服务，它会弹出一个身份认证的提示。因为AutoDL会把SD WebUI的本机访问地址映射到外网，大家可能都听说过网站备案这件事，这里AutoDL给大家提供的外网地址用的是AutoDL自己备案过的域名的子域名，所以AutoDL要承担一定的风险，出了问题的时候它得能找到人，所以需要身份认证。
按照提示操作就行了，这里我使用个人认证进行演示。
输入姓名和身份证号，注意一个身份证只能在AutoDL上认证一次，多个账号就得用不同的身份证号来认证。
只要姓名和身份证号能对上，上边的认证就通过了。
我们再次点击“自定义服务”，这时候会弹出一个警告，意思就是不要乱搞，乱搞必被罚。我们都是好人，勾选同意服务协议，然后点击“访问”。
然后AutoDL就会在浏览器中打开一个新的页签，稍等片刻，期待已久的 SD WebUI 页面就展示出来了。
出图 为了方便大家绘画，这个镜像自带两个大模型，一个二次元，一个真实视觉。
这里以二次元模型为例，演示如何生成图片。
1、选择大模型，这里是默认的二次元模型 AnythingV5。
2、提示词，先来个简单的：a girl。
3、反向提示词：EasyNegative，这是一个嵌入式模型的代号，揉合了一些常见的反向提示词。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/911fbb239e35afbb81469e5eae52d4d1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-31T14:52:21+08:00" />
<meta property="article:modified_time" content="2023-07-31T14:52:21+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">手把手教你在云环境炼丹（部署Stable Diffusion WebUI）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="u10cb85ad">前几天写了一篇《<a href="https://mp.weixin.qq.com/s/dhklIMvkdtJygvlzUvU3xw" rel="nofollow" title="手把手教你在本机安装Stable Diffusion秋叶整合包">手把手教你在本机安装Stable Diffusion秋叶整合包</a>》的文章，有些同学反映对硬件的要求太高，显卡太TM贵了。今天我再分享一个云服务器炼丹的方法，方便大家快速入门上手，这个云服务不需要特殊网络设置，能连接公网网盘，随开随用，有3090显卡，也有4090显卡，不过我经常使用的是A5000显卡。本文非广告推广，只分享使用方法，不喜跳过。</p> 
<p id="ue1bf9c91">闲话不多说，下面就正式开始了。</p> 
<h3 id="nbVUy">注册登陆</h3> 
<p><strong>注册方式一</strong></p> 
<p>手机号直接注册，打开这个链接：<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.autodl.com%2Fregister" rel="nofollow" title="www.autodl.com/register">www.autodl.com/register</a>，很简单就不多说了。</p> 
<p><strong>注册方式二</strong></p> 
<p>为什么还有两种方式？测试的时候发现验证码发不出去，官方说这两天验证码通道有点问题，有时发不出去。具体原因就不知道了，做个备选吧。</p> 
<p>在它的登陆页面，点击“微信登陆”按钮，用微信扫一扫，在微信打开的页面中，点击“关注公众号”，关注成功后，AutoDL的网页会自动跳转，要求绑定手机号，这个验证码却能收到，感觉有点奇怪。</p> 
<p id="ucdbec619"></p> 
<h3 id="dFcXA">开服务器</h3> 
<p id="uf6ac2fb8">注册成功之后，就可以登录了，登陆成功之后会进入一个管理界面。</p> 
<p id="ua76d935e"></p> 
<p class="img-center"><img alt="" height="756" id="ucd3c1c63" src="https://images2.imgbox.com/12/dd/jtqftmef_o.png" width="1200"></p> 
<p id="u471ac5c2">之前听说注册用户还送10块钱，现在应该没有了，现在是会送30天的炼丹会员，单价上有些折扣，正常情况下这个折扣需要消费达到500元才会有。</p> 
<p id="u29bcc14e">没有钱就开不了服务器，所以我们要先充点钱进去。</p> 
<h4 id="sEtBq">充值</h4> 
<p id="ub89c81ed">鼠标划到管理界面右上角的这个账户名称上，在弹出的窗口中点击“充值”。</p> 
<p id="u29efba92"></p> 
<p class="img-center"><img alt="" height="788" id="uf2153c88" src="https://images2.imgbox.com/cd/ea/eMAQSRn9_o.png" width="862"></p> 
<p id="uc8c8ce85">在“充值”页面中，选择“其它金额”，我这里充值5块，你可以试试更小的金额能不能开机。每次少冲点也可以避免忘了关机导致被扣钱心疼的问题。</p> 
<p id="u7d9de657">付款方式按照自己的情况选择就行了，具体支付流程大家都应该很熟练了，这里就不演示了。</p> 
<p id="u181a1d82"></p> 
<p class="img-center"><img alt="" height="956" id="SdJg9" src="https://images2.imgbox.com/7a/97/eAX4TBlJ_o.png" width="1200"></p> 
<h4 id="wwIRD">租用实例</h4> 
<p id="u809a93f1">在管理界面的右上角点击“控制台”。</p> 
<p id="u91ca2971"></p> 
<p class="img-center"><img alt="" height="334" id="ucd649d6e" src="https://images2.imgbox.com/41/c3/rdqqWO7b_o.png" width="1200"></p> 
<p id="u3e53a4f4">然后在左侧菜单中点击“容器实例”，在打开的页面中点击“租用新实例”。</p> 
<p id="u20d2b31b"></p> 
<p class="img-center"><img alt="" height="472" id="u884d59e8" src="https://images2.imgbox.com/0f/6c/6gIeThQY_o.png" width="1200"></p> 
<p id="uc566c435">在“创建实例”的页面，按照下图的顺序设置。</p> 
<ul><li id="uc78eaf60">计费方式：一开始体验选择“按量计费”就可以了。</li><li id="uc0fd1fb3">选择地区：大家都推荐内蒙A区，据说网络比较稳定，我也一直用这个。</li><li id="u522347c2">GPU型号：A5000每小时 1.18，实测性能也可以。</li><li id="uf65912cd">GPU数量：先选择1个，后边熟练了再根据实际情况来。</li><li id="u88a930de">选择主机：GPU型号和数量选择后，这里就会列出可用的主机，先随便选一个就行了。</li></ul> 
<p id="u2cbe01f4"></p> 
<p class="img-center"><img alt="" height="1164" id="u3950cc89" src="https://images2.imgbox.com/aa/46/brInUTeh_o.png" width="1200"></p> 
<p id="uff67e21f">下边还有一些设置。</p> 
<p id="ua8bb1319">数据盘：的免费容量是50G，如果不够需要花钱扩容，一般50G也够了。</p> 
<p id="u234f8b5b">镜像：首先选择“社区镜像”，然后在输入框中输入“yinghuoai”，会自动弹出一个镜像，选中它就行了。这个镜像是我专门修改过的，后续也会不断优化升级，大家有问题向我反馈就行。当然也可以用别的镜像，不过后边启动SD WebUI的步骤可能有些不同，建议先按照我这个步骤跑一遍再说。</p> 
<p id="u7d1e6b21">最后点击“立即创建”。</p> 
<p id="u7baad8e4"></p> 
<p class="img-center"><img alt="" height="1152" id="ucc717c50" src="https://images2.imgbox.com/44/e1/0AfSJUGc_o.png" width="1200"></p> 
<h3 id="OIepq">启动</h3> 
<p id="u4ee839f3">现在服务器实例已经启动起来了，我们还需要2步来启动 Stable Diffusion WebUI。</p> 
<h4 id="DuCeY">本机启动</h4> 
<p id="uf1ca94fd">点击“快捷工具”这一列中的“JupyterLab”，如下图所示：</p> 
<p id="u63bf4f95"></p> 
<p class="img-center"><img alt="" height="702" id="u52a023ec" src="https://images2.imgbox.com/bc/6f/yCU6mvKo_o.png" width="1200"></p> 
<p id="u2ea29f97">上边的操作会在浏览器中打开一个新的页面，JupyterLab的页面。JupyterLab 是一个Web应用程序，可以管理文件、记点东西、运行程序，功能类似于VSCode。</p> 
<p id="u97d16ed0">参照下图，执行以下2个步骤：</p> 
<ul><li id="u5b6aac2b">在页面左侧的文件管理器中双击“启动器.ipynb”；</li><li id="u41db6e26">在页面右侧打开的页签中点击红框中的启动按钮。</li></ul> 
<p id="ud15d85b0"></p> 
<p class="img-center"><img alt="" height="908" id="u9017184b" src="https://images2.imgbox.com/c9/a3/iaFGeAnQ_o.png" width="1200"></p> 
<p id="ucd2245ea">首次启动要下载一些模型，会有点慢，大概2-3分钟。后边再启动就会跳过这些下载步骤，达到秒级。</p> 
<p id="u79353c33"></p> 
<p class="img-center"><img alt="" height="852" id="u571e4478" src="https://images2.imgbox.com/87/45/J9z4DHkM_o.png" width="1200"></p> 
<p id="u5db9acbf">看到下图的“Running on local URL”和“Model loaded in” 就说明启动成功了。</p> 
<p id="u4126cfd5">其中的“http://127.0.0.1:6006”就是SD WebUI的访问地址，不过这个地址只能本机访问，而这个云服务器本质上只是个容器实例，没有桌面环境，也没有浏览器可以用。当然这个问题可以解决，请继续看下文。</p> 
<p id="ud444e618"></p> 
<p class="img-center"><img alt="" height="450" id="ud5ca71f8" src="https://images2.imgbox.com/28/df/CfXFfZaj_o.png" width="1200"></p> 
<h4 id="XqG1d">映射到外网</h4> 
<p id="u7962bc2f">回到容器实例列表，找到刚才启动的实例，在“快捷工具”中点击“自定义服务”，如下图所示：</p> 
<p id="u2ab7129e"></p> 
<p class="img-center"><img alt="" height="714" id="u034dc1dc" src="https://images2.imgbox.com/e8/34/lxBA012H_o.png" width="1200"></p> 
<p id="u01c1417e">如果第一次使用自定义服务，它会弹出一个身份认证的提示。因为AutoDL会把SD WebUI的本机访问地址映射到外网，大家可能都听说过网站备案这件事，这里AutoDL给大家提供的外网地址用的是AutoDL自己备案过的域名的子域名，所以AutoDL要承担一定的风险，出了问题的时候它得能找到人，所以需要身份认证。</p> 
<p id="u69acb802"></p> 
<p class="img-center"><img alt="" height="988" id="ubceb62c9" src="https://images2.imgbox.com/e1/5c/4GcAUDBX_o.png" width="1200"></p> 
<p id="ue37e71c8">按照提示操作就行了，这里我使用个人认证进行演示。</p> 
<p id="u0b030a56"></p> 
<p class="img-center"><img alt="" height="298" id="udd1907e4" src="https://images2.imgbox.com/f3/2c/ppjR61Hl_o.png" width="1200"></p> 
<p id="u7d1f1a77"></p> 
<p class="img-center"><img alt="" height="446" id="ue8cf97bd" src="https://images2.imgbox.com/8c/14/q7k0vlZV_o.png" width="1200"></p> 
<p id="u692ce919">输入姓名和身份证号，注意一个身份证只能在AutoDL上认证一次，多个账号就得用不同的身份证号来认证。</p> 
<p id="ubec82a87"></p> 
<p class="img-center"><img alt="" height="926" id="u60481131" src="https://images2.imgbox.com/a1/6a/TvbuIVyM_o.png" width="1200"></p> 
<p id="ub247d454">只要姓名和身份证号能对上，上边的认证就通过了。</p> 
<p id="ua6db20a6">我们再次点击“自定义服务”，这时候会弹出一个警告，意思就是不要乱搞，乱搞必被罚。我们都是好人，勾选同意服务协议，然后点击“访问”。</p> 
<p id="u29c635d0"></p> 
<p class="img-center"><img alt="" height="784" id="u8601e0e4" src="https://images2.imgbox.com/3e/47/BAq5PvAS_o.png" width="1200"></p> 
<p id="ue0e7f421">然后AutoDL就会在浏览器中打开一个新的页签，稍等片刻，期待已久的 SD WebUI 页面就展示出来了。</p> 
<p id="u4f4bd9c4"></p> 
<p class="img-center"><img alt="" height="842" id="uf36c15c3" src="https://images2.imgbox.com/7d/ef/eVpT9uiP_o.png" width="1200"></p> 
<h3 id="RA7yi">出图</h3> 
<p id="u180c65a6">为了方便大家绘画，这个镜像自带两个大模型，一个二次元，一个真实视觉。</p> 
<p id="ud9524e59">这里以二次元模型为例，演示如何生成图片。</p> 
<p id="ub0afe798">1、选择大模型，这里是默认的二次元模型 AnythingV5。</p> 
<p id="u3d3678d7">2、提示词，先来个简单的：a girl。</p> 
<p id="u9ebe254d">3、反向提示词：EasyNegative，这是一个嵌入式模型的代号，揉合了一些常见的反向提示词。</p> 
<p id="ub91c43dd">4、点击生成。</p> 
<p id="u83310cb8">5、稍等片刻，图片就生成出来了，可以点击放大，右键保存。</p> 
<p id="u374935cc"></p> 
<p class="img-center"><img alt="" height="1200" id="u377c89f4" src="https://images2.imgbox.com/b7/ae/nwjItIkx_o.png" width="1200"></p> 
<p id="ueb7417be">更多的参数和设置，后续会有其它文章介绍，请及时关注公/众\号：萤火遛AI（yinghuo6ai）。</p> 
<p id="u1c7b72f0">这里还有一些云服务器的使用问题需要关注，请继续看下文。</p> 
<h3 id="UOExi">关机/开机</h3> 
<p id="ud67832c7">本文介绍的服务器实例计费方式是按量付费，每小时计费1次，如果暂时不用了，记得“关机”。</p> 
<p id="u64be8883">建议使用“小程序管理实例”，当你记不清楚的时候，就打开微信小程序看看，避免白白的浪费资源。</p> 
<p id="ua1a42431"></p> 
<p class="img-center"><img alt="" height="684" id="u23a7cdd8" src="https://images2.imgbox.com/53/8a/ts34yIcM_o.png" width="1200"></p> 
<p id="u01ccb7ae">关机之后再次开机可能会遇到GPU无法分配的问题，因为服务器都是共享的，你关机的时候，别人就可能继续使用这个服务器的计算资源，再次开机时可能就没有足够的显卡了。</p> 
<p id="uea56252e">这时候怎么办？别慌，有办法。</p> 
<p id="u0ac03175">在关机实例的“更多”这里，点击“克隆实例”，</p> 
<p id="u9082fe49"></p> 
<p class="img-center"><img alt="" height="1194" id="u6c7f7950" src="https://images2.imgbox.com/af/e2/dvom6qmA_o.png" width="1102"></p> 
<p id="u6d1067d6">在弹出的提示中，有两个关键的信息：1、数据盘不会自动拷贝，需要手动处理 2、每天3次克隆机会。</p> 
<p id="uc861116b"></p> 
<p class="img-center"><img alt="" height="650" id="uee020614" src="https://images2.imgbox.com/f1/93/91szOUcz_o.png" width="1200"></p> 
<p id="u4c68e8c8">点击“确定”之后的流程和创建新服务器差不多，只不过不需要选择容器镜像了。</p> 
<p id="ud65ba5b6">然后就可以在容器实例列表中看到克隆的进度：</p> 
<p id="u18cf8783"></p> 
<p class="img-center"><img alt="" height="614" id="u7cb9ee6b" src="https://images2.imgbox.com/94/b7/7AKpzXJz_o.png" width="1200"></p> 
<p id="u42eae989">新实例启动后，如果还需要数据盘的数据，我们需要在原实例的“更多”中点击“跨实例拷贝数据”：</p> 
<p id="u1e5b7df3"></p> 
<p class="img-center"><img alt="" height="990" id="u0a1a759d" src="https://images2.imgbox.com/b2/c0/LCrYy6OM_o.png" width="1200"></p> 
<p id="u01092403">在弹出的窗口中，选择“目标实例”，也就是克隆出的新实例；“源实例数据路径”填写：*，代表数据盘所有的文件。</p> 
<p id="u419b7b1c"></p> 
<p class="img-center"><img alt="" height="1160" id="uff331701" src="https://images2.imgbox.com/e1/ba/1L7328kV_o.png" width="1200"></p> 
<p id="ue1887067">等待数据拷贝完成：</p> 
<p id="u4a423bd0"></p> 
<p class="img-center"><img alt="" height="646" id="u4bcce6be" src="https://images2.imgbox.com/ea/9d/Rg0bgjvt_o.png" width="1200"></p> 
<p id="u4401c7a9">数据拷贝完毕后，就可以使用新的实例继续工作了。</p> 
<p id="ua57fdb0e">启动 SD WebUI 的方法在上边的步骤中介绍过了，这里就不重复了。</p> 
<h3 id="iJgJu">存储</h3> 
<h4 id="zW4se">文件管理</h4> 
<p id="u2c07a95f">JupyterLab自带一个文件管理器。</p> 
<ul><li id="u9c69590c">点击右上角的文件夹图标可以开启/关闭文件管理器</li><li id="u474124ad">这个文件管理器的根目录实际对应的是Linux系统的 /root 目录。</li><li id="u9c830fd4">鼠标双击文件后会在右侧的编辑器中打开。</li></ul> 
<p id="u6d1ee7cf"></p> 
<p class="img-center"><img alt="" height="892" id="u31c9493d" src="https://images2.imgbox.com/e7/60/p0iyATIy_o.png" width="862"></p> 
<p id="u7fe56d6a">对文件夹和文件的操作可以通过鼠标右键触发，可以看到这里边有很多操作，新建、复制、删除都有了，还是挺方便的。</p> 
<p id="u2e0a0bd0"></p> 
<p class="img-center"><img alt="" height="1200" id="ud10516c9" src="https://images2.imgbox.com/27/31/HHgkc0Ul_o.png" width="846"></p> 
<p id="u9edf64ba">对于服务器和本地文件的交互，我们可以通过这个文件管理器的上传、下载实现。</p> 
<p id="u9917933c"></p> 
<p class="img-center"><img alt="" height="912" id="u3e310a55" src="https://images2.imgbox.com/62/e3/CZTLF5td_o.png" width="848"></p> 
<h4 id="Sedwv">公网网盘</h4> 
<p id="uf66442c2">AutoDL系统盘是30G、数据盘是50G，如果超出就需要付费购买数据空间。虽然我们已经将各种模型搬到了数据盘中，但是大模型动辄就2-5G，所以免费的数据盘也放不下几个模型，而且我们还有各种插件和生成的文件。</p> 
<p id="u0ba69872">考虑下使用场景，对于模型，我们不会同时使用所有模型，所以可以把它们先放到别的地方，用的时候再加载进来，不怎么用的就挪到别的地方。这个别的地方可以是用户本地电脑，但是也会占用很多空间，所以很多时候就是各种网盘，比如百度网盘、阿里云盘这种。AutoDL支持的“公网网盘”就是干这件事的。</p> 
<h5 id="vVUGw">网盘授权</h5> 
<p id="ub47b7ab6">在实例列表中，找到需要下载数据的实例，点击“AutoPanel”：</p> 
<p id="u6e752369"></p> 
<p class="img-center"><img alt="" height="440" id="ubf974adc" src="https://images2.imgbox.com/b0/4e/pMhGFjdn_o.png" width="1200"></p> 
<p id="u6820cafa">在AutoPanel页面中点击“公网网盘”，这里需要设置一个密码。</p> 
<p id="ua53dda84"></p> 
<p class="img-center"><img alt="" height="1156" id="ucfdbd769" src="https://images2.imgbox.com/3d/82/GpONgW20_o.png" width="1200"></p> 
<p id="ue77f4385">设置密码之后，就可以进行网盘授权了，阿里云盘不怎么限速，所以建议优先使用它。没有阿里云盘的同学需要先去注册个账号，然后手机上安装它的APP，扫码授权。</p> 
<p id="ud4a1954d"></p> 
<p class="img-center"><img alt="" height="1090" id="u5f69b3d9" src="https://images2.imgbox.com/3e/d2/N7Z3IUib_o.png" width="1200"></p> 
<p id="ufb5c59b8">授权通过后，当前服务器就可以操作云盘了。不过这样授权之后，只有当前服务器可以访问网盘，其它服务器想要访问网盘还得重新授权。</p> 
<p id="ueae4ccfd">AutoDL提供了一个方法，把授权信息保存到一个独立的位置，新开的实例自动加载授权信息。</p> 
<p id="u99659d25">操作方法是，在已经授权的服务器这里，点击“导出授权”。</p> 
<p id="uaf833934"></p> 
<p class="img-center"><img alt="" height="800" id="u465da5d6" src="https://images2.imgbox.com/cb/17/aiSpPev3_o.png" width="1200"></p> 
<p id="ucd3f3ad2">在弹出的窗口中，点击“复制授权信息”。</p> 
<p id="u3287137d"></p> 
<p class="img-center"><img alt="" height="1200" id="uad171ec3" src="https://images2.imgbox.com/b6/cd/fXcZ8HpZ_o.png" width="1200"></p> 
<p id="ua4a7134a">然后打开AutoDL的控制台，进入“账号”-&gt;“设置”-&gt;“公网网盘”，粘贴前边复制出来的授权信息，最后点击“确定”按钮。这样新创建的实例就自动授权了，访问网盘的时候只需要输入独立密码就行了。</p> 
<p id="u7a1b202a"></p> 
<p class="img-center"><img alt="" height="1140" id="u1158ab00" src="https://images2.imgbox.com/f4/f2/ctzeMwLY_o.png" width="1200"></p> 
<h5 id="xzgHW">下载文件</h5> 
<p id="u13588a34">在授权过的公网网盘这里，找到你要下载到本地的文件，点击“下载”按钮。</p> 
<p id="u205cebfb"></p> 
<p class="img-center"><img alt="" height="656" id="u67b19e68" src="https://images2.imgbox.com/6e/31/v3R9uq14_o.png" width="1200"></p> 
<p id="u48c298cf">确认下载文件的位置，这里不能修改，知道就行了，点击“确定”开始下载。</p> 
<p id="u93364562"></p> 
<p class="img-center"><img alt="" height="592" id="u6715b37f" src="https://images2.imgbox.com/88/f1/J322PNyn_o.png" width="1200"></p> 
<p id="ua8e63c78">下载完毕后，进入到 JupyterLab 中，进入“autodl-tmp”文件夹，可以看到我们下载的文件。</p> 
<p id="uae47d95e"></p> 
<p class="img-center"><img alt="" height="564" id="ue30dc4bc" src="https://images2.imgbox.com/d9/a9/KVW5oHr2_o.png" width="1200"></p> 
<p id="u2509b865">如果你需要把文件移动到别的目录，在目标文件上点击右键，在弹出的菜单中点击“剪切”。</p> 
<p id="uf39b0ed9"></p> 
<p class="img-center"><img alt="" height="1010" id="u4f1f41b8" src="https://images2.imgbox.com/a2/b6/DcrRjLqW_o.png" width="896"></p> 
<p id="u78d9b5ae">然后通过文件管理器进入到目标路径，在空白的地方点击“粘贴”，稍等片刻，文件就移动过来了。</p> 
<p id="u4d632d30"></p> 
<p class="img-center"><img alt="" height="748" id="u460290e4" src="https://images2.imgbox.com/47/3f/dsKfaMMB_o.png" width="844"></p> 
<h5 id="GzUuP">上传文件</h5> 
<p id="u8049999a">在“AutoPanel”的“公网网盘”页面中，点击“上传”，会弹出一个“上传文件”的页面，页面上方可以切换路径，页面下方会展示路径下的文件列表，找到想要上传的文件，点击文件后边的“上传”。</p> 
<p id="ua61d7f51">单个文件和文件夹都可以上传，但是文件夹下超过100个文件时需要先压缩再上传。可以连续发起多个上传任务，它们会排队执行。</p> 
<p id="ue0f77d97"></p> 
<p class="img-center"><img alt="" height="892" id="u324f7cca" src="https://images2.imgbox.com/b0/c2/qlUYDxmT_o.png" width="1200"></p> 
<h4 id="EHIBw">文件存储</h4> 
<p id="u39a7ae66">这部分内容因为需要用户手动开启，然后做一些技术处理，操作门槛比较高，如果搞不懂也没关系，不影响正常使用。</p> 
<p id="ua034b90d">AutoDL本身提供了一个名为“文件存储”的功能，可以在多个服务器实例中共享，它类似于公网网盘，但是我们能够在服务器中直接访问它，所以它比公网网盘更方便一些。</p> 
<p id="u4647d00e"></p> 
<p class="img-center"><img alt="" height="1200" id="u5ab976f8" src="https://images2.imgbox.com/c3/95/YMufNifS_o.png" width="1200"></p> 
<p id="ue1cd52b3">点击“初始化文件存储”之后，我们可以看到下边这个界面。可以上传、下载文件，有点可惜的是这个免费空间只有20G，如果超出20G，超出的空间会被计费，目前每G每天1分钱。</p> 
<p id="ub8ad0d8d"></p> 
<p class="img-center"><img alt="" height="830" id="ub27c6183" src="https://images2.imgbox.com/62/a7/qrvu5Cyk_o.png" width="1200"></p> 
<p id="u5b95ad27">开启文件存储后，我们可以在服务器的文件系统中看到这个文件夹，挂载的就是上边创建的“文件存储”。如果服务器是“文件存储”初始化之后创建的，需要把服务器实例先关机再开机，才能成功挂载。</p> 
<p id="u851be554"></p> 
<p class="img-center"><img alt="" height="526" id="u3821fd31" src="https://images2.imgbox.com/2c/28/tBsSdyng_o.png" width="898"></p> 
<p id="u76be3d06">“文件存储”的本质是一种网络存储，它的好处是三副本存储，数据不容易丢失，但是相比服务器本地的“系统盘”和“数据盘”，访问速度会慢一些。</p> 
<p id="u180696f0">如果你对磁盘性能要求不高，可以把SD WebUI的部分路径改到这个下边，比如生成图片的输出路径，一些小模型等等。</p> 
<p id="u437724d2"><strong>更换图片输出路径的方法</strong>：</p> 
<p id="ua00e5742">（1）启动一个可以执行命令的终端。</p> 
<p id="u95b94619">点击 JupyterLab 中的这个加号，打开一个新的 Launcher。</p> 
<p id="u80b46f75"></p> 
<p class="img-center"><img alt="" height="484" id="u42881138" src="https://images2.imgbox.com/e6/3b/xEQDj96V_o.png" width="1200"></p> 
<p id="uf63229d1">在 Launcher 页面中点击“终端”。</p> 
<p id="uaa6fa364"></p> 
<p class="img-center"><img alt="" height="1200" id="uee2c460d" src="https://images2.imgbox.com/90/64/aynD6y0E_o.png" width="1200"></p> 
<p id="uc342a726">（2）在终端执行更换路径的命令。</p> 
<ul><li id="u56ac7a2d">先在“文件存储”中创建一个目录，用来保存SD生成的图片；</li><li id="ue627633c">然后把 SD WebUI 的文件输出目录删除；</li><li id="uefe94de9">最后创建一个 SD WebUI 输出目录到“文件存储”中新建目录的软链接。</li></ul> 
<p id="u4e716ba8">这样 SD WebUI 保存文件时就自动保存到了“文件存储”中。</p> 
<pre id="cnCf6"><code>mkdir /root/autodl-fs/webui_outputs
rm -Rf /root/stable-diffusion-webui/outputs
ln -s /root/autodl-fs/webui_outputs /root/stable-diffusion-webui/outputs</code></pre> 
<p id="u1c8f1a4c"><strong>更换模型保存路径的方法</strong>：</p> 
<p id="ucb41826e">这个简单点，修改下启动命令就行了，如果使用的是 yinghuoai 的镜像，直接修改下边这个文件：</p> 
<p id="u771ee501"></p> 
<p class="img-center"><img alt="" height="756" id="ua37db1e2" src="https://images2.imgbox.com/33/b9/XxfIlte5_o.png" width="1200"></p> 
<p id="uef593c5f">这个命令中有几个 --xxx-dir 的参数，就是各种模型的路径，按照需要替换就行。</p> 
<p id="u3ba1861c">更改完毕之后，不要忘了在 JupyterLab 中重新启动，就是点那个两个箭头的按钮。</p> 
<hr id="KhKcV"> 
<p id="u51037d9a">OK，以上就是本文的主要内容了，如有问题，欢迎给我反馈。</p> 
<p id="u3d016b35">我会经常分享一些AI方面的前沿知识和应用实例，请关注公/众\号：萤火遛AI（yinghuo6ai），以免错误精彩内容。</p> 
<p id="u01a9b216"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d6b270d59cb832b5ee6e7ced6659da3e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Vue3的runtime-core模块的原理讲解及功能解读</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0036681302e3c97786ca9f705b7daf53/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Java设计模式003】原型模式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>