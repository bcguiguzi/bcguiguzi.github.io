<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>BIP0032 描述分层确定性钱包 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="BIP0032 描述分层确定性钱包" />
<meta property="og:description" content=" BIP0032描述了分层确定性钱包（HD wallet） 动机： 为了解决传统非确定性钱包每当一批私钥用完后必须重新生成一批私钥并且及时备份的问题。 一.Key的派生： 1.Extended keys（可扩展密钥）： 这里定义了从父key派生子key的函数。为了防止派生过程完全依赖key本身，分别给私钥和公钥延伸出256位的熵，称之为链码（chain code）。 可扩展的私钥：(k, c)，k为普通私钥，c为链码。 可扩展的公钥：(K, c)，K为普通公钥，c为链码。 每个可扩展密钥拥有2的31次个正常子钥和2的31次个强化（hardened）子钥。每个子钥都有一个索引，正常子钥的索引从0到2^31-1，强化子钥从2^31到2^32-1。简化表示：i&#39;即i &#43; 2^31。 2.子钥派生函数（Child key derivation (CKD) functions） 给出一个可扩展密钥和索引i，可以计算出相应的子可扩展密钥。这个算法取决于子钥是否是强化的（即i是否大于等于2^31），以及是在计算私钥还是公钥。 Private parent key → private child key Public parent key → public child key Private parent key → public child key Public parent key → private child key 这个是不行的。 3.密钥树 标识符m/x/y/z描述的是⼦密钥m/x/y的第z个⼦密钥。 4.序列化数据格式： 可扩展公钥/私钥的序列化数据格式如下，共78bytes： 以上内容可以机行base58check编码，生成的字符多大112个字符，主网上会以“xprv”或“xpub”开头，testnet上的“tprv”或“tpub”开始。 5.master key的生成 master key不是直接生成的，而是由种子来生成。 即 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/bbb796ba1030aefcc4bf56ed3fd1357a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-03-06T12:21:00+08:00" />
<meta property="article:modified_time" content="2018-03-06T12:21:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">BIP0032 描述分层确定性钱包</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;color:rgb(57,57,57);">BIP0032描述了分层确定性钱包（HD wallet）</span> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <br> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;">动机：</span> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;">为了解决传统非确定性钱包每当一批私钥用完后必须重新生成一批私钥并且及时备份的问题。</span> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <br> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;">一.Key的派生：</span> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:17px;color:rgb(36,41,46);">1.Extended keys（可扩展密钥）：</span> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:17px;color:rgb(36,41,46);">这里定义了从父key派生子key的函数。为了防止派生过程完全依赖key本身，分别给私钥和公钥延伸出256位的熵，称之为链码（chain code）。</span> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;color:rgb(36,41,46);">可扩展的私钥：(k, c)，k为普通私钥，c为链码。</span> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;color:rgb(36,41,46);">可扩展的公钥：(K, c)，K为普通公钥，c为链码。</span> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;color:rgb(36,41,46);">每个可扩展密钥拥有2的31次个正常子钥和2的31次个强化（hardened）子钥。每个子钥都有一个索引，正常子钥的索引从0到2^31-1，强化子钥从2^31到2^32-1。简化表示：i'即i + 2^31。</span> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;">2.子钥派生函数（Child key derivation (CKD) functions）</span> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;">给出一个可扩展密钥和索引i，可以计算出相应的子可扩展密钥。这个算法取决于子钥是否是强化的（即i是否大于等于2^31），以及是在计算私钥还是公钥。</span> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;">Private parent key → private child key</span> 
</div> 
<div style="text-align:left;float:none;"></div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;">Public parent key → public child key</span> 
</div> 
<div style="text-align:left;float:none;"></div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;">Private parent key → public child key</span> 
</div> 
<div style="text-align:left;float:none;"></div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;">Public parent key → private child key</span> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;">这个是不行的。</span> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;">3.密钥树</span> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;">标识符m/x/y/z描述的是⼦密钥m/x/y的第z个⼦密钥。</span> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;">4.序列化数据格式：</span> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;">可扩展公钥/私钥的序列化数据格式如下，共78bytes：</span> 
</div> 
<div style="text-align:left;float:none;"></div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;">以上内容可以机行base58check编码，生成的字符多大112个字符，主网上会以“xprv”或“xpub”开头，testnet上的“tprv”或“tpub”开始。</span> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;">5.master key的生成</span> 
</div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;">master key不是直接生成的，而是由种子来生成。</span> 
</div> 
<div style="text-align:left;float:none;"></div> 
<div style="white-space:pre-wrap;text-align:left;line-height:1.75;font-size:14px;"> 
 <span style="font-size:18px;">即</span> 
</div> 
<div style="text-align:left;float:none;"></div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/efa238605da66d4d1ec9f615ad4a3042/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">mysql安装过程中start service失败问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d0dc6b42648a21f81b0e71975771e411/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">PKI和CA 介绍</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>