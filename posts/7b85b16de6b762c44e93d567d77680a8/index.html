<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux下与windows下的换行符 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux下与windows下的换行符" />
<meta property="og:description" content="回车符号和换行符号产生背景
关于“回车”（carriage return）和“换行”（line feed）这两个概念的来历和区别。
在计算机还没有出现之前，有一种叫做电传打字机（Teletype Model 33）的玩意，每秒钟可以打10个字符。但是它有一个问题，就是打完一行换行的时候，要用去0.2秒，正好可以打两个字符。要是在这0.2秒里面，又有新的字符传过来，那么这个字符将丢失。
于是，研制人员想了个办法解决这个问题，就是在每行后面加两个表示结束的字符。一个叫做“回车”，告诉打字机把打印头定位在左边界；另一个叫做“换行”，告诉打字机把纸向下移一行。
这就是“换行”和“回车”的来历，从它们的英语名字上也可以看出一二。
后来，计算机发明了，这两个概念也就被般到了计算机上。那时，存储器很贵，一些科学家认为在每行结尾加两个字符太浪费了，加一个就可以。于是，就出现了分歧。
Unix系统里，每行结尾只有“&lt;换行&gt;”，即“\n”；Windows系统里面，每行结尾是“ &lt;回车&gt;&lt;换行&gt;”，即“\r\n”；Mac系统里，每行结尾是“&lt;回车&gt;”。一个直接后果是，Unix/Mac系统下的文件在Windows里打开的话，所有文字会变成一行；而Windows里的文件在Unix/Mac下打开的话，在每行的结尾可能会多出一个^M符号
windows创建的文件是 \n\r结束的， 而linux，mac这种unix类系统是\n结束的。
所以unix的文本到windows会出现换行丢失（ultraedit这种软件可以正确识别）； 而反过来就会出现^M的符号了
Windows等操作系统用的文本换行符和UNIX/Linux操作系统用的不同，Windows系统下输入的换行符在UNIX/Linux下不会显示为“换行”，而是显示为 ^M 这个符号（这是Linux等系统下规定的特殊标记，占一个字符大小，不是 ^ 和 M 的组合，打印不出来的）。Linux下很多文本编辑器（命令行）会在显示这个标记之后，补上一个自己的换行符，以避免内容混乱（只是用于显示，补充的换行符不会写入文件，有专门的命令将Windows换行符替换为Linux换行符）。 UNIX/Linux系统下的换行符在Windows系统的文本编辑器中会被忽略，整个文本会乱成一团。
windows换行是\r\n，十六进制数值是：0D0A。
LINUX换行是\n，十六进制数值是：0A
所以在linux保存的文件在windows上用记事本看的话会出现黑点，我们可以在LINUX下用命令把linux的文件格式转换成win格式的。
unix2dos 是把linux文件格式转换成windows文件格式
dos2unix 是把windows格式转换成linux文件格式。
linux下删除windows换行符^M
OJ判题时发现一个问题：用%c读入的代码都会报wa。后来发现跟scanf有关。在linux下使用%c会读到\n和\r两个字符。所以需要将^M（也就是\r）字符删掉
删除方法不少。找了一个比较简单的。
要将a.txt里的^M去掉并写入b.txt，则使用如下指令cat a.txt | tr -d &#34;^M&#34; &gt; b.txt
注意：语句中的^M是通过ctrl&#43;V, ctrl&#43;M输入的。特指/r字符
unix 下换行符只有: \r Dos 下换行符有：\r\n 具体的， \r的ascii 码是：14 \n的ascii 码是：10" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/7b85b16de6b762c44e93d567d77680a8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2011-07-26T12:53:23+08:00" />
<meta property="article:modified_time" content="2011-07-26T12:53:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux下与windows下的换行符</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="TEXT-INDENT: 2em;">回车符号和换行符号产生背景</p> 
<p style="TEXT-INDENT: 2em;"> 关于“回车”（carriage return）和“换行”（line feed）这两个概念的来历和区别。<br>在计算机还没有出现之前，有一种叫做电传打字机（Teletype Model 33）的玩意，每秒钟可以打10个字符。但是它有一个问题，就是打完一行换行的时候，要用去0.2秒，正好可以打两个字符。要是在这0.2秒里面，又有新的字符传过来，那么这个字符将丢失。<br>     于是，研制人员想了个办法解决这个问题，就是在每行后面加两个表示结束的字符。一个叫做“回车”，告诉打字机把打印头定位在左边界；另一个叫做“换行”，告诉打字机把纸向下移一行。<br>这就是“换行”和“回车”的来历，从它们的英语名字上也可以看出一二。<br>      后来，计算机发明了，这两个概念也就被般到了计算机上。那时，存储器很贵，一些科学家认为在每行结尾加两个字符太浪费了，加一个就可以。于是，就出现了分歧。<br>Unix系统里，每行结尾只有“&lt;换行&gt;”，即“\n”；Windows系统里面，每行结尾是“ &lt;回车&gt;&lt;换行&gt;”，即“\r\n”；Mac系统里，每行结尾是“&lt;回车&gt;”。一个直接后果是，Unix/Mac系统下的文件在Windows里打开的话，所有文字会变成一行；而Windows里的文件在Unix/Mac下打开的话，在每行的结尾可能会多出一个^M符号</p> 
<p style="TEXT-INDENT: 2em;">windows创建的文件是 \n\r结束的， 而linux，mac这种unix类系统是\n结束的。</p> 
<p style="TEXT-INDENT: 2em;">所以unix的文本到windows会出现换行丢失（ultraedit这种软件可以正确识别）； 而反过来就会出现^M的符号了</p> 
<p style="TEXT-INDENT: 2em;">Windows等操作系统用的文本换行符和UNIX/Linux操作系统用的不同，Windows系统下输入的换行符在UNIX/Linux下不会显示为“换行”，而是显示为 ^M 这个符号（这是Linux等系统下规定的特殊标记，占一个字符大小，不是 ^ 和 M 的组合，打印不出来的）。Linux下很多文本编辑器（命令行）会在显示这个标记之后，补上一个自己的换行符，以避免内容混乱（只是用于显示，补充的换行符不会写入文件，有专门的命令将Windows换行符替换为Linux换行符）。 UNIX/Linux系统下的换行符在Windows系统的文本编辑器中会被忽略，整个文本会乱成一团。</p> 
<p style="TEXT-INDENT: 2em;"> </p> 
<p style="TEXT-INDENT: 2em;">windows换行是\r\n，十六进制数值是：0D0A。<br>LINUX换行是\n，十六进制数值是：0A<br>所以在linux保存的文件在windows上用记事本看的话会出现黑点，我们可以在LINUX下用命令把linux的文件格式转换成win格式的。<br>unix2dos 是把linux文件格式转换成windows文件格式<br>dos2unix 是把windows格式转换成linux文件格式。</p> 
<p style="TEXT-INDENT: 2em;"> </p> 
<p style="TEXT-INDENT: 2em;">linux下删除windows换行符^M</p> 
<p style="TEXT-INDENT: 2em;">OJ判题时发现一个问题：用%c读入的代码都会报wa。后来发现跟scanf有关。在linux下使用%c会读到\n和\r两个字符。所以需要将^M（也就是\r）字符删掉<br>删除方法不少。找了一个比较简单的。<br>要将a.txt里的^M去掉并写入b.txt，则使用如下指令cat a.txt | tr -d "^M" &gt; b.txt<br>注意：语句中的^M是通过ctrl+V, ctrl+M输入的。特指/r字符</p> 
<p style="TEXT-INDENT: 2em;">unix   下换行符只有:   \r <br>Dos   下换行符有：\r\n <br>具体的，   \r的ascii   码是：14 <br>                 \n的ascii   码是：10</p> 
<br>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/663f5759ae86ebbffe0752c17eed5c37/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">VC&#43;&#43; 项目设置中的【生成后事件】设置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ddf3b41f5ef4df88aa9281202f0220df/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Weblogic在Linux下启动特别慢的解决方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>