<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>教你在阿里云Linux CentOS7环境下前后端分离开发项目部署 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="教你在阿里云Linux CentOS7环境下前后端分离开发项目部署" />
<meta property="og:description" content="前后端分离开发项目部署 环境一、前后端不分离部署1、前端项目运行`npm run build`命令进行打包2、打包完成之后在项目目录下会生成一个名为：dist 的文件夹!3、把 dist 文件下的东西全部复制到后端项目 static 文件夹下4、后端项目编译打包5、把生成的`jar`上传你的服务器6、这是已经启动成功了，在你的浏览器访问测试 二、使用 Nginx 前后端分离部署1、上传编译后的项目至服务器2、配置nginx3、重启nginx并测试 环境 前端开发工具：WebStorm vue&#43;element
后端开发工具：IDEA spring boot
部署环境：阿里云Linux CentOS7
一、前后端不分离部署 1、前端项目运行npm run build命令进行打包 npm run build 打包命令回运行一段时间，请等待！
2、打包完成之后在项目目录下会生成一个名为：dist 的文件夹! dist 文件夹就是前端编译打包后的文件！
3、把 dist 文件下的东西全部复制到后端项目 static 文件夹下 4、后端项目编译打包 在编译打包之前一定要检查application.yml配置文件数据库配置的端口号是否正确：
由于我这里用的阿里云服务器，所以我这里写的是阿里云的公网IP地址；
现在进项后端打包：
IDEA右侧选择Maven,打开主项目点击Lifecycle下的package进行编译打包
打包完成之后在你的项目目录下会生成一个target文件夹，此文件夹就是你编译打包过后生成的jar所在目录
5、把生成的jar上传你的服务器 上传工具有很多我这里用的Xshell
我把文件上传到了/home/soonDeploy文件夹下
mkdir soonDeploy 创建一个叫做 &#39;soonDeploy&#39; 的目录&#39; 启动jar：
nohup java -jar 你的jar名 &amp; 比如我的：
nohup java -jar soon-web-0.0.1-SNAPSHOT.jar &amp; 当然我这里并没有输出日志文件，如果有需要可以自己输出一下
6、这是已经启动成功了，在你的浏览器访问测试 你的IP:8081/index.html 在这里我的后端项目端口是8081，你要写你自己的端口号 在阿里云部署的小伙伴在第一次访问的时候有可能会失败，这是因为你没有在你的安全规则组里面配置此端口，配置规则组方法如下：
添加你自己的端口" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/384915c89f075ebc338fb0119f2b638f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-03-15T17:36:05+08:00" />
<meta property="article:modified_time" content="2020-03-15T17:36:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">教你在阿里云Linux CentOS7环境下前后端分离开发项目部署</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>前后端分离开发项目部署</h4> 
 <ul><li><a href="#_1" rel="nofollow">环境</a></li><li><ul><li><a href="#_5" rel="nofollow">一、前后端不分离部署</a></li><li><ul><li><ul><li><a href="#1npm_run_build_6" rel="nofollow">1、前端项目运行`npm run build`命令进行打包</a></li><li><a href="#2dist__12" rel="nofollow">2、打包完成之后在项目目录下会生成一个名为：dist 的文件夹!</a></li><li><a href="#3_dist__static__16" rel="nofollow">3、把 dist 文件下的东西全部复制到后端项目 static 文件夹下</a></li><li><a href="#4_18" rel="nofollow">4、后端项目编译打包</a></li><li><a href="#5jar_26" rel="nofollow">5、把生成的`jar`上传你的服务器</a></li><li><a href="#6_43" rel="nofollow">6、这是已经启动成功了，在你的浏览器访问测试</a></li></ul> 
   </li></ul> 
   </li><li><a href="#_Nginx__54" rel="nofollow">二、使用 Nginx 前后端分离部署</a></li><li><ul><li><ul><li><a href="#1_55" rel="nofollow">1、上传编译后的项目至服务器</a></li><li><a href="#2nginx_62" rel="nofollow">2、配置nginx</a></li><li><a href="#3nginx_118" rel="nofollow">3、重启nginx并测试</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>环境</h2> 
<p>前端开发工具：WebStorm <code>vue+element</code><br> 后端开发工具：IDEA <code>spring boot</code><br> 部署环境：阿里云Linux CentOS7</p> 
<h3><a id="_5"></a>一、前后端不分离部署</h3> 
<h5><a id="1npm_run_build_6"></a>1、前端项目运行<code>npm run build</code>命令进行打包</h5> 
<pre><code>npm run build
</code></pre> 
<p><img src="https://images2.imgbox.com/19/d9/3EhXmGxD_o.png" alt="在这里插入图片描述"><br> 打包命令回运行一段时间，请等待！</p> 
<h5><a id="2dist__12"></a>2、打包完成之后在项目目录下会生成一个名为：dist 的文件夹!</h5> 
<p><img src="https://images2.imgbox.com/24/4c/eUUHQXOH_o.png" alt="在这里插入图片描述"><br> <strong>dist</strong> 文件夹就是前端编译打包后的文件！</p> 
<h5><a id="3_dist__static__16"></a>3、把 dist 文件下的东西全部复制到后端项目 static 文件夹下</h5> 
<p><img src="https://images2.imgbox.com/5b/df/VZcRyQvX_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="4_18"></a>4、后端项目编译打包</h5> 
<p>在编译打包之前一定要检查<code>application.yml</code>配置文件数据库配置的端口号是否正确：<br> <strong>由于我这里用的阿里云服务器，所以我这里写的是阿里云的公网IP地址；</strong><br> <img src="https://images2.imgbox.com/91/e8/9hkdLwDX_o.png" alt="在这里插入图片描述"><br> <strong>现在进项后端打包：</strong><br> IDEA右侧选择<code>Maven</code>,打开主项目点击<code>Lifecycle</code>下的<code>package</code>进行编译打包<img src="https://images2.imgbox.com/13/3f/bhfPKjZm_o.png" alt="在这里插入图片描述"><br> 打包完成之后在你的项目目录下会生成一个<code>target</code>文件夹，此文件夹就是你编译打包过后生成的<code>jar</code>所在目录<br> <img src="https://images2.imgbox.com/5d/fb/To57fiNd_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="5jar_26"></a>5、把生成的<code>jar</code>上传你的服务器</h5> 
<p>上传工具有很多我这里用的<code>Xshell</code><br> 我把文件上传到了<code>/home/soonDeploy</code>文件夹下</p> 
<pre><code>mkdir soonDeploy      创建一个叫做 'soonDeploy' 的目录' 
</code></pre> 
<p>启动jar：</p> 
<pre><code>nohup java -jar 你的jar名 &amp;
</code></pre> 
<p>比如我的：</p> 
<pre><code>nohup java -jar soon-web-0.0.1-SNAPSHOT.jar &amp;
</code></pre> 
<p>当然我这里并没有输出日志文件，如果有需要可以自己输出一下</p> 
<h5><a id="6_43"></a>6、这是已经启动成功了，在你的浏览器访问测试</h5> 
<pre><code>你的IP:8081/index.html    在这里我的后端项目端口是8081，你要写你自己的端口号
</code></pre> 
<p><img src="https://images2.imgbox.com/fb/1d/zpuVaJGZ_o.png" alt="在这里插入图片描述"><br> 在阿里云部署的小伙伴在第一次访问的时候有可能会失败，这是因为你没有在你的<code>安全规则组</code>里面配置此端口，配置规则组方法如下：<br> <strong>添加你自己的端口</strong><br> <img src="https://images2.imgbox.com/c1/f1/HWtqxLmT_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/aa/ce/0Os0OLEa_o.png" alt="在这里插入图片描述"><br> 这次再次访问就可以访问成功了！</p> 
<h3><a id="_Nginx__54"></a>二、使用 Nginx 前后端分离部署</h3> 
<h5><a id="1_55"></a>1、上传编译后的项目至服务器</h5> 
<p>由于在第一部分的是时候已经介绍过编译打包，这里就不过多介绍了。<br> 直接上传整个<code>dist</code>文件夹至服务器<br> 我的上传路径：<code>/home/soonDeploy/soon_vue</code><br> <img src="https://images2.imgbox.com/7f/a5/qCPGm813_o.png" alt="在这里插入图片描述"><br> 同时在编译打包一个不带前端静态资源的文件上传至服务器并且启动：<br> <strong>请参考第一部分文章的第5小节</strong></p> 
<h5><a id="2nginx_62"></a>2、配置nginx</h5> 
<p>首先你要安装了nginx，我的nginx安装目录</p> 
<pre><code>/usr/local/nginx
</code></pre> 
<p>编辑 nginx.conf 文件</p> 
<pre><code>cd /usr/local/nginx/conf
vi nginx.conf
</code></pre> 
<p>添加如下信息：<br> <img src="https://images2.imgbox.com/c3/57/rXZLkMlQ_o.png" alt="在这里插入图片描述"><br> 下面是我的文件，请不要赋值整个文件，选择你需要的赋值</p> 
<pre><code>worker_processes  1;
events {
    worker_connections  1024;
}
http {
    include       mime.types;
    default_type  application/octet-stream;
    sendfile        on;
    keepalive_timeout  65;
    
    upstream soon{
        server 127.0.0.1:8081;
    }
    
    server {
        listen       80;
        server_name  localhost;
        location / {
            proxy_pass http://soon;  #此处为转发至上面定义的soon
            proxy_redirect default;
            #root   html;
            #index  index.html index.htm;
        }
        #当在浏览器
        location ~.*\.(js|css|ico|png|jpg|eot|svg|ttf|woff|html){
         #所有静态资源直接读取硬盘
                root /home/soonDeploy/dist/;  #此处路径为你的前端编译打包上传的路径
   			    expires 30d; #缓存30天
        }
        location ~/group([0-9]) {
            ngx_fastdfs_module;
        }
        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    }
}

</code></pre> 
<h5><a id="3nginx_118"></a>3、重启nginx并测试</h5> 
<p>重启nginx命令：</p> 
<pre><code>/usr/local/nginx/sbin/nginx -s reload
</code></pre> 
<p>在浏览器直接访问:</p> 
<pre><code>IP:index.html
</code></pre> 
<p>因为这次访问的是80端口，浏览器默认的就是80端口所以不用添加</p> 
<p>在nginx监听到你访问了80端口之后会把请求转发到你上面定义的<code>soon</code>上</p> 
<p>到此两种布置方法都已经完成了， 你的成功了嘛？如果未成功请参考下面链接：<br> <a href="https://mp.weixin.qq.com/s?__biz=MzI1NDY0MTkzNQ==&amp;mid=2247487614&amp;idx=1&amp;sn=e91704ed5edc065b4078e9477d563b86&amp;scene=21#wechat_redirect" rel="nofollow">前后端分离开发项目部署</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/17cc3b28162d8d137ca4a1eb606040eb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Hexo博客框架攻略</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4b58d1af55f894bdc7cbd2c4622e7090/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">关于siazeof(a)、strlen(a)、a.length()、a.size()</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>