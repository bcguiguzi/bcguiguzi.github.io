<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ECharts设置x轴刻度间隔的两种方法 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ECharts设置x轴刻度间隔的两种方法" />
<meta property="og:description" content="ECharts设置x轴刻度文字间隔的两种方法 背景 最近在写一个echarts数据看板，要在一个页面中展示多张图表，所以留给每张图表的尺寸就很小。这也就使得图表x轴的刻度文字全部挤到一起了，废话不多说，直接上图看效果。
右边的图标就是x轴刻度标签文字被挤到一起了，左边是该过之后的效果。
解决方法 想要达到上面图片中左边的效果方法不止一种。
最笨的方法 如果空间够的话直接将echart所在的div层尺寸设置得大一些，grid对象也同理，只要展示的空间足够宽，刻度标签自然就不会挤到一起。开个玩笑哈，能找到这类文章的，都是需要在有限的空间里解决间隔的问题
方法一: x轴的标签属性axisLabel下利用interval设置间隔
官方文档是这样说的：
通过设置interval的值，来达到按指定间隔显示或者不显示，或者使用回调函数，回调函数返回的布尔值决定指定索引的标签是否显示。这也是网上能找到的最普遍的答案，可惜没能解决我的问题。
官方文档上写的是在类目轴中有效，而我的x数据轴类型是“time”。所以只能再想其他方法
方法二： 为axisLabel. formatters添加回调函数改变标签文字
formatters属性是用来设置文字格式的，既然可以用来设置文字格式，那我把需要隐藏的文字改为空字符串不就行了。
思路一通代码就简单了，先看看回调函数怎么用
官方文档上说函数有两个参数，一个是索引一个是值。注意，这里的索引并不是我们x轴数据的索引，而是图标刻度的索引。举个例子，我的数据集是每秒钟电表的读数，那么一个小时就是3600条，如果是数据集索引的话就应该是0到3599，实际上，我们从没看到过一个数据轴上有那么多刻度。
我们图表数据轴的标签数量是echarts在渲染的时候自动生成的，但是数量还真不好说而且即便是同一个图表不同时间也不一样，一般也就十来个。
来看一下我写的回调函数：
// 通过formatter设置时间刻度间隔 function time_label_formatter(value,index) { // console.info(index); let remainder = index % 3; if (remainder == 0) { return &#34;{HH}:{mm}&#34;; } else{ return &#34;&#34;; } } 我的时间类型数据在赋值给配置项数据集之前已经做过数据清洗，本身就是Date类型，所以没有在函数内再做数据转换
我先把所有的标签索引打印出来，发现是0到16，那么按照间隔设置为3或者4就好了。思路就是这样，看到这里的朋友可以根据自己的实际情况调整一个间隔数就可以了。
最后看一下配置项series参数：
xAxis:[ { type:&#34;time&#34;, gridIndex:0, axisLabel： { rotate:-45, formatter:time_label_formatter }, }, { type:&#34;time&#34;, gridIndex:1, axisLabel: { rotate:-45, formatter:time_label_formatter } } ], 先自我介绍一下，小编13年上师交大毕业，曾经在小公司待过，去过华为OPPO等大厂，18年进入阿里，直到现在。深知大多数初中级java工程师，想要升技能，往往是需要自己摸索成长或是报班学习，但对于培训机构动则近万元的学费，着实压力不小。自己不成体系的自学效率很低又漫长，而且容易碰到天花板技术停止不前。因此我收集了一份《java开发全套学习资料》送给大家，初衷也很简单，就是希望帮助到想自学又不知道该从何学起的朋友，同时减轻大家的负担。添加下方名片，即可获取全套学习资料哦" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/809533678bdf5f71da063e2d7904f250/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-01T13:40:49+08:00" />
<meta property="article:modified_time" content="2022-08-01T13:40:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ECharts设置x轴刻度间隔的两种方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="EChartsx_2"></a>ECharts设置x轴刻度文字间隔的两种方法</h2> 
<h3><a id="_5"></a>背景</h3> 
<p>最近在写一个echarts数据看板，要在一个页面中展示多张图表，所以留给每张图表的尺寸就很小。这也就使得图表x轴的刻度文字全部挤到一起了，废话不多说，直接上图看效果。<br> <img src="https://images2.imgbox.com/c0/e0/I5FEXicy_o.png" alt="在这里插入图片描述"><br> 右边的图标就是x轴刻度标签文字被挤到一起了，左边是该过之后的效果。</p> 
<h3><a id="_12"></a>解决方法</h3> 
<p>想要达到上面图片中左边的效果方法不止一种。<br> <strong>最笨的方法</strong> 如果空间够的话直接将echart所在的div层尺寸设置得大一些，grid对象也同理，只要展示的空间足够宽，刻度标签自然就不会挤到一起。开个玩笑哈，能找到这类文章的，都是需要在有限的空间里解决间隔的问题</p> 
<p><strong>方法一:</strong> x轴的标签属性axisLabel下利用interval设置间隔<br> 官方文档是这样说的：<br> <img src="https://images2.imgbox.com/8d/ff/4KDDX17E_o.png" alt="在这里插入图片描述"><br> 通过设置interval的值，来达到按指定间隔显示或者不显示，或者使用回调函数，回调函数返回的布尔值决定指定索引的标签是否显示。这也是网上能找到的最普遍的答案，可惜没能解决我的问题。</p> 
<p>官方文档上写的是在类目轴中有效，而我的x数据轴类型是“time”。所以只能再想其他方法</p> 
<p><strong>方法二：</strong> 为axisLabel. formatters添加回调函数改变标签文字<br> <img src="https://images2.imgbox.com/d6/0e/7wRvRzC4_o.png" alt="在这里插入图片描述"><br> formatters属性是用来设置文字格式的，既然可以用来设置文字格式，那我把需要隐藏的文字改为空字符串不就行了。<br> 思路一通代码就简单了，先看看回调函数怎么用<br> <img src="https://images2.imgbox.com/e2/d3/VgvLZuTI_o.png" alt="在这里插入图片描述"><br> 官方文档上说函数有两个参数，一个是索引一个是值。注意，这里的索引并不是我们x轴数据的索引，而是图标刻度的索引。举个例子，我的数据集是每秒钟电表的读数，那么一个小时就是3600条，如果是数据集索引的话就应该是0到3599，实际上，我们从没看到过一个数据轴上有那么多刻度。<br> 我们图表数据轴的标签数量是echarts在渲染的时候自动生成的，但是数量还真不好说而且即便是同一个图表不同时间也不一样，一般也就十来个。<br> 来看一下我写的回调函数：</p> 
<pre><code>// 通过formatter设置时间刻度间隔
function time_label_formatter(value,index) {
    // console.info(index);
    let remainder = index % 3;
    if (remainder == 0) {
        return "{HH}:{mm}";
    }
    else{
        return "";
    }
}
</code></pre> 
<p>我的时间类型数据在赋值给配置项数据集之前已经做过数据清洗，本身就是Date类型，所以没有在函数内再做数据转换</p> 
<p>我先把所有的标签索引打印出来，发现是0到16，那么按照间隔设置为3或者4就好了。思路就是这样，看到这里的朋友可以根据自己的实际情况调整一个间隔数就可以了。</p> 
<p>最后看一下配置项series参数：</p> 
<pre><code>xAxis:[
	{
		type:"time",
		gridIndex:0,
		axisLabel：
			{
				rotate:-45,
				formatter:time_label_formatter
			},
	},
	{
		type:"time",
		gridIndex:1,
		axisLabel:
			{
				rotate:-45,
				formatter:time_label_formatter
			}
	}
],
</code></pre> 
<p>先自我介绍一下，小编13年上师交大毕业，曾经在小公司待过，去过华为OPPO等大厂，18年进入阿里，直到现在。深知大多数初中级java工程师，想要升技能，往往是需要自己摸索成长或是报班学习，但对于培训机构动则近万元的学费，着实压力不小。自己不成体系的自学效率很低又漫长，而且容易碰到天花板技术停止不前。因此我收集了一份《java开发全套学习资料》送给大家，初衷也很简单，就是希望帮助到想自学又不知道该从何学起的朋友，同时减轻大家的负担。添加下方名片，即可获取全套学习资料哦</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/410f76b044e8bad2ba1331373c78dcb0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">还在纠结报表工具的选型么？来看看这个</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/11324ca557e6c60cecb0aeccffa443b0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">H5跳转微信公众号解决方案</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>