<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>牛客SQL大厂面试真题 知识点总结 （二） - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="牛客SQL大厂面试真题 知识点总结 （二）" />
<meta property="og:description" content="目录
前言：
1.窗口函数与聚合函数 1.1窗口函数 1.1.1 窗口函数的作用及常见的窗口函数
1.2 聚合函数
1.2.1聚合函数常见的作用
1.3窗口函数与聚合函数的关系 ：
2.常见的窗口函数（与聚合函数相结合）
2.1常见的与聚合函数结合的窗口函数 2.2sum()over
2.2.1sum()over()用法解析:
2.2.2具体案例:
2.3avg()over()
2.3.1avg()over()用法解析:AVG() OVER() 是 SQL 中用于进行窗口函数计算的语法，允许在结果集的每一行上计算指定列的累积平均值。
2.3.2具体案例:
2.4min()over和max()over()
2.4.1min()over()和max()over()用法解析:
2.4.2具体案例 ：
结尾致谢：
前言： 当面对牛客SQL大厂面试真题，我们需要对SQL的各种知识点有全面的了解和掌握。这些知识点涵盖了SQL的各个方面 ，在面试中，能够熟练运用这些知识点，并且能够根据实际业务场景进行灵活应用，将会极大地提升我们的竞争力。
通过对这些知识点的系统总结和学习，我们将能够更加深入和全面地理解SQL，为未来在面试和实际工作中的应用打下坚实的基础。让我们一起努力，掌握SQL的精髓，展现出我们的技术实力和解决问题的能力！
1.窗口函数与聚合函数 窗口函数和聚合函数在数据库中常常一起使用，它们之间有一定的关系，但也有明显的区别
1.1窗口函数 1.1.1 窗口函数的作用及常见的窗口函数 窗口函数是一种特殊的SQL函数，可以用来对查询结果集中的某个子集进行计算。
窗口函数可以用来计算每一行与其相关联的行的聚合值，而不是整个结果集的聚合值。
窗口函数通常与OVER子句一起使用，以定义窗口的范围和排序方式。通过窗口的定义，可以灵活地控制窗口函数的计算范围。
一些常见的窗口函数包括ROW_NUMBER、RANK、DENSE_RANK、SUM、AVG等。
1.2 聚合函数 1.2.1聚合函数常见的作用 聚合函数是对数据集进行计算并返回单个值的函数，如SUM、AVG、COUNT等。
聚合函数通常用于对整个结果集进行计算，返回一个汇总值。
聚合函数会将结果集中的多行数据合并为一个值，例如计算总和、平均值、最大值、最小值等。
聚合函数通常与GROUP BY子句一起使用，用于按照指定的列对数据进行分组计算。
1.3窗口函数与聚合函数的关系 ： 窗口函数可以在聚合函数内部使用，用于对聚合函数的结果进行进一步的处理或筛选。
在某些情况下，窗口函数和聚合函数可以实现类似的功能，但窗口函数更加灵活，可以提供更多的操作方式。
在实际使用中，可以根据需求选择使用窗口函数、聚合函数或它们的组合来实现所需的数据处理和分析操作。
2.常见的窗口函数（与聚合函数相结合） 2.1常见的与聚合函数结合的窗口函数 sum() over() min()over() avg()over() max()over()
2.2sum()over
2.2.1sum()over()用法解析: 当使用SUM() OVER()时，可以计算指定列的累积总和。
2.2.2具体案例: 假设我们有一个名为 sales 的表，包含销售数据，其中包括商品名称、销售日期和销售额。我们想要计算每个销售日期的销售额累积总和。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/d657dbeb2ef28bb03319b727e33aab20/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-04T09:36:16+08:00" />
<meta property="article:modified_time" content="2024-03-04T09:36:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">牛客SQL大厂面试真题 知识点总结 （二）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E5%89%8D%E8%A8%80%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E5%89%8D%E8%A8%80%EF%BC%9A" rel="nofollow">前言：</a></p> 
<p id="1.%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%E4%B8%8E%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%C2%A0-toc" style="margin-left:80px;"><a href="#1.%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%E4%B8%8E%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%C2%A0" rel="nofollow">1.窗口函数与聚合函数 </a></p> 
<p id="1.1%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%C2%A0-toc" style="margin-left:120px;"><a href="#1.1%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%C2%A0" rel="nofollow">1.1窗口函数 </a></p> 
<p id="1.1.1%20%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8%E5%8F%8A%E5%B8%B8%E8%A7%81%E7%9A%84%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-toc" style="margin-left:160px;"><a href="#1.1.1%20%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8%E5%8F%8A%E5%B8%B8%E8%A7%81%E7%9A%84%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0" rel="nofollow">1.1.1 窗口函数的作用及常见的窗口函数</a></p> 
<p id="1.2%20%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0-toc" style="margin-left:120px;"><a href="#1.2%20%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0" rel="nofollow">1.2 聚合函数</a></p> 
<p id="1.2.1%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E5%B8%B8%E8%A7%81%E7%9A%84%E4%BD%9C%E7%94%A8-toc" style="margin-left:160px;"><a href="#1.2.1%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E5%B8%B8%E8%A7%81%E7%9A%84%E4%BD%9C%E7%94%A8" rel="nofollow">1.2.1聚合函数常见的作用</a></p> 
<p id="1.3%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%E4%B8%8E%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E7%9A%84%E5%85%B3%E7%B3%BB%20%EF%BC%9A-toc" style="margin-left:120px;"><a href="#1.3%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%E4%B8%8E%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E7%9A%84%E5%85%B3%E7%B3%BB%20%EF%BC%9A" rel="nofollow">1.3窗口函数与聚合函数的关系 ：</a></p> 
<p id="2.%E5%B8%B8%E8%A7%81%E7%9A%84%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%EF%BC%88%E4%B8%8E%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E7%9B%B8%E7%BB%93%E5%90%88%EF%BC%89-toc" style="margin-left:80px;"><a href="#2.%E5%B8%B8%E8%A7%81%E7%9A%84%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%EF%BC%88%E4%B8%8E%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E7%9B%B8%E7%BB%93%E5%90%88%EF%BC%89" rel="nofollow">2.常见的窗口函数（与聚合函数相结合）</a></p> 
<p id="2.1%E5%B8%B8%E8%A7%81%E7%9A%84%E4%B8%8E%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E7%BB%93%E5%90%88%E7%9A%84%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%C2%A0-toc" style="margin-left:120px;"><a href="#2.1%E5%B8%B8%E8%A7%81%E7%9A%84%E4%B8%8E%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E7%BB%93%E5%90%88%E7%9A%84%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%C2%A0" rel="nofollow">2.1常见的与聚合函数结合的窗口函数 </a></p> 
<p id="2.2sum()over-toc" style="margin-left:120px;"><a href="#2.2sum%28%29over" rel="nofollow">2.2sum()over</a></p> 
<p id="2.2.1sum()over()%E7%94%A8%E6%B3%95%E8%A7%A3%E6%9E%90%3A-toc" style="margin-left:160px;"><a href="#2.2.1sum%28%29over%28%29%E7%94%A8%E6%B3%95%E8%A7%A3%E6%9E%90%3A" rel="nofollow">2.2.1sum()over()用法解析:</a></p> 
<p id="2.2.2%E5%85%B7%E4%BD%93%E6%A1%88%E4%BE%8B%3A-toc" style="margin-left:160px;"><a href="#2.2.2%E5%85%B7%E4%BD%93%E6%A1%88%E4%BE%8B%3A" rel="nofollow">2.2.2具体案例:</a></p> 
<p id="2.3avg()over()2.3.1avg()over%E7%94%A8%E6%B3%95%E8%A7%A3%E6%9E%90%3AAVG()%20OVER()%20%E6%98%AF%20SQL%20%E4%B8%AD%E7%94%A8%E4%BA%8E%E8%BF%9B%E8%A1%8C%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%E8%AE%A1%E7%AE%97%E7%9A%84%E8%AF%AD%E6%B3%95%EF%BC%8C%E5%85%81%E8%AE%B8%E5%9C%A8%E7%BB%93%E6%9E%9C%E9%9B%86%E7%9A%84%E6%AF%8F%E4%B8%80%E8%A1%8C%E4%B8%8A%E8%AE%A1%E7%AE%97%E6%8C%87%E5%AE%9A%E5%88%97%E7%9A%84%E7%B4%AF%E7%A7%AF%E5%B9%B3%E5%9D%87%E5%80%BC%E3%80%822.3.2%E5%85%B7%E4%BD%93%E6%A1%88%E4%BE%8B%3A-toc" style="margin-left:120px;"><a href="#2.3avg%28%29over%28%292.3.1avg%28%29over%E7%94%A8%E6%B3%95%E8%A7%A3%E6%9E%90%3AAVG%28%29%20OVER%28%29%20%E6%98%AF%20SQL%20%E4%B8%AD%E7%94%A8%E4%BA%8E%E8%BF%9B%E8%A1%8C%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%E8%AE%A1%E7%AE%97%E7%9A%84%E8%AF%AD%E6%B3%95%EF%BC%8C%E5%85%81%E8%AE%B8%E5%9C%A8%E7%BB%93%E6%9E%9C%E9%9B%86%E7%9A%84%E6%AF%8F%E4%B8%80%E8%A1%8C%E4%B8%8A%E8%AE%A1%E7%AE%97%E6%8C%87%E5%AE%9A%E5%88%97%E7%9A%84%E7%B4%AF%E7%A7%AF%E5%B9%B3%E5%9D%87%E5%80%BC%E3%80%822.3.2%E5%85%B7%E4%BD%93%E6%A1%88%E4%BE%8B%3A" rel="nofollow">2.3avg()over()</a></p> 
<p id="2.3.1avg()over()%E7%94%A8%E6%B3%95%E8%A7%A3%E6%9E%90%3AAVG()%20OVER()%20%E6%98%AF%20SQL%20%E4%B8%AD%E7%94%A8%E4%BA%8E%E8%BF%9B%E8%A1%8C%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%E8%AE%A1%E7%AE%97%E7%9A%84%E8%AF%AD%E6%B3%95%EF%BC%8C%E5%85%81%E8%AE%B8%E5%9C%A8%E7%BB%93%E6%9E%9C%E9%9B%86%E7%9A%84%E6%AF%8F%E4%B8%80%E8%A1%8C%E4%B8%8A%E8%AE%A1%E7%AE%97%E6%8C%87%E5%AE%9A%E5%88%97%E7%9A%84%E7%B4%AF%E7%A7%AF%E5%B9%B3%E5%9D%87%E5%80%BC%E3%80%82-toc" style="margin-left:160px;"><a href="#2.3.1avg%28%29over%28%29%E7%94%A8%E6%B3%95%E8%A7%A3%E6%9E%90%3AAVG%28%29%20OVER%28%29%20%E6%98%AF%20SQL%20%E4%B8%AD%E7%94%A8%E4%BA%8E%E8%BF%9B%E8%A1%8C%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%E8%AE%A1%E7%AE%97%E7%9A%84%E8%AF%AD%E6%B3%95%EF%BC%8C%E5%85%81%E8%AE%B8%E5%9C%A8%E7%BB%93%E6%9E%9C%E9%9B%86%E7%9A%84%E6%AF%8F%E4%B8%80%E8%A1%8C%E4%B8%8A%E8%AE%A1%E7%AE%97%E6%8C%87%E5%AE%9A%E5%88%97%E7%9A%84%E7%B4%AF%E7%A7%AF%E5%B9%B3%E5%9D%87%E5%80%BC%E3%80%82" rel="nofollow">2.3.1avg()over()用法解析:AVG() OVER() 是 SQL 中用于进行窗口函数计算的语法，允许在结果集的每一行上计算指定列的累积平均值。</a></p> 
<p id="2.3.2%E5%85%B7%E4%BD%93%E6%A1%88%E4%BE%8B%3A-toc" style="margin-left:160px;"><a href="#2.3.2%E5%85%B7%E4%BD%93%E6%A1%88%E4%BE%8B%3A" rel="nofollow">2.3.2具体案例:</a></p> 
<p id="2.4min()over%E5%92%8Cmax()over()-toc" style="margin-left:120px;"><a href="#2.4min%28%29over%E5%92%8Cmax%28%29over%28%29" rel="nofollow">2.4min()over和max()over()</a></p> 
<p id="2.4.1min()over()%E5%92%8Cmax()over()%E7%94%A8%E6%B3%95%E8%A7%A3%E6%9E%90%3A-toc" style="margin-left:160px;"><a href="#2.4.1min%28%29over%28%29%E5%92%8Cmax%28%29over%28%29%E7%94%A8%E6%B3%95%E8%A7%A3%E6%9E%90%3A" rel="nofollow">2.4.1min()over()和max()over()用法解析:</a></p> 
<p id="2.4.2%E5%85%B7%E4%BD%93%E6%A1%88%E4%BE%8B%20%EF%BC%9A-toc" style="margin-left:160px;"><a href="#2.4.2%E5%85%B7%E4%BD%93%E6%A1%88%E4%BE%8B%20%EF%BC%9A" rel="nofollow">2.4.2具体案例 ：</a></p> 
<p id="%E7%BB%93%E5%B0%BE%E8%87%B4%E8%B0%A2%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E7%BB%93%E5%B0%BE%E8%87%B4%E8%B0%A2%EF%BC%9A" rel="nofollow">结尾致谢：</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2>前言：</h2> 
<p>当面对牛客SQL大厂面试真题，我们需要对SQL的各种知识点有全面的了解和掌握。这些知识点涵盖了SQL的各个方面 ，在面试中，能够熟练运用这些知识点，并且能够根据实际业务场景进行灵活应用，将会极大地提升我们的竞争力。</p> 
<p>通过对这些知识点的系统总结和学习，我们将能够更加深入和全面地理解SQL，为未来在面试和实际工作中的应用打下坚实的基础。让我们一起努力，掌握SQL的精髓，展现出我们的技术实力和解决问题的能力！<br>  </p> 
<h4 id="1.%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%E4%B8%8E%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%C2%A0">1.窗口函数与聚合函数 </h4> 
<p>窗口函数和聚合函数在数据库中常常一起使用，它们之间有一定的关系，但也有明显的区别</p> 
<h5 id="1.1%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%C2%A0" style="background-color:transparent;">1.1窗口函数 </h5> 
<h6 id="1.1.1%20%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8%E5%8F%8A%E5%B8%B8%E8%A7%81%E7%9A%84%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0">1.1.1 窗口函数的作用及常见的窗口函数</h6> 
<p>窗口函数是一种特殊的SQL函数，可以用来对查询结果集中的某个子集进行计算。</p> 
<p>窗口函数可以用来计算每一行与其相关联的行的聚合值，而不是整个结果集的聚合值。</p> 
<p>窗口函数通常与OVER子句一起使用，以定义窗口的范围和排序方式。通过窗口的定义，可以灵活地控制窗口函数的计算范围。</p> 
<p>一些常见的窗口函数包括ROW_NUMBER、RANK、DENSE_RANK、SUM、AVG等。</p> 
<p></p> 
<h5 id="1.2%20%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0">1.2 聚合函数</h5> 
<h6 id="1.2.1%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E5%B8%B8%E8%A7%81%E7%9A%84%E4%BD%9C%E7%94%A8">1.2.1聚合函数常见的作用</h6> 
<p>聚合函数是对数据集进行计算并返回单个值的函数，如SUM、AVG、COUNT等。</p> 
<p>聚合函数通常用于对整个结果集进行计算，返回一个汇总值。</p> 
<p>聚合函数会将结果集中的多行数据合并为一个值，例如计算总和、平均值、最大值、最小值等。</p> 
<p>聚合函数通常与GROUP BY子句一起使用，用于按照指定的列对数据进行分组计算。</p> 
<h5 id="1.3%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%E4%B8%8E%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E7%9A%84%E5%85%B3%E7%B3%BB%20%EF%BC%9A">1.3窗口函数与聚合函数的关系 ：</h5> 
<p>窗口函数可以在聚合函数内部使用，用于对聚合函数的结果进行进一步的处理或筛选。</p> 
<p>在某些情况下，窗口函数和聚合函数可以实现类似的功能，但窗口函数更加灵活，可以提供更多的操作方式。</p> 
<p>在实际使用中，可以根据需求选择使用窗口函数、聚合函数或它们的组合来实现所需的数据处理和分析操作。<br>  </p> 
<h4 id="2.%E5%B8%B8%E8%A7%81%E7%9A%84%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%EF%BC%88%E4%B8%8E%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E7%9B%B8%E7%BB%93%E5%90%88%EF%BC%89">2.常见的窗口函数（与聚合函数相结合）</h4> 
<h5 id="2.1%E5%B8%B8%E8%A7%81%E7%9A%84%E4%B8%8E%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E7%BB%93%E5%90%88%E7%9A%84%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%C2%A0">2.1常见的与聚合函数结合的窗口函数 </h5> 
<p>sum() over() min()over()    avg()over()  max()over()<br><br>  </p> 
<h5 id="2.2sum()over">2.2sum()over<br>  </h5> 
<h6 id="2.2.1sum()over()%E7%94%A8%E6%B3%95%E8%A7%A3%E6%9E%90%3A">2.2.1sum()over()用法解析:</h6> 
<p><br> 当使用SUM() OVER()时，可以计算指定列的累积总和。</p> 
<h6 id="2.2.2%E5%85%B7%E4%BD%93%E6%A1%88%E4%BE%8B%3A">2.2.2具体案例:</h6> 
<p>假设我们有一个名为 <code>sales</code> 的表，包含销售数据，其中包括商品名称、销售日期和销售额。我们想要计算每个销售日期的销售额累积总和。<br> 假设 <code>sales</code> 表的结构如下：</p> 
<pre><code class="language-sql">| product_name | sale_date  | amount |
|--------------|------------|--------|
| Product A    | 2024-01-01 | 100    |
| Product B    | 2024-01-01 | 150    |
| Product A    | 2024-01-02 | 200    |
| Product B    | 2024-01-02 | 120    |
</code></pre> 
<p>现在，我们可以使用 <code>SUM() OVER()</code> 来计算每个销售日期的销售额累积总和：</p> 
<pre><code class="language-sql">SELECT 
    product_name,
    sale_date,
    amount,
    SUM(amount) OVER (PARTITION BY sale_date ORDER BY sale_date) AS total_amount
FROM
    sales;
</code></pre> 
<p> <br>  </p> 
<p> </p> 
<h5 id="2.3avg()over()2.3.1avg()over%E7%94%A8%E6%B3%95%E8%A7%A3%E6%9E%90%3AAVG()%20OVER()%20%E6%98%AF%20SQL%20%E4%B8%AD%E7%94%A8%E4%BA%8E%E8%BF%9B%E8%A1%8C%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%E8%AE%A1%E7%AE%97%E7%9A%84%E8%AF%AD%E6%B3%95%EF%BC%8C%E5%85%81%E8%AE%B8%E5%9C%A8%E7%BB%93%E6%9E%9C%E9%9B%86%E7%9A%84%E6%AF%8F%E4%B8%80%E8%A1%8C%E4%B8%8A%E8%AE%A1%E7%AE%97%E6%8C%87%E5%AE%9A%E5%88%97%E7%9A%84%E7%B4%AF%E7%A7%AF%E5%B9%B3%E5%9D%87%E5%80%BC%E3%80%822.3.2%E5%85%B7%E4%BD%93%E6%A1%88%E4%BE%8B%3A" style="background-color:transparent;">2.3avg()over()<br><br><br>  </h5> 
<h6 id="2.3.1avg()over()%E7%94%A8%E6%B3%95%E8%A7%A3%E6%9E%90%3AAVG()%20OVER()%20%E6%98%AF%20SQL%20%E4%B8%AD%E7%94%A8%E4%BA%8E%E8%BF%9B%E8%A1%8C%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0%E8%AE%A1%E7%AE%97%E7%9A%84%E8%AF%AD%E6%B3%95%EF%BC%8C%E5%85%81%E8%AE%B8%E5%9C%A8%E7%BB%93%E6%9E%9C%E9%9B%86%E7%9A%84%E6%AF%8F%E4%B8%80%E8%A1%8C%E4%B8%8A%E8%AE%A1%E7%AE%97%E6%8C%87%E5%AE%9A%E5%88%97%E7%9A%84%E7%B4%AF%E7%A7%AF%E5%B9%B3%E5%9D%87%E5%80%BC%E3%80%82" style="background-color:transparent;"><br> 2.3.1avg()over()用法解析:<br><strong>AVG() OVER() 是 SQL 中用于进行窗口函数计算的语法，允许在结果集的每一行上计算指定列的累积平均值。</strong></h6> 
<h6 id="2.3.2%E5%85%B7%E4%BD%93%E6%A1%88%E4%BE%8B%3A" style="background-color:transparent;"><br> 2.3.2具体案例:</h6> 
<p>假设我们有一个名为 <code>student_scores</code> 的表，包含学生的考试成绩数据，其中包括学生姓名、考试科目和成绩。我们想要计算每个学生的每门科目的成绩与该学生所有科目成绩的平均值。</p> 
<p>假设 <code>student_scores</code> 表的结构如下：<br>  </p> 
<pre><code class="language-sql">| student_name | subject    | score |
|--------------|------------|-------|
| Alice        | Math       | 85    |
| Alice        | English    | 78    |
| Bob          | Math       | 92    |
| Bob          | English    | 88    |
</code></pre> 
<p>现在，我们可以使用 <code>AVG() OVER()</code> 来计算每个学生的每门科目的成绩与该学生所有科目成绩的平均值：</p> 
<pre><code class="language-sql">SELECT 
    student_name,
    subject,
    score,
    AVG(score) OVER (PARTITION BY student_name) AS avg_score
FROM
    student_scores;
</code></pre> 
<h5 id="2.4min()over%E5%92%8Cmax()over()" style="background-color:transparent;"><br><br><br> 2.4min()over和max()over()<br>  </h5> 
<h6 id="2.4.1min()over()%E5%92%8Cmax()over()%E7%94%A8%E6%B3%95%E8%A7%A3%E6%9E%90%3A">2.4.1min()over()和max()over()用法解析:</h6> 
<p>当使用MIN() OVER()和MAX() OVER()时，可以分别计算指定列的累积最小值和最大值。</p> 
<p></p> 
<h6 id="2.4.2%E5%85%B7%E4%BD%93%E6%A1%88%E4%BE%8B%20%EF%BC%9A">2.4.2具体案例 ：<br>  </h6> 
<p>假设我们有一个名为 <code>employee_salaries</code> 的表，包含员工的薪资数据，其中包括员工姓名、部门和薪资。我们想要找出每个部门内薪资的最低值和最高值。</p> 
<p>假设 <code>employee_salaries</code> 表的结构如下：<br>  </p> 
<pre><code class="language-sql">| employee_name | department | salary |
|---------------|------------|--------|
| Alice         | Sales      | 5000   |
| Bob           | Sales      | 5500   |
| Charlie       | Marketing  | 4800   |
| David         | Marketing  | 5200   |
</code></pre> 
<p>现在，我们可以使用 <code>MIN() OVER()</code> 和 <code>MAX() OVER()</code> 来计算每个部门内薪资的最低值和最高值：<br><br>  </p> 
<pre><code class="language-sql">SELECT 
    employee_name,
    department,
    salary,
    MIN(salary) OVER (PARTITION BY department) AS min_salary,
    MAX(salary) OVER (PARTITION BY department) AS max_salary
FROM
    employee_salaries;
</code></pre> 
<h2 id="%E7%BB%93%E5%B0%BE%E8%87%B4%E8%B0%A2%EF%BC%9A">结尾致谢：</h2> 
<p>感谢您阅读本篇文章，希望我所提供的 SQL 知识总结能对您有所帮助。如果您对 SQL 面试还有其他疑问或需要进一步了解，欢迎随时与我联系。祝您在未来的 SQL 面试和学习中取得优异的成绩！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6f08d9f38e5a17b3d8218225800672b3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue中导入外部资源传统方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b602ea18e66dd3b2fab30af20b2db25d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux—watch命令详解– 周期性执行命令</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>