<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C&#43;&#43; string的用法和例子 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C&#43;&#43; string的用法和例子" />
<meta property="og:description" content="https://blog.csdn.net/tengfei461807914/article/details/52203202
string是C&#43;&#43;标准库的一个重要的部分，主要用于字符串处理。可以使用输入输出流方式直接进行操作，也可以通过文件等手段进行操作。同时C&#43;&#43;的算法库对string也有着很好的支持，而且string还和c语言的字符串之间有着良好的接口。虽然也有一些弊端，但是瑕不掩瑜。 其中使用的代码多数都是来自cpp官网，因为例子非常全。
声明和初始化方法： 想使用string首先要在头文件当中加入&lt; string &gt; 声明方式也很简单
声明： string s;//声明一个string 对象 string ss[10];//声明一个string对象的数组 12 初始化： 使用等号的初始化叫做拷贝初始化，不使用等号的初始化叫做直接初始化。
#include &lt;bits/stdc&#43;&#43;.h&gt; using namespace std; int main() { ios::sync_with_stdio(false); string s;//默认初始化，一个空字符串 string s1(&#34;ssss&#34;);//s1是字面值“ssss”的副本 string s2(s1);//s2是s1的副本 string s3=s2;//s3是s2的副本 string s4(10,&#39;c&#39;);//把s4初始化 string s5=&#34;hiya&#34;;//拷贝初始化 string s6=string(10,&#39;c&#39;);//拷贝初始化，生成一个初始化好的对象，拷贝给s6 //string s(cp,n) char cs[]=&#34;12345&#34;; string s7(cs,3);//复制字符串cs的前3个字符到s当中 //string s(s2,pos2) string s8=&#34;asac&#34;; string s9(s8,2);//从s2的第二个字符开始拷贝，不能超过s2的size //string s(s2,pos2,len2) string s10=&#34;qweqweqweq&#34;; string s11(s10,3,4);//s4是s3从下标3开始4个字符的拷贝，超过s3.size出现未定义 return 0; } 12345678910111213141516171819202122232425262728 字符串处理： substr操作： 注意substr没有迭代器作为参数的操作
#include &lt;bits/stdc&#43;&#43;.h&gt; using namespace std; int main() { ios::sync_with_stdio(false); string s=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/6a6011d79bcd733dce75aa54adc18a33/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-07-02T22:44:56+08:00" />
<meta property="article:modified_time" content="2019-07-02T22:44:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C&#43;&#43; string的用法和例子</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <p>https://blog.csdn.net/tengfei461807914/article/details/52203202</p> 
 <p> </p> 
 <p>string是C++标准库的一个重要的部分，主要用于字符串处理。可以使用输入输出流方式直接进行操作，也可以通过文件等手段进行操作。同时C++的算法库对string也有着很好的支持，而且string还和c语言的字符串之间有着良好的接口。虽然也有一些弊端，但是瑕不掩瑜。 <br>其中使用的代码多数都是来自cpp官网，因为例子非常全。</p> 
 <h4 id="声明和初始化方法"><a name="t1"></a>声明和初始化方法：</h4> 
 <p>想使用string首先要在头文件当中加入&lt; string &gt; <br>声明方式也很简单</p> 
 <h5 id="声明">声明：</h5> 
 <pre class="prettyprint"><code class="language-cpp hljs has-numbering"><span class="hljs-built_in">string s;<span class="hljs-comment">//声明一个string 对象
<span class="hljs-built_in">string ss[<span class="hljs-number">10];<span class="hljs-comment">//声明一个string对象的数组</span></span></span></span></span></code></pre> 
 <ul class="pre-numbering"><li>1</li><li>2</li></ul> 
 <h5 id="初始化">初始化：</h5> 
 <p>使用等号的初始化叫做拷贝初始化，不使用等号的初始化叫做直接初始化。</p> 
 <pre class="prettyprint"><code class="language-cpp hljs has-numbering"><span class="hljs-preprocessor">#include &lt;bits/stdc++.h&gt;
<span class="hljs-keyword">using <span class="hljs-keyword">namespace <span class="hljs-built_in">std;

<span class="hljs-keyword">int main() { ios::sync_with_stdio(<span class="hljs-keyword">false); <span class="hljs-built_in">string s;<span class="hljs-comment">//默认初始化，一个空字符串 <span class="hljs-built_in">string s1(<span class="hljs-string">"ssss");<span class="hljs-comment">//s1是字面值“ssss”的副本 <span class="hljs-built_in">string s2(s1);<span class="hljs-comment">//s2是s1的副本 <span class="hljs-built_in">string s3=s2;<span class="hljs-comment">//s3是s2的副本 <span class="hljs-built_in">string s4(<span class="hljs-number">10,<span class="hljs-string">'c');<span class="hljs-comment">//把s4初始化 <span class="hljs-built_in">string s5=<span class="hljs-string">"hiya";<span class="hljs-comment">//拷贝初始化 <span class="hljs-built_in">string s6=<span class="hljs-built_in">string(<span class="hljs-number">10,<span class="hljs-string">'c');<span class="hljs-comment">//拷贝初始化，生成一个初始化好的对象，拷贝给s6 <span class="hljs-comment">//string s(cp,n) <span class="hljs-keyword">char cs[]=<span class="hljs-string">"12345"; <span class="hljs-built_in">string s7(cs,<span class="hljs-number">3);<span class="hljs-comment">//复制字符串cs的前3个字符到s当中 <span class="hljs-comment">//string s(s2,pos2) <span class="hljs-built_in">string s8=<span class="hljs-string">"asac"; <span class="hljs-built_in">string s9(s8,<span class="hljs-number">2);<span class="hljs-comment">//从s2的第二个字符开始拷贝，不能超过s2的size <span class="hljs-comment">//string s(s2,pos2,len2) <span class="hljs-built_in">string s10=<span class="hljs-string">"qweqweqweq"; <span class="hljs-built_in">string s11(s10,<span class="hljs-number">3,<span class="hljs-number">4);<span class="hljs-comment">//s4是s3从下标3开始4个字符的拷贝，超过s3.size出现未定义 <span class="hljs-keyword">return <span class="hljs-number">0; } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> 
 <ul class="pre-numbering"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li><li>19</li><li>20</li><li>21</li><li>22</li><li>23</li><li>24</li><li>25</li><li>26</li><li>27</li><li>28</li></ul> 
 <h4 id="字符串处理"><a name="t2"></a>字符串处理：</h4> 
 <h5 id="substr操作">substr操作：</h5> 
 <p>注意substr没有迭代器作为参数的操作</p> 
 <pre class="prettyprint"><code class="language-cpp hljs has-numbering"><span class="hljs-preprocessor">#include &lt;bits/stdc++.h&gt;
<span class="hljs-keyword">using <span class="hljs-keyword">namespace <span class="hljs-built_in">std;
<span class="hljs-keyword">int main() { ios::sync_with_stdio(<span class="hljs-keyword">false); <span class="hljs-built_in">string s=<span class="hljs-string">"abcdefg"; <span class="hljs-comment">//s.substr(pos1,n)返回字符串位置为pos1后面的n个字符组成的串 <span class="hljs-built_in">string s2=s.substr(<span class="hljs-number">1,<span class="hljs-number">5);<span class="hljs-comment">//bcdef <span class="hljs-comment">//s.substr(pos)//得到一个pos到结尾的串 <span class="hljs-built_in">string s3=s.substr(<span class="hljs-number">4);<span class="hljs-comment">//efg <span class="hljs-keyword">return <span class="hljs-number">0; } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> 
 <ul class="pre-numbering"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li></ul> 
 <p>如果输入的位置超过字符的长度，会抛出一个out_of_range的异常</p> 
 <h5 id="insert操作">insert操作:</h5> 
 <p>代码来自cpp官网，经过自己的整理 <br>注意用迭代器当参数和无符号数当参数的区别</p> 
 <pre class="prettyprint"><code class="language-cpp hljs has-numbering"><span class="hljs-preprocessor">#include &lt;bits/stdc++.h&gt;
<span class="hljs-keyword">using <span class="hljs-keyword">namespace <span class="hljs-built_in">std;
<span class="hljs-keyword">int main() { ios::sync_with_stdio(<span class="hljs-keyword">false); <span class="hljs-built_in">string str=<span class="hljs-string">"to be question"; <span class="hljs-built_in">string str2=<span class="hljs-string">"the "; <span class="hljs-built_in">string str3=<span class="hljs-string">"or not to be"; <span class="hljs-built_in">string::iterator it; <span class="hljs-comment">//s.insert(pos,str)//在s的pos位置插入str str.insert(<span class="hljs-number">6,str2); <span class="hljs-comment">// to be the question <span class="hljs-comment">//s.insert(pos,str,a,n)在s的pos位置插入str中插入位置a到后面的n个字符 str.insert(<span class="hljs-number">6,str3,<span class="hljs-number">3,<span class="hljs-number">4); <span class="hljs-comment">// to be not the question <span class="hljs-comment">//s.insert(pos,cstr,n)//在pos位置插入cstr字符串从开始到后面的n个字符 str.insert(<span class="hljs-number">10,<span class="hljs-string">"that is cool",<span class="hljs-number">8); <span class="hljs-comment">// to be not that is the question <span class="hljs-comment">//s.insert(pos,cstr)在s的pos位置插入cstr str.insert(<span class="hljs-number">10,<span class="hljs-string">"to be "); <span class="hljs-comment">// to be not to be that is the question <span class="hljs-comment">//s.insert(pos,n,ch)在s.pos位置上面插入n个ch str.insert(<span class="hljs-number">15,<span class="hljs-number">1,<span class="hljs-string">':'); <span class="hljs-comment">// to be not to be: that is the question <span class="hljs-comment">//s.insert(s.it,ch)在s的it指向位置前面插入一个字符ch，返回新插入的位置的迭代器 it = str.insert(str.begin()+<span class="hljs-number">5,<span class="hljs-string">','); <span class="hljs-comment">// to be, not to be: that is the question <span class="hljs-comment">//s.insert(s.it,n,ch)//在s的it所指向位置的前面插入n个ch str.insert (str.end(),<span class="hljs-number">3,<span class="hljs-string">'.'); <span class="hljs-comment">// to be, not to be: that is the question... <span class="hljs-comment">//s.insert(it,str.ita,str.itb)在it所指向的位置的前面插入[ita,itb)的字符串 str.insert (it+<span class="hljs-number">2,str3.begin(),str3.begin()+<span class="hljs-number">3); <span class="hljs-comment">// to be, or not to be: that is the question... <span class="hljs-keyword">return <span class="hljs-number">0; } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> 
 <ul class="pre-numbering"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li><li>19</li><li>20</li><li>21</li><li>22</li><li>23</li><li>24</li><li>25</li><li>26</li><li>27</li><li>28</li><li>29</li><li>30</li><li>31</li><li>32</li><li>33</li><li>34</li><li>35</li><li>36</li><li>37</li></ul> 
 <h5 id="erase操作">erase操作：</h5> 
 <p>用来执行删除操作 <br>删除操作有三种</p> 
 <ul><li>指定pos和len，其中pos为为起始位置，pos以及后面len-1个字符串都删除</li><li>迭代器，删除迭代器指向的字符</li><li>迭代器范围，删除这一范围的字符串，范围左闭右开</li></ul> 
 <p>代码来自cpp官网</p> 
 <pre class="prettyprint"><code class="language-cpp hljs has-numbering"><span class="hljs-preprocessor">#include &lt;iostream&gt;
<span class="hljs-preprocessor">#include &lt;string&gt;

<span class="hljs-keyword">int main ()
{
  <span class="hljs-built_in">std::<span class="hljs-built_in">string str (<span class="hljs-string">"This is an example sentence."); <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; str &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-comment">// "This is an example sentence." str.erase (<span class="hljs-number">10,<span class="hljs-number">8); <span class="hljs-comment">// ^^^^^^^^ <span class="hljs-comment">//直接指定删除的字符串位置第十个后面的8个字符 <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; str &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-comment">// "This is an sentence." str.erase (str.begin()+<span class="hljs-number">9);<span class="hljs-comment">// ^ <span class="hljs-comment">//删除迭代器指向的字符 <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; str &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-comment">// "This is a sentence." <span class="hljs-comment">// ^^^^^ str.erase (str.begin()+<span class="hljs-number">5, str.end()-<span class="hljs-number">9); <span class="hljs-comment">//删除迭代器范围的字符 <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; str &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-comment">// "This sentence." <span class="hljs-keyword">return <span class="hljs-number">0; }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> 
 <ul class="pre-numbering"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li><li>19</li><li>20</li><li>21</li><li>22</li><li>23</li></ul> 
 <h5 id="append和replace操作">append和replace操作:</h5> 
 <p>append函数可以用来在字符串的末尾追加字符和字符串。由于string重载了运算符，也可以用+=操作实现 <br>repalce顾名思义，就是替换的意思，先删除，后增加。 <br>代码来自cpp官网，附上自己的解释</p> 
 <pre class="prettyprint"><code class="language-cpp hljs has-numbering"><span class="hljs-preprocessor">#include &lt;iostream&gt;
<span class="hljs-preprocessor">#include &lt;string&gt;

<span class="hljs-keyword">int main ()
{
    <span class="hljs-built_in">std::<span class="hljs-built_in">string str; <span class="hljs-built_in">std::<span class="hljs-built_in">string str2=<span class="hljs-string">"Writing "; <span class="hljs-built_in">std::<span class="hljs-built_in">string str3=<span class="hljs-string">"print 10 and then 5 more"; <span class="hljs-comment">//直接追加一个str2的字符串 str.append(str2); <span class="hljs-comment">// "Writing " <span class="hljs-comment">//后面追加str3第6个字符开始的3个字符串 str.append(str3,<span class="hljs-number">6,<span class="hljs-number">3); <span class="hljs-comment">// "10 " <span class="hljs-comment">//追加字符串形参的前5个字符 str.append(<span class="hljs-string">"dots are cool",<span class="hljs-number">5); <span class="hljs-comment">// "dots " <span class="hljs-comment">//直接添加 str.append(<span class="hljs-string">"here: "); <span class="hljs-comment">// "here: " <span class="hljs-comment">//添加10个'.' str.append(<span class="hljs-number">10u,<span class="hljs-string">'.'); <span class="hljs-comment">// ".........." <span class="hljs-comment">//添加str3迭代器范围的字符串 str.append(str3.begin()+<span class="hljs-number">8,str3.end()); <span class="hljs-comment">// " and then 5 more" <span class="hljs-comment">//最后这个比较特殊，意思是添加5个'A'，实际上参数里面的65对应的asc码就是65 str.append&lt;<span class="hljs-keyword">int&gt;(<span class="hljs-number">5,<span class="hljs-number">65); <span class="hljs-comment">// "....." <span class="hljs-comment">//字符串追加也可以用重载运算符实现 str+=<span class="hljs-string">"lalala"; <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; str &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-keyword">return <span class="hljs-number">0; } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> 
 <ul class="pre-numbering"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li><li>19</li><li>20</li><li>21</li><li>22</li><li>23</li><li>24</li><li>25</li><li>26</li><li>27</li><li>28</li><li>29</li></ul> 
 <p>replace的使用方法，replace支持使用无符号整数寻找位置，也支持用迭代器寻找位置</p> 
 <pre class="prettyprint"><code class="language-cpp hljs has-numbering"><span class="hljs-preprocessor">#include &lt;iostream&gt;
<span class="hljs-preprocessor">#include &lt;string&gt;

<span class="hljs-keyword">int main ()
{
    <span class="hljs-built_in">std::<span class="hljs-built_in">string base=<span class="hljs-string">"this is a test string."; <span class="hljs-built_in">std::<span class="hljs-built_in">string str2=<span class="hljs-string">"n example"; <span class="hljs-built_in">std::<span class="hljs-built_in">string str3=<span class="hljs-string">"sample phrase"; <span class="hljs-built_in">std::<span class="hljs-built_in">string str4=<span class="hljs-string">"useful."; <span class="hljs-comment">// replace signatures used in the same order as described above: <span class="hljs-comment">// Using positions: 0123456789*123456789*12345 <span class="hljs-built_in">std::<span class="hljs-built_in">string str=base; <span class="hljs-comment">// "this is a test string." <span class="hljs-comment">//第9个字符以及后面的4个字符被str2代替 str.replace(<span class="hljs-number">9,<span class="hljs-number">5,str2); <span class="hljs-comment">// "this is an example string." (1) <span class="hljs-comment">//第19个字符串以及后面的5个字符用str的第7个字符以及后面的5个字符代替 str.replace(<span class="hljs-number">19,<span class="hljs-number">6,str3,<span class="hljs-number">7,<span class="hljs-number">6); <span class="hljs-comment">// "this is an example phrase." (2) <span class="hljs-comment">//第8个字符以及后面的9个字符用字符串参数代替 str.replace(<span class="hljs-number">8,<span class="hljs-number">10,<span class="hljs-string">"just a"); <span class="hljs-comment">// "this is just a phrase." (3) <span class="hljs-comment">//第8个字符以及后面的5个字符用字符串参数的前7个字符替换 str.replace(<span class="hljs-number">8,<span class="hljs-number">6,<span class="hljs-string">"a shorty",<span class="hljs-number">7); <span class="hljs-comment">// "this is a short phrase." (4) <span class="hljs-comment">//第22以及后面的0个字符用3个叹号替换 str.replace(<span class="hljs-number">22,<span class="hljs-number">1,<span class="hljs-number">3,<span class="hljs-string">'!'); <span class="hljs-comment">// "this is a short phrase!!!" (5) <span class="hljs-comment">//迭代器的原理同上 <span class="hljs-comment">// Using iterators: 0123456789*123456789* str.replace(str.begin(),str.end()-<span class="hljs-number">3,str3); <span class="hljs-comment">// "sample phrase!!!" (1) str.replace(str.begin(),str.begin()+<span class="hljs-number">6,<span class="hljs-string">"replace"); <span class="hljs-comment">// "replace phrase!!!" (3) str.replace(str.begin()+<span class="hljs-number">8,str.begin()+<span class="hljs-number">14,<span class="hljs-string">"is coolness",<span class="hljs-number">7); <span class="hljs-comment">// "replace is cool!!!" (4) str.replace(str.begin()+<span class="hljs-number">12,str.end()-<span class="hljs-number">4,<span class="hljs-number">4,<span class="hljs-string">'o'); <span class="hljs-comment">// "replace is cooool!!!" (5) str.replace(str.begin()+<span class="hljs-number">11,str.end(),str4.begin(),str4.end());<span class="hljs-comment">// "replace is useful." (6) <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; str &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-keyword">return <span class="hljs-number">0; } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> 
 <ul class="pre-numbering"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li><li>19</li><li>20</li><li>21</li><li>22</li><li>23</li><li>24</li><li>25</li><li>26</li><li>27</li><li>28</li><li>29</li><li>30</li><li>31</li><li>32</li><li>33</li><li>34</li><li>35</li></ul> 
 <p>以上的replace操作可以用insert和erase的操作组合替换，但是replace操作更加方便。</p> 
 <p>assign操作： <br>assign操作在一起列容器当中都存在，比如vector等等。是一个很基本的操作函数，string使用assign可以灵活的对其进行赋值。 <br>代码来自cpp官网</p> 
 <pre class="prettyprint"><code class="language-cpp hljs has-numbering"><span class="hljs-preprocessor">#include &lt;iostream&gt;
<span class="hljs-preprocessor">#include &lt;string&gt;

<span class="hljs-keyword">int main ()
{
    <span class="hljs-built_in">std::<span class="hljs-built_in">string str; <span class="hljs-built_in">std::<span class="hljs-built_in">string base=<span class="hljs-string">"The quick brown fox jumps over a lazy dog."; <span class="hljs-comment">// used in the same order as described above: <span class="hljs-comment">//直接把base赋值给str str.assign(base); <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; str &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-comment">//把base第10个字符以及后面的8个字符赋给str str.assign(base,<span class="hljs-number">10,<span class="hljs-number">9); <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; str &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-comment">// "brown fox" <span class="hljs-comment">//把参数中的0到6个字符串赋给str str.assign(<span class="hljs-string">"pangrams are cool",<span class="hljs-number">7); <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; str &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-comment">// "pangram" <span class="hljs-comment">//直接使用参数赋值 str.assign(<span class="hljs-string">"c-string"); <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; str &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-comment">// "c-string" <span class="hljs-comment">//给str赋值10个'*'字符 str.assign(<span class="hljs-number">10,<span class="hljs-string">'*'); <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; str &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-comment">// "**********" <span class="hljs-comment">//赋值是10个'-' str.assign&lt;<span class="hljs-keyword">int&gt;(<span class="hljs-number">10,<span class="hljs-number">0x2D); <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; str &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-comment">// "----------" <span class="hljs-comment">//指定base迭代器范围的字符串 str.assign(base.begin()+<span class="hljs-number">16,base.end()-<span class="hljs-number">12); <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; str &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-comment">// "fox jumps over" <span class="hljs-keyword">return <span class="hljs-number">0; } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> 
 <ul class="pre-numbering"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li><li>19</li><li>20</li><li>21</li><li>22</li><li>23</li><li>24</li><li>25</li><li>26</li><li>27</li><li>28</li><li>29</li><li>30</li><li>31</li><li>32</li><li>33</li><li>34</li></ul> 
 <h4 id="string的搜索操作"><a name="t3"></a>string的搜索操作:</h4> 
 <p>string类中提供了很多性能优秀，使用方便的成员方法。而且在泛型算法当中也有很多实用的技巧。</p> 
 <h5 id="find和rfind函数">find和rfind函数:</h5> 
 <p>find函数主要是查找一个字符串是否在调用的字符串中出现过，大小写敏感。 <br>代码来自cpp官网</p> 
 <pre class="prettyprint"><code class="language-cpp hljs has-numbering"><span class="hljs-preprocessor">#include &lt;bits/stdc++.h&gt;
<span class="hljs-keyword">using <span class="hljs-keyword">namespace <span class="hljs-built_in">std;

<span class="hljs-keyword">int main() { ios::sync_with_stdio(<span class="hljs-keyword">false); <span class="hljs-built_in">std::<span class="hljs-built_in">string str (<span class="hljs-string">"There are two needles in this haystack with needles."); <span class="hljs-built_in">std::<span class="hljs-built_in">string str2 (<span class="hljs-string">"needle"); <span class="hljs-comment">// different member versions of find in the same order as above: <span class="hljs-comment">//在str当中查找第一个出现的needle，找到则返回出现的位置，否则返回结尾 <span class="hljs-built_in">std::size_t found = str.find(str2); <span class="hljs-keyword">if (found!=<span class="hljs-built_in">std::<span class="hljs-built_in">string::npos) <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; <span class="hljs-string">"first 'needle' found at: " &lt;&lt; found &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-comment">//在str当中，从第found+1的位置开始查找参数字符串的前6个字符 found=str.find(<span class="hljs-string">"needles are small",found+<span class="hljs-number">1,<span class="hljs-number">6); <span class="hljs-keyword">if (found!=<span class="hljs-built_in">std::<span class="hljs-built_in">string::npos) <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; <span class="hljs-string">"second 'needle' found at: " &lt;&lt; found &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-comment">//在str当中查找参数中的字符串 found=str.find(<span class="hljs-string">"haystack"); <span class="hljs-keyword">if (found!=<span class="hljs-built_in">std::<span class="hljs-built_in">string::npos) <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; <span class="hljs-string">"'haystack' also found at: " &lt;&lt; found &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-comment">//查找一个字符 found=str.find(<span class="hljs-string">'.'); <span class="hljs-keyword">if (found!=<span class="hljs-built_in">std::<span class="hljs-built_in">string::npos) <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; <span class="hljs-string">"Period found at: " &lt;&lt; found &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-comment">//组合使用，把str2用参数表中的字符串代替 <span class="hljs-comment">// let's replace the first needle: str.replace(str.find(str2),str2.length(),<span class="hljs-string">"preposition"); <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; str &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-keyword">return <span class="hljs-number">0; } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> 
 <ul class="pre-numbering"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li><li>19</li><li>20</li><li>21</li><li>22</li><li>23</li><li>24</li><li>25</li><li>26</li><li>27</li><li>28</li><li>29</li><li>30</li><li>31</li><li>32</li><li>33</li></ul> 
 <p>rfind函数就是找最后一个出现的匹配字符串，返回的位置仍然是从前往后数的。</p> 
 <pre class="prettyprint"><code class="language-cpp hljs has-numbering"><span class="hljs-preprocessor">#include &lt;bits/stdc++.h&gt;
<span class="hljs-keyword">using <span class="hljs-keyword">namespace <span class="hljs-built_in">std;

<span class="hljs-keyword">int main() { ios::sync_with_stdio(<span class="hljs-keyword">false); <span class="hljs-built_in">std::<span class="hljs-built_in">string str (<span class="hljs-string">"The sixth sick sheik's sixth sheep's sick."); <span class="hljs-built_in">std::<span class="hljs-built_in">string key (<span class="hljs-string">"sixth");<span class="hljs-comment">// ^ <span class="hljs-comment">//rfind是找最后一个出现的匹配字符串 <span class="hljs-built_in">std::size_t found = str.rfind(key); <span class="hljs-keyword">if (found!=<span class="hljs-built_in">std::<span class="hljs-built_in">string::npos) { <span class="hljs-built_in">cout&lt;&lt;found&lt;&lt;endl;<span class="hljs-comment">//输出23 str.replace (found,key.length(),<span class="hljs-string">"seventh");<span class="hljs-comment">//找到的sixth替换成seventh } <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; str &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-keyword">return <span class="hljs-number">0; }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> 
 <ul class="pre-numbering"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li><li>19</li></ul> 
 <p>查找的效率非常高，我没看过stl源码剖析，但是感觉是用kmp实现的。呵呵，可以自己写一个。</p> 
 <h5 id="findof函数">find_….of函数:</h5> 
 <ul><li>find_first_of(args) 查找args中任何一个字符第一次出现的位置</li><li>find_last_of(args) 最后一个出现的位置</li><li>find_fist_not_of(args) 查找第一个不在args中的字符</li><li>find_last_not_of 查找最后一个不在args中出现的字符</li></ul> 
 <pre class="prettyprint"><code class="language-cpp hljs has-numbering"><span class="hljs-preprocessor">#include &lt;bits/stdc++.h&gt;
<span class="hljs-keyword">using <span class="hljs-keyword">namespace <span class="hljs-built_in">std;

<span class="hljs-keyword">int main() { ios::sync_with_stdio(<span class="hljs-keyword">false); <span class="hljs-built_in">std::<span class="hljs-built_in">string str1 (<span class="hljs-string">"Please, replace the vowels in this sentence by asterisks."); <span class="hljs-built_in">std::size_t found1 = str1.find_first_of(<span class="hljs-string">"aeiou"); <span class="hljs-comment">//把所有元音找出来用*代替 <span class="hljs-keyword">while (found1!=<span class="hljs-built_in">std::<span class="hljs-built_in">string::npos) { str1[found1]=<span class="hljs-string">'*'; found1=str1.find_first_of(<span class="hljs-string">"aeiou",found1+<span class="hljs-number">1); } <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; str1 &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-comment">//在str2中找到第一个不是消协英文字母和空格的字符 <span class="hljs-built_in">std::<span class="hljs-built_in">string str2 (<span class="hljs-string">"look for non-alphabetic characters..."); <span class="hljs-built_in">std::size_t found2 = str2.find_first_not_of(<span class="hljs-string">"abcdefghijklmnopqrstuvwxyz "); <span class="hljs-keyword">if (found2!=<span class="hljs-built_in">std::<span class="hljs-built_in">string::npos) { <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; <span class="hljs-string">"The first non-alphabetic character is " &lt;&lt; str2[found2]; <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; <span class="hljs-string">" at position " &lt;&lt; found2 &lt;&lt; <span class="hljs-string">'\n'; } <span class="hljs-keyword">return <span class="hljs-number">0; } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> 
 <ul class="pre-numbering"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li><li>19</li><li>20</li><li>21</li><li>22</li><li>23</li><li>24</li><li>25</li><li>26</li><li>27</li></ul> 
 <p>find_last_of和find_last_not_of与first基本相同，就不写例子代码了。</p> 
 <h4 id="比较与转换"><a name="t4"></a>比较与转换:</h4> 
 <p>类似c语言的字符串比较函数strcmp函数一样，支持字符串比较操作，同时也类似python、C#语言中的函数一样，支持把数字和字符串转换。有些特性是C++11当中才有。 <br><em>注意编译器bug：</em> <br>在MinGW编译器当中如果版本低于3.8，虽然支持c++11但是里面有一个bug，就是不支持字符串和数组的转换！要更新MinGW的版本才可以，或者直接使用g++。</p> 
 <h5 id="compare函数">compare函数:</h5> 
 <p>和strcmp函数一样，如果两个字符串相等，那么返回0，调用对象大于参数返回1，小于返回-1。 <br>在compare当中还支持部分比较，里面有6个参数可以设置。</p> 
 <pre class="prettyprint"><code class="language-cpp hljs has-numbering"><span class="hljs-preprocessor">#include &lt;bits/stdc++.h&gt;
<span class="hljs-keyword">using <span class="hljs-keyword">namespace <span class="hljs-built_in">std;

<span class="hljs-keyword">int main() { ios::sync_with_stdio(<span class="hljs-keyword">false); <span class="hljs-built_in">string s1=<span class="hljs-string">"123",s2=<span class="hljs-string">"123"; <span class="hljs-built_in">cout&lt;&lt;s1.compare(s2)&lt;&lt;endl;<span class="hljs-comment">//0 s1=<span class="hljs-string">"123",s2=<span class="hljs-string">"1234"; <span class="hljs-built_in">cout&lt;&lt;s1.compare(s2)&lt;&lt;endl;<span class="hljs-comment">//-1 s1=<span class="hljs-string">"1234",s2=<span class="hljs-string">"123"; <span class="hljs-built_in">cout&lt;&lt;s1.compare(s2)&lt;&lt;endl;<span class="hljs-comment">//1 <span class="hljs-built_in">std::<span class="hljs-built_in">string str1 (<span class="hljs-string">"green apple"); <span class="hljs-built_in">std::<span class="hljs-built_in">string str2 (<span class="hljs-string">"red apple"); <span class="hljs-keyword">if (str1.compare(str2) != <span class="hljs-number">0) <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; str1 &lt;&lt; <span class="hljs-string">" is not " &lt;&lt; str2 &lt;&lt; <span class="hljs-string">'\n'; <span class="hljs-comment">//str1的第6个字符以及后面的4个字符和参数比较 <span class="hljs-keyword">if (str1.compare(<span class="hljs-number">6,<span class="hljs-number">5,<span class="hljs-string">"apple") == <span class="hljs-number">0) <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; <span class="hljs-string">"still, " &lt;&lt; str1 &lt;&lt; <span class="hljs-string">" is an apple\n"; <span class="hljs-keyword">if (str2.compare(str2.size()-<span class="hljs-number">5,<span class="hljs-number">5,<span class="hljs-string">"apple") == <span class="hljs-number">0) <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; <span class="hljs-string">"and " &lt;&lt; str2 &lt;&lt; <span class="hljs-string">" is also an apple\n"; <span class="hljs-comment">//str1的第6个字符以及后面的4个字符和str2的第4个字符以及后面的4个字符比较 <span class="hljs-keyword">if (str1.compare(<span class="hljs-number">6,<span class="hljs-number">5,str2,<span class="hljs-number">4,<span class="hljs-number">5) == <span class="hljs-number">0) <span class="hljs-built_in">std::<span class="hljs-built_in">cout &lt;&lt; <span class="hljs-string">"therefore, both are apples\n"; <span class="hljs-keyword">return <span class="hljs-number">0; }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> 
 <ul class="pre-numbering"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li><li>19</li><li>20</li><li>21</li><li>22</li><li>23</li><li>24</li><li>25</li><li>26</li><li>27</li><li>28</li><li>29</li><li>30</li><li>31</li></ul> 
 <p>由于string重载了运算符，可以直接用&gt;,&lt;，==来进行比较，也很方便。</p> 
 <h5 id="数值转换">数值转换：</h5> 
 <p>在io的部分有过数值和字符串相互转换的例子，使用的是stringstream函数，在c++11当中有定义好的现成的函数取调用，非常方便。</p> 
 <table><thead><tr><th>string和数值转换</th><th align="center"> </th></tr></thead><tbody><tr><td>to_string(val)</td><td align="center">把val转换成string</td></tr><tr><td>stoi(s,p,b)</td><td align="center">把字符串s从p开始转换成b进制的int</td></tr><tr><td>stol(s,p,b)</td><td align="center">long</td></tr><tr><td>stoul(s,p,b)</td><td align="center">unsigned long</td></tr><tr><td>stoll(s,p,b)</td><td align="center">long long</td></tr><tr><td>stoull(s,p,b)</td><td align="center">unsigned long long</td></tr><tr><td>stof(s,p)</td><td align="center">float</td></tr><tr><td>stod(s,p)</td><td align="center">double</td></tr><tr><td>stold(s,p)</td><td align="center">long double</td></tr></tbody></table> 
 <p>//注意，下段代码在MinGw中会报错！即使使用c++11编译也一样，无法识别to_string！</p> 
 <pre class="prettyprint"><code class="language-cpp hljs has-numbering"><span class="hljs-preprocessor">#include &lt;bits/stdc++.h&gt;
<span class="hljs-keyword">using <span class="hljs-keyword">namespace <span class="hljs-built_in">std;

<span class="hljs-keyword">int main() { ios::sync_with_stdio(<span class="hljs-keyword">false); <span class="hljs-built_in">string s1; s1=to_string(<span class="hljs-number">100); <span class="hljs-built_in">cout&lt;&lt;s1&lt;&lt;endl; <span class="hljs-keyword">int a=stoi(s1,<span class="hljs-number">0,<span class="hljs-number">10)+<span class="hljs-number">1; <span class="hljs-built_in">cout&lt;&lt;a&lt;&lt;endl; <span class="hljs-keyword">return <span class="hljs-number">0; }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> 
</div> 
<p>转载于:https://www.cnblogs.com/kungfupanda/p/9022764.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8c102f264767058574a1e57e7c8c7680/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">CSDN I’m coming</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/66e1b70aea9aa1f22b7464f88783f232/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">swapper_pg_dir的作用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>