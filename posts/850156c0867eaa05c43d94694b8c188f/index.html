<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数独小游戏——Python实现 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="数独小游戏——Python实现" />
<meta property="og:description" content="文章目录 前言一、题目生成1.数独规则2.生成初始题目 二、界面设计三、升级优化总结 前言 使用python简单实现一下数独小游戏，并且使用tkinter进行界面展示。
一、题目生成 1.数独规则 在 9x9 的棋盘网格中将数字 1 ~ 9 填入空白格每一列只能包含数字 1 到 9，不能重复每一行只能包含数字 1 到 9，不能重复每个 3×3 的小九宫格只能包含数字 1 到 9，每一列或每一行中的每个数字只能使用一次 2.生成初始题目 先直接得到若干个数独游戏的答案，然后再随机让一些数字变成待填入的空白格就OK了，而随机变成空白格的数量就决定着游戏难度的大小。
使用递归的方法实现，并且在create_board函数返回答案和题目，来看代码：
# 生成题库 import random import copy def generate_sudoku_board(): # 创建一个9x9的二维列表，表示数独棋盘 board = [[0] * 9 for _ in range(9)] # 递归函数，用于填充数独棋盘的每个单元格 def filling_board(row, col): # 检查是否填充完成整个数独棋盘 if row == 9: return True # 计算下一个单元格的行和列索引 next_row = row if col &lt; 8 else row &#43; 1 next_col = (col &#43; 1) % 9 # 获取当前单元格在小九宫格中的索引 box_row = row // 3 box_col = col // 3 # 随机生成1到9的数字 numbers = random." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/850156c0867eaa05c43d94694b8c188f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-19T09:27:44+08:00" />
<meta property="article:modified_time" content="2023-07-19T09:27:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数独小游戏——Python实现</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_7" rel="nofollow">前言</a></li><li><a href="#_17" rel="nofollow">一、题目生成</a></li><li><ul><li><a href="#1_18" rel="nofollow">1.数独规则</a></li><li><a href="#2_23" rel="nofollow">2.生成初始题目</a></li></ul> 
  </li><li><a href="#_102" rel="nofollow">二、界面设计</a></li><li><a href="#_180" rel="nofollow">三、升级优化</a></li><li><a href="#_646" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_7"></a>前言</h2> 
<p>使用python简单实现一下数独小游戏，并且使用tkinter进行界面展示。</p> 
<hr> 
<h2><a id="_17"></a>一、题目生成</h2> 
<h3><a id="1_18"></a>1.数独规则</h3> 
<ul><li>在 9x9 的棋盘网格中将数字 1 ~ 9 填入空白格</li><li>每一列只能包含数字 1 到 9，不能重复</li><li>每一行只能包含数字 1 到 9，不能重复</li><li>每个 3×3 的小九宫格只能包含数字 1 到 9，每一列或每一行中的每个数字只能使用一次</li></ul> 
<h3><a id="2_23"></a>2.生成初始题目</h3> 
<p>先直接得到若干个数独游戏的答案，然后再随机让一些数字变成待填入的空白格就OK了，而随机变成空白格的数量就决定着游戏难度的大小。<br> 使用递归的方法实现，并且在<code>create_board函数</code>返回答案和题目，来看代码：</p> 
<pre><code class="prism language-python"><span class="token comment"># 生成题库</span>
<span class="token keyword">import</span> random
<span class="token keyword">import</span> copy
<span class="token keyword">def</span> <span class="token function">generate_sudoku_board</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 创建一个9x9的二维列表，表示数独棋盘</span>
    board <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">9</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

    <span class="token comment"># 递归函数，用于填充数独棋盘的每个单元格</span>
    <span class="token keyword">def</span> <span class="token function">filling_board</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 检查是否填充完成整个数独棋盘</span>
        <span class="token keyword">if</span> row <span class="token operator">==</span> <span class="token number">9</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        
        <span class="token comment"># 计算下一个单元格的行和列索引</span>
        next_row <span class="token operator">=</span> row <span class="token keyword">if</span> col <span class="token operator">&lt;</span> <span class="token number">8</span> <span class="token keyword">else</span> row <span class="token operator">+</span> <span class="token number">1</span>
        next_col <span class="token operator">=</span> <span class="token punctuation">(</span>col <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">9</span>

        <span class="token comment"># 获取当前单元格在小九宫格中的索引</span>
        box_row <span class="token operator">=</span> row <span class="token operator">//</span> <span class="token number">3</span>
        box_col <span class="token operator">=</span> col <span class="token operator">//</span> <span class="token number">3</span>

        <span class="token comment"># 随机生成1到9的数字</span>
        numbers <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>

        <span class="token keyword">for</span> num <span class="token keyword">in</span> numbers<span class="token punctuation">:</span>
            <span class="token comment"># 检查行、列、小九宫格是否已经存在相同的数字</span>
            <span class="token keyword">if</span> num <span class="token keyword">not</span> <span class="token keyword">in</span> board<span class="token punctuation">[</span>row<span class="token punctuation">]</span> <span class="token keyword">and</span> <span class="token builtin">all</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">!=</span> num <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token builtin">all</span><span class="token punctuation">(</span>num <span class="token operator">!=</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>box_row<span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">,</span> box_row<span class="token operator">*</span><span class="token number">3</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>box_col<span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">,</span> box_col<span class="token operator">*</span><span class="token number">3</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                board<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> num

                <span class="token comment"># 递归填充下一个单元格</span>
                <span class="token keyword">if</span> filling_board<span class="token punctuation">(</span>next_row<span class="token punctuation">,</span> next_col<span class="token punctuation">)</span><span class="token punctuation">:</span>
                    <span class="token keyword">return</span> <span class="token boolean">True</span>

                <span class="token comment"># 回溯，将当前单元格重置为0</span>
                board<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>

        <span class="token keyword">return</span> <span class="token boolean">False</span>

    <span class="token comment"># 填充数独棋盘</span>
    filling_board<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> board
 
<span class="token keyword">def</span> <span class="token function">create_board</span><span class="token punctuation">(</span>level<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># level数字越大代表游戏难度越大</span>
        <span class="token triple-quoted-string string">"""
        生成一个随机的数独棋盘,空白格少
        """</span>
        board <span class="token operator">=</span> generate_sudoku_board<span class="token punctuation">(</span><span class="token punctuation">)</span>
        board1 <span class="token operator">=</span>  copy<span class="token punctuation">.</span>deepcopy<span class="token punctuation">(</span>board<span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">81</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            row <span class="token operator">=</span> i <span class="token operator">//</span> <span class="token number">9</span>
            col <span class="token operator">=</span> i <span class="token operator">%</span> <span class="token number">9</span>
            <span class="token keyword">if</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> level<span class="token punctuation">:</span>
                board1<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>board<span class="token punctuation">,</span>board1<span class="token punctuation">)</span>
</code></pre> 
<p>打印一下结果</p> 
<pre><code class="prism language-python">v <span class="token operator">=</span> create_board<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token keyword">print</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> 
<h2><a id="_102"></a>二、界面设计</h2> 
<p>这里选择使用<code>tkinter</code>进行界面展示。<br> 希望设计的界面效果如下：<br> <img src="https://images2.imgbox.com/2f/17/5XcKrwoM_o.png" alt="在这里插入图片描述"></p> 
<p>UI部分的代码：</p> 
<pre><code class="prism language-python">
<span class="token keyword">import</span> tkinter <span class="token keyword">as</span> tk
<span class="token keyword">import</span> ctypes


root <span class="token operator">=</span> tk<span class="token punctuation">.</span>Tk<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 界面优化代码---------------------------------</span>
<span class="token comment"># 调用api设置成由应用程序缩放</span>
ctypes<span class="token punctuation">.</span>windll<span class="token punctuation">.</span>shcore<span class="token punctuation">.</span>SetProcessDpiAwareness<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># 调用api获得当前的缩放因子</span>
ScaleFactor<span class="token operator">=</span>ctypes<span class="token punctuation">.</span>windll<span class="token punctuation">.</span>shcore<span class="token punctuation">.</span>GetScaleFactorForDevice<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment"># 设置缩放因子</span>
root<span class="token punctuation">.</span>tk<span class="token punctuation">.</span>call<span class="token punctuation">(</span><span class="token string">'tk'</span><span class="token punctuation">,</span> <span class="token string">'scaling'</span><span class="token punctuation">,</span> ScaleFactor<span class="token operator">/</span><span class="token number">75</span><span class="token punctuation">)</span>
<span class="token comment">#--------------------------------------------</span>

root<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'数独游戏'</span><span class="token punctuation">)</span>
root<span class="token punctuation">.</span>geometry<span class="token punctuation">(</span><span class="token string">'900x1000'</span><span class="token punctuation">)</span>
frame <span class="token operator">=</span> tk<span class="token punctuation">.</span>Frame<span class="token punctuation">(</span>root<span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">500</span><span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token number">500</span><span class="token punctuation">)</span>
frame<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 绘制九宫格</span>
<span class="token keyword">def</span> <span class="token function">print_board</span><span class="token punctuation">(</span>frame<span class="token punctuation">,</span>board<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        在界面上显示数独棋盘
        """</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    label <span class="token operator">=</span> tk<span class="token punctuation">.</span>Label<span class="token punctuation">(</span>frame<span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"Arial"</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span> bg<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">)</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    label <span class="token operator">=</span> tk<span class="token punctuation">.</span>Label<span class="token punctuation">(</span>frame<span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token builtin">str</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"Arial"</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span> bg<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">)</span>
                label<span class="token punctuation">.</span>grid<span class="token punctuation">(</span>row<span class="token operator">=</span>i<span class="token punctuation">,</span> column<span class="token operator">=</span>j<span class="token punctuation">)</span>



<span class="token keyword">def</span> <span class="token function">XX</span><span class="token punctuation">(</span>level<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> aa
    aa <span class="token operator">=</span> create_board<span class="token punctuation">(</span>level<span class="token punctuation">)</span>
    <span class="token keyword">return</span> aa

board <span class="token operator">=</span> XX<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
print_board<span class="token punctuation">(</span>frame<span class="token punctuation">,</span>board<span class="token punctuation">)</span>


<span class="token comment"># 添加按键组件</span>
<span class="token keyword">def</span> <span class="token function">Button</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>level1<span class="token punctuation">,</span>level2<span class="token punctuation">)</span><span class="token punctuation">:</span>
    

    button1 <span class="token operator">=</span> tk<span class="token punctuation">.</span>Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">"出题:难度1"</span><span class="token punctuation">,</span> command<span class="token operator">=</span><span class="token keyword">lambda</span><span class="token punctuation">:</span>print_board<span class="token punctuation">(</span>frame<span class="token punctuation">,</span>XX<span class="token punctuation">(</span>level1<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#注意加上lambda!</span>
    button1<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>side<span class="token operator">=</span>tk<span class="token punctuation">.</span>LEFT<span class="token punctuation">,</span> padx<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> pady<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>

    button2 <span class="token operator">=</span> tk<span class="token punctuation">.</span>Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">"出题:难度2"</span><span class="token punctuation">,</span> command<span class="token operator">=</span><span class="token keyword">lambda</span><span class="token punctuation">:</span>print_board<span class="token punctuation">(</span>frame<span class="token punctuation">,</span>XX<span class="token punctuation">(</span>level2<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    button2<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>side<span class="token operator">=</span>tk<span class="token punctuation">.</span>LEFT<span class="token punctuation">,</span> padx<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> pady<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>
    
    button3 <span class="token operator">=</span> tk<span class="token punctuation">.</span>Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">"解题"</span><span class="token punctuation">,</span>command<span class="token operator">=</span><span class="token keyword">lambda</span><span class="token punctuation">:</span>print_board<span class="token punctuation">(</span>frame<span class="token punctuation">,</span>aa<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    button3<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>side<span class="token operator">=</span>tk<span class="token punctuation">.</span>LEFT<span class="token punctuation">,</span> padx<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> pady<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>
    
    button_quit <span class="token operator">=</span> tk<span class="token punctuation">.</span>Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span>text<span class="token operator">=</span><span class="token string">'退出'</span><span class="token punctuation">,</span>command<span class="token operator">=</span>root<span class="token punctuation">.</span>quit<span class="token punctuation">)</span>
    button_quit<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>side<span class="token operator">=</span>tk<span class="token punctuation">.</span>RIGHT<span class="token punctuation">,</span> padx<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> pady<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>
    

Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span>


root<span class="token punctuation">.</span>mainloop<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>最终效果：</p> 
<p><img src="https://images2.imgbox.com/9b/94/Uz7wvL4n_o.gif" alt="在这里插入图片描述"></p> 
<h2><a id="_180"></a>三、升级优化</h2> 
<p>以上版本称之为1.0版本，只有出题和解题两个最基本的功能，没有交互的体验感，离一个真正的“数独”游戏还差的很远，下面对代码升级一下，加入用户交互的方式。</p> 
<ul><li>既然需要交互式设计，自然会想到采用<code>tk.Entry()</code>组件。因此绘制九宫格就从之前的<strong>文本显示</strong>修改为<strong>输入框显示</strong>，然后将已经出现的数字设置为“可读状态”，避免被修改；而对于待填入的空白格，将输入内容做个限制：只能填入1个数字，而且是1~9，输入其他内容时无效。思路有了，修改代码如下：</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 输入框验证函数</span>
<span class="token keyword">def</span> <span class="token function">validate_input</span><span class="token punctuation">(</span>new_value<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> new_value<span class="token punctuation">.</span>isdigit<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token builtin">int</span><span class="token punctuation">(</span>new_value<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token keyword">and</span> <span class="token builtin">int</span><span class="token punctuation">(</span>new_value<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">9</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>

validate_cmd <span class="token operator">=</span> frame<span class="token punctuation">.</span>register<span class="token punctuation">(</span>validate_input<span class="token punctuation">)</span>
<span class="token comment"># 绘制九宫格</span>
<span class="token keyword">def</span> <span class="token function">print_board</span><span class="token punctuation">(</span>frame<span class="token punctuation">,</span>board<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        在界面上显示数独棋盘
        """</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    label <span class="token operator">=</span> tk<span class="token punctuation">.</span>Entry<span class="token punctuation">(</span>frame<span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'TimesNewom'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token string">'bold'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> validate<span class="token operator">=</span><span class="token string">"key"</span><span class="token punctuation">,</span> validatecommand<span class="token operator">=</span><span class="token punctuation">(</span>validate_cmd<span class="token punctuation">,</span> <span class="token string">"%P"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    label <span class="token operator">=</span> tk<span class="token punctuation">.</span>Entry<span class="token punctuation">(</span>frame<span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'TimesNewom'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token string">'bold'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> validate<span class="token operator">=</span><span class="token string">"key"</span><span class="token punctuation">,</span> validatecommand<span class="token operator">=</span><span class="token punctuation">(</span>validate_cmd<span class="token punctuation">,</span> <span class="token string">"%P"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment"># 注意这里的参数要和上面的label一致，否则会出奇怪的bug~</span>
                    label<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token builtin">str</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>state<span class="token operator">=</span><span class="token string">'readonly'</span><span class="token punctuation">)</span>
          
                label<span class="token punctuation">.</span>grid<span class="token punctuation">(</span>row<span class="token operator">=</span>i<span class="token punctuation">,</span> column<span class="token operator">=</span>j<span class="token punctuation">,</span>padx<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>pady<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
</code></pre> 
<p>在上面的代码中，Entry组件中的<code>validate</code>和<code>validatecommand方法</code>用于设置验证类型和验证函数。<code>validate_input函数</code>用于验证输入内容，只有当输入内容是1到9的数字时才返回True，否则返回False。<code>root.register方法</code>用于将这个函数注册为一个验证函数，并返回一个函数名，这个函数名可以用于<code>validatecommand方法</code>中。<code>%P</code>表示当前输入框中的内容。<br> <font color="Red">注意：</font>两个entry组件中的参数必须要一致，否则界面就会出现奇怪的bug。😦<br> 看一下效果：</p> 
<p><img src="https://images2.imgbox.com/16/cc/PMhAuN9R_o.gif" alt="在这里插入图片描述"></p> 
<ul><li>上面乍一看没有问题，但是实际上忽略了两个关键问题：<br> 1️⃣ 输入框验证函数需要需要允许空字符情况的存在，否则无法进行<strong>删除操作</strong>。<br> 2️⃣ 设置成“可读状态”后会对下一步“高亮显示”操作带来困难，需要作另外的处理。因此可以考虑对于已经给出的数字的输入框验证函数保持不变，和上面一样。而待填入的数字的验证函数，添加一个空字符条件判断即可。</li></ul> 
<p>更改后代码如下：</p> 
<pre><code class="prism language-python"><span class="token comment"># 输入框验证函数 ——针对已给出的数字</span>
<span class="token keyword">def</span> <span class="token function">validate_input1</span><span class="token punctuation">(</span>new_value<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> new_value<span class="token punctuation">.</span>isdigit<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token builtin">int</span><span class="token punctuation">(</span>new_value<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token keyword">and</span> <span class="token builtin">int</span><span class="token punctuation">(</span>new_value<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">9</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>



<span class="token comment"># 输入框验证函数 ——针对待填入的数字</span>
<span class="token keyword">def</span> <span class="token function">validate_input2</span><span class="token punctuation">(</span>new_value<span class="token punctuation">)</span><span class="token punctuation">:</span>
    
    <span class="token keyword">if</span> new_value <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>new_value<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> new_value<span class="token punctuation">.</span>isdigit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>new_value<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">9</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>


validate_cmd1 <span class="token operator">=</span> frame<span class="token punctuation">.</span>register<span class="token punctuation">(</span>validate_input1<span class="token punctuation">)</span>
validate_cmd2 <span class="token operator">=</span> frame<span class="token punctuation">.</span>register<span class="token punctuation">(</span>validate_input2<span class="token punctuation">)</span>


<span class="token comment"># 绘制九宫格</span>
<span class="token keyword">def</span> <span class="token function">print_board</span><span class="token punctuation">(</span>frame<span class="token punctuation">,</span>board<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        在界面上显示数独棋盘
        """</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    label <span class="token operator">=</span> tk<span class="token punctuation">.</span>Entry<span class="token punctuation">(</span>frame<span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'TimesNewom'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token string">'bold'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> validate<span class="token operator">=</span><span class="token string">"key"</span><span class="token punctuation">,</span> validatecommand<span class="token operator">=</span><span class="token punctuation">(</span>validate_cmd2<span class="token punctuation">,</span> <span class="token string">"%P"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    label <span class="token operator">=</span> tk<span class="token punctuation">.</span>Entry<span class="token punctuation">(</span>frame<span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'TimesNewom'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token string">'bold'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> validate<span class="token operator">=</span><span class="token string">"key"</span><span class="token punctuation">,</span> validatecommand<span class="token operator">=</span><span class="token punctuation">(</span>validate_cmd1<span class="token punctuation">,</span> <span class="token string">"%P"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment"># 注意这里的参数要和上面的label一致，否则会出奇怪的bug~</span>
                    label<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token builtin">str</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
          
                label<span class="token punctuation">.</span>grid<span class="token punctuation">(</span>row<span class="token operator">=</span>i<span class="token punctuation">,</span> column<span class="token operator">=</span>j<span class="token punctuation">,</span>padx<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>pady<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li>填入数字时，界面需要有个反馈，那就是待填入的格子所在的行、列和小九宫格需要<strong>高亮显示</strong>，并且填入数字之后当前棋盘上所有与之相同的数字也要<strong>高亮显示</strong>，这样方便玩家进行判定是否正确填入。</li></ul> 
<p>通过3个绑定事件来实现这部分功能。<br> <code>label.bind('&lt;FocusIn&gt;', highlight)</code> ）——聚焦到空白格时进行高亮显示<br> <code>label.bind('&lt;Leave&gt;', unhighlight)</code> ——焦点离开时进行高亮显示<br> <code> label.bind('&lt;KeyRelease&gt;', update_board)</code>——按下键盘时高亮显示相同数字</p> 
<p>代码如下：</p> 
<pre><code class="prism language-python"><span class="token comment"># 绘制九宫格</span>
<span class="token keyword">def</span> <span class="token function">print_board</span><span class="token punctuation">(</span>frame<span class="token punctuation">,</span>board<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        在界面上显示数独棋盘
        """</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    label <span class="token operator">=</span> tk<span class="token punctuation">.</span>Entry<span class="token punctuation">(</span>frame<span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'TimesNewom'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token string">'bold'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> validate<span class="token operator">=</span><span class="token string">"key"</span><span class="token punctuation">,</span> validatecommand<span class="token operator">=</span><span class="token punctuation">(</span>validate_cmd2<span class="token punctuation">,</span> <span class="token string">"%P"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    label <span class="token operator">=</span> tk<span class="token punctuation">.</span>Entry<span class="token punctuation">(</span>frame<span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'TimesNewom'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token string">'bold'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> validate<span class="token operator">=</span><span class="token string">"key"</span><span class="token punctuation">,</span> validatecommand<span class="token operator">=</span><span class="token punctuation">(</span>validate_cmd1<span class="token punctuation">,</span> <span class="token string">"%P"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment"># 注意这里的参数要和上面的label一致，否则会出奇怪的bug~</span>
                    label<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token builtin">str</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
          
                label<span class="token punctuation">.</span>grid<span class="token punctuation">(</span>row<span class="token operator">=</span>i<span class="token punctuation">,</span> column<span class="token operator">=</span>j<span class="token punctuation">,</span>padx<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>pady<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>


                <span class="token comment"># 添加高亮显示</span>
                label<span class="token punctuation">.</span>row <span class="token operator">=</span> i
                label<span class="token punctuation">.</span>col <span class="token operator">=</span> j
                label<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">'&lt;FocusIn&gt;'</span><span class="token punctuation">,</span> highlight<span class="token punctuation">)</span>
                label<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">'&lt;Leave&gt;'</span><span class="token punctuation">,</span> unhighlight<span class="token punctuation">)</span>
                label<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">'&lt;KeyRelease&gt;'</span><span class="token punctuation">,</span> update_board<span class="token punctuation">)</span>

<span class="token comment"># 高亮显示当前格子所在的行、列和小九宫格</span>
<span class="token keyword">def</span> <span class="token function">highlight</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
    row<span class="token punctuation">,</span> col <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>row<span class="token punctuation">,</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>col
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 高亮行</span>
        <span class="token keyword">if</span> i <span class="token operator">!=</span> row<span class="token punctuation">:</span>
            label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>master<span class="token punctuation">.</span>grid_slaves<span class="token punctuation">(</span>row<span class="token operator">=</span>i<span class="token punctuation">,</span> column<span class="token operator">=</span>col<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>bg<span class="token operator">=</span><span class="token string">'yellow'</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'times'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># 高亮列</span>
        <span class="token keyword">if</span> i <span class="token operator">!=</span> col<span class="token punctuation">:</span>
            label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>master<span class="token punctuation">.</span>grid_slaves<span class="token punctuation">(</span>row<span class="token operator">=</span>row<span class="token punctuation">,</span> column<span class="token operator">=</span>i<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>bg<span class="token operator">=</span><span class="token string">'yellow'</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'times'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># 高亮小九宫格</span>
        r <span class="token operator">=</span> row <span class="token operator">//</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> i <span class="token operator">//</span> <span class="token number">3</span>
        c <span class="token operator">=</span> col <span class="token operator">//</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> i <span class="token operator">%</span> <span class="token number">3</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>r<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token punctuation">(</span>row<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">:</span>
            label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>master<span class="token punctuation">.</span>grid_slaves<span class="token punctuation">(</span>row<span class="token operator">=</span>r<span class="token punctuation">,</span> column<span class="token operator">=</span>c<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>bg<span class="token operator">=</span><span class="token string">'yellow'</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'times'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        
        
    <span class="token comment"># 高亮当前格子</span>
    label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget
    label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>bg<span class="token operator">=</span><span class="token string">'yellow'</span><span class="token punctuation">)</span>

<span class="token comment"># 取消高亮显示</span>
<span class="token keyword">def</span> <span class="token function">unhighlight</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
    row<span class="token punctuation">,</span> col <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>row<span class="token punctuation">,</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>col
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 取消高亮行</span>
        <span class="token keyword">if</span> i <span class="token operator">!=</span> row<span class="token punctuation">:</span>
            label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>master<span class="token punctuation">.</span>grid_slaves<span class="token punctuation">(</span>row<span class="token operator">=</span>i<span class="token punctuation">,</span> column<span class="token operator">=</span>col<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>bg<span class="token operator">=</span><span class="token string">'white'</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'times'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># 取消高亮列</span>
        <span class="token keyword">if</span> i <span class="token operator">!=</span> col<span class="token punctuation">:</span>
            label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>master<span class="token punctuation">.</span>grid_slaves<span class="token punctuation">(</span>row<span class="token operator">=</span>row<span class="token punctuation">,</span> column<span class="token operator">=</span>i<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>bg<span class="token operator">=</span><span class="token string">'white'</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'times'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># 取消高亮小九宫格</span>
        r <span class="token operator">=</span> row <span class="token operator">//</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> i <span class="token operator">//</span> <span class="token number">3</span>
        c <span class="token operator">=</span> col <span class="token operator">//</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> i <span class="token operator">%</span> <span class="token number">3</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>r<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token punctuation">(</span>row<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">:</span>
            label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>master<span class="token punctuation">.</span>grid_slaves<span class="token punctuation">(</span>row<span class="token operator">=</span>r<span class="token punctuation">,</span> column<span class="token operator">=</span>c<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>bg<span class="token operator">=</span><span class="token string">'white'</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'times'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        
        
        <span class="token comment"># 取消高亮显示相同数字的格子</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> board<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>master<span class="token punctuation">.</span>grid_slaves<span class="token punctuation">(</span>row<span class="token operator">=</span>i<span class="token punctuation">,</span> column<span class="token operator">=</span>j<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                    label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>fg<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'times'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># 取消高亮当前格子</span>
    label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget
    label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>bg<span class="token operator">=</span><span class="token string">'white'</span><span class="token punctuation">)</span>

<span class="token comment"># 更新当前格子的值，并高亮相同数字</span>
<span class="token keyword">def</span> <span class="token function">update_board</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
    row<span class="token punctuation">,</span> col <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>row<span class="token punctuation">,</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>col
    val <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> val<span class="token punctuation">.</span>isdigit<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">9</span><span class="token punctuation">:</span>
            aa<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>delete<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'end'</span><span class="token punctuation">)</span>
            event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>aa<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># 高亮相同数字的格子</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> aa<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> aa<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">:</span>
                label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>master<span class="token punctuation">.</span>grid_slaves<span class="token punctuation">(</span>row<span class="token operator">=</span>i<span class="token punctuation">,</span> column<span class="token operator">=</span>j<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>fg<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'times'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token string">'bold'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>👁‍🗨来看一下优化后的效果：<br> <img src="https://images2.imgbox.com/06/01/n8FzZDRa_o.gif" alt="在这里插入图片描述"></p> 
<ul><li>最后对整个界面做一些美观的优化，就可以实现一个简单的数独小游戏了。🎮</li></ul> 
<p><strong>整个代码：</strong></p> 
<pre><code class="prism language-python"><span class="token comment"># 生成题库</span>
<span class="token keyword">import</span> random
<span class="token keyword">import</span> copy
<span class="token keyword">def</span> <span class="token function">generate_sudoku_board</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 创建一个9x9的二维列表，表示数独棋盘</span>
    board <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">9</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

    <span class="token comment"># 递归函数，用于填充数独棋盘的每个单元格</span>
    <span class="token keyword">def</span> <span class="token function">filling_board</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 检查是否填充完成整个数独棋盘</span>
        <span class="token keyword">if</span> row <span class="token operator">==</span> <span class="token number">9</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        
        <span class="token comment"># 计算下一个单元格的行和列索引</span>
        next_row <span class="token operator">=</span> row <span class="token keyword">if</span> col <span class="token operator">&lt;</span> <span class="token number">8</span> <span class="token keyword">else</span> row <span class="token operator">+</span> <span class="token number">1</span>
        next_col <span class="token operator">=</span> <span class="token punctuation">(</span>col <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">9</span>

        <span class="token comment"># 获取当前单元格在小九宫格中的索引</span>
        box_row <span class="token operator">=</span> row <span class="token operator">//</span> <span class="token number">3</span>
        box_col <span class="token operator">=</span> col <span class="token operator">//</span> <span class="token number">3</span>

        <span class="token comment"># 随机生成1到9的数字</span>
        numbers <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>

        <span class="token keyword">for</span> num <span class="token keyword">in</span> numbers<span class="token punctuation">:</span>
            <span class="token comment"># 检查行、列、小九宫格是否已经存在相同的数字</span>
            <span class="token keyword">if</span> num <span class="token keyword">not</span> <span class="token keyword">in</span> board<span class="token punctuation">[</span>row<span class="token punctuation">]</span> <span class="token keyword">and</span> <span class="token builtin">all</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">!=</span> num <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token builtin">all</span><span class="token punctuation">(</span>num <span class="token operator">!=</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>box_row<span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">,</span> box_row<span class="token operator">*</span><span class="token number">3</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>box_col<span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">,</span> box_col<span class="token operator">*</span><span class="token number">3</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                board<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> num

                <span class="token comment"># 递归填充下一个单元格</span>
                <span class="token keyword">if</span> filling_board<span class="token punctuation">(</span>next_row<span class="token punctuation">,</span> next_col<span class="token punctuation">)</span><span class="token punctuation">:</span>
                    <span class="token keyword">return</span> <span class="token boolean">True</span>

                <span class="token comment"># 回溯，将当前单元格重置为0</span>
                board<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>

        <span class="token keyword">return</span> <span class="token boolean">False</span>

    <span class="token comment"># 填充数独棋盘</span>
    filling_board<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> board
 
<span class="token keyword">def</span> <span class="token function">create_board</span><span class="token punctuation">(</span>level<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># level数字越大代表游戏难度越大</span>
        <span class="token triple-quoted-string string">"""
        生成一个随机的数独棋盘,空白格少
        """</span>
        board <span class="token operator">=</span> generate_sudoku_board<span class="token punctuation">(</span><span class="token punctuation">)</span>
        board1 <span class="token operator">=</span>  copy<span class="token punctuation">.</span>deepcopy<span class="token punctuation">(</span>board<span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">81</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            row <span class="token operator">=</span> i <span class="token operator">//</span> <span class="token number">9</span>
            col <span class="token operator">=</span> i <span class="token operator">%</span> <span class="token number">9</span>
            <span class="token keyword">if</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> level<span class="token punctuation">:</span>
                board1<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>board<span class="token punctuation">,</span>board1<span class="token punctuation">)</span>


<span class="token keyword">import</span> tkinter <span class="token keyword">as</span> tk
<span class="token keyword">import</span> ctypes
<span class="token keyword">from</span> tkinter <span class="token keyword">import</span> messagebox

root <span class="token operator">=</span> tk<span class="token punctuation">.</span>Tk<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 界面优化代码---------------------------------</span>
<span class="token comment"># 调用api设置成由应用程序缩放</span>
ctypes<span class="token punctuation">.</span>windll<span class="token punctuation">.</span>shcore<span class="token punctuation">.</span>SetProcessDpiAwareness<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># 调用api获得当前的缩放因子</span>
ScaleFactor<span class="token operator">=</span>ctypes<span class="token punctuation">.</span>windll<span class="token punctuation">.</span>shcore<span class="token punctuation">.</span>GetScaleFactorForDevice<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment"># 设置缩放因子</span>
root<span class="token punctuation">.</span>tk<span class="token punctuation">.</span>call<span class="token punctuation">(</span><span class="token string">'tk'</span><span class="token punctuation">,</span> <span class="token string">'scaling'</span><span class="token punctuation">,</span> ScaleFactor<span class="token operator">/</span><span class="token number">75</span><span class="token punctuation">)</span>
<span class="token comment">#--------------------------------------------</span>

root<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'数独游戏'</span><span class="token punctuation">)</span>
root<span class="token punctuation">.</span>geometry<span class="token punctuation">(</span><span class="token string">'900x1000'</span><span class="token punctuation">)</span>
frame <span class="token operator">=</span> tk<span class="token punctuation">.</span>Frame<span class="token punctuation">(</span>root<span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">500</span><span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token number">500</span><span class="token punctuation">)</span>
frame<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>




<span class="token comment"># 输入框验证函数 ——针对已给出的数字</span>
<span class="token keyword">def</span> <span class="token function">validate_input1</span><span class="token punctuation">(</span>new_value<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> new_value<span class="token punctuation">.</span>isdigit<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token builtin">int</span><span class="token punctuation">(</span>new_value<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token keyword">and</span> <span class="token builtin">int</span><span class="token punctuation">(</span>new_value<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">9</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>



<span class="token comment"># 输入框验证函数 ——针对待填入的数字</span>
<span class="token keyword">def</span> <span class="token function">validate_input2</span><span class="token punctuation">(</span>new_value<span class="token punctuation">)</span><span class="token punctuation">:</span>
    
    <span class="token keyword">if</span> new_value <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>new_value<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> new_value<span class="token punctuation">.</span>isdigit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>new_value<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">9</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>


validate_cmd1 <span class="token operator">=</span> frame<span class="token punctuation">.</span>register<span class="token punctuation">(</span>validate_input1<span class="token punctuation">)</span>
validate_cmd2 <span class="token operator">=</span> frame<span class="token punctuation">.</span>register<span class="token punctuation">(</span>validate_input2<span class="token punctuation">)</span>


<span class="token comment"># 绘制九宫格</span>
<span class="token keyword">def</span> <span class="token function">print_board</span><span class="token punctuation">(</span>frame<span class="token punctuation">,</span>board<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        在界面上显示数独棋盘
        """</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    label <span class="token operator">=</span> tk<span class="token punctuation">.</span>Entry<span class="token punctuation">(</span>frame<span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'TimesNewom'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token string">'bold'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> validate<span class="token operator">=</span><span class="token string">"key"</span><span class="token punctuation">,</span> validatecommand<span class="token operator">=</span><span class="token punctuation">(</span>validate_cmd2<span class="token punctuation">,</span> <span class="token string">"%P"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    label <span class="token operator">=</span> tk<span class="token punctuation">.</span>Entry<span class="token punctuation">(</span>frame<span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'TimesNewom'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token string">'bold'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> validate<span class="token operator">=</span><span class="token string">"key"</span><span class="token punctuation">,</span> validatecommand<span class="token operator">=</span><span class="token punctuation">(</span>validate_cmd1<span class="token punctuation">,</span> <span class="token string">"%P"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment"># 注意这里的参数要和上面的label一致，否则会出奇怪的bug~</span>
                    label<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token builtin">str</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
          
                label<span class="token punctuation">.</span>grid<span class="token punctuation">(</span>row<span class="token operator">=</span>i<span class="token punctuation">,</span> column<span class="token operator">=</span>j<span class="token punctuation">,</span>padx<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>pady<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>


                <span class="token comment"># 添加高亮显示</span>
                label<span class="token punctuation">.</span>row <span class="token operator">=</span> i
                label<span class="token punctuation">.</span>col <span class="token operator">=</span> j
                label<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">'&lt;FocusIn&gt;'</span><span class="token punctuation">,</span> highlight<span class="token punctuation">)</span>
                label<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">'&lt;Leave&gt;'</span><span class="token punctuation">,</span> unhighlight<span class="token punctuation">)</span>
                label<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">'&lt;KeyRelease&gt;'</span><span class="token punctuation">,</span> update_board<span class="token punctuation">)</span>

<span class="token comment"># 高亮显示当前格子所在的行、列和小九宫格</span>
<span class="token keyword">def</span> <span class="token function">highlight</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
    row<span class="token punctuation">,</span> col <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>row<span class="token punctuation">,</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>col
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 高亮行</span>
        <span class="token keyword">if</span> i <span class="token operator">!=</span> row<span class="token punctuation">:</span>
            label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>master<span class="token punctuation">.</span>grid_slaves<span class="token punctuation">(</span>row<span class="token operator">=</span>i<span class="token punctuation">,</span> column<span class="token operator">=</span>col<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>bg<span class="token operator">=</span><span class="token string">'yellow'</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'times'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># 高亮列</span>
        <span class="token keyword">if</span> i <span class="token operator">!=</span> col<span class="token punctuation">:</span>
            label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>master<span class="token punctuation">.</span>grid_slaves<span class="token punctuation">(</span>row<span class="token operator">=</span>row<span class="token punctuation">,</span> column<span class="token operator">=</span>i<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>bg<span class="token operator">=</span><span class="token string">'yellow'</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'times'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># 高亮小九宫格</span>
        r <span class="token operator">=</span> row <span class="token operator">//</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> i <span class="token operator">//</span> <span class="token number">3</span>
        c <span class="token operator">=</span> col <span class="token operator">//</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> i <span class="token operator">%</span> <span class="token number">3</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>r<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token punctuation">(</span>row<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">:</span>
            label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>master<span class="token punctuation">.</span>grid_slaves<span class="token punctuation">(</span>row<span class="token operator">=</span>r<span class="token punctuation">,</span> column<span class="token operator">=</span>c<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>bg<span class="token operator">=</span><span class="token string">'yellow'</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'times'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        
        
    <span class="token comment"># 高亮当前格子</span>
    label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget
    label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>bg<span class="token operator">=</span><span class="token string">'yellow'</span><span class="token punctuation">)</span>

<span class="token comment"># 取消高亮显示</span>
<span class="token keyword">def</span> <span class="token function">unhighlight</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
    row<span class="token punctuation">,</span> col <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>row<span class="token punctuation">,</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>col
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 取消高亮行</span>
        <span class="token keyword">if</span> i <span class="token operator">!=</span> row<span class="token punctuation">:</span>
            label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>master<span class="token punctuation">.</span>grid_slaves<span class="token punctuation">(</span>row<span class="token operator">=</span>i<span class="token punctuation">,</span> column<span class="token operator">=</span>col<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>bg<span class="token operator">=</span><span class="token string">'white'</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'times'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># 取消高亮列</span>
        <span class="token keyword">if</span> i <span class="token operator">!=</span> col<span class="token punctuation">:</span>
            label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>master<span class="token punctuation">.</span>grid_slaves<span class="token punctuation">(</span>row<span class="token operator">=</span>row<span class="token punctuation">,</span> column<span class="token operator">=</span>i<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>bg<span class="token operator">=</span><span class="token string">'white'</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'times'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># 取消高亮小九宫格</span>
        r <span class="token operator">=</span> row <span class="token operator">//</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> i <span class="token operator">//</span> <span class="token number">3</span>
        c <span class="token operator">=</span> col <span class="token operator">//</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> i <span class="token operator">%</span> <span class="token number">3</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>r<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token punctuation">(</span>row<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">:</span>
            label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>master<span class="token punctuation">.</span>grid_slaves<span class="token punctuation">(</span>row<span class="token operator">=</span>r<span class="token punctuation">,</span> column<span class="token operator">=</span>c<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>bg<span class="token operator">=</span><span class="token string">'white'</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'times'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        
        
        <span class="token comment"># 取消高亮显示相同数字的格子</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> board<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>master<span class="token punctuation">.</span>grid_slaves<span class="token punctuation">(</span>row<span class="token operator">=</span>i<span class="token punctuation">,</span> column<span class="token operator">=</span>j<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                    label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>fg<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'times'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># 取消高亮当前格子</span>
    label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget
    label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>bg<span class="token operator">=</span><span class="token string">'white'</span><span class="token punctuation">)</span>

<span class="token comment"># 更新当前格子的值，并高亮相同数字</span>
<span class="token keyword">def</span> <span class="token function">update_board</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
    row<span class="token punctuation">,</span> col <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>row<span class="token punctuation">,</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>col
    val <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> val<span class="token punctuation">.</span>isdigit<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">9</span><span class="token punctuation">:</span>
            aa<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>delete<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'end'</span><span class="token punctuation">)</span>
            event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>aa<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># 高亮相同数字的格子</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> aa<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> aa<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">:</span>
                label <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>master<span class="token punctuation">.</span>grid_slaves<span class="token punctuation">(</span>row<span class="token operator">=</span>i<span class="token punctuation">,</span> column<span class="token operator">=</span>j<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                label<span class="token punctuation">.</span>config<span class="token punctuation">(</span>fg<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'times'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token string">'bold'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>



<span class="token keyword">def</span> <span class="token function">XX</span><span class="token punctuation">(</span>level<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> aa                   <span class="token comment"># 通过全局变量可以获取每次按键刷新后的棋盘</span>
    aa <span class="token operator">=</span> create_board<span class="token punctuation">(</span>level<span class="token punctuation">)</span>
    <span class="token keyword">return</span> aa

board <span class="token operator">=</span> XX<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
print_board<span class="token punctuation">(</span>frame<span class="token punctuation">,</span>board<span class="token punctuation">)</span>


<span class="token comment"># 添加按键组件</span>
<span class="token keyword">def</span> <span class="token function">Button</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>level1<span class="token punctuation">,</span>level2<span class="token punctuation">)</span><span class="token punctuation">:</span>
    

    button1 <span class="token operator">=</span> tk<span class="token punctuation">.</span>Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">"出题:难度1"</span><span class="token punctuation">,</span> command<span class="token operator">=</span><span class="token keyword">lambda</span><span class="token punctuation">:</span>print_board<span class="token punctuation">(</span>frame<span class="token punctuation">,</span>XX<span class="token punctuation">(</span>level1<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> relief<span class="token operator">=</span><span class="token string">"raised"</span><span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'楷体'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">'bold'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#注意加上lambda!</span>
    button1<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>side<span class="token operator">=</span>tk<span class="token punctuation">.</span>LEFT<span class="token punctuation">,</span> padx<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> pady<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>

    button2 <span class="token operator">=</span> tk<span class="token punctuation">.</span>Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">"出题:难度2"</span><span class="token punctuation">,</span> command<span class="token operator">=</span><span class="token keyword">lambda</span><span class="token punctuation">:</span>print_board<span class="token punctuation">(</span>frame<span class="token punctuation">,</span>XX<span class="token punctuation">(</span>level2<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> relief<span class="token operator">=</span><span class="token string">"raised"</span><span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'楷体'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">'bold'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    button2<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>side<span class="token operator">=</span>tk<span class="token punctuation">.</span>LEFT<span class="token punctuation">,</span> padx<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> pady<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>
    
    button3 <span class="token operator">=</span> tk<span class="token punctuation">.</span>Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">"解题"</span><span class="token punctuation">,</span>command<span class="token operator">=</span><span class="token keyword">lambda</span><span class="token punctuation">:</span>print_board<span class="token punctuation">(</span>frame<span class="token punctuation">,</span>aa<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> relief<span class="token operator">=</span><span class="token string">"raised"</span><span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'楷体'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">'bold'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    button3<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>side<span class="token operator">=</span>tk<span class="token punctuation">.</span>LEFT<span class="token punctuation">,</span> padx<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> pady<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>
    
    button4 <span class="token operator">=</span> tk<span class="token punctuation">.</span>Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span>text<span class="token operator">=</span><span class="token string">"验证"</span><span class="token punctuation">,</span>command <span class="token operator">=</span> <span class="token keyword">lambda</span><span class="token punctuation">:</span>check<span class="token punctuation">(</span>aa<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> relief<span class="token operator">=</span><span class="token string">"raised"</span><span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'楷体'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">'bold'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    button4<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>side<span class="token operator">=</span>tk<span class="token punctuation">.</span>LEFT<span class="token punctuation">,</span> padx<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> pady<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span> 
    
    button_quit <span class="token operator">=</span> tk<span class="token punctuation">.</span>Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span>text<span class="token operator">=</span><span class="token string">'退出'</span><span class="token punctuation">,</span>command<span class="token operator">=</span>root<span class="token punctuation">.</span>quit<span class="token punctuation">,</span>bg<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">,</span> relief<span class="token operator">=</span><span class="token string">"raised"</span><span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'楷体'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">'bold'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    button_quit<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>side<span class="token operator">=</span>tk<span class="token punctuation">.</span>RIGHT<span class="token punctuation">,</span> padx<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> pady<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>
    

Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span>


<span class="token comment"># 判断输赢</span>
<span class="token keyword">def</span> <span class="token function">check_victory</span><span class="token punctuation">(</span>sudo<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 检查每行是否有重复数字</span>
    <span class="token keyword">for</span> row <span class="token keyword">in</span> sudo<span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">9</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
    
    <span class="token comment"># 检查每列是否有重复数字</span>
    <span class="token keyword">for</span> col <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        column <span class="token operator">=</span> <span class="token punctuation">[</span>sudo<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token keyword">for</span> row <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">(</span>column<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">9</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
    
    <span class="token comment"># 检查每个3x3的小九宫格内是否有重复数字</span>
    <span class="token keyword">for</span> box_row <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> box_col <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            box <span class="token operator">=</span> <span class="token punctuation">[</span>sudo<span class="token punctuation">[</span>box_row<span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> i<span class="token punctuation">]</span><span class="token punctuation">[</span>box_col<span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> j<span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
            <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">(</span>box<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">9</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">False</span>
    <span class="token keyword">return</span> <span class="token boolean">True</span>
<span class="token keyword">def</span> <span class="token function">check</span><span class="token punctuation">(</span>sudo<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> sudo <span class="token operator">==</span> aa<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> check_victory<span class="token punctuation">(</span>sudo<span class="token punctuation">)</span> <span class="token punctuation">:</span>
            messagebox<span class="token punctuation">.</span>showinfo<span class="token punctuation">(</span><span class="token string">"提示"</span><span class="token punctuation">,</span> <span class="token string">"恭喜你，你赢了！"</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            messagebox<span class="token punctuation">.</span>showinfo<span class="token punctuation">(</span><span class="token string">"提示"</span><span class="token punctuation">,</span> <span class="token string">"很遗憾，你输了！"</span><span class="token punctuation">)</span>
root<span class="token punctuation">.</span>mainloop<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p><strong>最终效果：</strong></p> 
<p><img src="https://images2.imgbox.com/2b/74/BAlK1QzE_o.gif" alt="在这里插入图片描述"></p> 
<hr> 
<h2><a id="_646"></a>总结</h2> 
<ul><li>这里将每个功能用函数的形式去实现，而如果整个代码写成<strong>类</strong>的形式封装在一起会更好。</li><li>鼠标在聚焦输入框和离开输入框时存在一些问题，界面会稍微浮动变化。</li><li>不足之处，欢迎指正！🔍</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/97e5e3373e93f71bff02172d6b70b5e1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">springboot&#43;mybatis-plus实现自动建表</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d3778f5d619d9cc4424cfead988852dc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【完整版】zabbix企业级监控（概念、简单操作、页面优化、监控主机自己、监控linux、监控Win10）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>