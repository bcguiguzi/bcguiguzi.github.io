<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>运放噪声评估的来龙去脉 - 编程鬼谷子的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="运放噪声评估的来龙去脉" />
<meta property="og:description" content="友情提示，运放电路的噪声分析还是比较复杂的，不论是基础理论还是对应的推导过程，都不是特别容易。考虑到兄弟们的基础参差不齐，所以我还是尽量说清楚点，这样导致看起来就有点罗里吧嗦，也会看起来超级复杂，希望不会劝退。
1、关于噪声我想过的几个问题
我一般是带着一些问题去学一些东西，找答案，个人感觉这样主动式的要比被动式的理解更为透彻。说下我之前想过的一些问题吧，这些问题也会在后面得到解答。
问题1：白噪声是随机的，并且是全带宽的，如果某个时刻，正好是各个频率噪声的波峰叠在一起，那噪声电压不是无穷大？概率虽然低，可能性是存在的吧，但是我们好像不会在电路设计中考虑这个问题。
问题2：一般运放手册给出的噪声参数有两种，分别是电压噪声频谱密度和电流噪声频谱密度，单位分别是伏特除以根号赫兹，和安培除以根号赫兹。这个是什么意思，如何转化为我们常规理解的电压信号呢？
问题3：运放的噪声跟构成的电路增益有关吗？会不会被放大？
问题4：对于一个具体的运算放大器放大电路，如何评估输出端的电压噪声大小？
我们就带着上面的问题来学习下。
2、噪声参数与分析基本原理
a、噪声类型
噪声可以分为两类：外部噪声和固有噪声，我们本节主要评估运放的固有噪声。
外部噪声：外部电路或自然因素导致的噪声，比如220V的市电干扰，宇宙辐射都是外部噪声。外部噪声很难估计。
固有噪声：固有噪声是由电路的元器件引起的，比如电阻和半导体器件都可以产生噪声。固有噪声可以估计。
b、噪声波形特点
宽带噪声波形（高斯分布）：
1/f噪声波形（高斯分布）：
爆米花噪声波形（几个高斯分布叠加）：
可能看这个图一下子有点蒙，噪声的波形倒是很直观，但是右边那个旋转90°的正态分布是个什么啥意思？这就不得不说噪声的分析方法。
c、噪声的分析方法
我们在电路中通常需要评估电路噪声在时域的峰峰值。但是噪声又是一个随机的过程，幅度随时间变化而变化，我们没办法预估一个噪声信号在某一个时刻的瞬间值，所以我们是在统计学的基础上对噪声进行分析的。
啥叫在统计学的基础上分析呢？就比如我们丢硬币，正面和反面是随机的，没法预先知道我们下一次丢硬币到底是正面还是反面，但是我们知道各自的概率是50%，如果实验次数足够多，那么最终正面和反面的次数各占总次数的50%。
现在我们评估的噪声也是随机的，我们也没办法知道下一刻噪声信号具体长什么样子，但是我们可以评估，如果我们拿示波器去采样这个信号的话，会知道它落在某一个电压范围的概率是多少，根据这个概率信息，我们可以推断出我们的噪声的峰峰值是多大。
在电路分析中，使用概率分布函数将均方根噪声转化为峰峰值噪声。如下图，左边为噪声的时域波形，右边为高斯分布，高斯分布也叫正态分布。
正态分布有两个参数，一个叫期望值μ（也叫平均值），另外一个参数叫标准差σ，图中有一个非常重要的地方，那就是RMS值等于标准差σ（μ=0）。
d、为啥噪声的有效值Vrms等于其正态分布的标准差σ呢？
这可以从有效值的这个词的意义里面推导出来。
有效值：如果某个交流电，与某个电压的直流电热效应相等，那么就可以认为该直流电的电压就是这个交流电电压的有效值。
从有效值的定义看，有效值是热效应的等效，也就是针对做功来说的。
我们再看标准差的公式：
前面说了，噪声电压符合高斯分布，用统计学的方法来看，有下面的推导过程：
以上过程只是为了理解一句话：噪声的有效值Vrms等于其正态分布的标准差σ。
上面推导过程看着有点费劲，看不明白记住也行，这也不是本节内容的重点。
总之，我们就是知道了：噪声电压的有效值等于其正态分布的标准差σ，那这有什么用呢？
回到我们的目标——我们要知道噪声的峰峰值有多大。
我们通常可以计算出噪声的有效值有多大，但这不是我们的最终目的，我们的最终目的是要知道噪声的峰峰值有多大，这是我们设计电路时更关心的。在我们知道了有效值，那么也就知道了噪声电压对应正态分布的标准差，最终我们就能知道某个时刻噪声电压在某个范围内的概率有多大。
还记得大学教材《概率论与数理统计》最后面附表里面的“标准正态数据分布表”吗？我在网上找了一个更为精确的正态分布表，精确到了小数点15位，如下图：
我们可以从中得到峰峰值电压小于某一个值的概率，如下表所示：
可能还是不太明白这个表是啥意思？简单说就是，我们对有效值为Vrms的噪声进行采样，其采样值落在-σ到&#43;σ之间的概率是68%，落在-2σ和&#43;2σ之间的概率是95.45%，落在-3σ和&#43;3σ之间的概率是99.73%。这意味着幅值很大的电压值出现的概率很小，比如落在-4σ和&#43;4σ的概率是99.994%，即电压超过±4σ的电压出现的概率是0.006%，这个概率是很低的。如果我们拿示波器去测量这个电压，在示波器界面可能是看不到超过±4σ的电压信号的，毕竟示波器采样的数据量有限，除非说我们观察非常久的时间，可能捕捉到一个更高的电压信号，但通常我们也不会这么干。
从前面的正态分布表也可以知道，采样值落在8σ内的概率已经是99.9999999999999%，也就是说电压值超出±8σ的概率是0.0000000000001%。
基于上面的概率问题，一般评估噪声的峰峰值电压是±3σ对应的换算系数，也就是认为噪声的峰峰值为6*vrms，如果对噪声容忍程度非常低，可以用±4σ或更高的换算系数。
以上就是使用统计学评估噪声的基本原理，到这里已经可以回答前面的问题1：
问题1：白噪声是随机的，并且是全带宽的，如果某个时刻，正好是各个频率的波峰叠在一起，那噪声电压不是无穷大？概率虽然低，但可能性是在的吧，但是我们好像不会考虑这个问题。
答：如果用统计学的方法看，因为正态分布两边是无限延伸的，这种情况也是存在的。但可以想象，出现这种概率是有多么多么的小，毕竟噪声电压在±4σ外的概率已经低到了0.006%。从前面15位精度的正态分布表看，到了±8σ的概率已经低到了0.0000000000001%，至于问题里面无穷大电压的场景，应该只具有数学上的可能性，现实中是不会出现的了。
为了避免没抓到重点，这里先小结一下：
电压噪声服从高斯分布（正态分布），并且其有效值Vrms就对应高斯分布的标准差σ。再结合高斯分布的特性，我们一般可以认为电压不超过±3σ，即电压不超过6*Vrms，即评估噪声的时候，可以按照噪声电压峰峰值为6*Vrms。
到这里，那么剩下的问题就是如何计算噪声的有效值Vrms了。
器件一般以频谱密度的方式给出，比如下面是ti的芯片tlv9061给出的噪声参数：
可以看到，噪声的大小是跟频率有关系的，不同频率段的噪声大小不同。除此之外，除了0.1Hz~10Hz是直接以峰峰值给出的，单位是uVpp，这个理解起来完全没问题。另外两个，一个是电压噪声密度，单位是nv/(根号Hz)，另外也是fA/(根号Hz)，理解起来就相对困难，我就想厂家为什么这么给参数呢？直接像0.1Hz~10Hz这样给出峰峰值大小不香吗？这是故意要提高使用门槛吗？
e、噪声参数为什么以根号hz的方式给出？
可以看到，上面是芯片tlv9061规格书中表格的数据，其规格书也给出了噪声参数的曲线，我们来看一下。
看右边的图，横轴是频率，纵轴是电压噪声频谱密度，下面来看下其物理意义吧。
以上解释了为什么噪声电压密度的单位为什么是V/根号Hz，如果要用简短的话概括，那就是：电压有效值是针对做功来说的，而做功相关的参数就是功率谱密度，单位是V^2/Hz或A^2/Hz，功率谱密度开方就是电压/电流幅度谱密度（假定负载是1Ω），单位是：V/根号Hz和A/根号Hz。
需要注意，上面的推导非常的不严谨。要想真正严谨的理解，需要去看大学教材《信号与系统》的第6章节。
值得一提的是，第1步到第2步用到了帕斯瓦尔定理：
现在我们已经知道了上图中的电压噪声频谱密度的物理意义，那么如何将这个转化为Vrms值呢？
f、如何将电压噪声频谱密度转化为Vrms
其实这个转化在上面图片中第3步已经写明了，就是这个式子：
需要注意，上面的积分范围0~∞，是全带宽积分，实际应用中要根据实际的频率范围。看着这个公式不是很直观，下面就以运放为例子来画一个示意图吧。
根据运放手册提供的电压噪声频谱密度，我们将每一个点进行平方，就可以得到右边的功率谱密度，然后在频率上进行积分，这个积分过程就等效为求图中阴影部分的面积，然后我们将求得的面积进行开方，就能得到噪声电压的有效值了，图中计算了从10hz~100Khz带宽内的噪声电压有效值。
实际应用中，我们通常不会求全带宽的，因为实际电路也不是全带宽的，我们实际通常求的是一段带宽范围内的，因此，常用的是下面这个：
上面的过程看着很复杂，只是为了说明最基本的原理，实际评估运放噪声会有一些近似的办法的，这个后面会讲。
总之，将电压噪声频谱密度转化为有效值的原理就是：将电压噪声频谱密度进行平方，转为功率谱密度，然后在带宽范围内积分（求面积），再开方，就能求得有效值电压了。
g、如何将电流噪声频谱密度转化为Irms
电流噪声频谱密度转为电流有效值Irms，其实原理和电压噪声频谱密度的转换一样，因为功率P=U^2/R，也等于P=I^2*R，如果按照前面的过程推一遍，电阻R也是可以消掉的，最终可以求得电流有效值为：
3、两种噪声源
说完了如何将噪声电压频谱密度转化为有效值电压Vrms，以及如何将电流噪声频谱密度转化为有效值电流Irms的原理及公式。
还有个问题，那就是运放电路到底有哪些噪声需要评估呢？只有运放的噪声需要评估吗？
噪声我们一般要评估两种，一种是运放的噪声，一种是电阻的噪声。
下面来继续具体说下如何将它们转化为Vrms和Irms。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcguiguzi.github.io/posts/11969e930f59b5fc07293833258f2d51/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-04T10:18:58+08:00" />
<meta property="article:modified_time" content="2023-05-04T10:18:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程鬼谷子的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程鬼谷子的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">运放噪声评估的来龙去脉</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">友情提示，运放电路的噪声分析还是比较复杂的，不论是基础理论还是对应的推导过程，都不是特别容易。考虑到<span style="color:#FF0000;">兄弟们的基础参差不齐</span>，所以我还是尽量说清楚点，这样导致看起来就有点罗里吧嗦，也会看起来超级复杂，<span style="color:#FF0000;">希望不会劝退</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><strong>1</strong><strong>、关于噪声我想过的几个问题</strong></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">我一般是带着一些问题去学一些东西，找答案，个人感觉这样主动式的要比被动式的理解更为透彻。说下我之前想过的一些问题吧，这些问题也会在后面得到解答。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">问题</span><span style="color:#FF0000;">1</span><span style="color:#FF0000;">：</span>白噪声是随机的，并且是全带宽的，如果某个时刻，正好是各个频率噪声的波峰叠在一起，那噪声电压不是无穷大？概率虽然低，可能性是存在的吧，但是我们好像不会在电路设计中考虑这个问题。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">问题</span><span style="color:#FF0000;">2</span><span style="color:#FF0000;">：</span>一般运放手册给出的噪声参数有两种，分别是电压噪声频谱密度和电流噪声频谱密度，单位分别是伏特除以根号赫兹，和安培除以根号赫兹。这个是什么意思，如何转化为我们常规理解的电压信号呢？</span></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/ae/df/2qrye5tY_o.png"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">问题</span><span style="color:#FF0000;">3</span><span style="color:#FF0000;">：</span>运放的噪声跟构成的电路增益有关吗？会不会被放大？</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">问题</span><span style="color:#FF0000;">4</span><span style="color:#FF0000;">：</span>对于一个具体的运算放大器放大电路，如何评估输出端的电压噪声大小？</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">我们就带着上面的问题来学习下。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><strong>2</strong><strong>、噪声参数与分析基本原理</strong></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#0000FF;"> </span><img alt="" height="405" src="https://images2.imgbox.com/78/7f/8OLegksR_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#0052ff;">a</span><span style="color:#0052ff;">、噪声类型</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">噪声可以分为两类：外部噪声和固有噪声，<span style="color:#FF0000;">我们本节主要评估运放的固有噪声</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">外部噪声：</span>外部电路或自然因素导致的噪声，比如220V的市电干扰，宇宙辐射都是外部噪声。外部噪声很难估计。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">固有噪声：</span>固有噪声是由电路的元器件引起的，比如电阻和半导体器件都可以产生噪声。固有噪声可以估计。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#0052ff;">b</span><span style="color:#0052ff;">、噪声波形特点</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">宽带噪声波形（高斯分布）：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="401" src="https://images2.imgbox.com/49/4c/Q0nGLiVo_o.png" width="861"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">1/f噪声波形（高斯分布）：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="449" src="https://images2.imgbox.com/bf/78/YWNzfX7N_o.png" width="868"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">爆米花噪声波形（几个高斯分布叠加）：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="373" src="https://images2.imgbox.com/6a/d8/AKYzQYi2_o.png" width="857"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">可能看这个图一下子有点蒙，噪声的波形倒是很直观，但是右边那个旋转90°的正态分布是个什么啥意思？这就不得不说<span style="color:#FF0000;">噪声的分析方法</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#0052ff;">c</span><span style="color:#0052ff;">、噪声的分析方法</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">我们在电路中通常需要<span style="color:#FF0000;">评估电路噪声在时域的峰峰值</span>。但是噪声又是一个随机的过程，幅度随时间变化而变化，我们没办法预估一个噪声信号在某一个时刻的瞬间值，所以我们是在<span style="color:#FF0000;">统计学的基础</span>上对噪声进行分析的。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">啥叫在统计学的基础上分析呢？就比如我们丢硬币，正面和反面是随机的，没法预先知道我们下一次丢硬币到底是正面还是反面，但是我们知道各自的概率是50%，如果实验次数足够多，那么最终正面和反面的次数各占总次数的50%。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">现在我们评估的噪声也是随机的，我们也没办法知道下一刻噪声信号具体长什么样子，但是我们可以评估，如果我们拿示波器去采样这个信号的话，会知道它落在某一个电压范围的概率是多少，根据这个概率信息，我们可以推断出我们的噪声的峰峰值是多大。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">在电路分析中，使用<span style="color:#FF0000;">概率分布函数将均方根噪声转化为峰峰值噪声</span>。如下图，左边为噪声的时域波形，右边为高斯分布，<span style="color:#FF0000;">高斯分布也叫正态分布</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="489" src="https://images2.imgbox.com/6d/15/OzHPK0kc_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">正态分布有两个参数，一个叫期望值μ（也叫平均值），另外一个参数叫标准差σ，图中有一个<span style="color:#FF0000;">非常重要</span>的地方，那就是<span style="color:#FF0000;">RMS</span><span style="color:#FF0000;">值等于标准差</span><span style="color:#FF0000;">σ</span><span style="color:#FF0000;">（</span><span style="color:#FF0000;">μ=0</span><span style="color:#FF0000;">）</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#0052ff;">d</span><span style="color:#0052ff;">、为啥噪声的有效值</span><span style="color:#0052ff;">Vrms</span><span style="color:#0052ff;">等于其正态分布的标准差</span><span style="color:#0052ff;">σ</span><span style="color:#0052ff;">呢？</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">这可以从有效值的这个词的意义里面推导出来。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">有效值：</span>如果某个交流电，与某个电压的直流电热效应相等，那么就可以认为该直流电的电压就是这个交流电电压的有效值。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="197" src="https://images2.imgbox.com/eb/d1/6Mz3wGku_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">从<span style="color:#FF0000;">有效值的定义</span>看，有效值是热效应的等效，也就是针对<span style="color:#FF0000;">做功</span>来说的。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">我们再看标准差的公式：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="144" src="https://images2.imgbox.com/62/1e/70Yf1QYQ_o.png" width="639"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">前面说了，噪声电压符合高斯分布，用统计学的方法来看，有下面的<span style="color:#FF0000;">推导过程：</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="339" src="https://images2.imgbox.com/f3/31/MEsUBZI5_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">以上过程只是为了理解一句话：噪声的有效值</span><span style="color:#FF0000;">Vrms</span><span style="color:#FF0000;">等于其正态分布的标准差</span><span style="color:#FF0000;">σ</span><span style="color:#FF0000;">。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">上面推导过程看着有点费劲，看不明白记住也行，<span style="color:#FF0000;">这也不是本节内容的重点</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">总之，我们就是知道了：噪声电压的有效值等于其正态分布的标准差σ，<span style="color:#FF0000;">那这有什么用呢？</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">回到我们的目标——<span style="color:#FF0000;">我们要知道噪声的峰峰值有多大</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">我们通常可以计算出噪声的有效值有多大，但这不是我们的最终目的，我们的最终目的是要知道噪声的峰峰值有多大，这是我们设计电路时更关心的。在我们知道了有效值，那么也就知道了噪声电压对应正态分布的标准差，最终我们<span style="color:#FF0000;">就能知道某个时刻噪声电压在某个范围内的概率有多大</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">还记得大学教材《概率论与数理统计》最后面附表里面的“标准正态数据分布表”吗？我在网上找了一个更为精确的正态分布表，精确到了小数点15位，如下图：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="448" src="https://images2.imgbox.com/bf/32/Y65V3Zh2_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">我们可以从中得到峰峰值电压小于某一个值的概率，如下表所示：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="218" src="https://images2.imgbox.com/14/82/fniyATNN_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">可能还是不太明白这个表是啥意思？简单说就是，我们对有效值为Vrms的噪声进行采样，其采样值落在-σ到+σ之间的概率是68%，落在-2σ和+2σ之间的概率是95.45%，落在-3σ和+3σ之间的概率是99.73%。这意味着<span style="color:#FF0000;">幅值很大的电压值出现的概率很小</span>，比如落在-4σ和+4σ的概率是99.994%，即电压超过±4σ的电压出现的概率是0.006%，这个概率是很低的。如果我们拿示波器去测量这个电压，在示波器界面可能是看不到超过±4σ的电压信号的，毕竟示波器采样的数据量有限，除非说我们观察非常久的时间，可能捕捉到一个更高的电压信号，但通常我们也不会这么干。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">从前面的正态分布表也可以知道，采样值落在8σ内的概率已经是99.9999999999999%，也就是说电压值<span style="color:#FF0000;">超出</span><span style="color:#FF0000;">±8σ</span><span style="color:#FF0000;">的概率是</span><span style="color:#FF0000;">0.0000000000001%</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">基于上面的概率问题，<span style="color:#FF0000;">一般评估噪声的峰峰值电压是</span><span style="color:#FF0000;">±3σ</span><span style="color:#FF0000;">对应的换算系数，也就是认为噪声的峰峰值为</span><span style="color:#FF0000;">6*vrms</span><span style="color:#FF0000;">，如果对噪声容忍程度非常低，可以用</span><span style="color:#FF0000;">±4σ</span><span style="color:#FF0000;">或更高的换算系数</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">以上就是使用统计学评估噪声的基本原理，到这里已经可以回答前面的问题1：</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">问题</span><span style="color:#FF0000;">1</span><span style="color:#FF0000;">：</span>白噪声是随机的，并且是全带宽的，如果某个时刻，正好是各个频率的波峰叠在一起，那噪声电压不是无穷大？概率虽然低，但可能性是在的吧，但是我们好像不会考虑这个问题。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">答：</span>如果用统计学的方法看，因为正态分布两边是无限延伸的，这种情况也是存在的。但可以想象，出现这种概率是有多么多么的小，毕竟噪声电压在±4σ外的概率已经低到了0.006%。从前面15位精度的正态分布表看，到了±8σ的概率已经低到了0.0000000000001%，至于问题里面无穷大电压的场景，<span style="color:#FF0000;">应该只具有数学上的可能性，现实中是不会出现的了</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">为了避免没抓到重点，这里先<span style="color:#FF0000;">小结一下</span>：</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">电压噪声服从高斯分布（正态分布），并且其有效值</span><span style="color:#FF0000;">Vrms</span><span style="color:#FF0000;">就对应高斯分布的标准差</span><span style="color:#FF0000;">σ</span><span style="color:#FF0000;">。再结合高斯分布的特性，我们一般可以认为电压不超过</span><span style="color:#FF0000;">±3σ</span><span style="color:#FF0000;">，即电压不超过</span><span style="color:#FF0000;">6*Vrms</span><span style="color:#FF0000;">，即评估噪声的时候，可以按照噪声电压峰峰值为</span><span style="color:#FF0000;">6*Vrms</span><span style="color:#FF0000;">。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">到这里，那么剩下的问题就是<span style="color:#FF0000;">如何计算噪声的有效值</span><span style="color:#FF0000;">Vrms</span>了。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> 器件一般以<span style="color:#FF0000;">频谱密度</span>的方式给出，比如下面是ti的芯片tlv9061给出的噪声参数：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="116" src="https://images2.imgbox.com/4b/75/4QsY7XfN_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">可以看到，<span style="color:#FF0000;">噪声的大小是跟频率有关系</span>的，不同频率段的噪声大小不同。除此之外，除了0.1Hz~10Hz是直接以峰峰值给出的，单位是uVpp，这个理解起来完全没问题。另外两个，一个是电压噪声密度，单位是nv/(根号Hz)，另外也是fA/(根号Hz)，理解起来就相对困难，我就想厂家为什么这么给参数呢？<span style="color:#FF0000;">直接像</span><span style="color:#FF0000;">0.1Hz~10Hz</span><span style="color:#FF0000;">这样给出峰峰值大小不香吗？这是故意要提高使用门槛吗？</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#0052ff;">e</span><span style="color:#0052ff;">、噪声参数为什么以根号</span><span style="color:#0052ff;">hz</span><span style="color:#0052ff;">的方式给出？</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">可以看到，上面是芯片tlv9061规格书中表格的数据，其规格书也给出了噪声参数的曲线，我们来看一下。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="377" src="https://images2.imgbox.com/e3/57/MOdZya3h_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">看右边的图，横轴是频率，纵轴是<span style="color:#FF0000;">电压噪声频谱密度</span>，下面来看下其物理意义吧。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="561" src="https://images2.imgbox.com/d0/64/ed9PWSFA_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">以上解释了为什么噪声电压密度的单位为什么是V/根号Hz，<span style="color:#FF0000;">如果要用简短的话概括，那就是</span>：电压有效值是针对做功来说的，而做功相关的参数就是功率谱密度，单位是V^2/Hz或A^2/Hz，功率谱密度开方就是电压/电流幅度谱密度（假定负载是1Ω），单位是：V/根号Hz和A/根号Hz。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">需要注意，上面的推导非常的不严谨</span>。要想真正严谨的理解，<span style="color:#FF0000;">需要去看大学教材《信号与系统》的第</span><span style="color:#FF0000;">6</span><span style="color:#FF0000;">章节</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">值得一提的是，第1步到第2步用到了帕斯瓦尔定理：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="247" src="https://images2.imgbox.com/5b/67/KPJbBBPp_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">现在我们已经知道了上图中的电压噪声频谱密度的物理意义，<span style="color:#FF0000;">那么如何将这个转化为</span><span style="color:#FF0000;">Vrms</span><span style="color:#FF0000;">值呢？</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#0052ff;">f</span><span style="color:#0052ff;">、如何将电压噪声频谱密度转化为</span><span style="color:#0052ff;">Vrms</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">其实这个转化在上面图片中第3步已经写明了，就是这个式子：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">需要注意，上面的积分范围0~∞，是全带宽积分，实际应用中要根据<span style="color:#FF0000;">实际的频率范围</span>。看着这个公式不是很直观，下面就以运放为例子来画一个示意图吧。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="407" src="https://images2.imgbox.com/e4/ab/qeFfeHhf_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">根据运放手册提供的电压噪声频谱密度，我们将每一个点进行平方，就可以得到右边的功率谱密度，然后在频率上进行积分，这个积分过程就等效为求图中阴影部分的面积，然后我们将求得的面积进行开方，就能得到噪声电压的有效值了，图中计算了从10hz~100Khz带宽内的噪声电压有效值。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">实际应用中，我们通常不会求全带宽的，因为实际电路也不是全带宽的，我们实际通常求的是一段带宽范围内的，因此，常用的是下面这个：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="184" src="https://images2.imgbox.com/d3/60/3b5kK24H_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">上面的过程看着很复杂，只是为了说明最基本的原理，实际评估运放噪声会有一些近似的办法的，这个后面会讲。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">总之，将电压噪声频谱密度转化为有效值的<span style="color:#FF0000;">原理</span>就是：<span style="color:#FF0000;">将电压噪声频谱密度进行平方，转为功率谱密度，然后在带宽范围内积分（求面积），再开方，就能求得有效值电压了。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#0052ff;">g</span><span style="color:#0052ff;">、如何将电流噪声频谱密度转化为</span><span style="color:#0052ff;">Irms</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">电流噪声频谱密度转为电流有效值Irms，其实原理和电压噪声频谱密度的转换一样，因为功率P=U^2/R，也等于P=I^2*R，如果按照前面的过程推一遍，电阻R也是可以消掉的，最终可以求得电流有效值为：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="184" src="https://images2.imgbox.com/ae/0a/1JdyI34f_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><strong>3</strong><strong>、两种噪声源</strong></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">说完了如何将噪声电压频谱密度转化为有效值电压Vrms，以及如何将电流噪声频谱密度转化为有效值电流Irms的原理及公式。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">还有个问题，<span style="color:#FF0000;">那就是运放电路到底有哪些噪声需要评估呢？只有运放的噪声需要评估吗？</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">噪声我们一般要评估<span style="color:#FF0000;">两种</span>，一种是<span style="color:#FF0000;">运放的噪声</span>，一种是<span style="color:#FF0000;">电阻的噪声</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="214" src="https://images2.imgbox.com/5c/34/7QJ9M5cI_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">下面来继续具体说下如何将它们转化为Vrms和Irms。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><strong>4</strong><strong>、运放本身的噪声</strong><strong>Vrms</strong><strong>，</strong><strong>Irms</strong><strong>计算</strong></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">运放的噪声有<span style="color:#FF0000;">电压噪声</span>和<span style="color:#FF0000;">电流噪声</span>，如下图是ti的运放芯片tlv9061给出的噪声参数，给出的是电压噪声频谱密度和电流噪声频谱密度。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="116" src="https://images2.imgbox.com/ab/6a/enEOj4Zx_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">     也给出了对应的电压噪声密度曲线：</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="598" src="https://images2.imgbox.com/ae/44/XF4XnMV5_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">前面我们已经知道了求运放噪声的基本原理：<span style="color:#FF0000;">将噪声电压频谱密度进行平方，转为功率谱密度，然后在带宽范围内积分（求面积），再开方，就能求得有效值电压了。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#000000;">问题是这个求面积</span><span style="color:#FF0000;">可操作性实在是太差了，这个面积很不好求，那么有什么办法呢？</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">办法自然是有，那就是将上面的曲线分成两部分，分别是<span style="color:#FF0000;">1/f</span><span style="color:#FF0000;">噪声</span>和<span style="color:#FF0000;">宽带噪声</span>，如下图所示。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="556" src="https://images2.imgbox.com/ca/35/hPz7k4Fu_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">我们在手册中看到的电压噪声频谱密度曲线可以看作是1/f噪声和宽带噪声的叠加（平方后相加再开根号），<span style="color:#FF0000;">叠加起来之后的曲线看起来不规则，导致我们难以计算</span>。所以真正计算噪声的时候，我们又需要将这个噪声分解为1/f噪声和宽带噪声两部分。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#0052ff;">a</span><span style="color:#0052ff;">、宽带噪声</span><span style="color:#0052ff;">Vrms_bw</span><span style="color:#0052ff;">的计算</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">因为宽带噪声曲线是平的，很好计算，就先看宽带噪声的计算方法吧。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">既然宽带噪声密度曲线是平的，也就是说<span style="color:#FF0000;">其是一个常量，用字母</span><span style="color:#FF0000;">B</span><span style="color:#FF0000;">来表示吧</span>，那么其在频率fa~fb频带内的噪声可以用下面公式计算：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="241" src="https://images2.imgbox.com/c1/77/RvPo1kMY_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">     <span style="color:#FF0000;">举个例子：求</span><span style="color:#FF0000;">tlv9061</span><span style="color:#FF0000;">在</span><span style="color:#FF0000;">0.1Hz~100Khz</span><span style="color:#FF0000;">频带内的宽带噪声电压有效值？</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">首先从曲线上看出，在10Khz以后，噪声电压频谱密度为10nV/根号赫兹，这个就是宽带噪声电压频谱密度，即对应上面公式的B=10nV/根号赫兹。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="386" src="https://images2.imgbox.com/d1/c3/gWsmF7jw_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">     套用上面的公式，最终可求得在0.1hz~100Khz带宽内的宽带电压噪声有效值为3162nV。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#0052ff;">b</span><span style="color:#0052ff;">、</span><span style="color:#0052ff;">1/f</span><span style="color:#0052ff;">噪声</span><span style="color:#0052ff;">Vrms_1/f</span><span style="color:#0052ff;">的计算</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">再看看啥叫1/f噪声。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">顾名思义，1/f噪声，说的就是<span style="color:#FF0000;">功率谱密度曲线与频率之间满足</span><span style="color:#FF0000;">1/f</span><span style="color:#FF0000;">的规律</span>，注意，这里是功率谱密度，不是电压频谱密度。如果是<span style="color:#FF0000;">电压频谱密度，那么就是满足</span><span style="color:#FF0000;">1/</span><span style="color:#FF0000;">（根号</span><span style="color:#FF0000;">f</span><span style="color:#FF0000;">）的规律</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">如果在频率1Hz处的1/f电压噪声频谱密度是A，那么根据1/f的规律，频率f处的1/f电压噪声频谱密度值有如下关系式：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="413" src="https://images2.imgbox.com/a0/98/z2vz91G0_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">根据上面这个式子，我们就可以得到一定频率范围内1/f电压噪声的有效值，计算方法如下：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="401" src="https://images2.imgbox.com/00/ef/CHu3ysZ3_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">还是以</span><span style="color:#FF0000;">tlv9061</span><span style="color:#FF0000;">举例子：求</span><span style="color:#FF0000;">tlv9061</span><span style="color:#FF0000;">在</span><span style="color:#FF0000;">0.1Hz~100Khz</span><span style="color:#FF0000;">内的</span><span style="color:#FF0000;">1/f</span><span style="color:#FF0000;">电压噪声有效值？</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">规格书中只给了10Hz~100Hz的电压噪声频谱密度曲线，因此，无法直接从图中得到1Hz的电压噪声频谱密度A，规格书的数据表格也没有提供这个参数，那怎么办呢？</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">其实我们可以从1/f噪声的定义推测出来，我们可以先求得10Hz处的1/f噪声，然后根据前面的1/f噪声频谱密度公式推算出来A的大小。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">具体过程如下：</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">首先从曲线上面可以得到10Hz处的总的电压噪声频谱密度为：E10hz（总）=110nV/根号hz，然后我们又知道10Hz出的宽带电压噪声频谱密度为：10nV/根号hz。再根据叠加关系，就可以得到10Hz处的1/f噪声。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="319" src="https://images2.imgbox.com/86/cf/8WLShoJK_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">然后根据前面的1/f电压噪声频谱密度公式可求得A的值，再利用Vrms_1/f公式求得最终的噪声电压有效值为1286nV。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="649" src="https://images2.imgbox.com/01/6a/PUL3BRT5_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#0052ff;">c</span><span style="color:#0052ff;">、总电压噪声</span><span style="color:#0052ff;">Vrms</span><span style="color:#0052ff;">计算</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">前面我们将噪声分解为1/f噪声Vrms_1/f和宽带噪声Vrms_bw，现在已经知道怎么求各自的有效值了，现在还需要将它们合并，求最终的噪声电压有效值。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">也很简单，只需要将它们平方之后相加再开根号就可以了，注意，<span style="color:#FF0000;">不要直接将两个电压值相加</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="281" src="https://images2.imgbox.com/d2/64/CNJmYI6m_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">为什么不是直接相加？</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">其实也可以从电压做功的角度考虑，因为做功电压是要平方的，如果直接相加，那么分别计算做的功相加，和电压先相加再计算做的功必然不相等。比如如果二者都是1V，那么分别在R上做的功为：1V*1V*R+1V*1V*R=2R；电压相加做的功：（1V+1V）*（1V+1V）*R=4R，两者是不相等的。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">所以按照前面的例子，1/f电压噪声有效值是1286nV，宽带电压噪声是3162nV，那么最终的总电压噪声有效值就是他们俩和的平方根，即<span style="color:#FF0000;">3413nV</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="332" src="https://images2.imgbox.com/48/04/aqBektMB_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#0052ff;">e</span><span style="color:#0052ff;">、总电流噪声</span><span style="color:#0052ff;">Irms</span><span style="color:#0052ff;">计算</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">上面举的例子都是电压噪声Vrms计算，其实电流噪声Irms也是一样的，也是分别计算1/f电流噪声和宽带电流噪声，然后将两者计算平方和根即可。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="281" src="https://images2.imgbox.com/e0/d7/vKMh7FaP_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">不过因为前面举例子的芯片tlv9061没有给全电流噪声参数，只有一个1Khz的电流噪声密度值，也没有对应的曲线，所以没办法具体计算。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="99" src="https://images2.imgbox.com/8e/bc/iyYqjgCJ_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">至于厂家为什么没有标出来，那是因为这个放大器CMOS型放大器，电流非常小，电流噪声就更小了。从上表可以看出，这颗放大器的电压噪声是nV级，而电流噪声是fA级，中间还隔着pA级，也就是说，<span style="color:#FF0000;">电流噪声远小于电压噪声，因此电流噪声可以忽略掉</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">为了说明电流噪声</span><span style="color:#FF0000;">Irms</span><span style="color:#FF0000;">如何计算，还是举个例子吧</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">因为手册中只给出了1Khz时的电流噪声频谱密度为23fA/根号赫兹，从噪声频谱密度曲线形状上我们知道，在低频时噪声密度值随频率升高而下降，高频时噪声密度随频率基本不变，其约等于宽带噪声。由此我们知道这个放大器的宽带噪声密度肯定是小于23fA/根号赫兹的，<span style="color:#FF0000;">我们暂且就用</span><span style="color:#FF0000;">23fA/</span><span style="color:#FF0000;">根号赫兹这个参数计算宽带噪声</span>，知道这个计算出来的值要比实际情况大就好。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">最终计算0.1Hz~100Khz的宽带电流噪声有效值Irms_bw为7.3nA，计算过程如下</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="355" src="https://images2.imgbox.com/11/1f/DDckeiUh_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#0052ff;">d</span><span style="color:#0052ff;">、带宽确定</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">到这里已经说明了如何求得fa~fb频带内的噪声有效值，那问题来了，<span style="color:#FF0000;">为什么不求</span><span style="color:#FF0000;">0~∞</span><span style="color:#FF0000;">带宽的噪声有效值呢？而只求一部分？</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">下限频率</span><span style="color:#FF0000;">fa</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">为什么下限频率</span><span style="color:#FF0000;">fa</span><span style="color:#FF0000;">不能是</span><span style="color:#FF0000;">0</span><span style="color:#FF0000;">呢？</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">这是因为，我们是从统计学的方法分析的噪声，如果最低频率为0，那么意味值时间为无穷大，这显然不符合常理。另外一方面，如果fa=0，那么其电压噪声频谱密度为无穷大，这也是没法计算的。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="139" src="https://images2.imgbox.com/15/52/4KE3jPmh_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">工程上认为，当噪声频率低于0.1Hz，即10s以上发作一次的事件，一般可以被认为是人为、环境因素带来的扰动，这可能与运放电路本身无关。因此，<span style="color:#FF0000;">绝大多数情况下，计算</span><span style="color:#FF0000;">1/f</span><span style="color:#FF0000;">噪声，下限取值为</span><span style="color:#FF0000;">0.1Hz</span><span style="color:#FF0000;">。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">上限频率</span><span style="color:#FF0000;">fb</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">上限频率</span><span style="color:#FF0000;">fb</span><span style="color:#FF0000;">为什么不能是无穷大呢？</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">首先，如果上限是fb，那么不论是1/f噪声，还是宽带噪声，最终的结果都会是无穷大，这也是不符合常理的。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="302" src="https://images2.imgbox.com/52/a0/m2WuSDDn_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">另外一方面，我们的运放电路本身都是有上限截止频率的，类似于一个低通滤波器，还记得运放有一个参数增益带宽积GBW吗？<span style="color:#FF0000;">频率到一定程度，运放都放大不了信号的</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">如下图是tlv9061的开环曲线，频率超过100Hz之后， <span style="color:#FF0000;">每</span><span style="color:#FF0000;">10</span><span style="color:#FF0000;">倍频下降</span><span style="color:#FF0000;">20dB</span>，<span style="color:#FF0000;">这个特性跟一阶低通滤波器是一样的</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="686" src="https://images2.imgbox.com/a6/ba/sMfWgWqy_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">当然，运放一般不是在开环的时候用，我们再看看闭环电路的增益情况。下图是tlv9061手册中的闭环增益曲线，可以看到，闭环增益为10倍时，在1Mhz以后，也是每10倍频下降20db，其曲线像是一个截止频率为1Mhz的低通滤波器。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="728" src="https://images2.imgbox.com/3e/4f/0aYox8WU_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">总之，我们在使用运放的时候，其最终的幅频特性就类似一个低通滤波器，其<span style="color:#FF0000;">截止频率就是闭环的带宽</span>。这个滤波器也会滤掉高频的噪声，所以说评估噪声的时候，不能认为噪声上限是无穷的，我们要确定好上限频率fb。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">那问题来了，<span style="color:#FF0000;">上限频率是等效滤波器的截止频率吗？</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">答案是否定的，</span>因为滤波器的截止频率一般说的是3db的，3db往后噪声只是被衰减了，并不是没有了。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="349" src="https://images2.imgbox.com/45/29/wqtcponC_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">如果说高于截止频率之后，增益立马变为0，那么上限频率等于截止频率没问题，但问题是现在这个滤波器并非砖墙滤波器（频带内完全不衰减，频带外完全衰减为0），所以，如果我们直接<span style="color:#FF0000;">草率的让上限频率</span><span style="color:#FF0000;">fb</span><span style="color:#FF0000;">等于截止频率，那么是不符合实际的</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">可能会有同学认为，<span style="color:#FF0000;">截止频率之后看着幅度衰减很快，忽略也不要紧吧？</span>其实不然，因为这是个对数坐标轴，也就是说频率增大10倍才下降20db，从截止频率下降20db的频率范围其实很宽，因此不能忽略。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="467" src="https://images2.imgbox.com/bf/e8/4KWudZBO_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">既然问题不能忽略，那又尬住了，这个上限频率</span><span style="color:#FF0000;">fb</span><span style="color:#FF0000;">咋办？</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">可以用等效的方法，<span style="color:#FF0000;">原理如下</span>：假设有一个砖墙滤波器，其截止频率为fh，如果其带宽内的噪声电压有效值等于这个滤波器的噪声电压有效值，那么我们就可以把这个fh看作是我们要的上限频率fb。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">结合前面铺垫的基础，只需要让下面两部分的面积相等，就能求得fh和f截止的关系，进而就能求得上限频率fb=fh了（<span style="color:#FF0000;">注意，下图的纵轴是电压频谱密度的平方</span>，并不是增益曲线，其形状应该是增益平方后对应的形状）。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="479" src="https://images2.imgbox.com/8a/ac/O3nDh74k_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">后面的等效计算完全就是个数学问题，这里就不推导了，直接拿结论来用吧，<span style="color:#FF0000;">fh=1.57*f</span><span style="color:#FF0000;">截止，即上限频率是滤波器截止频率的</span><span style="color:#FF0000;">1.57</span><span style="color:#FF0000;">倍</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">注意，这里的数学计算是将噪声看成是宽带噪声来算的，忽略了1/f噪声，因为在高频段，1/f噪声的贡献本身非常小，所以忽略是没问题的。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">其次需要注意，如果我们的电路本身就是滤波器电路，并且阶数不是一阶，那么这个系数也需要对于的变化。这应该比较容易明白，如果是<span style="color:#FF0000;">高阶滤波器，那么曲线更陡峭，更加接近于砖墙滤波器，其系数应该更小</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">下面是各种滤波器的系数：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="285" src="https://images2.imgbox.com/26/c6/cqQluMc4_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">举个例子：现用</span><span style="color:#FF0000;">tlv9061</span><span style="color:#FF0000;">设计了一个放大</span><span style="color:#FF0000;">5</span><span style="color:#FF0000;">倍的放大器，电路本身并非是滤波器电路，请问其评估噪声的时候带宽是多少？</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">答：如前面的分析，频率下限按照fa=0.1Hz；查看手册，TLV9061的增益带宽积是10Mhz，放大倍数为5倍，所以其闭环增益带宽为：10Mhz/5=2Mhz，这个电路本身并非滤波器，因此等效为一阶滤波器，截止频率为2Mhz，再乘以一阶滤波器的系数1.57，可求得频率上限fb=1.57*2Mhz=3.14Mhz。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">总之，我们在评估带宽的时候，下限可以按照0.1Hz来评估。<span style="color:#FF0000;">上限要看电路本身是否是滤波器</span>，如果不是滤波器，可以先求得对应的闭环带宽，然后乘以对应的系数，就能得出上限频率了；如果是低通滤波器，则直接用滤波器的截止频率乘以对应的系数，也能得到上限频率。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><strong>5</strong><strong>、电阻的噪声</strong><strong>Vrms_r</strong><strong>的计算</strong></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">关于运放的噪声已经说明白了，那么电阻噪声呢？</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">电阻噪声一般说的是热噪声，也是白噪声，其特点是各个频率的噪声能量相同，即噪声密度是一条平坦的曲线。它的RMS值与带宽的平方根成正比，随着带宽的增加，电阻的噪声会成为电路噪声的主要因素。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">电阻的电压噪声有效值计算相对简单，只跟电阻阻值的大小，温度，带宽三者有关，可以用下面公式计算：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="194" src="https://images2.imgbox.com/03/eb/srsoiob0_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">我们也可以根据上面的公式，反推得到电阻的电压噪声频谱密度公式，下图即是电阻的电压噪声密度公式，以及常见电阻在25℃下的电压噪声频谱密度。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="198" src="https://images2.imgbox.com/85/66/3HD6TyEF_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">实际电路设计中，我们可以根据上表快速的近似估算电阻的噪声大小。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">根据上面的公式，我们可以推导出：<span style="color:#FF0000;">无论并联，串联，只要最终总的电阻阻值一致，都是不会改变电阻的热噪声的</span>，过程就不证明了。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><strong>6</strong><strong>、总的电压噪声输出计算</strong></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">至此，我们已经知道如何求得运放，电阻各自的电压噪声有效值，但这还不是我们最终的目的，我们<span style="color:#FF0000;">需要知道的是我们设计的电路输出的总的电压噪声大小</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">其实后面就简单了，我们<span style="color:#FF0000;">只需要将噪声源加到电路当中去就可以了，然后利用叠加原理分别计算不同噪声源对输出噪声的贡献，最后就可以求得最终输出端的总噪声大小了</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#0052ff;">a</span><span style="color:#0052ff;">、放大器电路噪声模型</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">下图是常见的同相放大器放大电路：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="551" src="https://images2.imgbox.com/e9/3d/sEthZMFX_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">我们给每个电阻加上电压噪声，给放大器加上电压噪声和电流噪声，最终可构建如下图所示的电路噪声模型。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="519" src="https://images2.imgbox.com/62/b5/g54PSauY_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">这里需要提一点，我们前面已经知道了运放的电流噪声有效值<span style="color:#FF0000;">Irms</span>如何计算，但是这个模型里面是有两个电流噪声的，分别是同相端电流噪声in+_rms和反相端电流噪声in-_rms，一般我们认为计算出的电流噪声<span style="color:#FF0000;">Irms=in+_rms=in-_rms</span>。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">加上所有的噪声信号之后，这个电路看起来非常复杂，看着有点头大，那么输出端总的电压噪声该如何计算呢？</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#0052ff;">b</span><span style="color:#0052ff;">、放大器电路的总噪声有效值</span><span style="color:#0052ff;">Vn_rms_out</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">其实开头已经说了，我们<span style="color:#FF0000;">只需要将噪声源加到电路当中去就可以了，利用叠加原理然后分别计算不同噪声源对输出噪声的贡献，就可以求得最终输出端的总噪声大小了。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">具体如何求呢？</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">上图中有3个电阻，就有3个电阻电压噪声，然后放大器同相和反相端各有1个电流噪声，还有一个运放的电压噪声，总共6个噪声源，我们要分别求这6个噪声源在输出端产生的噪声大小。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">因为我们电路是线性电路，因此满足叠加原理，可以求得6个噪声的表达式如下，然后将这些噪声求平方和，然后开根号，就能得到我们最终总的输出电压总噪声Vn_rms_out了。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="416" src="https://images2.imgbox.com/bc/d4/3t6E9UcB_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">这里有个问题，不是利用叠加原理吗？为什么最终总的电压噪声有效值不是将这</span><span style="color:#FF0000;">6</span><span style="color:#FF0000;">个直接加起来呢？而是取平方，累加之后再开方呢？</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">其实原理跟1/f噪声和宽带噪声叠加的原理一样，我们现在计算的6个噪声都是有效值，合并之后计算总的输出也是有效值，既然都是有效值，那么就是叠加后要满足做功相等，所以就是平方后累加再开方。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">下面写明了如何求得6个噪声的表达式，其实如果对运放的虚短和虚断理解清晰，应该就不在话下了。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">1</span><span style="color:#FF0000;">、放大器电压噪声</span><span style="color:#FF0000;">Vn_rms</span><span style="color:#FF0000;">对输出端的贡献</span><span style="color:#FF0000;">Vn_rms_out</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">单独评估放大器电压噪声Vn_rms对输出端的贡献，那么我们<span style="color:#FF0000;">令其它的噪声不存在，电压噪声统统视为短路，电流噪声通通视为断路</span>。同时我们是评估噪声的影响，那么<span style="color:#FF0000;">令输入信号也为</span><span style="color:#FF0000;">0</span><span style="color:#FF0000;">，即输入接地</span>，最终等效电路如下图：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="509" src="https://images2.imgbox.com/6a/b6/k9yrDl8d_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">根据运放的基本特性，我们很容易就能求出Vn_rms在输出端的贡献电压了，过程如下：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="407" src="https://images2.imgbox.com/6f/86/M1PEZOdo_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">上面这个电路其实就是个常见的同相放大电路，放大倍数就是1+R1/R2，输入信号是Vn_rms，上面的过程我只不过是按照运放虚断和虚短的基本特性又推导了一遍而已。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">继续看剩下的5个噪声对输出的贡献。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">2</span><span style="color:#FF0000;">、放大器正相端电流噪声</span><span style="color:#FF0000;">In+_rms</span><span style="color:#FF0000;">对输出噪声的贡献</span><span style="color:#FF0000;">Vn+_rms_out</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">同样的道理，其它的电压噪声视为短路，电流噪声视为开路，输入接地，电路图变成如下：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="446" src="https://images2.imgbox.com/95/12/h2Kq3rk6_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">很容计算出正相端电流噪声在输出端的贡献如下：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="333" src="https://images2.imgbox.com/32/26/ByJN9xZ5_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">3</span><span style="color:#FF0000;">、放大器负相端电流噪声</span><span style="color:#FF0000;">In-_rms</span><span style="color:#FF0000;">对输出噪声的贡献</span><span style="color:#FF0000;">Vn-_rms_out</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="378" src="https://images2.imgbox.com/6d/a3/UmZz4ll9_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">4</span><span style="color:#FF0000;">、电阻</span><span style="color:#FF0000;">Rp</span><span style="color:#FF0000;">的噪声</span><span style="color:#FF0000;">Vn_rms_rp</span><span style="color:#FF0000;">对输出的贡献</span><span style="color:#FF0000;">Vn_rms_rp_out</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="364" src="https://images2.imgbox.com/e7/d3/DFenNVAA_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">5</span><span style="color:#FF0000;">、电阻</span><span style="color:#FF0000;">R1</span><span style="color:#FF0000;">的噪声</span><span style="color:#FF0000;">Vn_rms_r1</span><span style="color:#FF0000;">对输出的贡献</span><span style="color:#FF0000;">Vn_rms_r1_out</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="364" src="https://images2.imgbox.com/ad/f1/l4TqnCvo_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#FF0000;">6</span><span style="color:#FF0000;">、电阻</span><span style="color:#FF0000;">R2</span><span style="color:#FF0000;">的噪声</span><span style="color:#FF0000;">Vn_rms_r2</span><span style="color:#FF0000;">对输出的贡献</span><span style="color:#FF0000;">Vn_rms_r2_out</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#0052ff;">c</span><span style="color:#0052ff;">、总输出噪声峰峰值</span><span style="color:#0052ff;">Vn_pp_out</span><span style="color:#0052ff;">计算</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">求出了总输出噪声Vn_rms_out后，我们直接将其乘以6（原因已在前面“噪声参数与分析基本原理”说明了），即可求得峰峰值噪声了。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="105" src="https://images2.imgbox.com/4a/5f/3nr83FLA_o.png" width="875"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"><span style="color:#0000FF;">小结</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;"> </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">本节内容到这里就结束了，小结一下：</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">1、评估噪声是基于统计学，根据噪声有效值评估噪声峰峰值的大小。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">2、整个运放电路的噪声包括电阻噪声和运放噪声；运放噪声分为电压噪声和电流噪声，其中各自又包含两部分，分别是1/f噪声和宽带噪声。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">3、评估噪声跟电路的带宽有很大关系，下限一般是0.1Hz，上限一般是1.57*GBW/增益（滤波电路除外）</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">4、需要分别求出运放电压噪声，电流噪声，以及电阻噪声在输出端的贡献，然后求平方和再开方，最终才是输出端的电压噪声有效值。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#FFFFFF;">6、最终电压噪声有效值乘以6，即可得到电路输出端的电压噪声峰峰值。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1404253c986a3b172183e35371acc881/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【计算机网络】图解内容分发网络 CDN</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cc4e6dbf8740bc5b897c8845d54e9689/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">nvm下node安装；node环境变量配置</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程鬼谷子的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>